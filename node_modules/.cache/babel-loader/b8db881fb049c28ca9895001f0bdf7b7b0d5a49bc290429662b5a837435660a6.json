{"ast":null,"code":"import React,{useState,useEffect}from'react';import{vehicleService}from'../../services/vehicleService';import{Box,Button,Typography,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Chip,IconButton,Dialog,DialogTitle,DialogContent,DialogActions,TextField,Grid,Alert,CircularProgress,List,ListItem,ListItemText,ListItemIcon,Stack}from'@mui/material';import{Add as AddIcon,Edit as EditIcon,Delete as DeleteIcon,Description as DescriptionIcon,Warning as WarningIcon,CheckCircle as CheckCircleIcon,Error as ErrorIcon,Visibility as VisibilityIcon,Download as DownloadIcon,PictureAsPdf as PdfIcon,Image as ImageIcon,Description as DocIcon}from'@mui/icons-material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VehicleDocuments=_ref=>{let{vehicle}=_ref;const[documents,setDocuments]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[showDialog,setShowDialog]=useState(false);const[selectedDocument,setSelectedDocument]=useState(null);const[formData,setFormData]=useState({title:'',type:'insurance',issueDate:new Date().toISOString().split('T')[0],expiryDate:'',notes:''});const[showPreview,setShowPreview]=useState(false);const[previewUrl,setPreviewUrl]=useState(null);useEffect(()=>{loadDocuments();},[vehicle.id]);const loadDocuments=async()=>{try{setLoading(true);setError(null);const docs=await vehicleService.getDocuments(vehicle.id);setDocuments(docs);}catch(err){setError(err.message||'Erreur lors du chargement des documents');console.error('Erreur:',err);}finally{setLoading(false);}};const handleOpenDialog=document=>{if(document){setSelectedDocument(document);setFormData(document);}else{setSelectedDocument(null);setFormData({title:'',type:'insurance',issueDate:new Date().toISOString().split('T')[0],expiryDate:'',notes:''});}setShowDialog(true);};const handleCloseDialog=()=>{setShowDialog(false);setSelectedDocument(null);setFormData({title:'',type:'insurance',issueDate:new Date().toISOString().split('T')[0],expiryDate:'',notes:''});};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleFileChange=async e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){try{const uploadedDoc=await vehicleService.uploadDocument(vehicle.id,file);setFormData(prev=>({...prev,fileUrl:uploadedDoc.fileUrl,fileName:file.name,fileType:file.type}));}catch(err){setError(err.message||'Erreur lors du téléchargement du fichier');console.error('Erreur:',err);}}};const handleSubmit=async()=>{try{if(selectedDocument){await vehicleService.updateDocument(vehicle.id,selectedDocument.id,formData);}else{await vehicleService.addDocumentToVehicle(vehicle.id,formData);}handleCloseDialog();loadDocuments();}catch(err){setError(err.message||'Erreur lors de la sauvegarde du document');console.error('Erreur:',err);}};const handleDelete=async documentId=>{if(window.confirm('Êtes-vous sûr de vouloir supprimer ce document ?')){try{await vehicleService.deleteDocument(vehicle.id,documentId);loadDocuments();}catch(err){setError(err.message||'Erreur lors de la suppression du document');console.error('Erreur:',err);}}};const handlePreview=document=>{setPreviewUrl(document.fileUrl);setShowPreview(true);};const getDocumentTypeIcon=type=>{switch(type){case'insurance':return/*#__PURE__*/_jsx(DescriptionIcon,{});case'registration':return/*#__PURE__*/_jsx(DescriptionIcon,{});case'inspection':return/*#__PURE__*/_jsx(DescriptionIcon,{});case'maintenance':return/*#__PURE__*/_jsx(DescriptionIcon,{});case'other':return/*#__PURE__*/_jsx(DescriptionIcon,{});default:return/*#__PURE__*/_jsx(DescriptionIcon,{});}};const getDocumentTypeLabel=type=>{switch(type){case'insurance':return'Assurance';case'registration':return'Carte grise';case'inspection':return'Contrôle technique';case'maintenance':return'Maintenance';case'other':return'Autre';default:return type;}};const getExpiryStatus=expiryDate=>{if(!expiryDate)return null;const dueDate=new Date(expiryDate);const today=new Date();const daysUntilExpiry=Math.ceil((dueDate.getTime()-today.getTime())/(1000*60*60*24));if(daysUntilExpiry<0){return{color:'error',label:'Expiré'};}else if(daysUntilExpiry<=30){return{color:'warning',label:'Expire bientôt'};}else{return{color:'success',label:'Valide'};}};const getFileIcon=fileType=>{if(fileType.includes('pdf')){return/*#__PURE__*/_jsx(PdfIcon,{});}else if(fileType.includes('image')){return/*#__PURE__*/_jsx(ImageIcon,{});}else{return/*#__PURE__*/_jsx(DocIcon,{});}};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Documents du v\\xE9hicule\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),onClick:()=>handleOpenDialog(),children:\"Nouveau document\"})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),loading&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',my:2},children:/*#__PURE__*/_jsx(CircularProgress,{})}),documents.length===0?/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Aucun document pour ce v\\xE9hicule. Utilisez le bouton \\\"Nouveau document\\\" pour ajouter un document.\"}):/*#__PURE__*/_jsx(TableContainer,{component:Paper,variant:\"outlined\",children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Document\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Type\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Date d'\\xE9mission\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Date d'expiration\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Statut\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:documents.map(document=>{var _getExpiryStatus,_getExpiryStatus2;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,alignItems:\"center\",children:[getFileIcon(document.fileType),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:document.title})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,alignItems:\"center\",children:[getDocumentTypeIcon(document.type),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:getDocumentTypeLabel(document.type)})]})}),/*#__PURE__*/_jsx(TableCell,{children:new Date(document.issueDate).toLocaleDateString()}),/*#__PURE__*/_jsx(TableCell,{children:document.expiryDate?new Date(document.expiryDate).toLocaleDateString():'-'}),/*#__PURE__*/_jsx(TableCell,{children:document.expiryDate&&/*#__PURE__*/_jsx(Chip,{label:(_getExpiryStatus=getExpiryStatus(document.expiryDate))===null||_getExpiryStatus===void 0?void 0:_getExpiryStatus.label,color:(_getExpiryStatus2=getExpiryStatus(document.expiryDate))===null||_getExpiryStatus2===void 0?void 0:_getExpiryStatus2.color,size:\"small\"})}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handlePreview(document),title:\"Aper\\xE7u\",children:/*#__PURE__*/_jsx(VisibilityIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",href:document.fileUrl,target:\"_blank\",download:true,title:\"T\\xE9l\\xE9charger\",children:/*#__PURE__*/_jsx(DownloadIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleOpenDialog(document),title:\"\\xC9diter\",children:/*#__PURE__*/_jsx(EditIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleDelete(document.id),title:\"Supprimer\",color:\"error\",children:/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"})})]})]},document.id);})})]})}),/*#__PURE__*/_jsxs(Dialog,{open:showDialog,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:selectedDocument?'Modifier le document':'Nouveau document'}),/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Titre\",name:\"title\",value:formData.title,onChange:handleInputChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(TextField,{fullWidth:true,label:\"Type\",name:\"type\",value:formData.type,onChange:handleInputChange,select:true,SelectProps:{native:true},children:[/*#__PURE__*/_jsx(\"option\",{value:\"insurance\",children:\"Assurance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"registration\",children:\"Carte grise\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inspection\",children:\"Contr\\xF4le technique\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maintenance\",children:\"Maintenance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Autre\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Date d'\\xE9mission\",type:\"date\",name:\"issueDate\",value:formData.issueDate,onChange:handleInputChange,InputLabelProps:{shrink:true}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Date d'expiration\",type:\"date\",name:\"expiryDate\",value:formData.expiryDate,onChange:handleInputChange,InputLabelProps:{shrink:true}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Notes\",name:\"notes\",value:formData.notes,onChange:handleInputChange,multiline:true,rows:3})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",component:\"label\",fullWidth:true,startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:[\"T\\xE9l\\xE9charger un fichier\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",hidden:true,onChange:handleFileChange,accept:\".pdf,.jpg,.jpeg,.png,.doc,.docx\"})]}),formData.fileName&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:1},children:[\"Fichier s\\xE9lectionn\\xE9: \",formData.fileName]})]})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,children:\"Annuler\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,variant:\"contained\",children:selectedDocument?'Modifier':'Ajouter'})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:showPreview,onClose:()=>setShowPreview(false),maxWidth:\"xl\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Pr\\xE9visualisation du document\"}),/*#__PURE__*/_jsx(DialogContent,{children:previewUrl&&/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',height:'70vh'},children:previewUrl.includes('.pdf')?/*#__PURE__*/_jsx(\"iframe\",{src:previewUrl,style:{width:'100%',height:'100%',border:'none'},title:\"Document preview\"}):/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"Document preview\",style:{maxWidth:'100%',maxHeight:'100%',objectFit:'contain'}})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowPreview(false),children:\"Fermer\"}),previewUrl&&/*#__PURE__*/_jsx(Button,{href:previewUrl,target:\"_blank\",download:true,variant:\"contained\",startIcon:/*#__PURE__*/_jsx(DownloadIcon,{}),children:\"T\\xE9l\\xE9charger\"})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"R\\xE9sum\\xE9 des documents\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Documents expir\\xE9s\"}),/*#__PURE__*/_jsxs(List,{dense:true,children:[documents.filter(doc=>{var _getExpiryStatus3;return doc.expiryDate&&((_getExpiryStatus3=getExpiryStatus(doc.expiryDate))===null||_getExpiryStatus3===void 0?void 0:_getExpiryStatus3.color)==='error';}).map(doc=>/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ErrorIcon,{color:\"error\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:doc.title,secondary:`Expiré le ${new Date(doc.expiryDate).toLocaleDateString()}`})]},doc.id)),documents.filter(doc=>{var _getExpiryStatus4;return doc.expiryDate&&((_getExpiryStatus4=getExpiryStatus(doc.expiryDate))===null||_getExpiryStatus4===void 0?void 0:_getExpiryStatus4.color)==='error';}).length===0&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Aucun document expir\\xE9\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Documents \\xE0 renouveler\"}),/*#__PURE__*/_jsxs(List,{dense:true,children:[documents.filter(doc=>{var _getExpiryStatus5;return doc.expiryDate&&((_getExpiryStatus5=getExpiryStatus(doc.expiryDate))===null||_getExpiryStatus5===void 0?void 0:_getExpiryStatus5.color)==='warning';}).map(doc=>/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(WarningIcon,{color:\"warning\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:doc.title,secondary:`Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`})]},doc.id)),documents.filter(doc=>{var _getExpiryStatus6;return doc.expiryDate&&((_getExpiryStatus6=getExpiryStatus(doc.expiryDate))===null||_getExpiryStatus6===void 0?void 0:_getExpiryStatus6.color)==='warning';}).length===0&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Aucun document \\xE0 renouveler\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{variant:\"outlined\",sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Documents valides\"}),/*#__PURE__*/_jsxs(List,{dense:true,children:[documents.filter(doc=>{var _getExpiryStatus7;return doc.expiryDate&&((_getExpiryStatus7=getExpiryStatus(doc.expiryDate))===null||_getExpiryStatus7===void 0?void 0:_getExpiryStatus7.color)==='success';}).map(doc=>/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(CheckCircleIcon,{color:\"success\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:doc.title,secondary:`Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`})]},doc.id)),documents.filter(doc=>{var _getExpiryStatus8;return doc.expiryDate&&((_getExpiryStatus8=getExpiryStatus(doc.expiryDate))===null||_getExpiryStatus8===void 0?void 0:_getExpiryStatus8.color)==='success';}).length===0&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Aucun document valide\"})]})]})})]})]})]});};export default VehicleDocuments;","map":{"version":3,"names":["React","useState","useEffect","vehicleService","Box","Button","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Grid","Alert","CircularProgress","List","ListItem","ListItemText","ListItemIcon","Stack","Add","AddIcon","Edit","EditIcon","Delete","DeleteIcon","Description","DescriptionIcon","Warning","WarningIcon","CheckCircle","CheckCircleIcon","Error","ErrorIcon","Visibility","VisibilityIcon","Download","DownloadIcon","PictureAsPdf","PdfIcon","Image","ImageIcon","DocIcon","jsx","_jsx","jsxs","_jsxs","VehicleDocuments","_ref","vehicle","documents","setDocuments","loading","setLoading","error","setError","showDialog","setShowDialog","selectedDocument","setSelectedDocument","formData","setFormData","title","type","issueDate","Date","toISOString","split","expiryDate","notes","showPreview","setShowPreview","previewUrl","setPreviewUrl","loadDocuments","id","docs","getDocuments","err","message","console","handleOpenDialog","document","handleCloseDialog","handleInputChange","e","name","value","target","prev","handleFileChange","_e$target$files","file","files","uploadedDoc","uploadDocument","fileUrl","fileName","fileType","handleSubmit","updateDocument","addDocumentToVehicle","handleDelete","documentId","window","confirm","deleteDocument","handlePreview","getDocumentTypeIcon","getDocumentTypeLabel","getExpiryStatus","dueDate","today","daysUntilExpiry","Math","ceil","getTime","color","label","getFileIcon","includes","children","sx","display","justifyContent","alignItems","mb","variant","startIcon","onClick","severity","my","length","component","align","map","_getExpiryStatus","_getExpiryStatus2","direction","spacing","toLocaleDateString","size","fontSize","href","download","open","onClose","maxWidth","fullWidth","dividers","container","item","xs","onChange","sm","select","SelectProps","native","InputLabelProps","shrink","multiline","rows","hidden","accept","mt","height","src","style","width","border","alt","maxHeight","objectFit","gutterBottom","md","p","dense","filter","doc","_getExpiryStatus3","primary","secondary","_getExpiryStatus4","_getExpiryStatus5","_getExpiryStatus6","_getExpiryStatus7","_getExpiryStatus8"],"sources":["C:/Users/LS_110/Documents/GitHub/inovie-SCAN-web-main/src/components/vehicles/VehicleDocuments.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Vehicle, VehicleDocument } from '../../types/Vehicle';\r\nimport { vehicleService } from '../../services/vehicleService';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Chip,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Grid,\r\n  Alert,\r\n  CircularProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Stack,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Description as DescriptionIcon,\r\n  Warning as WarningIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Error as ErrorIcon,\r\n  Visibility as VisibilityIcon,\r\n  Download as DownloadIcon,\r\n  PictureAsPdf as PdfIcon,\r\n  Image as ImageIcon,\r\n  Description as DocIcon,\r\n} from '@mui/icons-material';\r\n\r\ninterface VehicleDocumentsProps {\r\n  vehicle: Vehicle;\r\n}\r\n\r\nconst VehicleDocuments: React.FC<VehicleDocumentsProps> = ({ vehicle }) => {\r\n  const [documents, setDocuments] = useState<VehicleDocument[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [selectedDocument, setSelectedDocument] = useState<VehicleDocument | null>(null);\r\n  const [formData, setFormData] = useState<Partial<VehicleDocument>>({\r\n    title: '',\r\n    type: 'insurance',\r\n    issueDate: new Date().toISOString().split('T')[0],\r\n    expiryDate: '',\r\n    notes: '',\r\n  });\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\r\n  \r\n  useEffect(() => {\r\n    loadDocuments();\r\n  }, [vehicle.id]);\r\n  \r\n  const loadDocuments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const docs = await vehicleService.getDocuments(vehicle.id);\r\n      setDocuments(docs);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Erreur lors du chargement des documents');\r\n      console.error('Erreur:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const handleOpenDialog = (document?: VehicleDocument) => {\r\n    if (document) {\r\n      setSelectedDocument(document);\r\n      setFormData(document);\r\n    } else {\r\n      setSelectedDocument(null);\r\n      setFormData({\r\n        title: '',\r\n        type: 'insurance',\r\n        issueDate: new Date().toISOString().split('T')[0],\r\n        expiryDate: '',\r\n        notes: '',\r\n      });\r\n    }\r\n    setShowDialog(true);\r\n  };\r\n  \r\n  const handleCloseDialog = () => {\r\n    setShowDialog(false);\r\n    setSelectedDocument(null);\r\n    setFormData({\r\n      title: '',\r\n      type: 'insurance',\r\n      issueDate: new Date().toISOString().split('T')[0],\r\n      expiryDate: '',\r\n      notes: '',\r\n    });\r\n  };\r\n  \r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      try {\r\n        const uploadedDoc = await vehicleService.uploadDocument(vehicle.id, file);\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          fileUrl: uploadedDoc.fileUrl,\r\n          fileName: file.name,\r\n          fileType: file.type,\r\n        }));\r\n      } catch (err: any) {\r\n        setError(err.message || 'Erreur lors du téléchargement du fichier');\r\n        console.error('Erreur:', err);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (selectedDocument) {\r\n        await vehicleService.updateDocument(vehicle.id, selectedDocument.id, formData as VehicleDocument);\r\n      } else {\r\n        await vehicleService.addDocumentToVehicle(vehicle.id, formData as VehicleDocument);\r\n      }\r\n      handleCloseDialog();\r\n      loadDocuments();\r\n    } catch (err: any) {\r\n      setError(err.message || 'Erreur lors de la sauvegarde du document');\r\n      console.error('Erreur:', err);\r\n    }\r\n  };\r\n  \r\n  const handleDelete = async (documentId: string) => {\r\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer ce document ?')) {\r\n      try {\r\n        await vehicleService.deleteDocument(vehicle.id, documentId);\r\n        loadDocuments();\r\n      } catch (err: any) {\r\n        setError(err.message || 'Erreur lors de la suppression du document');\r\n        console.error('Erreur:', err);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handlePreview = (document: VehicleDocument) => {\r\n    setPreviewUrl(document.fileUrl);\r\n    setShowPreview(true);\r\n  };\r\n  \r\n  const getDocumentTypeIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'insurance':\r\n        return <DescriptionIcon />;\r\n      case 'registration':\r\n        return <DescriptionIcon />;\r\n      case 'inspection':\r\n        return <DescriptionIcon />;\r\n      case 'maintenance':\r\n        return <DescriptionIcon />;\r\n      case 'other':\r\n        return <DescriptionIcon />;\r\n      default:\r\n        return <DescriptionIcon />;\r\n    }\r\n  };\r\n  \r\n  const getDocumentTypeLabel = (type: string) => {\r\n    switch (type) {\r\n      case 'insurance':\r\n        return 'Assurance';\r\n      case 'registration':\r\n        return 'Carte grise';\r\n      case 'inspection':\r\n        return 'Contrôle technique';\r\n      case 'maintenance':\r\n        return 'Maintenance';\r\n      case 'other':\r\n        return 'Autre';\r\n      default:\r\n        return type;\r\n    }\r\n  };\r\n  \r\n  const getExpiryStatus = (expiryDate: string) => {\r\n    if (!expiryDate) return null;\r\n    \r\n    const dueDate = new Date(expiryDate);\r\n    const today = new Date();\r\n    const daysUntilExpiry = Math.ceil((dueDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\r\n    \r\n    if (daysUntilExpiry < 0) {\r\n      return { color: 'error', label: 'Expiré' };\r\n    } else if (daysUntilExpiry <= 30) {\r\n      return { color: 'warning', label: 'Expire bientôt' };\r\n    } else {\r\n      return { color: 'success', label: 'Valide' };\r\n    }\r\n  };\r\n  \r\n  const getFileIcon = (fileType: string) => {\r\n    if (fileType.includes('pdf')) {\r\n      return <PdfIcon />;\r\n    } else if (fileType.includes('image')) {\r\n      return <ImageIcon />;\r\n    } else {\r\n      return <DocIcon />;\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Box>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n        <Typography variant=\"h6\">Documents du véhicule</Typography>\r\n        <Button \r\n          variant=\"contained\" \r\n          startIcon={<AddIcon />}\r\n          onClick={() => handleOpenDialog()}\r\n        >\r\n          Nouveau document\r\n        </Button>\r\n      </Box>\r\n      \r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n      \r\n      {loading && (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', my: 2 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      )}\r\n      \r\n      {documents.length === 0 ? (\r\n        <Alert severity=\"info\">\r\n          Aucun document pour ce véhicule. Utilisez le bouton \"Nouveau document\" pour ajouter un document.\r\n        </Alert>\r\n      ) : (\r\n        <TableContainer component={Paper} variant=\"outlined\">\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Document</TableCell>\r\n                <TableCell>Type</TableCell>\r\n                <TableCell>Date d'émission</TableCell>\r\n                <TableCell>Date d'expiration</TableCell>\r\n                <TableCell>Statut</TableCell>\r\n                <TableCell align=\"right\">Actions</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {documents.map((document) => (\r\n                <TableRow key={document.id}>\r\n                  <TableCell>\r\n                    <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n                      {getFileIcon(document.fileType)}\r\n                      <Typography variant=\"body2\">\r\n                        {document.title}\r\n                      </Typography>\r\n                    </Stack>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n                      {getDocumentTypeIcon(document.type)}\r\n                      <Typography variant=\"body2\">\r\n                        {getDocumentTypeLabel(document.type)}\r\n                      </Typography>\r\n                    </Stack>\r\n                  </TableCell>\r\n                  <TableCell>{new Date(document.issueDate).toLocaleDateString()}</TableCell>\r\n                  <TableCell>\r\n                    {document.expiryDate ? new Date(document.expiryDate).toLocaleDateString() : '-'}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {document.expiryDate && (\r\n                      <Chip \r\n                        label={getExpiryStatus(document.expiryDate)?.label}\r\n                        color={getExpiryStatus(document.expiryDate)?.color as any}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      onClick={() => handlePreview(document)}\r\n                      title=\"Aperçu\"\r\n                    >\r\n                      <VisibilityIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      href={document.fileUrl}\r\n                      target=\"_blank\"\r\n                      download\r\n                      title=\"Télécharger\"\r\n                    >\r\n                      <DownloadIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      onClick={() => handleOpenDialog(document)}\r\n                      title=\"Éditer\"\r\n                    >\r\n                      <EditIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      onClick={() => handleDelete(document.id)}\r\n                      title=\"Supprimer\"\r\n                      color=\"error\"\r\n                    >\r\n                      <DeleteIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      )}\r\n      \r\n      {/* Dialog d'ajout/modification */}\r\n      <Dialog \r\n        open={showDialog} \r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          {selectedDocument ? 'Modifier le document' : 'Nouveau document'}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Titre\"\r\n                name=\"title\"\r\n                value={formData.title}\r\n                onChange={handleInputChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Type\"\r\n                name=\"type\"\r\n                value={formData.type}\r\n                onChange={handleInputChange}\r\n                select\r\n                SelectProps={{ native: true }}\r\n              >\r\n                <option value=\"insurance\">Assurance</option>\r\n                <option value=\"registration\">Carte grise</option>\r\n                <option value=\"inspection\">Contrôle technique</option>\r\n                <option value=\"maintenance\">Maintenance</option>\r\n                <option value=\"other\">Autre</option>\r\n              </TextField>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Date d'émission\"\r\n                type=\"date\"\r\n                name=\"issueDate\"\r\n                value={formData.issueDate}\r\n                onChange={handleInputChange}\r\n                InputLabelProps={{ shrink: true }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Date d'expiration\"\r\n                type=\"date\"\r\n                name=\"expiryDate\"\r\n                value={formData.expiryDate}\r\n                onChange={handleInputChange}\r\n                InputLabelProps={{ shrink: true }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Notes\"\r\n                name=\"notes\"\r\n                value={formData.notes}\r\n                onChange={handleInputChange}\r\n                multiline\r\n                rows={3}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                variant=\"outlined\"\r\n                component=\"label\"\r\n                fullWidth\r\n                startIcon={<AddIcon />}\r\n              >\r\n                Télécharger un fichier\r\n                <input\r\n                  type=\"file\"\r\n                  hidden\r\n                  onChange={handleFileChange}\r\n                  accept=\".pdf,.jpg,.jpeg,.png,.doc,.docx\"\r\n                />\r\n              </Button>\r\n              {formData.fileName && (\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                  Fichier sélectionné: {formData.fileName}\r\n                </Typography>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog}>Annuler</Button>\r\n          <Button onClick={handleSubmit} variant=\"contained\">\r\n            {selectedDocument ? 'Modifier' : 'Ajouter'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      \r\n      {/* Dialog de prévisualisation */}\r\n      <Dialog\r\n        open={showPreview}\r\n        onClose={() => setShowPreview(false)}\r\n        maxWidth=\"xl\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          Prévisualisation du document\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {previewUrl && (\r\n            <Box \r\n              sx={{ \r\n                display: 'flex', \r\n                justifyContent: 'center', \r\n                alignItems: 'center',\r\n                height: '70vh',\r\n              }}\r\n            >\r\n              {previewUrl.includes('.pdf') ? (\r\n                <iframe\r\n                  src={previewUrl}\r\n                  style={{ width: '100%', height: '100%', border: 'none' }}\r\n                  title=\"Document preview\"\r\n                />\r\n              ) : (\r\n                <img \r\n                  src={previewUrl} \r\n                  alt=\"Document preview\" \r\n                  style={{ maxWidth: '100%', maxHeight: '100%', objectFit: 'contain' }} \r\n                />\r\n              )}\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setShowPreview(false)}>\r\n            Fermer\r\n          </Button>\r\n          {previewUrl && (\r\n            <Button \r\n              href={previewUrl} \r\n              target=\"_blank\" \r\n              download \r\n              variant=\"contained\"\r\n              startIcon={<DownloadIcon />}\r\n            >\r\n              Télécharger\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      \r\n      {/* Résumé des documents */}\r\n      <Box sx={{ mt: 4 }}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Résumé des documents\r\n        </Typography>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={4}>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Documents expirés\r\n              </Typography>\r\n              <List dense>\r\n                {documents\r\n                  .filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'error')\r\n                  .map(doc => (\r\n                    <ListItem key={doc.id}>\r\n                      <ListItemIcon>\r\n                        <ErrorIcon color=\"error\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={doc.title}\r\n                        secondary={`Expiré le ${new Date(doc.expiryDate).toLocaleDateString()}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                \r\n                {documents.filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'error').length === 0 && (\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Aucun document expiré\r\n                  </Typography>\r\n                )}\r\n              </List>\r\n            </Paper>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={4}>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Documents à renouveler\r\n              </Typography>\r\n              <List dense>\r\n                {documents\r\n                  .filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'warning')\r\n                  .map(doc => (\r\n                    <ListItem key={doc.id}>\r\n                      <ListItemIcon>\r\n                        <WarningIcon color=\"warning\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={doc.title}\r\n                        secondary={`Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                \r\n                {documents.filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'warning').length === 0 && (\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Aucun document à renouveler\r\n                  </Typography>\r\n                )}\r\n              </List>\r\n            </Paper>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={4}>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Documents valides\r\n              </Typography>\r\n              <List dense>\r\n                {documents\r\n                  .filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'success')\r\n                  .map(doc => (\r\n                    <ListItem key={doc.id}>\r\n                      <ListItemIcon>\r\n                        <CheckCircleIcon color=\"success\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={doc.title}\r\n                        secondary={`Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                \r\n                {documents.filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'success').length === 0 && (\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Aucun document valide\r\n                  </Typography>\r\n                )}\r\n              </List>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VehicleDocuments; \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}