{"ast":null,"code":"import React,{useState}from'react';import{initializePassagesCollection}from'../scripts/initPassagesFirebase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InitPassages=()=>{const[loading,setLoading]=useState(false);const[result,setResult]=useState(null);const[forceInit,setForceInit]=useState(true);const handleInitialize=async()=>{setLoading(true);setResult(null);try{const success=await initializePassagesCollection(forceInit);if(success){setResult({success:true,message:'La collection passages a été initialisée avec succès !'});}else{setResult({success:false,message:'La collection passages contient déjà des données et l\\'option \"Forcer l\\'initialisation\" est désactivée.'});}}catch(error){console.error('Erreur lors de l\\'initialisation:',error);setResult({success:false,message:`Erreur lors de l'initialisation: ${error instanceof Error?error.message:'Erreur inconnue'}`});}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'800px',margin:'20px auto',padding:'20px',backgroundColor:'#f5f5f5',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',marginBottom:'20px'},children:\"Initialisation de la Collection Passages\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:'20px'},children:\"Cliquez sur le bouton ci-dessous pour initialiser la collection \\\"passages\\\" dans Firebase avec des donn\\xE9es fictives.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:forceInit,onChange:e=>setForceInit(e.target.checked),style:{marginRight:'10px'}}),\"Forcer l'initialisation (supprime les donn\\xE9es existantes)\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'#666',marginTop:'5px',marginLeft:'25px'},children:\"Si cette option est activ\\xE9e, les donn\\xE9es existantes seront supprim\\xE9es avant d'ajouter les nouvelles.\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'20px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleInitialize,disabled:loading,style:{padding:'10px 20px',backgroundColor:'#4CAF50',color:'white',border:'none',borderRadius:'4px',cursor:loading?'not-allowed':'pointer',fontSize:'16px'},children:loading?'Initialisation en cours...':'Initialiser la Collection Passages'})}),result&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'15px',backgroundColor:result.success?'#dff0d8':'#f2dede',color:result.success?'#3c763d':'#a94442',borderRadius:'4px',marginTop:'20px'},children:result.message})]});};export default InitPassages;","map":{"version":3,"names":["React","useState","initializePassagesCollection","jsx","_jsx","jsxs","_jsxs","InitPassages","loading","setLoading","result","setResult","forceInit","setForceInit","handleInitialize","success","message","error","console","Error","style","maxWidth","margin","padding","backgroundColor","borderRadius","children","textAlign","marginBottom","display","alignItems","cursor","type","checked","onChange","e","target","marginRight","fontSize","color","marginTop","marginLeft","justifyContent","onClick","disabled","border"],"sources":["C:/Users/LS_110/Documents/GitHub/inovie-SCAN-web-main/src/components/InitPassages.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { initializePassagesCollection } from '../scripts/initPassagesFirebase';\n\nconst InitPassages: React.FC = () => {\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState<{ success: boolean; message: string } | null>(null);\n  const [forceInit, setForceInit] = useState(true);\n\n  const handleInitialize = async () => {\n    setLoading(true);\n    setResult(null);\n    \n    try {\n      const success = await initializePassagesCollection(forceInit);\n      \n      if (success) {\n        setResult({\n          success: true,\n          message: 'La collection passages a été initialisée avec succès !'\n        });\n      } else {\n        setResult({\n          success: false,\n          message: 'La collection passages contient déjà des données et l\\'option \"Forcer l\\'initialisation\" est désactivée.'\n        });\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'initialisation:', error);\n      setResult({\n        success: false,\n        message: `Erreur lors de l'initialisation: ${error instanceof Error ? error.message : 'Erreur inconnue'}`\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: '800px', margin: '20px auto', padding: '20px', backgroundColor: '#f5f5f5', borderRadius: '8px' }}>\n      <h2 style={{ textAlign: 'center', marginBottom: '20px' }}>Initialisation de la Collection Passages</h2>\n      \n      <p style={{ marginBottom: '20px' }}>\n        Cliquez sur le bouton ci-dessous pour initialiser la collection \"passages\" dans Firebase avec des données fictives.\n      </p>\n      \n      <div style={{ marginBottom: '20px' }}>\n        <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>\n          <input\n            type=\"checkbox\"\n            checked={forceInit}\n            onChange={(e) => setForceInit(e.target.checked)}\n            style={{ marginRight: '10px' }}\n          />\n          Forcer l'initialisation (supprime les données existantes)\n        </label>\n        <p style={{ fontSize: '14px', color: '#666', marginTop: '5px', marginLeft: '25px' }}>\n          Si cette option est activée, les données existantes seront supprimées avant d'ajouter les nouvelles.\n        </p>\n      </div>\n      \n      <div style={{ display: 'flex', justifyContent: 'center', marginBottom: '20px' }}>\n        <button\n          onClick={handleInitialize}\n          disabled={loading}\n          style={{\n            padding: '10px 20px',\n            backgroundColor: '#4CAF50',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: loading ? 'not-allowed' : 'pointer',\n            fontSize: '16px'\n          }}\n        >\n          {loading ? 'Initialisation en cours...' : 'Initialiser la Collection Passages'}\n        </button>\n      </div>\n      \n      {result && (\n        <div\n          style={{\n            padding: '15px',\n            backgroundColor: result.success ? '#dff0d8' : '#f2dede',\n            color: result.success ? '#3c763d' : '#a94442',\n            borderRadius: '4px',\n            marginTop: '20px'\n          }}\n        >\n          {result.message}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InitPassages;\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}