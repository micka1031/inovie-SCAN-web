{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{doc,getDoc}from'firebase/firestore';import{db}from'../config/firebase';import'./TourneeDetails.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TourneeDetails=()=>{const{id}=useParams();const navigate=useNavigate();const[tournee,setTournee]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchTournee=async()=>{if(!id)return;try{const tourneeDoc=await getDoc(doc(db,'tournees',id));if(tourneeDoc.exists()){var _data$dateCreation,_data$dateModificatio;const data=tourneeDoc.data();setTournee({id:tourneeDoc.id,nom:data.nom||'',description:data.description||'',vehicule:data.vehicule||'',chauffeur:data.chauffeur||'',statut:data.statut||'inconnu',dateCreation:((_data$dateCreation=data.dateCreation)===null||_data$dateCreation===void 0?void 0:_data$dateCreation.toDate())||new Date(),dateModification:((_data$dateModificatio=data.dateModification)===null||_data$dateModificatio===void 0?void 0:_data$dateModificatio.toDate())||new Date()});}else{setError('Tournée non trouvée');}}catch(err){console.error('Erreur lors de la récupération de la tournée:',err);setError('Une erreur est survenue lors de la récupération de la tournée');}finally{setLoading(false);}};fetchTournee();},[id]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/tournees'),className:\"back-button\",children:\"Retour aux tourn\\xE9es\"})]});}if(!tournee){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"tournee-details-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tournee-details-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"D\\xE9tails de la Tourn\\xE9e\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/tournees'),className:\"back-button\",children:\"Retour aux tourn\\xE9es\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tournee-details-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"p\",{children:tournee.nom})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:tournee.description||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"V\\xE9hicule\"}),/*#__PURE__*/_jsx(\"p\",{children:tournee.vehicule||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Chauffeur\"}),/*#__PURE__*/_jsx(\"p\",{children:tournee.chauffeur||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Statut\"}),/*#__PURE__*/_jsx(\"span\",{className:`status-badge ${tournee.statut.toLowerCase()}`,children:tournee.statut})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date de cr\\xE9ation\"}),/*#__PURE__*/_jsx(\"p\",{children:tournee.dateCreation.toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Derni\\xE8re modification\"}),/*#__PURE__*/_jsx(\"p\",{children:tournee.dateModification.toLocaleDateString()})]})]})]});};export default TourneeDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","doc","getDoc","db","jsx","_jsx","jsxs","_jsxs","TourneeDetails","id","navigate","tournee","setTournee","loading","setLoading","error","setError","fetchTournee","tourneeDoc","exists","_data$dateCreation","_data$dateModificatio","data","nom","description","vehicule","chauffeur","statut","dateCreation","toDate","Date","dateModification","err","console","className","children","onClick","toLowerCase","toLocaleDateString"],"sources":["C:/Users/LS_110/Documents/GitHub/inovie-SCAN-web-main/src/components/TourneeDetails.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nimport './TourneeDetails.css';\n\ninterface Tournee {\n  id: string;\n  nom: string;\n  description: string;\n  vehicule: string;\n  chauffeur: string;\n  statut: string;\n  dateCreation: Date;\n  dateModification: Date;\n}\n\nconst TourneeDetails: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [tournee, setTournee] = useState<Tournee | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchTournee = async () => {\n      if (!id) return;\n\n      try {\n        const tourneeDoc = await getDoc(doc(db, 'tournees', id));\n        if (tourneeDoc.exists()) {\n          const data = tourneeDoc.data();\n          setTournee({\n            id: tourneeDoc.id,\n            nom: data.nom || '',\n            description: data.description || '',\n            vehicule: data.vehicule || '',\n            chauffeur: data.chauffeur || '',\n            statut: data.statut || 'inconnu',\n            dateCreation: data.dateCreation?.toDate() || new Date(),\n            dateModification: data.dateModification?.toDate() || new Date()\n          });\n        } else {\n          setError('Tournée non trouvée');\n        }\n      } catch (err) {\n        console.error('Erreur lors de la récupération de la tournée:', err);\n        setError('Une erreur est survenue lors de la récupération de la tournée');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTournee();\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Chargement...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"error-container\">\n        <p className=\"error-message\">{error}</p>\n        <button onClick={() => navigate('/tournees')} className=\"back-button\">\n          Retour aux tournées\n        </button>\n      </div>\n    );\n  }\n\n  if (!tournee) {\n    return null;\n  }\n\n  return (\n    <div className=\"tournee-details-container\">\n      <div className=\"tournee-details-header\">\n        <h1>Détails de la Tournée</h1>\n        <button onClick={() => navigate('/tournees')} className=\"back-button\">\n          Retour aux tournées\n        </button>\n      </div>\n\n      <div className=\"tournee-details-content\">\n        <div className=\"detail-group\">\n          <label>Nom</label>\n          <p>{tournee.nom}</p>\n        </div>\n\n        <div className=\"detail-group\">\n          <label>Description</label>\n          <p>{tournee.description || '-'}</p>\n        </div>\n\n        <div className=\"detail-group\">\n          <label>Véhicule</label>\n          <p>{tournee.vehicule || '-'}</p>\n        </div>\n\n        <div className=\"detail-group\">\n          <label>Chauffeur</label>\n          <p>{tournee.chauffeur || '-'}</p>\n        </div>\n\n        <div className=\"detail-group\">\n          <label>Statut</label>\n          <span className={`status-badge ${tournee.statut.toLowerCase()}`}>\n            {tournee.statut}\n          </span>\n        </div>\n\n        <div className=\"detail-group\">\n          <label>Date de création</label>\n          <p>{tournee.dateCreation.toLocaleDateString()}</p>\n        </div>\n\n        <div className=\"detail-group\">\n          <label>Dernière modification</label>\n          <p>{tournee.dateModification.toLocaleDateString()}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TourneeDetails; \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}