{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LS_110\\\\Documents\\\\GitHub\\\\inovie-SCAN-web-main\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { createBrowserRouter, RouterProvider, Outlet, Navigate, useNavigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { SelasProvider } from './contexts/SelasContext';\nimport LoginScreen from './components/LoginScreen';\nimport Dashboard from './components/Dashboard';\nimport Passages from './components/Passages';\nimport Sites from './components/Sites';\nimport Tournees from './components/Tournees';\nimport Vehicules from './components/Vehicules';\nimport UserManagement from './components/UserManagement';\nimport InitPassages from './components/InitPassages';\nimport MapView from './components/MapView';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Navbar from './components/Navbar';\nimport AdminPanel from './components/AdminPanel';\nimport VehicleManagement from './pages/VehicleManagement';\nimport './App.css';\nimport { SnackbarProvider } from 'notistack';\nimport { RoleService, canAccessPage } from './services/RoleService';\nimport { PAGES } from './utils/pageAccessUtils';\nimport TourneeDetails from './components/TourneeDetails';\n\n// Composant principal de l'application\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const {\n    currentUser,\n    loading,\n    error,\n    logout\n  } = useAuth();\n  const [roles, setRoles] = useState([]);\n  const [rolesLoading, setRolesLoading] = useState(true);\n  const [rolesError, setRolesError] = useState(false);\n\n  // Fonction pour charger les rôles\n  const fetchRoles = useCallback(async () => {\n    setRolesLoading(true);\n    try {\n      const roleService = RoleService.getInstance();\n      const fetchedRoles = await roleService.getRoles();\n      console.log('App - Rôles chargés depuis Firestore:', fetchedRoles);\n\n      // Vérifier les accès pour le rôle de l'utilisateur courant si connecté\n      if (currentUser !== null && currentUser !== void 0 && currentUser.role) {\n        console.log('App - Utilisateur connecté avec le rôle:', currentUser.role);\n        console.log('App - Accès aux pages:');\n        Object.values(PAGES).forEach(page => {\n          const hasAccess = canAccessPage(currentUser.role, page);\n          console.log(`- ${page}: ${hasAccess ? 'OUI' : 'NON'}`);\n        });\n      }\n      setRoles(fetchedRoles);\n    } catch (error) {\n      console.error('Erreur lors du chargement des rôles:', error);\n      setRolesError(true);\n    } finally {\n      setRolesLoading(false);\n    }\n  }, [currentUser]);\n\n  // Charger les rôles dynamiquement\n  useEffect(() => {\n    fetchRoles();\n\n    // Écouter les changements de rôles\n    const roleService = RoleService.getInstance();\n    const handleRoleChange = () => {\n      console.log('App - Changement de rôles détecté, rechargement...');\n      fetchRoles();\n    };\n    roleService.addRoleChangeListener(handleRoleChange);\n    return () => {\n      roleService.removeRoleChangeListener(handleRoleChange);\n    };\n  }, [fetchRoles]);\n  if (loading || rolesLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      style: {\n        padding: '20px',\n        margin: '20px',\n        backgroundColor: '#ffebee',\n        border: '1px solid #f44336',\n        borderRadius: '4px',\n        color: '#d32f2f'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Erreur d'authentification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Veuillez rafra\\xEEchir la page ou contacter l'administrateur.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#d32f2f',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: \"Rafra\\xEEchir la page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n  const isAuthenticated = !!currentUser;\n  const userRole = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) || 'Utilisateur';\n  const router = createAppRouter(isAuthenticated, userRole, currentUser, logout, roles);\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(SelasProvider, {\n      children: /*#__PURE__*/_jsxDEV(SnackbarProvider, {\n        maxSnack: 3,\n        children: /*#__PURE__*/_jsxDEV(RouterProvider, {\n          router: router,\n          future: {\n            v7_startTransition: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n\n// Composant pour afficher un spinner de chargement\n_s(App, \"7XYHRJV8yFGIbxlXL8XG1qr5DCE=\", false, function () {\n  return [useAuth];\n});\n_c = App;\nconst LoadingSpinner = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Chargement de l'application...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n\n// Composant Layout pour les routes authentifiées\n_c2 = LoadingSpinner;\nconst AppLayout = ({\n  user,\n  logout\n}) => {\n  _s2();\n  const navigate = useNavigate();\n\n  // Si l'utilisateur n'est pas défini, rediriger vers la page de connexion\n  useEffect(() => {\n    if (!user) {\n      console.log(\"AppLayout: Utilisateur non défini, redirection...\");\n      navigate('/');\n    }\n  }, [user, navigate]);\n\n  // Si pas d'utilisateur, ne pas rendre le contenu\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      user: user,\n      onLogout: logout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n\n// Configuration du routeur avec les drapeaux pour React Router v7\n_s2(AppLayout, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c3 = AppLayout;\nconst createAppRouter = (isAuthenticated, userRole, currentUser, logout, roles) => {\n  // Routes pour les utilisateurs authentifiés\n  const authenticatedRoutes = [{\n    path: '/',\n    element: /*#__PURE__*/_jsxDEV(AppLayout, {\n      user: currentUser,\n      logout: logout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 16\n    }, this),\n    children: [{\n      path: '',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'default'],\n        requiredPermissions: ['dashboard.view'],\n        pageName: PAGES.DASHBOARD,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'passages',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'Coursier', 'default'],\n        requiredPermissions: ['passages.view'],\n        pageName: PAGES.PASSAGES,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(Passages, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'passages/:id',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'Coursier', 'default'],\n        requiredPermissions: ['passages.view'],\n        pageName: PAGES.PASSAGE_DETAILS,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(Passages, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'sites',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'default'],\n        requiredPermissions: ['sites.view'],\n        pageName: PAGES.SITES,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(Sites, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'tournees',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'default'],\n        requiredPermissions: ['tournees.view'],\n        pageName: PAGES.TOURNEES,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(Tournees, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'tournees/:id',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'Coursier', 'default'],\n        requiredPermissions: ['tournees.view'],\n        pageName: PAGES.TOURNEE_DETAILS,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(TourneeDetails, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'vehicules',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'default'],\n        requiredPermissions: ['vehicules.view'],\n        pageName: PAGES.VEHICULES,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(Vehicules, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'admin/users',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'Coursier', 'Manager', 'default'],\n        requiredPermissions: ['users.view'],\n        pageName: PAGES.USER_MANAGEMENT,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(UserManagement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'admin',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur'],\n        requiredPermissions: ['dashboard.view'],\n        pageName: PAGES.ADMINISTRATION,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(AdminPanel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'init-passages',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur'],\n        requiredPermissions: ['init-passages.view'],\n        pageName: PAGES.PASSAGES,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(InitPassages, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'map',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur'],\n        requiredPermissions: ['carte.view'],\n        pageName: PAGES.CARTE,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(MapView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'marker-preferences',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur'],\n        requiredPermissions: ['marqueurs.edit'],\n        pageName: PAGES.ADMINISTRATION,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/admin?tab=5\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: 'vehicles',\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        userRole: userRole,\n        allowedRoles: ['Administrateur', 'Utilisateur', 'default'],\n        requiredPermissions: ['vehicules.view'],\n        pageName: PAGES.VEHICULES,\n        roles: roles,\n        children: /*#__PURE__*/_jsxDEV(VehicleManagement, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 13\n      }, this)\n    }, {\n      path: '*',\n      element: userRole === 'Coursier' ? /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/passages\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 13\n      }, this)\n    }]\n  }];\n\n  // Routes pour les utilisateurs non authentifiés\n  const unauthenticatedRoutes = [{\n    path: '/',\n    element: /*#__PURE__*/_jsxDEV(LoginScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 16\n    }, this)\n  }, {\n    path: '/login',\n    element: /*#__PURE__*/_jsxDEV(LoginScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 16\n    }, this)\n  }, {\n    path: '/reset-password',\n    element: /*#__PURE__*/_jsxDEV(LoginScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 16\n    }, this)\n  }, {\n    path: '*',\n    element: /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 16\n    }, this)\n  }];\n  return createBrowserRouter(isAuthenticated ? authenticatedRoutes : unauthenticatedRoutes);\n};\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"LoadingSpinner\");\n$RefreshReg$(_c3, \"AppLayout\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","createBrowserRouter","RouterProvider","Outlet","Navigate","useNavigate","AuthProvider","useAuth","SelasProvider","LoginScreen","Dashboard","Passages","Sites","Tournees","Vehicules","UserManagement","InitPassages","MapView","ProtectedRoute","Navbar","AdminPanel","VehicleManagement","SnackbarProvider","RoleService","canAccessPage","PAGES","TourneeDetails","jsxDEV","_jsxDEV","App","_s","currentUser","loading","error","logout","roles","setRoles","rolesLoading","setRolesLoading","rolesError","setRolesError","fetchRoles","roleService","getInstance","fetchedRoles","getRoles","console","log","role","Object","values","forEach","page","hasAccess","handleRoleChange","addRoleChangeListener","removeRoleChangeListener","LoadingSpinner","fileName","_jsxFileName","lineNumber","columnNumber","className","style","padding","margin","backgroundColor","border","borderRadius","color","children","onClick","window","location","reload","cursor","isAuthenticated","userRole","router","createAppRouter","maxSnack","future","v7_startTransition","_c","_c2","AppLayout","user","_s2","navigate","onLogout","_c3","authenticatedRoutes","path","element","allowedRoles","requiredPermissions","pageName","DASHBOARD","PASSAGES","PASSAGE_DETAILS","SITES","TOURNEES","TOURNEE_DETAILS","VEHICULES","USER_MANAGEMENT","ADMINISTRATION","CARTE","to","replace","unauthenticatedRoutes","$RefreshReg$"],"sources":["C:/Users/LS_110/Documents/GitHub/inovie-SCAN-web-main/src/App.tsx"],"sourcesContent":["import React, { useEffect, Suspense, useState, useCallback } from 'react';\nimport { createBrowserRouter, RouterProvider, Outlet, Navigate, useNavigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { SelasProvider } from './contexts/SelasContext';\nimport LoginScreen from './components/LoginScreen';\nimport Dashboard from './components/Dashboard';\nimport Passages from './components/Passages';\nimport Sites from './components/Sites';\nimport Tournees from './components/Tournees';\nimport Vehicules from './components/Vehicules';\nimport UserManagement from './components/UserManagement';\nimport InitPassages from './components/InitPassages';\nimport MapView from './components/MapView';\nimport SharePointSync from './components/SharePointSync';\nimport MarkerPreferences from './components/MarkerPreferences';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport Navbar from './components/Navbar';\nimport AdminPanel from './components/AdminPanel';\nimport VehicleManagement from './pages/VehicleManagement';\nimport './App.css';\nimport { SnackbarProvider } from 'notistack';\nimport LoadingScreen from './components/LoadingScreen';\nimport { RoleService, canAccessPage } from './services/RoleService';\nimport { PAGES } from './utils/pageAccessUtils';\nimport { Role } from './types/roles';\nimport { ListAlt, LocalShipping, DirectionsCar, LocationOn, People } from '@mui/icons-material';\nimport TourneeDetails from './components/TourneeDetails';\n\n// Composant principal de l'application\nconst App: React.FC = () => {\n  const { currentUser, loading, error, logout } = useAuth();\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [rolesLoading, setRolesLoading] = useState(true);\n  const [rolesError, setRolesError] = useState(false);\n\n  // Fonction pour charger les rôles\n  const fetchRoles = useCallback(async () => {\n    setRolesLoading(true);\n    try {\n      const roleService = RoleService.getInstance();\n      const fetchedRoles = await roleService.getRoles();\n      console.log('App - Rôles chargés depuis Firestore:', fetchedRoles);\n      \n      // Vérifier les accès pour le rôle de l'utilisateur courant si connecté\n      if (currentUser?.role) {\n        console.log('App - Utilisateur connecté avec le rôle:', currentUser.role);\n        console.log('App - Accès aux pages:');\n        Object.values(PAGES).forEach(page => {\n          const hasAccess = canAccessPage(currentUser.role, page);\n          console.log(`- ${page}: ${hasAccess ? 'OUI' : 'NON'}`);\n        });\n      }\n      \n      setRoles(fetchedRoles);\n    } catch (error) {\n      console.error('Erreur lors du chargement des rôles:', error);\n      setRolesError(true);\n    } finally {\n      setRolesLoading(false);\n    }\n  }, [currentUser]);\n\n  // Charger les rôles dynamiquement\n  useEffect(() => {\n    fetchRoles();\n    \n    // Écouter les changements de rôles\n    const roleService = RoleService.getInstance();\n    const handleRoleChange = () => {\n      console.log('App - Changement de rôles détecté, rechargement...');\n      fetchRoles();\n    };\n    \n    roleService.addRoleChangeListener(handleRoleChange);\n    \n    return () => {\n      roleService.removeRoleChangeListener(handleRoleChange);\n    };\n  }, [fetchRoles]);\n\n  if (loading || rolesLoading) {\n    return <LoadingSpinner />;\n  }\n\n  if (error) {\n    return (\n      <div className=\"error-container\" style={{ \n        padding: '20px', \n        margin: '20px', \n        backgroundColor: '#ffebee', \n        border: '1px solid #f44336',\n        borderRadius: '4px',\n        color: '#d32f2f'\n      }}>\n        <h2>Erreur d'authentification</h2>\n        <p>{error}</p>\n        <p>Veuillez rafraîchir la page ou contacter l'administrateur.</p>\n        <button \n          onClick={() => window.location.reload()} \n          style={{\n            padding: '8px 16px',\n            backgroundColor: '#d32f2f',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          Rafraîchir la page\n        </button>\n      </div>\n    );\n  }\n\n  const isAuthenticated = !!currentUser;\n  const userRole = currentUser?.role || 'Utilisateur';\n\n  const router = createAppRouter(isAuthenticated, userRole, currentUser, logout, roles);\n\n  return (\n    <AuthProvider>\n      <SelasProvider>\n        <SnackbarProvider maxSnack={3}>\n          <RouterProvider \n            router={router} \n            future={{ v7_startTransition: true }}\n          />\n        </SnackbarProvider>\n      </SelasProvider>\n    </AuthProvider>\n  );\n};\n\n// Composant pour afficher un spinner de chargement\nconst LoadingSpinner = () => {\n  return (\n    <div className=\"loading-container\">\n      <div className=\"spinner\"></div>\n      <p>Chargement de l'application...</p>\n    </div>\n  );\n};\n\n// Composant Layout pour les routes authentifiées\nconst AppLayout: React.FC<{ user: any, logout: () => Promise<void> }> = ({ user, logout }) => {\n  const navigate = useNavigate();\n  \n  // Si l'utilisateur n'est pas défini, rediriger vers la page de connexion\n  useEffect(() => {\n    if (!user) {\n      console.log(\"AppLayout: Utilisateur non défini, redirection...\");\n      navigate('/');\n    }\n  }, [user, navigate]);\n  \n  // Si pas d'utilisateur, ne pas rendre le contenu\n  if (!user) {\n    return <LoadingSpinner />;\n  }\n  \n  return (\n    <div className=\"app\">\n      <Navbar user={user} onLogout={logout} />\n      <main>\n        <Outlet />\n      </main>\n    </div>\n  );\n};\n\n// Configuration du routeur avec les drapeaux pour React Router v7\nconst createAppRouter = (isAuthenticated: boolean, userRole: string, currentUser: any, logout: () => Promise<void>, roles: Role[]) => {\n  // Routes pour les utilisateurs authentifiés\n  const authenticatedRoutes = [\n    {\n      path: '/',\n      element: <AppLayout user={currentUser} logout={logout} />,\n      children: [\n        {\n          path: '',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'default']}\n              requiredPermissions={['dashboard.view']}\n              pageName={PAGES.DASHBOARD}\n              roles={roles}\n            >\n              <Dashboard />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'passages',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'Coursier', 'default']}\n              requiredPermissions={['passages.view']}\n              pageName={PAGES.PASSAGES}\n              roles={roles}\n            >\n              <Passages />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'passages/:id',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'Coursier', 'default']}\n              requiredPermissions={['passages.view']}\n              pageName={PAGES.PASSAGE_DETAILS}\n              roles={roles}\n            >\n              <Passages />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'sites',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'default']}\n              requiredPermissions={['sites.view']}\n              pageName={PAGES.SITES}\n              roles={roles}\n            >\n              <Sites />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'tournees',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'default']}\n              requiredPermissions={['tournees.view']}\n              pageName={PAGES.TOURNEES}\n              roles={roles}\n            >\n              <Tournees />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'tournees/:id',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'Coursier', 'default']}\n              requiredPermissions={['tournees.view']}\n              pageName={PAGES.TOURNEE_DETAILS}\n              roles={roles}\n            >\n              <TourneeDetails />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'vehicules',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'default']}\n              requiredPermissions={['vehicules.view']}\n              pageName={PAGES.VEHICULES}\n              roles={roles}\n            >\n              <Vehicules />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'admin/users',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'Coursier', 'Manager', 'default']}\n              requiredPermissions={['users.view']}\n              pageName={PAGES.USER_MANAGEMENT}\n              roles={roles}\n            >\n              <UserManagement />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'admin',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur']}\n              requiredPermissions={['dashboard.view']}\n              pageName={PAGES.ADMINISTRATION}\n              roles={roles}\n            >\n              <AdminPanel />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'init-passages',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur']}\n              requiredPermissions={['init-passages.view']}\n              pageName={PAGES.PASSAGES}\n              roles={roles}\n            >\n              <InitPassages />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'map',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur']}\n              requiredPermissions={['carte.view']}\n              pageName={PAGES.CARTE}\n              roles={roles}\n            >\n              <MapView />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'marker-preferences',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur']}\n              requiredPermissions={['marqueurs.edit']}\n              pageName={PAGES.ADMINISTRATION}\n              roles={roles}\n            >\n              <Navigate to=\"/admin?tab=5\" replace />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: 'vehicles',\n          element: (\n            <ProtectedRoute \n              userRole={userRole} \n              allowedRoles={['Administrateur', 'Utilisateur', 'default']}\n              requiredPermissions={['vehicules.view']}\n              pageName={PAGES.VEHICULES}\n              roles={roles}\n            >\n              <VehicleManagement />\n            </ProtectedRoute>\n          )\n        },\n        {\n          path: '*',\n          element: userRole === 'Coursier' ? \n            <Navigate to=\"/passages\" replace /> : \n            <Navigate to=\"/\" replace />\n        }\n      ]\n    }\n  ];\n\n  // Routes pour les utilisateurs non authentifiés\n  const unauthenticatedRoutes = [\n    {\n      path: '/',\n      element: <LoginScreen />\n    },\n    {\n      path: '/login',\n      element: <LoginScreen />\n    },\n    {\n      path: '/reset-password',\n      element: <LoginScreen />\n    },\n    {\n      path: '*',\n      element: <Navigate to=\"/\" replace />\n    }\n  ];\n\n  return createBrowserRouter(\n    isAuthenticated ? authenticatedRoutes : unauthenticatedRoutes\n  );\n};\n\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}