{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LS_110\\\\Documents\\\\GitHub\\\\inovie-SCAN-web-main\\\\src\\\\components\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../config/firebase';\nimport { collection, query, getDocs, orderBy, limit } from 'firebase/firestore';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title, PointElement, LineElement } from 'chart.js';\nimport { Pie, Bar, Line } from 'react-chartjs-2';\nimport './Dashboard.css';\n\n// Enregistrer les composants ChartJS nécessaires\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title, PointElement, LineElement);\nconst Dashboard = () => {\n  _s();\n  const [stats, setStats] = useState({\n    livraisons: 0,\n    enCours: 0,\n    totalColis: 0,\n    tempsMoyen: '00:00',\n    tauxLivraison: 0\n  });\n  const [siteStats, setSiteStats] = useState([]);\n  const [coursierStats, setCoursierStats] = useState([]);\n  const [hourlyStats, setHourlyStats] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [recentPassages, setRecentPassages] = useState([]);\n\n  // Couleurs pour les graphiques\n  const colors = ['#4CAF50', '#2196F3', '#FFC107', '#9C27B0', '#F44336', '#009688', '#673AB7', '#FF9800', '#03A9F4', '#E91E63'];\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        // Récupérer tous les passages\n        const passagesRef = collection(db, 'passages');\n        const passagesSnapshot = await getDocs(passagesRef);\n        const passagesData = passagesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n\n        // Récupérer les passages récents pour l'affichage dans le tableau\n        const recentPassagesQuery = query(collection(db, 'passages'), orderBy('dateHeureDepart', 'desc'), limit(5));\n        const recentPassagesSnapshot = await getDocs(recentPassagesQuery);\n        const recentPassagesData = recentPassagesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setRecentPassages(recentPassagesData);\n\n        // Calculer les statistiques principales\n        const livres = passagesData.filter(p => p.statut === 'Livré').length;\n        const enCours = passagesData.filter(p => p.statut === 'En cours').length;\n        const total = passagesData.length;\n\n        // Calculer le temps moyen de livraison\n        let tempsTotal = 0;\n        let livraisonsAvecTemps = 0;\n        passagesData.forEach(passage => {\n          if (passage.statut === 'Livré' && passage.dateHeureDepart && passage.dateHeureFin) {\n            const depart = passage.dateHeureDepart.toDate();\n            const fin = passage.dateHeureFin.toDate();\n            const diffMs = fin.getTime() - depart.getTime();\n            tempsTotal += diffMs;\n            livraisonsAvecTemps++;\n          }\n        });\n        const tempsMoyenMs = livraisonsAvecTemps > 0 ? tempsTotal / livraisonsAvecTemps : 0;\n        const tempsMoyenMinutes = Math.floor(tempsMoyenMs / 60000);\n        const tempsMoyenHeures = Math.floor(tempsMoyenMinutes / 60);\n        const tempsMoyenMinutesRestantes = tempsMoyenMinutes % 60;\n        const tempsMoyenFormatted = `${tempsMoyenHeures.toString().padStart(2, '0')}:${tempsMoyenMinutesRestantes.toString().padStart(2, '0')}`;\n\n        // Taux de livraison\n        const tauxLivraison = total > 0 ? livres / total * 100 : 0;\n        setStats({\n          livraisons: livres,\n          enCours: enCours,\n          totalColis: total,\n          tempsMoyen: tempsMoyenFormatted,\n          tauxLivraison: Math.round(tauxLivraison)\n        });\n\n        // Statistiques par site\n        const siteMap = new Map();\n        passagesData.forEach(passage => {\n          const site = passage.siteDepart;\n          siteMap.set(site, (siteMap.get(site) || 0) + 1);\n        });\n        const siteStatsData = Array.from(siteMap.entries()).map(([nom, count], index) => ({\n          nom,\n          count,\n          color: colors[index % colors.length]\n        })).sort((a, b) => b.count - a.count).slice(0, 5);\n        setSiteStats(siteStatsData);\n\n        // Statistiques par coursier\n        const coursierMap = new Map();\n        passagesData.forEach(passage => {\n          if (passage.coursierLivraison) {\n            const coursier = passage.coursierLivraison;\n            coursierMap.set(coursier, (coursierMap.get(coursier) || 0) + 1);\n          }\n        });\n        const coursierStatsData = Array.from(coursierMap.entries()).map(([nom, livraisons], index) => ({\n          nom,\n          livraisons,\n          color: colors[index % colors.length]\n        })).sort((a, b) => b.livraisons - a.livraisons).slice(0, 5);\n        setCoursierStats(coursierStatsData);\n\n        // Statistiques par heure\n        const hourMap = new Map();\n        passagesData.forEach(passage => {\n          if (passage.dateHeureDepart) {\n            const heure = passage.dateHeureDepart.toDate().getHours();\n            hourMap.set(heure, (hourMap.get(heure) || 0) + 1);\n          }\n        });\n        const hourlyStatsData = Array.from({\n          length: 24\n        }, (_, i) => i).map(heure => ({\n          heure: `${heure}h`,\n          count: hourMap.get(heure) || 0\n        }));\n        setHourlyStats(hourlyStatsData);\n      } catch (error) {\n        console.error('Erreur lors de la récupération des données:', error);\n        // Utiliser des données de démonstration en cas d'erreur\n        setStats({\n          livraisons: 235,\n          enCours: 42,\n          totalColis: 277,\n          tempsMoyen: '01:12',\n          tauxLivraison: 85\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Données pour le graphique des sites\n  const sitePieData = {\n    labels: siteStats.map(site => site.nom),\n    datasets: [{\n      data: siteStats.map(site => site.count),\n      backgroundColor: siteStats.map(site => site.color),\n      borderColor: siteStats.map(site => site.color),\n      borderWidth: 1\n    }]\n  };\n\n  // Données pour le graphique des coursiers\n  const coursierBarData = {\n    labels: coursierStats.map(coursier => coursier.nom),\n    datasets: [{\n      label: 'Livraisons effectuées',\n      data: coursierStats.map(coursier => coursier.livraisons),\n      backgroundColor: coursierStats.map(coursier => coursier.color),\n      borderColor: coursierStats.map(coursier => coursier.color),\n      borderWidth: 1\n    }]\n  };\n\n  // Données pour le graphique par heure\n  const hourlyLineData = {\n    labels: hourlyStats.map(hour => hour.heure),\n    datasets: [{\n      label: 'Nombre de passages',\n      data: hourlyStats.map(hour => hour.count),\n      fill: true,\n      backgroundColor: 'rgba(33, 150, 243, 0.2)',\n      borderColor: 'rgba(33, 150, 243, 1)',\n      tension: 0.4\n    }]\n  };\n\n  // Options pour les graphiques\n  const pieOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'right'\n      },\n      title: {\n        display: true,\n        text: 'Répartition par site',\n        font: {\n          size: 16\n        }\n      }\n    }\n  };\n  const barOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Performance par coursier',\n        font: {\n          size: 16\n        }\n      }\n    }\n  };\n  const lineOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Activité par heure',\n        font: {\n          size: 16\n        }\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: true\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Chargement des donn\\xE9es...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Formater la date pour l'affichage\n  const formatDate = timestamp => {\n    const date = timestamp.toDate();\n    return new Intl.DateTimeFormat('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"dashboard-title\",\n      children: \"Tableau de bord\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-cards\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card delivered\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"20 6 9 17 4 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Livraisons effectu\\xE9es\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.livraisons\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-progress\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-bar\",\n              style: {\n                width: `${stats.tauxLivraison}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: [stats.tauxLivraison, \"% du total\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card in-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"12 6 12 12 16 14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"En cours de livraison\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.enCours\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: \"Colis en transit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card total\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n              x: \"2\",\n              y: \"7\",\n              width: \"20\",\n              height: \"14\",\n              rx: \"2\",\n              ry: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Total des colis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.totalColis\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: \"Tous statuts confondus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card time\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n              points: \"12 6 12 12 16 14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Temps moyen de livraison\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.tempsMoyen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: \"Heures:Minutes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-charts\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-content\",\n            children: /*#__PURE__*/_jsxDEV(Bar, {\n              data: coursierBarData,\n              options: barOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-content\",\n            children: /*#__PURE__*/_jsxDEV(Pie, {\n              data: sitePieData,\n              options: pieOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-card full-width\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-content\",\n          children: /*#__PURE__*/_jsxDEV(Line, {\n            data: hourlyLineData,\n            options: lineOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recent-passages\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Passages r\\xE9cents\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID Colis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Site de d\\xE9part\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date de d\\xE9part\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Statut\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Coursier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: recentPassages.map(passage => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: passage.statut === 'Livré' ? 'status-delivered' : 'status-in-progress',\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: passage.idColis\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: passage.siteDepart\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: passage.dateHeureDepart ? formatDate(passage.dateHeureDepart) : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${passage.statut === 'Livré' ? 'delivered' : 'in-progress'}`,\n                  children: passage.statut\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: passage.coursierLivraison || 'Non assigné'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this)]\n            }, passage.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"EtoPoTEOrhtKQkFu3BmuiLr/T8w=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","db","collection","query","getDocs","orderBy","limit","Chart","ChartJS","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","Title","PointElement","LineElement","Pie","Bar","Line","jsxDEV","_jsxDEV","register","Dashboard","_s","stats","setStats","livraisons","enCours","totalColis","tempsMoyen","tauxLivraison","siteStats","setSiteStats","coursierStats","setCoursierStats","hourlyStats","setHourlyStats","loading","setLoading","recentPassages","setRecentPassages","colors","fetchData","passagesRef","passagesSnapshot","passagesData","docs","map","doc","id","data","recentPassagesQuery","recentPassagesSnapshot","recentPassagesData","livres","filter","p","statut","length","total","tempsTotal","livraisonsAvecTemps","forEach","passage","dateHeureDepart","dateHeureFin","depart","toDate","fin","diffMs","getTime","tempsMoyenMs","tempsMoyenMinutes","Math","floor","tempsMoyenHeures","tempsMoyenMinutesRestantes","tempsMoyenFormatted","toString","padStart","round","siteMap","Map","site","siteDepart","set","get","siteStatsData","Array","from","entries","nom","count","index","color","sort","a","b","slice","coursierMap","coursierLivraison","coursier","coursierStatsData","hourMap","heure","getHours","hourlyStatsData","_","i","error","console","sitePieData","labels","datasets","backgroundColor","borderColor","borderWidth","coursierBarData","label","hourlyLineData","hour","fill","tension","pieOptions","responsive","plugins","legend","position","title","display","text","font","size","barOptions","lineOptions","scales","y","beginAtZero","className","children","fileName","_jsxFileName","lineNumber","columnNumber","formatDate","timestamp","date","Intl","DateTimeFormat","day","month","year","minute","format","xmlns","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","style","width","cx","cy","r","x","height","rx","ry","d","options","idColis","_c","$RefreshReg$"],"sources":["C:/Users/LS_110/Documents/GitHub/inovie-SCAN-web-main/src/components/Dashboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../config/firebase';\nimport { collection, query, getDocs, Timestamp, where, orderBy, limit } from 'firebase/firestore';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement, Title, PointElement, LineElement } from 'chart.js';\nimport { Pie, Bar, Line } from 'react-chartjs-2';\nimport './Dashboard.css';\n\n// Enregistrer les composants ChartJS nécessaires\nChartJS.register(\n  ArcElement, \n  Tooltip, \n  Legend, \n  CategoryScale, \n  LinearScale, \n  BarElement, \n  Title, \n  PointElement, \n  LineElement\n);\n\ninterface Passage {\n  id: string;\n  siteDepart: string;\n  dateHeureDepart: Timestamp;\n  idColis: string;\n  statut: 'Livré' | 'En cours';\n  siteFin?: string;\n  dateHeureFin?: Timestamp;\n  coursierChargement?: string;\n  coursierLivraison?: string;\n  vehiculeId?: string;\n  tourneeId?: string;\n}\n\ninterface DashboardStats {\n  livraisons: number;\n  enCours: number;\n  totalColis: number;\n  tempsMoyen: string;\n  tauxLivraison: number;\n}\n\ninterface SiteStats {\n  nom: string;\n  count: number;\n  color: string;\n}\n\ninterface CoursierStats {\n  nom: string;\n  livraisons: number;\n  color: string;\n}\n\ninterface HourlyStats {\n  heure: string;\n  count: number;\n}\n\nconst Dashboard: React.FC = () => {\n  const [stats, setStats] = useState<DashboardStats>({\n    livraisons: 0,\n    enCours: 0,\n    totalColis: 0,\n    tempsMoyen: '00:00',\n    tauxLivraison: 0\n  });\n  const [siteStats, setSiteStats] = useState<SiteStats[]>([]);\n  const [coursierStats, setCoursierStats] = useState<CoursierStats[]>([]);\n  const [hourlyStats, setHourlyStats] = useState<HourlyStats[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [recentPassages, setRecentPassages] = useState<Passage[]>([]);\n\n  // Couleurs pour les graphiques\n  const colors = [\n    '#4CAF50', '#2196F3', '#FFC107', '#9C27B0', '#F44336', \n    '#009688', '#673AB7', '#FF9800', '#03A9F4', '#E91E63'\n  ];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        // Récupérer tous les passages\n        const passagesRef = collection(db, 'passages');\n        const passagesSnapshot = await getDocs(passagesRef);\n        const passagesData = passagesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        })) as Passage[];\n\n        // Récupérer les passages récents pour l'affichage dans le tableau\n        const recentPassagesQuery = query(\n          collection(db, 'passages'),\n          orderBy('dateHeureDepart', 'desc'),\n          limit(5)\n        );\n        const recentPassagesSnapshot = await getDocs(recentPassagesQuery);\n        const recentPassagesData = recentPassagesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        })) as Passage[];\n        setRecentPassages(recentPassagesData);\n\n        // Calculer les statistiques principales\n        const livres = passagesData.filter(p => p.statut === 'Livré').length;\n        const enCours = passagesData.filter(p => p.statut === 'En cours').length;\n        const total = passagesData.length;\n        \n        // Calculer le temps moyen de livraison\n        let tempsTotal = 0;\n        let livraisonsAvecTemps = 0;\n        \n        passagesData.forEach(passage => {\n          if (passage.statut === 'Livré' && passage.dateHeureDepart && passage.dateHeureFin) {\n            const depart = passage.dateHeureDepart.toDate();\n            const fin = passage.dateHeureFin.toDate();\n            const diffMs = fin.getTime() - depart.getTime();\n            tempsTotal += diffMs;\n            livraisonsAvecTemps++;\n          }\n        });\n        \n        const tempsMoyenMs = livraisonsAvecTemps > 0 ? tempsTotal / livraisonsAvecTemps : 0;\n        const tempsMoyenMinutes = Math.floor(tempsMoyenMs / 60000);\n        const tempsMoyenHeures = Math.floor(tempsMoyenMinutes / 60);\n        const tempsMoyenMinutesRestantes = tempsMoyenMinutes % 60;\n        const tempsMoyenFormatted = `${tempsMoyenHeures.toString().padStart(2, '0')}:${tempsMoyenMinutesRestantes.toString().padStart(2, '0')}`;\n        \n        // Taux de livraison\n        const tauxLivraison = total > 0 ? (livres / total) * 100 : 0;\n\n        setStats({\n          livraisons: livres,\n          enCours: enCours,\n          totalColis: total,\n          tempsMoyen: tempsMoyenFormatted,\n          tauxLivraison: Math.round(tauxLivraison)\n        });\n\n        // Statistiques par site\n        const siteMap = new Map<string, number>();\n        passagesData.forEach(passage => {\n          const site = passage.siteDepart;\n          siteMap.set(site, (siteMap.get(site) || 0) + 1);\n        });\n        \n        const siteStatsData = Array.from(siteMap.entries())\n          .map(([nom, count], index) => ({\n            nom,\n            count,\n            color: colors[index % colors.length]\n          }))\n          .sort((a, b) => b.count - a.count)\n          .slice(0, 5);\n        \n        setSiteStats(siteStatsData);\n\n        // Statistiques par coursier\n        const coursierMap = new Map<string, number>();\n        passagesData.forEach(passage => {\n          if (passage.coursierLivraison) {\n            const coursier = passage.coursierLivraison;\n            coursierMap.set(coursier, (coursierMap.get(coursier) || 0) + 1);\n          }\n        });\n        \n        const coursierStatsData = Array.from(coursierMap.entries())\n          .map(([nom, livraisons], index) => ({\n            nom,\n            livraisons,\n            color: colors[index % colors.length]\n          }))\n          .sort((a, b) => b.livraisons - a.livraisons)\n          .slice(0, 5);\n        \n        setCoursierStats(coursierStatsData);\n\n        // Statistiques par heure\n        const hourMap = new Map<number, number>();\n        passagesData.forEach(passage => {\n          if (passage.dateHeureDepart) {\n            const heure = passage.dateHeureDepart.toDate().getHours();\n            hourMap.set(heure, (hourMap.get(heure) || 0) + 1);\n          }\n        });\n        \n        const hourlyStatsData = Array.from({ length: 24 }, (_, i) => i)\n          .map(heure => ({\n            heure: `${heure}h`,\n            count: hourMap.get(heure) || 0\n          }));\n        \n        setHourlyStats(hourlyStatsData);\n      } catch (error) {\n        console.error('Erreur lors de la récupération des données:', error);\n        // Utiliser des données de démonstration en cas d'erreur\n        setStats({\n          livraisons: 235,\n          enCours: 42,\n          totalColis: 277,\n          tempsMoyen: '01:12',\n          tauxLivraison: 85\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  // Données pour le graphique des sites\n  const sitePieData = {\n    labels: siteStats.map(site => site.nom),\n    datasets: [\n      {\n        data: siteStats.map(site => site.count),\n        backgroundColor: siteStats.map(site => site.color),\n        borderColor: siteStats.map(site => site.color),\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  // Données pour le graphique des coursiers\n  const coursierBarData = {\n    labels: coursierStats.map(coursier => coursier.nom),\n    datasets: [\n      {\n        label: 'Livraisons effectuées',\n        data: coursierStats.map(coursier => coursier.livraisons),\n        backgroundColor: coursierStats.map(coursier => coursier.color),\n        borderColor: coursierStats.map(coursier => coursier.color),\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  // Données pour le graphique par heure\n  const hourlyLineData = {\n    labels: hourlyStats.map(hour => hour.heure),\n    datasets: [\n      {\n        label: 'Nombre de passages',\n        data: hourlyStats.map(hour => hour.count),\n        fill: true,\n        backgroundColor: 'rgba(33, 150, 243, 0.2)',\n        borderColor: 'rgba(33, 150, 243, 1)',\n        tension: 0.4,\n      },\n    ],\n  };\n\n  // Options pour les graphiques\n  const pieOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'right' as const,\n      },\n      title: {\n        display: true,\n        text: 'Répartition par site',\n        font: {\n          size: 16,\n        },\n      },\n    },\n  };\n\n  const barOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n      },\n      title: {\n        display: true,\n        text: 'Performance par coursier',\n        font: {\n          size: 16,\n        },\n      },\n    },\n  };\n\n  const lineOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n      },\n      title: {\n        display: true,\n        text: 'Activité par heure',\n        font: {\n          size: 16,\n        },\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n      },\n    },\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Chargement des données...</p>\n      </div>\n    );\n  }\n\n  // Formater la date pour l'affichage\n  const formatDate = (timestamp: Timestamp) => {\n    const date = timestamp.toDate();\n    return new Intl.DateTimeFormat('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date);\n  };\n\n  return (\n    <div className=\"dashboard-container\">\n      <h1 className=\"dashboard-title\">Tableau de bord</h1>\n      \n      {/* Cartes de statistiques */}\n      <div className=\"stats-cards\">\n        <div className=\"stat-card delivered\">\n          <div className=\"stat-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <polyline points=\"20 6 9 17 4 12\"></polyline>\n            </svg>\n          </div>\n          <div className=\"stat-info\">\n            <h3>Livraisons effectuées</h3>\n            <div className=\"stat-value\">{stats.livraisons}</div>\n            <div className=\"stat-progress\">\n              <div className=\"progress-bar\" style={{ width: `${stats.tauxLivraison}%` }}></div>\n            </div>\n            <div className=\"stat-subtext\">{stats.tauxLivraison}% du total</div>\n          </div>\n        </div>\n        \n        <div className=\"stat-card in-progress\">\n          <div className=\"stat-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n              <polyline points=\"12 6 12 12 16 14\"></polyline>\n            </svg>\n          </div>\n          <div className=\"stat-info\">\n            <h3>En cours de livraison</h3>\n            <div className=\"stat-value\">{stats.enCours}</div>\n            <div className=\"stat-subtext\">Colis en transit</div>\n          </div>\n        </div>\n        \n        <div className=\"stat-card total\">\n          <div className=\"stat-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <rect x=\"2\" y=\"7\" width=\"20\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\n              <path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\"></path>\n            </svg>\n          </div>\n          <div className=\"stat-info\">\n            <h3>Total des colis</h3>\n            <div className=\"stat-value\">{stats.totalColis}</div>\n            <div className=\"stat-subtext\">Tous statuts confondus</div>\n          </div>\n        </div>\n        \n        <div className=\"stat-card time\">\n          <div className=\"stat-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n              <polyline points=\"12 6 12 12 16 14\"></polyline>\n            </svg>\n          </div>\n          <div className=\"stat-info\">\n            <h3>Temps moyen de livraison</h3>\n            <div className=\"stat-value\">{stats.tempsMoyen}</div>\n            <div className=\"stat-subtext\">Heures:Minutes</div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Graphiques */}\n      <div className=\"dashboard-charts\">\n        <div className=\"chart-row\">\n          <div className=\"chart-card\">\n            <div className=\"chart-content\">\n              <Bar data={coursierBarData} options={barOptions} />\n            </div>\n          </div>\n          \n          <div className=\"chart-card\">\n            <div className=\"chart-content\">\n              <Pie data={sitePieData} options={pieOptions} />\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"chart-card full-width\">\n          <div className=\"chart-content\">\n            <Line data={hourlyLineData} options={lineOptions} />\n          </div>\n        </div>\n      </div>\n      \n      {/* Tableau des passages récents */}\n      <div className=\"recent-passages\">\n        <h2>Passages récents</h2>\n        <div className=\"table-container\">\n          <table>\n            <thead>\n              <tr>\n                <th>ID Colis</th>\n                <th>Site de départ</th>\n                <th>Date de départ</th>\n                <th>Statut</th>\n                <th>Coursier</th>\n              </tr>\n            </thead>\n            <tbody>\n              {recentPassages.map(passage => (\n                <tr key={passage.id} className={passage.statut === 'Livré' ? 'status-delivered' : 'status-in-progress'}>\n                  <td>{passage.idColis}</td>\n                  <td>{passage.siteDepart}</td>\n                  <td>{passage.dateHeureDepart ? formatDate(passage.dateHeureDepart) : 'N/A'}</td>\n                  <td>\n                    <span className={`status-badge ${passage.statut === 'Livré' ? 'delivered' : 'in-progress'}`}>\n                      {passage.statut}\n                    </span>\n                  </td>\n                  <td>{passage.coursierLivraison || 'Non assigné'}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}