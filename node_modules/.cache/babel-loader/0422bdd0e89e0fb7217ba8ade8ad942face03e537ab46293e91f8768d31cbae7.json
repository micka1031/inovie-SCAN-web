{"ast":null,"code":"export const PAGES = {\n  DASHBOARD: 'dashboard',\n  PASSAGES: 'passages',\n  SITES: 'sites',\n  TOURNEES: 'tournees',\n  VEHICULES: 'vehicules',\n  CARTE: 'carte',\n  USER_MANAGEMENT: 'userManagement',\n  ADMINISTRATION: 'administration',\n  PASSAGE_DETAILS: 'passageDetails',\n  TOURNEE_DETAILS: 'tourneeDetails',\n  VEHICULES_ADVANCED: 'vehiculesAdvanced'\n};\nexport function hasPageAccess(user, page, roles) {\n  if (!user) return false;\n  const userRole = roles.find(role => role.name === user.role);\n  if (!userRole) return false;\n  const pageAccess = userRole.pageAccess;\n  return !!pageAccess[page];\n}\nexport function getUserRoleDetails(user, roles) {\n  if (!user) return null;\n  return roles.find(role => role.name === user.role) || null;\n}","map":{"version":3,"names":["PAGES","DASHBOARD","PASSAGES","SITES","TOURNEES","VEHICULES","CARTE","USER_MANAGEMENT","ADMINISTRATION","PASSAGE_DETAILS","TOURNEE_DETAILS","VEHICULES_ADVANCED","hasPageAccess","user","page","roles","userRole","find","role","name","pageAccess","getUserRoleDetails"],"sources":["C:/Users/LS_110/Documents/GitHub/inovie-SCAN-web-main/src/utils/pageAccessUtils.ts"],"sourcesContent":["import { Role, User } from '../types/roles';\n\ninterface PageAccess {\n  dashboard?: boolean;\n  passages?: boolean;\n  sites?: boolean;\n  tournees?: boolean;\n  vehicules?: boolean;\n  carte?: boolean;\n  userManagement?: boolean;\n  administration?: boolean;\n  passageDetails?: boolean;\n  tourneeDetails?: boolean;\n  vehiculesAdvanced?: boolean;\n}\n\nexport type PageName = \n  | 'dashboard'\n  | 'passages'\n  | 'sites'\n  | 'tournees'\n  | 'vehicules'\n  | 'carte'\n  | 'userManagement'\n  | 'administration'\n  | 'passageDetails'\n  | 'tourneeDetails'\n  | 'vehiculesAdvanced';\n\nexport const PAGES = {\n  DASHBOARD: 'dashboard',\n  PASSAGES: 'passages',\n  SITES: 'sites',\n  TOURNEES: 'tournees',\n  VEHICULES: 'vehicules',\n  CARTE: 'carte',\n  USER_MANAGEMENT: 'userManagement',\n  ADMINISTRATION: 'administration',\n  PASSAGE_DETAILS: 'passageDetails',\n  TOURNEE_DETAILS: 'tourneeDetails',\n  VEHICULES_ADVANCED: 'vehiculesAdvanced',\n} as const;\n\nexport function hasPageAccess(user: User | null, page: PageName, roles: Role[]): boolean {\n  if (!user) return false;\n\n  const userRole = roles.find(role => role.name === user.role);\n  if (!userRole) return false;\n\n  const pageAccess = userRole.pageAccess as PageAccess;\n  return !!pageAccess[page];\n}\n\nexport function getUserRoleDetails(user: User | null, roles: Role[]): Role | null {\n  if (!user) return null;\n  return roles.find(role => role.name === user.role) || null;\n} \r\n"],"mappings":"AA6BA,OAAO,MAAMA,KAAK,GAAG;EACnBC,SAAS,EAAE,WAAW;EACtBC,QAAQ,EAAE,UAAU;EACpBC,KAAK,EAAE,OAAO;EACdC,QAAQ,EAAE,UAAU;EACpBC,SAAS,EAAE,WAAW;EACtBC,KAAK,EAAE,OAAO;EACdC,eAAe,EAAE,gBAAgB;EACjCC,cAAc,EAAE,gBAAgB;EAChCC,eAAe,EAAE,gBAAgB;EACjCC,eAAe,EAAE,gBAAgB;EACjCC,kBAAkB,EAAE;AACtB,CAAU;AAEV,OAAO,SAASC,aAAaA,CAACC,IAAiB,EAAEC,IAAc,EAAEC,KAAa,EAAW;EACvF,IAAI,CAACF,IAAI,EAAE,OAAO,KAAK;EAEvB,MAAMG,QAAQ,GAAGD,KAAK,CAACE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,KAAKN,IAAI,CAACK,IAAI,CAAC;EAC5D,IAAI,CAACF,QAAQ,EAAE,OAAO,KAAK;EAE3B,MAAMI,UAAU,GAAGJ,QAAQ,CAACI,UAAwB;EACpD,OAAO,CAAC,CAACA,UAAU,CAACN,IAAI,CAAC;AAC3B;AAEA,OAAO,SAASO,kBAAkBA,CAACR,IAAiB,EAAEE,KAAa,EAAe;EAChF,IAAI,CAACF,IAAI,EAAE,OAAO,IAAI;EACtB,OAAOE,KAAK,CAACE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,KAAKN,IAAI,CAACK,IAAI,CAAC,IAAI,IAAI;AAC5D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}