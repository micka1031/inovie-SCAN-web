{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LS_110\\\\Documents\\\\GitHub\\\\inovie-SCAN-web-main\\\\src\\\\components\\\\vehicles\\\\VehicleDocuments.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { vehicleService } from '../../services/vehicleService';\nimport { Box, Button, Typography, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Chip, IconButton, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Grid, Alert, CircularProgress, List, ListItem, ListItemText, ListItemIcon, Stack } from '@mui/material';\nimport { Add as AddIcon, Edit as EditIcon, Delete as DeleteIcon, Description as DescriptionIcon, Warning as WarningIcon, CheckCircle as CheckCircleIcon, Error as ErrorIcon, Visibility as VisibilityIcon, Download as DownloadIcon, PictureAsPdf as PdfIcon, Image as ImageIcon, Description as DocIcon } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VehicleDocuments = ({\n  vehicle\n}) => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showDialog, setShowDialog] = useState(false);\n  const [selectedDocument, setSelectedDocument] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    type: 'insurance',\n    issueDate: new Date().toISOString().split('T')[0],\n    expiryDate: '',\n    notes: ''\n  });\n  const [showPreview, setShowPreview] = useState(false);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  useEffect(() => {\n    loadDocuments();\n  }, [vehicle.id]);\n  const loadDocuments = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const docs = await vehicleService.getDocuments(vehicle.id);\n      setDocuments(docs);\n    } catch (err) {\n      setError(err.message || 'Erreur lors du chargement des documents');\n      console.error('Erreur:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleOpenDialog = document => {\n    if (document) {\n      setSelectedDocument(document);\n      setFormData(document);\n    } else {\n      setSelectedDocument(null);\n      setFormData({\n        title: '',\n        type: 'insurance',\n        issueDate: new Date().toISOString().split('T')[0],\n        expiryDate: '',\n        notes: ''\n      });\n    }\n    setShowDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setShowDialog(false);\n    setSelectedDocument(null);\n    setFormData({\n      title: '',\n      type: 'insurance',\n      issueDate: new Date().toISOString().split('T')[0],\n      expiryDate: '',\n      notes: ''\n    });\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = async e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (file) {\n      try {\n        const uploadedDoc = await vehicleService.uploadDocument(vehicle.id, file);\n        setFormData(prev => ({\n          ...prev,\n          fileUrl: uploadedDoc.fileUrl,\n          fileName: file.name,\n          fileType: file.type\n        }));\n      } catch (err) {\n        setError(err.message || 'Erreur lors du téléchargement du fichier');\n        console.error('Erreur:', err);\n      }\n    }\n  };\n  const handleSubmit = async () => {\n    try {\n      if (selectedDocument) {\n        await vehicleService.updateDocument(vehicle.id, selectedDocument.id, formData);\n      } else {\n        await vehicleService.addDocumentToVehicle(vehicle.id, formData);\n      }\n      handleCloseDialog();\n      loadDocuments();\n    } catch (err) {\n      setError(err.message || 'Erreur lors de la sauvegarde du document');\n      console.error('Erreur:', err);\n    }\n  };\n  const handleDelete = async documentId => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer ce document ?')) {\n      try {\n        await vehicleService.deleteDocument(vehicle.id, documentId);\n        loadDocuments();\n      } catch (err) {\n        setError(err.message || 'Erreur lors de la suppression du document');\n        console.error('Erreur:', err);\n      }\n    }\n  };\n  const handlePreview = document => {\n    setPreviewUrl(document.fileUrl);\n    setShowPreview(true);\n  };\n  const getDocumentTypeIcon = type => {\n    switch (type) {\n      case 'insurance':\n        return /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 16\n        }, this);\n      case 'registration':\n        return /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 16\n        }, this);\n      case 'inspection':\n        return /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 16\n        }, this);\n      case 'maintenance':\n        return /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 16\n        }, this);\n      case 'other':\n        return /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(DescriptionIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getDocumentTypeLabel = type => {\n    switch (type) {\n      case 'insurance':\n        return 'Assurance';\n      case 'registration':\n        return 'Carte grise';\n      case 'inspection':\n        return 'Contrôle technique';\n      case 'maintenance':\n        return 'Maintenance';\n      case 'other':\n        return 'Autre';\n      default:\n        return type;\n    }\n  };\n  const getExpiryStatus = expiryDate => {\n    if (!expiryDate) return null;\n    const dueDate = new Date(expiryDate);\n    const today = new Date();\n    const daysUntilExpiry = Math.ceil((dueDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\n    if (daysUntilExpiry < 0) {\n      return {\n        color: 'error',\n        label: 'Expiré'\n      };\n    } else if (daysUntilExpiry <= 30) {\n      return {\n        color: 'warning',\n        label: 'Expire bientôt'\n      };\n    } else {\n      return {\n        color: 'success',\n        label: 'Valide'\n      };\n    }\n  };\n  const getFileIcon = fileType => {\n    if (fileType.includes('pdf')) {\n      return /*#__PURE__*/_jsxDEV(PdfIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 14\n      }, this);\n    } else if (fileType.includes('image')) {\n      return /*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(DocIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: \"Documents du v\\xE9hicule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 22\n        }, this),\n        onClick: () => handleOpenDialog(),\n        children: \"Nouveau document\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        my: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this), documents.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"info\",\n      children: \"Aucun document pour ce v\\xE9hicule. Utilisez le bouton \\\"Nouveau document\\\" pour ajouter un document.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      variant: \"outlined\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Document\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Date d'\\xE9mission\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Date d'expiration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Statut\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: documents.map(document => {\n            var _getExpiryStatus, _getExpiryStatus2;\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: \"row\",\n                  spacing: 1,\n                  alignItems: \"center\",\n                  children: [getFileIcon(document.fileType), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: document.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: \"row\",\n                  spacing: 1,\n                  alignItems: \"center\",\n                  children: [getDocumentTypeIcon(document.type), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: getDocumentTypeLabel(document.type)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: new Date(document.issueDate).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: document.expiryDate ? new Date(document.expiryDate).toLocaleDateString() : '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: document.expiryDate && /*#__PURE__*/_jsxDEV(Chip, {\n                  label: (_getExpiryStatus = getExpiryStatus(document.expiryDate)) === null || _getExpiryStatus === void 0 ? void 0 : _getExpiryStatus.label,\n                  color: (_getExpiryStatus2 = getExpiryStatus(document.expiryDate)) === null || _getExpiryStatus2 === void 0 ? void 0 : _getExpiryStatus2.color,\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => handlePreview(document),\n                  title: \"Aper\\xE7u\",\n                  children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  href: document.fileUrl,\n                  target: \"_blank\",\n                  download: true,\n                  title: \"T\\xE9l\\xE9charger\",\n                  children: /*#__PURE__*/_jsxDEV(DownloadIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => handleOpenDialog(document),\n                  title: \"\\xC9diter\",\n                  children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  size: \"small\",\n                  onClick: () => handleDelete(document.id),\n                  title: \"Supprimer\",\n                  color: \"error\",\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)]\n            }, document.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showDialog,\n      onClose: handleCloseDialog,\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: selectedDocument ? 'Modifier le document' : 'Nouveau document'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Titre\",\n              name: \"title\",\n              value: formData.title,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Type\",\n              name: \"type\",\n              value: formData.type,\n              onChange: handleInputChange,\n              select: true,\n              SelectProps: {\n                native: true\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"insurance\",\n                children: \"Assurance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"registration\",\n                children: \"Carte grise\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"inspection\",\n                children: \"Contr\\xF4le technique\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"maintenance\",\n                children: \"Maintenance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"other\",\n                children: \"Autre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Date d'\\xE9mission\",\n              type: \"date\",\n              name: \"issueDate\",\n              value: formData.issueDate,\n              onChange: handleInputChange,\n              InputLabelProps: {\n                shrink: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Date d'expiration\",\n              type: \"date\",\n              name: \"expiryDate\",\n              value: formData.expiryDate,\n              onChange: handleInputChange,\n              InputLabelProps: {\n                shrink: true\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Notes\",\n              name: \"notes\",\n              value: formData.notes,\n              onChange: handleInputChange,\n              multiline: true,\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              component: \"label\",\n              fullWidth: true,\n              startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 28\n              }, this),\n              children: [\"T\\xE9l\\xE9charger un fichier\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                hidden: true,\n                onChange: handleFileChange,\n                accept: \".pdf,.jpg,.jpeg,.png,.doc,.docx\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this), formData.fileName && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              sx: {\n                mt: 1\n              },\n              children: [\"Fichier s\\xE9lectionn\\xE9: \", formData.fileName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDialog,\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSubmit,\n          variant: \"contained\",\n          children: selectedDocument ? 'Modifier' : 'Ajouter'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showPreview,\n      onClose: () => setShowPreview(false),\n      maxWidth: \"xl\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Pr\\xE9visualisation du document\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: previewUrl && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            height: '70vh'\n          },\n          children: previewUrl.includes('.pdf') ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: previewUrl,\n            style: {\n              width: '100%',\n              height: '100%',\n              border: 'none'\n            },\n            title: \"Document preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            src: previewUrl,\n            alt: \"Document preview\",\n            style: {\n              maxWidth: '100%',\n              maxHeight: '100%',\n              objectFit: 'contain'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowPreview(false),\n          children: \"Fermer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), previewUrl && /*#__PURE__*/_jsxDEV(Button, {\n          href: previewUrl,\n          target: \"_blank\",\n          download: true,\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 26\n          }, this),\n          children: \"T\\xE9l\\xE9charger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"R\\xE9sum\\xE9 des documents\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            variant: \"outlined\",\n            sx: {\n              p: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              gutterBottom: true,\n              children: \"Documents expir\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              dense: true,\n              children: [documents.filter(doc => {\n                var _getExpiryStatus3;\n                return doc.expiryDate && ((_getExpiryStatus3 = getExpiryStatus(doc.expiryDate)) === null || _getExpiryStatus3 === void 0 ? void 0 : _getExpiryStatus3.color) === 'error';\n              }).map(doc => /*#__PURE__*/_jsxDEV(ListItem, {\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: /*#__PURE__*/_jsxDEV(ErrorIcon, {\n                    color: \"error\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: doc.title,\n                  secondary: `Expiré le ${new Date(doc.expiryDate).toLocaleDateString()}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 23\n                }, this)]\n              }, doc.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 21\n              }, this)), documents.filter(doc => {\n                var _getExpiryStatus4;\n                return doc.expiryDate && ((_getExpiryStatus4 = getExpiryStatus(doc.expiryDate)) === null || _getExpiryStatus4 === void 0 ? void 0 : _getExpiryStatus4.color) === 'error';\n              }).length === 0 && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Aucun document expir\\xE9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            variant: \"outlined\",\n            sx: {\n              p: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              gutterBottom: true,\n              children: \"Documents \\xE0 renouveler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              dense: true,\n              children: [documents.filter(doc => {\n                var _getExpiryStatus5;\n                return doc.expiryDate && ((_getExpiryStatus5 = getExpiryStatus(doc.expiryDate)) === null || _getExpiryStatus5 === void 0 ? void 0 : _getExpiryStatus5.color) === 'warning';\n              }).map(doc => /*#__PURE__*/_jsxDEV(ListItem, {\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: /*#__PURE__*/_jsxDEV(WarningIcon, {\n                    color: \"warning\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: doc.title,\n                  secondary: `Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 23\n                }, this)]\n              }, doc.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 549,\n                columnNumber: 21\n              }, this)), documents.filter(doc => {\n                var _getExpiryStatus6;\n                return doc.expiryDate && ((_getExpiryStatus6 = getExpiryStatus(doc.expiryDate)) === null || _getExpiryStatus6 === void 0 ? void 0 : _getExpiryStatus6.color) === 'warning';\n              }).length === 0 && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Aucun document \\xE0 renouveler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            variant: \"outlined\",\n            sx: {\n              p: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              gutterBottom: true,\n              children: \"Documents valides\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              dense: true,\n              children: [documents.filter(doc => {\n                var _getExpiryStatus7;\n                return doc.expiryDate && ((_getExpiryStatus7 = getExpiryStatus(doc.expiryDate)) === null || _getExpiryStatus7 === void 0 ? void 0 : _getExpiryStatus7.color) === 'success';\n              }).map(doc => /*#__PURE__*/_jsxDEV(ListItem, {\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                    color: \"success\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: doc.title,\n                  secondary: `Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 23\n                }, this)]\n              }, doc.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 21\n              }, this)), documents.filter(doc => {\n                var _getExpiryStatus8;\n                return doc.expiryDate && ((_getExpiryStatus8 = getExpiryStatus(doc.expiryDate)) === null || _getExpiryStatus8 === void 0 ? void 0 : _getExpiryStatus8.color) === 'success';\n              }).length === 0 && /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Aucun document valide\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n};\n_s(VehicleDocuments, \"zvf8DvFl3rb2HsN0dUl0Mka/oH0=\");\n_c = VehicleDocuments;\nexport default VehicleDocuments;\nvar _c;\n$RefreshReg$(_c, \"VehicleDocuments\");","map":{"version":3,"names":["React","useState","useEffect","vehicleService","Box","Button","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Grid","Alert","CircularProgress","List","ListItem","ListItemText","ListItemIcon","Stack","Add","AddIcon","Edit","EditIcon","Delete","DeleteIcon","Description","DescriptionIcon","Warning","WarningIcon","CheckCircle","CheckCircleIcon","Error","ErrorIcon","Visibility","VisibilityIcon","Download","DownloadIcon","PictureAsPdf","PdfIcon","Image","ImageIcon","DocIcon","jsxDEV","_jsxDEV","VehicleDocuments","vehicle","_s","documents","setDocuments","loading","setLoading","error","setError","showDialog","setShowDialog","selectedDocument","setSelectedDocument","formData","setFormData","title","type","issueDate","Date","toISOString","split","expiryDate","notes","showPreview","setShowPreview","previewUrl","setPreviewUrl","loadDocuments","id","docs","getDocuments","err","message","console","handleOpenDialog","document","handleCloseDialog","handleInputChange","e","name","value","target","prev","handleFileChange","_e$target$files","file","files","uploadedDoc","uploadDocument","fileUrl","fileName","fileType","handleSubmit","updateDocument","addDocumentToVehicle","handleDelete","documentId","window","confirm","deleteDocument","handlePreview","getDocumentTypeIcon","_jsxFileName","lineNumber","columnNumber","getDocumentTypeLabel","getExpiryStatus","dueDate","today","daysUntilExpiry","Math","ceil","getTime","color","label","getFileIcon","includes","children","sx","display","justifyContent","alignItems","mb","variant","startIcon","onClick","severity","my","length","component","align","map","_getExpiryStatus","_getExpiryStatus2","direction","spacing","toLocaleDateString","size","fontSize","href","download","open","onClose","maxWidth","fullWidth","dividers","container","item","xs","onChange","sm","select","SelectProps","native","InputLabelProps","shrink","multiline","rows","hidden","accept","mt","height","src","style","width","border","alt","maxHeight","objectFit","gutterBottom","md","p","dense","filter","doc","_getExpiryStatus3","primary","secondary","_getExpiryStatus4","_getExpiryStatus5","_getExpiryStatus6","_getExpiryStatus7","_getExpiryStatus8","_c","$RefreshReg$"],"sources":["C:/Users/LS_110/Documents/GitHub/inovie-SCAN-web-main/src/components/vehicles/VehicleDocuments.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Vehicle, VehicleDocument } from '../../types/Vehicle';\r\nimport { vehicleService } from '../../services/vehicleService';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Typography,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Chip,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  Grid,\r\n  Alert,\r\n  CircularProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Stack,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Description as DescriptionIcon,\r\n  Warning as WarningIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  Error as ErrorIcon,\r\n  Visibility as VisibilityIcon,\r\n  Download as DownloadIcon,\r\n  PictureAsPdf as PdfIcon,\r\n  Image as ImageIcon,\r\n  Description as DocIcon,\r\n} from '@mui/icons-material';\r\n\r\ninterface VehicleDocumentsProps {\r\n  vehicle: Vehicle;\r\n}\r\n\r\nconst VehicleDocuments: React.FC<VehicleDocumentsProps> = ({ vehicle }) => {\r\n  const [documents, setDocuments] = useState<VehicleDocument[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [selectedDocument, setSelectedDocument] = useState<VehicleDocument | null>(null);\r\n  const [formData, setFormData] = useState<Partial<VehicleDocument>>({\r\n    title: '',\r\n    type: 'insurance',\r\n    issueDate: new Date().toISOString().split('T')[0],\r\n    expiryDate: '',\r\n    notes: '',\r\n  });\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\r\n  \r\n  useEffect(() => {\r\n    loadDocuments();\r\n  }, [vehicle.id]);\r\n  \r\n  const loadDocuments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const docs = await vehicleService.getDocuments(vehicle.id);\r\n      setDocuments(docs);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Erreur lors du chargement des documents');\r\n      console.error('Erreur:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const handleOpenDialog = (document?: VehicleDocument) => {\r\n    if (document) {\r\n      setSelectedDocument(document);\r\n      setFormData(document);\r\n    } else {\r\n      setSelectedDocument(null);\r\n      setFormData({\r\n        title: '',\r\n        type: 'insurance',\r\n        issueDate: new Date().toISOString().split('T')[0],\r\n        expiryDate: '',\r\n        notes: '',\r\n      });\r\n    }\r\n    setShowDialog(true);\r\n  };\r\n  \r\n  const handleCloseDialog = () => {\r\n    setShowDialog(false);\r\n    setSelectedDocument(null);\r\n    setFormData({\r\n      title: '',\r\n      type: 'insurance',\r\n      issueDate: new Date().toISOString().split('T')[0],\r\n      expiryDate: '',\r\n      notes: '',\r\n    });\r\n  };\r\n  \r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      try {\r\n        const uploadedDoc = await vehicleService.uploadDocument(vehicle.id, file);\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          fileUrl: uploadedDoc.fileUrl,\r\n          fileName: file.name,\r\n          fileType: file.type,\r\n        }));\r\n      } catch (err: any) {\r\n        setError(err.message || 'Erreur lors du téléchargement du fichier');\r\n        console.error('Erreur:', err);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (selectedDocument) {\r\n        await vehicleService.updateDocument(vehicle.id, selectedDocument.id, formData as VehicleDocument);\r\n      } else {\r\n        await vehicleService.addDocumentToVehicle(vehicle.id, formData as VehicleDocument);\r\n      }\r\n      handleCloseDialog();\r\n      loadDocuments();\r\n    } catch (err: any) {\r\n      setError(err.message || 'Erreur lors de la sauvegarde du document');\r\n      console.error('Erreur:', err);\r\n    }\r\n  };\r\n  \r\n  const handleDelete = async (documentId: string) => {\r\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer ce document ?')) {\r\n      try {\r\n        await vehicleService.deleteDocument(vehicle.id, documentId);\r\n        loadDocuments();\r\n      } catch (err: any) {\r\n        setError(err.message || 'Erreur lors de la suppression du document');\r\n        console.error('Erreur:', err);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handlePreview = (document: VehicleDocument) => {\r\n    setPreviewUrl(document.fileUrl);\r\n    setShowPreview(true);\r\n  };\r\n  \r\n  const getDocumentTypeIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'insurance':\r\n        return <DescriptionIcon />;\r\n      case 'registration':\r\n        return <DescriptionIcon />;\r\n      case 'inspection':\r\n        return <DescriptionIcon />;\r\n      case 'maintenance':\r\n        return <DescriptionIcon />;\r\n      case 'other':\r\n        return <DescriptionIcon />;\r\n      default:\r\n        return <DescriptionIcon />;\r\n    }\r\n  };\r\n  \r\n  const getDocumentTypeLabel = (type: string) => {\r\n    switch (type) {\r\n      case 'insurance':\r\n        return 'Assurance';\r\n      case 'registration':\r\n        return 'Carte grise';\r\n      case 'inspection':\r\n        return 'Contrôle technique';\r\n      case 'maintenance':\r\n        return 'Maintenance';\r\n      case 'other':\r\n        return 'Autre';\r\n      default:\r\n        return type;\r\n    }\r\n  };\r\n  \r\n  const getExpiryStatus = (expiryDate: string) => {\r\n    if (!expiryDate) return null;\r\n    \r\n    const dueDate = new Date(expiryDate);\r\n    const today = new Date();\r\n    const daysUntilExpiry = Math.ceil((dueDate.getTime() - today.getTime()) / (1000 * 60 * 60 * 24));\r\n    \r\n    if (daysUntilExpiry < 0) {\r\n      return { color: 'error', label: 'Expiré' };\r\n    } else if (daysUntilExpiry <= 30) {\r\n      return { color: 'warning', label: 'Expire bientôt' };\r\n    } else {\r\n      return { color: 'success', label: 'Valide' };\r\n    }\r\n  };\r\n  \r\n  const getFileIcon = (fileType: string) => {\r\n    if (fileType.includes('pdf')) {\r\n      return <PdfIcon />;\r\n    } else if (fileType.includes('image')) {\r\n      return <ImageIcon />;\r\n    } else {\r\n      return <DocIcon />;\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Box>\r\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\r\n        <Typography variant=\"h6\">Documents du véhicule</Typography>\r\n        <Button \r\n          variant=\"contained\" \r\n          startIcon={<AddIcon />}\r\n          onClick={() => handleOpenDialog()}\r\n        >\r\n          Nouveau document\r\n        </Button>\r\n      </Box>\r\n      \r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n      \r\n      {loading && (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', my: 2 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      )}\r\n      \r\n      {documents.length === 0 ? (\r\n        <Alert severity=\"info\">\r\n          Aucun document pour ce véhicule. Utilisez le bouton \"Nouveau document\" pour ajouter un document.\r\n        </Alert>\r\n      ) : (\r\n        <TableContainer component={Paper} variant=\"outlined\">\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Document</TableCell>\r\n                <TableCell>Type</TableCell>\r\n                <TableCell>Date d'émission</TableCell>\r\n                <TableCell>Date d'expiration</TableCell>\r\n                <TableCell>Statut</TableCell>\r\n                <TableCell align=\"right\">Actions</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {documents.map((document) => (\r\n                <TableRow key={document.id}>\r\n                  <TableCell>\r\n                    <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n                      {getFileIcon(document.fileType)}\r\n                      <Typography variant=\"body2\">\r\n                        {document.title}\r\n                      </Typography>\r\n                    </Stack>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n                      {getDocumentTypeIcon(document.type)}\r\n                      <Typography variant=\"body2\">\r\n                        {getDocumentTypeLabel(document.type)}\r\n                      </Typography>\r\n                    </Stack>\r\n                  </TableCell>\r\n                  <TableCell>{new Date(document.issueDate).toLocaleDateString()}</TableCell>\r\n                  <TableCell>\r\n                    {document.expiryDate ? new Date(document.expiryDate).toLocaleDateString() : '-'}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {document.expiryDate && (\r\n                      <Chip \r\n                        label={getExpiryStatus(document.expiryDate)?.label}\r\n                        color={getExpiryStatus(document.expiryDate)?.color as any}\r\n                        size=\"small\"\r\n                      />\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell align=\"right\">\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      onClick={() => handlePreview(document)}\r\n                      title=\"Aperçu\"\r\n                    >\r\n                      <VisibilityIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      href={document.fileUrl}\r\n                      target=\"_blank\"\r\n                      download\r\n                      title=\"Télécharger\"\r\n                    >\r\n                      <DownloadIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      onClick={() => handleOpenDialog(document)}\r\n                      title=\"Éditer\"\r\n                    >\r\n                      <EditIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                    <IconButton \r\n                      size=\"small\"\r\n                      onClick={() => handleDelete(document.id)}\r\n                      title=\"Supprimer\"\r\n                      color=\"error\"\r\n                    >\r\n                      <DeleteIcon fontSize=\"small\" />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      )}\r\n      \r\n      {/* Dialog d'ajout/modification */}\r\n      <Dialog \r\n        open={showDialog} \r\n        onClose={handleCloseDialog}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          {selectedDocument ? 'Modifier le document' : 'Nouveau document'}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Titre\"\r\n                name=\"title\"\r\n                value={formData.title}\r\n                onChange={handleInputChange}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Type\"\r\n                name=\"type\"\r\n                value={formData.type}\r\n                onChange={handleInputChange}\r\n                select\r\n                SelectProps={{ native: true }}\r\n              >\r\n                <option value=\"insurance\">Assurance</option>\r\n                <option value=\"registration\">Carte grise</option>\r\n                <option value=\"inspection\">Contrôle technique</option>\r\n                <option value=\"maintenance\">Maintenance</option>\r\n                <option value=\"other\">Autre</option>\r\n              </TextField>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Date d'émission\"\r\n                type=\"date\"\r\n                name=\"issueDate\"\r\n                value={formData.issueDate}\r\n                onChange={handleInputChange}\r\n                InputLabelProps={{ shrink: true }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Date d'expiration\"\r\n                type=\"date\"\r\n                name=\"expiryDate\"\r\n                value={formData.expiryDate}\r\n                onChange={handleInputChange}\r\n                InputLabelProps={{ shrink: true }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Notes\"\r\n                name=\"notes\"\r\n                value={formData.notes}\r\n                onChange={handleInputChange}\r\n                multiline\r\n                rows={3}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Button\r\n                variant=\"outlined\"\r\n                component=\"label\"\r\n                fullWidth\r\n                startIcon={<AddIcon />}\r\n              >\r\n                Télécharger un fichier\r\n                <input\r\n                  type=\"file\"\r\n                  hidden\r\n                  onChange={handleFileChange}\r\n                  accept=\".pdf,.jpg,.jpeg,.png,.doc,.docx\"\r\n                />\r\n              </Button>\r\n              {formData.fileName && (\r\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\r\n                  Fichier sélectionné: {formData.fileName}\r\n                </Typography>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleCloseDialog}>Annuler</Button>\r\n          <Button onClick={handleSubmit} variant=\"contained\">\r\n            {selectedDocument ? 'Modifier' : 'Ajouter'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      \r\n      {/* Dialog de prévisualisation */}\r\n      <Dialog\r\n        open={showPreview}\r\n        onClose={() => setShowPreview(false)}\r\n        maxWidth=\"xl\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle>\r\n          Prévisualisation du document\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {previewUrl && (\r\n            <Box \r\n              sx={{ \r\n                display: 'flex', \r\n                justifyContent: 'center', \r\n                alignItems: 'center',\r\n                height: '70vh',\r\n              }}\r\n            >\r\n              {previewUrl.includes('.pdf') ? (\r\n                <iframe\r\n                  src={previewUrl}\r\n                  style={{ width: '100%', height: '100%', border: 'none' }}\r\n                  title=\"Document preview\"\r\n                />\r\n              ) : (\r\n                <img \r\n                  src={previewUrl} \r\n                  alt=\"Document preview\" \r\n                  style={{ maxWidth: '100%', maxHeight: '100%', objectFit: 'contain' }} \r\n                />\r\n              )}\r\n            </Box>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setShowPreview(false)}>\r\n            Fermer\r\n          </Button>\r\n          {previewUrl && (\r\n            <Button \r\n              href={previewUrl} \r\n              target=\"_blank\" \r\n              download \r\n              variant=\"contained\"\r\n              startIcon={<DownloadIcon />}\r\n            >\r\n              Télécharger\r\n            </Button>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      \r\n      {/* Résumé des documents */}\r\n      <Box sx={{ mt: 4 }}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Résumé des documents\r\n        </Typography>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} md={4}>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Documents expirés\r\n              </Typography>\r\n              <List dense>\r\n                {documents\r\n                  .filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'error')\r\n                  .map(doc => (\r\n                    <ListItem key={doc.id}>\r\n                      <ListItemIcon>\r\n                        <ErrorIcon color=\"error\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={doc.title}\r\n                        secondary={`Expiré le ${new Date(doc.expiryDate).toLocaleDateString()}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                \r\n                {documents.filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'error').length === 0 && (\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Aucun document expiré\r\n                  </Typography>\r\n                )}\r\n              </List>\r\n            </Paper>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={4}>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Documents à renouveler\r\n              </Typography>\r\n              <List dense>\r\n                {documents\r\n                  .filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'warning')\r\n                  .map(doc => (\r\n                    <ListItem key={doc.id}>\r\n                      <ListItemIcon>\r\n                        <WarningIcon color=\"warning\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={doc.title}\r\n                        secondary={`Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                \r\n                {documents.filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'warning').length === 0 && (\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Aucun document à renouveler\r\n                  </Typography>\r\n                )}\r\n              </List>\r\n            </Paper>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} md={4}>\r\n            <Paper variant=\"outlined\" sx={{ p: 2 }}>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Documents valides\r\n              </Typography>\r\n              <List dense>\r\n                {documents\r\n                  .filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'success')\r\n                  .map(doc => (\r\n                    <ListItem key={doc.id}>\r\n                      <ListItemIcon>\r\n                        <CheckCircleIcon color=\"success\" />\r\n                      </ListItemIcon>\r\n                      <ListItemText \r\n                        primary={doc.title}\r\n                        secondary={`Expire le ${new Date(doc.expiryDate).toLocaleDateString()}`}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                \r\n                {documents.filter(doc => doc.expiryDate && getExpiryStatus(doc.expiryDate)?.color === 'success').length === 0 && (\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    Aucun document valide\r\n                  </Typography>\r\n                )}\r\n              </List>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VehicleDocuments; \r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,SAASC,cAAc,QAAQ,+BAA+B;AAC9D,SACEC,GAAG,EACHC,MAAM,EACNC,UAAU,EACVC,KAAK,EACLC,KAAK,EACLC,SAAS,EACTC,SAAS,EACTC,cAAc,EACdC,SAAS,EACTC,QAAQ,EACRC,IAAI,EACJC,UAAU,EACVC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,SAAS,EACTC,IAAI,EACJC,KAAK,EACLC,gBAAgB,EAChBC,IAAI,EACJC,QAAQ,EACRC,YAAY,EACZC,YAAY,EACZC,KAAK,QAKA,eAAe;AACtB,SACEC,GAAG,IAAIC,OAAO,EACdC,IAAI,IAAIC,QAAQ,EAChBC,MAAM,IAAIC,UAAU,EACpBC,WAAW,IAAIC,eAAe,EAC9BC,OAAO,IAAIC,WAAW,EACtBC,WAAW,IAAIC,eAAe,EAC9BC,KAAK,IAAIC,SAAS,EAClBC,UAAU,IAAIC,cAAc,EAC5BC,QAAQ,IAAIC,YAAY,EACxBC,YAAY,IAAIC,OAAO,EACvBC,KAAK,IAAIC,SAAS,EAClBf,WAAW,IAAIgB,OAAO,QACjB,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAM7B,MAAMC,gBAAiD,GAAGA,CAAC;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACzE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGzD,QAAQ,CAAoB,EAAE,CAAC;EACjE,MAAM,CAAC0D,OAAO,EAAEC,UAAU,CAAC,GAAG3D,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC4D,KAAK,EAAEC,QAAQ,CAAC,GAAG7D,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAM,CAAC8D,UAAU,EAAEC,aAAa,CAAC,GAAG/D,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACgE,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjE,QAAQ,CAAyB,IAAI,CAAC;EACtF,MAAM,CAACkE,QAAQ,EAAEC,WAAW,CAAC,GAAGnE,QAAQ,CAA2B;IACjEoE,KAAK,EAAE,EAAE;IACTC,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACjDC,UAAU,EAAE,EAAE;IACdC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG7E,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC8E,UAAU,EAAEC,aAAa,CAAC,GAAG/E,QAAQ,CAAgB,IAAI,CAAC;EAEjEC,SAAS,CAAC,MAAM;IACd+E,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAAC1B,OAAO,CAAC2B,EAAE,CAAC,CAAC;EAEhB,MAAMD,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACFrB,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,MAAMqB,IAAI,GAAG,MAAMhF,cAAc,CAACiF,YAAY,CAAC7B,OAAO,CAAC2B,EAAE,CAAC;MAC1DxB,YAAY,CAACyB,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOE,GAAQ,EAAE;MACjBvB,QAAQ,CAACuB,GAAG,CAACC,OAAO,IAAI,yCAAyC,CAAC;MAClEC,OAAO,CAAC1B,KAAK,CAAC,SAAS,EAAEwB,GAAG,CAAC;IAC/B,CAAC,SAAS;MACRzB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM4B,gBAAgB,GAAIC,QAA0B,IAAK;IACvD,IAAIA,QAAQ,EAAE;MACZvB,mBAAmB,CAACuB,QAAQ,CAAC;MAC7BrB,WAAW,CAACqB,QAAQ,CAAC;IACvB,CAAC,MAAM;MACLvB,mBAAmB,CAAC,IAAI,CAAC;MACzBE,WAAW,CAAC;QACVC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,WAAW;QACjBC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACjDC,UAAU,EAAE,EAAE;QACdC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ;IACAZ,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAM0B,iBAAiB,GAAGA,CAAA,KAAM;IAC9B1B,aAAa,CAAC,KAAK,CAAC;IACpBE,mBAAmB,CAAC,IAAI,CAAC;IACzBE,WAAW,CAAC;MACVC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE,WAAW;MACjBC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACjDC,UAAU,EAAE,EAAE;MACdC,KAAK,EAAE;IACT,CAAC,CAAC;EACJ,CAAC;EAED,MAAMe,iBAAiB,GAAIC,CAAsC,IAAK;IACpE,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChC3B,WAAW,CAAC4B,IAAI,KAAK;MACnB,GAAGA,IAAI;MACP,CAACH,IAAI,GAAGC;IACV,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMG,gBAAgB,GAAG,MAAOL,CAAsC,IAAK;IAAA,IAAAM,eAAA;IACzE,MAAMC,IAAI,IAAAD,eAAA,GAAGN,CAAC,CAACG,MAAM,CAACK,KAAK,cAAAF,eAAA,uBAAdA,eAAA,CAAiB,CAAC,CAAC;IAChC,IAAIC,IAAI,EAAE;MACR,IAAI;QACF,MAAME,WAAW,GAAG,MAAMlG,cAAc,CAACmG,cAAc,CAAC/C,OAAO,CAAC2B,EAAE,EAAEiB,IAAI,CAAC;QACzE/B,WAAW,CAAC4B,IAAI,KAAK;UACnB,GAAGA,IAAI;UACPO,OAAO,EAAEF,WAAW,CAACE,OAAO;UAC5BC,QAAQ,EAAEL,IAAI,CAACN,IAAI;UACnBY,QAAQ,EAAEN,IAAI,CAAC7B;QACjB,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,OAAOe,GAAQ,EAAE;QACjBvB,QAAQ,CAACuB,GAAG,CAACC,OAAO,IAAI,0CAA0C,CAAC;QACnEC,OAAO,CAAC1B,KAAK,CAAC,SAAS,EAAEwB,GAAG,CAAC;MAC/B;IACF;EACF,CAAC;EAED,MAAMqB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,IAAIzC,gBAAgB,EAAE;QACpB,MAAM9D,cAAc,CAACwG,cAAc,CAACpD,OAAO,CAAC2B,EAAE,EAAEjB,gBAAgB,CAACiB,EAAE,EAAEf,QAA2B,CAAC;MACnG,CAAC,MAAM;QACL,MAAMhE,cAAc,CAACyG,oBAAoB,CAACrD,OAAO,CAAC2B,EAAE,EAAEf,QAA2B,CAAC;MACpF;MACAuB,iBAAiB,CAAC,CAAC;MACnBT,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOI,GAAQ,EAAE;MACjBvB,QAAQ,CAACuB,GAAG,CAACC,OAAO,IAAI,0CAA0C,CAAC;MACnEC,OAAO,CAAC1B,KAAK,CAAC,SAAS,EAAEwB,GAAG,CAAC;IAC/B;EACF,CAAC;EAED,MAAMwB,YAAY,GAAG,MAAOC,UAAkB,IAAK;IACjD,IAAIC,MAAM,CAACC,OAAO,CAAC,kDAAkD,CAAC,EAAE;MACtE,IAAI;QACF,MAAM7G,cAAc,CAAC8G,cAAc,CAAC1D,OAAO,CAAC2B,EAAE,EAAE4B,UAAU,CAAC;QAC3D7B,aAAa,CAAC,CAAC;MACjB,CAAC,CAAC,OAAOI,GAAQ,EAAE;QACjBvB,QAAQ,CAACuB,GAAG,CAACC,OAAO,IAAI,2CAA2C,CAAC;QACpEC,OAAO,CAAC1B,KAAK,CAAC,SAAS,EAAEwB,GAAG,CAAC;MAC/B;IACF;EACF,CAAC;EAED,MAAM6B,aAAa,GAAIzB,QAAyB,IAAK;IACnDT,aAAa,CAACS,QAAQ,CAACc,OAAO,CAAC;IAC/BzB,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAMqC,mBAAmB,GAAI7C,IAAY,IAAK;IAC5C,QAAQA,IAAI;MACV,KAAK,WAAW;QACd,oBAAOjB,OAAA,CAACjB,eAAe;UAAAoE,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC5B,KAAK,cAAc;QACjB,oBAAOjE,OAAA,CAACjB,eAAe;UAAAoE,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC5B,KAAK,YAAY;QACf,oBAAOjE,OAAA,CAACjB,eAAe;UAAAoE,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC5B,KAAK,aAAa;QAChB,oBAAOjE,OAAA,CAACjB,eAAe;UAAAoE,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC5B,KAAK,OAAO;QACV,oBAAOjE,OAAA,CAACjB,eAAe;UAAAoE,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAC5B;QACE,oBAAOjE,OAAA,CAACjB,eAAe;UAAAoE,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IAC9B;EACF,CAAC;EAED,MAAMC,oBAAoB,GAAIjD,IAAY,IAAK;IAC7C,QAAQA,IAAI;MACV,KAAK,WAAW;QACd,OAAO,WAAW;MACpB,KAAK,cAAc;QACjB,OAAO,aAAa;MACtB,KAAK,YAAY;QACf,OAAO,oBAAoB;MAC7B,KAAK,aAAa;QAChB,OAAO,aAAa;MACtB,KAAK,OAAO;QACV,OAAO,OAAO;MAChB;QACE,OAAOA,IAAI;IACf;EACF,CAAC;EAED,MAAMkD,eAAe,GAAI7C,UAAkB,IAAK;IAC9C,IAAI,CAACA,UAAU,EAAE,OAAO,IAAI;IAE5B,MAAM8C,OAAO,GAAG,IAAIjD,IAAI,CAACG,UAAU,CAAC;IACpC,MAAM+C,KAAK,GAAG,IAAIlD,IAAI,CAAC,CAAC;IACxB,MAAMmD,eAAe,GAAGC,IAAI,CAACC,IAAI,CAAC,CAACJ,OAAO,CAACK,OAAO,CAAC,CAAC,GAAGJ,KAAK,CAACI,OAAO,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAEhG,IAAIH,eAAe,GAAG,CAAC,EAAE;MACvB,OAAO;QAAEI,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAS,CAAC;IAC5C,CAAC,MAAM,IAAIL,eAAe,IAAI,EAAE,EAAE;MAChC,OAAO;QAAEI,KAAK,EAAE,SAAS;QAAEC,KAAK,EAAE;MAAiB,CAAC;IACtD,CAAC,MAAM;MACL,OAAO;QAAED,KAAK,EAAE,SAAS;QAAEC,KAAK,EAAE;MAAS,CAAC;IAC9C;EACF,CAAC;EAED,MAAMC,WAAW,GAAIxB,QAAgB,IAAK;IACxC,IAAIA,QAAQ,CAACyB,QAAQ,CAAC,KAAK,CAAC,EAAE;MAC5B,oBAAO7E,OAAA,CAACL,OAAO;QAAAwD,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACpB,CAAC,MAAM,IAAIb,QAAQ,CAACyB,QAAQ,CAAC,OAAO,CAAC,EAAE;MACrC,oBAAO7E,OAAA,CAACH,SAAS;QAAAsD,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACtB,CAAC,MAAM;MACL,oBAAOjE,OAAA,CAACF,OAAO;QAAAqD,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACpB;EACF,CAAC;EAED,oBACEjE,OAAA,CAACjD,GAAG;IAAA+H,QAAA,gBACF9E,OAAA,CAACjD,GAAG;MAACgI,EAAE,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,eAAe;QAAEC,UAAU,EAAE,QAAQ;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAL,QAAA,gBACzF9E,OAAA,CAAC/C,UAAU;QAACmI,OAAO,EAAC,IAAI;QAAAN,QAAA,EAAC;MAAqB;QAAA3B,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eAC3DjE,OAAA,CAAChD,MAAM;QACLoI,OAAO,EAAC,WAAW;QACnBC,SAAS,eAAErF,OAAA,CAACvB,OAAO;UAAA0E,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAE;QACvBqB,OAAO,EAAEA,CAAA,KAAMnD,gBAAgB,CAAC,CAAE;QAAA2C,QAAA,EACnC;MAED;QAAA3B,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAd,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELzD,KAAK,iBACJR,OAAA,CAAC/B,KAAK;MAACsH,QAAQ,EAAC,OAAO;MAACR,EAAE,EAAE;QAAEI,EAAE,EAAE;MAAE,CAAE;MAAAL,QAAA,EACnCtE;IAAK;MAAA2C,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CACR,EAEA3D,OAAO,iBACNN,OAAA,CAACjD,GAAG;MAACgI,EAAE,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,QAAQ;QAAEO,EAAE,EAAE;MAAE,CAAE;MAAAV,QAAA,eAC5D9E,OAAA,CAAC9B,gBAAgB;QAAAiF,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAd,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CACN,EAEA7D,SAAS,CAACqF,MAAM,KAAK,CAAC,gBACrBzF,OAAA,CAAC/B,KAAK;MAACsH,QAAQ,EAAC,MAAM;MAAAT,QAAA,EAAC;IAEvB;MAAA3B,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,gBAERjE,OAAA,CAAC1C,cAAc;MAACoI,SAAS,EAAExI,KAAM;MAACkI,OAAO,EAAC,UAAU;MAAAN,QAAA,eAClD9E,OAAA,CAAC7C,KAAK;QAAA2H,QAAA,gBACJ9E,OAAA,CAACzC,SAAS;UAAAuH,QAAA,eACR9E,OAAA,CAACxC,QAAQ;YAAAsH,QAAA,gBACP9E,OAAA,CAAC3C,SAAS;cAAAyH,QAAA,EAAC;YAAQ;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC,eAC/BjE,OAAA,CAAC3C,SAAS;cAAAyH,QAAA,EAAC;YAAI;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC,eAC3BjE,OAAA,CAAC3C,SAAS;cAAAyH,QAAA,EAAC;YAAe;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC,eACtCjE,OAAA,CAAC3C,SAAS;cAAAyH,QAAA,EAAC;YAAiB;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC,eACxCjE,OAAA,CAAC3C,SAAS;cAAAyH,QAAA,EAAC;YAAM;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC,eAC7BjE,OAAA,CAAC3C,SAAS;cAACsI,KAAK,EAAC,OAAO;cAAAb,QAAA,EAAC;YAAO;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC;UAAA;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC;QAAC;UAAAd,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACZjE,OAAA,CAAC5C,SAAS;UAAA0H,QAAA,EACP1E,SAAS,CAACwF,GAAG,CAAExD,QAAQ;YAAA,IAAAyD,gBAAA,EAAAC,iBAAA;YAAA,oBACtB9F,OAAA,CAACxC,QAAQ;cAAAsH,QAAA,gBACP9E,OAAA,CAAC3C,SAAS;gBAAAyH,QAAA,eACR9E,OAAA,CAACzB,KAAK;kBAACwH,SAAS,EAAC,KAAK;kBAACC,OAAO,EAAE,CAAE;kBAACd,UAAU,EAAC,QAAQ;kBAAAJ,QAAA,GACnDF,WAAW,CAACxC,QAAQ,CAACgB,QAAQ,CAAC,eAC/BpD,OAAA,CAAC/C,UAAU;oBAACmI,OAAO,EAAC,OAAO;oBAAAN,QAAA,EACxB1C,QAAQ,CAACpB;kBAAK;oBAAAmC,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC;gBAAA;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACR;cAAC;gBAAAd,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACZjE,OAAA,CAAC3C,SAAS;gBAAAyH,QAAA,eACR9E,OAAA,CAACzB,KAAK;kBAACwH,SAAS,EAAC,KAAK;kBAACC,OAAO,EAAE,CAAE;kBAACd,UAAU,EAAC,QAAQ;kBAAAJ,QAAA,GACnDhB,mBAAmB,CAAC1B,QAAQ,CAACnB,IAAI,CAAC,eACnCjB,OAAA,CAAC/C,UAAU;oBAACmI,OAAO,EAAC,OAAO;oBAAAN,QAAA,EACxBZ,oBAAoB,CAAC9B,QAAQ,CAACnB,IAAI;kBAAC;oBAAAkC,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1B,CAAC;gBAAA;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACR;cAAC;gBAAAd,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACZjE,OAAA,CAAC3C,SAAS;gBAAAyH,QAAA,EAAE,IAAI3D,IAAI,CAACiB,QAAQ,CAAClB,SAAS,CAAC,CAAC+E,kBAAkB,CAAC;cAAC;gBAAA9C,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CAAC,eAC1EjE,OAAA,CAAC3C,SAAS;gBAAAyH,QAAA,EACP1C,QAAQ,CAACd,UAAU,GAAG,IAAIH,IAAI,CAACiB,QAAQ,CAACd,UAAU,CAAC,CAAC2E,kBAAkB,CAAC,CAAC,GAAG;cAAG;gBAAA9C,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtE,CAAC,eACZjE,OAAA,CAAC3C,SAAS;gBAAAyH,QAAA,EACP1C,QAAQ,CAACd,UAAU,iBAClBtB,OAAA,CAACvC,IAAI;kBACHkH,KAAK,GAAAkB,gBAAA,GAAE1B,eAAe,CAAC/B,QAAQ,CAACd,UAAU,CAAC,cAAAuE,gBAAA,uBAApCA,gBAAA,CAAsClB,KAAM;kBACnDD,KAAK,GAAAoB,iBAAA,GAAE3B,eAAe,CAAC/B,QAAQ,CAACd,UAAU,CAAC,cAAAwE,iBAAA,uBAApCA,iBAAA,CAAsCpB,KAAa;kBAC1DwB,IAAI,EAAC;gBAAO;kBAAA/C,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACb;cACF;gBAAAd,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACQ,CAAC,eACZjE,OAAA,CAAC3C,SAAS;gBAACsI,KAAK,EAAC,OAAO;gBAAAb,QAAA,gBACtB9E,OAAA,CAACtC,UAAU;kBACTwI,IAAI,EAAC,OAAO;kBACZZ,OAAO,EAAEA,CAAA,KAAMzB,aAAa,CAACzB,QAAQ,CAAE;kBACvCpB,KAAK,EAAC,WAAQ;kBAAA8D,QAAA,eAEd9E,OAAA,CAACT,cAAc;oBAAC4G,QAAQ,EAAC;kBAAO;oBAAAhD,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzB,CAAC,eACbjE,OAAA,CAACtC,UAAU;kBACTwI,IAAI,EAAC,OAAO;kBACZE,IAAI,EAAEhE,QAAQ,CAACc,OAAQ;kBACvBR,MAAM,EAAC,QAAQ;kBACf2D,QAAQ;kBACRrF,KAAK,EAAC,mBAAa;kBAAA8D,QAAA,eAEnB9E,OAAA,CAACP,YAAY;oBAAC0G,QAAQ,EAAC;kBAAO;oBAAAhD,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvB,CAAC,eACbjE,OAAA,CAACtC,UAAU;kBACTwI,IAAI,EAAC,OAAO;kBACZZ,OAAO,EAAEA,CAAA,KAAMnD,gBAAgB,CAACC,QAAQ,CAAE;kBAC1CpB,KAAK,EAAC,WAAQ;kBAAA8D,QAAA,eAEd9E,OAAA,CAACrB,QAAQ;oBAACwH,QAAQ,EAAC;kBAAO;oBAAAhD,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,eACbjE,OAAA,CAACtC,UAAU;kBACTwI,IAAI,EAAC,OAAO;kBACZZ,OAAO,EAAEA,CAAA,KAAM9B,YAAY,CAACpB,QAAQ,CAACP,EAAE,CAAE;kBACzCb,KAAK,EAAC,WAAW;kBACjB0D,KAAK,EAAC,OAAO;kBAAAI,QAAA,eAEb9E,OAAA,CAACnB,UAAU;oBAACsH,QAAQ,EAAC;kBAAO;oBAAAhD,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrB,CAAC;cAAA;gBAAAd,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA,GA9DC7B,QAAQ,CAACP,EAAE;cAAAsB,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA+DhB,CAAC;UAAA,CACZ;QAAC;UAAAd,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACO,CAAC;MAAA;QAAAd,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP;IAAC;MAAAd,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACM,CACjB,eAGDjE,OAAA,CAACrC,MAAM;MACL2I,IAAI,EAAE5F,UAAW;MACjB6F,OAAO,EAAElE,iBAAkB;MAC3BmE,QAAQ,EAAC,IAAI;MACbC,SAAS;MAAA3B,QAAA,gBAET9E,OAAA,CAACpC,WAAW;QAAAkH,QAAA,EACTlE,gBAAgB,GAAG,sBAAsB,GAAG;MAAkB;QAAAuC,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,eACdjE,OAAA,CAACnC,aAAa;QAAC6I,QAAQ;QAAA5B,QAAA,eACrB9E,OAAA,CAAChC,IAAI;UAAC2I,SAAS;UAACX,OAAO,EAAE,CAAE;UAAAlB,QAAA,gBACzB9E,OAAA,CAAChC,IAAI;YAAC4I,IAAI;YAACC,EAAE,EAAE,EAAG;YAAA/B,QAAA,eAChB9E,OAAA,CAACjC,SAAS;cACR0I,SAAS;cACT9B,KAAK,EAAC,OAAO;cACbnC,IAAI,EAAC,OAAO;cACZC,KAAK,EAAE3B,QAAQ,CAACE,KAAM;cACtB8F,QAAQ,EAAExE;YAAkB;cAAAa,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B;UAAC;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACPjE,OAAA,CAAChC,IAAI;YAAC4I,IAAI;YAACC,EAAE,EAAE,EAAG;YAACE,EAAE,EAAE,CAAE;YAAAjC,QAAA,eACvB9E,OAAA,CAACjC,SAAS;cACR0I,SAAS;cACT9B,KAAK,EAAC,MAAM;cACZnC,IAAI,EAAC,MAAM;cACXC,KAAK,EAAE3B,QAAQ,CAACG,IAAK;cACrB6F,QAAQ,EAAExE,iBAAkB;cAC5B0E,MAAM;cACNC,WAAW,EAAE;gBAAEC,MAAM,EAAE;cAAK,CAAE;cAAApC,QAAA,gBAE9B9E,OAAA;gBAAQyC,KAAK,EAAC,WAAW;gBAAAqC,QAAA,EAAC;cAAS;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC5CjE,OAAA;gBAAQyC,KAAK,EAAC,cAAc;gBAAAqC,QAAA,EAAC;cAAW;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACjDjE,OAAA;gBAAQyC,KAAK,EAAC,YAAY;gBAAAqC,QAAA,EAAC;cAAkB;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACtDjE,OAAA;gBAAQyC,KAAK,EAAC,aAAa;gBAAAqC,QAAA,EAAC;cAAW;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAChDjE,OAAA;gBAAQyC,KAAK,EAAC,OAAO;gBAAAqC,QAAA,EAAC;cAAK;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAd,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B;UAAC;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eACPjE,OAAA,CAAChC,IAAI;YAAC4I,IAAI;YAACC,EAAE,EAAE,EAAG;YAACE,EAAE,EAAE,CAAE;YAAAjC,QAAA,eACvB9E,OAAA,CAACjC,SAAS;cACR0I,SAAS;cACT9B,KAAK,EAAC,oBAAiB;cACvB1D,IAAI,EAAC,MAAM;cACXuB,IAAI,EAAC,WAAW;cAChBC,KAAK,EAAE3B,QAAQ,CAACI,SAAU;cAC1B4F,QAAQ,EAAExE,iBAAkB;cAC5B6E,eAAe,EAAE;gBAAEC,MAAM,EAAE;cAAK;YAAE;cAAAjE,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC;UAAC;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACPjE,OAAA,CAAChC,IAAI;YAAC4I,IAAI;YAACC,EAAE,EAAE,EAAG;YAACE,EAAE,EAAE,CAAE;YAAAjC,QAAA,eACvB9E,OAAA,CAACjC,SAAS;cACR0I,SAAS;cACT9B,KAAK,EAAC,mBAAmB;cACzB1D,IAAI,EAAC,MAAM;cACXuB,IAAI,EAAC,YAAY;cACjBC,KAAK,EAAE3B,QAAQ,CAACQ,UAAW;cAC3BwF,QAAQ,EAAExE,iBAAkB;cAC5B6E,eAAe,EAAE;gBAAEC,MAAM,EAAE;cAAK;YAAE;cAAAjE,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC;UAAC;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACPjE,OAAA,CAAChC,IAAI;YAAC4I,IAAI;YAACC,EAAE,EAAE,EAAG;YAAA/B,QAAA,eAChB9E,OAAA,CAACjC,SAAS;cACR0I,SAAS;cACT9B,KAAK,EAAC,OAAO;cACbnC,IAAI,EAAC,OAAO;cACZC,KAAK,EAAE3B,QAAQ,CAACS,KAAM;cACtBuF,QAAQ,EAAExE,iBAAkB;cAC5B+E,SAAS;cACTC,IAAI,EAAE;YAAE;cAAAnE,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT;UAAC;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACPjE,OAAA,CAAChC,IAAI;YAAC4I,IAAI;YAACC,EAAE,EAAE,EAAG;YAAA/B,QAAA,gBAChB9E,OAAA,CAAChD,MAAM;cACLoI,OAAO,EAAC,UAAU;cAClBM,SAAS,EAAC,OAAO;cACjBe,SAAS;cACTpB,SAAS,eAAErF,OAAA,CAACvB,OAAO;gBAAA0E,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAE;cAAAa,QAAA,GACxB,8BAEC,eAAA9E,OAAA;gBACEiB,IAAI,EAAC,MAAM;gBACXsG,MAAM;gBACNT,QAAQ,EAAElE,gBAAiB;gBAC3B4E,MAAM,EAAC;cAAiC;gBAAArE,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzC,CAAC;YAAA;cAAAd,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC,EACRnD,QAAQ,CAACqC,QAAQ,iBAChBnD,OAAA,CAAC/C,UAAU;cAACmI,OAAO,EAAC,OAAO;cAACV,KAAK,EAAC,gBAAgB;cAACK,EAAE,EAAE;gBAAE0C,EAAE,EAAE;cAAE,CAAE;cAAA3C,QAAA,GAAC,6BAC3C,EAAChE,QAAQ,CAACqC,QAAQ;YAAA;cAAAA,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CACb;UAAA;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAd,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAd,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACM,CAAC,eAChBjE,OAAA,CAAClC,aAAa;QAAAgH,QAAA,gBACZ9E,OAAA,CAAChD,MAAM;UAACsI,OAAO,EAAEjD,iBAAkB;UAAAyC,QAAA,EAAC;QAAO;UAAA3B,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACpDjE,OAAA,CAAChD,MAAM;UAACsI,OAAO,EAAEjC,YAAa;UAAC+B,OAAO,EAAC,WAAW;UAAAN,QAAA,EAC/ClE,gBAAgB,GAAG,UAAU,GAAG;QAAS;UAAAuC,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC;MAAA;QAAAd,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAd,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,eAGTjE,OAAA,CAACrC,MAAM;MACL2I,IAAI,EAAE9E,WAAY;MAClB+E,OAAO,EAAEA,CAAA,KAAM9E,cAAc,CAAC,KAAK,CAAE;MACrC+E,QAAQ,EAAC,IAAI;MACbC,SAAS;MAAA3B,QAAA,gBAET9E,OAAA,CAACpC,WAAW;QAAAkH,QAAA,EAAC;MAEb;QAAA3B,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAAC,eACdjE,OAAA,CAACnC,aAAa;QAAAiH,QAAA,EACXpD,UAAU,iBACT1B,OAAA,CAACjD,GAAG;UACFgI,EAAE,EAAE;YACFC,OAAO,EAAE,MAAM;YACfC,cAAc,EAAE,QAAQ;YACxBC,UAAU,EAAE,QAAQ;YACpBwC,MAAM,EAAE;UACV,CAAE;UAAA5C,QAAA,EAEDpD,UAAU,CAACmD,QAAQ,CAAC,MAAM,CAAC,gBAC1B7E,OAAA;YACE2H,GAAG,EAAEjG,UAAW;YAChBkG,KAAK,EAAE;cAAEC,KAAK,EAAE,MAAM;cAAEH,MAAM,EAAE,MAAM;cAAEI,MAAM,EAAE;YAAO,CAAE;YACzD9G,KAAK,EAAC;UAAkB;YAAAmC,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,gBAEFjE,OAAA;YACE2H,GAAG,EAAEjG,UAAW;YAChBqG,GAAG,EAAC,kBAAkB;YACtBH,KAAK,EAAE;cAAEpB,QAAQ,EAAE,MAAM;cAAEwB,SAAS,EAAE,MAAM;cAAEC,SAAS,EAAE;YAAU;UAAE;YAAA9E,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtE;QACF;UAAAd,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE;MACN;QAAAd,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACY,CAAC,eAChBjE,OAAA,CAAClC,aAAa;QAAAgH,QAAA,gBACZ9E,OAAA,CAAChD,MAAM;UAACsI,OAAO,EAAEA,CAAA,KAAM7D,cAAc,CAAC,KAAK,CAAE;UAAAqD,QAAA,EAAC;QAE9C;UAAA3B,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACRvC,UAAU,iBACT1B,OAAA,CAAChD,MAAM;UACLoJ,IAAI,EAAE1E,UAAW;UACjBgB,MAAM,EAAC,QAAQ;UACf2D,QAAQ;UACRjB,OAAO,EAAC,WAAW;UACnBC,SAAS,eAAErF,OAAA,CAACP,YAAY;YAAA0D,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UAAAa,QAAA,EAC7B;QAED;UAAA3B,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAd,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACY,CAAC;IAAA;MAAAd,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,eAGTjE,OAAA,CAACjD,GAAG;MAACgI,EAAE,EAAE;QAAE0C,EAAE,EAAE;MAAE,CAAE;MAAA3C,QAAA,gBACjB9E,OAAA,CAAC/C,UAAU;QAACmI,OAAO,EAAC,IAAI;QAAC8C,YAAY;QAAApD,QAAA,EAAC;MAEtC;QAAA3B,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACbjE,OAAA,CAAChC,IAAI;QAAC2I,SAAS;QAACX,OAAO,EAAE,CAAE;QAAAlB,QAAA,gBACzB9E,OAAA,CAAChC,IAAI;UAAC4I,IAAI;UAACC,EAAE,EAAE,EAAG;UAACsB,EAAE,EAAE,CAAE;UAAArD,QAAA,eACvB9E,OAAA,CAAC9C,KAAK;YAACkI,OAAO,EAAC,UAAU;YAACL,EAAE,EAAE;cAAEqD,CAAC,EAAE;YAAE,CAAE;YAAAtD,QAAA,gBACrC9E,OAAA,CAAC/C,UAAU;cAACmI,OAAO,EAAC,WAAW;cAAC8C,YAAY;cAAApD,QAAA,EAAC;YAE7C;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbjE,OAAA,CAAC7B,IAAI;cAACkK,KAAK;cAAAvD,QAAA,GACR1E,SAAS,CACPkI,MAAM,CAACC,GAAG;gBAAA,IAAAC,iBAAA;gBAAA,OAAID,GAAG,CAACjH,UAAU,IAAI,EAAAkH,iBAAA,GAAArE,eAAe,CAACoE,GAAG,CAACjH,UAAU,CAAC,cAAAkH,iBAAA,uBAA/BA,iBAAA,CAAiC9D,KAAK,MAAK,OAAO;cAAA,EAAC,CACnFkB,GAAG,CAAC2C,GAAG,iBACNvI,OAAA,CAAC5B,QAAQ;gBAAA0G,QAAA,gBACP9E,OAAA,CAAC1B,YAAY;kBAAAwG,QAAA,eACX9E,OAAA,CAACX,SAAS;oBAACqF,KAAK,EAAC;kBAAO;oBAAAvB,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACf,CAAC,eACfjE,OAAA,CAAC3B,YAAY;kBACXoK,OAAO,EAAEF,GAAG,CAACvH,KAAM;kBACnB0H,SAAS,EAAE,aAAa,IAAIvH,IAAI,CAACoH,GAAG,CAACjH,UAAU,CAAC,CAAC2E,kBAAkB,CAAC,CAAC;gBAAG;kBAAA9C,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzE,CAAC;cAAA,GAPWsE,GAAG,CAAC1G,EAAE;gBAAAsB,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQX,CACX,CAAC,EAEH7D,SAAS,CAACkI,MAAM,CAACC,GAAG;gBAAA,IAAAI,iBAAA;gBAAA,OAAIJ,GAAG,CAACjH,UAAU,IAAI,EAAAqH,iBAAA,GAAAxE,eAAe,CAACoE,GAAG,CAACjH,UAAU,CAAC,cAAAqH,iBAAA,uBAA/BA,iBAAA,CAAiCjE,KAAK,MAAK,OAAO;cAAA,EAAC,CAACe,MAAM,KAAK,CAAC,iBACzGzF,OAAA,CAAC/C,UAAU;gBAACmI,OAAO,EAAC,OAAO;gBAACV,KAAK,EAAC,gBAAgB;gBAAAI,QAAA,EAAC;cAEnD;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CACb;YAAA;cAAAd,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAd,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eAEPjE,OAAA,CAAChC,IAAI;UAAC4I,IAAI;UAACC,EAAE,EAAE,EAAG;UAACsB,EAAE,EAAE,CAAE;UAAArD,QAAA,eACvB9E,OAAA,CAAC9C,KAAK;YAACkI,OAAO,EAAC,UAAU;YAACL,EAAE,EAAE;cAAEqD,CAAC,EAAE;YAAE,CAAE;YAAAtD,QAAA,gBACrC9E,OAAA,CAAC/C,UAAU;cAACmI,OAAO,EAAC,WAAW;cAAC8C,YAAY;cAAApD,QAAA,EAAC;YAE7C;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbjE,OAAA,CAAC7B,IAAI;cAACkK,KAAK;cAAAvD,QAAA,GACR1E,SAAS,CACPkI,MAAM,CAACC,GAAG;gBAAA,IAAAK,iBAAA;gBAAA,OAAIL,GAAG,CAACjH,UAAU,IAAI,EAAAsH,iBAAA,GAAAzE,eAAe,CAACoE,GAAG,CAACjH,UAAU,CAAC,cAAAsH,iBAAA,uBAA/BA,iBAAA,CAAiClE,KAAK,MAAK,SAAS;cAAA,EAAC,CACrFkB,GAAG,CAAC2C,GAAG,iBACNvI,OAAA,CAAC5B,QAAQ;gBAAA0G,QAAA,gBACP9E,OAAA,CAAC1B,YAAY;kBAAAwG,QAAA,eACX9E,OAAA,CAACf,WAAW;oBAACyF,KAAK,EAAC;kBAAS;oBAAAvB,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnB,CAAC,eACfjE,OAAA,CAAC3B,YAAY;kBACXoK,OAAO,EAAEF,GAAG,CAACvH,KAAM;kBACnB0H,SAAS,EAAE,aAAa,IAAIvH,IAAI,CAACoH,GAAG,CAACjH,UAAU,CAAC,CAAC2E,kBAAkB,CAAC,CAAC;gBAAG;kBAAA9C,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzE,CAAC;cAAA,GAPWsE,GAAG,CAAC1G,EAAE;gBAAAsB,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQX,CACX,CAAC,EAEH7D,SAAS,CAACkI,MAAM,CAACC,GAAG;gBAAA,IAAAM,iBAAA;gBAAA,OAAIN,GAAG,CAACjH,UAAU,IAAI,EAAAuH,iBAAA,GAAA1E,eAAe,CAACoE,GAAG,CAACjH,UAAU,CAAC,cAAAuH,iBAAA,uBAA/BA,iBAAA,CAAiCnE,KAAK,MAAK,SAAS;cAAA,EAAC,CAACe,MAAM,KAAK,CAAC,iBAC3GzF,OAAA,CAAC/C,UAAU;gBAACmI,OAAO,EAAC,OAAO;gBAACV,KAAK,EAAC,gBAAgB;gBAAAI,QAAA,EAAC;cAEnD;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CACb;YAAA;cAAAd,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAd,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eAEPjE,OAAA,CAAChC,IAAI;UAAC4I,IAAI;UAACC,EAAE,EAAE,EAAG;UAACsB,EAAE,EAAE,CAAE;UAAArD,QAAA,eACvB9E,OAAA,CAAC9C,KAAK;YAACkI,OAAO,EAAC,UAAU;YAACL,EAAE,EAAE;cAAEqD,CAAC,EAAE;YAAE,CAAE;YAAAtD,QAAA,gBACrC9E,OAAA,CAAC/C,UAAU;cAACmI,OAAO,EAAC,WAAW;cAAC8C,YAAY;cAAApD,QAAA,EAAC;YAE7C;cAAA3B,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAY,CAAC,eACbjE,OAAA,CAAC7B,IAAI;cAACkK,KAAK;cAAAvD,QAAA,GACR1E,SAAS,CACPkI,MAAM,CAACC,GAAG;gBAAA,IAAAO,iBAAA;gBAAA,OAAIP,GAAG,CAACjH,UAAU,IAAI,EAAAwH,iBAAA,GAAA3E,eAAe,CAACoE,GAAG,CAACjH,UAAU,CAAC,cAAAwH,iBAAA,uBAA/BA,iBAAA,CAAiCpE,KAAK,MAAK,SAAS;cAAA,EAAC,CACrFkB,GAAG,CAAC2C,GAAG,iBACNvI,OAAA,CAAC5B,QAAQ;gBAAA0G,QAAA,gBACP9E,OAAA,CAAC1B,YAAY;kBAAAwG,QAAA,eACX9E,OAAA,CAACb,eAAe;oBAACuF,KAAK,EAAC;kBAAS;oBAAAvB,QAAA,EAAAY,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAd,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACvB,CAAC,eACfjE,OAAA,CAAC3B,YAAY;kBACXoK,OAAO,EAAEF,GAAG,CAACvH,KAAM;kBACnB0H,SAAS,EAAE,aAAa,IAAIvH,IAAI,CAACoH,GAAG,CAACjH,UAAU,CAAC,CAAC2E,kBAAkB,CAAC,CAAC;gBAAG;kBAAA9C,QAAA,EAAAY,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzE,CAAC;cAAA,GAPWsE,GAAG,CAAC1G,EAAE;gBAAAsB,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAQX,CACX,CAAC,EAEH7D,SAAS,CAACkI,MAAM,CAACC,GAAG;gBAAA,IAAAQ,iBAAA;gBAAA,OAAIR,GAAG,CAACjH,UAAU,IAAI,EAAAyH,iBAAA,GAAA5E,eAAe,CAACoE,GAAG,CAACjH,UAAU,CAAC,cAAAyH,iBAAA,uBAA/BA,iBAAA,CAAiCrE,KAAK,MAAK,SAAS;cAAA,EAAC,CAACe,MAAM,KAAK,CAAC,iBAC3GzF,OAAA,CAAC/C,UAAU;gBAACmI,OAAO,EAAC,OAAO;gBAACV,KAAK,EAAC,gBAAgB;gBAAAI,QAAA,EAAC;cAEnD;gBAAA3B,QAAA,EAAAY,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAY,CACb;YAAA;cAAAd,QAAA,EAAAY,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC;UAAA;YAAAd,QAAA,EAAAY,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF;QAAC;UAAAd,QAAA,EAAAY,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAd,QAAA,EAAAY,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAd,QAAA,EAAAY,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAd,QAAA,EAAAY,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC9D,EAAA,CAniBIF,gBAAiD;AAAA+I,EAAA,GAAjD/I,gBAAiD;AAqiBvD,eAAeA,gBAAgB;AAAC,IAAA+I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}