var bie=Object.defineProperty;var xie=(t,e,n)=>e in t?bie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ye=(t,e,n)=>xie(t,typeof e!="symbol"?e+"":e,n);function QW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Eu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var JW={exports:{}},FE={},ZW={exports:{}},Hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=Symbol.for("react.element"),wie=Symbol.for("react.portal"),Sie=Symbol.for("react.fragment"),Cie=Symbol.for("react.strict_mode"),_ie=Symbol.for("react.profiler"),Eie=Symbol.for("react.provider"),Tie=Symbol.for("react.context"),Iie=Symbol.for("react.forward_ref"),Pie=Symbol.for("react.suspense"),Rie=Symbol.for("react.memo"),kie=Symbol.for("react.lazy"),WF=Symbol.iterator;function Die(t){return t===null||typeof t!="object"?null:(t=WF&&t[WF]||t["@@iterator"],typeof t=="function"?t:null)}var eU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tU=Object.assign,nU={};function mv(t,e,n){this.props=t,this.context=e,this.refs=nU,this.updater=n||eU}mv.prototype.isReactComponent={};mv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rU(){}rU.prototype=mv.prototype;function mO(t,e,n){this.props=t,this.context=e,this.refs=nU,this.updater=n||eU}var gO=mO.prototype=new rU;gO.constructor=mO;tU(gO,mv.prototype);gO.isPureReactComponent=!0;var UF=Array.isArray,oU=Object.prototype.hasOwnProperty,vO={current:null},iU={key:!0,ref:!0,__self:!0,__source:!0};function sU(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)oU.call(e,r)&&!iU.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:$x,type:t,key:i,ref:s,props:o,_owner:vO.current}}function $ie(t,e){return{$$typeof:$x,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yO(t){return typeof t=="object"&&t!==null&&t.$$typeof===$x}function Mie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qF=/\/+/g;function YI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mie(""+t.key):e.toString(36)}function TS(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $x:case wie:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+YI(s,0):r,UF(o)?(n="",t!=null&&(n=t.replace(qF,"$&/")+"/"),TS(o,e,n,"",function(c){return c})):o!=null&&(yO(o)&&(o=$ie(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(qF,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",UF(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+YI(i,a);s+=TS(i,e,n,l,o)}else if(l=Die(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+YI(i,a++),s+=TS(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qw(t,e,n){if(t==null)return t;var r=[],o=0;return TS(t,r,"","",function(i){return e.call(n,i,o++)}),r}function Oie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fs={current:null},IS={transition:null},Aie={ReactCurrentDispatcher:fs,ReactCurrentBatchConfig:IS,ReactCurrentOwner:vO};Hn.Children={map:Qw,forEach:function(t,e,n){Qw(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qw(t,function(){e++}),e},toArray:function(t){return Qw(t,function(e){return e})||[]},only:function(t){if(!yO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Hn.Component=mv;Hn.Fragment=Sie;Hn.Profiler=_ie;Hn.PureComponent=mO;Hn.StrictMode=Cie;Hn.Suspense=Pie;Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aie;Hn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tU({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=vO.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)oU.call(e,l)&&!iU.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$x,type:t.type,key:o,ref:i,props:r,_owner:s}};Hn.createContext=function(t){return t={$$typeof:Tie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Eie,_context:t},t.Consumer=t};Hn.createElement=sU;Hn.createFactory=function(t){var e=sU.bind(null,t);return e.type=t,e};Hn.createRef=function(){return{current:null}};Hn.forwardRef=function(t){return{$$typeof:Iie,render:t}};Hn.isValidElement=yO;Hn.lazy=function(t){return{$$typeof:kie,_payload:{_status:-1,_result:t},_init:Oie}};Hn.memo=function(t,e){return{$$typeof:Rie,type:t,compare:e===void 0?null:e}};Hn.startTransition=function(t){var e=IS.transition;IS.transition={};try{t()}finally{IS.transition=e}};Hn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Hn.useCallback=function(t,e){return fs.current.useCallback(t,e)};Hn.useContext=function(t){return fs.current.useContext(t)};Hn.useDebugValue=function(){};Hn.useDeferredValue=function(t){return fs.current.useDeferredValue(t)};Hn.useEffect=function(t,e){return fs.current.useEffect(t,e)};Hn.useId=function(){return fs.current.useId()};Hn.useImperativeHandle=function(t,e,n){return fs.current.useImperativeHandle(t,e,n)};Hn.useInsertionEffect=function(t,e){return fs.current.useInsertionEffect(t,e)};Hn.useLayoutEffect=function(t,e){return fs.current.useLayoutEffect(t,e)};Hn.useMemo=function(t,e){return fs.current.useMemo(t,e)};Hn.useReducer=function(t,e,n){return fs.current.useReducer(t,e,n)};Hn.useRef=function(t){return fs.current.useRef(t)};Hn.useState=function(t){return fs.current.useState(t)};Hn.useSyncExternalStore=function(t,e,n){return fs.current.useSyncExternalStore(t,e,n)};Hn.useTransition=function(){return fs.current.useTransition()};Hn.version="18.2.0";ZW.exports=Hn;var h=ZW.exports;const oe=pv(h),mc=QW({__proto__:null,default:oe},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nie=h,jie=Symbol.for("react.element"),Lie=Symbol.for("react.fragment"),Fie=Object.prototype.hasOwnProperty,zie=Nie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bie={key:!0,ref:!0,__self:!0,__source:!0};function aU(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Fie.call(e,r)&&!Bie.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:jie,type:t,key:i,ref:s,props:o,_owner:zie.current}}FE.Fragment=Lie;FE.jsx=aU;FE.jsxs=aU;JW.exports=FE;var p=JW.exports,kk={},lU={exports:{}},da={},cU={exports:{}},uU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,L){var z=j.length;j.push(L);e:for(;0<z;){var V=z-1>>>1,W=j[V];if(0<o(W,L))j[V]=L,j[z]=W,z=V;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],z=j.pop();if(z!==L){j[0]=z;e:for(var V=0,W=j.length,Y=W>>>1;V<Y;){var U=2*(V+1)-1,q=j[U],K=U+1,J=j[K];if(0>o(q,z))K<W&&0>o(J,q)?(j[V]=J,j[K]=z,V=K):(j[V]=q,j[U]=z,V=U);else if(K<W&&0>o(J,z))j[V]=J,j[K]=z,V=K;else break e}}return L}function o(j,L){var z=j.sortIndex-L.sortIndex;return z!==0?z:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=j)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function C(j){if(v=!1,w(j),!g)if(n(l)!==null)g=!0,N(E);else{var L=n(c);L!==null&&O(C,L.startTime-j)}}function E(j,L){g=!1,v&&(v=!1,b(T),T=-1),m=!0;var z=f;try{for(w(L),d=n(l);d!==null&&(!(d.expirationTime>L)||j&&!M());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var W=V(d.expirationTime<=L);L=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),w(L)}else r(l);d=n(l)}if(d!==null)var Y=!0;else{var U=n(c);U!==null&&O(C,U.startTime-L),Y=!1}return Y}finally{d=null,f=z,m=!1}}var _=!1,S=null,T=-1,I=5,P=-1;function M(){return!(t.unstable_now()-P<I)}function R(){if(S!==null){var j=t.unstable_now();P=j;var L=!0;try{L=S(!0,j)}finally{L?k():(_=!1,S=null)}}else _=!1}var k;if(typeof x=="function")k=function(){x(R)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,A=D.port2;D.port1.onmessage=R,k=function(){A.postMessage(null)}}else k=function(){y(R,0)};function N(j){S=j,_||(_=!0,k())}function O(j,L){T=y(function(){j(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,N(E))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return j()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var z=f;f=j;try{return L()}finally{f=z}},t.unstable_scheduleCallback=function(j,L,z){var V=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,j){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,j={id:u++,callback:L,priorityLevel:j,startTime:z,expirationTime:W,sortIndex:-1},z>V?(j.sortIndex=z,e(c,j),n(l)===null&&j===n(c)&&(v?(b(T),T=-1):v=!0,O(C,z-V))):(j.sortIndex=W,e(l,j),g||m||(g=!0,N(E))),j},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(j){var L=f;return function(){var z=f;f=L;try{return j.apply(this,arguments)}finally{f=z}}}})(uU);cU.exports=uU;var Vie=cU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU=h,ia=Vie;function St(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fU=new Set,sb={};function sp(t,e){vg(t,e),vg(t+"Capture",e)}function vg(t,e){for(sb[t]=e,t=0;t<e.length;t++)fU.add(e[t])}var mu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dk=Object.prototype.hasOwnProperty,Hie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KF={},GF={};function Wie(t){return Dk.call(GF,t)?!0:Dk.call(KF,t)?!1:Hie.test(t)?GF[t]=!0:(KF[t]=!0,!1)}function Uie(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qie(t,e,n,r){if(e===null||typeof e>"u"||Uie(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hs(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ei[t]=new hs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ei[e]=new hs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ei[t]=new hs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ei[t]=new hs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ei[t]=new hs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ei[t]=new hs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ei[t]=new hs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ei[t]=new hs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ei[t]=new hs(t,5,!1,t.toLowerCase(),null,!1,!1)});var bO=/[\-:]([a-z])/g;function xO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bO,xO);Ei[e]=new hs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bO,xO);Ei[e]=new hs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bO,xO);Ei[e]=new hs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ei[t]=new hs(t,1,!1,t.toLowerCase(),null,!1,!1)});Ei.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ei[t]=new hs(t,1,!1,t.toLowerCase(),null,!0,!0)});function wO(t,e,n,r){var o=Ei.hasOwnProperty(e)?Ei[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qie(e,n,o,r)&&(n=null),r||o===null?Wie(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tu=dU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jw=Symbol.for("react.element"),xm=Symbol.for("react.portal"),wm=Symbol.for("react.fragment"),SO=Symbol.for("react.strict_mode"),$k=Symbol.for("react.profiler"),hU=Symbol.for("react.provider"),pU=Symbol.for("react.context"),CO=Symbol.for("react.forward_ref"),Mk=Symbol.for("react.suspense"),Ok=Symbol.for("react.suspense_list"),_O=Symbol.for("react.memo"),od=Symbol.for("react.lazy"),mU=Symbol.for("react.offscreen"),YF=Symbol.iterator;function Zv(t){return t===null||typeof t!="object"?null:(t=YF&&t[YF]||t["@@iterator"],typeof t=="function"?t:null)}var po=Object.assign,XI;function Jy(t){if(XI===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);XI=e&&e[1]||""}return`
`+XI+t}var QI=!1;function JI(t,e){if(!t||QI)return"";QI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{QI=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jy(t):""}function Kie(t){switch(t.tag){case 5:return Jy(t.type);case 16:return Jy("Lazy");case 13:return Jy("Suspense");case 19:return Jy("SuspenseList");case 0:case 2:case 15:return t=JI(t.type,!1),t;case 11:return t=JI(t.type.render,!1),t;case 1:return t=JI(t.type,!0),t;default:return""}}function Ak(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wm:return"Fragment";case xm:return"Portal";case $k:return"Profiler";case SO:return"StrictMode";case Mk:return"Suspense";case Ok:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pU:return(t.displayName||"Context")+".Consumer";case hU:return(t._context.displayName||"Context")+".Provider";case CO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _O:return e=t.displayName||null,e!==null?e:Ak(t.type)||"Memo";case od:e=t._payload,t=t._init;try{return Ak(t(e))}catch{}}return null}function Gie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ak(e);case 8:return e===SO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yie(t){var e=gU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zw(t){t._valueTracker||(t._valueTracker=Yie(t))}function vU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function MC(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nk(t,e){var n=e.checked;return po({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function XF(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yU(t,e){e=e.checked,e!=null&&wO(t,"checked",e,!1)}function jk(t,e){yU(t,e);var n=Yd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lk(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lk(t,e.type,Yd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QF(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lk(t,e,n){(e!=="number"||MC(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zy=Array.isArray;function Um(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yd(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Fk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(St(91));return po({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function JF(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(St(92));if(Zy(n)){if(1<n.length)throw Error(St(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yd(n)}}function bU(t,e){var n=Yd(e.value),r=Yd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ZF(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var e1,wU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(e1=e1||document.createElement("div"),e1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=e1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ab(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var C0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xie=["Webkit","ms","Moz","O"];Object.keys(C0).forEach(function(t){Xie.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),C0[e]=C0[t]})});function SU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||C0.hasOwnProperty(t)&&C0[t]?(""+e).trim():e+"px"}function CU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=SU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var Qie=po({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bk(t,e){if(e){if(Qie[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(St(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(St(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(St(61))}if(e.style!=null&&typeof e.style!="object")throw Error(St(62))}}function Vk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hk=null;function EO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wk=null,qm=null,Km=null;function e4(t){if(t=Ax(t)){if(typeof Wk!="function")throw Error(St(280));var e=t.stateNode;e&&(e=WE(e),Wk(t.stateNode,t.type,e))}}function _U(t){qm?Km?Km.push(t):Km=[t]:qm=t}function EU(){if(qm){var t=qm,e=Km;if(Km=qm=null,e4(t),e)for(t=0;t<e.length;t++)e4(e[t])}}function TU(t,e){return t(e)}function IU(){}var ZI=!1;function PU(t,e,n){if(ZI)return t(e,n);ZI=!0;try{return TU(t,e,n)}finally{ZI=!1,(qm!==null||Km!==null)&&(IU(),EU())}}function lb(t,e){var n=t.stateNode;if(n===null)return null;var r=WE(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(St(231,e,typeof n));return n}var Uk=!1;if(mu)try{var ey={};Object.defineProperty(ey,"passive",{get:function(){Uk=!0}}),window.addEventListener("test",ey,ey),window.removeEventListener("test",ey,ey)}catch{Uk=!1}function Jie(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var _0=!1,OC=null,AC=!1,qk=null,Zie={onError:function(t){_0=!0,OC=t}};function ese(t,e,n,r,o,i,s,a,l){_0=!1,OC=null,Jie.apply(Zie,arguments)}function tse(t,e,n,r,o,i,s,a,l){if(ese.apply(this,arguments),_0){if(_0){var c=OC;_0=!1,OC=null}else throw Error(St(198));AC||(AC=!0,qk=c)}}function ap(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t4(t){if(ap(t)!==t)throw Error(St(188))}function nse(t){var e=t.alternate;if(!e){if(e=ap(t),e===null)throw Error(St(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return t4(o),t;if(i===r)return t4(o),e;i=i.sibling}throw Error(St(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(St(189))}}if(n.alternate!==r)throw Error(St(190))}if(n.tag!==3)throw Error(St(188));return n.stateNode.current===n?t:e}function kU(t){return t=nse(t),t!==null?DU(t):null}function DU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DU(t);if(e!==null)return e;t=t.sibling}return null}var $U=ia.unstable_scheduleCallback,n4=ia.unstable_cancelCallback,rse=ia.unstable_shouldYield,ose=ia.unstable_requestPaint,Po=ia.unstable_now,ise=ia.unstable_getCurrentPriorityLevel,TO=ia.unstable_ImmediatePriority,MU=ia.unstable_UserBlockingPriority,NC=ia.unstable_NormalPriority,sse=ia.unstable_LowPriority,OU=ia.unstable_IdlePriority,zE=null,nc=null;function ase(t){if(nc&&typeof nc.onCommitFiberRoot=="function")try{nc.onCommitFiberRoot(zE,t,void 0,(t.current.flags&128)===128)}catch{}}var al=Math.clz32?Math.clz32:use,lse=Math.log,cse=Math.LN2;function use(t){return t>>>=0,t===0?32:31-(lse(t)/cse|0)|0}var t1=64,n1=4194304;function e0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jC(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=e0(a):(i&=s,i!==0&&(r=e0(i)))}else s=n&~o,s!==0?r=e0(s):i!==0&&(r=e0(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-al(e),o=1<<n,r|=t[n],e&=~o;return r}function dse(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fse(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-al(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=dse(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Kk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AU(){var t=t1;return t1<<=1,!(t1&4194240)&&(t1=64),t}function eP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mx(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-al(e),t[e]=n}function hse(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-al(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function IO(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-al(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Sr=0;function NU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jU,PO,LU,FU,zU,Gk=!1,r1=[],Rd=null,kd=null,Dd=null,cb=new Map,ub=new Map,ad=[],pse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r4(t,e){switch(t){case"focusin":case"focusout":Rd=null;break;case"dragenter":case"dragleave":kd=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":cb.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ub.delete(e.pointerId)}}function ty(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Ax(e),e!==null&&PO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function mse(t,e,n,r,o){switch(e){case"focusin":return Rd=ty(Rd,t,e,n,r,o),!0;case"dragenter":return kd=ty(kd,t,e,n,r,o),!0;case"mouseover":return Dd=ty(Dd,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return cb.set(i,ty(cb.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ub.set(i,ty(ub.get(i)||null,t,e,n,r,o)),!0}return!1}function BU(t){var e=nh(t.target);if(e!==null){var n=ap(e);if(n!==null){if(e=n.tag,e===13){if(e=RU(n),e!==null){t.blockedOn=e,zU(t.priority,function(){LU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function PS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hk=r,n.target.dispatchEvent(r),Hk=null}else return e=Ax(n),e!==null&&PO(e),t.blockedOn=n,!1;e.shift()}return!0}function o4(t,e,n){PS(t)&&n.delete(e)}function gse(){Gk=!1,Rd!==null&&PS(Rd)&&(Rd=null),kd!==null&&PS(kd)&&(kd=null),Dd!==null&&PS(Dd)&&(Dd=null),cb.forEach(o4),ub.forEach(o4)}function ny(t,e){t.blockedOn===e&&(t.blockedOn=null,Gk||(Gk=!0,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,gse)))}function db(t){function e(o){return ny(o,t)}if(0<r1.length){ny(r1[0],t);for(var n=1;n<r1.length;n++){var r=r1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rd!==null&&ny(Rd,t),kd!==null&&ny(kd,t),Dd!==null&&ny(Dd,t),cb.forEach(e),ub.forEach(e),n=0;n<ad.length;n++)r=ad[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ad.length&&(n=ad[0],n.blockedOn===null);)BU(n),n.blockedOn===null&&ad.shift()}var Gm=Tu.ReactCurrentBatchConfig,LC=!0;function vse(t,e,n,r){var o=Sr,i=Gm.transition;Gm.transition=null;try{Sr=1,RO(t,e,n,r)}finally{Sr=o,Gm.transition=i}}function yse(t,e,n,r){var o=Sr,i=Gm.transition;Gm.transition=null;try{Sr=4,RO(t,e,n,r)}finally{Sr=o,Gm.transition=i}}function RO(t,e,n,r){if(LC){var o=Yk(t,e,n,r);if(o===null)uP(t,e,r,FC,n),r4(t,r);else if(mse(o,t,e,n,r))r.stopPropagation();else if(r4(t,r),e&4&&-1<pse.indexOf(t)){for(;o!==null;){var i=Ax(o);if(i!==null&&jU(i),i=Yk(t,e,n,r),i===null&&uP(t,e,r,FC,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else uP(t,e,r,null,n)}}var FC=null;function Yk(t,e,n,r){if(FC=null,t=EO(r),t=nh(t),t!==null)if(e=ap(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return FC=t,null}function VU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ise()){case TO:return 1;case MU:return 4;case NC:case sse:return 16;case OU:return 536870912;default:return 16}default:return 16}}var gd=null,kO=null,RS=null;function HU(){if(RS)return RS;var t,e=kO,n=e.length,r,o="value"in gd?gd.value:gd.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return RS=o.slice(t,1<r?1-r:void 0)}function kS(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function o1(){return!0}function i4(){return!1}function fa(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?o1:i4,this.isPropagationStopped=i4,this}return po(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=o1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=o1)},persist:function(){},isPersistent:o1}),e}var gv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DO=fa(gv),Ox=po({},gv,{view:0,detail:0}),bse=fa(Ox),tP,nP,ry,BE=po({},Ox,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$O,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ry&&(ry&&t.type==="mousemove"?(tP=t.screenX-ry.screenX,nP=t.screenY-ry.screenY):nP=tP=0,ry=t),tP)},movementY:function(t){return"movementY"in t?t.movementY:nP}}),s4=fa(BE),xse=po({},BE,{dataTransfer:0}),wse=fa(xse),Sse=po({},Ox,{relatedTarget:0}),rP=fa(Sse),Cse=po({},gv,{animationName:0,elapsedTime:0,pseudoElement:0}),_se=fa(Cse),Ese=po({},gv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tse=fa(Ese),Ise=po({},gv,{data:0}),a4=fa(Ise),Pse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dse(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kse[t])?!!e[t]:!1}function $O(){return Dse}var $se=po({},Ox,{key:function(t){if(t.key){var e=Pse[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kS(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rse[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$O,charCode:function(t){return t.type==="keypress"?kS(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kS(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mse=fa($se),Ose=po({},BE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l4=fa(Ose),Ase=po({},Ox,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$O}),Nse=fa(Ase),jse=po({},gv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lse=fa(jse),Fse=po({},BE,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zse=fa(Fse),Bse=[9,13,27,32],MO=mu&&"CompositionEvent"in window,E0=null;mu&&"documentMode"in document&&(E0=document.documentMode);var Vse=mu&&"TextEvent"in window&&!E0,WU=mu&&(!MO||E0&&8<E0&&11>=E0),c4=" ",u4=!1;function UU(t,e){switch(t){case"keyup":return Bse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sm=!1;function Hse(t,e){switch(t){case"compositionend":return qU(e);case"keypress":return e.which!==32?null:(u4=!0,c4);case"textInput":return t=e.data,t===c4&&u4?null:t;default:return null}}function Wse(t,e){if(Sm)return t==="compositionend"||!MO&&UU(t,e)?(t=HU(),RS=kO=gd=null,Sm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WU&&e.locale!=="ko"?null:e.data;default:return null}}var Use={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Use[t.type]:e==="textarea"}function KU(t,e,n,r){_U(r),e=zC(e,"onChange"),0<e.length&&(n=new DO("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var T0=null,fb=null;function qse(t){o7(t,0)}function VE(t){var e=Em(t);if(vU(e))return t}function Kse(t,e){if(t==="change")return e}var GU=!1;if(mu){var oP;if(mu){var iP="oninput"in document;if(!iP){var f4=document.createElement("div");f4.setAttribute("oninput","return;"),iP=typeof f4.oninput=="function"}oP=iP}else oP=!1;GU=oP&&(!document.documentMode||9<document.documentMode)}function h4(){T0&&(T0.detachEvent("onpropertychange",YU),fb=T0=null)}function YU(t){if(t.propertyName==="value"&&VE(fb)){var e=[];KU(e,fb,t,EO(t)),PU(qse,e)}}function Gse(t,e,n){t==="focusin"?(h4(),T0=e,fb=n,T0.attachEvent("onpropertychange",YU)):t==="focusout"&&h4()}function Yse(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return VE(fb)}function Xse(t,e){if(t==="click")return VE(e)}function Qse(t,e){if(t==="input"||t==="change")return VE(e)}function Jse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pl=typeof Object.is=="function"?Object.is:Jse;function hb(t,e){if(pl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Dk.call(e,o)||!pl(t[o],e[o]))return!1}return!0}function p4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m4(t,e){var n=p4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p4(n)}}function XU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QU(){for(var t=window,e=MC();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=MC(t.document)}return e}function OO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zse(t){var e=QU(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XU(n.ownerDocument.documentElement,n)){if(r!==null&&OO(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=m4(n,i);var s=m4(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eae=mu&&"documentMode"in document&&11>=document.documentMode,Cm=null,Xk=null,I0=null,Qk=!1;function g4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qk||Cm==null||Cm!==MC(r)||(r=Cm,"selectionStart"in r&&OO(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),I0&&hb(I0,r)||(I0=r,r=zC(Xk,"onSelect"),0<r.length&&(e=new DO("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cm)))}function i1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _m={animationend:i1("Animation","AnimationEnd"),animationiteration:i1("Animation","AnimationIteration"),animationstart:i1("Animation","AnimationStart"),transitionend:i1("Transition","TransitionEnd")},sP={},JU={};mu&&(JU=document.createElement("div").style,"AnimationEvent"in window||(delete _m.animationend.animation,delete _m.animationiteration.animation,delete _m.animationstart.animation),"TransitionEvent"in window||delete _m.transitionend.transition);function HE(t){if(sP[t])return sP[t];if(!_m[t])return t;var e=_m[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in JU)return sP[t]=e[n];return t}var ZU=HE("animationend"),e7=HE("animationiteration"),t7=HE("animationstart"),n7=HE("transitionend"),r7=new Map,v4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hf(t,e){r7.set(t,e),sp(e,[t])}for(var aP=0;aP<v4.length;aP++){var lP=v4[aP],tae=lP.toLowerCase(),nae=lP[0].toUpperCase()+lP.slice(1);hf(tae,"on"+nae)}hf(ZU,"onAnimationEnd");hf(e7,"onAnimationIteration");hf(t7,"onAnimationStart");hf("dblclick","onDoubleClick");hf("focusin","onFocus");hf("focusout","onBlur");hf(n7,"onTransitionEnd");vg("onMouseEnter",["mouseout","mouseover"]);vg("onMouseLeave",["mouseout","mouseover"]);vg("onPointerEnter",["pointerout","pointerover"]);vg("onPointerLeave",["pointerout","pointerover"]);sp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sp("onBeforeInput",["compositionend","keypress","textInput","paste"]);sp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var t0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rae=new Set("cancel close invalid load scroll toggle".split(" ").concat(t0));function y4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tse(r,e,void 0,t),t.currentTarget=null}function o7(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;y4(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;y4(o,a,c),i=l}}}if(AC)throw t=qk,AC=!1,qk=null,t}function Hr(t,e){var n=e[nD];n===void 0&&(n=e[nD]=new Set);var r=t+"__bubble";n.has(r)||(i7(e,t,2,!1),n.add(r))}function cP(t,e,n){var r=0;e&&(r|=4),i7(n,t,r,e)}var s1="_reactListening"+Math.random().toString(36).slice(2);function pb(t){if(!t[s1]){t[s1]=!0,fU.forEach(function(n){n!=="selectionchange"&&(rae.has(n)||cP(n,!1,t),cP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[s1]||(e[s1]=!0,cP("selectionchange",!1,e))}}function i7(t,e,n,r){switch(VU(e)){case 1:var o=vse;break;case 4:o=yse;break;default:o=RO}n=o.bind(null,e,n,t),o=void 0,!Uk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function uP(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=nh(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}PU(function(){var c=i,u=EO(n),d=[];e:{var f=r7.get(t);if(f!==void 0){var m=DO,g=t;switch(t){case"keypress":if(kS(n)===0)break e;case"keydown":case"keyup":m=Mse;break;case"focusin":g="focus",m=rP;break;case"focusout":g="blur",m=rP;break;case"beforeblur":case"afterblur":m=rP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=s4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Nse;break;case ZU:case e7:case t7:m=_se;break;case n7:m=Lse;break;case"scroll":m=bse;break;case"wheel":m=zse;break;case"copy":case"cut":case"paste":m=Tse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=l4}var v=(e&4)!==0,y=!v&&t==="scroll",b=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,b!==null&&(C=lb(x,b),C!=null&&v.push(mb(x,C,w)))),y)break;x=x.return}0<v.length&&(f=new m(f,g,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Hk&&(g=n.relatedTarget||n.fromElement)&&(nh(g)||g[gu]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?nh(g):null,g!==null&&(y=ap(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=s4,C="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=l4,C="onPointerLeave",b="onPointerEnter",x="pointer"),y=m==null?f:Em(m),w=g==null?f:Em(g),f=new v(C,x+"leave",m,n,u),f.target=y,f.relatedTarget=w,C=null,nh(u)===c&&(v=new v(b,x+"enter",g,n,u),v.target=w,v.relatedTarget=y,C=v),y=C,m&&g)t:{for(v=m,b=g,x=0,w=v;w;w=Rp(w))x++;for(w=0,C=b;C;C=Rp(C))w++;for(;0<x-w;)v=Rp(v),x--;for(;0<w-x;)b=Rp(b),w--;for(;x--;){if(v===b||b!==null&&v===b.alternate)break t;v=Rp(v),b=Rp(b)}v=null}else v=null;m!==null&&b4(d,f,m,v,!1),g!==null&&y!==null&&b4(d,y,g,v,!0)}}e:{if(f=c?Em(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=Kse;else if(d4(f))if(GU)E=Qse;else{E=Yse;var _=Gse}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Xse);if(E&&(E=E(t,c))){KU(d,E,n,u);break e}_&&_(t,f,c),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Lk(f,"number",f.value)}switch(_=c?Em(c):window,t){case"focusin":(d4(_)||_.contentEditable==="true")&&(Cm=_,Xk=c,I0=null);break;case"focusout":I0=Xk=Cm=null;break;case"mousedown":Qk=!0;break;case"contextmenu":case"mouseup":case"dragend":Qk=!1,g4(d,n,u);break;case"selectionchange":if(eae)break;case"keydown":case"keyup":g4(d,n,u)}var S;if(MO)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Sm?UU(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(WU&&n.locale!=="ko"&&(Sm||T!=="onCompositionStart"?T==="onCompositionEnd"&&Sm&&(S=HU()):(gd=u,kO="value"in gd?gd.value:gd.textContent,Sm=!0)),_=zC(c,T),0<_.length&&(T=new a4(T,t,null,n,u),d.push({event:T,listeners:_}),S?T.data=S:(S=qU(n),S!==null&&(T.data=S)))),(S=Vse?Hse(t,n):Wse(t,n))&&(c=zC(c,"onBeforeInput"),0<c.length&&(u=new a4("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}o7(d,e)})}function mb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zC(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=lb(t,n),i!=null&&r.unshift(mb(t,i,o)),i=lb(t,e),i!=null&&r.push(mb(t,i,o))),t=t.return}return r}function Rp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b4(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=lb(n,i),l!=null&&s.unshift(mb(n,l,a))):o||(l=lb(n,i),l!=null&&s.push(mb(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var oae=/\r\n?/g,iae=/\u0000|\uFFFD/g;function x4(t){return(typeof t=="string"?t:""+t).replace(oae,`
`).replace(iae,"")}function a1(t,e,n){if(e=x4(e),x4(t)!==e&&n)throw Error(St(425))}function BC(){}var Jk=null,Zk=null;function eD(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tD=typeof setTimeout=="function"?setTimeout:void 0,sae=typeof clearTimeout=="function"?clearTimeout:void 0,w4=typeof Promise=="function"?Promise:void 0,aae=typeof queueMicrotask=="function"?queueMicrotask:typeof w4<"u"?function(t){return w4.resolve(null).then(t).catch(lae)}:tD;function lae(t){setTimeout(function(){throw t})}function dP(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),db(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);db(e)}function $d(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vv=Math.random().toString(36).slice(2),Hl="__reactFiber$"+vv,gb="__reactProps$"+vv,gu="__reactContainer$"+vv,nD="__reactEvents$"+vv,cae="__reactListeners$"+vv,uae="__reactHandles$"+vv;function nh(t){var e=t[Hl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gu]||n[Hl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S4(t);t!==null;){if(n=t[Hl])return n;t=S4(t)}return e}t=n,n=t.parentNode}return null}function Ax(t){return t=t[Hl]||t[gu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Em(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(St(33))}function WE(t){return t[gb]||null}var rD=[],Tm=-1;function pf(t){return{current:t}}function Ur(t){0>Tm||(t.current=rD[Tm],rD[Tm]=null,Tm--)}function Fr(t,e){Tm++,rD[Tm]=t.current,t.current=e}var Xd={},Ui=pf(Xd),Ts=pf(!1),Ph=Xd;function yg(t,e){var n=t.type.contextTypes;if(!n)return Xd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Is(t){return t=t.childContextTypes,t!=null}function VC(){Ur(Ts),Ur(Ui)}function C4(t,e,n){if(Ui.current!==Xd)throw Error(St(168));Fr(Ui,e),Fr(Ts,n)}function s7(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(St(108,Gie(t)||"Unknown",o));return po({},n,r)}function HC(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xd,Ph=Ui.current,Fr(Ui,t),Fr(Ts,Ts.current),!0}function _4(t,e,n){var r=t.stateNode;if(!r)throw Error(St(169));n?(t=s7(t,e,Ph),r.__reactInternalMemoizedMergedChildContext=t,Ur(Ts),Ur(Ui),Fr(Ui,t)):Ur(Ts),Fr(Ts,n)}var Vc=null,UE=!1,fP=!1;function a7(t){Vc===null?Vc=[t]:Vc.push(t)}function dae(t){UE=!0,a7(t)}function mf(){if(!fP&&Vc!==null){fP=!0;var t=0,e=Sr;try{var n=Vc;for(Sr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vc=null,UE=!1}catch(o){throw Vc!==null&&(Vc=Vc.slice(t+1)),$U(TO,mf),o}finally{Sr=e,fP=!1}}return null}var Im=[],Pm=0,WC=null,UC=0,Ta=[],Ia=0,Rh=null,Gc=1,Yc="";function Of(t,e){Im[Pm++]=UC,Im[Pm++]=WC,WC=t,UC=e}function l7(t,e,n){Ta[Ia++]=Gc,Ta[Ia++]=Yc,Ta[Ia++]=Rh,Rh=t;var r=Gc;t=Yc;var o=32-al(r)-1;r&=~(1<<o),n+=1;var i=32-al(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Gc=1<<32-al(e)+o|n<<o|r,Yc=i+t}else Gc=1<<i|n<<o|r,Yc=t}function AO(t){t.return!==null&&(Of(t,1),l7(t,1,0))}function NO(t){for(;t===WC;)WC=Im[--Pm],Im[Pm]=null,UC=Im[--Pm],Im[Pm]=null;for(;t===Rh;)Rh=Ta[--Ia],Ta[Ia]=null,Yc=Ta[--Ia],Ta[Ia]=null,Gc=Ta[--Ia],Ta[Ia]=null}var ta=null,Ys=null,Xr=!1,sl=null;function c7(t,e){var n=ka(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function E4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ta=t,Ys=$d(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ta=t,Ys=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rh!==null?{id:Gc,overflow:Yc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ka(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ta=t,Ys=null,!0):!1;default:return!1}}function oD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iD(t){if(Xr){var e=Ys;if(e){var n=e;if(!E4(t,e)){if(oD(t))throw Error(St(418));e=$d(n.nextSibling);var r=ta;e&&E4(t,e)?c7(r,n):(t.flags=t.flags&-4097|2,Xr=!1,ta=t)}}else{if(oD(t))throw Error(St(418));t.flags=t.flags&-4097|2,Xr=!1,ta=t}}}function T4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ta=t}function l1(t){if(t!==ta)return!1;if(!Xr)return T4(t),Xr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eD(t.type,t.memoizedProps)),e&&(e=Ys)){if(oD(t))throw u7(),Error(St(418));for(;e;)c7(t,e),e=$d(e.nextSibling)}if(T4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(St(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ys=$d(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ys=null}}else Ys=ta?$d(t.stateNode.nextSibling):null;return!0}function u7(){for(var t=Ys;t;)t=$d(t.nextSibling)}function bg(){Ys=ta=null,Xr=!1}function jO(t){sl===null?sl=[t]:sl.push(t)}var fae=Tu.ReactCurrentBatchConfig;function tl(t,e){if(t&&t.defaultProps){e=po({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qC=pf(null),KC=null,Rm=null,LO=null;function FO(){LO=Rm=KC=null}function zO(t){var e=qC.current;Ur(qC),t._currentValue=e}function sD(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ym(t,e){KC=t,LO=Rm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_s=!0),t.firstContext=null)}function Na(t){var e=t._currentValue;if(LO!==t)if(t={context:t,memoizedValue:e,next:null},Rm===null){if(KC===null)throw Error(St(308));Rm=t,KC.dependencies={lanes:0,firstContext:t}}else Rm=Rm.next=t;return e}var rh=null;function BO(t){rh===null?rh=[t]:rh.push(t)}function d7(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,BO(e)):(n.next=o.next,o.next=n),e.interleaved=n,vu(t,r)}function vu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var id=!1;function VO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f7(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ru(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Md(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qn&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,vu(t,n)}return o=r.interleaved,o===null?(e.next=e,BO(r)):(e.next=o.next,o.next=e),r.interleaved=e,vu(t,n)}function DS(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IO(t,n)}}function I4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function GC(t,e,n,r){var o=t.updateQueue;id=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,u=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=po({},d,f);break e;case 2:id=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Dh|=s,t.lanes=s,t.memoizedState=d}}function P4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(St(191,o));o.call(r)}}}var h7=new dU.Component().refs;function aD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:po({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qE={isMounted:function(t){return(t=t._reactInternals)?ap(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ts(),o=Ad(t),i=ru(r,o);i.payload=e,n!=null&&(i.callback=n),e=Md(t,i,o),e!==null&&(ll(e,t,o,r),DS(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ts(),o=Ad(t),i=ru(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Md(t,i,o),e!==null&&(ll(e,t,o,r),DS(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ts(),r=Ad(t),o=ru(n,r);o.tag=2,e!=null&&(o.callback=e),e=Md(t,o,r),e!==null&&(ll(e,t,r,n),DS(e,t,r))}};function R4(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!hb(n,r)||!hb(o,i):!0}function p7(t,e,n){var r=!1,o=Xd,i=e.contextType;return typeof i=="object"&&i!==null?i=Na(i):(o=Is(e)?Ph:Ui.current,r=e.contextTypes,i=(r=r!=null)?yg(t,o):Xd),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qE,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function k4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qE.enqueueReplaceState(e,e.state,null)}function lD(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=h7,VO(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Na(i):(i=Is(e)?Ph:Ui.current,o.context=yg(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(aD(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&qE.enqueueReplaceState(o,o.state,null),GC(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function oy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(St(309));var r=n.stateNode}if(!r)throw Error(St(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===h7&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(St(284));if(!n._owner)throw Error(St(290,t))}return t}function c1(t,e){throw t=Object.prototype.toString.call(e),Error(St(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D4(t){var e=t._init;return e(t._payload)}function m7(t){function e(b,x){if(t){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function o(b,x){return b=Nd(b,x),b.index=0,b.sibling=null,b}function i(b,x,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,x,w,C){return x===null||x.tag!==6?(x=bP(w,b.mode,C),x.return=b,x):(x=o(x,w),x.return=b,x)}function l(b,x,w,C){var E=w.type;return E===wm?u(b,x,w.props.children,C,w.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===od&&D4(E)===x.type)?(C=o(x,w.props),C.ref=oy(b,x,w),C.return=b,C):(C=jS(w.type,w.key,w.props,null,b.mode,C),C.ref=oy(b,x,w),C.return=b,C)}function c(b,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=xP(w,b.mode,C),x.return=b,x):(x=o(x,w.children||[]),x.return=b,x)}function u(b,x,w,C,E){return x===null||x.tag!==7?(x=ph(w,b.mode,C,E),x.return=b,x):(x=o(x,w),x.return=b,x)}function d(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=bP(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jw:return w=jS(x.type,x.key,x.props,null,b.mode,w),w.ref=oy(b,null,x),w.return=b,w;case xm:return x=xP(x,b.mode,w),x.return=b,x;case od:var C=x._init;return d(b,C(x._payload),w)}if(Zy(x)||Zv(x))return x=ph(x,b.mode,w,null),x.return=b,x;c1(b,x)}return null}function f(b,x,w,C){var E=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:a(b,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jw:return w.key===E?l(b,x,w,C):null;case xm:return w.key===E?c(b,x,w,C):null;case od:return E=w._init,f(b,x,E(w._payload),C)}if(Zy(w)||Zv(w))return E!==null?null:u(b,x,w,C,null);c1(b,w)}return null}function m(b,x,w,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(w)||null,a(x,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Jw:return b=b.get(C.key===null?w:C.key)||null,l(x,b,C,E);case xm:return b=b.get(C.key===null?w:C.key)||null,c(x,b,C,E);case od:var _=C._init;return m(b,x,w,_(C._payload),E)}if(Zy(C)||Zv(C))return b=b.get(w)||null,u(x,b,C,E,null);c1(x,C)}return null}function g(b,x,w,C){for(var E=null,_=null,S=x,T=x=0,I=null;S!==null&&T<w.length;T++){S.index>T?(I=S,S=null):I=S.sibling;var P=f(b,S,w[T],C);if(P===null){S===null&&(S=I);break}t&&S&&P.alternate===null&&e(b,S),x=i(P,x,T),_===null?E=P:_.sibling=P,_=P,S=I}if(T===w.length)return n(b,S),Xr&&Of(b,T),E;if(S===null){for(;T<w.length;T++)S=d(b,w[T],C),S!==null&&(x=i(S,x,T),_===null?E=S:_.sibling=S,_=S);return Xr&&Of(b,T),E}for(S=r(b,S);T<w.length;T++)I=m(S,b,T,w[T],C),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),x=i(I,x,T),_===null?E=I:_.sibling=I,_=I);return t&&S.forEach(function(M){return e(b,M)}),Xr&&Of(b,T),E}function v(b,x,w,C){var E=Zv(w);if(typeof E!="function")throw Error(St(150));if(w=E.call(w),w==null)throw Error(St(151));for(var _=E=null,S=x,T=x=0,I=null,P=w.next();S!==null&&!P.done;T++,P=w.next()){S.index>T?(I=S,S=null):I=S.sibling;var M=f(b,S,P.value,C);if(M===null){S===null&&(S=I);break}t&&S&&M.alternate===null&&e(b,S),x=i(M,x,T),_===null?E=M:_.sibling=M,_=M,S=I}if(P.done)return n(b,S),Xr&&Of(b,T),E;if(S===null){for(;!P.done;T++,P=w.next())P=d(b,P.value,C),P!==null&&(x=i(P,x,T),_===null?E=P:_.sibling=P,_=P);return Xr&&Of(b,T),E}for(S=r(b,S);!P.done;T++,P=w.next())P=m(S,b,T,P.value,C),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?T:P.key),x=i(P,x,T),_===null?E=P:_.sibling=P,_=P);return t&&S.forEach(function(R){return e(b,R)}),Xr&&Of(b,T),E}function y(b,x,w,C){if(typeof w=="object"&&w!==null&&w.type===wm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jw:e:{for(var E=w.key,_=x;_!==null;){if(_.key===E){if(E=w.type,E===wm){if(_.tag===7){n(b,_.sibling),x=o(_,w.props.children),x.return=b,b=x;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===od&&D4(E)===_.type){n(b,_.sibling),x=o(_,w.props),x.ref=oy(b,_,w),x.return=b,b=x;break e}n(b,_);break}else e(b,_);_=_.sibling}w.type===wm?(x=ph(w.props.children,b.mode,C,w.key),x.return=b,b=x):(C=jS(w.type,w.key,w.props,null,b.mode,C),C.ref=oy(b,x,w),C.return=b,b=C)}return s(b);case xm:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(b,x.sibling),x=o(x,w.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=xP(w,b.mode,C),x.return=b,b=x}return s(b);case od:return _=w._init,y(b,x,_(w._payload),C)}if(Zy(w))return g(b,x,w,C);if(Zv(w))return v(b,x,w,C);c1(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(b,x.sibling),x=o(x,w),x.return=b,b=x):(n(b,x),x=bP(w,b.mode,C),x.return=b,b=x),s(b)):n(b,x)}return y}var xg=m7(!0),g7=m7(!1),Nx={},rc=pf(Nx),vb=pf(Nx),yb=pf(Nx);function oh(t){if(t===Nx)throw Error(St(174));return t}function HO(t,e){switch(Fr(yb,e),Fr(vb,t),Fr(rc,Nx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zk(e,t)}Ur(rc),Fr(rc,e)}function wg(){Ur(rc),Ur(vb),Ur(yb)}function v7(t){oh(yb.current);var e=oh(rc.current),n=zk(e,t.type);e!==n&&(Fr(vb,t),Fr(rc,n))}function WO(t){vb.current===t&&(Ur(rc),Ur(vb))}var io=pf(0);function YC(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hP=[];function UO(){for(var t=0;t<hP.length;t++)hP[t]._workInProgressVersionPrimary=null;hP.length=0}var $S=Tu.ReactCurrentDispatcher,pP=Tu.ReactCurrentBatchConfig,kh=0,fo=null,Ko=null,ii=null,XC=!1,P0=!1,bb=0,hae=0;function Di(){throw Error(St(321))}function qO(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pl(t[n],e[n]))return!1;return!0}function KO(t,e,n,r,o,i){if(kh=i,fo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$S.current=t===null||t.memoizedState===null?vae:yae,t=n(r,o),P0){i=0;do{if(P0=!1,bb=0,25<=i)throw Error(St(301));i+=1,ii=Ko=null,e.updateQueue=null,$S.current=bae,t=n(r,o)}while(P0)}if($S.current=QC,e=Ko!==null&&Ko.next!==null,kh=0,ii=Ko=fo=null,XC=!1,e)throw Error(St(300));return t}function GO(){var t=bb!==0;return bb=0,t}function Al(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?fo.memoizedState=ii=t:ii=ii.next=t,ii}function ja(){if(Ko===null){var t=fo.alternate;t=t!==null?t.memoizedState:null}else t=Ko.next;var e=ii===null?fo.memoizedState:ii.next;if(e!==null)ii=e,Ko=t;else{if(t===null)throw Error(St(310));Ko=t,t={memoizedState:Ko.memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},ii===null?fo.memoizedState=ii=t:ii=ii.next=t}return ii}function xb(t,e){return typeof e=="function"?e(t):e}function mP(t){var e=ja(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=Ko,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((kh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,fo.lanes|=u,Dh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,pl(r,e.memoizedState)||(_s=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,fo.lanes|=i,Dh|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gP(t){var e=ja(),n=e.queue;if(n===null)throw Error(St(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);pl(i,e.memoizedState)||(_s=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function y7(){}function b7(t,e){var n=fo,r=ja(),o=e(),i=!pl(r.memoizedState,o);if(i&&(r.memoizedState=o,_s=!0),r=r.queue,YO(S7.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ii!==null&&ii.memoizedState.tag&1){if(n.flags|=2048,wb(9,w7.bind(null,n,r,o,e),void 0,null),li===null)throw Error(St(349));kh&30||x7(n,e,o)}return o}function x7(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fo.updateQueue,e===null?(e={lastEffect:null,stores:null},fo.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w7(t,e,n,r){e.value=n,e.getSnapshot=r,C7(e)&&_7(t)}function S7(t,e,n){return n(function(){C7(e)&&_7(t)})}function C7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pl(t,n)}catch{return!0}}function _7(t){var e=vu(t,1);e!==null&&ll(e,t,1,-1)}function $4(t){var e=Al();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xb,lastRenderedState:t},e.queue=t,t=t.dispatch=gae.bind(null,fo,t),[e.memoizedState,t]}function wb(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fo.updateQueue,e===null?(e={lastEffect:null,stores:null},fo.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E7(){return ja().memoizedState}function MS(t,e,n,r){var o=Al();fo.flags|=t,o.memoizedState=wb(1|e,n,void 0,r===void 0?null:r)}function KE(t,e,n,r){var o=ja();r=r===void 0?null:r;var i=void 0;if(Ko!==null){var s=Ko.memoizedState;if(i=s.destroy,r!==null&&qO(r,s.deps)){o.memoizedState=wb(e,n,i,r);return}}fo.flags|=t,o.memoizedState=wb(1|e,n,i,r)}function M4(t,e){return MS(8390656,8,t,e)}function YO(t,e){return KE(2048,8,t,e)}function T7(t,e){return KE(4,2,t,e)}function I7(t,e){return KE(4,4,t,e)}function P7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R7(t,e,n){return n=n!=null?n.concat([t]):null,KE(4,4,P7.bind(null,e,t),n)}function XO(){}function k7(t,e){var n=ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qO(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function D7(t,e){var n=ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qO(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $7(t,e,n){return kh&21?(pl(n,e)||(n=AU(),fo.lanes|=n,Dh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_s=!0),t.memoizedState=n)}function pae(t,e){var n=Sr;Sr=n!==0&&4>n?n:4,t(!0);var r=pP.transition;pP.transition={};try{t(!1),e()}finally{Sr=n,pP.transition=r}}function M7(){return ja().memoizedState}function mae(t,e,n){var r=Ad(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O7(t))A7(e,n);else if(n=d7(t,e,n,r),n!==null){var o=ts();ll(n,t,r,o),N7(n,e,r)}}function gae(t,e,n){var r=Ad(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O7(t))A7(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,pl(a,s)){var l=e.interleaved;l===null?(o.next=o,BO(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=d7(t,e,o,r),n!==null&&(o=ts(),ll(n,t,r,o),N7(n,e,r))}}function O7(t){var e=t.alternate;return t===fo||e!==null&&e===fo}function A7(t,e){P0=XC=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function N7(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IO(t,n)}}var QC={readContext:Na,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useInsertionEffect:Di,useLayoutEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useMutableSource:Di,useSyncExternalStore:Di,useId:Di,unstable_isNewReconciler:!1},vae={readContext:Na,useCallback:function(t,e){return Al().memoizedState=[t,e===void 0?null:e],t},useContext:Na,useEffect:M4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,MS(4194308,4,P7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return MS(4194308,4,t,e)},useInsertionEffect:function(t,e){return MS(4,2,t,e)},useMemo:function(t,e){var n=Al();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Al();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mae.bind(null,fo,t),[r.memoizedState,t]},useRef:function(t){var e=Al();return t={current:t},e.memoizedState=t},useState:$4,useDebugValue:XO,useDeferredValue:function(t){return Al().memoizedState=t},useTransition:function(){var t=$4(!1),e=t[0];return t=pae.bind(null,t[1]),Al().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fo,o=Al();if(Xr){if(n===void 0)throw Error(St(407));n=n()}else{if(n=e(),li===null)throw Error(St(349));kh&30||x7(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,M4(S7.bind(null,r,i,t),[t]),r.flags|=2048,wb(9,w7.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Al(),e=li.identifierPrefix;if(Xr){var n=Yc,r=Gc;n=(r&~(1<<32-al(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hae++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yae={readContext:Na,useCallback:k7,useContext:Na,useEffect:YO,useImperativeHandle:R7,useInsertionEffect:T7,useLayoutEffect:I7,useMemo:D7,useReducer:mP,useRef:E7,useState:function(){return mP(xb)},useDebugValue:XO,useDeferredValue:function(t){var e=ja();return $7(e,Ko.memoizedState,t)},useTransition:function(){var t=mP(xb)[0],e=ja().memoizedState;return[t,e]},useMutableSource:y7,useSyncExternalStore:b7,useId:M7,unstable_isNewReconciler:!1},bae={readContext:Na,useCallback:k7,useContext:Na,useEffect:YO,useImperativeHandle:R7,useInsertionEffect:T7,useLayoutEffect:I7,useMemo:D7,useReducer:gP,useRef:E7,useState:function(){return gP(xb)},useDebugValue:XO,useDeferredValue:function(t){var e=ja();return Ko===null?e.memoizedState=t:$7(e,Ko.memoizedState,t)},useTransition:function(){var t=gP(xb)[0],e=ja().memoizedState;return[t,e]},useMutableSource:y7,useSyncExternalStore:b7,useId:M7,unstable_isNewReconciler:!1};function Sg(t,e){try{var n="",r=e;do n+=Kie(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function vP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xae=typeof WeakMap=="function"?WeakMap:Map;function j7(t,e,n){n=ru(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ZC||(ZC=!0,bD=r),cD(t,e)},n}function L7(t,e,n){n=ru(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){cD(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cD(t,e),typeof r!="function"&&(Od===null?Od=new Set([this]):Od.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function O4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xae;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=Oae.bind(null,t,e,n),e.then(t,t))}function A4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N4(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ru(-1,1),e.tag=2,Md(n,e,1))),n.lanes|=1),t)}var wae=Tu.ReactCurrentOwner,_s=!1;function Xi(t,e,n,r){e.child=t===null?g7(e,null,n,r):xg(e,t.child,n,r)}function j4(t,e,n,r,o){n=n.render;var i=e.ref;return Ym(e,o),r=KO(t,e,n,r,i,o),n=GO(),t!==null&&!_s?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,yu(t,e,o)):(Xr&&n&&AO(e),e.flags|=1,Xi(t,e,r,o),e.child)}function L4(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!oA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,F7(t,e,i,r,o)):(t=jS(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:hb,n(s,r)&&t.ref===e.ref)return yu(t,e,o)}return e.flags|=1,t=Nd(i,r),t.ref=e.ref,t.return=e,e.child=t}function F7(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(hb(i,r)&&t.ref===e.ref)if(_s=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(_s=!0);else return e.lanes=t.lanes,yu(t,e,o)}return uD(t,e,n,r,o)}function z7(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(Dm,Us),Us|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fr(Dm,Us),Us|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Fr(Dm,Us),Us|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Fr(Dm,Us),Us|=r;return Xi(t,e,o,n),e.child}function B7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uD(t,e,n,r,o){var i=Is(n)?Ph:Ui.current;return i=yg(e,i),Ym(e,o),n=KO(t,e,n,r,i,o),r=GO(),t!==null&&!_s?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,yu(t,e,o)):(Xr&&r&&AO(e),e.flags|=1,Xi(t,e,n,o),e.child)}function F4(t,e,n,r,o){if(Is(n)){var i=!0;HC(e)}else i=!1;if(Ym(e,o),e.stateNode===null)OS(t,e),p7(e,n,r),lD(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Na(c):(c=Is(n)?Ph:Ui.current,c=yg(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&k4(e,s,r,c),id=!1;var f=e.memoizedState;s.state=f,GC(e,r,s,o),l=e.memoizedState,a!==r||f!==l||Ts.current||id?(typeof u=="function"&&(aD(e,n,u,r),l=e.memoizedState),(a=id||R4(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,f7(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tl(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Na(l):(l=Is(n)?Ph:Ui.current,l=yg(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&k4(e,s,r,l),id=!1,f=e.memoizedState,s.state=f,GC(e,r,s,o);var g=e.memoizedState;a!==d||f!==g||Ts.current||id?(typeof m=="function"&&(aD(e,n,m,r),g=e.memoizedState),(c=id||R4(e,n,c,r,f,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return dD(t,e,n,r,i,o)}function dD(t,e,n,r,o,i){B7(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&_4(e,n,!1),yu(t,e,i);r=e.stateNode,wae.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=xg(e,t.child,null,i),e.child=xg(e,null,a,i)):Xi(t,e,a,i),e.memoizedState=r.state,o&&_4(e,n,!0),e.child}function V7(t){var e=t.stateNode;e.pendingContext?C4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C4(t,e.context,!1),HO(t,e.containerInfo)}function z4(t,e,n,r,o){return bg(),jO(o),e.flags|=256,Xi(t,e,n,r),e.child}var fD={dehydrated:null,treeContext:null,retryLane:0};function hD(t){return{baseLanes:t,cachePool:null,transitions:null}}function H7(t,e,n){var r=e.pendingProps,o=io.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Fr(io,o&1),t===null)return iD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=XE(s,r,0,null),t=ph(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hD(n),e.memoizedState=fD,t):QO(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Sae(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Nd(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Nd(a,i):(i=ph(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?hD(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=fD,r}return i=t.child,t=i.sibling,r=Nd(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function QO(t,e){return e=XE({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function u1(t,e,n,r){return r!==null&&jO(r),xg(e,t.child,null,n),t=QO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sae(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=vP(Error(St(422))),u1(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=XE({mode:"visible",children:r.children},o,0,null),i=ph(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&xg(e,t.child,null,s),e.child.memoizedState=hD(s),e.memoizedState=fD,i);if(!(e.mode&1))return u1(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(St(419)),r=vP(i,r,void 0),u1(t,e,s,r)}if(a=(s&t.childLanes)!==0,_s||a){if(r=li,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,vu(t,o),ll(r,t,o,-1))}return rA(),r=vP(Error(St(421))),u1(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=Aae.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Ys=$d(o.nextSibling),ta=e,Xr=!0,sl=null,t!==null&&(Ta[Ia++]=Gc,Ta[Ia++]=Yc,Ta[Ia++]=Rh,Gc=t.id,Yc=t.overflow,Rh=e),e=QO(e,r.children),e.flags|=4096,e)}function B4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sD(t.return,e,n)}function yP(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function W7(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Xi(t,e,r.children,n),r=io.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B4(t,n,e);else if(t.tag===19)B4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fr(io,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&YC(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),yP(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&YC(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}yP(e,!0,n,null,i);break;case"together":yP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function OS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(St(153));if(e.child!==null){for(t=e.child,n=Nd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cae(t,e,n){switch(e.tag){case 3:V7(e),bg();break;case 5:v7(e);break;case 1:Is(e.type)&&HC(e);break;case 4:HO(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Fr(qC,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fr(io,io.current&1),e.flags|=128,null):n&e.child.childLanes?H7(t,e,n):(Fr(io,io.current&1),t=yu(t,e,n),t!==null?t.sibling:null);Fr(io,io.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W7(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Fr(io,io.current),r)break;return null;case 22:case 23:return e.lanes=0,z7(t,e,n)}return yu(t,e,n)}var U7,pD,q7,K7;U7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pD=function(){};q7=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,oh(rc.current);var i=null;switch(n){case"input":o=Nk(t,o),r=Nk(t,r),i=[];break;case"select":o=po({},o,{value:void 0}),r=po({},r,{value:void 0}),i=[];break;case"textarea":o=Fk(t,o),r=Fk(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=BC)}Bk(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sb.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sb.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hr("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};K7=function(t,e,n,r){n!==r&&(e.flags|=4)};function iy(t,e){if(!Xr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $i(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _ae(t,e,n){var r=e.pendingProps;switch(NO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(e),null;case 1:return Is(e.type)&&VC(),$i(e),null;case 3:return r=e.stateNode,wg(),Ur(Ts),Ur(Ui),UO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(l1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sl!==null&&(SD(sl),sl=null))),pD(t,e),$i(e),null;case 5:WO(e);var o=oh(yb.current);if(n=e.type,t!==null&&e.stateNode!=null)q7(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(St(166));return $i(e),null}if(t=oh(rc.current),l1(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Hl]=e,r[gb]=i,t=(e.mode&1)!==0,n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(o=0;o<t0.length;o++)Hr(t0[o],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":XF(r,i),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Hr("invalid",r);break;case"textarea":JF(r,i),Hr("invalid",r)}Bk(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&a1(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&a1(r.textContent,a,t),o=["children",""+a]):sb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Hr("scroll",r)}switch(n){case"input":Zw(r),QF(r,i,!0);break;case"textarea":Zw(r),ZF(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=BC)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Hl]=e,t[gb]=r,U7(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vk(n,r),n){case"dialog":Hr("cancel",t),Hr("close",t),o=r;break;case"iframe":case"object":case"embed":Hr("load",t),o=r;break;case"video":case"audio":for(o=0;o<t0.length;o++)Hr(t0[o],t);o=r;break;case"source":Hr("error",t),o=r;break;case"img":case"image":case"link":Hr("error",t),Hr("load",t),o=r;break;case"details":Hr("toggle",t),o=r;break;case"input":XF(t,r),o=Nk(t,r),Hr("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=po({},r,{value:void 0}),Hr("invalid",t);break;case"textarea":JF(t,r),o=Fk(t,r),Hr("invalid",t);break;default:o=r}Bk(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?CU(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wU(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ab(t,l):typeof l=="number"&&ab(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(sb.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Hr("scroll",t):l!=null&&wO(t,i,l,s))}switch(n){case"input":Zw(t),QF(t,r,!1);break;case"textarea":Zw(t),ZF(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yd(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Um(t,!!r.multiple,i,!1):r.defaultValue!=null&&Um(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=BC)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $i(e),null;case 6:if(t&&e.stateNode!=null)K7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(St(166));if(n=oh(yb.current),oh(rc.current),l1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hl]=e,(i=r.nodeValue!==n)&&(t=ta,t!==null))switch(t.tag){case 3:a1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&a1(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hl]=e,e.stateNode=r}return $i(e),null;case 13:if(Ur(io),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xr&&Ys!==null&&e.mode&1&&!(e.flags&128))u7(),bg(),e.flags|=98560,i=!1;else if(i=l1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(St(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(St(317));i[Hl]=e}else bg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$i(e),i=!1}else sl!==null&&(SD(sl),sl=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||io.current&1?Xo===0&&(Xo=3):rA())),e.updateQueue!==null&&(e.flags|=4),$i(e),null);case 4:return wg(),pD(t,e),t===null&&pb(e.stateNode.containerInfo),$i(e),null;case 10:return zO(e.type._context),$i(e),null;case 17:return Is(e.type)&&VC(),$i(e),null;case 19:if(Ur(io),i=e.memoizedState,i===null)return $i(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)iy(i,!1);else{if(Xo!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=YC(t),s!==null){for(e.flags|=128,iy(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fr(io,io.current&1|2),e.child}t=t.sibling}i.tail!==null&&Po()>Cg&&(e.flags|=128,r=!0,iy(i,!1),e.lanes=4194304)}else{if(!r)if(t=YC(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),iy(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Xr)return $i(e),null}else 2*Po()-i.renderingStartTime>Cg&&n!==1073741824&&(e.flags|=128,r=!0,iy(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Po(),e.sibling=null,n=io.current,Fr(io,r?n&1|2:n&1),e):($i(e),null);case 22:case 23:return nA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Us&1073741824&&($i(e),e.subtreeFlags&6&&(e.flags|=8192)):$i(e),null;case 24:return null;case 25:return null}throw Error(St(156,e.tag))}function Eae(t,e){switch(NO(e),e.tag){case 1:return Is(e.type)&&VC(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wg(),Ur(Ts),Ur(Ui),UO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return WO(e),null;case 13:if(Ur(io),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(St(340));bg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ur(io),null;case 4:return wg(),null;case 10:return zO(e.type._context),null;case 22:case 23:return nA(),null;case 24:return null;default:return null}}var d1=!1,Fi=!1,Tae=typeof WeakSet=="function"?WeakSet:Set,qt=null;function km(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wo(t,e,r)}else n.current=null}function mD(t,e,n){try{n()}catch(r){wo(t,e,r)}}var V4=!1;function Iae(t,e){if(Jk=LC,t=QU(),OO(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var m;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===o&&(a=s),f===i&&++u===r&&(l=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zk={focusedElem:t,selectionRange:n},LC=!1,qt=e;qt!==null;)if(e=qt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qt=t;else for(;qt!==null;){e=qt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:tl(e.type,v),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(C){wo(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,qt=t;break}qt=e.return}return g=V4,V4=!1,g}function R0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&mD(e,n,i)}o=o.next}while(o!==r)}}function GE(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function G7(t){var e=t.alternate;e!==null&&(t.alternate=null,G7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hl],delete e[gb],delete e[nD],delete e[cae],delete e[uae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Y7(t){return t.tag===5||t.tag===3||t.tag===4}function H4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Y7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=BC));else if(r!==4&&(t=t.child,t!==null))for(vD(t,e,n),t=t.sibling;t!==null;)vD(t,e,n),t=t.sibling}function yD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yD(t,e,n),t=t.sibling;t!==null;)yD(t,e,n),t=t.sibling}var yi=null,nl=!1;function Lu(t,e,n){for(n=n.child;n!==null;)X7(t,e,n),n=n.sibling}function X7(t,e,n){if(nc&&typeof nc.onCommitFiberUnmount=="function")try{nc.onCommitFiberUnmount(zE,n)}catch{}switch(n.tag){case 5:Fi||km(n,e);case 6:var r=yi,o=nl;yi=null,Lu(t,e,n),yi=r,nl=o,yi!==null&&(nl?(t=yi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yi.removeChild(n.stateNode));break;case 18:yi!==null&&(nl?(t=yi,n=n.stateNode,t.nodeType===8?dP(t.parentNode,n):t.nodeType===1&&dP(t,n),db(t)):dP(yi,n.stateNode));break;case 4:r=yi,o=nl,yi=n.stateNode.containerInfo,nl=!0,Lu(t,e,n),yi=r,nl=o;break;case 0:case 11:case 14:case 15:if(!Fi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&mD(n,e,s),o=o.next}while(o!==r)}Lu(t,e,n);break;case 1:if(!Fi&&(km(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wo(n,e,a)}Lu(t,e,n);break;case 21:Lu(t,e,n);break;case 22:n.mode&1?(Fi=(r=Fi)||n.memoizedState!==null,Lu(t,e,n),Fi=r):Lu(t,e,n);break;default:Lu(t,e,n)}}function W4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tae),e.forEach(function(r){var o=Nae.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Za(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:yi=a.stateNode,nl=!1;break e;case 3:yi=a.stateNode.containerInfo,nl=!0;break e;case 4:yi=a.stateNode.containerInfo,nl=!0;break e}a=a.return}if(yi===null)throw Error(St(160));X7(i,s,o),yi=null,nl=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){wo(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q7(e,t),e=e.sibling}function Q7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Za(e,t),kl(t),r&4){try{R0(3,t,t.return),GE(3,t)}catch(v){wo(t,t.return,v)}try{R0(5,t,t.return)}catch(v){wo(t,t.return,v)}}break;case 1:Za(e,t),kl(t),r&512&&n!==null&&km(n,n.return);break;case 5:if(Za(e,t),kl(t),r&512&&n!==null&&km(n,n.return),t.flags&32){var o=t.stateNode;try{ab(o,"")}catch(v){wo(t,t.return,v)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yU(o,i),Vk(a,s);var c=Vk(a,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?CU(o,d):u==="dangerouslySetInnerHTML"?wU(o,d):u==="children"?ab(o,d):wO(o,u,d,c)}switch(a){case"input":jk(o,i);break;case"textarea":bU(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Um(o,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Um(o,!!i.multiple,i.defaultValue,!0):Um(o,!!i.multiple,i.multiple?[]:"",!1))}o[gb]=i}catch(v){wo(t,t.return,v)}}break;case 6:if(Za(e,t),kl(t),r&4){if(t.stateNode===null)throw Error(St(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(v){wo(t,t.return,v)}}break;case 3:if(Za(e,t),kl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{db(e.containerInfo)}catch(v){wo(t,t.return,v)}break;case 4:Za(e,t),kl(t);break;case 13:Za(e,t),kl(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(eA=Po())),r&4&&W4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Fi=(c=Fi)||u,Za(e,t),Fi=c):Za(e,t),kl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(qt=t,u=t.child;u!==null;){for(d=qt=u;qt!==null;){switch(f=qt,m=f.child,f.tag){case 0:case 11:case 14:case 15:R0(4,f,f.return);break;case 1:km(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){wo(r,n,v)}}break;case 5:km(f,f.return);break;case 22:if(f.memoizedState!==null){q4(d);continue}}m!==null?(m.return=f,qt=m):q4(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SU("display",s))}catch(v){wo(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){wo(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Za(e,t),kl(t),r&4&&W4(t);break;case 21:break;default:Za(e,t),kl(t)}}function kl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Y7(n)){var r=n;break e}n=n.return}throw Error(St(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ab(o,""),r.flags&=-33);var i=H4(t);yD(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=H4(t);vD(t,a,s);break;default:throw Error(St(161))}}catch(l){wo(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pae(t,e,n){qt=t,J7(t)}function J7(t,e,n){for(var r=(t.mode&1)!==0;qt!==null;){var o=qt,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||d1;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Fi;a=d1;var c=Fi;if(d1=s,(Fi=l)&&!c)for(qt=o;qt!==null;)s=qt,l=s.child,s.tag===22&&s.memoizedState!==null?K4(o):l!==null?(l.return=s,qt=l):K4(o);for(;i!==null;)qt=i,J7(i),i=i.sibling;qt=o,d1=a,Fi=c}U4(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,qt=i):U4(t)}}function U4(t){for(;qt!==null;){var e=qt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fi||GE(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fi)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:tl(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&P4(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}P4(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&db(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Fi||e.flags&512&&gD(e)}catch(f){wo(e,e.return,f)}}if(e===t){qt=null;break}if(n=e.sibling,n!==null){n.return=e.return,qt=n;break}qt=e.return}}function q4(t){for(;qt!==null;){var e=qt;if(e===t){qt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,qt=n;break}qt=e.return}}function K4(t){for(;qt!==null;){var e=qt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{GE(4,e)}catch(l){wo(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){wo(e,o,l)}}var i=e.return;try{gD(e)}catch(l){wo(e,i,l)}break;case 5:var s=e.return;try{gD(e)}catch(l){wo(e,s,l)}}}catch(l){wo(e,e.return,l)}if(e===t){qt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,qt=a;break}qt=e.return}}var Rae=Math.ceil,JC=Tu.ReactCurrentDispatcher,JO=Tu.ReactCurrentOwner,Ma=Tu.ReactCurrentBatchConfig,Qn=0,li=null,Bo=null,Ci=0,Us=0,Dm=pf(0),Xo=0,Sb=null,Dh=0,YE=0,ZO=0,k0=null,ws=null,eA=0,Cg=1/0,zc=null,ZC=!1,bD=null,Od=null,f1=!1,vd=null,e_=0,D0=0,xD=null,AS=-1,NS=0;function ts(){return Qn&6?Po():AS!==-1?AS:AS=Po()}function Ad(t){return t.mode&1?Qn&2&&Ci!==0?Ci&-Ci:fae.transition!==null?(NS===0&&(NS=AU()),NS):(t=Sr,t!==0||(t=window.event,t=t===void 0?16:VU(t.type)),t):1}function ll(t,e,n,r){if(50<D0)throw D0=0,xD=null,Error(St(185));Mx(t,n,r),(!(Qn&2)||t!==li)&&(t===li&&(!(Qn&2)&&(YE|=n),Xo===4&&ld(t,Ci)),Ps(t,r),n===1&&Qn===0&&!(e.mode&1)&&(Cg=Po()+500,UE&&mf()))}function Ps(t,e){var n=t.callbackNode;fse(t,e);var r=jC(t,t===li?Ci:0);if(r===0)n!==null&&n4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n4(n),e===1)t.tag===0?dae(G4.bind(null,t)):a7(G4.bind(null,t)),aae(function(){!(Qn&6)&&mf()}),n=null;else{switch(NU(r)){case 1:n=TO;break;case 4:n=MU;break;case 16:n=NC;break;case 536870912:n=OU;break;default:n=NC}n=sq(n,Z7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z7(t,e){if(AS=-1,NS=0,Qn&6)throw Error(St(327));var n=t.callbackNode;if(Xm()&&t.callbackNode!==n)return null;var r=jC(t,t===li?Ci:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=t_(t,r);else{e=r;var o=Qn;Qn|=2;var i=tq();(li!==t||Ci!==e)&&(zc=null,Cg=Po()+500,hh(t,e));do try{$ae();break}catch(a){eq(t,a)}while(!0);FO(),JC.current=i,Qn=o,Bo!==null?e=0:(li=null,Ci=0,e=Xo)}if(e!==0){if(e===2&&(o=Kk(t),o!==0&&(r=o,e=wD(t,o))),e===1)throw n=Sb,hh(t,0),ld(t,r),Ps(t,Po()),n;if(e===6)ld(t,r);else{if(o=t.current.alternate,!(r&30)&&!kae(o)&&(e=t_(t,r),e===2&&(i=Kk(t),i!==0&&(r=i,e=wD(t,i))),e===1))throw n=Sb,hh(t,0),ld(t,r),Ps(t,Po()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(St(345));case 2:Af(t,ws,zc);break;case 3:if(ld(t,r),(r&130023424)===r&&(e=eA+500-Po(),10<e)){if(jC(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){ts(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=tD(Af.bind(null,t,ws,zc),e);break}Af(t,ws,zc);break;case 4:if(ld(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-al(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=Po()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rae(r/1960))-r,10<r){t.timeoutHandle=tD(Af.bind(null,t,ws,zc),r);break}Af(t,ws,zc);break;case 5:Af(t,ws,zc);break;default:throw Error(St(329))}}}return Ps(t,Po()),t.callbackNode===n?Z7.bind(null,t):null}function wD(t,e){var n=k0;return t.current.memoizedState.isDehydrated&&(hh(t,e).flags|=256),t=t_(t,e),t!==2&&(e=ws,ws=n,e!==null&&SD(e)),t}function SD(t){ws===null?ws=t:ws.push.apply(ws,t)}function kae(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!pl(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ld(t,e){for(e&=~ZO,e&=~YE,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-al(e),r=1<<n;t[n]=-1,e&=~r}}function G4(t){if(Qn&6)throw Error(St(327));Xm();var e=jC(t,0);if(!(e&1))return Ps(t,Po()),null;var n=t_(t,e);if(t.tag!==0&&n===2){var r=Kk(t);r!==0&&(e=r,n=wD(t,r))}if(n===1)throw n=Sb,hh(t,0),ld(t,e),Ps(t,Po()),n;if(n===6)throw Error(St(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Af(t,ws,zc),Ps(t,Po()),null}function tA(t,e){var n=Qn;Qn|=1;try{return t(e)}finally{Qn=n,Qn===0&&(Cg=Po()+500,UE&&mf())}}function $h(t){vd!==null&&vd.tag===0&&!(Qn&6)&&Xm();var e=Qn;Qn|=1;var n=Ma.transition,r=Sr;try{if(Ma.transition=null,Sr=1,t)return t()}finally{Sr=r,Ma.transition=n,Qn=e,!(Qn&6)&&mf()}}function nA(){Us=Dm.current,Ur(Dm)}function hh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sae(n)),Bo!==null)for(n=Bo.return;n!==null;){var r=n;switch(NO(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&VC();break;case 3:wg(),Ur(Ts),Ur(Ui),UO();break;case 5:WO(r);break;case 4:wg();break;case 13:Ur(io);break;case 19:Ur(io);break;case 10:zO(r.type._context);break;case 22:case 23:nA()}n=n.return}if(li=t,Bo=t=Nd(t.current,null),Ci=Us=e,Xo=0,Sb=null,ZO=YE=Dh=0,ws=k0=null,rh!==null){for(e=0;e<rh.length;e++)if(n=rh[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}rh=null}return t}function eq(t,e){do{var n=Bo;try{if(FO(),$S.current=QC,XC){for(var r=fo.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}XC=!1}if(kh=0,ii=Ko=fo=null,P0=!1,bb=0,JO.current=null,n===null||n.return===null){Xo=1,Sb=e,Bo=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Ci,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=A4(s);if(m!==null){m.flags&=-257,N4(m,s,a,i,e),m.mode&1&&O4(i,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){O4(i,c,e),rA();break e}l=Error(St(426))}}else if(Xr&&a.mode&1){var y=A4(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),N4(y,s,a,i,e),jO(Sg(l,a));break e}}i=l=Sg(l,a),Xo!==4&&(Xo=2),k0===null?k0=[i]:k0.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=j7(i,l,e);I4(i,b);break e;case 1:a=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Od===null||!Od.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=L7(i,a,e);I4(i,C);break e}}i=i.return}while(i!==null)}rq(n)}catch(E){e=E,Bo===n&&n!==null&&(Bo=n=n.return);continue}break}while(!0)}function tq(){var t=JC.current;return JC.current=QC,t===null?QC:t}function rA(){(Xo===0||Xo===3||Xo===2)&&(Xo=4),li===null||!(Dh&268435455)&&!(YE&268435455)||ld(li,Ci)}function t_(t,e){var n=Qn;Qn|=2;var r=tq();(li!==t||Ci!==e)&&(zc=null,hh(t,e));do try{Dae();break}catch(o){eq(t,o)}while(!0);if(FO(),Qn=n,JC.current=r,Bo!==null)throw Error(St(261));return li=null,Ci=0,Xo}function Dae(){for(;Bo!==null;)nq(Bo)}function $ae(){for(;Bo!==null&&!rse();)nq(Bo)}function nq(t){var e=iq(t.alternate,t,Us);t.memoizedProps=t.pendingProps,e===null?rq(t):Bo=e,JO.current=null}function rq(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Eae(n,e),n!==null){n.flags&=32767,Bo=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xo=6,Bo=null;return}}else if(n=_ae(n,e,Us),n!==null){Bo=n;return}if(e=e.sibling,e!==null){Bo=e;return}Bo=e=t}while(e!==null);Xo===0&&(Xo=5)}function Af(t,e,n){var r=Sr,o=Ma.transition;try{Ma.transition=null,Sr=1,Mae(t,e,n,r)}finally{Ma.transition=o,Sr=r}return null}function Mae(t,e,n,r){do Xm();while(vd!==null);if(Qn&6)throw Error(St(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(St(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hse(t,i),t===li&&(Bo=li=null,Ci=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||f1||(f1=!0,sq(NC,function(){return Xm(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ma.transition,Ma.transition=null;var s=Sr;Sr=1;var a=Qn;Qn|=4,JO.current=null,Iae(t,n),Q7(n,t),Zse(Zk),LC=!!Jk,Zk=Jk=null,t.current=n,Pae(n),ose(),Qn=a,Sr=s,Ma.transition=i}else t.current=n;if(f1&&(f1=!1,vd=t,e_=o),i=t.pendingLanes,i===0&&(Od=null),ase(n.stateNode),Ps(t,Po()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ZC)throw ZC=!1,t=bD,bD=null,t;return e_&1&&t.tag!==0&&Xm(),i=t.pendingLanes,i&1?t===xD?D0++:(D0=0,xD=t):D0=0,mf(),null}function Xm(){if(vd!==null){var t=NU(e_),e=Ma.transition,n=Sr;try{if(Ma.transition=null,Sr=16>t?16:t,vd===null)var r=!1;else{if(t=vd,vd=null,e_=0,Qn&6)throw Error(St(331));var o=Qn;for(Qn|=4,qt=t.current;qt!==null;){var i=qt,s=i.child;if(qt.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(qt=c;qt!==null;){var u=qt;switch(u.tag){case 0:case 11:case 15:R0(8,u,i)}var d=u.child;if(d!==null)d.return=u,qt=d;else for(;qt!==null;){u=qt;var f=u.sibling,m=u.return;if(G7(u),u===c){qt=null;break}if(f!==null){f.return=m,qt=f;break}qt=m}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}qt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,qt=s;else e:for(;qt!==null;){if(i=qt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:R0(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,qt=b;break e}qt=i.return}}var x=t.current;for(qt=x;qt!==null;){s=qt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,qt=w;else e:for(s=x;qt!==null;){if(a=qt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:GE(9,a)}}catch(E){wo(a,a.return,E)}if(a===s){qt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,qt=C;break e}qt=a.return}}if(Qn=o,mf(),nc&&typeof nc.onPostCommitFiberRoot=="function")try{nc.onPostCommitFiberRoot(zE,t)}catch{}r=!0}return r}finally{Sr=n,Ma.transition=e}}return!1}function Y4(t,e,n){e=Sg(n,e),e=j7(t,e,1),t=Md(t,e,1),e=ts(),t!==null&&(Mx(t,1,e),Ps(t,e))}function wo(t,e,n){if(t.tag===3)Y4(t,t,n);else for(;e!==null;){if(e.tag===3){Y4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Od===null||!Od.has(r))){t=Sg(n,t),t=L7(e,t,1),e=Md(e,t,1),t=ts(),e!==null&&(Mx(e,1,t),Ps(e,t));break}}e=e.return}}function Oae(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ts(),t.pingedLanes|=t.suspendedLanes&n,li===t&&(Ci&n)===n&&(Xo===4||Xo===3&&(Ci&130023424)===Ci&&500>Po()-eA?hh(t,0):ZO|=n),Ps(t,e)}function oq(t,e){e===0&&(t.mode&1?(e=n1,n1<<=1,!(n1&130023424)&&(n1=4194304)):e=1);var n=ts();t=vu(t,e),t!==null&&(Mx(t,e,n),Ps(t,n))}function Aae(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oq(t,n)}function Nae(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(St(314))}r!==null&&r.delete(e),oq(t,n)}var iq;iq=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ts.current)_s=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _s=!1,Cae(t,e,n);_s=!!(t.flags&131072)}else _s=!1,Xr&&e.flags&1048576&&l7(e,UC,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;OS(t,e),t=e.pendingProps;var o=yg(e,Ui.current);Ym(e,n),o=KO(null,e,r,t,o,n);var i=GO();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Is(r)?(i=!0,HC(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,VO(e),o.updater=qE,e.stateNode=o,o._reactInternals=e,lD(e,r,t,n),e=dD(null,e,r,!0,i,n)):(e.tag=0,Xr&&i&&AO(e),Xi(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(OS(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Lae(r),t=tl(r,t),o){case 0:e=uD(null,e,r,t,n);break e;case 1:e=F4(null,e,r,t,n);break e;case 11:e=j4(null,e,r,t,n);break e;case 14:e=L4(null,e,r,tl(r.type,t),n);break e}throw Error(St(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tl(r,o),uD(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tl(r,o),F4(t,e,r,o,n);case 3:e:{if(V7(e),t===null)throw Error(St(387));r=e.pendingProps,i=e.memoizedState,o=i.element,f7(t,e),GC(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Sg(Error(St(423)),e),e=z4(t,e,r,n,o);break e}else if(r!==o){o=Sg(Error(St(424)),e),e=z4(t,e,r,n,o);break e}else for(Ys=$d(e.stateNode.containerInfo.firstChild),ta=e,Xr=!0,sl=null,n=g7(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bg(),r===o){e=yu(t,e,n);break e}Xi(t,e,r,n)}e=e.child}return e;case 5:return v7(e),t===null&&iD(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,eD(r,o)?s=null:i!==null&&eD(r,i)&&(e.flags|=32),B7(t,e),Xi(t,e,s,n),e.child;case 6:return t===null&&iD(e),null;case 13:return H7(t,e,n);case 4:return HO(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xg(e,null,r,n):Xi(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tl(r,o),j4(t,e,r,o,n);case 7:return Xi(t,e,e.pendingProps,n),e.child;case 8:return Xi(t,e,e.pendingProps.children,n),e.child;case 12:return Xi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,Fr(qC,r._currentValue),r._currentValue=s,i!==null)if(pl(i.value,s)){if(i.children===o.children&&!Ts.current){e=yu(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ru(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sD(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(St(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sD(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Xi(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Ym(e,n),o=Na(o),r=r(o),e.flags|=1,Xi(t,e,r,n),e.child;case 14:return r=e.type,o=tl(r,e.pendingProps),o=tl(r.type,o),L4(t,e,r,o,n);case 15:return F7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:tl(r,o),OS(t,e),e.tag=1,Is(r)?(t=!0,HC(e)):t=!1,Ym(e,n),p7(e,r,o),lD(e,r,o,n),dD(null,e,r,!0,t,n);case 19:return W7(t,e,n);case 22:return z7(t,e,n)}throw Error(St(156,e.tag))};function sq(t,e){return $U(t,e)}function jae(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(t,e,n,r){return new jae(t,e,n,r)}function oA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lae(t){if(typeof t=="function")return oA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===CO)return 11;if(t===_O)return 14}return 2}function Nd(t,e){var n=t.alternate;return n===null?(n=ka(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jS(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")oA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wm:return ph(n.children,o,i,e);case SO:s=8,o|=8;break;case $k:return t=ka(12,n,e,o|2),t.elementType=$k,t.lanes=i,t;case Mk:return t=ka(13,n,e,o),t.elementType=Mk,t.lanes=i,t;case Ok:return t=ka(19,n,e,o),t.elementType=Ok,t.lanes=i,t;case mU:return XE(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hU:s=10;break e;case pU:s=9;break e;case CO:s=11;break e;case _O:s=14;break e;case od:s=16,r=null;break e}throw Error(St(130,t==null?t:typeof t,""))}return e=ka(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function ph(t,e,n,r){return t=ka(7,t,r,e),t.lanes=n,t}function XE(t,e,n,r){return t=ka(22,t,r,e),t.elementType=mU,t.lanes=n,t.stateNode={isHidden:!1},t}function bP(t,e,n){return t=ka(6,t,null,e),t.lanes=n,t}function xP(t,e,n){return e=ka(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fae(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eP(0),this.expirationTimes=eP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eP(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function iA(t,e,n,r,o,i,s,a,l){return t=new Fae(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ka(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},VO(i),t}function zae(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aq(t){if(!t)return Xd;t=t._reactInternals;e:{if(ap(t)!==t||t.tag!==1)throw Error(St(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(St(171))}if(t.tag===1){var n=t.type;if(Is(n))return s7(t,n,e)}return e}function lq(t,e,n,r,o,i,s,a,l){return t=iA(n,r,!0,t,o,i,s,a,l),t.context=aq(null),n=t.current,r=ts(),o=Ad(n),i=ru(r,o),i.callback=e??null,Md(n,i,o),t.current.lanes=o,Mx(t,o,r),Ps(t,r),t}function QE(t,e,n,r){var o=e.current,i=ts(),s=Ad(o);return n=aq(n),e.context===null?e.context=n:e.pendingContext=n,e=ru(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Md(o,e,s),t!==null&&(ll(t,o,s,i),DS(t,o,s)),s}function n_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sA(t,e){X4(t,e),(t=t.alternate)&&X4(t,e)}function Bae(){return null}var cq=typeof reportError=="function"?reportError:function(t){console.error(t)};function aA(t){this._internalRoot=t}JE.prototype.render=aA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(St(409));QE(t,e,null,null)};JE.prototype.unmount=aA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$h(function(){QE(null,t,null,null)}),e[gu]=null}};function JE(t){this._internalRoot=t}JE.prototype.unstable_scheduleHydration=function(t){if(t){var e=FU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ad.length&&e!==0&&e<ad[n].priority;n++);ad.splice(n,0,t),n===0&&BU(t)}};function lA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ZE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Q4(){}function Vae(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=n_(s);i.call(c)}}var s=lq(e,r,t,0,null,!1,!1,"",Q4);return t._reactRootContainer=s,t[gu]=s.current,pb(t.nodeType===8?t.parentNode:t),$h(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=n_(l);a.call(c)}}var l=iA(t,0,!1,null,null,!1,!1,"",Q4);return t._reactRootContainer=l,t[gu]=l.current,pb(t.nodeType===8?t.parentNode:t),$h(function(){QE(e,l,n,r)}),l}function e2(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=n_(s);a.call(l)}}QE(e,s,t,o)}else s=Vae(n,e,t,o,r);return n_(s)}jU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=e0(e.pendingLanes);n!==0&&(IO(e,n|1),Ps(e,Po()),!(Qn&6)&&(Cg=Po()+500,mf()))}break;case 13:$h(function(){var r=vu(t,1);if(r!==null){var o=ts();ll(r,t,1,o)}}),sA(t,1)}};PO=function(t){if(t.tag===13){var e=vu(t,134217728);if(e!==null){var n=ts();ll(e,t,134217728,n)}sA(t,134217728)}};LU=function(t){if(t.tag===13){var e=Ad(t),n=vu(t,e);if(n!==null){var r=ts();ll(n,t,e,r)}sA(t,e)}};FU=function(){return Sr};zU=function(t,e){var n=Sr;try{return Sr=t,e()}finally{Sr=n}};Wk=function(t,e,n){switch(e){case"input":if(jk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=WE(r);if(!o)throw Error(St(90));vU(r),jk(r,o)}}}break;case"textarea":bU(t,n);break;case"select":e=n.value,e!=null&&Um(t,!!n.multiple,e,!1)}};TU=tA;IU=$h;var Hae={usingClientEntryPoint:!1,Events:[Ax,Em,WE,_U,EU,tA]},sy={findFiberByHostInstance:nh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wae={bundleType:sy.bundleType,version:sy.version,rendererPackageName:sy.rendererPackageName,rendererConfig:sy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kU(t),t===null?null:t.stateNode},findFiberByHostInstance:sy.findFiberByHostInstance||Bae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var h1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h1.isDisabled&&h1.supportsFiber)try{zE=h1.inject(Wae),nc=h1}catch{}}da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hae;da.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lA(e))throw Error(St(200));return zae(t,e,null,n)};da.createRoot=function(t,e){if(!lA(t))throw Error(St(299));var n=!1,r="",o=cq;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=iA(t,1,!1,null,null,n,!1,r,o),t[gu]=e.current,pb(t.nodeType===8?t.parentNode:t),new aA(e)};da.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(St(188)):(t=Object.keys(t).join(","),Error(St(268,t)));return t=kU(e),t=t===null?null:t.stateNode,t};da.flushSync=function(t){return $h(t)};da.hydrate=function(t,e,n){if(!ZE(e))throw Error(St(200));return e2(null,t,e,!0,n)};da.hydrateRoot=function(t,e,n){if(!lA(t))throw Error(St(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=cq;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=lq(e,null,t,1,n??null,o,!1,i,s),t[gu]=e.current,pb(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new JE(e)};da.render=function(t,e,n){if(!ZE(e))throw Error(St(200));return e2(null,t,e,!1,n)};da.unmountComponentAtNode=function(t){if(!ZE(t))throw Error(St(40));return t._reactRootContainer?($h(function(){e2(null,null,t,!1,function(){t._reactRootContainer=null,t[gu]=null})}),!0):!1};da.unstable_batchedUpdates=tA;da.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ZE(n))throw Error(St(200));if(t==null||t._reactInternals===void 0)throw Error(St(38));return e2(t,e,n,!1,r)};da.version="18.2.0-next-9e3b772b8-20220608";function uq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uq)}catch(t){console.error(t)}}uq(),lU.exports=da;var sa=lU.exports;const Xl=pv(sa),dq=QW({__proto__:null,default:Xl},[sa]);var J4=sa;kk.createRoot=J4.createRoot,kk.hydrateRoot=J4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gr.apply(this,arguments)}var jo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jo||(jo={}));const Z4="popstate";function Uae(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return Cb("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Mh(o)}return Kae(e,n,null,t)}function On(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _g(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qae(){return Math.random().toString(36).substr(2,8)}function e5(t,e){return{usr:t.state,key:t.key,idx:e}}function Cb(t,e,n,r){return n===void 0&&(n=null),Gr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gf(e):e,{state:n,key:e&&e.key||r||qae()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Kae(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=jo.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Gr({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=jo.Pop;let y=u(),b=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:b})}function f(y,b){a=jo.Push;let x=Cb(v.location,y,b);c=u()+1;let w=e5(x,c),C=v.createHref(x);try{s.pushState(w,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(C)}i&&l&&l({action:a,location:v.location,delta:1})}function m(y,b){a=jo.Replace;let x=Cb(v.location,y,b);c=u();let w=e5(x,c),C=v.createHref(x);s.replaceState(w,"",C),i&&l&&l({action:a,location:v.location,delta:0})}function g(y){let b=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof y=="string"?y:Mh(y);return x=x.replace(/ $/,"%20"),On(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let v={get action(){return a},get location(){return t(o,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Z4,d),l=y,()=>{o.removeEventListener(Z4,d),l=null}},createHref(y){return e(o,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(y){return s.go(y)}};return v}var pr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pr||(pr={}));const Gae=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yae(t){return t.index===!0}function r_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((o,i)=>{let s=[...n,String(i)],a=typeof o.id=="string"?o.id:s.join("-");if(On(o.index!==!0||!o.children,"Cannot specify children on an index route"),On(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Yae(o)){let l=Gr({},o,e(o),{id:a});return r[a]=l,l}else{let l=Gr({},o,e(o),{id:a,children:void 0});return r[a]=l,o.children&&(l.children=r_(o.children,e,s,r)),l}})}function Uf(t,e,n){return n===void 0&&(n="/"),LS(t,e,n,!1)}function LS(t,e,n,r){let o=typeof e=="string"?gf(e):e,i=yv(o.pathname||"/",n);if(i==null)return null;let s=fq(t);Qae(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=lle(i);a=sle(s[l],c,r)}return a}function Xae(t,e){let{route:n,pathname:r,params:o}=t;return{id:n.id,pathname:r,params:o,data:e[n.id],handle:n.handle}}function fq(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(On(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ou([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(On(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),fq(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ole(c,i.index),routesMeta:u})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of hq(i.path))o(i,s,l)}),e}function hq(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=hq(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Qae(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ile(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Jae=/^:[\w-]+$/,Zae=3,ele=2,tle=1,nle=10,rle=-2,t5=t=>t==="*";function ole(t,e){let n=t.split("/"),r=n.length;return n.some(t5)&&(r+=rle),e&&(r+=ele),n.filter(o=>!t5(o)).reduce((o,i)=>o+(Jae.test(i)?Zae:i===""?tle:nle),r)}function ile(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function sle(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,o={},i="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=n5({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=n5({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:ou([i,d.pathname]),pathnameBase:dle(ou([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=ou([i,d.pathnameBase]))}return s}function n5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ale(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let v=a[d]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function ale(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_g(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function lle(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _g(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cle(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?gf(t):t;return{pathname:n?n.startsWith("/")?n:ule(n,e):e,search:fle(r),hash:hle(o)}}function ule(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wP(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t2(t,e){let n=pq(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function n2(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=gf(t):(o=Gr({},t),On(!o.pathname||!o.pathname.includes("?"),wP("?","pathname","search",o)),On(!o.pathname||!o.pathname.includes("#"),wP("#","pathname","hash",o)),On(!o.search||!o.search.includes("#"),wP("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;o.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=cle(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ou=t=>t.join("/").replace(/\/\/+/g,"/"),dle=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fle=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hle=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class o_{constructor(e,n,r,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function _b(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mq=["post","put","patch","delete"],ple=new Set(mq),mle=["get",...mq],gle=new Set(mle),vle=new Set([301,302,303,307,308]),yle=new Set([307,308]),SP={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ble={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ay={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xle=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),gq="remix-router-transitions";function wle(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;On(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let Pe=t.detectErrorBoundary;o=Te=>({hasErrorBoundary:Pe(Te)})}else o=xle;let i={},s=r_(t.routes,o,void 0,i),a,l=t.basename||"/",c=t.dataStrategy||Ele,u=t.patchRoutesOnNavigation,d=Gr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,g=null,v=null,y=null,b=t.hydrationData!=null,x=Uf(s,t.history.location,l),w=!1,C=null;if(x==null&&!u){let Pe=ys(404,{pathname:t.history.location.pathname}),{matches:Te,route:De}=h5(s);x=Te,C={[De.id]:Pe}}x&&!t.hydrationData&&lt(x,s,t.history.location.pathname).active&&(x=null);let E;if(x)if(x.some(Pe=>Pe.route.lazy))E=!1;else if(!x.some(Pe=>Pe.route.loader))E=!0;else if(d.v7_partialHydration){let Pe=t.hydrationData?t.hydrationData.loaderData:null,Te=t.hydrationData?t.hydrationData.errors:null;if(Te){let De=x.findIndex(Oe=>Te[Oe.route.id]!==void 0);E=x.slice(0,De+1).every(Oe=>!_D(Oe.route,Pe,Te))}else E=x.every(De=>!_D(De.route,Pe,Te))}else E=t.hydrationData!=null;else if(E=!1,x=[],d.v7_partialHydration){let Pe=lt(null,s,t.history.location.pathname);Pe.active&&Pe.matches&&(w=!0,x=Pe.matches)}let _,S={historyAction:t.history.action,location:t.history.location,matches:x,initialized:E,navigation:SP,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},T=jo.Pop,I=!1,P,M=!1,R=new Map,k=null,D=!1,A=!1,N=[],O=new Set,j=new Map,L=0,z=-1,V=new Map,W=new Set,Y=new Map,U=new Map,q=new Set,K=new Map,J=new Map,X;function ue(){if(f=t.history.listen(Pe=>{let{action:Te,location:De,delta:Oe}=Pe;if(X){X(),X=void 0;return}_g(J.size===0||Oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let He=Ze({currentLocation:S.location,nextLocation:De,historyAction:Te});if(He&&Oe!=null){let Ge=new Promise(ht=>{X=ht});t.history.go(Oe*-1),We(He,{state:"blocked",location:De,proceed(){We(He,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),Ge.then(()=>t.history.go(Oe))},reset(){let ht=new Map(S.blockers);ht.set(He,ay),pe({blockers:ht})}});return}return le(Te,De)}),n){Fle(e,R);let Pe=()=>zle(e,R);e.addEventListener("pagehide",Pe),k=()=>e.removeEventListener("pagehide",Pe)}return S.initialized||le(jo.Pop,S.location,{initialHydration:!0}),_}function _e(){f&&f(),k&&k(),m.clear(),P&&P.abort(),S.fetchers.forEach((Pe,Te)=>$e(Te)),S.blockers.forEach((Pe,Te)=>ze(Te))}function Ce(Pe){return m.add(Pe),()=>m.delete(Pe)}function pe(Pe,Te){Te===void 0&&(Te={}),S=Gr({},S,Pe);let De=[],Oe=[];d.v7_fetcherPersist&&S.fetchers.forEach((He,Ge)=>{He.state==="idle"&&(q.has(Ge)?Oe.push(Ge):De.push(Ge))}),q.forEach(He=>{!S.fetchers.has(He)&&!j.has(He)&&Oe.push(He)}),[...m].forEach(He=>He(S,{deletedFetchers:Oe,viewTransitionOpts:Te.viewTransitionOpts,flushSync:Te.flushSync===!0})),d.v7_fetcherPersist?(De.forEach(He=>S.fetchers.delete(He)),Oe.forEach(He=>$e(He))):Oe.forEach(He=>q.delete(He))}function ge(Pe,Te,De){var Oe,He;let{flushSync:Ge}=De===void 0?{}:De,ht=S.actionData!=null&&S.navigation.formMethod!=null&&rl(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Oe=Pe.state)==null?void 0:Oe._isRedirect)!==!0,Qe;Te.actionData?Object.keys(Te.actionData).length>0?Qe=Te.actionData:Qe=null:ht?Qe=S.actionData:Qe=null;let Xe=Te.loaderData?d5(S.loaderData,Te.loaderData,Te.matches||[],Te.errors):S.loaderData,nt=S.blockers;nt.size>0&&(nt=new Map(nt),nt.forEach((Tt,en)=>nt.set(en,ay)));let ft=I===!0||S.navigation.formMethod!=null&&rl(S.navigation.formMethod)&&((He=Pe.state)==null?void 0:He._isRedirect)!==!0;a&&(s=a,a=void 0),D||T===jo.Pop||(T===jo.Push?t.history.push(Pe,Pe.state):T===jo.Replace&&t.history.replace(Pe,Pe.state));let wt;if(T===jo.Pop){let Tt=R.get(S.location.pathname);Tt&&Tt.has(Pe.pathname)?wt={currentLocation:S.location,nextLocation:Pe}:R.has(Pe.pathname)&&(wt={currentLocation:Pe,nextLocation:S.location})}else if(M){let Tt=R.get(S.location.pathname);Tt?Tt.add(Pe.pathname):(Tt=new Set([Pe.pathname]),R.set(S.location.pathname,Tt)),wt={currentLocation:S.location,nextLocation:Pe}}pe(Gr({},Te,{actionData:Qe,loaderData:Xe,historyAction:T,location:Pe,initialized:!0,navigation:SP,revalidation:"idle",restoreScrollPosition:Be(Pe,Te.matches||S.matches),preventScrollReset:ft,blockers:nt}),{viewTransitionOpts:wt,flushSync:Ge===!0}),T=jo.Pop,I=!1,M=!1,D=!1,A=!1,N=[]}async function F(Pe,Te){if(typeof Pe=="number"){t.history.go(Pe);return}let De=CD(S.location,S.matches,l,d.v7_prependBasename,Pe,d.v7_relativeSplatPath,Te==null?void 0:Te.fromRouteId,Te==null?void 0:Te.relative),{path:Oe,submission:He,error:Ge}=r5(d.v7_normalizeFormMethod,!1,De,Te),ht=S.location,Qe=Cb(S.location,Oe,Te&&Te.state);Qe=Gr({},Qe,t.history.encodeLocation(Qe));let Xe=Te&&Te.replace!=null?Te.replace:void 0,nt=jo.Push;Xe===!0?nt=jo.Replace:Xe===!1||He!=null&&rl(He.formMethod)&&He.formAction===S.location.pathname+S.location.search&&(nt=jo.Replace);let ft=Te&&"preventScrollReset"in Te?Te.preventScrollReset===!0:void 0,wt=(Te&&Te.flushSync)===!0,Tt=Ze({currentLocation:ht,nextLocation:Qe,historyAction:nt});if(Tt){We(Tt,{state:"blocked",location:Qe,proceed(){We(Tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Qe}),F(Pe,Te)},reset(){let en=new Map(S.blockers);en.set(Tt,ay),pe({blockers:en})}});return}return await le(nt,Qe,{submission:He,pendingError:Ge,preventScrollReset:ft,replace:Te&&Te.replace,enableViewTransition:Te&&Te.viewTransition,flushSync:wt})}function ce(){if(me(),pe({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){le(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}le(T||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:M===!0})}}async function le(Pe,Te,De){P&&P.abort(),P=null,T=Pe,D=(De&&De.startUninterruptedRevalidation)===!0,tt(S.location,S.matches),I=(De&&De.preventScrollReset)===!0,M=(De&&De.enableViewTransition)===!0;let Oe=a||s,He=De&&De.overrideNavigation,Ge=De!=null&&De.initialHydration&&S.matches&&S.matches.length>0&&!w?S.matches:Uf(Oe,Te,l),ht=(De&&De.flushSync)===!0;if(Ge&&S.initialized&&!A&&Dle(S.location,Te)&&!(De&&De.submission&&rl(De.submission.formMethod))){ge(Te,{matches:Ge},{flushSync:ht});return}let Qe=lt(Ge,Oe,Te.pathname);if(Qe.active&&Qe.matches&&(Ge=Qe.matches),!Ge){let{error:Wt,notFoundMatches:yt,route:Bt}=dt(Te.pathname);ge(Te,{matches:yt,loaderData:{},errors:{[Bt.id]:Wt}},{flushSync:ht});return}P=new AbortController;let Xe=kp(t.history,Te,P.signal,De&&De.submission),nt;if(De&&De.pendingError)nt=[qf(Ge).route.id,{type:pr.error,error:De.pendingError}];else if(De&&De.submission&&rl(De.submission.formMethod)){let Wt=await Z(Xe,Te,De.submission,Ge,Qe.active,{replace:De.replace,flushSync:ht});if(Wt.shortCircuited)return;if(Wt.pendingActionResult){let[yt,Bt]=Wt.pendingActionResult;if(qs(Bt)&&_b(Bt.error)&&Bt.error.status===404){P=null,ge(Te,{matches:Wt.matches,loaderData:{},errors:{[yt]:Bt.error}});return}}Ge=Wt.matches||Ge,nt=Wt.pendingActionResult,He=CP(Te,De.submission),ht=!1,Qe.active=!1,Xe=kp(t.history,Xe.url,Xe.signal)}let{shortCircuited:ft,matches:wt,loaderData:Tt,errors:en}=await Q(Xe,Te,Ge,Qe.active,He,De&&De.submission,De&&De.fetcherSubmission,De&&De.replace,De&&De.initialHydration===!0,ht,nt);ft||(P=null,ge(Te,Gr({matches:wt||Ge},f5(nt),{loaderData:Tt,errors:en})))}async function Z(Pe,Te,De,Oe,He,Ge){Ge===void 0&&(Ge={}),me();let ht=jle(Te,De);if(pe({navigation:ht},{flushSync:Ge.flushSync===!0}),He){let nt=await st(Oe,Te.pathname,Pe.signal);if(nt.type==="aborted")return{shortCircuited:!0};if(nt.type==="error"){let ft=qf(nt.partialMatches).route.id;return{matches:nt.partialMatches,pendingActionResult:[ft,{type:pr.error,error:nt.error}]}}else if(nt.matches)Oe=nt.matches;else{let{notFoundMatches:ft,error:wt,route:Tt}=dt(Te.pathname);return{matches:ft,pendingActionResult:[Tt.id,{type:pr.error,error:wt}]}}}let Qe,Xe=n0(Oe,Te);if(!Xe.route.action&&!Xe.route.lazy)Qe={type:pr.error,error:ys(405,{method:Pe.method,pathname:Te.pathname,routeId:Xe.route.id})};else if(Qe=(await he("action",S,Pe,[Xe],Oe,null))[Xe.route.id],Pe.signal.aborted)return{shortCircuited:!0};if(ih(Qe)){let nt;return Ge&&Ge.replace!=null?nt=Ge.replace:nt=l5(Qe.response.headers.get("Location"),new URL(Pe.url),l)===S.location.pathname+S.location.search,await ee(Pe,Qe,!0,{submission:De,replace:nt}),{shortCircuited:!0}}if(yd(Qe))throw ys(400,{type:"defer-action"});if(qs(Qe)){let nt=qf(Oe,Xe.route.id);return(Ge&&Ge.replace)!==!0&&(T=jo.Push),{matches:Oe,pendingActionResult:[nt.route.id,Qe]}}return{matches:Oe,pendingActionResult:[Xe.route.id,Qe]}}async function Q(Pe,Te,De,Oe,He,Ge,ht,Qe,Xe,nt,ft){let wt=He||CP(Te,Ge),Tt=Ge||ht||m5(wt),en=!D&&(!d.v7_partialHydration||!Xe);if(Oe){if(en){let Vt=ye(ft);pe(Gr({navigation:wt},Vt!==void 0?{actionData:Vt}:{}),{flushSync:nt})}let Et=await st(De,Te.pathname,Pe.signal);if(Et.type==="aborted")return{shortCircuited:!0};if(Et.type==="error"){let Vt=qf(Et.partialMatches).route.id;return{matches:Et.partialMatches,loaderData:{},errors:{[Vt]:Et.error}}}else if(Et.matches)De=Et.matches;else{let{error:Vt,notFoundMatches:Wn,route:jr}=dt(Te.pathname);return{matches:Wn,loaderData:{},errors:{[jr.id]:Vt}}}}let Wt=a||s,[yt,Bt]=i5(t.history,S,De,Tt,Te,d.v7_partialHydration&&Xe===!0,d.v7_skipActionErrorRevalidation,A,N,O,q,Y,W,Wt,l,ft);if(de(Et=>!(De&&De.some(Vt=>Vt.route.id===Et))||yt&&yt.some(Vt=>Vt.route.id===Et)),z=++L,yt.length===0&&Bt.length===0){let Et=ae();return ge(Te,Gr({matches:De,loaderData:{},errors:ft&&qs(ft[1])?{[ft[0]]:ft[1].error}:null},f5(ft),Et?{fetchers:new Map(S.fetchers)}:{}),{flushSync:nt}),{shortCircuited:!0}}if(en){let Et={};if(!Oe){Et.navigation=wt;let Vt=ye(ft);Vt!==void 0&&(Et.actionData=Vt)}Bt.length>0&&(Et.fetchers=fe(Bt)),pe(Et,{flushSync:nt})}Bt.forEach(Et=>{xe(Et.key),Et.controller&&j.set(Et.key,Et.controller)});let bt=()=>Bt.forEach(Et=>xe(Et.key));P&&P.signal.addEventListener("abort",bt);let{loaderResults:It,fetcherResults:zt}=await we(S,De,yt,Bt,Pe);if(Pe.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",bt),Bt.forEach(Et=>j.delete(Et.key));let Qt=p1(It);if(Qt)return await ee(Pe,Qt.result,!0,{replace:Qe}),{shortCircuited:!0};if(Qt=p1(zt),Qt)return W.add(Qt.key),await ee(Pe,Qt.result,!0,{replace:Qe}),{shortCircuited:!0};let{loaderData:gn,errors:Zn}=u5(S,De,It,ft,Bt,zt,K);K.forEach((Et,Vt)=>{Et.subscribe(Wn=>{(Wn||Et.done)&&K.delete(Vt)})}),d.v7_partialHydration&&Xe&&S.errors&&(Zn=Gr({},S.errors,Zn));let Dn=ae(),Mr=Ee(z),Nt=Dn||Mr||Bt.length>0;return Gr({matches:De,loaderData:gn,errors:Zn},Nt?{fetchers:new Map(S.fetchers)}:{})}function ye(Pe){if(Pe&&!qs(Pe[1]))return{[Pe[0]]:Pe[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function fe(Pe){return Pe.forEach(Te=>{let De=S.fetchers.get(Te.key),Oe=ly(void 0,De?De.data:void 0);S.fetchers.set(Te.key,Oe)}),new Map(S.fetchers)}function ie(Pe,Te,De,Oe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");xe(Pe);let He=(Oe&&Oe.flushSync)===!0,Ge=a||s,ht=CD(S.location,S.matches,l,d.v7_prependBasename,De,d.v7_relativeSplatPath,Te,Oe==null?void 0:Oe.relative),Qe=Uf(Ge,ht,l),Xe=lt(Qe,Ge,ht);if(Xe.active&&Xe.matches&&(Qe=Xe.matches),!Qe){Ie(Pe,Te,ys(404,{pathname:ht}),{flushSync:He});return}let{path:nt,submission:ft,error:wt}=r5(d.v7_normalizeFormMethod,!0,ht,Oe);if(wt){Ie(Pe,Te,wt,{flushSync:He});return}let Tt=n0(Qe,nt),en=(Oe&&Oe.preventScrollReset)===!0;if(ft&&rl(ft.formMethod)){re(Pe,Te,nt,Tt,Qe,Xe.active,He,en,ft);return}Y.set(Pe,{routeId:Te,path:nt}),ve(Pe,Te,nt,Tt,Qe,Xe.active,He,en,ft)}async function re(Pe,Te,De,Oe,He,Ge,ht,Qe,Xe){me(),Y.delete(Pe);function nt(An){if(!An.route.action&&!An.route.lazy){let dr=ys(405,{method:Xe.formMethod,pathname:De,routeId:Te});return Ie(Pe,Te,dr,{flushSync:ht}),!0}return!1}if(!Ge&&nt(Oe))return;let ft=S.fetchers.get(Pe);ke(Pe,Lle(Xe,ft),{flushSync:ht});let wt=new AbortController,Tt=kp(t.history,De,wt.signal,Xe);if(Ge){let An=await st(He,new URL(Tt.url).pathname,Tt.signal,Pe);if(An.type==="aborted")return;if(An.type==="error"){Ie(Pe,Te,An.error,{flushSync:ht});return}else if(An.matches){if(He=An.matches,Oe=n0(He,De),nt(Oe))return}else{Ie(Pe,Te,ys(404,{pathname:De}),{flushSync:ht});return}}j.set(Pe,wt);let en=L,yt=(await he("action",S,Tt,[Oe],He,Pe))[Oe.route.id];if(Tt.signal.aborted){j.get(Pe)===wt&&j.delete(Pe);return}if(d.v7_fetcherPersist&&q.has(Pe)){if(ih(yt)||qs(yt)){ke(Pe,ed(void 0));return}}else{if(ih(yt))if(j.delete(Pe),z>en){ke(Pe,ed(void 0));return}else return W.add(Pe),ke(Pe,ly(Xe)),ee(Tt,yt,!1,{fetcherSubmission:Xe,preventScrollReset:Qe});if(qs(yt)){Ie(Pe,Te,yt.error);return}}if(yd(yt))throw ys(400,{type:"defer-action"});let Bt=S.navigation.location||S.location,bt=kp(t.history,Bt,wt.signal),It=a||s,zt=S.navigation.state!=="idle"?Uf(It,S.navigation.location,l):S.matches;On(zt,"Didn't find any matches after fetcher action");let Qt=++L;V.set(Pe,Qt);let gn=ly(Xe,yt.data);S.fetchers.set(Pe,gn);let[Zn,Dn]=i5(t.history,S,zt,Xe,Bt,!1,d.v7_skipActionErrorRevalidation,A,N,O,q,Y,W,It,l,[Oe.route.id,yt]);Dn.filter(An=>An.key!==Pe).forEach(An=>{let dr=An.key,to=S.fetchers.get(dr),hi=ly(void 0,to?to.data:void 0);S.fetchers.set(dr,hi),xe(dr),An.controller&&j.set(dr,An.controller)}),pe({fetchers:new Map(S.fetchers)});let Mr=()=>Dn.forEach(An=>xe(An.key));wt.signal.addEventListener("abort",Mr);let{loaderResults:Nt,fetcherResults:Et}=await we(S,zt,Zn,Dn,bt);if(wt.signal.aborted)return;wt.signal.removeEventListener("abort",Mr),V.delete(Pe),j.delete(Pe),Dn.forEach(An=>j.delete(An.key));let Vt=p1(Nt);if(Vt)return ee(bt,Vt.result,!1,{preventScrollReset:Qe});if(Vt=p1(Et),Vt)return W.add(Vt.key),ee(bt,Vt.result,!1,{preventScrollReset:Qe});let{loaderData:Wn,errors:jr}=u5(S,zt,Nt,void 0,Dn,Et,K);if(S.fetchers.has(Pe)){let An=ed(yt.data);S.fetchers.set(Pe,An)}Ee(Qt),S.navigation.state==="loading"&&Qt>z?(On(T,"Expected pending action"),P&&P.abort(),ge(S.navigation.location,{matches:zt,loaderData:Wn,errors:jr,fetchers:new Map(S.fetchers)})):(pe({errors:jr,loaderData:d5(S.loaderData,Wn,zt,jr),fetchers:new Map(S.fetchers)}),A=!1)}async function ve(Pe,Te,De,Oe,He,Ge,ht,Qe,Xe){let nt=S.fetchers.get(Pe);ke(Pe,ly(Xe,nt?nt.data:void 0),{flushSync:ht});let ft=new AbortController,wt=kp(t.history,De,ft.signal);if(Ge){let yt=await st(He,new URL(wt.url).pathname,wt.signal,Pe);if(yt.type==="aborted")return;if(yt.type==="error"){Ie(Pe,Te,yt.error,{flushSync:ht});return}else if(yt.matches)He=yt.matches,Oe=n0(He,De);else{Ie(Pe,Te,ys(404,{pathname:De}),{flushSync:ht});return}}j.set(Pe,ft);let Tt=L,Wt=(await he("loader",S,wt,[Oe],He,Pe))[Oe.route.id];if(yd(Wt)&&(Wt=await uA(Wt,wt.signal,!0)||Wt),j.get(Pe)===ft&&j.delete(Pe),!wt.signal.aborted){if(q.has(Pe)){ke(Pe,ed(void 0));return}if(ih(Wt))if(z>Tt){ke(Pe,ed(void 0));return}else{W.add(Pe),await ee(wt,Wt,!1,{preventScrollReset:Qe});return}if(qs(Wt)){Ie(Pe,Te,Wt.error);return}On(!yd(Wt),"Unhandled fetcher deferred data"),ke(Pe,ed(Wt.data))}}async function ee(Pe,Te,De,Oe){let{submission:He,fetcherSubmission:Ge,preventScrollReset:ht,replace:Qe}=Oe===void 0?{}:Oe;Te.response.headers.has("X-Remix-Revalidate")&&(A=!0);let Xe=Te.response.headers.get("Location");On(Xe,"Expected a Location header on the redirect Response"),Xe=l5(Xe,new URL(Pe.url),l);let nt=Cb(S.location,Xe,{_isRedirect:!0});if(n){let yt=!1;if(Te.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(cA.test(Xe)){const Bt=t.history.createURL(Xe);yt=Bt.origin!==e.location.origin||yv(Bt.pathname,l)==null}if(yt){Qe?e.location.replace(Xe):e.location.assign(Xe);return}}P=null;let ft=Qe===!0||Te.response.headers.has("X-Remix-Replace")?jo.Replace:jo.Push,{formMethod:wt,formAction:Tt,formEncType:en}=S.navigation;!He&&!Ge&&wt&&Tt&&en&&(He=m5(S.navigation));let Wt=He||Ge;if(yle.has(Te.response.status)&&Wt&&rl(Wt.formMethod))await le(ft,nt,{submission:Gr({},Wt,{formAction:Xe}),preventScrollReset:ht||I,enableViewTransition:De?M:void 0});else{let yt=CP(nt,He);await le(ft,nt,{overrideNavigation:yt,fetcherSubmission:Ge,preventScrollReset:ht||I,enableViewTransition:De?M:void 0})}}async function he(Pe,Te,De,Oe,He,Ge){let ht,Qe={};try{ht=await Tle(c,Pe,Te,De,Oe,He,Ge,i,o)}catch(Xe){return Oe.forEach(nt=>{Qe[nt.route.id]={type:pr.error,error:Xe}}),Qe}for(let[Xe,nt]of Object.entries(ht))if($le(nt)){let ft=nt.result;Qe[Xe]={type:pr.redirect,response:Rle(ft,De,Xe,He,l,d.v7_relativeSplatPath)}}else Qe[Xe]=await Ple(nt);return Qe}async function we(Pe,Te,De,Oe,He){let Ge=Pe.matches,ht=he("loader",Pe,He,De,Te,null),Qe=Promise.all(Oe.map(async ft=>{if(ft.matches&&ft.match&&ft.controller){let Tt=(await he("loader",Pe,kp(t.history,ft.path,ft.controller.signal),[ft.match],ft.matches,ft.key))[ft.match.route.id];return{[ft.key]:Tt}}else return Promise.resolve({[ft.key]:{type:pr.error,error:ys(404,{pathname:ft.path})}})})),Xe=await ht,nt=(await Qe).reduce((ft,wt)=>Object.assign(ft,wt),{});return await Promise.all([Ale(Te,Xe,He.signal,Ge,Pe.loaderData),Nle(Te,nt,Oe)]),{loaderResults:Xe,fetcherResults:nt}}function me(){A=!0,N.push(...de()),Y.forEach((Pe,Te)=>{j.has(Te)&&O.add(Te),xe(Te)})}function ke(Pe,Te,De){De===void 0&&(De={}),S.fetchers.set(Pe,Te),pe({fetchers:new Map(S.fetchers)},{flushSync:(De&&De.flushSync)===!0})}function Ie(Pe,Te,De,Oe){Oe===void 0&&(Oe={});let He=qf(S.matches,Te);$e(Pe),pe({errors:{[He.route.id]:De},fetchers:new Map(S.fetchers)},{flushSync:(Oe&&Oe.flushSync)===!0})}function Re(Pe){return U.set(Pe,(U.get(Pe)||0)+1),q.has(Pe)&&q.delete(Pe),S.fetchers.get(Pe)||ble}function $e(Pe){let Te=S.fetchers.get(Pe);j.has(Pe)&&!(Te&&Te.state==="loading"&&V.has(Pe))&&xe(Pe),Y.delete(Pe),V.delete(Pe),W.delete(Pe),d.v7_fetcherPersist&&q.delete(Pe),O.delete(Pe),S.fetchers.delete(Pe)}function ne(Pe){let Te=(U.get(Pe)||0)-1;Te<=0?(U.delete(Pe),q.add(Pe),d.v7_fetcherPersist||$e(Pe)):U.set(Pe,Te),pe({fetchers:new Map(S.fetchers)})}function xe(Pe){let Te=j.get(Pe);Te&&(Te.abort(),j.delete(Pe))}function se(Pe){for(let Te of Pe){let De=Re(Te),Oe=ed(De.data);S.fetchers.set(Te,Oe)}}function ae(){let Pe=[],Te=!1;for(let De of W){let Oe=S.fetchers.get(De);On(Oe,"Expected fetcher: "+De),Oe.state==="loading"&&(W.delete(De),Pe.push(De),Te=!0)}return se(Pe),Te}function Ee(Pe){let Te=[];for(let[De,Oe]of V)if(Oe<Pe){let He=S.fetchers.get(De);On(He,"Expected fetcher: "+De),He.state==="loading"&&(xe(De),V.delete(De),Te.push(De))}return se(Te),Te.length>0}function Le(Pe,Te){let De=S.blockers.get(Pe)||ay;return J.get(Pe)!==Te&&J.set(Pe,Te),De}function ze(Pe){S.blockers.delete(Pe),J.delete(Pe)}function We(Pe,Te){let De=S.blockers.get(Pe)||ay;On(De.state==="unblocked"&&Te.state==="blocked"||De.state==="blocked"&&Te.state==="blocked"||De.state==="blocked"&&Te.state==="proceeding"||De.state==="blocked"&&Te.state==="unblocked"||De.state==="proceeding"&&Te.state==="unblocked","Invalid blocker state transition: "+De.state+" -> "+Te.state);let Oe=new Map(S.blockers);Oe.set(Pe,Te),pe({blockers:Oe})}function Ze(Pe){let{currentLocation:Te,nextLocation:De,historyAction:Oe}=Pe;if(J.size===0)return;J.size>1&&_g(!1,"A router only supports one blocker at a time");let He=Array.from(J.entries()),[Ge,ht]=He[He.length-1],Qe=S.blockers.get(Ge);if(!(Qe&&Qe.state==="proceeding")&&ht({currentLocation:Te,nextLocation:De,historyAction:Oe}))return Ge}function dt(Pe){let Te=ys(404,{pathname:Pe}),De=a||s,{matches:Oe,route:He}=h5(De);return de(),{notFoundMatches:Oe,route:He,error:Te}}function de(Pe){let Te=[];return K.forEach((De,Oe)=>{(!Pe||Pe(Oe))&&(De.cancel(),Te.push(Oe),K.delete(Oe))}),Te}function je(Pe,Te,De){if(g=Pe,y=Te,v=De||null,!b&&S.navigation===SP){b=!0;let Oe=Be(S.location,S.matches);Oe!=null&&pe({restoreScrollPosition:Oe})}return()=>{g=null,y=null,v=null}}function Ve(Pe,Te){return v&&v(Pe,Te.map(Oe=>Xae(Oe,S.loaderData)))||Pe.key}function tt(Pe,Te){if(g&&y){let De=Ve(Pe,Te);g[De]=y()}}function Be(Pe,Te){if(g){let De=Ve(Pe,Te),Oe=g[De];if(typeof Oe=="number")return Oe}return null}function lt(Pe,Te,De){if(u)if(Pe){if(Object.keys(Pe[0].params).length>0)return{active:!0,matches:LS(Te,De,l,!0)}}else return{active:!0,matches:LS(Te,De,l,!0)||[]};return{active:!1,matches:null}}async function st(Pe,Te,De,Oe){if(!u)return{type:"success",matches:Pe};let He=Pe;for(;;){let Ge=a==null,ht=a||s,Qe=i;try{await u({signal:De,path:Te,matches:He,fetcherKey:Oe,patch:(ft,wt)=>{De.aborted||a5(ft,wt,ht,Qe,o)}})}catch(ft){return{type:"error",error:ft,partialMatches:He}}finally{Ge&&!De.aborted&&(s=[...s])}if(De.aborted)return{type:"aborted"};let Xe=Uf(ht,Te,l);if(Xe)return{type:"success",matches:Xe};let nt=LS(ht,Te,l,!0);if(!nt||He.length===nt.length&&He.every((ft,wt)=>ft.route.id===nt[wt].route.id))return{type:"success",matches:null};He=nt}}function pt(Pe){i={},a=r_(Pe,o,void 0,i)}function Ct(Pe,Te){let De=a==null;a5(Pe,Te,a||s,i,o),De&&(s=[...s],pe({}))}return _={get basename(){return l},get future(){return d},get state(){return S},get routes(){return s},get window(){return e},initialize:ue,subscribe:Ce,enableScrollRestoration:je,navigate:F,fetch:ie,revalidate:ce,createHref:Pe=>t.history.createHref(Pe),encodeLocation:Pe=>t.history.encodeLocation(Pe),getFetcher:Re,deleteFetcher:ne,dispose:_e,getBlocker:Le,deleteBlocker:ze,patchRoutes:Ct,_internalFetchControllers:j,_internalActiveDeferreds:K,_internalSetRoutes:pt},_}function Sle(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function CD(t,e,n,r,o,i,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=n2(o||".",t2(l,i),yv(t.pathname,n)||t.pathname,a==="path");if(o==null&&(u.search=t.search,u.hash=t.hash),(o==null||o===""||o===".")&&c){let d=dA(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?"?"+g:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ou([n,u.pathname])),Mh(u)}function r5(t,e,n,r){if(!r||!Sle(r))return{path:n};if(r.formMethod&&!Ole(r.formMethod))return{path:n,error:ys(405,{method:r.formMethod})};let o=()=>({path:n,error:ys(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=t?i.toUpperCase():i.toLowerCase(),a=bq(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rl(s))return o();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,g)=>{let[v,y]=g;return""+m+v+"="+y+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!rl(s))return o();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return o()}}}On(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=ED(r.formData),c=r.formData;else if(r.body instanceof FormData)l=ED(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=c5(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=c5(l)}catch{return o()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rl(u.formMethod))return{path:n,submission:u};let d=gf(n);return e&&d.search&&dA(d.search)&&l.append("index",""),d.search="?"+l,{path:Mh(d),submission:u}}function o5(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(o=>o.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function i5(t,e,n,r,o,i,s,a,l,c,u,d,f,m,g,v){let y=v?qs(v[1])?v[1].error:v[1].data:void 0,b=t.createURL(e.location),x=t.createURL(o),w=n;i&&e.errors?w=o5(n,Object.keys(e.errors)[0],!0):v&&qs(v[1])&&(w=o5(n,v[0]));let C=v?v[1].statusCode:void 0,E=s&&C&&C>=400,_=w.filter((T,I)=>{let{route:P}=T;if(P.lazy)return!0;if(P.loader==null)return!1;if(i)return _D(P,e.loaderData,e.errors);if(Cle(e.loaderData,e.matches[I],T)||l.some(k=>k===T.route.id))return!0;let M=e.matches[I],R=T;return s5(T,Gr({currentUrl:b,currentParams:M.params,nextUrl:x,nextParams:R.params},r,{actionResult:y,actionStatus:C,defaultShouldRevalidate:E?!1:a||b.pathname+b.search===x.pathname+x.search||b.search!==x.search||vq(M,R)}))}),S=[];return d.forEach((T,I)=>{if(i||!n.some(D=>D.route.id===T.routeId)||u.has(I))return;let P=Uf(m,T.path,g);if(!P){S.push({key:I,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(I),R=n0(P,T.path),k=!1;f.has(I)?k=!1:c.has(I)?(c.delete(I),k=!0):M&&M.state!=="idle"&&M.data===void 0?k=a:k=s5(R,Gr({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:y,actionStatus:C,defaultShouldRevalidate:E?!1:a})),k&&S.push({key:I,routeId:T.routeId,path:T.path,matches:P,match:R,controller:new AbortController})}),[_,S]}function _D(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,o=n!=null&&n[t.id]!==void 0;return!r&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!o}function Cle(t,e,n){let r=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return r||o}function vq(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function s5(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function a5(t,e,n,r,o){var i;let s;if(t){let c=r[t];On(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let a=e.filter(c=>!s.some(u=>yq(c,u))),l=r_(a,o,[t||"_","patch",String(((i=s)==null?void 0:i.length)||"0")],r);s.push(...l)}function yq(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var o;return(o=e.children)==null?void 0:o.some(i=>yq(n,i))}):!1}async function _le(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let o=n[t.id];On(o,"No route found in manifest");let i={};for(let s in r){let l=o[s]!==void 0&&s!=="hasErrorBoundary";_g(!l,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Gae.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,Gr({},e(o),{lazy:void 0}))}async function Ele(t){let{matches:e}=t,n=e.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,i,s)=>Object.assign(o,{[n[s].route.id]:i}),{})}async function Tle(t,e,n,r,o,i,s,a,l,c){let u=i.map(m=>m.route.lazy?_le(m.route,l,a):void 0),d=i.map((m,g)=>{let v=u[g],y=o.some(x=>x.route.id===m.route.id);return Gr({},m,{shouldLoad:y,resolve:async x=>(x&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(y=!0),y?Ile(e,r,m,v,x,c):Promise.resolve({type:pr.data,result:void 0}))})}),f=await t({matches:d,request:r,params:i[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function Ile(t,e,n,r,o,i){let s,a,l=c=>{let u,d=new Promise((g,v)=>u=v);a=()=>u(),e.signal.addEventListener("abort",a);let f=g=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...g!==void 0?[g]:[]),m=(async()=>{try{return{type:"data",result:await(o?o(v=>f(v)):f())}}catch(g){return{type:"error",result:g}}})();return Promise.race([m,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ys(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:pr.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ys(404,{pathname:d})}On(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:pr.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function Ple(t){let{result:e,type:n}=t;if(xq(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:pr.error,error:f}}return n===pr.error?{type:pr.error,error:new o_(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:pr.data,data:d,statusCode:e.status,headers:e.headers}}if(n===pr.error){if(p5(e)){var r,o;if(e.data instanceof Error){var i,s;return{type:pr.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:pr.error,error:new o_(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:_b(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:pr.error,error:e,statusCode:_b(e)?e.status:void 0}}if(Mle(e)){var a,l;return{type:pr.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(p5(e)){var c,u;return{type:pr.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:pr.data,data:e}}function Rle(t,e,n,r,o,i){let s=t.headers.get("Location");if(On(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!cA.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=CD(new URL(e.url),a,o,!0,s,i),t.headers.set("Location",s)}return t}function l5(t,e,n){if(cA.test(t)){let r=t,o=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=yv(o.pathname,n)!=null;if(o.origin===e.origin&&i)return o.pathname+o.search+o.hash}return t}function kp(t,e,n,r){let o=t.createURL(bq(e)).toString(),i={signal:n};if(r&&rl(r.formMethod)){let{formMethod:s,formEncType:a}=r;i.method=s.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=ED(r.formData):i.body=r.formData}return new Request(o,i)}function ED(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function c5(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function kle(t,e,n,r,o){let i={},s=null,a,l=!1,c={},u=n&&qs(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,m=e[f];if(On(!ih(m),"Cannot handle redirect results in processLoaderData"),qs(m)){let g=m.error;u!==void 0&&(g=u,u=void 0),s=s||{};{let v=qf(t,f);s[v.route.id]==null&&(s[v.route.id]=g)}i[f]=void 0,l||(l=!0,a=_b(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else yd(m)?(r.set(f,m.deferredData),i[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers)):(i[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers))}),u!==void 0&&n&&(s={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:s,statusCode:a||200,loaderHeaders:c}}function u5(t,e,n,r,o,i,s){let{loaderData:a,errors:l}=kle(e,n,r,s);return o.forEach(c=>{let{key:u,match:d,controller:f}=c,m=i[u];if(On(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(qs(m)){let g=qf(t.matches,d==null?void 0:d.route.id);l&&l[g.route.id]||(l=Gr({},l,{[g.route.id]:m.error})),t.fetchers.delete(u)}else if(ih(m))On(!1,"Unhandled fetcher revalidation redirect");else if(yd(m))On(!1,"Unhandled fetcher deferred data");else{let g=ed(m.data);t.fetchers.set(u,g)}}),{loaderData:a,errors:l}}function d5(t,e,n,r){let o=Gr({},e);for(let i of n){let s=i.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(o[s]=e[s]):t[s]!==void 0&&i.route.loader&&(o[s]=t[s]),r&&r.hasOwnProperty(s))break}return o}function f5(t){return t?qs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function qf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function h5(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ys(t,e){let{pathname:n,routeId:r,method:o,type:i,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",o&&n&&r?l="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",o&&n&&r?l="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(l='Invalid request method "'+o.toUpperCase()+'"')),new o_(t||500,a,new Error(l),!0)}function p1(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,o]=e[n];if(ih(o))return{key:r,result:o}}}function bq(t){let e=typeof t=="string"?gf(t):t;return Mh(Gr({},e,{hash:""}))}function Dle(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function $le(t){return xq(t.result)&&vle.has(t.result.status)}function yd(t){return t.type===pr.deferred}function qs(t){return t.type===pr.error}function ih(t){return(t&&t.type)===pr.redirect}function p5(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Mle(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function xq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Ole(t){return gle.has(t.toLowerCase())}function rl(t){return ple.has(t.toLowerCase())}async function Ale(t,e,n,r,o){let i=Object.entries(e);for(let s=0;s<i.length;s++){let[a,l]=i[s],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!vq(u,c)&&(o&&o[c.route.id])!==void 0;yd(l)&&d&&await uA(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Nle(t,e,n){for(let r=0;r<n.length;r++){let{key:o,routeId:i,controller:s}=n[r],a=e[o];t.find(c=>(c==null?void 0:c.route.id)===i)&&yd(a)&&(On(s,"Expected an AbortController for revalidating fetcher deferred result"),await uA(a,s.signal,!0).then(c=>{c&&(e[o]=c)}))}}async function uA(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pr.data,data:t.deferredData.unwrappedData}}catch(o){return{type:pr.error,error:o}}return{type:pr.data,data:t.deferredData.data}}}function dA(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function n0(t,e){let n=typeof e=="string"?gf(e).search:e.search;if(t[t.length-1].route.index&&dA(n||""))return t[t.length-1];let r=pq(t);return r[r.length-1]}function m5(t){let{formMethod:e,formAction:n,formEncType:r,text:o,formData:i,json:s}=t;if(!(!e||!n||!r)){if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function CP(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jle(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ly(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Lle(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ed(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Fle(t,e){try{let n=t.sessionStorage.getItem(gq);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(o,new Set(i||[]))}}catch{}}function zle(t,e){if(e.size>0){let n={};for(let[r,o]of e)n[r]=[...o];try{t.sessionStorage.setItem(gq,JSON.stringify(n))}catch(r){_g(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}const r2=h.createContext(null),wq=h.createContext(null),vf=h.createContext(null),fA=h.createContext(null),Ec=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Sq=h.createContext(null);function Ble(t,e){let{relative:n}=e===void 0?{}:e;bv()||On(!1);let{basename:r,navigator:o}=h.useContext(vf),{hash:i,pathname:s,search:a}=_q(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ou([r,s])),o.createHref({pathname:l,search:a,hash:i})}function bv(){return h.useContext(fA)!=null}function yf(){return bv()||On(!1),h.useContext(fA).location}function Cq(t){h.useContext(vf).static||h.useLayoutEffect(t)}function Tc(){let{isDataRoute:t}=h.useContext(Ec);return t?nce():Vle()}function Vle(){bv()||On(!1);let t=h.useContext(r2),{basename:e,future:n,navigator:r}=h.useContext(vf),{matches:o}=h.useContext(Ec),{pathname:i}=yf(),s=JSON.stringify(t2(o,n.v7_relativeSplatPath)),a=h.useRef(!1);return Cq(()=>{a.current=!0}),h.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=n2(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ou([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,i,t])}const Hle=h.createContext(null);function Wle(t){let e=h.useContext(Ec).outlet;return e&&h.createElement(Hle.Provider,{value:t},e)}function Ule(){let{matches:t}=h.useContext(Ec),e=t[t.length-1];return e?e.params:{}}function _q(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(vf),{matches:o}=h.useContext(Ec),{pathname:i}=yf(),s=JSON.stringify(t2(o,r.v7_relativeSplatPath));return h.useMemo(()=>n2(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function qle(t,e,n,r){bv()||On(!1);let{navigator:o,static:i}=h.useContext(vf),{matches:s}=h.useContext(Ec),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=yf(),d;d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=!i&&n&&n.matches&&n.matches.length>0?n.matches:Uf(t,{pathname:m});return Qle(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ou([c,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ou([c,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r)}function Kle(){let t=tce(),e=_b(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:o},n):null,null)}const Gle=h.createElement(Kle,null);class Yle extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(Ec.Provider,{value:this.props.routeContext},h.createElement(Sq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xle(t){let{routeContext:e,match:n,children:r}=t,o=h.useContext(r2);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ec.Provider,{value:e},r)}function Qle(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||On(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let m,g=!1,v=null,y=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||Gle,l&&(c<0&&f===0?(rce("route-fallback"),g=!0,y=null):c===f&&(g=!0,y=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,f+1)),x=()=>{let w;return m?w=v:g?w=y:d.route.Component?w=h.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,h.createElement(Xle,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?h.createElement(Yle,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var Eq=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Eq||{}),Tq=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tq||{});function Jle(t){let e=h.useContext(r2);return e||On(!1),e}function Zle(t){let e=h.useContext(wq);return e||On(!1),e}function ece(t){let e=h.useContext(Ec);return e||On(!1),e}function Iq(t){let e=ece(),n=e.matches[e.matches.length-1];return n.route.id||On(!1),n.route.id}function tce(){var t;let e=h.useContext(Sq),n=Zle(Tq.UseRouteError),r=Iq();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nce(){let{router:t}=Jle(Eq.UseNavigateStable),e=Iq(),n=h.useRef(!1);return Cq(()=>{n.current=!0}),h.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,i_({fromRouteId:e},i)))},[t,e])}const g5={};function rce(t,e,n){g5[t]||(g5[t]=!0)}function oce(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function um(t){let{to:e,replace:n,state:r,relative:o}=t;bv()||On(!1);let{future:i,static:s}=h.useContext(vf),{matches:a}=h.useContext(Ec),{pathname:l}=yf(),c=Tc(),u=n2(e,t2(a,i.v7_relativeSplatPath),l,o==="path"),d=JSON.stringify(u);return h.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:o}),[c,d,o,n,r]),null}function ice(t){return Wle(t.context)}function sce(t){let{basename:e="/",children:n=null,location:r,navigationType:o=jo.Pop,navigator:i,static:s=!1,future:a}=t;bv()&&On(!1);let l=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:i,static:s,future:i_({v7_relativeSplatPath:!1},a)}),[l,a,i,s]);typeof r=="string"&&(r=gf(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:g="default"}=r,v=h.useMemo(()=>{let y=yv(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:g},navigationType:o}},[l,u,d,f,m,g,o]);return v==null?null:h.createElement(vf.Provider,{value:c},h.createElement(fA.Provider,{children:n,value:v}))}new Promise(()=>{});function ace(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:h.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:h.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:h.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}function lce(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function cce(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uce(t,e){return t.button===0&&(!e||e==="_self")&&!cce(t)}const dce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fce="6";try{window.__reactRouterVersion=fce}catch{}function hce(t,e){return wle({basename:void 0,future:Eb({},void 0,{v7_prependBasename:!0}),history:Uae({window:void 0}),hydrationData:pce(),routes:t,mapRouteProperties:ace,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function pce(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Eb({},e,{errors:mce(e.errors)})),e}function mce(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)if(o&&o.__type==="RouteErrorResponse")n[r]=new o_(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let s=new i(o.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const gce=h.createContext({isTransitioning:!1}),vce=h.createContext(new Map),yce="startTransition",v5=mc[yce],bce="flushSync",y5=dq[bce];function xce(t){v5?v5(t):t()}function cy(t){y5?y5(t):t()}let wce=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Sce(t){let{fallbackElement:e,router:n,future:r}=t,[o,i]=h.useState(n.state),[s,a]=h.useState(),[l,c]=h.useState({isTransitioning:!1}),[u,d]=h.useState(),[f,m]=h.useState(),[g,v]=h.useState(),y=h.useRef(new Map),{v7_startTransition:b}=r||{},x=h.useCallback(T=>{b?xce(T):T()},[b]),w=h.useCallback((T,I)=>{let{deletedFetchers:P,flushSync:M,viewTransitionOpts:R}=I;T.fetchers.forEach((D,A)=>{D.data!==void 0&&y.current.set(A,D.data)}),P.forEach(D=>y.current.delete(D));let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||k){M?cy(()=>i(T)):x(()=>i(T));return}if(M){cy(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let D=n.window.document.startViewTransition(()=>{cy(()=>i(T))});D.finished.finally(()=>{cy(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),cy(()=>m(D));return}f?(u&&u.resolve(),f.skipTransition(),v({state:T,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(T),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,f,u,y,x]);h.useLayoutEffect(()=>n.subscribe(w),[n,w]),h.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new wce)},[l]),h.useEffect(()=>{if(u&&s&&n.window){let T=s,I=u.promise,P=n.window.document.startViewTransition(async()=>{x(()=>i(T)),await I});P.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(P)}},[x,s,u,n.window]),h.useEffect(()=>{u&&s&&o.location.key===s.location.key&&u.resolve()},[u,f,o.location,s]),h.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),h.useEffect(()=>{},[]);let C=h.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:T=>n.navigate(T),push:(T,I,P)=>n.navigate(T,{state:I,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(T,I,P)=>n.navigate(T,{replace:!0,state:I,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),E=n.basename||"/",_=h.useMemo(()=>({router:n,navigator:C,static:!1,basename:E}),[n,C,E]),S=h.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return h.useEffect(()=>oce(r,n.future),[r,n.future]),h.createElement(h.Fragment,null,h.createElement(r2.Provider,{value:_},h.createElement(wq.Provider,{value:o},h.createElement(vce.Provider,{value:y.current},h.createElement(gce.Provider,{value:l},h.createElement(sce,{basename:E,location:o.location,navigationType:o.historyAction,navigator:C,future:S},o.initialized||n.future.v7_partialHydration?h.createElement(Cce,{routes:n.routes,future:n.future,state:o}):e))))),null)}const Cce=h.memo(_ce);function _ce(t){let{routes:e,future:n,state:r}=t;return qle(e,void 0,r,n)}const Ece=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fu=h.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=lce(e,dce),{basename:m}=h.useContext(vf),g,v=!1;if(typeof c=="string"&&Tce.test(c)&&(g=c,Ece))try{let w=new URL(window.location.href),C=c.startsWith("//")?new URL(w.protocol+c):new URL(c),E=yv(C.pathname,m);C.origin===w.origin&&E!=null?c=E+C.search+C.hash:v=!0}catch{}let y=Ble(c,{relative:o}),b=Ice(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:o,viewTransition:d});function x(w){r&&r(w),w.defaultPrevented||b(w)}return h.createElement("a",Eb({},f,{href:g||y,onClick:v||i?r:x,ref:n,target:l}))});var b5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(b5||(b5={}));var x5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(x5||(x5={}));function Ice(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:a}=e===void 0?{}:e,l=Tc(),c=yf(),u=_q(t,{relative:s});return h.useCallback(d=>{if(uce(d,n)){d.preventDefault();let f=r!==void 0?r:Mh(c)===Mh(u);l(t,{replace:f,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,u,r,o,n,t,i,s,a])}var w5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Pce=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},Rq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,s||(f=64)),r.push(n[u],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pce(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||d==null)throw new Rce;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kce=function(t){const e=Pq(t);return Rq.encodeByteArray(e,!0)},s_=function(t){return kce(t).replace(/\./g,"")},kq=function(t){try{return Rq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ce=()=>Dce().__FIREBASE_DEFAULTS__,Mce=()=>{if(typeof process>"u"||typeof w5>"u")return;const t=w5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Oce=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kq(t[1]);return e&&JSON.parse(e)},o2=()=>{try{return $ce()||Mce()||Oce()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dq=t=>{var e,n;return(n=(e=o2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$q=t=>{const e=Dq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mq=()=>{var t;return(t=o2())===null||t===void 0?void 0:t.config},Oq=t=>{var e;return(e=o2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s_(JSON.stringify(n)),s_(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zo())}function jce(){var t;const e=(t=o2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lce(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fce(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bce(){const t=Zo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nq(){return!jce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jq(){try{return typeof indexedDB=="object"}catch{return!1}}function Vce(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hce="FirebaseError";class Ic extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hce,Object.setPrototypeOf(this,Ic.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jx.prototype.create)}}class jx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?Wce(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new Ic(o,a,r)}}function Wce(t,e){return t.replace(Uce,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Uce=/\{\$([^}]+)}/g;function qce(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function a_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(S5(i)&&S5(s)){if(!a_(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function S5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function r0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,i]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(i)}}),e}function o0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Kce(t,e){const n=new Gce(t,e);return n.subscribe.bind(n)}class Gce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yce(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=_P),o.error===void 0&&(o.error=_P),o.complete===void 0&&(o.complete=_P);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yce(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _P(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class Qd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ace;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jce(e))try{this.getOrInitializeService({instanceIdentifier:Nf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Nf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nf){return this.instances.has(e)}getOptions(e=Nf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qce(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nf){return this.component?this.component.multipleInstances?e:Nf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qce(t){return t===Nf?void 0:t}function Jce(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nn||(Nn={}));const eue={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},tue=Nn.INFO,nue={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},rue=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=nue[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hA{constructor(e){this.name=e,this._logLevel=tue,this._logHandler=rue,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...e),this._logHandler(this,Nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...e),this._logHandler(this,Nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...e),this._logHandler(this,Nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...e),this._logHandler(this,Nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...e),this._logHandler(this,Nn.ERROR,...e)}}const oue=(t,e)=>e.some(n=>t instanceof n);let C5,_5;function iue(){return C5||(C5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sue(){return _5||(_5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lq=new WeakMap,TD=new WeakMap,Fq=new WeakMap,EP=new WeakMap,pA=new WeakMap;function aue(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(jd(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Lq.set(n,t)}).catch(()=>{}),pA.set(e,t),e}function lue(t){if(TD.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});TD.set(t,e)}let ID={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TD.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fq.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cue(t){ID=t(ID)}function uue(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(TP(this),e,...n);return Fq.set(r,e.sort?e.sort():[e]),jd(r)}:sue().includes(t)?function(...e){return t.apply(TP(this),e),jd(Lq.get(this))}:function(...e){return jd(t.apply(TP(this),e))}}function due(t){return typeof t=="function"?uue(t):(t instanceof IDBTransaction&&lue(t),oue(t,iue())?new Proxy(t,ID):t)}function jd(t){if(t instanceof IDBRequest)return aue(t);if(EP.has(t))return EP.get(t);const e=due(t);return e!==t&&(EP.set(t,e),pA.set(e,t)),e}const TP=t=>pA.get(t);function fue(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=jd(s);return r&&s.addEventListener("upgradeneeded",l=>{r(jd(s.result),l.oldVersion,l.newVersion,jd(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hue=["get","getKey","getAll","getAllKeys","count"],pue=["put","add","delete","clear"],IP=new Map;function E5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(IP.get(e))return IP.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=pue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||hue.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return IP.set(e,i),i}cue(t=>({...t,get:(e,n,r)=>E5(e,n)||t.get(e,n,r),has:(e,n)=>!!E5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gue(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gue(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const PD="@firebase/app",T5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new hA("@firebase/app"),vue="@firebase/app-compat",yue="@firebase/analytics-compat",bue="@firebase/analytics",xue="@firebase/app-check-compat",wue="@firebase/app-check",Sue="@firebase/auth",Cue="@firebase/auth-compat",_ue="@firebase/database",Eue="@firebase/data-connect",Tue="@firebase/database-compat",Iue="@firebase/functions",Pue="@firebase/functions-compat",Rue="@firebase/installations",kue="@firebase/installations-compat",Due="@firebase/messaging",$ue="@firebase/messaging-compat",Mue="@firebase/performance",Oue="@firebase/performance-compat",Aue="@firebase/remote-config",Nue="@firebase/remote-config-compat",jue="@firebase/storage",Lue="@firebase/storage-compat",Fue="@firebase/firestore",zue="@firebase/vertexai-preview",Bue="@firebase/firestore-compat",Vue="firebase",Hue="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="[DEFAULT]",Wue={[PD]:"fire-core",[vue]:"fire-core-compat",[bue]:"fire-analytics",[yue]:"fire-analytics-compat",[wue]:"fire-app-check",[xue]:"fire-app-check-compat",[Sue]:"fire-auth",[Cue]:"fire-auth-compat",[_ue]:"fire-rtdb",[Eue]:"fire-data-connect",[Tue]:"fire-rtdb-compat",[Iue]:"fire-fn",[Pue]:"fire-fn-compat",[Rue]:"fire-iid",[kue]:"fire-iid-compat",[Due]:"fire-fcm",[$ue]:"fire-fcm-compat",[Mue]:"fire-perf",[Oue]:"fire-perf-compat",[Aue]:"fire-rc",[Nue]:"fire-rc-compat",[jue]:"fire-gcs",[Lue]:"fire-gcs-compat",[Fue]:"fire-fst",[Bue]:"fire-fst-compat",[zue]:"fire-vertex","fire-js":"fire-js",[Vue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Map,Uue=new Map,kD=new Map;function I5(t,e){try{t.container.addComponent(e)}catch(n){bu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oh(t){const e=t.name;if(kD.has(e))return bu.debug(`There were multiple attempts to register component ${e}.`),!1;kD.set(e,t);for(const n of Tb.values())I5(n,t);for(const n of Uue.values())I5(n,t);return!0}function i2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ql(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const que={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ld=new jx("app","Firebase",que);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ld.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=Hue;function zq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:RD,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ld.create("bad-app-name",{appName:String(o)});if(n||(n=Mq()),!n)throw Ld.create("no-options");const i=Tb.get(o);if(i){if(a_(n,i.options)&&a_(r,i.config))return i;throw Ld.create("duplicate-app",{appName:o})}const s=new Zce(o);for(const l of kD.values())s.addComponent(l);const a=new Kue(n,r,s);return Tb.set(o,a),a}function s2(t=RD){const e=Tb.get(t);if(!e&&t===RD&&Mq())return zq();if(!e)throw Ld.create("no-app",{appName:t});return e}function Gue(){return Array.from(Tb.values())}function oc(t,e,n){var r;let o=(r=Wue[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bu.warn(a.join(" "));return}Oh(new Qd(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yue="firebase-heartbeat-database",Xue=1,Ib="firebase-heartbeat-store";let PP=null;function Bq(){return PP||(PP=fue(Yue,Xue,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ib)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ld.create("idb-open",{originalErrorMessage:t.message})})),PP}async function Que(t){try{const n=(await Bq()).transaction(Ib),r=await n.objectStore(Ib).get(Vq(t));return await n.done,r}catch(e){if(e instanceof Ic)bu.warn(e.message);else{const n=Ld.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bu.warn(n.message)}}}async function P5(t,e){try{const r=(await Bq()).transaction(Ib,"readwrite");await r.objectStore(Ib).put(e,Vq(t)),await r.done}catch(n){if(n instanceof Ic)bu.warn(n.message);else{const r=Ld.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bu.warn(r.message)}}}function Vq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jue=1024,Zue=30*24*60*60*1e3;class ede{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nde(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Zue}),this._storage.overwrite(this._heartbeatsCache))}catch(r){bu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R5(),{heartbeatsToSend:r,unsentEntries:o}=tde(this._heartbeatsCache.heartbeats),i=s_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return bu.warn(n),""}}}function R5(){return new Date().toISOString().substring(0,10)}function tde(t,e=Jue){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),k5(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),k5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nde{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jq()?Vce().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Que(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function k5(t){return s_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rde(t){Oh(new Qd("platform-logger",e=>new mue(e),"PRIVATE")),Oh(new Qd("heartbeat",e=>new ede(e),"PRIVATE")),oc(PD,T5,t),oc(PD,T5,"esm2017"),oc("fire-js","")}rde("");var ode="firebase",ide="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oc(ode,ide,"app");var D5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mh,Hq;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function I(){}I.prototype=T.prototype,S.D=T.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(P,M,R){for(var k=Array(arguments.length-2),D=2;D<arguments.length;D++)k[D-2]=arguments[D];return T.prototype[M].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)P[M]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(M=0;16>M;++M)P[M]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=S.g[0],I=S.g[1],M=S.g[2];var R=S.g[3],k=T+(R^I&(M^R))+P[0]+3614090360&4294967295;T=I+(k<<7&4294967295|k>>>25),k=R+(M^T&(I^M))+P[1]+3905402710&4294967295,R=T+(k<<12&4294967295|k>>>20),k=M+(I^R&(T^I))+P[2]+606105819&4294967295,M=R+(k<<17&4294967295|k>>>15),k=I+(T^M&(R^T))+P[3]+3250441966&4294967295,I=M+(k<<22&4294967295|k>>>10),k=T+(R^I&(M^R))+P[4]+4118548399&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(M^T&(I^M))+P[5]+1200080426&4294967295,R=T+(k<<12&4294967295|k>>>20),k=M+(I^R&(T^I))+P[6]+2821735955&4294967295,M=R+(k<<17&4294967295|k>>>15),k=I+(T^M&(R^T))+P[7]+4249261313&4294967295,I=M+(k<<22&4294967295|k>>>10),k=T+(R^I&(M^R))+P[8]+1770035416&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(M^T&(I^M))+P[9]+2336552879&4294967295,R=T+(k<<12&4294967295|k>>>20),k=M+(I^R&(T^I))+P[10]+4294925233&4294967295,M=R+(k<<17&4294967295|k>>>15),k=I+(T^M&(R^T))+P[11]+2304563134&4294967295,I=M+(k<<22&4294967295|k>>>10),k=T+(R^I&(M^R))+P[12]+1804603682&4294967295,T=I+(k<<7&4294967295|k>>>25),k=R+(M^T&(I^M))+P[13]+4254626195&4294967295,R=T+(k<<12&4294967295|k>>>20),k=M+(I^R&(T^I))+P[14]+2792965006&4294967295,M=R+(k<<17&4294967295|k>>>15),k=I+(T^M&(R^T))+P[15]+1236535329&4294967295,I=M+(k<<22&4294967295|k>>>10),k=T+(M^R&(I^M))+P[1]+4129170786&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^M&(T^I))+P[6]+3225465664&4294967295,R=T+(k<<9&4294967295|k>>>23),k=M+(T^I&(R^T))+P[11]+643717713&4294967295,M=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(M^R))+P[0]+3921069994&4294967295,I=M+(k<<20&4294967295|k>>>12),k=T+(M^R&(I^M))+P[5]+3593408605&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^M&(T^I))+P[10]+38016083&4294967295,R=T+(k<<9&4294967295|k>>>23),k=M+(T^I&(R^T))+P[15]+3634488961&4294967295,M=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(M^R))+P[4]+3889429448&4294967295,I=M+(k<<20&4294967295|k>>>12),k=T+(M^R&(I^M))+P[9]+568446438&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^M&(T^I))+P[14]+3275163606&4294967295,R=T+(k<<9&4294967295|k>>>23),k=M+(T^I&(R^T))+P[3]+4107603335&4294967295,M=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(M^R))+P[8]+1163531501&4294967295,I=M+(k<<20&4294967295|k>>>12),k=T+(M^R&(I^M))+P[13]+2850285829&4294967295,T=I+(k<<5&4294967295|k>>>27),k=R+(I^M&(T^I))+P[2]+4243563512&4294967295,R=T+(k<<9&4294967295|k>>>23),k=M+(T^I&(R^T))+P[7]+1735328473&4294967295,M=R+(k<<14&4294967295|k>>>18),k=I+(R^T&(M^R))+P[12]+2368359562&4294967295,I=M+(k<<20&4294967295|k>>>12),k=T+(I^M^R)+P[5]+4294588738&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^M)+P[8]+2272392833&4294967295,R=T+(k<<11&4294967295|k>>>21),k=M+(R^T^I)+P[11]+1839030562&4294967295,M=R+(k<<16&4294967295|k>>>16),k=I+(M^R^T)+P[14]+4259657740&4294967295,I=M+(k<<23&4294967295|k>>>9),k=T+(I^M^R)+P[1]+2763975236&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^M)+P[4]+1272893353&4294967295,R=T+(k<<11&4294967295|k>>>21),k=M+(R^T^I)+P[7]+4139469664&4294967295,M=R+(k<<16&4294967295|k>>>16),k=I+(M^R^T)+P[10]+3200236656&4294967295,I=M+(k<<23&4294967295|k>>>9),k=T+(I^M^R)+P[13]+681279174&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^M)+P[0]+3936430074&4294967295,R=T+(k<<11&4294967295|k>>>21),k=M+(R^T^I)+P[3]+3572445317&4294967295,M=R+(k<<16&4294967295|k>>>16),k=I+(M^R^T)+P[6]+76029189&4294967295,I=M+(k<<23&4294967295|k>>>9),k=T+(I^M^R)+P[9]+3654602809&4294967295,T=I+(k<<4&4294967295|k>>>28),k=R+(T^I^M)+P[12]+3873151461&4294967295,R=T+(k<<11&4294967295|k>>>21),k=M+(R^T^I)+P[15]+530742520&4294967295,M=R+(k<<16&4294967295|k>>>16),k=I+(M^R^T)+P[2]+3299628645&4294967295,I=M+(k<<23&4294967295|k>>>9),k=T+(M^(I|~R))+P[0]+4096336452&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~M))+P[7]+1126891415&4294967295,R=T+(k<<10&4294967295|k>>>22),k=M+(T^(R|~I))+P[14]+2878612391&4294967295,M=R+(k<<15&4294967295|k>>>17),k=I+(R^(M|~T))+P[5]+4237533241&4294967295,I=M+(k<<21&4294967295|k>>>11),k=T+(M^(I|~R))+P[12]+1700485571&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~M))+P[3]+2399980690&4294967295,R=T+(k<<10&4294967295|k>>>22),k=M+(T^(R|~I))+P[10]+4293915773&4294967295,M=R+(k<<15&4294967295|k>>>17),k=I+(R^(M|~T))+P[1]+2240044497&4294967295,I=M+(k<<21&4294967295|k>>>11),k=T+(M^(I|~R))+P[8]+1873313359&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~M))+P[15]+4264355552&4294967295,R=T+(k<<10&4294967295|k>>>22),k=M+(T^(R|~I))+P[6]+2734768916&4294967295,M=R+(k<<15&4294967295|k>>>17),k=I+(R^(M|~T))+P[13]+1309151649&4294967295,I=M+(k<<21&4294967295|k>>>11),k=T+(M^(I|~R))+P[4]+4149444226&4294967295,T=I+(k<<6&4294967295|k>>>26),k=R+(I^(T|~M))+P[11]+3174756917&4294967295,R=T+(k<<10&4294967295|k>>>22),k=M+(T^(R|~I))+P[2]+718787259&4294967295,M=R+(k<<15&4294967295|k>>>17),k=I+(R^(M|~T))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,T){T===void 0&&(T=S.length);for(var I=T-this.blockSize,P=this.B,M=this.h,R=0;R<T;){if(M==0)for(;R<=I;)o(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<T;)if(P[M++]=S.charCodeAt(R++),M==this.blockSize){o(this,P),M=0;break}}else for(;R<T;)if(P[M++]=S[R++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var I=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=I&255,I/=256;for(this.u(S),S=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)S[I++]=this.g[T]>>>P&255;return S};function i(S,T){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=T(S)}function s(S,T){this.h=T;for(var I=[],P=!0,M=S.length-1;0<=M;M--){var R=S[M]|0;P&&R==T||(I[M]=R,P=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?i(S,function(T){return new s([T|0],0>T?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return y(c(-S));for(var T=[],I=1,P=0;S>=I;P++)T[P]=S/I|0,I*=4294967296;return new s(T,0)}function u(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return y(u(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),P=d,M=0;M<S.length;M+=8){var R=Math.min(8,S.length-M),k=parseInt(S.substring(M,M+R),T);8>R?(R=c(Math.pow(T,R)),P=P.j(R).add(c(k))):(P=P.j(I),P=P.add(c(k)))}return P}var d=l(0),f=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-y(this).m();for(var S=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);S+=(0<=P?P:4294967296+P)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(v(this))return"-"+y(this).toString(S);for(var T=c(Math.pow(S,6)),I=this,P="";;){var M=C(I,T).g;I=b(I,M.j(T));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=M,g(I))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=b(this,S),v(S)?-1:g(S)?0:1};function y(S){for(var T=S.g.length,I=[],P=0;P<T;P++)I[P]=~S.g[P];return new s(I,~S.h).add(f)}t.abs=function(){return v(this)?y(this):this},t.add=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],P=0,M=0;M<=T;M++){var R=P+(this.i(M)&65535)+(S.i(M)&65535),k=(R>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);P=k>>>16,R&=65535,k&=65535,I[M]=k<<16|R}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(S,T){return S.add(y(T))}t.j=function(S){if(g(this)||g(S))return d;if(v(this))return v(S)?y(this).j(y(S)):y(y(this).j(S));if(v(S))return y(this.j(y(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var T=this.g.length+S.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<S.g.length;M++){var R=this.i(P)>>>16,k=this.i(P)&65535,D=S.i(M)>>>16,A=S.i(M)&65535;I[2*P+2*M]+=k*A,x(I,2*P+2*M),I[2*P+2*M+1]+=R*A,x(I,2*P+2*M+1),I[2*P+2*M+1]+=k*D,x(I,2*P+2*M+1),I[2*P+2*M+2]+=R*D,x(I,2*P+2*M+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new s(I,0)};function x(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function w(S,T){this.g=S,this.h=T}function C(S,T){if(g(T))throw Error("division by zero");if(g(S))return new w(d,d);if(v(S))return T=C(y(S),T),new w(y(T.g),y(T.h));if(v(T))return T=C(S,y(T)),new w(y(T.g),T.h);if(30<S.g.length){if(v(S)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var I=f,P=T;0>=P.l(S);)I=E(I),P=E(P);var M=_(I,1),R=_(P,1);for(P=_(P,2),I=_(I,2);!g(P);){var k=R.add(P);0>=k.l(S)&&(M=M.add(I),R=k),P=_(P,1),I=_(I,1)}return T=b(S,M.j(T)),new w(M,T)}for(M=d;0<=S.l(T);){for(I=Math.max(1,Math.floor(S.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=c(I),k=R.j(T);v(k)||0<k.l(S);)I-=P,R=c(I),k=R.j(T);g(R)&&(R=f),M=M.add(R),S=b(S,k)}return new w(M,S)}t.A=function(S){return C(this,S).h},t.and=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&S.i(P);return new s(I,this.h&S.h)},t.or=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|S.i(P);return new s(I,this.h|S.h)},t.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^S.i(P);return new s(I,this.h^S.h)};function E(S){for(var T=S.g.length+1,I=[],P=0;P<T;P++)I[P]=S.i(P)<<1|S.i(P-1)>>>31;return new s(I,S.h)}function _(S,T){var I=T>>5;T%=32;for(var P=S.g.length-I,M=[],R=0;R<P;R++)M[R]=0<T?S.i(R+I)>>>T|S.i(R+I+1)<<32-T:S.i(R+I);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hq=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,mh=s}).apply(typeof D5<"u"?D5:typeof self<"u"?self:typeof window<"u"?window:{});var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wq,i0,Uq,FS,DD,qq,Kq,Gq;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function($,H,G){return $==Array.prototype||$==Object.prototype||($[H]=G.value),$};function n($){$=[typeof globalThis=="object"&&globalThis,$,typeof window=="object"&&window,typeof self=="object"&&self,typeof m1=="object"&&m1];for(var H=0;H<$.length;++H){var G=$[H];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=n(this);function o($,H){if(H)e:{var G=r;$=$.split(".");for(var be=0;be<$.length-1;be++){var Ue=$[be];if(!(Ue in G))break e;G=G[Ue]}$=$[$.length-1],be=G[$],H=H(be),H!=be&&H!=null&&e(G,$,{configurable:!0,writable:!0,value:H})}}function i($,H){$ instanceof String&&($+="");var G=0,be=!1,Ue={next:function(){if(!be&&G<$.length){var rt=G++;return{value:H(rt,$[rt]),done:!1}}return be=!0,{done:!0,value:void 0}}};return Ue[Symbol.iterator]=function(){return Ue},Ue}o("Array.prototype.values",function($){return $||function(){return i(this,function(H,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l($){var H=typeof $;return H=H!="object"?H:$?Array.isArray($)?"array":H:"null",H=="array"||H=="object"&&typeof $.length=="number"}function c($){var H=typeof $;return H=="object"&&$!=null||H=="function"}function u($,H,G){return $.call.apply($.bind,arguments)}function d($,H,G){if(!$)throw Error();if(2<arguments.length){var be=Array.prototype.slice.call(arguments,2);return function(){var Ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ue,be),$.apply(H,Ue)}}return function(){return $.apply(H,arguments)}}function f($,H,G){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function m($,H){var G=Array.prototype.slice.call(arguments,1);return function(){var be=G.slice();return be.push.apply(be,arguments),$.apply(this,be)}}function g($,H){function G(){}G.prototype=H.prototype,$.aa=H.prototype,$.prototype=new G,$.prototype.constructor=$,$.Qb=function(be,Ue,rt){for(var Rt=Array(arguments.length-2),Or=2;Or<arguments.length;Or++)Rt[Or-2]=arguments[Or];return H.prototype[Ue].apply(be,Rt)}}function v($){const H=$.length;if(0<H){const G=Array(H);for(let be=0;be<H;be++)G[be]=$[be];return G}return[]}function y($,H){for(let G=1;G<arguments.length;G++){const be=arguments[G];if(l(be)){const Ue=$.length||0,rt=be.length||0;$.length=Ue+rt;for(let Rt=0;Rt<rt;Rt++)$[Ue+Rt]=be[Rt]}else $.push(be)}}class b{constructor(H,G){this.i=H,this.j=G,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function x($){return/^[\s\xa0]*$/.test($)}function w(){var $=a.navigator;return $&&($=$.userAgent)?$:""}function C($){return C[" "]($),$}C[" "]=function(){};var E=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function _($,H,G){for(const be in $)H.call(G,$[be],be,$)}function S($,H){for(const G in $)H.call(void 0,$[G],G,$)}function T($){const H={};for(const G in $)H[G]=$[G];return H}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P($,H){let G,be;for(let Ue=1;Ue<arguments.length;Ue++){be=arguments[Ue];for(G in be)$[G]=be[G];for(let rt=0;rt<I.length;rt++)G=I[rt],Object.prototype.hasOwnProperty.call(be,G)&&($[G]=be[G])}}function M($){var H=1;$=$.split(":");const G=[];for(;0<H&&$.length;)G.push($.shift()),H--;return $.length&&G.push($.join(":")),G}function R($){a.setTimeout(()=>{throw $},0)}function k(){var $=L;let H=null;return $.g&&(H=$.g,$.g=$.g.next,$.g||($.h=null),H.next=null),H}class D{constructor(){this.h=this.g=null}add(H,G){const be=A.get();be.set(H,G),this.h?this.h.next=be:this.g=be,this.h=be}}var A=new b(()=>new N,$=>$.reset());class N{constructor(){this.next=this.g=this.h=null}set(H,G){this.h=H,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let O,j=!1,L=new D,z=()=>{const $=a.Promise.resolve(void 0);O=()=>{$.then(V)}};var V=()=>{for(var $;$=k();){try{$.h.call($.g)}catch(G){R(G)}var H=A;H.j($),100>H.h&&(H.h++,$.next=H.g,H.g=$)}j=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y($,H){this.type=$,this.g=this.target=H,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var $=!1,H=Object.defineProperty({},"passive",{get:function(){$=!0}});try{const G=()=>{};a.addEventListener("test",G,H),a.removeEventListener("test",G,H)}catch{}return $}();function q($,H){if(Y.call(this,$?$.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,$){var G=this.type=$.type,be=$.changedTouches&&$.changedTouches.length?$.changedTouches[0]:null;if(this.target=$.target||$.srcElement,this.g=H,H=$.relatedTarget){if(E){e:{try{C(H.nodeName);var Ue=!0;break e}catch{}Ue=!1}Ue||(H=null)}}else G=="mouseover"?H=$.fromElement:G=="mouseout"&&(H=$.toElement);this.relatedTarget=H,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0),this.button=$.button,this.key=$.key||"",this.ctrlKey=$.ctrlKey,this.altKey=$.altKey,this.shiftKey=$.shiftKey,this.metaKey=$.metaKey,this.pointerId=$.pointerId||0,this.pointerType=typeof $.pointerType=="string"?$.pointerType:K[$.pointerType]||"",this.state=$.state,this.i=$,$.defaultPrevented&&q.aa.h.call(this)}}g(q,Y);var K={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var $=this.i;$.preventDefault?$.preventDefault():$.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),X=0;function ue($,H,G,be,Ue){this.listener=$,this.proxy=null,this.src=H,this.type=G,this.capture=!!be,this.ha=Ue,this.key=++X,this.da=this.fa=!1}function _e($){$.da=!0,$.listener=null,$.proxy=null,$.src=null,$.ha=null}function Ce($){this.src=$,this.g={},this.h=0}Ce.prototype.add=function($,H,G,be,Ue){var rt=$.toString();$=this.g[rt],$||($=this.g[rt]=[],this.h++);var Rt=ge($,H,be,Ue);return-1<Rt?(H=$[Rt],G||(H.fa=!1)):(H=new ue(H,this.src,rt,!!be,Ue),H.fa=G,$.push(H)),H};function pe($,H){var G=H.type;if(G in $.g){var be=$.g[G],Ue=Array.prototype.indexOf.call(be,H,void 0),rt;(rt=0<=Ue)&&Array.prototype.splice.call(be,Ue,1),rt&&(_e(H),$.g[G].length==0&&(delete $.g[G],$.h--))}}function ge($,H,G,be){for(var Ue=0;Ue<$.length;++Ue){var rt=$[Ue];if(!rt.da&&rt.listener==H&&rt.capture==!!G&&rt.ha==be)return Ue}return-1}var F="closure_lm_"+(1e6*Math.random()|0),ce={};function le($,H,G,be,Ue){if(Array.isArray(H)){for(var rt=0;rt<H.length;rt++)le($,H[rt],G,be,Ue);return null}return G=he(G),$&&$[J]?$.K(H,G,c(be)?!!be.capture:!1,Ue):Z($,H,G,!1,be,Ue)}function Z($,H,G,be,Ue,rt){if(!H)throw Error("Invalid event type");var Rt=c(Ue)?!!Ue.capture:!!Ue,Or=ve($);if(Or||($[F]=Or=new Ce($)),G=Or.add(H,G,be,Rt,rt),G.proxy)return G;if(be=Q(),G.proxy=be,be.src=$,be.listener=G,$.addEventListener)U||(Ue=Rt),Ue===void 0&&(Ue=!1),$.addEventListener(H.toString(),be,Ue);else if($.attachEvent)$.attachEvent(ie(H.toString()),be);else if($.addListener&&$.removeListener)$.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return G}function Q(){function $(G){return H.call($.src,$.listener,G)}const H=re;return $}function ye($,H,G,be,Ue){if(Array.isArray(H))for(var rt=0;rt<H.length;rt++)ye($,H[rt],G,be,Ue);else be=c(be)?!!be.capture:!!be,G=he(G),$&&$[J]?($=$.i,H=String(H).toString(),H in $.g&&(rt=$.g[H],G=ge(rt,G,be,Ue),-1<G&&(_e(rt[G]),Array.prototype.splice.call(rt,G,1),rt.length==0&&(delete $.g[H],$.h--)))):$&&($=ve($))&&(H=$.g[H.toString()],$=-1,H&&($=ge(H,G,be,Ue)),(G=-1<$?H[$]:null)&&fe(G))}function fe($){if(typeof $!="number"&&$&&!$.da){var H=$.src;if(H&&H[J])pe(H.i,$);else{var G=$.type,be=$.proxy;H.removeEventListener?H.removeEventListener(G,be,$.capture):H.detachEvent?H.detachEvent(ie(G),be):H.addListener&&H.removeListener&&H.removeListener(be),(G=ve(H))?(pe(G,$),G.h==0&&(G.src=null,H[F]=null)):_e($)}}}function ie($){return $ in ce?ce[$]:ce[$]="on"+$}function re($,H){if($.da)$=!0;else{H=new q(H,this);var G=$.listener,be=$.ha||$.src;$.fa&&fe($),$=G.call(be,H)}return $}function ve($){return $=$[F],$ instanceof Ce?$:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function he($){return typeof $=="function"?$:($[ee]||($[ee]=function(H){return $.handleEvent(H)}),$[ee])}function we(){W.call(this),this.i=new Ce(this),this.M=this,this.F=null}g(we,W),we.prototype[J]=!0,we.prototype.removeEventListener=function($,H,G,be){ye(this,$,H,G,be)};function me($,H){var G,be=$.F;if(be)for(G=[];be;be=be.F)G.push(be);if($=$.M,be=H.type||H,typeof H=="string")H=new Y(H,$);else if(H instanceof Y)H.target=H.target||$;else{var Ue=H;H=new Y(be,$),P(H,Ue)}if(Ue=!0,G)for(var rt=G.length-1;0<=rt;rt--){var Rt=H.g=G[rt];Ue=ke(Rt,be,!0,H)&&Ue}if(Rt=H.g=$,Ue=ke(Rt,be,!0,H)&&Ue,Ue=ke(Rt,be,!1,H)&&Ue,G)for(rt=0;rt<G.length;rt++)Rt=H.g=G[rt],Ue=ke(Rt,be,!1,H)&&Ue}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var $=this.i,H;for(H in $.g){for(var G=$.g[H],be=0;be<G.length;be++)_e(G[be]);delete $.g[H],$.h--}}this.F=null},we.prototype.K=function($,H,G,be){return this.i.add(String($),H,!1,G,be)},we.prototype.L=function($,H,G,be){return this.i.add(String($),H,!0,G,be)};function ke($,H,G,be){if(H=$.i.g[String(H)],!H)return!0;H=H.concat();for(var Ue=!0,rt=0;rt<H.length;++rt){var Rt=H[rt];if(Rt&&!Rt.da&&Rt.capture==G){var Or=Rt.listener,vi=Rt.ha||Rt.src;Rt.fa&&pe($.i,Rt),Ue=Or.call(vi,be)!==!1&&Ue}}return Ue&&!be.defaultPrevented}function Ie($,H,G){if(typeof $=="function")G&&($=f($,G));else if($&&typeof $.handleEvent=="function")$=f($.handleEvent,$);else throw Error("Invalid listener argument");return 2147483647<Number(H)?-1:a.setTimeout($,H||0)}function Re($){$.g=Ie(()=>{$.g=null,$.i&&($.i=!1,Re($))},$.l);const H=$.h;$.h=null,$.m.apply(null,H)}class $e extends W{constructor(H,G){super(),this.m=H,this.l=G,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:Re(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne($){W.call(this),this.h=$,this.g={}}g(ne,W);var xe=[];function se($){_($.g,function(H,G){this.g.hasOwnProperty(G)&&fe(H)},$),$.g={}}ne.prototype.N=function(){ne.aa.N.call(this),se(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,Ee=a.JSON.parse,Le=class{stringify($){return a.JSON.stringify($,void 0)}parse($){return a.JSON.parse($,void 0)}};function ze(){}ze.prototype.h=null;function We($){return $.h||($.h=$.i())}function Ze(){}var dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function de(){Y.call(this,"d")}g(de,Y);function je(){Y.call(this,"c")}g(je,Y);var Ve={},tt=null;function Be(){return tt=tt||new we}Ve.La="serverreachability";function lt($){Y.call(this,Ve.La,$)}g(lt,Y);function st($){const H=Be();me(H,new lt(H))}Ve.STAT_EVENT="statevent";function pt($,H){Y.call(this,Ve.STAT_EVENT,$),this.stat=H}g(pt,Y);function Ct($){const H=Be();me(H,new pt(H,$))}Ve.Ma="timingevent";function Pe($,H){Y.call(this,Ve.Ma,$),this.size=H}g(Pe,Y);function Te($,H){if(typeof $!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){$()},H)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function Oe($,H,G,be,Ue,rt){$.info(function(){if($.g)if(rt)for(var Rt="",Or=rt.split("&"),vi=0;vi<Or.length;vi++){var er=Or[vi].split("=");if(1<er.length){var Ri=er[0];er=er[1];var ki=Ri.split("_");Rt=2<=ki.length&&ki[1]=="type"?Rt+(Ri+"="+er+"&"):Rt+(Ri+"=redacted&")}}else Rt=null;else Rt=rt;return"XMLHTTP REQ ("+be+") [attempt "+Ue+"]: "+H+`
`+G+`
`+Rt})}function He($,H,G,be,Ue,rt,Rt){$.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+Ue+"]: "+H+`
`+G+`
`+rt+" "+Rt})}function Ge($,H,G,be){$.info(function(){return"XMLHTTP TEXT ("+H+"): "+Qe($,G)+(be?" "+be:"")})}function ht($,H){$.info(function(){return"TIMEOUT: "+H})}De.prototype.info=function(){};function Qe($,H){if(!$.g)return H;if(!H)return null;try{var G=JSON.parse(H);if(G){for($=0;$<G.length;$++)if(Array.isArray(G[$])){var be=G[$];if(!(2>be.length)){var Ue=be[1];if(Array.isArray(Ue)&&!(1>Ue.length)){var rt=Ue[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(var Rt=1;Rt<Ue.length;Rt++)Ue[Rt]=""}}}}return ae(G)}catch{return H}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ft;function wt(){}g(wt,ze),wt.prototype.g=function(){return new XMLHttpRequest},wt.prototype.i=function(){return{}},ft=new wt;function Tt($,H,G,be){this.j=$,this.i=H,this.l=G,this.R=be||1,this.U=new ne(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new en}function en(){this.i=null,this.g="",this.h=!1}var Wt={},yt={};function Bt($,H,G){$.L=1,$.v=zr(vn(H)),$.m=G,$.P=!0,bt($,null)}function bt($,H){$.F=Date.now(),Qt($),$.A=vn($.v);var G=$.A,be=$.R;Array.isArray(be)||(be=[String(be)]),Fs(G.i,"t",be),$.C=0,G=$.j.J,$.h=new en,$.g=zF($.j,G?H:null,!$.m),0<$.O&&($.M=new $e(f($.Y,$,$.g),$.O)),H=$.U,G=$.g,be=$.ca;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(xe[0]=Ue.toString()),Ue=xe);for(var rt=0;rt<Ue.length;rt++){var Rt=le(G,Ue[rt],be||H.handleEvent,!1,H.h||H);if(!Rt)break;H.g[Rt.key]=Rt}H=$.H?T($.H):{},$.m?($.u||($.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",$.g.ea($.A,$.u,$.m,H)):($.u="GET",$.g.ea($.A,$.u,null,H)),st(),Oe($.i,$.u,$.A,$.l,$.R,$.m)}Tt.prototype.ca=function($){$=$.target;const H=this.M;H&&Mc($)==3?H.j():this.Y($)},Tt.prototype.Y=function($){try{if($==this.g)e:{const ki=Mc(this.g);var H=this.g.Ba();const Pp=this.g.Z();if(!(3>ki)&&(ki!=3||this.g&&(this.h.h||this.g.oa()||RF(this.g)))){this.J||ki!=4||H==7||(H==8||0>=Pp?st(3):st(2)),Zn(this);var G=this.g.Z();this.X=G;t:if(It(this)){var be=RF(this.g);$="";var Ue=be.length,rt=Mc(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),Dn(this);var Rt="";break t}this.h.i=new a.TextDecoder}for(H=0;H<Ue;H++)this.h.h=!0,$+=this.h.i.decode(be[H],{stream:!(rt&&H==Ue-1)});be.length=0,this.h.g+=$,this.C=0,Rt=this.h.g}else Rt=this.g.oa();if(this.o=G==200,He(this.i,this.u,this.A,this.l,this.R,ki,G),this.o){if(this.T&&!this.K){t:{if(this.g){var Or,vi=this.g;if((Or=vi.g?vi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Or)){var er=Or;break t}}er=null}if(G=er)Ge(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nt(this,G);else{this.o=!1,this.s=3,Ct(12),Mr(this),Dn(this);break e}}if(this.P){G=!0;let Ja;for(;!this.J&&this.C<Rt.length;)if(Ja=zt(this,Rt),Ja==yt){ki==4&&(this.s=4,Ct(14),G=!1),Ge(this.i,this.l,null,"[Incomplete Response]");break}else if(Ja==Wt){this.s=4,Ct(15),Ge(this.i,this.l,Rt,"[Invalid Chunk]"),G=!1;break}else Ge(this.i,this.l,Ja,null),Nt(this,Ja);if(It(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ki!=4||Rt.length!=0||this.h.h||(this.s=1,Ct(16),G=!1),this.o=this.o&&G,!G)Ge(this.i,this.l,Rt,"[Invalid Chunked Response]"),Mr(this),Dn(this);else if(0<Rt.length&&!this.W){this.W=!0;var Ri=this.j;Ri.g==this&&Ri.ba&&!Ri.M&&(Ri.j.info("Great, no buffering proxy detected. Bytes received: "+Rt.length),KI(Ri),Ri.M=!0,Ct(11))}}else Ge(this.i,this.l,Rt,null),Nt(this,Rt);ki==4&&Mr(this),this.o&&!this.J&&(ki==4?NF(this.j,this):(this.o=!1,Qt(this)))}else vie(this.g),G==400&&0<Rt.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),Mr(this),Dn(this)}}}catch{}finally{}};function It($){return $.g?$.u=="GET"&&$.L!=2&&$.j.Ca:!1}function zt($,H){var G=$.C,be=H.indexOf(`
`,G);return be==-1?yt:(G=Number(H.substring(G,be)),isNaN(G)?Wt:(be+=1,be+G>H.length?yt:(H=H.slice(be,be+G),$.C=be+G,H)))}Tt.prototype.cancel=function(){this.J=!0,Mr(this)};function Qt($){$.S=Date.now()+$.I,gn($,$.I)}function gn($,H){if($.B!=null)throw Error("WatchDog timer not null");$.B=Te(f($.ba,$),H)}function Zn($){$.B&&(a.clearTimeout($.B),$.B=null)}Tt.prototype.ba=function(){this.B=null;const $=Date.now();0<=$-this.S?(ht(this.i,this.A),this.L!=2&&(st(),Ct(17)),Mr(this),this.s=2,Dn(this)):gn(this,this.S-$)};function Dn($){$.j.G==0||$.J||NF($.j,$)}function Mr($){Zn($);var H=$.M;H&&typeof H.ma=="function"&&H.ma(),$.M=null,se($.U),$.g&&(H=$.g,$.g=null,H.abort(),H.ma())}function Nt($,H){try{var G=$.j;if(G.G!=0&&(G.g==$||An(G.h,$))){if(!$.K&&An(G.h,$)&&G.G==3){try{var be=G.Da.g.parse(H)}catch{be=null}if(Array.isArray(be)&&be.length==3){var Ue=be;if(Ue[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<$.F)Kw(G),Uw(G);else break e;qI(G),Ct(18)}}else G.za=Ue[1],0<G.za-G.T&&37500>Ue[2]&&G.F&&G.v==0&&!G.C&&(G.C=Te(f(G.Za,G),6e3));if(1>=jr(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Ef(G,11)}else if(($.K||G.g==$)&&Kw(G),!x(H))for(Ue=G.Da.g.parse(H),H=0;H<Ue.length;H++){let er=Ue[H];if(G.T=er[0],er=er[1],G.G==2)if(er[0]=="c"){G.K=er[1],G.ia=er[2];const Ri=er[3];Ri!=null&&(G.la=Ri,G.j.info("VER="+G.la));const ki=er[4];ki!=null&&(G.Aa=ki,G.j.info("SVER="+G.Aa));const Pp=er[5];Pp!=null&&typeof Pp=="number"&&0<Pp&&(be=1.5*Pp,G.L=be,G.j.info("backChannelRequestTimeoutMs_="+be)),be=G;const Ja=$.g;if(Ja){const Yw=Ja.g?Ja.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yw){var rt=be.h;rt.g||Yw.indexOf("spdy")==-1&&Yw.indexOf("quic")==-1&&Yw.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(dr(rt,rt.h),rt.h=null))}if(be.D){const GI=Ja.g?Ja.g.getResponseHeader("X-HTTP-Session-Id"):null;GI&&(be.ya=GI,yn(be.I,be.D,GI))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-$.F,G.j.info("Handshake RTT: "+G.R+"ms")),be=G;var Rt=$;if(be.qa=FF(be,be.J?be.ia:null,be.W),Rt.K){to(be.h,Rt);var Or=Rt,vi=be.L;vi&&(Or.I=vi),Or.B&&(Zn(Or),Qt(Or)),be.g=Rt}else OF(be);0<G.i.length&&qw(G)}else er[0]!="stop"&&er[0]!="close"||Ef(G,7);else G.G==3&&(er[0]=="stop"||er[0]=="close"?er[0]=="stop"?Ef(G,7):UI(G):er[0]!="noop"&&G.l&&G.l.ta(er),G.v=0)}}st(4)}catch{}}var Et=class{constructor($,H){this.g=$,this.map=H}};function Vt($){this.l=$||10,a.PerformanceNavigationTiming?($=a.performance.getEntriesByType("navigation"),$=0<$.length&&($[0].nextHopProtocol=="hq"||$[0].nextHopProtocol=="h2")):$=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=$?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wn($){return $.h?!0:$.g?$.g.size>=$.j:!1}function jr($){return $.h?1:$.g?$.g.size:0}function An($,H){return $.h?$.h==H:$.g?$.g.has(H):!1}function dr($,H){$.g?$.g.add(H):$.h=H}function to($,H){$.h&&$.h==H?$.h=null:$.g&&$.g.has(H)&&$.g.delete(H)}Vt.prototype.cancel=function(){if(this.i=hi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const $ of this.g.values())$.cancel();this.g.clear()}};function hi($){if($.h!=null)return $.i.concat($.h.D);if($.g!=null&&$.g.size!==0){let H=$.i;for(const G of $.g.values())H=H.concat(G.D);return H}return v($.i)}function Ki($){if($.V&&typeof $.V=="function")return $.V();if(typeof Map<"u"&&$ instanceof Map||typeof Set<"u"&&$ instanceof Set)return Array.from($.values());if(typeof $=="string")return $.split("");if(l($)){for(var H=[],G=$.length,be=0;be<G;be++)H.push($[be]);return H}H=[],G=0;for(be in $)H[G++]=$[be];return H}function To($){if($.na&&typeof $.na=="function")return $.na();if(!$.V||typeof $.V!="function"){if(typeof Map<"u"&&$ instanceof Map)return Array.from($.keys());if(!(typeof Set<"u"&&$ instanceof Set)){if(l($)||typeof $=="string"){var H=[];$=$.length;for(var G=0;G<$;G++)H.push(G);return H}H=[],G=0;for(const be in $)H[G++]=be;return H}}}function Gi($,H){if($.forEach&&typeof $.forEach=="function")$.forEach(H,void 0);else if(l($)||typeof $=="string")Array.prototype.forEach.call($,H,void 0);else for(var G=To($),be=Ki($),Ue=be.length,rt=0;rt<Ue;rt++)H.call(void 0,be[rt],G&&G[rt],$)}var Pn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lt($,H){if($){$=$.split("&");for(var G=0;G<$.length;G++){var be=$[G].indexOf("="),Ue=null;if(0<=be){var rt=$[G].substring(0,be);Ue=$[G].substring(be+1)}else rt=$[G];H(rt,Ue?decodeURIComponent(Ue.replace(/\+/g," ")):"")}}}function Pt($){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,$ instanceof Pt){this.h=$.h,Tn(this,$.j),this.o=$.o,this.g=$.g,Un(this,$.s),this.l=$.l;var H=$.i,G=new Pr;G.i=H.i,H.g&&(G.g=new Map(H.g),G.h=H.h),rr(this,G),this.m=$.m}else $&&(H=String($).match(Pn))?(this.h=!1,Tn(this,H[1]||"",!0),this.o=Br(H[2]||""),this.g=Br(H[3]||"",!0),Un(this,H[4]),this.l=Br(H[5]||"",!0),rr(this,H[6]||"",!0),this.m=Br(H[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}Pt.prototype.toString=function(){var $=[],H=this.j;H&&$.push(Vr(H,an,!0),":");var G=this.g;return(G||H=="file")&&($.push("//"),(H=this.o)&&$.push(Vr(H,an,!0),"@"),$.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&$.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&$.push("/"),$.push(Vr(G,G.charAt(0)=="/"?no:ln,!0))),(G=this.i.toString())&&$.push("?",G),(G=this.m)&&$.push("#",Vr(G,vo)),$.join("")};function vn($){return new Pt($)}function Tn($,H,G){$.j=G?Br(H,!0):H,$.j&&($.j=$.j.replace(/:$/,""))}function Un($,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);$.s=H}else $.s=null}function rr($,H,G){H instanceof Pr?($.i=H,Ep($.i,$.h)):(G||(H=Vr(H,pi)),$.i=new Pr(H,$.h))}function yn($,H,G){$.i.set(H,G)}function zr($){return yn($,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),$}function Br($,H){return $?H?decodeURI($.replace(/%25/g,"%2525")):decodeURIComponent($):""}function Vr($,H,G){return typeof $=="string"?($=encodeURI($).replace(H,qo),G&&($=$.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$):null}function qo($){return $=$.charCodeAt(0),"%"+($>>4&15).toString(16)+($&15).toString(16)}var an=/[#\/\?@]/g,ln=/[#\?:]/g,no=/[#\?]/g,pi=/[#\?@]/g,vo=/#/g;function Pr($,H){this.h=this.g=null,this.i=$||null,this.j=!!H}function ro($){$.g||($.g=new Map,$.h=0,$.i&&Lt($.i,function(H,G){$.add(decodeURIComponent(H.replace(/\+/g," ")),G)}))}t=Pr.prototype,t.add=function($,H){ro(this),this.i=null,$=Qa(this,$);var G=this.g.get($);return G||this.g.set($,G=[]),G.push(H),this.h+=1,this};function mi($,H){ro($),H=Qa($,H),$.g.has(H)&&($.i=null,$.h-=$.g.get(H).length,$.g.delete(H))}function gi($,H){return ro($),H=Qa($,H),$.g.has(H)}t.forEach=function($,H){ro(this),this.g.forEach(function(G,be){G.forEach(function(Ue){$.call(H,Ue,be,this)},this)},this)},t.na=function(){ro(this);const $=Array.from(this.g.values()),H=Array.from(this.g.keys()),G=[];for(let be=0;be<H.length;be++){const Ue=$[be];for(let rt=0;rt<Ue.length;rt++)G.push(H[be])}return G},t.V=function($){ro(this);let H=[];if(typeof $=="string")gi(this,$)&&(H=H.concat(this.g.get(Qa(this,$))));else{$=Array.from(this.g.values());for(let G=0;G<$.length;G++)H=H.concat($[G])}return H},t.set=function($,H){return ro(this),this.i=null,$=Qa(this,$),gi(this,$)&&(this.h-=this.g.get($).length),this.g.set($,[H]),this.h+=1,this},t.get=function($,H){return $?($=this.V($),0<$.length?String($[0]):H):H};function Fs($,H,G){mi($,H),0<G.length&&($.i=null,$.g.set(Qa($,H),v(G)),$.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const $=[],H=Array.from(this.g.keys());for(var G=0;G<H.length;G++){var be=H[G];const rt=encodeURIComponent(String(be)),Rt=this.V(be);for(be=0;be<Rt.length;be++){var Ue=rt;Rt[be]!==""&&(Ue+="="+encodeURIComponent(String(Rt[be]))),$.push(Ue)}}return this.i=$.join("&")};function Qa($,H){return H=String(H),$.j&&(H=H.toLowerCase()),H}function Ep($,H){H&&!$.j&&(ro($),$.i=null,$.g.forEach(function(G,be){var Ue=be.toLowerCase();be!=Ue&&(mi(this,be),Fs(this,Ue,G))},$)),$.j=H}function Xv($,H){const G=new De;if(a.Image){const be=new Image;be.onload=m(nn,G,"TestLoadImage: loaded",!0,H,be),be.onerror=m(nn,G,"TestLoadImage: error",!1,H,be),be.onabort=m(nn,G,"TestLoadImage: abort",!1,H,be),be.ontimeout=m(nn,G,"TestLoadImage: timeout",!1,H,be),a.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=$}else H(!1)}function Ut($,H){const G=new De,be=new AbortController,Ue=setTimeout(()=>{be.abort(),nn(G,"TestPingServer: timeout",!1,H)},1e4);fetch($,{signal:be.signal}).then(rt=>{clearTimeout(Ue),rt.ok?nn(G,"TestPingServer: ok",!0,H):nn(G,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(Ue),nn(G,"TestPingServer: error",!1,H)})}function nn($,H,G,be,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),be(G)}catch{}}function Lr(){this.g=new Le}function oo($,H,G){const be=G||"";try{Gi($,function(Ue,rt){let Rt=Ue;c(Ue)&&(Rt=ae(Ue)),H.push(be+rt+"="+encodeURIComponent(Rt))})}catch(Ue){throw H.push(be+"type="+encodeURIComponent("_badmap")),Ue}}function fr($){this.l=$.Ub||null,this.j=$.eb||!1}g(fr,ze),fr.prototype.g=function(){return new $c(this.l,this.j)},fr.prototype.i=function($){return function(){return $}}({});function $c($,H){we.call(this),this.D=$,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g($c,we),t=$c.prototype,t.open=function($,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=$,this.A=H,this.readyState=1,Rl(this)},t.send=function($){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};$&&(H.body=$),(this.D||a).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ju(this)),this.readyState=0},t.Sa=function($){if(this.g&&(this.l=$,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=$.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")$.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in $){if(this.j=$.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tp(this)}else $.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tp($){$.j.read().then($.Pa.bind($)).catch($.ga.bind($))}t.Pa=function($){if(this.g){if(this.o&&$.value)this.response.push($.value);else if(!this.o){var H=$.value?$.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!$.done}))&&(this.response=this.responseText+=H)}$.done?ju(this):Rl(this),this.readyState==3&&Tp(this)}},t.Ra=function($){this.g&&(this.response=this.responseText=$,ju(this))},t.Qa=function($){this.g&&(this.response=$,ju(this))},t.ga=function(){this.g&&ju(this)};function ju($){$.readyState=4,$.l=null,$.j=null,$.v=null,Rl($)}t.setRequestHeader=function($,H){this.u.append($,H)},t.getResponseHeader=function($){return this.h&&this.h.get($.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const $=[],H=this.h.entries();for(var G=H.next();!G.done;)G=G.value,$.push(G[0]+": "+G[1]),G=H.next();return $.join(`\r
`)};function Rl($){$.onreadystatechange&&$.onreadystatechange.call($)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function($){this.m=$?"include":"same-origin"}});function _F($){let H="";return _($,function(G,be){H+=be,H+=":",H+=G,H+=`\r
`}),H}function WI($,H,G){e:{for(be in G){var be=!1;break e}be=!0}be||(G=_F(G),typeof $=="string"?G!=null&&encodeURIComponent(String(G)):yn($,H,G))}function yo($){we.call(this),this.headers=new Map,this.o=$||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(yo,we);var mie=/^https?$/i,gie=["POST","PUT"];t=yo.prototype,t.Ha=function($){this.J=$},t.ea=function($,H,G,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+$);H=H?H.toUpperCase():"GET",this.D=$,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ft.g(),this.v=this.o?We(this.o):We(ft),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(H,String($),!0),this.B=!1}catch(rt){EF(this,rt);return}if($=G||"",G=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var Ue in be)G.set(Ue,be[Ue]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const rt of be.keys())G.set(rt,be.get(rt));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(G.keys()).find(rt=>rt.toLowerCase()=="content-type"),Ue=a.FormData&&$ instanceof a.FormData,!(0<=Array.prototype.indexOf.call(gie,H,void 0))||be||Ue||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,Rt]of G)this.g.setRequestHeader(rt,Rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PF(this),this.u=!0,this.g.send($),this.u=!1}catch(rt){EF(this,rt)}};function EF($,H){$.h=!1,$.g&&($.j=!0,$.g.abort(),$.j=!1),$.l=H,$.m=5,TF($),Ww($)}function TF($){$.A||($.A=!0,me($,"complete"),me($,"error"))}t.abort=function($){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=$||7,me(this,"complete"),me(this,"abort"),Ww(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ww(this,!0)),yo.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?IF(this):this.bb())},t.bb=function(){IF(this)};function IF($){if($.h&&typeof s<"u"&&(!$.v[1]||Mc($)!=4||$.Z()!=2)){if($.u&&Mc($)==4)Ie($.Ea,0,$);else if(me($,"readystatechange"),Mc($)==4){$.h=!1;try{const Rt=$.Z();e:switch(Rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var G;if(!(G=H)){var be;if(be=Rt===0){var Ue=String($.D).match(Pn)[1]||null;!Ue&&a.self&&a.self.location&&(Ue=a.self.location.protocol.slice(0,-1)),be=!mie.test(Ue?Ue.toLowerCase():"")}G=be}if(G)me($,"complete"),me($,"success");else{$.m=6;try{var rt=2<Mc($)?$.g.statusText:""}catch{rt=""}$.l=rt+" ["+$.Z()+"]",TF($)}}finally{Ww($)}}}}function Ww($,H){if($.g){PF($);const G=$.g,be=$.v[0]?()=>{}:null;$.g=null,$.v=null,H||me($,"ready");try{G.onreadystatechange=be}catch{}}}function PF($){$.I&&(a.clearTimeout($.I),$.I=null)}t.isActive=function(){return!!this.g};function Mc($){return $.g?$.g.readyState:0}t.Z=function(){try{return 2<Mc(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function($){if(this.g){var H=this.g.responseText;return $&&H.indexOf($)==0&&(H=H.substring($.length)),Ee(H)}};function RF($){try{if(!$.g)return null;if("response"in $.g)return $.g.response;switch($.H){case"":case"text":return $.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in $.g)return $.g.mozResponseArrayBuffer}return null}catch{return null}}function vie($){const H={};$=($.g&&2<=Mc($)&&$.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<$.length;be++){if(x($[be]))continue;var G=M($[be]);const Ue=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const rt=H[Ue]||[];H[Ue]=rt,rt.push(G)}S(H,function(be){return be.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qv($,H,G){return G&&G.internalChannelParams&&G.internalChannelParams[$]||H}function kF($){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qv("failFast",!1,$),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qv("baseRetryDelayMs",5e3,$),this.cb=Qv("retryDelaySeedMs",1e4,$),this.Wa=Qv("forwardChannelMaxRetries",2,$),this.wa=Qv("forwardChannelRequestTimeoutMs",2e4,$),this.pa=$&&$.xmlHttpFactory||void 0,this.Xa=$&&$.Tb||void 0,this.Ca=$&&$.useFetchStreams||!1,this.L=void 0,this.J=$&&$.supportsCrossDomainXhr||!1,this.K="",this.h=new Vt($&&$.concurrentRequestLimit),this.Da=new Lr,this.P=$&&$.fastHandshake||!1,this.O=$&&$.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=$&&$.Rb||!1,$&&$.xa&&this.j.xa(),$&&$.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&$&&$.detectBufferingProxy||!1,this.ja=void 0,$&&$.longPollingTimeout&&0<$.longPollingTimeout&&(this.ja=$.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kF.prototype,t.la=8,t.G=1,t.connect=function($,H,G,be){Ct(0),this.W=$,this.H=H||{},G&&be!==void 0&&(this.H.OSID=G,this.H.OAID=be),this.F=this.X,this.I=FF(this,null,this.W),qw(this)};function UI($){if(DF($),$.G==3){var H=$.U++,G=vn($.I);if(yn(G,"SID",$.K),yn(G,"RID",H),yn(G,"TYPE","terminate"),Jv($,G),H=new Tt($,$.j,H),H.L=2,H.v=zr(vn(G)),G=!1,a.navigator&&a.navigator.sendBeacon)try{G=a.navigator.sendBeacon(H.v.toString(),"")}catch{}!G&&a.Image&&(new Image().src=H.v,G=!0),G||(H.g=zF(H.j,null),H.g.ea(H.v)),H.F=Date.now(),Qt(H)}LF($)}function Uw($){$.g&&(KI($),$.g.cancel(),$.g=null)}function DF($){Uw($),$.u&&(a.clearTimeout($.u),$.u=null),Kw($),$.h.cancel(),$.s&&(typeof $.s=="number"&&a.clearTimeout($.s),$.s=null)}function qw($){if(!Wn($.h)&&!$.s){$.s=!0;var H=$.Ga;O||z(),j||(O(),j=!0),L.add(H,$),$.B=0}}function yie($,H){return jr($.h)>=$.h.j-($.s?1:0)?!1:$.s?($.i=H.D.concat($.i),!0):$.G==1||$.G==2||$.B>=($.Va?0:$.Wa)?!1:($.s=Te(f($.Ga,$,H),jF($,$.B)),$.B++,!0)}t.Ga=function($){if(this.s)if(this.s=null,this.G==1){if(!$){this.U=Math.floor(1e5*Math.random()),$=this.U++;const Ue=new Tt(this,this.j,$);let rt=this.o;if(this.S&&(rt?(rt=T(rt),P(rt,this.S)):rt=this.S),this.m!==null||this.O||(Ue.H=rt,rt=null),this.P)e:{for(var H=0,G=0;G<this.i.length;G++){t:{var be=this.i[G];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(H+=be,4096<H){H=G;break e}if(H===4096||G===this.i.length-1){H=G+1;break e}}H=1e3}else H=1e3;H=MF(this,Ue,H),G=vn(this.I),yn(G,"RID",$),yn(G,"CVER",22),this.D&&yn(G,"X-HTTP-Session-Id",this.D),Jv(this,G),rt&&(this.O?H="headers="+encodeURIComponent(String(_F(rt)))+"&"+H:this.m&&WI(G,this.m,rt)),dr(this.h,Ue),this.Ua&&yn(G,"TYPE","init"),this.P?(yn(G,"$req",H),yn(G,"SID","null"),Ue.T=!0,Bt(Ue,G,null)):Bt(Ue,G,H),this.G=2}}else this.G==3&&($?$F(this,$):this.i.length==0||Wn(this.h)||$F(this))};function $F($,H){var G;H?G=H.l:G=$.U++;const be=vn($.I);yn(be,"SID",$.K),yn(be,"RID",G),yn(be,"AID",$.T),Jv($,be),$.m&&$.o&&WI(be,$.m,$.o),G=new Tt($,$.j,G,$.B+1),$.m===null&&(G.H=$.o),H&&($.i=H.D.concat($.i)),H=MF($,G,1e3),G.I=Math.round(.5*$.wa)+Math.round(.5*$.wa*Math.random()),dr($.h,G),Bt(G,be,H)}function Jv($,H){$.H&&_($.H,function(G,be){yn(H,be,G)}),$.l&&Gi({},function(G,be){yn(H,be,G)})}function MF($,H,G){G=Math.min($.i.length,G);var be=$.l?f($.l.Na,$.l,$):null;e:{var Ue=$.i;let rt=-1;for(;;){const Rt=["count="+G];rt==-1?0<G?(rt=Ue[0].g,Rt.push("ofs="+rt)):rt=0:Rt.push("ofs="+rt);let Or=!0;for(let vi=0;vi<G;vi++){let er=Ue[vi].g;const Ri=Ue[vi].map;if(er-=rt,0>er)rt=Math.max(0,Ue[vi].g-100),Or=!1;else try{oo(Ri,Rt,"req"+er+"_")}catch{be&&be(Ri)}}if(Or){be=Rt.join("&");break e}}}return $=$.i.splice(0,G),H.D=$,be}function OF($){if(!$.g&&!$.u){$.Y=1;var H=$.Fa;O||z(),j||(O(),j=!0),L.add(H,$),$.v=0}}function qI($){return $.g||$.u||3<=$.v?!1:($.Y++,$.u=Te(f($.Fa,$),jF($,$.v)),$.v++,!0)}t.Fa=function(){if(this.u=null,AF(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var $=2*this.R;this.j.info("BP detection timer enabled: "+$),this.A=Te(f(this.ab,this),$)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Uw(this),AF(this))};function KI($){$.A!=null&&(a.clearTimeout($.A),$.A=null)}function AF($){$.g=new Tt($,$.j,"rpc",$.Y),$.m===null&&($.g.H=$.o),$.g.O=0;var H=vn($.qa);yn(H,"RID","rpc"),yn(H,"SID",$.K),yn(H,"AID",$.T),yn(H,"CI",$.F?"0":"1"),!$.F&&$.ja&&yn(H,"TO",$.ja),yn(H,"TYPE","xmlhttp"),Jv($,H),$.m&&$.o&&WI(H,$.m,$.o),$.L&&($.g.I=$.L);var G=$.g;$=$.ia,G.L=1,G.v=zr(vn(H)),G.m=null,G.P=!0,bt(G,$)}t.Za=function(){this.C!=null&&(this.C=null,Uw(this),qI(this),Ct(19))};function Kw($){$.C!=null&&(a.clearTimeout($.C),$.C=null)}function NF($,H){var G=null;if($.g==H){Kw($),KI($),$.g=null;var be=2}else if(An($.h,H))G=H.D,to($.h,H),be=1;else return;if($.G!=0){if(H.o)if(be==1){G=H.m?H.m.length:0,H=Date.now()-H.F;var Ue=$.B;be=Be(),me(be,new Pe(be,G)),qw($)}else OF($);else if(Ue=H.s,Ue==3||Ue==0&&0<H.X||!(be==1&&yie($,H)||be==2&&qI($)))switch(G&&0<G.length&&(H=$.h,H.i=H.i.concat(G)),Ue){case 1:Ef($,5);break;case 4:Ef($,10);break;case 3:Ef($,6);break;default:Ef($,2)}}}function jF($,H){let G=$.Ta+Math.floor(Math.random()*$.cb);return $.isActive()||(G*=2),G*H}function Ef($,H){if($.j.info("Error code "+H),H==2){var G=f($.fb,$),be=$.Xa;const Ue=!be;be=new Pt(be||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tn(be,"https"),zr(be),Ue?Xv(be.toString(),G):Ut(be.toString(),G)}else Ct(2);$.G=0,$.l&&$.l.sa(H),LF($),DF($)}t.fb=function($){$?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function LF($){if($.G=0,$.ka=[],$.l){const H=hi($.h);(H.length!=0||$.i.length!=0)&&(y($.ka,H),y($.ka,$.i),$.h.i.length=0,v($.i),$.i.length=0),$.l.ra()}}function FF($,H,G){var be=G instanceof Pt?vn(G):new Pt(G);if(be.g!="")H&&(be.g=H+"."+be.g),Un(be,be.s);else{var Ue=a.location;be=Ue.protocol,H=H?H+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;var rt=new Pt(null);be&&Tn(rt,be),H&&(rt.g=H),Ue&&Un(rt,Ue),G&&(rt.l=G),be=rt}return G=$.D,H=$.ya,G&&H&&yn(be,G,H),yn(be,"VER",$.la),Jv($,be),be}function zF($,H,G){if(H&&!$.J)throw Error("Can't create secondary domain capable XhrIo object.");return H=$.Ca&&!$.pa?new yo(new fr({eb:G})):new yo($.pa),H.Ha($.J),H}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BF(){}t=BF.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gw(){}Gw.prototype.g=function($,H){return new zs($,H)};function zs($,H){we.call(this),this.g=new kF(H),this.l=$,this.h=H&&H.messageUrlParams||null,$=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&($?$["X-Client-Protocol"]="webchannel":$={"X-Client-Protocol":"webchannel"}),this.g.o=$,$=H&&H.initMessageHeaders||null,H&&H.messageContentType&&($?$["X-WebChannel-Content-Type"]=H.messageContentType:$={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&($?$["X-WebChannel-Client-Profile"]=H.va:$={"X-WebChannel-Client-Profile":H.va}),this.g.S=$,($=H&&H.Sb)&&!x($)&&(this.g.m=$),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!x(H)&&(this.g.D=H,$=this.h,$!==null&&H in $&&($=this.h,H in $&&delete $[H])),this.j=new Ip(this)}g(zs,we),zs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zs.prototype.close=function(){UI(this.g)},zs.prototype.o=function($){var H=this.g;if(typeof $=="string"){var G={};G.__data__=$,$=G}else this.u&&(G={},G.__data__=ae($),$=G);H.i.push(new Et(H.Ya++,$)),H.G==3&&qw(H)},zs.prototype.N=function(){this.g.l=null,delete this.j,UI(this.g),delete this.g,zs.aa.N.call(this)};function VF($){de.call(this),$.__headers__&&(this.headers=$.__headers__,this.statusCode=$.__status__,delete $.__headers__,delete $.__status__);var H=$.__sm__;if(H){e:{for(const G in H){$=G;break e}$=void 0}(this.i=$)&&($=this.i,H=H!==null&&$ in H?H[$]:void 0),this.data=H}else this.data=$}g(VF,de);function HF(){je.call(this),this.status=1}g(HF,je);function Ip($){this.g=$}g(Ip,BF),Ip.prototype.ua=function(){me(this.g,"a")},Ip.prototype.ta=function($){me(this.g,new VF($))},Ip.prototype.sa=function($){me(this.g,new HF)},Ip.prototype.ra=function(){me(this.g,"b")},Gw.prototype.createWebChannel=Gw.prototype.g,zs.prototype.send=zs.prototype.o,zs.prototype.open=zs.prototype.m,zs.prototype.close=zs.prototype.close,Gq=function(){return new Gw},Kq=function(){return Be()},qq=Ve,DD={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,FS=Xe,nt.COMPLETE="complete",Uq=nt,Ze.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",we.prototype.listen=we.prototype.K,i0=Ze,yo.prototype.listenOnce=yo.prototype.L,yo.prototype.getLastError=yo.prototype.Ka,yo.prototype.getLastErrorCode=yo.prototype.Ba,yo.prototype.getStatus=yo.prototype.Z,yo.prototype.getResponseJson=yo.prototype.Oa,yo.prototype.getResponseText=yo.prototype.oa,yo.prototype.send=yo.prototype.ea,yo.prototype.setWithCredentials=yo.prototype.Ha,Wq=yo}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});const $5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new hA("@firebase/firestore");function dm(){return Jd.logLevel}function sde(t){Jd.setLogLevel(t)}function xt(t,...e){if(Jd.logLevel<=Nn.DEBUG){const n=e.map(mA);Jd.debug(`Firestore (${xv}): ${t}`,...n)}}function Ji(t,...e){if(Jd.logLevel<=Nn.ERROR){const n=e.map(mA);Jd.error(`Firestore (${xv}): ${t}`,...n)}}function Ah(t,...e){if(Jd.logLevel<=Nn.WARN){const n=e.map(mA);Jd.warn(`Firestore (${xv}): ${t}`,...n)}}function mA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t="Unexpected state"){const e=`FIRESTORE (${xv}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function rn(t,e){t||Zt()}function mn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Ic{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ade{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bi.UNAUTHENTICATED))}shutdown(){}}class lde{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cde{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rn(this.o===void 0);let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ic;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ic,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ic)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rn(typeof r.accessToken=="string"),new Yq(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rn(e===null||typeof e=="string"),new bi(e)}}class ude{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dde{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ude(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fde{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hde{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){rn(this.o===void 0);const r=i=>{i.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,xt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?o(i):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rn(typeof n.token=="string"),this.R=n.token,new fde(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pde(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=pde(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=e.charAt(o[i]%e.length))}return r}}function xn(t,e){return t<e?-1:t>e?1:0}function Eg(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}function Qq(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _t(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _t(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new En(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new En(0,0))}static max(){return new dn(new En(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r){n===void 0?n=0:n>e.length&&Zt(),r===void 0?r=e.length-n:r>e.length-n&&Zt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pb.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pb?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class sr extends Pb{construct(e,n,r){return new sr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _t(ot.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new sr(n)}static emptyPath(){return new sr([])}}const mde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ao extends Pb{construct(e,n,r){return new ao(e,n,r)}static isValidIdentifier(e){return mde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ao.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ao(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new _t(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new _t(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new _t(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new _t(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ao(n)}static emptyPath(){return new ao([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(sr.fromString(e))}static fromName(e){return new Ot(sr.fromString(e).popFirst(5))}static empty(){return new Ot(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return sr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new sr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,r,o){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=o}}function $D(t){return t.fields.find(e=>e.kind===2)}function jf(t){return t.fields.filter(e=>e.kind!==2)}l_.UNKNOWN_ID=-1;class zS{constructor(e,n){this.fieldPath=e,this.kind=n}}class Rb{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Rb(0,aa.min())}}function gde(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=dn.fromTimestamp(r===1e9?new En(n+1,0):new En(n,r));return new aa(o,Ot.empty(),e)}function Jq(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new aa(dn.min(),Ot.empty(),-1)}static max(){return new aa(dn.max(),Ot.empty(),-1)}}function gA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ot.comparator(t.documentKey,e.documentKey),n!==0?n:xn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){if(t.code!==ot.FAILED_PRECONDITION||t.message!==Zq)throw t;xt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ke((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ke?n:Ke.resolve(n)}catch(n){return Ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ke.reject(n)}static resolve(e){return new Ke((n,r)=>{n(e)})}static reject(e){return new Ke((n,r)=>{r(e)})}static waitFor(e){return new Ke((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},l=>r(l))}),s=!0,i===o&&n()})}static or(e){let n=Ke.resolve(!1);for(const r of e)n=n.next(o=>o?Ke.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new Ke((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===i&&r(s)},u=>o(u))}})}static doWhile(e,n){return new Ke((r,o)=>{const i=()=>{e()===!0?n().next(()=>{i()},o):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ic,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new $0(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const o=vA(r.target.error);this.V.reject(new $0(e,o))}}static open(e,n,r,o){try{return new a2(n,e.transaction(o,r))}catch(i){throw new $0(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new yde(n)}}class Fd{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Fd.S(Zo())===12.2&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return xt("SimpleDb","Removing database:",e),Kf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!jq())return!1;if(Fd.v())return!0;const e=Zo(),n=Fd.S(e),r=0<n&&n<10,o=tK(e),i=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(xt("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=i=>{const s=i.target.result;n(s)},o.onblocked=()=>{r(new $0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=i=>{const s=i.target.error;s.name==="VersionError"?r(new _t(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new _t(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new $0(e,s))},o.onupgradeneeded=i=>{xt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const s=i.target.result;this.p.O(s,o.transaction,i.oldVersion,this.version).next(()=>{xt("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,o){const i=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=a2.open(this.db,e,i?"readonly":"readwrite",r),l=o(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),Ke.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(xt("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function tK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class vde{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Kf(this.B.delete())}}class $0 extends _t{constructor(e,n){super(ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function bf(t){return t.name==="IndexedDbTransactionError"}class yde{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(xt("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Kf(r)}add(e){return xt("SimpleDb","ADD",this.store.name,e,e),Kf(this.store.add(e))}get(e){return Kf(this.store.get(e)).next(n=>(n===void 0&&(n=null),xt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return xt("SimpleDb","DELETE",this.store.name,e),Kf(this.store.delete(e))}count(){return xt("SimpleDb","COUNT",this.store.name),Kf(this.store.count())}U(e,n){const r=this.options(e,n),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const i=o.getAll(r.range);return new Ke((s,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{s(l.target.result)}})}{const i=this.cursor(r),s=[];return this.W(i,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ke((o,i)=>{r.onerror=s=>{i(s.target.error)},r.onsuccess=s=>{o(s.target.result)}})}j(e,n){xt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const o=this.cursor(r);return this.W(o,(i,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const o=this.cursor(r);return this.W(o,n)}Y(e){const n=this.cursor({});return new Ke((r,o)=>{n.onerror=i=>{const s=vA(i.target.error);o(s)},n.onsuccess=i=>{const s=i.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new Ke((o,i)=>{e.onerror=s=>{i(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void o();const l=new vde(a),c=n(a.primaryKey,a.value,l);if(c instanceof Ke){const u=c.catch(d=>(l.done(),Ke.reject(d)));r.push(u)}l.isDone?o():l.K===null?a.continue():a.continue(l.K)}}).next(()=>Ke.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Kf(t){return new Ke((e,n)=>{t.onsuccess=r=>{const o=r.target.result;e(o)},t.onerror=r=>{const o=vA(r.target.error);n(o)}})}let M5=!1;function vA(t){const e=Fd.S(Zo());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return M5||(M5=!0,setTimeout(()=>{throw r},0)),r}}return t}class bde{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){xt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{xt("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){bf(n)?xt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await cp(n)}await this.X(6e4)})}}class xde{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let o=n,i=!0;return Ke.doWhile(()=>i===!0&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return xt("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,o).next(a=>{o-=a,r.add(s)});i=!1})).next(()=>n-o)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(o=>this.localStore.localDocuments.getNextDocuments(e,n,o,r).next(i=>{const s=i.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(o,i)).next(a=>(xt("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((o,i)=>{const s=Jq(i);gA(s,r)>0&&(r=s)}),new aa(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Da.oe=-1;function l2(t){return t==null}function kb(t){return t===0&&1/t==-1/0}function wde(t){return typeof t=="number"&&Number.isInteger(t)&&!kb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O5(e)),e=Sde(t.get(n),e);return O5(e)}function Sde(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const i=t.charAt(o);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function O5(t){return t+""}function Jl(t){const e=t.length;if(rn(e>=2),e===2)return rn(t.charAt(0)===""&&t.charAt(1)===""),sr.emptyPath();const n=e-2,r=[];let o="";for(let i=0;i<e;){const s=t.indexOf("",i);switch((s<0||s>n)&&Zt(),t.charAt(s+1)){case"":const a=t.substring(i,s);let l;o.length===0?l=a:(o+=a,l=o,o=""),r.push(l);break;case"":o+=t.substring(i,s),o+="\0";break;case"":o+=t.substring(i,s+1);break;default:Zt()}i=s+2}return new sr(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e){return[t,ns(e)]}function nK(t,e,n){return[t,ns(e),n]}const Cde={},_de=["prefixPath","collectionGroup","readTime","documentId"],Ede=["prefixPath","collectionGroup","documentId"],Tde=["collectionGroup","readTime","prefixPath","documentId"],Ide=["canonicalId","targetId"],Pde=["targetId","path"],Rde=["path","targetId"],kde=["collectionId","parent"],Dde=["indexId","uid"],$de=["uid","sequenceNumber"],Mde=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ode=["indexId","uid","orderedDocumentKey"],Ade=["userId","collectionPath","documentId"],Nde=["userId","collectionPath","largestBatchId"],jde=["userId","collectionGroup","largestBatchId"],rK=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lde=[...rK,"documentOverlays"],oK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iK=oK,yA=[...iK,"indexConfiguration","indexState","indexEntries"],Fde=yA,zde=[...yA,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends eK{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function ti(t,e){const n=mn(t);return Fd.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function up(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.comparator=e,this.root=n||xi.EMPTY}insert(e,n){return new Zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g1(this.root,e,this.comparator,!1)}getReverseIterator(){return new g1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g1(this.root,e,this.comparator,!0)}}class g1{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??xi.RED,this.left=o??xi.EMPTY,this.right=i??xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new xi(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return xi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Zt();const e=this.left.check();if(e!==this.right.check())throw Zt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Zt()}get value(){throw Zt()}get color(){throw Zt()}get left(){throw Zt()}get right(){throw Zt()}copy(e,n,r,o,i){return this}insert(e,n,r){return new xi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j5(this.data.getIterator())}getIteratorFrom(e){return new j5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $r(this.comparator);return n.data=e,n}}class j5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dp(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.fields=e,e.sort(ao.comparator)}static empty(){return new Es([])}unionWith(e){let n=new $r(ao.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eg(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aK("Invalid base64 string: "+i):i}}(e);return new Uo(n)}static fromUint8Array(e){const n=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new Uo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Uo.EMPTY_BYTE_STRING=new Uo("");const Bde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xu(t){if(rn(!!t),typeof t=="string"){let e=0;const n=Bde.exec(t);if(rn(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yr(t.seconds),nanos:Yr(t.nanos)}}function Yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zd(t){return typeof t=="string"?Uo.fromBase64String(t):Uo.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bA(t){const e=t.mapValue.fields.__previous_value__;return c2(e)?bA(e):e}function Db(t){const e=xu(t.mapValue.fields.__local_write_time__.timestampValue);return new En(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vde{constructor(e,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Nh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},VS={nullValue:"NULL_VALUE"};function jh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c2(t)?4:lK(t)?9007199254740991:u2(t)?10:11:Zt()}function gc(t,e){if(t===e)return!0;const n=jh(t);if(n!==jh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Db(t).isEqual(Db(e));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const s=xu(o.timestampValue),a=xu(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,i){return Zd(o.bytesValue).isEqual(Zd(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,i){return Yr(o.geoPointValue.latitude)===Yr(i.geoPointValue.latitude)&&Yr(o.geoPointValue.longitude)===Yr(i.geoPointValue.longitude)}(t,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return Yr(o.integerValue)===Yr(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const s=Yr(o.doubleValue),a=Yr(i.doubleValue);return s===a?kb(s)===kb(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Eg(t.arrayValue.values||[],e.arrayValue.values||[],gc);case 10:case 11:return function(o,i){const s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(N5(s)!==N5(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!gc(s[l],a[l])))return!1;return!0}(t,e);default:return Zt()}}function $b(t,e){return(t.values||[]).find(n=>gc(n,e))!==void 0}function ef(t,e){if(t===e)return 0;const n=jh(t),r=jh(e);if(n!==r)return xn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=Yr(i.integerValue||i.doubleValue),l=Yr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return L5(t.timestampValue,e.timestampValue);case 4:return L5(Db(t),Db(e));case 5:return xn(t.stringValue,e.stringValue);case 6:return function(i,s){const a=Zd(i),l=Zd(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=xn(a[c],l[c]);if(u!==0)return u}return xn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=xn(Yr(i.latitude),Yr(s.latitude));return a!==0?a:xn(Yr(i.longitude),Yr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F5(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a,l,c,u;const d=i.fields||{},f=s.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=xn(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:F5(m,g)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===bd.mapValue&&s===bd.mapValue)return 0;if(i===bd.mapValue)return 1;if(s===bd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=xn(l[d],u[d]);if(f!==0)return f;const m=ef(a[l[d]],c[u[d]]);if(m!==0)return m}return xn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Zt()}}function L5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xn(t,e);const n=xu(t),r=xu(e),o=xn(n.seconds,r.seconds);return o!==0?o:xn(n.nanos,r.nanos)}function F5(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const i=ef(n[o],r[o]);if(i)return i}return xn(n.length,r.length)}function Tg(t){return OD(t)}function OD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ot.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const i of n.values||[])o?o=!1:r+=",",r+=OD(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",i=!0;for(const s of r)i?i=!1:o+=",",o+=`${s}:${OD(n.fields[s])}`;return o+"}"}(t.mapValue):Zt()}function Lh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function AD(t){return!!t&&"integerValue"in t}function Mb(t){return!!t&&"arrayValue"in t}function z5(t){return!!t&&"nullValue"in t}function B5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function HS(t){return!!t&&"mapValue"in t}function u2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function M0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return up(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=M0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=M0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const cK={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Hde(t){return"nullValue"in t?VS:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Lh(Nh.empty(),Ot.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?u2(t)?cK:{mapValue:{}}:Zt()}function Wde(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Lh(Nh.empty(),Ot.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?cK:"mapValue"in t?u2(t)?{mapValue:{}}:bd:Zt()}function V5(t,e){const n=ef(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function H5(t,e){const n=ef(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.value=e}static empty(){return new zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!HS(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=M0(n)}setAll(e){let n=ao.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=M0(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());HS(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];HS(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){up(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new zi(M0(this.value))}}function uK(t){const e=[];return up(t.fields,(n,r)=>{const o=new ao([n]);if(HS(r)){const i=uK(r.mapValue).fields;if(i.length===0)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new Es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r,o,i,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new So(e,0,dn.min(),dn.min(),dn.min(),zi.empty(),0)}static newFoundDocument(e,n,r,o){return new So(e,1,n,dn.min(),r,o,0)}static newNoDocument(e,n){return new So(e,2,n,dn.min(),dn.min(),zi.empty(),0)}static newUnknownDocument(e,n){return new So(e,3,n,dn.min(),dn.min(),zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(dn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof So&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new So(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.position=e,this.inclusive=n}}function W5(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(i.field.isKeyField()?r=Ot.comparator(Ot.fromName(s.referenceValue),n.key):r=ef(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function U5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ude(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{}class jn extends dK{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qde(e,n,r):n==="array-contains"?new Yde(e,r):n==="in"?new vK(e,r):n==="not-in"?new Xde(e,r):n==="array-contains-any"?new Qde(e,r):new jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Kde(e,r):new Gde(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ef(n,this.value)):n!==null&&jh(this.value)===jh(n)&&this.matchesComparison(ef(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends dK{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xr(e,n)}matches(e){return Ig(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ig(t){return t.op==="and"}function ND(t){return t.op==="or"}function xA(t){return fK(t)&&Ig(t)}function fK(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function jD(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+Tg(t.value);if(xA(t))return t.filters.map(e=>jD(e)).join(",");{const e=t.filters.map(n=>jD(n)).join(",");return`${t.op}(${e})`}}function hK(t,e){return t instanceof jn?function(r,o){return o instanceof jn&&r.op===o.op&&r.field.isEqual(o.field)&&gc(r.value,o.value)}(t,e):t instanceof xr?function(r,o){return o instanceof xr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,s,a)=>i&&hK(s,o.filters[a]),!0):!1}(t,e):void Zt()}function pK(t,e){const n=t.filters.concat(e);return xr.create(n,t.op)}function mK(t){return t instanceof jn?function(n){return`${n.field.canonicalString()} ${n.op} ${Tg(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(mK).join(" ,")+"}"}(t):"Filter"}class qde extends jn{constructor(e,n,r){super(e,n,r),this.key=Ot.fromName(r.referenceValue)}matches(e){const n=Ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class Kde extends jn{constructor(e,n){super(e,"in",n),this.keys=gK("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gde extends jn{constructor(e,n){super(e,"not-in",n),this.keys=gK("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gK(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ot.fromName(r.referenceValue))}class Yde extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mb(n)&&$b(n.arrayValue,this.value)}}class vK extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$b(this.value.arrayValue,n)}}class Xde extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if($b(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$b(this.value.arrayValue,n)}}class Qde extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$b(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function LD(t,e=null,n=[],r=[],o=null,i=null,s=null){return new Jde(t,e,n,r,o,i,s)}function Fh(t){const e=mn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),l2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Tg(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Tg(r)).join(",")),e.ue=n}return e.ue}function Fx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ude(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hK(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U5(t.startAt,e.startAt)&&U5(t.endAt,e.endAt)}function c_(t){return Ot.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function u_(t,e){return t.filters.filter(n=>n instanceof jn&&n.field.isEqual(e))}function q5(t,e,n){let r=VS,o=!0;for(const i of u_(t,e)){let s=VS,a=!0;switch(i.op){case"<":case"<=":s=Hde(i.value);break;case"==":case"in":case">=":s=i.value;break;case">":s=i.value,a=!1;break;case"!=":case"not-in":s=VS}V5({value:r,inclusive:o},{value:s,inclusive:a})<0&&(r=s,o=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=n.position[i];V5({value:r,inclusive:o},{value:s,inclusive:n.inclusive})<0&&(r=s,o=n.inclusive);break}}return{value:r,inclusive:o}}function K5(t,e,n){let r=bd,o=!0;for(const i of u_(t,e)){let s=bd,a=!0;switch(i.op){case">=":case">":s=Wde(i.value),a=!1;break;case"==":case"in":case"<=":s=i.value;break;case"<":s=i.value,a=!1;break;case"!=":case"not-in":s=bd}H5({value:r,inclusive:o},{value:s,inclusive:a})>0&&(r=s,o=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=n.position[i];H5({value:r,inclusive:o},{value:s,inclusive:n.inclusive})>0&&(r=s,o=n.inclusive);break}}return{value:r,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Zde(t,e,n,r,o,i,s,a){return new dp(t,e,n,r,o,i,s,a)}function zx(t){return new dp(t)}function G5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wA(t){return t.collectionGroup!==null}function Qm(t){const e=mn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $r(ao.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ob(i,r))}),n.has(ao.keyField().canonicalString())||e.ce.push(new Ob(ao.keyField(),r))}return e.ce}function Oa(t){const e=mn(t);return e.le||(e.le=efe(e,Qm(t))),e.le}function efe(t,e){if(t.limitType==="F")return LD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const i=o.dir==="desc"?"asc":"desc";return new Ob(o.field,i)});const n=t.endAt?new tf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tf(t.startAt.position,t.startAt.inclusive):null;return LD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function FD(t,e){const n=t.filters.concat([e]);return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d_(t,e,n){return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function d2(t,e){return Fx(Oa(t),Oa(e))&&t.limitType===e.limitType}function yK(t){return`${Fh(Oa(t))}|lt:${t.limitType}`}function fm(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>mK(o)).join(", ")}]`),l2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Tg(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Tg(o)).join(",")),`Target(${r})`}(Oa(t))}; limitType=${t.limitType})`}function Bx(t,e){return e.isFoundDocument()&&function(r,o){const i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ot.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,o){for(const i of Qm(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(s,a,l){const c=W5(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,Qm(r),o)||r.endAt&&!function(s,a,l){const c=W5(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,Qm(r),o))}(t,e)}function tfe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bK(t){return(e,n)=>{let r=!1;for(const o of Qm(t)){const i=nfe(o,e,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function nfe(t,e,n){const r=t.field.isKeyField()?Ot.comparator(e.key,n.key):function(i,s,a){const l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ef(l,c):Zt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){up(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return sK(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rfe=new Zr(Ot.comparator);function Xs(){return rfe}const xK=new Zr(Ot.comparator);function s0(...t){let e=xK;for(const n of t)e=e.insert(n.key,n);return e}function wK(t){let e=xK;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zl(){return O0()}function SK(){return O0()}function O0(){return new xf(t=>t.toString(),(t,e)=>t.isEqual(e))}const ofe=new Zr(Ot.comparator),ife=new $r(Ot.comparator);function In(...t){let e=ife;for(const n of t)e=e.add(n);return e}const sfe=new $r(xn);function afe(){return sfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kb(e)?"-0":e}}function CK(t){return{integerValue:""+t}}function lfe(t,e){return wde(e)?CK(e):SA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this._=void 0}}function cfe(t,e,n){return t instanceof Pg?function(o,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&c2(i)&&(i=bA(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Rg?EK(t,e):t instanceof kg?TK(t,e):function(o,i){const s=_K(o,i),a=Y5(s)+Y5(o.Pe);return AD(s)&&AD(o.Pe)?CK(a):SA(o.serializer,a)}(t,e)}function ufe(t,e,n){return t instanceof Rg?EK(t,e):t instanceof kg?TK(t,e):n}function _K(t,e){return t instanceof Ab?function(r){return AD(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pg extends f2{}class Rg extends f2{constructor(e){super(),this.elements=e}}function EK(t,e){const n=IK(e);for(const r of t.elements)n.some(o=>gc(o,r))||n.push(r);return{arrayValue:{values:n}}}class kg extends f2{constructor(e){super(),this.elements=e}}function TK(t,e){let n=IK(e);for(const r of t.elements)n=n.filter(o=>!gc(o,r));return{arrayValue:{values:n}}}class Ab extends f2{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Y5(t){return Yr(t.integerValue||t.doubleValue)}function IK(t){return Mb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(e,n){this.field=e,this.transform=n}}function dfe(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Rg&&o instanceof Rg||r instanceof kg&&o instanceof kg?Eg(r.elements,o.elements,gc):r instanceof Ab&&o instanceof Ab?gc(r.Pe,o.Pe):r instanceof Pg&&o instanceof Pg}(t.transform,e.transform)}class ffe{constructor(e,n){this.version=e,this.transformResults=n}}class Qo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qo}static exists(e){return new Qo(void 0,e)}static updateTime(e){return new Qo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function WS(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class h2{}function RK(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vx(t.key,Qo.none()):new wv(t.key,t.data,Qo.none());{const n=t.data,r=zi.empty();let o=new $r(ao.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new Iu(t.key,r,new Es(o.toArray()),Qo.none())}}function hfe(t,e,n){t instanceof wv?function(o,i,s){const a=o.value.clone(),l=Q5(o.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Iu?function(o,i,s){if(!WS(o.precondition,i))return void i.convertToUnknownDocument(s.version);const a=Q5(o.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(kK(o)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(o,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function A0(t,e,n,r){return t instanceof wv?function(i,s,a,l){if(!WS(i.precondition,s))return a;const c=i.value.clone(),u=J5(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Iu?function(i,s,a,l){if(!WS(i.precondition,s))return a;const c=J5(i.fieldTransforms,l,s),u=s.data;return u.setAll(kK(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,s,a){return WS(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function pfe(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=_K(r.transform,o||null);i!=null&&(n===null&&(n=zi.empty()),n.set(r.field,i))}return n||null}function X5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Eg(r,o,(i,s)=>dfe(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wv extends h2{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Iu extends h2{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kK(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Q5(t,e,n){const r=new Map;rn(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,ufe(s,a,n[o]))}return r}function J5(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,cfe(i,s,e))}return r}class Vx extends h2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DK extends h2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&hfe(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=A0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=A0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SK();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const l=RK(s,a);l!==null&&r.set(o.key,l),s.isValidDocument()||s.convertToNoDocument(dn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),In())}isEqual(e){return this.batchId===e.batchId&&Eg(this.mutations,e.mutations,(n,r)=>X5(n,r))&&Eg(this.baseMutations,e.baseMutations,(n,r)=>X5(n,r))}}class _A{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){rn(e.mutations.length===r.length);let o=function(){return ofe}();const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new _A(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mfe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No,Kn;function gfe(t){switch(t){default:return Zt();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function $K(t){if(t===void 0)return Ji("GRPC error has no .code"),ot.UNKNOWN;switch(t){case No.OK:return ot.OK;case No.CANCELLED:return ot.CANCELLED;case No.UNKNOWN:return ot.UNKNOWN;case No.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case No.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case No.INTERNAL:return ot.INTERNAL;case No.UNAVAILABLE:return ot.UNAVAILABLE;case No.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case No.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case No.NOT_FOUND:return ot.NOT_FOUND;case No.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case No.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case No.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case No.ABORTED:return ot.ABORTED;case No.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case No.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case No.DATA_LOSS:return ot.DATA_LOSS;default:return Zt()}}(Kn=No||(No={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vfe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe=new mh([4294967295,4294967295],0);function Z5(t){const e=vfe().encode(t),n=new Hq;return n.update(e),new Uint8Array(n.digest())}function e3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new mh([n,r],0),new mh([o,i],0)]}class TA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new a0(`Invalid padding: ${n}`);if(r<0)throw new a0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new a0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new a0(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mh.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(mh.fromNumber(r)));return o.compare(yfe)===1&&(o=new mh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Z5(e),[r,o]=e3(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,o,i);if(!this.de(s))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new TA(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Z5(e),[r,o]=e3(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,o,i);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class a0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Hx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new p2(dn.min(),o,new Zr(xn),Xs(),In())}}class Hx{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hx(r,n,In(),In(),In())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class MK{constructor(e,n){this.targetId=e,this.me=n}}class OK{constructor(e,n,r=Uo.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class t3{constructor(){this.fe=0,this.ge=r3(),this.pe=Uo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=In(),n=In(),r=In();return this.ge.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Zt()}}),new Hx(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=r3()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,rn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bfe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xs(),this.qe=n3(),this.Qe=new Zr(xn)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Zt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const i=o.target;if(c_(i))if(r===0){const s=new Ot(i.path);this.Ue(n,s,So.newNoDocument(s,dn.min()))}else rn(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=n;let s,a;try{s=Zd(r).toUint8Array()}catch(l){if(l instanceof aK)return Ah("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TA(s,o,i)}catch(l){return Ah(l instanceof a0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(i=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((i,s)=>{const a=this.Je(s);if(a){if(i.current&&c_(a.target)){const l=new Ot(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,So.newNoDocument(l,e))}i.be&&(n.set(s,i.ve()),i.Ce())}});let r=In();this.qe.forEach((i,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));const o=new p2(e,n,this.Qe,this.ke,r);return this.ke=Xs(),this.qe=n3(),this.Qe=new Zr(xn),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new t3,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $r(xn),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||xt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new t3),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function n3(){return new Zr(Ot.comparator)}function r3(){return new Zr(Ot.comparator)}const xfe={asc:"ASCENDING",desc:"DESCENDING"},wfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sfe={and:"AND",or:"OR"};class Cfe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zD(t,e){return t.useProto3Json||l2(e)?e:{value:e}}function Dg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AK(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _fe(t,e){return Dg(t,e.toTimestamp())}function rs(t){return rn(!!t),dn.fromTimestamp(function(n){const r=xu(n);return new En(r.seconds,r.nanos)}(t))}function IA(t,e){return BD(t,e).canonicalString()}function BD(t,e){const n=function(o){return new sr(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NK(t){const e=sr.fromString(t);return rn(UK(e)),e}function f_(t,e){return IA(t.databaseId,e.path)}function gh(t,e){const n=NK(e);if(n.get(1)!==t.databaseId.projectId)throw new _t(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _t(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ot(FK(n))}function jK(t,e){return IA(t.databaseId,e)}function LK(t){const e=NK(t);return e.length===4?sr.emptyPath():FK(e)}function VD(t){return new sr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FK(t){return rn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function o3(t,e,n){return{name:f_(t,e),fields:n.value.mapValue.fields}}function Efe(t,e,n){const r=gh(t,e.name),o=rs(e.updateTime),i=e.createTime?rs(e.createTime):dn.min(),s=new zi({mapValue:{fields:e.fields}}),a=So.newFoundDocument(r,o,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Tfe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Zt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(rn(u===void 0||typeof u=="string"),Uo.fromBase64String(u||"")):(rn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Uo.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?ot.UNKNOWN:$K(c.code);return new _t(u,c.message||"")}(s);n=new OK(r,o,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=gh(t,r.document.name),i=rs(r.document.updateTime),s=r.document.createTime?rs(r.document.createTime):dn.min(),a=new zi({mapValue:{fields:r.document.fields}}),l=So.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new US(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=gh(t,r.document),i=r.readTime?rs(r.readTime):dn.min(),s=So.newNoDocument(o,i),a=r.removedTargetIds||[];n=new US([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=gh(t,r.document),i=r.removedTargetIds||[];n=new US([],i,o,null)}else{if(!("filter"in e))return Zt();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:i}=r,s=new mfe(o,i),a=r.targetId;n=new MK(a,s)}}return n}function h_(t,e){let n;if(e instanceof wv)n={update:o3(t,e.key,e.value)};else if(e instanceof Vx)n={delete:f_(t,e.key)};else if(e instanceof Iu)n={update:o3(t,e.key,e.data),updateMask:$fe(e.fieldMask)};else{if(!(e instanceof DK))return Zt();n={verify:f_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof Pg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ab)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Zt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:_fe(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Zt()}(t,e.precondition)),n}function HD(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Qo.updateTime(rs(i.updateTime)):i.exists!==void 0?Qo.exists(i.exists):Qo.none()}(e.currentDocument):Qo.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(s,a){let l=null;if("setToServerValue"in a)rn(a.setToServerValue==="REQUEST_TIME"),l=new Pg;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Rg(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new kg(u)}else"increment"in a?l=new Ab(s,a.increment):Zt();const c=ao.fromServerFormat(a.fieldPath);return new PK(c,l)}(t,o)):[];if(e.update){e.update.name;const o=gh(t,e.update.name),i=new zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Es(c.map(u=>ao.fromServerFormat(u)))}(e.updateMask);return new Iu(o,i,s,n,r)}return new wv(o,i,n,r)}if(e.delete){const o=gh(t,e.delete);return new Vx(o,n)}if(e.verify){const o=gh(t,e.verify);return new DK(o,n)}return Zt()}function Ife(t,e){return t&&t.length>0?(rn(e!==void 0),t.map(n=>function(o,i){let s=o.updateTime?rs(o.updateTime):rs(i);return s.isEqual(dn.min())&&(s=rs(i)),new ffe(s,o.transformResults||[])}(n,e))):[]}function zK(t,e){return{documents:[jK(t,e.path)]}}function BK(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jK(t,o);const i=function(c){if(c.length!==0)return WK(xr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:hm(f.field),direction:Rfe(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=zD(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:o}}function VK(t){let e=LK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){rn(r===1);const u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const f=HK(d);return f instanceof xr&&xA(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(g){return new Ob(pm(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,l2(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new tf(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new tf(m,f)}(n.endAt)),Zde(e,o,s,i,a,"F",l,c)}function Pfe(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HK(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pm(n.unaryFilter.field);return jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=pm(n.unaryFilter.field);return jn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=pm(n.unaryFilter.field);return jn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pm(n.unaryFilter.field);return jn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Zt()}}(t):t.fieldFilter!==void 0?function(n){return jn.create(pm(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>HK(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Zt()}}(n.compositeFilter.op))}(t):Zt()}function Rfe(t){return xfe[t]}function kfe(t){return wfe[t]}function Dfe(t){return Sfe[t]}function hm(t){return{fieldPath:t.canonicalString()}}function pm(t){return ao.fromServerFormat(t.fieldPath)}function WK(t){return t instanceof jn?function(n){if(n.op==="=="){if(B5(n.value))return{unaryFilter:{field:hm(n.field),op:"IS_NAN"}};if(z5(n.value))return{unaryFilter:{field:hm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B5(n.value))return{unaryFilter:{field:hm(n.field),op:"IS_NOT_NAN"}};if(z5(n.value))return{unaryFilter:{field:hm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hm(n.field),op:kfe(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(o=>WK(o));return r.length===1?r[0]:{compositeFilter:{op:Dfe(n.op),filters:r}}}(t):Zt()}function $fe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,o,i=dn.min(),s=dn.min(),a=Uo.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e){this.ct=e}}function Mfe(t,e){let n;if(e.document)n=Efe(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ot.fromSegments(e.noDocument.path),o=Bh(e.noDocument.readTime);n=So.newNoDocument(r,o),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Zt();{const r=Ot.fromSegments(e.unknownDocument.path),o=Bh(e.unknownDocument.version);n=So.newUnknownDocument(r,o)}}return e.readTime&&n.setReadTime(function(o){const i=new En(o[0],o[1]);return dn.fromTimestamp(i)}(e.readTime)),n}function i3(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:p_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:f_(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Dg(i,s.version.toTimestamp()),createTime:Dg(i,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zh(e.version)};else{if(!e.isUnknownDocument())return Zt();r.unknownDocument={path:n.path.toArray(),version:zh(e.version)}}return r}function p_(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function zh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bh(t){const e=new En(t.seconds,t.nanoseconds);return dn.fromTimestamp(e)}function Gf(t,e){const n=(e.baseMutations||[]).map(i=>HD(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const s=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>HD(t.ct,i)),o=En.fromMillis(e.localWriteTimeMs);return new CA(e.batchId,o,n,r)}function l0(t){const e=Bh(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Bh(t.lastLimboFreeSnapshotVersion):dn.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return rn(i.documents.length===1),Oa(zx(LK(i.documents[0])))}(t.query):function(i){return Oa(VK(i))}(t.query),new Xc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Uo.fromBase64String(t.resumeToken))}function KK(t,e){const n=zh(e.snapshotVersion),r=zh(e.lastLimboFreeSnapshotVersion);let o;o=c_(e.target)?zK(t.ct,e.target):BK(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fh(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function GK(t){const e=VK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d_(e,e.limit,"L"):e}function RP(t,e){return new EA(e.largestBatchId,HD(t.ct,e.overlayMutation))}function s3(t,e){const n=e.path.lastSegment();return[t,ns(e.path.popLast()),n]}function a3(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:zh(r.readTime),documentKey:ns(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe{getBundleMetadata(e,n){return l3(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Bh(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return l3(e).put(function(o){return{bundleId:o.id,createTime:zh(rs(o.createTime)),version:o.version}}(n))}getNamedQuery(e,n){return c3(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:GK(i.bundledQuery),readTime:Bh(i.readTime)}}(r)})}saveNamedQuery(e,n){return c3(e).put(function(o){return{name:o.name,readTime:zh(rs(o.readTime)),bundledQuery:o.bundledQuery}}(n))}}function l3(t){return ti(t,"bundles")}function c3(t){return ti(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new m2(e,r)}getOverlay(e,n){return uy(e).get(s3(this.userId,n)).next(r=>r?RP(this.serializer,r):null)}getOverlays(e,n){const r=Zl();return Ke.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){const o=[];return r.forEach((i,s)=>{const a=new EA(n,s);o.push(this.ht(e,a))}),Ke.waitFor(o)}removeOverlaysForBatchId(e,n,r){const o=new Set;n.forEach(s=>o.add(ns(s.getCollectionPath())));const i=[];return o.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);i.push(uy(e).j("collectionPathOverlayIndex",a))}),Ke.waitFor(i)}getOverlaysForCollection(e,n,r){const o=Zl(),i=ns(n),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return uy(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=RP(this.serializer,l);o.set(c.getKey(),c)}return o})}getOverlaysForCollectionGroup(e,n,r,o){const i=Zl();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return uy(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=RP(this.serializer,c);i.size()<o||d.largestBatchId===s?(i.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>i)}ht(e,n){return uy(e).put(function(o,i,s){const[a,l,c]=s3(i,s.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:h_(o.ct,s.mutation)}}(this.serializer,this.userId,n))}}function uy(t){return ti(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{Pt(e){return ti(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Uo.fromUint8Array(r):Uo.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Yr(e.integerValue));else if("doubleValue"in e){const r=Yr(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),kb(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=xu(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Zd(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?lK(e)?this.dt(n,Number.MAX_SAFE_INTEGER):u2(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Zt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const o of Object.keys(r))this.Vt(o,n),this.Tt(r[o],n)}wt(e,n){var r,o;const i=e.fields||{};this.dt(n,53);const s="value",a=((o=(r=i[s].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.length)||0;this.dt(n,15),n.At(Yr(a)),this.Vt(s,n),this.Tt(i[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const o of r)this.Tt(o,n)}yt(e,n){this.dt(n,37),Ot.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Yf.vt=new Yf;function Nfe(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function u3(t){const e=64-function(r){let o=0;for(let i=0;i<8;++i){const s=Nfe(255&r[i]);if(o+=s,s!==8)break}return o}(t);return Math.ceil(e/8)}class jfe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const o=n.codePointAt(0);this.Ft(240|o>>>18),this.Ft(128|63&o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const o=n.codePointAt(0);this.Ot(240|o>>>18),this.Ot(128|63&o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o)}}this.Nt()}kt(e){const n=this.qt(e),r=u3(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}Kt(e){const n=this.qt(e),r=u3(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Lfe{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Ffe{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class dy{constructor(){this.jt=new jfe,this.Ht=new Lfe(this.jt),this.Jt=new Ffe(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r,o){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=o}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Xf(this.indexId,this.documentKey,this.arrayValue,r)}}function zu(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=d3(t.arrayValue,e.arrayValue),n!==0?n:(n=d3(t.directionalValue,e.directionalValue),n!==0?n:Ot.comparator(t.documentKey,e.documentKey)))}function d3(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.Xt=new $r((n,r)=>ao.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(rn(e.collectionGroup===this.collectionId),this.nn)return!1;const n=$D(e);if(n!==void 0&&!this.sn(n))return!1;const r=jf(e);let o=new Set,i=0,s=0;for(;i<r.length&&this.sn(r[i]);++i)o=o.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!o.has(a.field.canonicalString())){const l=r[i];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new $r(ao.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new zS(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new zS(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new zS(r.field,r.dir==="asc"?0:1)));return new l_(l_.UNKNOWN_ID,this.collectionId,n,Rb.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){var e,n;if(rn(t instanceof jn||t instanceof xr),t instanceof jn){if(t instanceof vK){const o=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>jn.create(t.field,"==",i)))||[];return xr.create(o,"or")}return t}const r=t.filters.map(o=>YK(o));return xr.create(r,t.op)}function zfe(t){if(t.getFilters().length===0)return[];const e=qD(YK(t));return rn(XK(e)),WD(e)||UD(e)?[e]:e.getFilters()}function WD(t){return t instanceof jn}function UD(t){return t instanceof xr&&xA(t)}function XK(t){return WD(t)||UD(t)||function(n){if(n instanceof xr&&ND(n)){for(const r of n.getFilters())if(!WD(r)&&!UD(r))return!1;return!0}return!1}(t)}function qD(t){if(rn(t instanceof jn||t instanceof xr),t instanceof jn)return t;if(t.filters.length===1)return qD(t.filters[0]);const e=t.filters.map(r=>qD(r));let n=xr.create(e,t.op);return n=m_(n),XK(n)?n:(rn(n instanceof xr),rn(Ig(n)),rn(n.filters.length>1),n.filters.reduce((r,o)=>PA(r,o)))}function PA(t,e){let n;return rn(t instanceof jn||t instanceof xr),rn(e instanceof jn||e instanceof xr),n=t instanceof jn?e instanceof jn?function(o,i){return xr.create([o,i],"and")}(t,e):h3(t,e):e instanceof jn?h3(e,t):function(o,i){if(rn(o.filters.length>0&&i.filters.length>0),Ig(o)&&Ig(i))return pK(o,i.getFilters());const s=ND(o)?o:i,a=ND(o)?i:o,l=s.filters.map(c=>PA(c,a));return xr.create(l,"or")}(t,e),m_(n)}function h3(t,e){if(Ig(e))return pK(e,t.getFilters());{const n=e.filters.map(r=>PA(t,r));return xr.create(n,"or")}}function m_(t){if(rn(t instanceof jn||t instanceof xr),t instanceof jn)return t;const e=t.getFilters();if(e.length===1)return m_(e[0]);if(fK(t))return t;const n=e.map(o=>m_(o)),r=[];return n.forEach(o=>{o instanceof jn?r.push(o):o instanceof xr&&(o.op===t.op?r.push(...o.filters):r.push(o))}),r.length===1?r[0]:xr.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bfe{constructor(){this.un=new RA}addToCollectionParentIndex(e,n){return this.un.add(n),Ke.resolve()}getCollectionParents(e,n){return Ke.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ke.resolve()}deleteFieldIndex(e,n){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,n){return Ke.resolve()}getDocumentsMatchingTarget(e,n){return Ke.resolve(null)}getIndexType(e,n){return Ke.resolve(0)}getFieldIndexes(e,n){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,n){return Ke.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return Ke.resolve(aa.min())}updateCollectionGroup(e,n,r){return Ke.resolve()}updateIndexEntries(e,n){return Ke.resolve()}}class RA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new $r(sr.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $r(sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Uint8Array(0);class Vfe{constructor(e,n){this.databaseId=n,this.cn=new RA,this.ln=new xf(r=>Fh(r),(r,o)=>Fx(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const i={collectionId:r,parent:ns(o)};return p3(e).put(i)}return Ke.resolve()}getCollectionParents(e,n){const r=[],o=IDBKeyRange.bound([n,""],[Qq(n),""],!1,!0);return p3(e).U(o).next(i=>{for(const s of i){if(s.collectionId!==n)break;r.push(Jl(s.parent))}return r})}addFieldIndex(e,n){const r=fy(e),o=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete o.indexId;const i=r.add(o);if(n.indexState){const s=Mp(e);return i.next(a=>{s.put(a3(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=fy(e),o=Mp(e),i=$p(e);return r.delete(n.indexId).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=fy(e),r=$p(e),o=Mp(e);return n.j().next(()=>r.j()).next(()=>o.j())}createTargetIndexes(e,n){return Ke.forEach(this.hn(n),r=>this.getIndexType(e,r).next(o=>{if(o===0||o===1){const i=new f3(r).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=$p(e);let o=!0;const i=new Map;return Ke.forEach(this.hn(n),s=>this.Pn(e,s).next(a=>{o&&(o=!!a),i.set(s,a)})).next(()=>{if(o){let s=In();const a=[];return Ke.forEach(i,(l,c)=>{xt("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${Fh(n)}`);const u=function(w,C){const E=$D(C);if(E===void 0)return null;for(const _ of u_(w,E.fieldPath))switch(_.op){case"array-contains-any":return _.value.arrayValue.values||[];case"array-contains":return[_.value]}return null}(c,l),d=function(w,C){const E=new Map;for(const _ of jf(C))for(const S of u_(w,_.fieldPath))switch(S.op){case"==":case"in":E.set(_.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return E.set(_.fieldPath.canonicalString(),S.value),Array.from(E.values())}return null}(c,l),f=function(w,C){const E=[];let _=!0;for(const S of jf(C)){const T=S.kind===0?q5(w,S.fieldPath,w.startAt):K5(w,S.fieldPath,w.startAt);E.push(T.value),_&&(_=T.inclusive)}return new tf(E,_)}(c,l),m=function(w,C){const E=[];let _=!0;for(const S of jf(C)){const T=S.kind===0?K5(w,S.fieldPath,w.endAt):q5(w,S.fieldPath,w.endAt);E.push(T.value),_&&(_=T.inclusive)}return new tf(E,_)}(c,l),g=this.In(l,c,f),v=this.In(l,c,m),y=this.Tn(l,c,d),b=this.En(l.indexId,u,g,f.inclusive,v,m.inclusive,y);return Ke.forEach(b,x=>r.G(x,n.limit).next(w=>{w.forEach(C=>{const E=Ot.fromSegments(C.documentKey);s.has(E)||(s=s.add(E),a.push(E))})}))}).next(()=>a)}return Ke.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=zfe(xr.create(e.filters,"and")).map(r=>LD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,o,i,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/c]):v1,m=this.An(e,f,r[d%c],o),g=this.Rn(e,f,i[d%c],s),v=a.map(y=>this.An(e,f,y,!0));u.push(...this.createRange(m,g,v))}return u}An(e,n,r,o){const i=new Xf(e,Ot.empty(),n,r);return o?i:i.Zt()}Rn(e,n,r,o){const i=new Xf(e,Ot.empty(),n,r);return o?i.Zt():i}Pn(e,n){const r=new f3(n),o=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,o).next(i=>{let s=null;for(const a of i)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const o=this.hn(n);return Ke.forEach(o,i=>this.Pn(e,i).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new $r(ao.comparator),u=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&o.length>1&&r===2?1:r)}Vn(e,n){const r=new dy;for(const o of jf(e)){const i=n.data.field(o.fieldPath);if(i==null)return null;const s=r.Yt(o.kind);Yf.vt.It(i,s)}return r.zt()}dn(e){const n=new dy;return Yf.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new dy;return Yf.vt.It(Lh(this.databaseId,n),r.Yt(function(i){const s=jf(i);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let o=[];o.push(new dy);let i=0;for(const s of jf(e)){const a=r[i++];for(const l of o)if(this.fn(n,s.fieldPath)&&Mb(a))o=this.gn(o,s,a);else{const c=l.Yt(s.kind);Yf.vt.It(a,c)}}return this.pn(o)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const o=[...e],i=[];for(const s of r.arrayValue.values||[])for(const a of o){const l=new dy;l.seed(a.zt()),Yf.vt.It(s,l.Yt(n.kind)),i.push(l)}return i}fn(e,n){return!!e.filters.find(r=>r instanceof jn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=fy(e),o=Mp(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(i=>{const s=[];return Ke.forEach(i,a=>o.get([a.indexId,this.uid]).next(l=>{s.push(function(u,d){const f=d?new Rb(d.sequenceNumber,new aa(Bh(d.readTime),new Ot(Jl(d.documentKey)),d.largestBatchId)):Rb.empty(),m=u.fields.map(([g,v])=>new zS(ao.fromServerFormat(g),v));return new l_(u.indexId,u.collectionGroup,m,f)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,o)=>{const i=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return i!==0?i:xn(r.collectionGroup,o.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const o=fy(e),i=Mp(e);return this.yn(e).next(s=>o.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Ke.forEach(a,l=>i.put(a3(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return Ke.forEach(n,(o,i)=>{const s=r.get(o.collectionGroup);return(s?Ke.resolve(s):this.getFieldIndexes(e,o.collectionGroup)).next(a=>(r.set(o.collectionGroup,a),Ke.forEach(a,l=>this.wn(e,o,l).next(c=>{const u=this.Sn(i,l);return c.isEqual(u)?Ke.resolve():this.bn(e,i,l,c,u)}))))})}Dn(e,n,r,o){return $p(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,o){return $p(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const o=$p(e);let i=new $r(zu);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,a)=>{i=i.add(new Xf(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>i)}Sn(e,n){let r=new $r(zu);const o=this.Vn(n,e);if(o==null)return r;const i=$D(n);if(i!=null){const s=e.data.field(i.fieldPath);if(Mb(s))for(const a of s.arrayValue.values||[])r=r.add(new Xf(n.indexId,e.key,this.dn(a),o))}else r=r.add(new Xf(n.indexId,e.key,v1,o));return r}bn(e,n,r,o,i){xt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,c,u,d,f){const m=l.getIterator(),g=c.getIterator();let v=Dp(m),y=Dp(g);for(;v||y;){let b=!1,x=!1;if(v&&y){const w=u(v,y);w<0?x=!0:w>0&&(b=!0)}else v!=null?x=!0:b=!0;b?(d(y),y=Dp(g)):x?(f(v),v=Dp(m)):(v=Dp(m),y=Dp(g))}}(o,i,zu,a=>{s.push(this.Dn(e,n,r,a))},a=>{s.push(this.vn(e,n,r,a))}),Ke.waitFor(s)}yn(e){let n=1;return Mp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,i)=>{i.done(),n=o.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>zu(s,a)).filter((s,a,l)=>!a||zu(s,l[a-1])!==0);const o=[];o.push(e);for(const s of r){const a=zu(s,e),l=zu(s,n);if(a===0)o[0]=e.Zt();else if(a>0&&l<0)o.push(s),o.push(s.Zt());else if(l>0)break}o.push(n);const i=[];for(let s=0;s<o.length;s+=2){if(this.Cn(o[s],o[s+1]))return[];const a=[o[s].indexId,this.uid,o[s].arrayValue,o[s].directionalValue,v1,[]],l=[o[s+1].indexId,this.uid,o[s+1].arrayValue,o[s+1].directionalValue,v1,[]];i.push(IDBKeyRange.bound(a,l))}return i}Cn(e,n){return zu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(m3)}getMinOffset(e,n){return Ke.mapArray(this.hn(n),r=>this.Pn(e,r).next(o=>o||Zt())).next(m3)}}function p3(t){return ti(t,"collectionParents")}function $p(t){return ti(t,"indexEntries")}function fy(t){return ti(t,"indexConfiguration")}function Mp(t){return ti(t,"indexState")}function m3(t){rn(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const o=t[r].indexState.offset;gA(o,e)<0&&(e=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new aa(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bs{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(t,e,n){const r=t.store("mutations"),o=t.store("documentMutations"),i=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(u,d,f)=>(a++,f.delete()));i.push(l.next(()=>{rn(a===1)}));const c=[];for(const u of n.mutations){const d=nK(e,u.key.path,n.batchId);i.push(o.delete(d)),c.push(u.key)}return Ke.waitFor(i).next(()=>c)}function g_(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class g2{constructor(e,n,r,o){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Fn={}}static lt(e,n,r,o){rn(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new g2(i,n,r,o)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bu(e).J({index:"userMutationsIndex",range:r},(o,i,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,o){const i=mm(e),s=Bu(e);return s.add({}).next(a=>{rn(typeof a=="number");const l=new CA(a,n,r,o),c=function(m,g,v){const y=v.baseMutations.map(x=>h_(m.ct,x)),b=v.mutations.map(x=>h_(m.ct,x));return{userId:g,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:y,mutations:b}}(this.serializer,this.userId,l),u=[];let d=new $r((f,m)=>xn(f.canonicalString(),m.canonicalString()));for(const f of o){const m=nK(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(s.put(c)),u.push(i.put(m,Cde))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),Ke.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Bu(e).get(n).next(r=>r?(rn(r.userId===this.userId),Gf(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?Ke.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const o=r.keys();return this.Fn[n]=o,o}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Bu(e).J({index:"userMutationsIndex",range:o},(s,a,l)=>{a.userId===this.userId&&(rn(a.batchId>=r),i=Gf(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bu(e).J({index:"userMutationsIndex",range:n,reverse:!0},(o,i,s)=>{r=i.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bu(e).U("userMutationsIndex",n).next(r=>r.map(o=>Gf(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=BS(this.userId,n.path),o=IDBKeyRange.lowerBound(r),i=[];return mm(e).J({range:o},(s,a,l)=>{const[c,u,d]=s,f=Jl(u);if(c===this.userId&&n.path.isEqual(f))return Bu(e).get(d).next(m=>{if(!m)throw Zt();rn(m.userId===this.userId),i.push(Gf(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $r(xn);const o=[];return n.forEach(i=>{const s=BS(this.userId,i.path),a=IDBKeyRange.lowerBound(s),l=mm(e).J({range:a},(c,u,d)=>{const[f,m,g]=c,v=Jl(m);f===this.userId&&i.path.isEqual(v)?r=r.add(g):d.done()});o.push(l)}),Ke.waitFor(o).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1,i=BS(this.userId,r),s=IDBKeyRange.lowerBound(i);let a=new $r(xn);return mm(e).J({range:s},(l,c,u)=>{const[d,f,m]=l,g=Jl(f);d===this.userId&&r.isPrefixOf(g)?g.length===o&&(a=a.add(m)):u.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],o=[];return n.forEach(i=>{o.push(Bu(e).get(i).next(s=>{if(s===null)throw Zt();rn(s.userId===this.userId),r.push(Gf(this.serializer,s))}))}),Ke.waitFor(o).next(()=>r)}removeMutationBatch(e,n){return QK(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),Ke.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ke.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),o=[];return mm(e).J({range:r},(i,s,a)=>{if(i[0]===this.userId){const l=Jl(i[1]);o.push(l)}else a.done()}).next(()=>{rn(o.length===0)})})}containsKey(e,n){return JK(e,this.userId,n)}Nn(e){return ZK(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function JK(t,e,n){const r=BS(e,n.path),o=r[1],i=IDBKeyRange.lowerBound(r);let s=!1;return mm(t).J({range:i,H:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===o&&(s=!0),c.done()}).next(()=>s)}function Bu(t){return ti(t,"mutations")}function mm(t){return ti(t,"documentMutations")}function ZK(t){return ti(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vh(0)}static kn(){return new Vh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hfe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Vh(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>dn.fromTimestamp(new En(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.Qn(e,o)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Op(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(rn(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let o=0;const i=[];return Op(e).J((s,a)=>{const l=l0(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,i.push(this.removeTargetData(e,l)))}).next(()=>Ke.waitFor(i)).next(()=>o)}forEachTarget(e,n){return Op(e).J((r,o)=>{const i=l0(o);n(i)})}qn(e){return v3(e).get("targetGlobalKey").next(n=>(rn(n!==null),n))}Qn(e,n){return v3(e).put("targetGlobalKey",n)}Kn(e,n){return Op(e).put(KK(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Fh(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Op(e).J({range:o,index:"queryTargetsIndex"},(s,a,l)=>{const c=l0(a);Fx(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const o=[],i=cd(e);return n.forEach(s=>{const a=ns(s.path);o.push(i.put({targetId:r,path:a})),o.push(this.referenceDelegate.addReference(e,r,s))}),Ke.waitFor(o)}removeMatchingKeys(e,n,r){const o=cd(e);return Ke.forEach(n,i=>{const s=ns(i.path);return Ke.waitFor([o.delete([r,s]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=cd(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=cd(e);let i=In();return o.J({range:r,H:!0},(s,a,l)=>{const c=Jl(s[1]),u=new Ot(c);i=i.add(u)}).next(()=>i)}containsKey(e,n){const r=ns(n.path),o=IDBKeyRange.bound([r],[Qq(r)],!1,!0);let i=0;return cd(e).J({index:"documentTargetsIndex",H:!0,range:o},([s,a],l,c)=>{s!==0&&(i++,c.done())}).next(()=>i>0)}ot(e,n){return Op(e).get(n).next(r=>r?l0(r):null)}}function Op(t){return ti(t,"targets")}function v3(t){return ti(t,"targetGlobal")}function cd(t){return ti(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3([t,e],[n,r]){const o=xn(t,n);return o===0?xn(e,r):o}class Wfe{constructor(e){this.Un=e,this.buffer=new $r(y3),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ufe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bf(n)?xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await cp(n)}await this.Hn(3e5)})}}class qfe{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ke.resolve(Da.oe);const r=new Wfe(n);return this.Jn.forEachTarget(e,o=>r.zn(o.sequenceNumber)).next(()=>this.Jn.Zn(e,o=>r.zn(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xt("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(g3)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g3):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,o,i,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),o=this.params.maximumSequenceNumbersToCollect):o=d,s=Date.now(),this.nthSequenceNumber(e,o))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),dm()<=Nn.DEBUG&&xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${o} in `+(a-s)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:i,documentsRemoved:d})))}}function Kfe(t,e){return new qfe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e,n){this.db=e,this.garbageCollector=Kfe(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,o)=>n(o))}addReference(e,n,r){return y1(e,r)}removeReference(e,n,r){return y1(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return y1(e,n)}nr(e,n){return function(o,i){let s=!1;return ZK(o).Y(a=>JK(o,a,i).next(l=>(l&&(s=!0),Ke.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let i=0;return this.tr(e,(s,a)=>{if(a<=n){const l=this.nr(e,s).next(c=>{if(!c)return i++,r.getEntry(e,s).next(()=>(r.removeEntry(s,dn.min()),cd(e).delete(function(d){return[0,ns(d.path)]}(s))))});o.push(l)}}).next(()=>Ke.waitFor(o)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return y1(e,n)}tr(e,n){const r=cd(e);let o,i=Da.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(i!==Da.oe&&n(new Ot(Jl(o)),i),i=c,o=l):i=Da.oe}).next(()=>{i!==Da.oe&&n(new Ot(Jl(o)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function y1(t,e){return cd(t).put(function(r,o){return{targetId:0,path:ns(r.path),sequenceNumber:o}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(){this.changes=new xf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,So.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yfe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Tf(e).put(r)}removeEntry(e,n,r){return Tf(e).delete(function(i,s){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],p_(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=So.newInvalidDocument(n);return Tf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hy(n))},(o,i)=>{r=this.ir(n,i)}).next(()=>r)}sr(e,n){let r={size:0,document:So.newInvalidDocument(n)};return Tf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hy(n))},(o,i)=>{r={document:this.ir(n,i),size:g_(i)}}).next(()=>r)}getEntries(e,n){let r=Xs();return this._r(e,n,(o,i)=>{const s=this.ir(o,i);r=r.insert(o,s)}).next(()=>r)}ar(e,n){let r=Xs(),o=new Zr(Ot.comparator);return this._r(e,n,(i,s)=>{const a=this.ir(i,s);r=r.insert(i,a),o=o.insert(i,g_(s))}).next(()=>({documents:r,ur:o}))}_r(e,n,r){if(n.isEmpty())return Ke.resolve();let o=new $r(w3);n.forEach(l=>o=o.add(l));const i=IDBKeyRange.bound(hy(o.first()),hy(o.last())),s=o.getIterator();let a=s.getNext();return Tf(e).J({index:"documentKeyIndex",range:i},(l,c,u)=>{const d=Ot.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&w3(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?u.$(hy(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,o,i){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),p_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tf(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let u=Xs();for(const d of c){const f=this.ir(Ot.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Bx(n,f)||o.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,o){let i=Xs();const s=x3(n,r),a=x3(n,aa.max());return Tf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.ir(Ot.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(d.key,d),i.size===o&&u.done()}).next(()=>i)}newChangeBuffer(e){return new Xfe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return b3(e).get("remoteDocumentGlobalKey").next(n=>(rn(!!n),n))}rr(e,n){return b3(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=Mfe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(dn.min())))return r}return So.newInvalidDocument(e)}}function tG(t){return new Yfe(t)}class Xfe extends eG{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new xf(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const n=[];let r=0,o=new $r((i,s)=>xn(i.canonicalString(),s.canonicalString()));return this.changes.forEach((i,s)=>{const a=this.lr.get(i);if(n.push(this.cr.removeEntry(e,i,a.readTime)),s.isValidDocument()){const l=i3(this.cr.serializer,s);o=o.add(i.path.popLast());const c=g_(l);r+=c-a.size,n.push(this.cr.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=i3(this.cr.serializer,s.convertToNoDocument(dn.min()));n.push(this.cr.addEntry(e,i,l))}}),o.forEach(i=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.cr.updateMetadata(e,r)),Ke.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:o})=>(o.forEach((i,s)=>{this.lr.set(i,{size:s,readTime:r.get(i).readTime})}),r))}}function b3(t){return ti(t,"remoteDocumentGlobal")}function Tf(t){return ti(t,"remoteDocumentsV14")}function hy(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function x3(t,e){const n=e.documentKey.path.toArray();return[t,p_(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function w3(t,e){const n=t.path.toArray(),r=e.path.toArray();let o=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(o=xn(n[i],r[i]),o)return o;return o=xn(n.length,r.length),o||(o=xn(n[n.length-2],r[r.length-2]),o||xn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&A0(r.mutation,o,Es.empty(),En.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,In()).next(()=>r))}getLocalViewOfDocuments(e,n,r=In()){const o=Zl();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=s0();return i.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Zl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,In()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=Xs();const s=O0(),a=function(){return O0()}();return n.forEach((l,c)=>{const u=r.get(c.key);o.has(c.key)&&(u===void 0||u.mutation instanceof Iu)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),A0(u.mutation,c,u.mutation.getFieldMask(),En.now())):s.set(c.key,Es.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Qfe(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=O0();let o=new Zr((s,a)=>s-a),i=In();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Es.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(o.get(a.batchId)||In()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=SK();u.forEach(f=>{if(!i.has(f)){const m=RK(n.get(f),r.get(f));m!==null&&d.set(f,m),i=i.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return Ke.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(s){return Ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):Ke.resolve(Zl());let a=-1,l=i;return s.next(c=>Ke.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?Ke.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,In())).next(u=>({batchId:a,changes:wK(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ot(n)).next(r=>{let o=s0();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const i=n.collectionGroup;let s=s0();return this.indexManager.getCollectionParents(e,i).next(a=>Ke.forEach(a,l=>{const c=function(d,f){return new dp(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,o).next(u=>{u.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,o))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,So.newInvalidDocument(u)))});let a=s0();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&A0(u.mutation,c,Es.empty(),En.now()),Bx(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jfe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ke.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:rs(o.createTime)}}(n)),Ke.resolve()}getNamedQuery(e,n){return Ke.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:GK(o.bundledQuery),readTime:rs(o.readTime)}}(n)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe{constructor(){this.overlays=new Zr(Ot.comparator),this.Ir=new Map}getOverlay(e,n){return Ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zl();return Ke.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.ht(e,n,i)}),Ke.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Ke.resolve()}getOverlaysForCollection(e,n,r){const o=Zl(),i=n.length+1,s=new Ot(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&o.set(l.getKey(),l)}return Ke.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new Zr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Zl(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Zl(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=o)););return Ke.resolve(a)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const s=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EA(n,r));let i=this.Ir.get(n);i===void 0&&(i=In(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ehe{constructor(){this.sessionToken=Uo.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.Tr=new $r(oi.Er),this.dr=new $r(oi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new oi(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new oi(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ot(new sr([])),r=new oi(n,e),o=new oi(n,e+1),i=[];return this.dr.forEachInRange([r,o],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ot(new sr([])),r=new oi(n,e),o=new oi(n,e+1);let i=In();return this.dr.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new oi(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class oi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ot.comparator(e.key,n.key)||xn(e.wr,n.wr)}static Ar(e,n){return xn(e.wr,n.wr)||Ot.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class the{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $r(oi.Er)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new CA(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.br=this.br.add(new oi(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ke.resolve(s)}lookupMutationBatch(e,n){return Ke.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),i=o<0?0:o;return Ke.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new oi(n,0),o=new oi(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,o],s=>{const a=this.Dr(s.wr);i.push(a)}),Ke.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $r(xn);return n.forEach(o=>{const i=new oi(o,0),s=new oi(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],a=>{r=r.add(a.wr)})}),Ke.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;Ot.isDocumentKey(i)||(i=i.child(""));const s=new oi(new Ot(i),0);let a=new $r(xn);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.wr)),!0)},s),Ke.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const o=this.Dr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){rn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ke.forEach(n.mutations,o=>{const i=new oi(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new oi(n,0),o=this.br.firstAfterOrEqual(r);return Ke.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nhe{constructor(e){this.Mr=e,this.docs=function(){return new Zr(Ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ke.resolve(r?r.document.mutableCopy():So.newInvalidDocument(n))}getEntries(e,n){let r=Xs();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():So.newInvalidDocument(o))}),Ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=Xs();const s=n.path,a=new Ot(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||gA(Jq(u),r)<=0||(o.has(u.key)||Bx(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Ke.resolve(i)}getAllFromCollectionGroup(e,n,r,o){Zt()}Or(e,n){return Ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rhe(this)}getSize(e){return Ke.resolve(this.size)}}class rhe extends eG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),Ke.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ohe{constructor(e){this.persistence=e,this.Nr=new xf(n=>Fh(n),Fx),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kA,this.targetCount=0,this.kr=Vh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,o)=>n(o)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ke.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Vh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ke.resolve()}updateTargetData(e,n){return this.Kn(n),Ke.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),Ke.waitFor(i).next(()=>o)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ke.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ke.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),Ke.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ke.resolve(r)}containsKey(e,n){return Ke.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Da(0),this.Kr=!1,this.Kr=!0,this.$r=new ehe,this.referenceDelegate=e(this),this.Ur=new ohe(this),this.indexManager=new Bfe,this.remoteDocumentCache=function(o){return new nhe(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qK(n),this.Gr=new Jfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zfe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new the(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){xt("MemoryPersistence","Starting transaction:",e);const o=new ihe(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(i=>this.referenceDelegate.jr(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Hr(e,n){return Ke.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ihe extends eK{constructor(e){super(),this.currentSequenceNumber=e}}class v2{constructor(e){this.persistence=e,this.Jr=new kA,this.Yr=null}static Zr(e){return new v2(e)}get Xr(){if(this.Yr)return this.Yr;throw Zt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ke.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ke.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.Xr,r=>{const o=Ot.fromPath(r);return this.ei(e,o).next(i=>{i||n.removeEntry(o,dn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ke.or([()=>Ke.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class she{constructor(e){this.serializer=e}O(e,n,r,o){const i=new a2("createOrUpgrade",n);r<1&&o>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A5,{unique:!0}),l.createObjectStore("documentMutations")}(e),S3(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=Ke.resolve();return r<3&&o>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),S3(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dn.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(i))),r<4&&o>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A5,{unique:!0});const d=c.store("mutations"),f=u.map(m=>d.put(m));return Ke.waitFor(f)})}(e,i))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&o>=5&&(s=s.next(()=>this.ni(i))),r<6&&o>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),r<7&&o>=7&&(s=s.next(()=>this.ii(i))),r<8&&o>=8&&(s=s.next(()=>this.si(e,i))),r<9&&o>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&o>=10&&(s=s.next(()=>this.oi(i))),r<11&&o>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Ade});c.createIndex("collectionPathOverlayIndex",Nde,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",jde,{unique:!1})})(e)})),r<13&&o>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:_de});c.createIndex("documentKeyIndex",Ede),c.createIndex("collectionGroupIndex",Tde)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(s=s.next(()=>this.ai(e,i))),r<15&&o>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Dde}).createIndex("sequenceNumberIndex",$de,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Mde}).createIndex("documentKeyIndex",Ode,{unique:!1})}(e))),r<16&&o>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&o>=17&&(s=s.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,o)=>{n+=g_(o)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(o=>Ke.forEach(o,i=>{const s=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>Ke.forEach(a,l=>{rn(l.userId===i.userId);const c=Gf(this.serializer,l);return QK(e,i.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const i=[];return r.J((s,a)=>{const l=new sr(s),c=function(d){return[0,ns(d)]}(l);i.push(n.get(c).next(u=>u?Ke.resolve():(d=>n.put({targetId:0,path:ns(d),sequenceNumber:o.highestListenSequenceNumber}))(l)))}).next(()=>Ke.waitFor(i))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:kde});const r=n.store("collectionParents"),o=new RA,i=s=>{if(o.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:ns(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new sr(s);return i(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],c)=>{const u=Jl(a);return i(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,o)=>{const i=l0(o),s=KK(this.serializer,i);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),o=[];return r.J((i,s)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new Ot(sr.fromString(d.document.name).popFirst(5)):d.noDocument?Ot.fromSegments(d.noDocument.path):d.unknownDocument?Ot.fromSegments(d.unknownDocument.path):Zt()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};o.push(a.put(c))}).next(()=>Ke.waitFor(o))}ai(e,n){const r=n.store("mutations"),o=tG(this.serializer),i=new rG(v2.Zr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:In();Gf(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),Ke.forEach(a,(l,c)=>{const u=new bi(c),d=m2.lt(this.serializer,u),f=i.getIndexManager(u),m=g2.lt(u,this.serializer,f,i.referenceDelegate);return new nG(o,m,d,f).recalculateAndSaveOverlaysForDocumentKeys(new MD(n,Da.oe),l).next()})})}}function S3(t){t.createObjectStore("targetDocuments",{keyPath:Pde}).createIndex("documentTargetsIndex",Rde,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ide,{unique:!0}),t.createObjectStore("targetGlobal")}const kP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DA{constructor(e,n,r,o,i,s,a,l,c,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=i,this.window=s,this.document=a,this.ci=c,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!DA.D())throw new _t(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gfe(this,o),this.Ai=n+"main",this.serializer=new qK(l),this.Ri=new Fd(this.Ai,this.hi,new she(this.serializer)),this.$r=new Afe,this.Ur=new Hfe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tG(this.serializer),this.Gr=new Ofe,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(ot.FAILED_PRECONDITION,kP);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Da(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>b1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(bf(e))return xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return py(e).get("owner").next(n=>Ke.resolve(this.vi(n)))}Ci(e){return b1(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=ti(n,"clientMetadata");return r.U().next(o=>{const i=this.xi(o,18e5),s=o.filter(a=>i.indexOf(a)===-1);return Ke.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Ke.resolve(!0):py(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new _t(ot.FAILED_PRECONDITION,kP);return!1}}return!(!this.networkEnabled||!this.inForeground)||b1(e).U().next(r=>this.xi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const i=!this.networkEnabled&&o.networkEnabled,s=!this.inForeground&&o.inForeground,a=this.networkEnabled===o.networkEnabled;if(i||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&xt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new MD(e,Da.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>b1(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return g2.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vfe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return m2.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){xt("IndexedDbPersistence","Starting transaction:",e);const o=n==="readonly"?"readonly":"readwrite",i=function(l){return l===17?zde:l===16?Fde:l===15?yA:l===14?iK:l===13?oK:l===12?Lde:l===11?rK:void Zt()}(this.hi);let s;return this.Ri.runTransaction(e,o,i,a=>(s=new MD(a,this.Qr?this.Qr.next():Da.oe),n==="readwrite-primary"?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw Ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new _t(ot.FAILED_PRECONDITION,Zq);return r(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return py(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _t(ot.FAILED_PRECONDITION,kP)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return py(e).put("owner",n)}static D(){return Fd.D()}bi(e){const n=py(e);return n.get("owner").next(r=>this.vi(r)?(xt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ke.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ji(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;Nq()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return xt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ji("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ji("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function py(t){return ti(t,"owner")}function b1(t){return ti(t,"clientMetadata")}function ahe(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=In(),o=In();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new $A(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Nq()?8:tK(Zo())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const i={result:null};return this.Yi(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,n,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new lhe;return this.Xi(e,n,s).next(a=>{if(i.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>i.result)}es(e,n,r,o){return r.documentReadCount<this.ji?(dm()<=Nn.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",fm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ke.resolve()):(dm()<=Nn.DEBUG&&xt("QueryEngine","Query:",fm(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(dm()<=Nn.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",fm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oa(n))):Ke.resolve())}Yi(e,n){if(G5(n))return Ke.resolve(null);let r=Oa(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=d_(n,null,"F"),r=Oa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=In(...i);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,s,l.readTime)?this.Yi(e,d_(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,o){return G5(n)||o.isEqual(dn.min())?Ke.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const s=this.ts(n,i);return this.ns(n,s,r,o)?Ke.resolve(null):(dm()<=Nn.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fm(n)),this.rs(e,s,n,gde(o,-1)).next(a=>a))})}ts(e,n){let r=new $r(bK(e));return n.forEach((o,i)=>{Bx(e,i)&&(r=r.add(i))}),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Xi(e,n,r){return dm()<=Nn.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",fm(n)),this.Ji.getDocumentsMatchingQuery(e,n,aa.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class che{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Zr(xn),this._s=new xf(i=>Fh(i),Fx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function iG(t,e,n,r){return new che(t,e,n,r)}async function sG(t,e){const n=mn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let l=In();for(const c of o){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function uhe(t,e){const n=mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let m=Ke.resolve();return f.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(v=>{const y=c.docVersions.get(g);rn(y!==null),v.version.compareTo(y)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=In();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function aG(t){const e=mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function dhe(t,e){const n=mn(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const f=o.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,d)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Uo.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),o=o.insert(d,m),function(v,y,b){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(f,m,u)&&a.push(n.Ur.updateTargetData(i,m))});let l=Xs(),c=In();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(fhe(i,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(dn.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Ke.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=o,i))}function fhe(t,e,n){let r=In(),o=In();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Xs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(dn.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):xt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:o}})}function hhe(t,e){const n=mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function phe(t,e){const n=mn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ur.getTargetData(r,e).next(i=>i?(o=i,Ke.resolve(o)):n.Ur.allocateTargetId(r).next(s=>(o=new Xc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function KD(t,e,n){const r=mn(t),o=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!bf(s))throw s;xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function C3(t,e,n){const r=mn(t);let o=dn.min(),i=In();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=mn(l),f=d._s.get(u);return f!==void 0?Ke.resolve(d.os.get(f)):d.Ur.getTargetData(c,u)}(r,s,Oa(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?o:dn.min(),n?i:In())).next(a=>(mhe(r,tfe(e),a),{documents:a,Ts:i})))}function mhe(t,e,n){let r=t.us.get(e)||dn.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class _3{constructor(){this.activeTargetIds=afe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lG{constructor(){this.so=new _3,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x1=null;function DP(){return x1===null?x1=function(){return 268435456+Math.round(2147483648*Math.random())}():x1++,"0x"+x1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yhe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="WebChannelConnection";class bhe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get Fo(){return!1}Mo(n,r,o,i,s){const a=DP(),l=this.xo(n,r.toUriEncodedString());xt("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,s),this.No(n,l,c,o).then(u=>(xt("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ah("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",o),u})}Lo(n,r,o,i,s,a){return this.Mo(n,r,o,i,s)}Oo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xv}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>n[s]=i),o&&o.headers.forEach((i,s)=>n[s]=i)}xo(n,r){const o=vhe[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const i=DP();return new Promise((s,a)=>{const l=new Wq;l.setWithCredentials(!0),l.listenOnce(Uq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case FS.NO_ERROR:const u=l.getResponseJson();xt(Mi,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),s(u);break;case FS.TIMEOUT:xt(Mi,`RPC '${e}' ${i} timed out`),a(new _t(ot.DEADLINE_EXCEEDED,"Request time out"));break;case FS.HTTP_ERROR:const d=l.getStatus();if(xt(Mi,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(b)>=0?b:ot.UNKNOWN}(m.status);a(new _t(g,m.message))}else a(new _t(ot.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new _t(ot.UNAVAILABLE,"Connection failed."));break;default:Zt()}}finally{xt(Mi,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(o);xt(Mi,`RPC '${e}' ${i} sending request:`,o),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const o=DP(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Gq(),a=Kq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");xt(Mi,`Creating RPC '${e}' stream ${o}: ${u}`,l);const d=s.createWebChannel(u,l);let f=!1,m=!1;const g=new yhe({Io:y=>{m?xt(Mi,`Not sending because RPC '${e}' stream ${o} is closed:`,y):(f||(xt(Mi,`Opening RPC '${e}' stream ${o} transport.`),d.open(),f=!0),xt(Mi,`RPC '${e}' stream ${o} sending:`,y),d.send(y))},To:()=>d.close()}),v=(y,b,x)=>{y.listen(b,w=>{try{x(w)}catch(C){setTimeout(()=>{throw C},0)}})};return v(d,i0.EventType.OPEN,()=>{m||(xt(Mi,`RPC '${e}' stream ${o} transport opened.`),g.yo())}),v(d,i0.EventType.CLOSE,()=>{m||(m=!0,xt(Mi,`RPC '${e}' stream ${o} transport closed`),g.So())}),v(d,i0.EventType.ERROR,y=>{m||(m=!0,Ah(Mi,`RPC '${e}' stream ${o} transport errored:`,y),g.So(new _t(ot.UNAVAILABLE,"The operation could not be completed")))}),v(d,i0.EventType.MESSAGE,y=>{var b;if(!m){const x=y.data[0];rn(!!x);const w=x,C=w.error||((b=w[0])===null||b===void 0?void 0:b.error);if(C){xt(Mi,`RPC '${e}' stream ${o} received error:`,C);const E=C.status;let _=function(I){const P=No[I];if(P!==void 0)return $K(P)}(E),S=C.message;_===void 0&&(_=ot.INTERNAL,S="Unknown error status: "+E+" with message "+C.message),m=!0,g.So(new _t(_,S)),d.close()}else xt(Mi,`RPC '${e}' stream ${o} received:`,x),g.bo(x)}}),v(a,qq.STAT_EVENT,y=>{y.stat===DD.PROXY?xt(Mi,`RPC '${e}' stream ${o} detected buffering proxy`):y.stat===DD.NOPROXY&&xt(Mi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(){return typeof window<"u"?window:null}function qS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){return new Cfe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n,r=1e3,o=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&xt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n,r,o,i,s,a,l){this.ui=e,this.Ho=r,this.Jo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cG(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===n&&this.P_(r,o)},r=>{e(()=>{const o=new _t(ot.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class whe extends uG{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Tfe(this.serializer,e),r=function(i){if(!("targetChange"in i))return dn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?dn.min():s.readTime?rs(s.readTime):dn.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=VD(this.serializer),n.addTarget=function(i,s){let a;const l=s.target;if(a=c_(l)?{documents:zK(i,l)}:{query:BK(i,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=AK(i,s.resumeToken);const c=zD(i,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(dn.min())>0){a.readTime=Dg(i,s.snapshotVersion.toTimestamp());const c=zD(i,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Pfe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=VD(this.serializer),n.removeTarget=e,this.a_(n)}}class She extends uG{constructor(e,n,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return rn(!!e.streamToken),this.lastStreamToken=e.streamToken,rn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Ife(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=VD(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h_(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Che extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new _t(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,BD(n,r),o,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _t(ot.UNKNOWN,i.toString())})}Lo(e,n,r,o,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,BD(n,r),o,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _t(ot.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _he{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(n),this.D_=!1):xt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(e,n,r,o,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(s=>{r.enqueueAndForget(async()=>{fp(this)&&(xt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=mn(l);c.L_.add(4),await Sv(c),c.q_.set("Unknown"),c.L_.delete(4),await Wx(c)}(this))})}),this.q_=new _he(r,o)}}async function Wx(t){if(fp(t))for(const e of t.B_)await e(!0)}async function Sv(t){for(const e of t.B_)await e(!1)}function dG(t,e){const n=mn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),NA(n)?AA(n):Cv(n).r_()&&OA(n,e))}function MA(t,e){const n=mn(t),r=Cv(n);n.N_.delete(e),r.r_()&&fG(n,e),n.N_.size===0&&(r.r_()?r.o_():fp(n)&&n.q_.set("Unknown"))}function OA(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cv(t).A_(e)}function fG(t,e){t.Q_.xe(e),Cv(t).R_(e)}function AA(t){t.Q_=new bfe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cv(t).start(),t.q_.v_()}function NA(t){return fp(t)&&!Cv(t).n_()&&t.N_.size>0}function fp(t){return mn(t).L_.size===0}function hG(t){t.Q_=void 0}async function The(t){t.q_.set("Online")}async function Ihe(t){t.N_.forEach((e,n)=>{OA(t,e)})}async function Phe(t,e){hG(t),NA(t)?(t.q_.M_(e),AA(t)):t.q_.set("Unknown")}async function Rhe(t,e,n){if(t.q_.set("Online"),e instanceof OK&&e.state===2&&e.cause)try{await async function(o,i){const s=i.cause;for(const a of i.targetIds)o.N_.has(a)&&(await o.remoteSyncer.rejectListen(a,s),o.N_.delete(a),o.Q_.removeTarget(a))}(t,e)}catch(r){xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await v_(t,r)}else if(e instanceof US?t.Q_.Ke(e):e instanceof MK?t.Q_.He(e):t.Q_.We(e),!n.isEqual(dn.min()))try{const r=await aG(t.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(Uo.EMPTY_BYTE_STRING,u.snapshotVersion)),fG(i,l);const d=new Xc(u.target,l,c,u.sequenceNumber);OA(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){xt("RemoteStore","Failed to raise snapshot:",r),await v_(t,r)}}async function v_(t,e,n){if(!bf(e))throw e;t.L_.add(1),await Sv(t),t.q_.set("Offline"),n||(n=()=>aG(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Wx(t)})}function pG(t,e){return e().catch(n=>v_(t,n,e))}async function Ux(t){const e=mn(t),n=nf(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;khe(e);)try{const o=await hhe(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,Dhe(e,o)}catch(o){await v_(e,o)}mG(e)&&gG(e)}function khe(t){return fp(t)&&t.O_.length<10}function Dhe(t,e){t.O_.push(e);const n=nf(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mG(t){return fp(t)&&!nf(t).n_()&&t.O_.length>0}function gG(t){nf(t).start()}async function $he(t){nf(t).p_()}async function Mhe(t){const e=nf(t);for(const n of t.O_)e.m_(n.mutations)}async function Ohe(t,e,n){const r=t.O_.shift(),o=_A.from(r,e,n);await pG(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Ux(t)}async function Ahe(t,e){e&&nf(t).V_&&await async function(r,o){if(function(s){return gfe(s)&&s!==ot.ABORTED}(o.code)){const i=r.O_.shift();nf(r).s_(),await pG(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),await Ux(r)}}(t,e),mG(t)&&gG(t)}async function T3(t,e){const n=mn(t);n.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const r=fp(n);n.L_.add(3),await Sv(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Wx(n)}async function Nhe(t,e){const n=mn(t);e?(n.L_.delete(2),await Wx(n)):e||(n.L_.add(2),await Sv(n),n.q_.set("Unknown"))}function Cv(t){return t.K_||(t.K_=function(n,r,o){const i=mn(n);return i.w_(),new whe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:The.bind(null,t),Ro:Ihe.bind(null,t),mo:Phe.bind(null,t),d_:Rhe.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),NA(t)?AA(t):t.q_.set("Unknown")):(await t.K_.stop(),hG(t))})),t.K_}function nf(t){return t.U_||(t.U_=function(n,r,o){const i=mn(n);return i.w_(),new She(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$he.bind(null,t),mo:Ahe.bind(null,t),f_:Mhe.bind(null,t),g_:Ohe.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ux(t)):(await t.U_.stop(),t.O_.length>0&&(xt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new ic,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new jA(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function LA(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),bf(t))return new _t(ot.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ot.comparator(n.key,r.key):(n,r)=>Ot.comparator(n.key,r.key),this.keyedMap=s0(),this.sortedSet=new Zr(this.comparator)}static emptySet(e){return new Jm(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.W_=new Zr(Ot.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Zt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $g{constructor(e,n,r,o,i,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new $g(e,n,Jm.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&d2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jhe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Lhe{constructor(){this.queries=P3(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=mn(n),i=o.queries;o.queries=P3(),i.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new _t(ot.ABORTED,"Firestore shutting down"))}}function P3(){return new xf(t=>yK(t),d2)}async function FA(t,e){const n=mn(t);let r=3;const o=e.query;let i=n.queries.get(o);i?!i.H_()&&e.J_()&&(r=2):(i=new jhe,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(o,!0);break;case 1:i.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(s){const a=LA(s,`Initialization of query '${fm(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&BA(n)}async function zA(t,e){const n=mn(t),r=e.query;let o=3;const i=n.queries.get(r);if(i){const s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?o=e.J_()?0:1:!i.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fhe(t,e){const n=mn(t);let r=!1;for(const o of e){const i=o.query,s=n.queries.get(i);if(s){for(const a of s.j_)a.X_(o)&&(r=!0);s.z_=o}}r&&BA(n)}function zhe(t,e,n){const r=mn(t),o=r.queries.get(e);if(o)for(const i of o.j_)i.onError(n);r.queries.delete(e)}function BA(t){t.Y_.forEach(e=>{e.next()})}var GD,R3;(R3=GD||(GD={})).ea="default",R3.Cache="cache";class VA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new $g(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$g.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==GD.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e){this.key=e}}class yG{constructor(e){this.key=e}}class Bhe{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=In(),this.mutatedKeys=In(),this.Aa=bK(e),this.Ra=new Jm(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new I3,o=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((u,d)=>{const f=o.get(u),m=Bx(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;f&&m?f.data.isEqual(m.data)?g!==v&&(r.track({type:3,doc:m}),y=!0):this.ga(f,m)||(r.track({type:2,doc:m}),y=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),y=!0):f&&!m&&(r.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(m?(s=s.add(m),i=v?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,d)=>function(m,g){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zt()}};return v(m)-v(g)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),o=o!=null&&o;const a=n&&!o?this.ya():[],l=this.da.size===0&&this.current&&!o?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new $g(this.query,e.Ra,i,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new I3,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=In(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new yG(r))}),this.da.forEach(r=>{e.has(r)||n.push(new vG(r))}),n}ba(e){this.Ta=e.Ts,this.da=In();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $g.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Vhe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Hhe{constructor(e){this.key=e,this.va=!1}}class Whe{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new xf(a=>yK(a),d2),this.Ma=new Map,this.xa=new Set,this.Oa=new Zr(Ot.comparator),this.Na=new Map,this.La=new kA,this.Ba={},this.ka=new Map,this.qa=Vh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Uhe(t,e,n=!0){const r=_G(t);let o;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Da()):o=await bG(r,e,n,!0),o}async function qhe(t,e){const n=_G(t);await bG(n,e,!0,!1)}async function bG(t,e,n,r){const o=await phe(t.localStore,Oa(e)),i=o.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Khe(t,e,i,s==="current",o.resumeToken)),t.isPrimaryClient&&n&&dG(t.remoteStore,o),a}async function Khe(t,e,n,r,o){t.Ka=(d,f,m)=>async function(v,y,b,x){let w=y.view.ma(b);w.ns&&(w=await C3(v.localStore,y.query,!1).then(({documents:S})=>y.view.ma(S,w)));const C=x&&x.targetChanges.get(y.targetId),E=x&&x.targetMismatches.get(y.targetId)!=null,_=y.view.applyChanges(w,v.isPrimaryClient,C,E);return D3(v,y.targetId,_.wa),_.snapshot}(t,d,f,m);const i=await C3(t.localStore,e,!0),s=new Bhe(e,i.Ts),a=s.ma(i.documents),l=Hx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),c=s.applyChanges(a,t.isPrimaryClient,l);D3(t,n,c.wa);const u=new Vhe(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Ghe(t,e,n){const r=mn(t),o=r.Fa.get(e),i=r.Ma.get(o.targetId);if(i.length>1)return r.Ma.set(o.targetId,i.filter(s=>!d2(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await KD(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&MA(r.remoteStore,o.targetId),YD(r,o.targetId)}).catch(cp)):(YD(r,o.targetId),await KD(r.localStore,o.targetId,!0))}async function Yhe(t,e){const n=mn(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),MA(n.remoteStore,r.targetId))}async function Xhe(t,e,n){const r=EG(t);try{const o=await function(s,a){const l=mn(s),c=En.now(),u=a.reduce((m,g)=>m.add(g.key),In());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Xs(),v=In();return l.cs.getEntries(m,u).next(y=>{g=y,g.forEach((b,x)=>{x.isValidDocument()||(v=v.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(y=>{d=y;const b=[];for(const x of a){const w=pfe(x,d.get(x.key).overlayedDocument);w!=null&&b.push(new Iu(x.key,w,uK(w.value.mapValue),Qo.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,a)}).next(y=>{f=y;const b=y.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(m,y.batchId,b)})}).then(()=>({batchId:f.batchId,changes:wK(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new Zr(xn)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,o.batchId,n),await qx(r,o.changes),await Ux(r.remoteStore)}catch(o){const i=LA(o,"Failed to persist write");n.reject(i)}}async function xG(t,e){const n=mn(t);try{const r=await dhe(n.localStore,e);e.targetChanges.forEach((o,i)=>{const s=n.Na.get(i);s&&(rn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.va=!0:o.modifiedDocuments.size>0?rn(s.va):o.removedDocuments.size>0&&(rn(s.va),s.va=!1))}),await qx(n,r,e)}catch(r){await cp(r)}}function k3(t,e,n){const r=mn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach((i,s)=>{const a=s.view.Z_(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){const l=mn(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&BA(l)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Qhe(t,e,n){const r=mn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),i=o&&o.key;if(i){let s=new Zr(Ot.comparator);s=s.insert(i,So.newNoDocument(i,dn.min()));const a=In().add(i),l=new p2(dn.min(),new Map,new Zr(xn),s,a);await xG(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),HA(r)}else await KD(r.localStore,e,!1).then(()=>YD(r,e,n)).catch(cp)}async function Jhe(t,e){const n=mn(t),r=e.batch.batchId;try{const o=await uhe(n.localStore,e);SG(n,r,null),wG(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qx(n,o)}catch(o){await cp(o)}}async function Zhe(t,e,n){const r=mn(t);try{const o=await function(s,a){const l=mn(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(rn(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);SG(r,e,n),wG(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qx(r,o)}catch(o){await cp(o)}}function wG(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function SG(t,e,n){const r=mn(t);let o=r.Ba[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function YD(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||CG(t,r)})}function CG(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(MA(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),HA(t))}function D3(t,e,n){for(const r of n)r instanceof vG?(t.La.addReference(r.key,e),epe(t,r)):r instanceof yG?(xt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||CG(t,r.key)):Zt()}function epe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(xt("SyncEngine","New document in limbo: "+n),t.xa.add(r),HA(t))}function HA(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ot(sr.fromString(e)),r=t.qa.next();t.Na.set(r,new Hhe(n)),t.Oa=t.Oa.insert(n,r),dG(t.remoteStore,new Xc(Oa(zx(n.path)),r,"TargetPurposeLimboResolution",Da.oe))}}async function qx(t,e,n){const r=mn(t),o=[],i=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){o.push(c);const d=$A.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(s),r.Ca.d_(o),await async function(l,c){const u=mn(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ke.forEach(c,f=>Ke.forEach(f.$i,m=>u.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>Ke.forEach(f.Ui,m=>u.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!bf(d))throw d;xt("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=u.os.get(f),g=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(f,v)}}}(r.localStore,i))}async function tpe(t,e){const n=mn(t);if(!n.currentUser.isEqual(e)){xt("SyncEngine","User change. New user:",e.toKey());const r=await sG(n.localStore,e);n.currentUser=e,function(i,s){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new _t(ot.CANCELLED,s))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qx(n,r.hs)}}function npe(t,e){const n=mn(t),r=n.Na.get(e);if(r&&r.va)return In().add(r.key);{let o=In();const i=n.Ma.get(e);if(!i)return o;for(const s of i){const a=n.Fa.get(s);o=o.unionWith(a.view.Va)}return o}}function _G(t){const e=mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=npe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qhe.bind(null,e),e.Ca.d_=Fhe.bind(null,e.eventManager),e.Ca.$a=zhe.bind(null,e.eventManager),e}function EG(t){const e=mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jhe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zhe.bind(null,e),e}class Nb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return iG(this.persistence,new oG,e.initialUser,this.serializer)}Ga(e){return new rG(v2.Zr,this.serializer)}Wa(e){return new lG}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nb.provider={build:()=>new Nb};class rpe extends Nb{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await EG(this.Ja.syncEngine),await Ux(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return iG(this.persistence,new oG,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Ufe(r,e.asyncQueue,n)}Ha(e,n){const r=new xde(n,this.persistence);return new bde(e.asyncQueue,r)}Ga(e){const n=ahe(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new DA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xhe(),qS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new lG}}class y_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tpe.bind(null,this.syncEngine),await Nhe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lhe}()}createDatastore(e){const n=y2(e.databaseInfo.databaseId),r=function(i){return new bhe(i)}(e.databaseInfo);return function(i,s,a,l){return new Che(i,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,i,s,a){return new Ehe(r,o,i,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k3(this.syncEngine,n,0),function(){return E3.D()?new E3:new ghe}())}createSyncEngine(e,n){return function(o,i,s,a,l,c,u){const d=new Whe(o,i,s,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const i=mn(o);xt("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Sv(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}y_.provider={build:()=>new y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ope{constructor(e,n,r,o,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=bi.UNAUTHENTICATED,this.clientId=Xq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{xt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(xt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ic;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=LA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $P(t,e){t.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await sG(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TG(t);xt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>T3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>T3(e.remoteStore,o)),t._onlineComponents=e}async function TG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xt("FirestoreClient","Using user provided OfflineComponentProvider");try{await $P(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ot.FAILED_PRECONDITION||o.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ah("Error using user provided cache. Falling back to memory cache: "+n),await $P(t,new Nb)}}else xt("FirestoreClient","Using default OfflineComponentProvider"),await $P(t,new Nb);return t._offlineComponents}async function UA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xt("FirestoreClient","Using user provided OnlineComponentProvider"),await $3(t,t._uninitializedComponentsProvider._online)):(xt("FirestoreClient","Using default OnlineComponentProvider"),await $3(t,new y_))),t._onlineComponents}function IG(t){return TG(t).then(e=>e.persistence)}function PG(t){return UA(t).then(e=>e.remoteStore)}function ipe(t){return UA(t).then(e=>e.syncEngine)}async function b_(t){const e=await UA(t),n=e.eventManager;return n.onListen=Uhe.bind(null,e.syncEngine),n.onUnlisten=Ghe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qhe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Yhe.bind(null,e.syncEngine),n}function spe(t){return t.asyncQueue.enqueue(async()=>{const e=await IG(t),n=await PG(t);return e.setNetworkEnabled(!0),function(o){const i=mn(o);return i.L_.delete(0),Wx(i)}(n)})}function ape(t){return t.asyncQueue.enqueue(async()=>{const e=await IG(t),n=await PG(t);return e.setNetworkEnabled(!1),async function(o){const i=mn(o);i.L_.add(0),await Sv(i),i.q_.set("Offline")}(n)})}function lpe(t,e,n={}){const r=new ic;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,c){const u=new WA({next:f=>{u.Za(),s.enqueueAndForget(()=>zA(i,d));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new _t(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new _t(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new VA(zx(a.path),u,{includeMetadataChanges:!0,_a:!0});return FA(i,d)}(await b_(t),t.asyncQueue,e,n,r)),r.promise}function RG(t,e,n={}){const r=new ic;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,c){const u=new WA({next:f=>{u.Za(),s.enqueueAndForget(()=>zA(i,d)),f.fromCache&&l.source==="server"?c.reject(new _t(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new VA(a,u,{includeMetadataChanges:!0,_a:!0});return FA(i,d)}(await b_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kG(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DG(t,e,n){if(!n)throw new _t(ot.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cpe(t,e,n,r){if(e===!0&&r===!0)throw new _t(ot.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O3(t){if(!Ot.isDocumentKey(t))throw new _t(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A3(t){if(Ot.isDocumentKey(t))throw new _t(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Zt()}function Ho(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _t(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b2(t);throw new _t(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function upe(t,e){if(e<=0)throw new _t(ot.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _t(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _t(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cpe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kG((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x2{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N3({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _t(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N3(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ade;switch(r.type){case"firstParty":return new dde(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _t(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M3.get(n);r&&(xt("ComponentProvider","Removing Datastore"),M3.delete(n),r.terminate())}(this),Promise.resolve()}}function dpe(t,e,n,r={}){var o;const i=(t=Ho(t,x2))._getSettings(),s=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&Ah("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=bi.MOCK_USER;else{a=Aq(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new _t(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bi(c)}t._authCredentials=new lde(new Yq(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cl(this.firestore,e,this._query)}}class Wi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wi(this.firestore,e,this._key)}}class zd extends Cl{constructor(e,n,r){super(e,n,zx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wi(this.firestore,null,new Ot(e))}withConverter(e){return new zd(this.firestore,e,this._path)}}function Ht(t,e,...n){if(t=Cr(t),DG("collection","path",e),t instanceof x2){const r=sr.fromString(e,...n);return A3(r),new zd(t,null,r)}{if(!(t instanceof Wi||t instanceof zd))throw new _t(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sr.fromString(e,...n));return A3(r),new zd(t.firestore,null,r)}}function un(t,e,...n){if(t=Cr(t),arguments.length===1&&(e=Xq.newId()),DG("doc","path",e),t instanceof x2){const r=sr.fromString(e,...n);return O3(r),new Wi(t,null,new Ot(r))}{if(!(t instanceof Wi||t instanceof zd))throw new _t(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(sr.fromString(e,...n));return O3(r),new Wi(t.firestore,t instanceof zd?t.converter:null,new Ot(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cG(this,"async_queue_retry"),this.Vu=()=>{const r=qS();r&&xt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=qS();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=qS();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ic;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bf(e))throw e;xt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const o=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ji("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=jA.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(o),o}fu(){this.Eu&&Zt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function L3(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const i of r)if(i in o&&typeof o[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ms extends x2{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new j3,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j3(e),this._firestoreClient=void 0,await e}}}function fpe(t,e){const n=typeof t=="object"?t:s2(),r=typeof t=="string"?t:"(default)",o=i2(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const i=$q("firestore");i&&dpe(o,...i)}return o}function wf(t){if(t._terminated)throw new _t(ot.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$G(t),t._firestoreClient}function $G(t){var e,n,r;const o=t._freezeSettings(),i=function(a,l,c,u){return new Vde(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,kG(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new ope(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function hpe(t,e){Ah("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return ppe(t,y_.provider,{build:r=>new rpe(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function ppe(t,e,n){if((t=Ho(t,Ms))._firestoreClient||t._terminated)throw new _t(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new _t(ot.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},$G(t)}function mpe(t){return spe(wf(t=Ho(t,Ms)))}function gpe(t){return ape(wf(t=Ho(t,Ms)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mg(Uo.fromBase64String(e))}catch(n){throw new _t(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mg(Uo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _t(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ao(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _t(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _t(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vpe=/^__.*__$/;class ype{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Iu(e,this.data,this.fieldMask,n,this.fieldTransforms):new wv(e,this.data,n,this.fieldTransforms)}}class MG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Iu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zt()}}class GA{constructor(e,n,r,o,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new GA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return x_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(OG(this.Cu)&&vpe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bpe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||y2(e)}Qu(e,n,r,o=!1){return new GA({Cu:e,methodName:n,qu:r,path:ao.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _v(t){const e=t._freezeSettings(),n=y2(t._databaseId);return new bpe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YA(t,e,n,r,o,i={}){const s=t.Qu(i.merge||i.mergeFields?2:0,e,n,o);QA("Data must be an object, but it was:",s,r);const a=LG(r,s);let l,c;if(i.merge)l=new Es(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const f=XD(e,d,n);if(!s.contains(f))throw new _t(ot.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);zG(u,f)||u.push(f)}l=new Es(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new ype(new zi(a),l,c)}class S2 extends w2{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S2}}class XA extends w2{_toFieldTransform(e){return new PK(e.path,new Pg)}isEqual(e){return e instanceof XA}}function AG(t,e,n,r){const o=t.Qu(1,e,n);QA("Data must be an object, but it was:",o,r);const i=[],s=zi.empty();up(r,(l,c)=>{const u=JA(e,l,n);c=Cr(c);const d=o.Nu(u);if(c instanceof S2)i.push(u);else{const f=Gx(c,d);f!=null&&(i.push(u),s.set(u,f))}});const a=new Es(i);return new MG(s,a,o.fieldTransforms)}function NG(t,e,n,r,o,i){const s=t.Qu(1,e,n),a=[XD(e,r,n)],l=[o];if(i.length%2!=0)throw new _t(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(XD(e,i[f])),l.push(i[f+1]);const c=[],u=zi.empty();for(let f=a.length-1;f>=0;--f)if(!zG(c,a[f])){const m=a[f];let g=l[f];g=Cr(g);const v=s.Nu(m);if(g instanceof S2)c.push(m);else{const y=Gx(g,v);y!=null&&(c.push(m),u.set(m,y))}}const d=new Es(c);return new MG(u,d,s.fieldTransforms)}function jG(t,e,n,r=!1){return Gx(n,t.Qu(r?4:3,e))}function Gx(t,e){if(FG(t=Cr(t)))return QA("Unsupported field value:",e,t),LG(t,e);if(t instanceof w2)return function(r,o){if(!OG(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,o){const i=[];let s=0;for(const a of r){let l=Gx(a,o.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,o){if((r=Cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lfe(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=En.fromDate(r);return{timestampValue:Dg(o.serializer,i)}}if(r instanceof En){const i=new En(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dg(o.serializer,i)}}if(r instanceof qA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mg)return{bytesValue:AK(o.serializer,r._byteString)};if(r instanceof Wi){const i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:IA(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof KA)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return SA(a.serializer,l)})}}}}}}(r,o);throw o.Bu(`Unsupported field value: ${b2(r)}`)}(t,e)}function LG(t,e){const n={};return sK(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):up(t,(r,o)=>{const i=Gx(o,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FG(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof En||t instanceof qA||t instanceof Mg||t instanceof Wi||t instanceof w2||t instanceof KA)}function QA(t,e,n){if(!FG(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=b2(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function XD(t,e,n){if((e=Cr(e))instanceof Kx)return e._internalPath;if(typeof e=="string")return JA(t,e);throw x_("Field path arguments must be of type string or ",t,!1,void 0,n)}const xpe=new RegExp("[~\\*/\\[\\]]");function JA(t,e,n){if(e.search(xpe)>=0)throw x_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kx(...e.split("."))._internalPath}catch{throw x_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function x_(t,e,n,r,o){const i=r&&!r.isEmpty(),s=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new _t(ot.INVALID_ARGUMENT,a+t+l)}function zG(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wpe extends ZA{data(){return super.data()}}function C2(t,e){return typeof e=="string"?JA(t,e):e instanceof Kx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _t(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eN{}class _2 extends eN{}function wn(t,e,...n){let r=[];e instanceof eN&&r.push(e),r=r.concat(n),function(i){const s=i.filter(l=>l instanceof tN).length,a=i.filter(l=>l instanceof E2).length;if(s>1||s>0&&a>0)throw new _t(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class E2 extends _2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new E2(e,n,r)}_apply(e){const n=this._parse(e);return VG(e._query,n),new Cl(e.firestore,e.converter,FD(e._query,n))}_parse(e){const n=_v(e.firestore);return function(i,s,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new _t(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){z3(d,u);const m=[];for(const g of d)m.push(F3(l,i,g));f={arrayValue:{values:m}}}else f=F3(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||z3(d,u),f=jG(a,s,d,u==="in"||u==="not-in");return jn.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dr(t,e,n){const r=e,o=C2("where",t);return E2._create(o,r,n)}class tN extends eN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,i){let s=o;const a=i.getFlattenedFilters();for(const l of a)VG(s,l),s=FD(s,l)}(e._query,n),new Cl(e.firestore,e.converter,FD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class nN extends _2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new nN(e,n)}_apply(e){const n=function(o,i,s){if(o.startAt!==null)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ob(i,s)}(e._query,this._field,this._direction);return new Cl(e.firestore,e.converter,function(o,i){const s=o.explicitOrderBy.concat([i]);return new dp(o.path,o.collectionGroup,s,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function w_(t,e="asc"){const n=e,r=C2("orderBy",t);return nN._create(r,n)}class rN extends _2{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rN(e,n,r)}_apply(e){return new Cl(e.firestore,e.converter,d_(e._query,this._limit,this._limitType))}}function N0(t){return upe("limit",t),rN._create("limit",t,"F")}class oN extends _2{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new oN(e,n,r)}_apply(e){const n=Cpe(e,this.type,this._docOrFields,this._inclusive);return new Cl(e.firestore,e.converter,function(o,i){return new dp(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,i,o.endAt)}(e._query,n))}}function Spe(...t){return oN._create("startAfter",t,!1)}function Cpe(t,e,n,r){if(n[0]=Cr(n[0]),n[0]instanceof ZA)return function(i,s,a,l,c){if(!l)throw new _t(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Qm(i))if(d.field.isKeyField())u.push(Lh(s,l.key));else{const f=l.data.field(d.field);if(c2(f))throw new _t(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=d.field.canonicalString();throw new _t(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(f)}return new tf(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=_v(t.firestore);return function(s,a,l,c,u,d){const f=s.explicitOrderBy;if(u.length>f.length)throw new _t(ot.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let g=0;g<u.length;g++){const v=u[g];if(f[g].field.isKeyField()){if(typeof v!="string")throw new _t(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof v}`);if(!wA(s)&&v.indexOf("/")!==-1)throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${v}' contains a slash.`);const y=s.path.child(sr.fromString(v));if(!Ot.isDocumentKey(y))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const b=new Ot(y);m.push(Lh(a,b))}else{const y=jG(l,c,v);m.push(y)}}return new tf(m,d)}(t._query,t.firestore._databaseId,o,e,n,r)}}function F3(t,e,n){if(typeof(n=Cr(n))=="string"){if(n==="")throw new _t(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wA(e)&&n.indexOf("/")!==-1)throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(sr.fromString(n));if(!Ot.isDocumentKey(r))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lh(t,new Ot(r))}if(n instanceof Wi)return Lh(t,n._key);throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b2(n)}.`)}function z3(t,e){if(!Array.isArray(t)||t.length===0)throw new _t(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VG(t,e){const n=function(o,i){for(const s of o)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _t(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _t(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _pe{convertValue(e,n="none"){switch(jh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Zt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return up(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,o;const i=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(s=>Yr(s.doubleValue));return new KA(i)}convertGeoPoint(e){return new qA(Yr(e.latitude),Yr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Db(e));default:return null}}convertTimestamp(e){const n=xu(e);return new En(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=sr.fromString(e);rn(UK(r));const o=new Nh(r.get(1),r.get(3)),i=new Ot(r.popFirst(5));return o.isEqual(n)||Ji(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HG extends ZA{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new KS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class KS extends HG{data(e={}){return super.data(e)}}class sN{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new c0(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new KS(this._firestore,this._userDataWriter,r.key,r,new c0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>{const l=new KS(o._firestore,o._userDataWriter,a.doc.key,a.doc,new c0(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new KS(o._firestore,o._userDataWriter,a.doc.key,a.doc,new c0(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:Epe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Epe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){t=Ho(t,Wi);const e=Ho(t.firestore,Ms);return lpe(wf(e),t._key).then(n=>WG(e,t,n))}class T2 extends _pe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mg(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wi(this.firestore,null,n)}}function Jt(t){t=Ho(t,Cl);const e=Ho(t.firestore,Ms),n=wf(e),r=new T2(e);return BG(t._query),RG(n,t._query).then(o=>new sN(e,r,t,o))}function Tpe(t){t=Ho(t,Cl);const e=Ho(t.firestore,Ms),n=wf(e),r=new T2(e);return RG(n,t._query,{source:"server"}).then(o=>new sN(e,r,t,o))}function jb(t,e,n){t=Ho(t,Wi);const r=Ho(t.firestore,Ms),o=iN(t.converter,e,n);return Yx(r,[YA(_v(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Qo.none())])}function Yo(t,e,n,...r){t=Ho(t,Wi);const o=Ho(t.firestore,Ms),i=_v(o);let s;return s=typeof(e=Cr(e))=="string"||e instanceof Kx?NG(i,"updateDoc",t._key,e,n,r):AG(i,"updateDoc",t._key,e),Yx(o,[s.toMutation(t._key,Qo.exists(!0))])}function Go(t){return Yx(Ho(t.firestore,Ms),[new Vx(t._key,Qo.none())])}function os(t,e){const n=Ho(t.firestore,Ms),r=un(t),o=iN(t.converter,e);return Yx(n,[YA(_v(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,Qo.exists(!1))]).then(()=>r)}function B3(t,...e){var n,r,o;t=Cr(t);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||L3(e[s])||(i=e[s],s++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(L3(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(o=d.complete)===null||o===void 0?void 0:o.bind(d)}let l,c,u;if(t instanceof Wi)c=Ho(t.firestore,Ms),u=zx(t._key.path),l={next:d=>{e[s]&&e[s](WG(c,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Ho(t,Cl);c=Ho(d.firestore,Ms),u=d._query;const f=new T2(c);l={next:m=>{e[s]&&e[s](new sN(c,f,d,m))},error:e[s+1],complete:e[s+2]},BG(t._query)}return function(f,m,g,v){const y=new WA(v),b=new VA(m,y,g);return f.asyncQueue.enqueueAndForget(async()=>FA(await b_(f),b)),()=>{y.Za(),f.asyncQueue.enqueueAndForget(async()=>zA(await b_(f),b))}}(wf(c),u,a,l)}function Yx(t,e){return function(r,o){const i=new ic;return r.asyncQueue.enqueueAndForget(async()=>Xhe(await ipe(r),o,i)),i.promise}(wf(t),e)}function WG(t,e,n){const r=n.docs.get(e._key),o=new T2(t);return new HG(t,o,e._key,r,new c0(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ipe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_v(e)}set(e,n,r){this._verifyNotCommitted();const o=MP(e,this._firestore),i=iN(o.converter,n,r),s=YA(this._dataReader,"WriteBatch.set",o._key,i,o.converter!==null,r);return this._mutations.push(s.toMutation(o._key,Qo.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const i=MP(e,this._firestore);let s;return s=typeof(n=Cr(n))=="string"||n instanceof Kx?NG(this._dataReader,"WriteBatch.update",i._key,n,r,o):AG(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(s.toMutation(i._key,Qo.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=MP(e,this._firestore);return this._mutations=this._mutations.concat(new Vx(n._key,Qo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function MP(t,e){if((t=Cr(t)).firestore!==e)throw new _t(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function V3(){return new XA("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return wf(t=Ho(t,Ms)),new Ipe(t,e=>Yx(t,e))}(function(e,n=!0){(function(o){xv=o})(lp),Oh(new Qd("firestore",(r,{instanceIdentifier:o,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new Ms(new cde(r.getProvider("auth-internal")),new hde(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _t(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(c.options.projectId,u)}(s,o),s);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),oc($5,"4.7.3",e),oc($5,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG="firebasestorage.googleapis.com",qG="storageBucket",Ppe=2*60*1e3,Rpe=10*60*1e3,kpe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Ic{constructor(e,n,r=0){super(OP(e),`Firebase Storage: ${n} (${OP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,go.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return OP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qr||(qr={}));function OP(t){return"storage/"+t}function aN(){const t="An unknown error occurred, please check the error payload for server response.";return new go(qr.UNKNOWN,t)}function Dpe(t){return new go(qr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $pe(t){return new go(qr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mpe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new go(qr.UNAUTHENTICATED,t)}function Ope(){return new go(qr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ape(t){return new go(qr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KG(){return new go(qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GG(){return new go(qr.CANCELED,"User canceled the upload/download.")}function Npe(t){return new go(qr.INVALID_URL,"Invalid URL '"+t+"'.")}function jpe(t){return new go(qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Lpe(){return new go(qr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qG+"' property when initializing the app?")}function YG(){return new go(qr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fpe(){return new go(qr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function zpe(){return new go(qr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bpe(t){return new go(qr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function QD(t){return new go(qr.INVALID_ARGUMENT,t)}function XG(){return new go(qr.APP_DELETED,"The Firebase app was deleted.")}function Vpe(t){return new go(qr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function j0(t,e){return new go(qr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function my(t){throw new go(qr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qs.makeFromUrl(e,n)}catch{return new Qs(e,"")}if(r.path==="")return r;throw jpe(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+o+s,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${u}/b/${o}/o${f}`,"i"),g={bucket:1,path:3},v=n===UG?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${v}/${o}/${y}`,"i"),w=[{regex:a,indices:l,postModify:i},{regex:m,indices:g,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const E=w[C],_=E.regex.exec(e);if(_){const S=_[E.indices.bucket];let T=_[E.indices.path];T||(T=""),r=new Qs(S,T),E.postModify(r);break}}if(r==null)throw Npe(e);return r}}class Hpe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wpe(t,e,n){let r=1,o=null,i=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){o=setTimeout(()=>{o=null,t(m,l())},y)}function f(){i&&clearTimeout(i)}function m(y,...b){if(c){f();return}if(y){f(),u.call(null,y,...b);return}if(l()||s){f(),u.call(null,y,...b);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function v(y){g||(g=!0,f(),!c&&(o!==null?(y||(a=2),clearTimeout(o),d(0)):y||(a=1)))}return d(0),i=setTimeout(()=>{s=!0,v(!0)},n),v}function Upe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qpe(t){return t!==void 0}function Kpe(t){return typeof t=="function"}function Gpe(t){return typeof t=="object"&&!Array.isArray(t)}function I2(t){return typeof t=="string"||t instanceof String}function H3(t){return lN()&&t instanceof Blob}function lN(){return typeof Blob<"u"}function W3(t,e,n,r){if(r<e)throw QD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QD(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function QG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var vh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vh||(vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||o||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ype{constructor(e,n,r,o,i,s,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new w1(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const a=i.getErrorCode()===vh.NO_ERROR,l=i.getStatus();if(!a||JG(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===vh.ABORT;r(!1,new w1(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new w1(c,i))})},n=(r,o)=>{const i=this.resolve_,s=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());qpe(l)?i(l):i()}catch(l){s(l)}else if(a!==null){const l=aN();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(o.canceled){const l=this.appDelete_?XG():GG();s(l)}else{const l=KG();s(l)}};this.canceled_?n(!1,new w1(!1,null,!0)):this.backoffId_=Wpe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Upe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class w1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Xpe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Qpe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jpe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Zpe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eme(t,e,n,r,o,i,s=!0){const a=QG(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Jpe(c,e),Xpe(c,n),Qpe(c,i),Zpe(c,r),new Ype(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tme(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nme(...t){const e=tme();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(lN())return new Blob(t);throw new go(qr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rme(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ome(t){if(typeof atob>"u")throw Bpe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class AP{constructor(e,n){this.data=e,this.contentType=n||null}}function ime(t,e){switch(t){case ec.RAW:return new AP(ZG(e));case ec.BASE64:case ec.BASE64URL:return new AP(eY(t,e));case ec.DATA_URL:return new AP(ame(e),lme(e))}throw aN()}function ZG(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,s=t.charCodeAt(++n);r=65536|(i&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sme(t){let e;try{e=decodeURIComponent(t)}catch{throw j0(ec.DATA_URL,"Malformed data URL.")}return ZG(e)}function eY(t,e){switch(t){case ec.BASE64:{const o=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(o||i)throw j0(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ec.BASE64URL:{const o=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(o||i)throw j0(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ome(e)}catch(o){throw o.message.includes("polyfill")?o:j0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class tY{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw j0(ec.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cme(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ame(t){const e=new tY(t);return e.base64?eY(ec.BASE64,e.rest):sme(e.rest)}function lme(t){return new tY(t).contentType}function cme(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){let r=0,o="";H3(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(H3(this.data_)){const r=this.data_,o=rme(r,e,n);return o===null?null:new Uc(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Uc(r,!0)}}static getBlob(...e){if(lN()){const n=e.map(r=>r instanceof Uc?r.data_:r);return new Uc(nme.apply(null,n))}else{const n=e.map(s=>I2(s)?ime(ec.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const o=new Uint8Array(r);let i=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)o[i++]=s[a]}),new Uc(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t){let e;try{e=JSON.parse(t)}catch{return null}return Gpe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ume(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dme(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fme(t,e){return e}class Yi{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||fme}}let S1=null;function hme(t){return!I2(t)||t.length<2?t:rY(t)}function cN(){if(S1)return S1;const t=[];t.push(new Yi("bucket")),t.push(new Yi("generation")),t.push(new Yi("metageneration")),t.push(new Yi("name","fullPath",!0));function e(i,s){return hme(s)}const n=new Yi("name");n.xform=e,t.push(n);function r(i,s){return s!==void 0?Number(s):s}const o=new Yi("size");return o.xform=r,t.push(o),t.push(new Yi("timeCreated")),t.push(new Yi("updated")),t.push(new Yi("md5Hash",null,!0)),t.push(new Yi("cacheControl",null,!0)),t.push(new Yi("contentDisposition",null,!0)),t.push(new Yi("contentEncoding",null,!0)),t.push(new Yi("contentLanguage",null,!0)),t.push(new Yi("contentType",null,!0)),t.push(new Yi("metadata","customMetadata",!0)),S1=t,S1}function pme(t,e){function n(){const r=t.bucket,o=t.fullPath,i=new Qs(r,o);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function mme(t,e,n){const r={};r.type="file";const o=n.length;for(let i=0;i<o;i++){const s=n[i];r[s.local]=s.xform(r,e[s.server])}return pme(r,t),r}function oY(t,e,n){const r=nY(e);return r===null?null:mme(t,r,n)}function gme(t,e,n,r){const o=nY(e);if(o===null||!I2(o.downloadTokens))return null;const i=o.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+s(u)+"/o/"+s(d),m=Ev(f,n,r),g=QG({alt:"media",token:c});return m+g})[0]}function iY(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class hp{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){if(!t)throw aN()}function uN(t,e){function n(r,o){const i=oY(t,o,e);return iu(i!==null),i}return n}function vme(t,e){function n(r,o){const i=oY(t,o,e);return iu(i!==null),gme(i,o,t.host,t._protocol)}return n}function Xx(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=Ope():o=Mpe():n.getStatus()===402?o=$pe(t.bucket):n.getStatus()===403?o=Ape(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function dN(t){const e=Xx(t);function n(r,o){let i=e(r,o);return r.getStatus()===404&&(i=Dpe(t.path)),i.serverResponse=o.serverResponse,i}return n}function yme(t,e,n){const r=e.fullServerUrl(),o=Ev(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new hp(o,i,uN(t,n),s);return a.errorHandler=dN(e),a}function bme(t,e,n){const r=e.fullServerUrl(),o=Ev(r,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,a=new hp(o,i,vme(t,n),s);return a.errorHandler=dN(e),a}function xme(t,e){const n=e.fullServerUrl(),r=Ev(n,t.host,t._protocol),o="DELETE",i=t.maxOperationRetryTime;function s(l,c){}const a=new hp(r,o,s,i);return a.successCodes=[200,204],a.errorHandler=dN(e),a}function wme(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=wme(null,e)),r}function aY(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=sY(e,r,o),u=iY(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Uc.getBlob(d,r,f);if(m===null)throw YG();const g={name:c.fullPath},v=Ev(i,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,x=new hp(v,y,uN(t,n),b);return x.urlParams=g,x.headers=s,x.body=m.uploadData(),x.errorHandler=Xx(e),x}class S_{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function fN(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{iu(!1)}return iu(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Sme(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),s=sY(e,r,o),a={name:s.fullPath},l=Ev(i,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=iY(s,n),f=t.maxUploadRetryTime;function m(v){fN(v);let y;try{y=v.getResponseHeader("X-Goog-Upload-URL")}catch{iu(!1)}return iu(I2(y)),y}const g=new hp(l,c,m,f);return g.urlParams=a,g.headers=u,g.body=d,g.errorHandler=Xx(e),g}function Cme(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function i(c){const u=fN(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{iu(!1)}d||iu(!1);const f=Number(d);return iu(!isNaN(f)),new S_(f,r.size(),u==="final")}const s="POST",a=t.maxUploadRetryTime,l=new hp(n,s,i,a);return l.headers=o,l.errorHandler=Xx(e),l}const U3=256*1024;function _me(t,e,n,r,o,i,s,a){const l=new S_(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Fpe();const c=l.total-l.current;let u=c;o>0&&(u=Math.min(u,o));const d=l.current,f=d+u;let m="";u===0?m="finalize":c===u?m="upload, finalize":m="upload";const g={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,f);if(v===null)throw YG();function y(C,E){const _=fN(C,["active","final"]),S=l.current+u,T=r.size();let I;return _==="final"?I=uN(e,i)(C,E):I=null,new S_(S,T,_==="final",I)}const b="POST",x=e.maxUploadRetryTime,w=new hp(n,b,y,x);return w.headers=g,w.body=v.uploadData(),w.progressCallback=a||null,w.errorHandler=Xx(t),w}const xs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function NP(t){switch(t){case"running":case"pausing":case"canceling":return xs.RUNNING;case"paused":return xs.PAUSED;case"success":return xs.SUCCESS;case"canceled":return xs.CANCELED;case"error":return xs.ERROR;default:return xs.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eme{constructor(e,n,r){if(Kpe(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Tme{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o){if(this.sent_)throw my("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw my("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw my("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw my("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw my("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ime extends Tme{initXhr(){this.xhr_.responseType="text"}}function dd(){return new Ime}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=cN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(qr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(JG(o.status,[]))if(i)o=KG();else{this.sleepTime=Math.max(this.sleepTime*2,kpe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(qr.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,i)=>{this._resolve=o,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Sme(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,dd,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=Cme(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(o,dd,n,r);this._request=i,i.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=U3*this._chunkMultiplier,n=new S_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,i)=>{let s;try{s=_me(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,dd,o,i,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){U3*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=yme(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,dd,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=aY(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,dd,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=GG(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=NP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const i=new Eme(n||void 0,r||void 0,o||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(NP(this._state)){case xs.SUCCESS:Ap(this._resolve.bind(null,this.snapshot))();break;case xs.CANCELED:case xs.ERROR:const n=this._reject;Ap(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(NP(this._state)){case xs.RUNNING:case xs.PAUSED:e.next&&Ap(e.next.bind(e,this.snapshot))();break;case xs.SUCCESS:e.complete&&Ap(e.complete.bind(e))();break;case xs.CANCELED:case xs.ERROR:e.error&&Ap(e.error.bind(e,this._error))();break;default:e.error&&Ap(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this._service=e,n instanceof Qs?this._location=n:this._location=Qs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hh(e,n)}get root(){const e=new Qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rY(this._location.path)}get storage(){return this._service}get parent(){const e=ume(this._location.path);if(e===null)return null;const n=new Qs(this._location.bucket,e);return new Hh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vpe(e)}}function Rme(t,e,n){t._throwIfRoot("uploadBytes");const r=aY(t.storage,t._location,cN(),new Uc(e,!0),n);return t.storage.makeRequestWithTokens(r,dd).then(o=>({metadata:o,ref:t}))}function kme(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Pme(t,new Uc(e),n)}function Dme(t){t._throwIfRoot("getDownloadURL");const e=bme(t.storage,t._location,cN());return t.storage.makeRequestWithTokens(e,dd).then(n=>{if(n===null)throw zpe();return n})}function $me(t){t._throwIfRoot("deleteObject");const e=xme(t.storage,t._location);return t.storage.makeRequestWithTokens(e,dd)}function Mme(t,e){const n=dme(t._location.path,e),r=new Qs(t._location.bucket,n);return new Hh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ome(t){return/^[A-Za-z]+:\/\//.test(t)}function Ame(t,e){return new Hh(t,e)}function lY(t,e){if(t instanceof hN){const n=t;if(n._bucket==null)throw Lpe();const r=new Hh(n,n._bucket);return e!=null?lY(r,e):r}else return e!==void 0?Mme(t,e):t}function Nme(t,e){if(e&&Ome(e)){if(t instanceof hN)return Ame(t,e);throw QD("To use ref(service, url), the first argument must be a Storage instance.")}else return lY(t,e)}function q3(t,e){const n=e==null?void 0:e[qG];return n==null?null:Qs.makeFromBucketSpec(n,t)}function jme(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Aq(o,t.app.options.projectId))}class hN{constructor(e,n,r,o,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=UG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ppe,this._maxUploadRetryTime=Rpe,this._requests=new Set,o!=null?this._bucket=Qs.makeFromBucketSpec(o,this._host):this._bucket=q3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qs.makeFromBucketSpec(this._url,e):this._bucket=q3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hh(this,e)}_makeRequest(e,n,r,o,i=!0){if(this._deleted)return new Hpe(XG());{const s=eme(e,this._appId,r,o,n,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const K3="@firebase/storage",G3="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY="storage";function Lme(t,e,n){return t=Cr(t),Rme(t,e,n)}function Fme(t,e,n){return t=Cr(t),kme(t,e,n)}function uY(t){return t=Cr(t),Dme(t)}function zme(t){return t=Cr(t),$me(t)}function JD(t,e){return t=Cr(t),Nme(t,e)}function dY(t=s2(),e){t=Cr(t);const r=i2(t,cY).getImmediate({identifier:e}),o=$q("storage");return o&&Bme(r,...o),r}function Bme(t,e,n,r={}){jme(t,e,n,r)}function Vme(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new hN(n,r,o,e,lp)}function Hme(){Oh(new Qd(cY,Vme,"PUBLIC").setMultipleInstances(!0)),oc(K3,G3,""),oc(K3,G3,"esm2017")}Hme();function pN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function fY(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wme=fY,hY=new jx("auth","Firebase",fY());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new hA("@firebase/auth");function Ume(t,...e){C_.logLevel<=Nn.WARN&&C_.warn(`Auth (${lp}): ${t}`,...e)}function GS(t,...e){C_.logLevel<=Nn.ERROR&&C_.error(`Auth (${lp}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,...e){throw mN(t,...e)}function sc(t,...e){return mN(t,...e)}function pY(t,e,n){const r=Object.assign(Object.assign({},Wme()),{[e]:n});return new jx("auth","Firebase",r).create(e,{appName:t.name})}function su(t){return pY(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hY.create(t,...e)}function fn(t,e,...n){if(!t)throw mN(e,...n)}function Qc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw GS(e),new Error(e)}function wu(t,e){t||Qc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qme(){return Y3()==="http:"||Y3()==="https:"}function Y3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kme(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qme()||Fce()||"connection"in navigator)?navigator.onLine:!0}function Gme(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.shortDelay=e,this.longDelay=n,wu(n>e,"Short delay should be less than long delay!"),this.isMobile=Nce()||zce()}get(){return Kme()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){wu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xme=new Qx(3e4,6e4);function Pu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ru(t,e,n,r,o={}){return gY(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=Lx(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return Lce()||(c.referrerPolicy="no-referrer"),mY.fetch()(vY(t,t.config.apiHost,n,a),c)})}async function gY(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yme),e);try{const o=new Jme(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw C1(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw C1(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw C1(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw C1(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw pY(t,u,c);ml(t,u)}}catch(o){if(o instanceof Ic)throw o;ml(t,"network-request-failed",{message:String(o)})}}async function Jx(t,e,n,r,o={}){const i=await Ru(t,e,n,r,o);return"mfaPendingCredential"in i&&ml(t,"multi-factor-auth-required",{_serverResponse:i}),i}function vY(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?gN(t.config,o):`${t.config.apiScheme}://${o}`}function Qme(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jme{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sc(this.auth,"network-request-failed")),Xme.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function C1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=sc(t,e,r);return o.customData._tokenResponse=n,o}function X3(t){return t!==void 0&&t.enterprise!==void 0}class Zme{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Qme(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function ege(t,e){return Ru(t,"GET","/v2/recaptchaConfig",Pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tge(t,e){return Ru(t,"POST","/v1/accounts:delete",e)}async function yY(t,e){return Ru(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nge(t,e=!1){const n=Cr(t),r=await n.getIdToken(e),o=vN(r);fn(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:L0(jP(o.auth_time)),issuedAtTime:L0(jP(o.iat)),expirationTime:L0(jP(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jP(t){return Number(t)*1e3}function vN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return GS("JWT malformed, contained fewer than 3 sections"),null;try{const o=kq(n);return o?JSON.parse(o):(GS("Failed to decode base64 JWT payload"),null)}catch(o){return GS("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Q3(t){const e=vN(t);return fn(e,"internal-error"),fn(typeof e.exp<"u","internal-error"),fn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ic&&rge(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rge({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oge{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=L0(this.lastLoginAt),this.creationTime=L0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Lb(t,yY(n,{idToken:r}));fn(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bY(i.providerUserInfo):[],a=sge(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new e$(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function ige(t){const e=Cr(t);await __(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sge(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function bY(t){return t.map(e=>{var{providerId:n}=e,r=pN(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function age(t,e){const n=await gY(t,{},async()=>{const r=Lx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=vY(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mY.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lge(t,e){return Ru(t,"POST","/v2/accounts:revokeToken",Pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fn(e.idToken,"internal-error"),fn(typeof e.idToken<"u","internal-error"),fn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fn(e.length!==0,"internal-error");const n=Q3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await age(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new Zm;return r&&(fn(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(fn(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(fn(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zm,this.toJSON())}_performRefresh(){return Qc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e){fn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jc{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=pN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oge(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new e$(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Lb(this,this.stsTokenManager.getToken(this.auth,e));return fn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nge(this,e)}reload(){return ige(this)}_assign(e){this!==e&&(fn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await __(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ql(this.auth.app))return Promise.reject(su(this.auth));const e=await this.getIdToken();return await Lb(this,tge(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(o=n.email)!==null&&o!==void 0?o:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:C,isAnonymous:E,providerData:_,stsTokenManager:S}=n;fn(w&&S,e,"internal-error");const T=Zm.fromJSON(this.name,S);fn(typeof w=="string",e,"internal-error"),Vu(d,e.name),Vu(f,e.name),fn(typeof C=="boolean",e,"internal-error"),fn(typeof E=="boolean",e,"internal-error"),Vu(m,e.name),Vu(g,e.name),Vu(v,e.name),Vu(y,e.name),Vu(b,e.name),Vu(x,e.name);const I=new Jc({uid:w,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:m,tenantId:v,stsTokenManager:T,createdAt:b,lastLoginAt:x});return _&&Array.isArray(_)&&(I.providerData=_.map(P=>Object.assign({},P))),y&&(I._redirectEventId=y),I}static async _fromIdTokenResponse(e,n,r=!1){const o=new Zm;o.updateFromServerResponse(n);const i=new Jc({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await __(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];fn(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?bY(o.providerUserInfo):[],s=!(o.email&&o.passwordHash)&&!(i!=null&&i.length),a=new Zm;a.updateFromIdToken(r);const l=new Jc({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new e$(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new Map;function Zc(t){wu(t instanceof Function,"Expected a class definition");let e=J3.get(t);return e?(wu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xY.type="NONE";const Z3=xY;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e,n){return`firebase:${t}:${e}:${n}`}class eg{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=YS(this.userKey,o.apiKey,i),this.fullPersistenceKey=YS("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eg(Zc(Z3),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||Zc(Z3);const s=YS(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Jc._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new eg(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new eg(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_Y(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wY(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TY(e))return"Blackberry";if(IY(e))return"Webos";if(SY(e))return"Safari";if((e.includes("chrome/")||CY(e))&&!e.includes("edge/"))return"Chrome";if(EY(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wY(t=Zo()){return/firefox\//i.test(t)}function SY(t=Zo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CY(t=Zo()){return/crios\//i.test(t)}function _Y(t=Zo()){return/iemobile/i.test(t)}function EY(t=Zo()){return/android/i.test(t)}function TY(t=Zo()){return/blackberry/i.test(t)}function IY(t=Zo()){return/webos/i.test(t)}function yN(t=Zo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cge(t=Zo()){var e;return yN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uge(){return Bce()&&document.documentMode===10}function PY(t=Zo()){return yN(t)||EY(t)||IY(t)||TY(t)||/windows phone/i.test(t)||_Y(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RY(t,e=[]){let n;switch(t){case"Browser":n=ez(Zo());break;case"Worker":n=`${ez(Zo())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fge(t,e={}){return Ru(t,"GET","/v2/passwordPolicy",Pu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hge=6;class pge{constructor(e){var n,r,o,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:hge,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mge{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tz(this),this.idTokenSubscription=new tz(this),this.beforeStateQueue=new dge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zc(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await eg.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yY(this,{idToken:e}),r=await Jc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ql(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return fn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await __(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gme()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ql(this.app))return Promise.reject(su(this));const n=e?Cr(e):null;return n&&fn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ql(this.app)?Promise.reject(su(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ql(this.app)?Promise.reject(su(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fge(this),n=new pge(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lge(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zc(e)||this._popupRedirectResolver;fn(n,this,"argument-error"),this.redirectPersistenceManager=await eg.create(this,[Zc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fn(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RY(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ume(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Sf(t){return Cr(t)}class tz{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kce(n=>this.observer=n)}get next(){return fn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gge(t){P2=t}function kY(t){return P2.loadJS(t)}function vge(){return P2.recaptchaEnterpriseScript}function yge(){return P2.gapiScript}function bge(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const xge="recaptcha-enterprise",wge="NO_RECAPTCHA";class Sge{constructor(e){this.type=xge,this.auth=Sf(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{ege(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Zme(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function o(i,s,a){const l=window.grecaptcha;X3(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(wge)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&X3(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vge();l.length!==0&&(l+=a),kY(l).then(()=>{o(a,i,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function nz(t,e,n,r=!1){const o=new Sge(t);let i;try{i=await o.verify(n)}catch{i=await o.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function E_(t,e,n,r){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await nz(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await nz(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cge(t,e){const n=i2(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(a_(i,e??{}))return o;ml(o,"already-initialized")}return n.initialize({options:e})}function _ge(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ege(t,e,n){const r=Sf(t);fn(r._canInitEmulator,r,"emulator-config-failed"),fn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,i=DY(e),{host:s,port:a}=Tge(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),Ige()}function DY(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tge(t){const e=DY(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:rz(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:rz(s)}}}function rz(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ige(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qc("not implemented")}_getIdTokenResponse(e){return Qc("not implemented")}_linkToIdToken(e,n){return Qc("not implemented")}_getReauthenticationResolver(e){return Qc("not implemented")}}async function Pge(t,e){return Ru(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rge(t,e){return Jx(t,"POST","/v1/accounts:signInWithPassword",Pu(t,e))}async function kge(t,e){return Ru(t,"POST","/v1/accounts:sendOobCode",Pu(t,e))}async function Dge(t,e){return kge(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ge(t,e){return Jx(t,"POST","/v1/accounts:signInWithEmailLink",Pu(t,e))}async function Mge(t,e){return Jx(t,"POST","/v1/accounts:signInWithEmailLink",Pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb extends bN{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Fb(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fb(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,n,"signInWithPassword",Rge);case"emailLink":return $ge(e,{email:this._email,oobCode:this._password});default:ml(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,r,"signUpPassword",Pge);case"emailLink":return Mge(e,{idToken:n,email:this._email,oobCode:this._password});default:ml(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tg(t,e){return Jx(t,"POST","/v1/accounts:signInWithIdp",Pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oge="http://localhost";class Wh extends bN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ml("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=pN(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Wh(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return tg(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tg(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tg(e,n)}buildRequest(){const e={requestUri:Oge,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Age(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nge(t){const e=r0(o0(t)).link,n=e?r0(o0(e)).deep_link_id:null,r=r0(o0(t)).deep_link_id;return(r?r0(o0(r)).link:null)||r||n||e||t}class xN{constructor(e){var n,r,o,i,s,a;const l=r0(o0(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Age((o=l.mode)!==null&&o!==void 0?o:null);fn(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Nge(e);try{return new xN(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.providerId=Tv.PROVIDER_ID}static credential(e,n){return Fb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xN.parseLink(n);return fn(r,"argument-error"),Fb._fromEmailAndCode(e,r.code,r.tenantId)}}Tv.PROVIDER_ID="password";Tv.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends $Y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Zx{constructor(){super("facebook.com")}static credential(e){return Wh._fromParams({providerId:fd.PROVIDER_ID,signInMethod:fd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fd.credentialFromTaggedObject(e)}static credentialFromError(e){return fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fd.credential(e.oauthAccessToken)}catch{return null}}}fd.FACEBOOK_SIGN_IN_METHOD="facebook.com";fd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Zx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wh._fromParams({providerId:hd.PROVIDER_ID,signInMethod:hd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hd.credentialFromTaggedObject(e)}static credentialFromError(e){return hd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hd.credential(n,r)}catch{return null}}}hd.GOOGLE_SIGN_IN_METHOD="google.com";hd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends Zx{constructor(){super("github.com")}static credential(e){return Wh._fromParams({providerId:pd.PROVIDER_ID,signInMethod:pd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pd.credentialFromTaggedObject(e)}static credentialFromError(e){return pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pd.credential(e.oauthAccessToken)}catch{return null}}}pd.GITHUB_SIGN_IN_METHOD="github.com";pd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends Zx{constructor(){super("twitter.com")}static credential(e,n){return Wh._fromParams({providerId:md.PROVIDER_ID,signInMethod:md.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return md.credentialFromTaggedObject(e)}static credentialFromError(e){return md.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return md.credential(n,r)}catch{return null}}}md.TWITTER_SIGN_IN_METHOD="twitter.com";md.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jge(t,e){return Jx(t,"POST","/v1/accounts:signUp",Pu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await Jc._fromIdTokenResponse(e,r,o),s=oz(r);return new Uh({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=oz(r);return new Uh({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function oz(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends Ic{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,T_.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new T_(e,n,r,o)}}function MY(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?T_._fromErrorAndOperation(t,i,e,r):i})}async function Lge(t,e,n=!1){const r=await Lb(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fge(t,e,n=!1){const{auth:r}=t;if(Ql(r.app))return Promise.reject(su(r));const o="reauthenticate";try{const i=await Lb(t,MY(r,o,e,t),n);fn(i.idToken,r,"internal-error");const s=vN(i.idToken);fn(s,r,"internal-error");const{sub:a}=s;return fn(t.uid===a,r,"user-mismatch"),Uh._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ml(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OY(t,e,n=!1){if(Ql(t.app))return Promise.reject(su(t));const r="signIn",o=await MY(t,r,e),i=await Uh._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}async function zge(t,e){return OY(Sf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bge(t,e,n){var r;fn(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),fn(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(fn(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(fn(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY(t){const e=Sf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R2(t,e,n){const r=Sf(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Bge(r,o,n),await E_(r,o,"getOobCode",Dge)}async function Vge(t,e,n){if(Ql(t.app))return Promise.reject(su(t));const r=Sf(t),s=await E_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jge).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AY(t),l}),a=await Uh._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Hge(t,e,n){return Ql(t.app)?Promise.reject(su(t)):zge(Cr(t),Tv.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AY(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wge(t,e){return Cr(t).setPersistence(e)}function Uge(t,e,n,r){return Cr(t).onIdTokenChanged(e,n,r)}function qge(t,e,n){return Cr(t).beforeAuthStateChanged(e,n)}function Kge(t,e,n,r){return Cr(t).onAuthStateChanged(e,n,r)}function Gge(t){return Cr(t).signOut()}const I_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(I_,"1"),this.storage.removeItem(I_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yge=1e3,Xge=10;class jY extends NY{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PY(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);uge()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Xge):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yge)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jY.type="LOCAL";const Qge=jY;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY extends NY{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LY.type="SESSION";const wN=LY;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jge(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new k2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await Jge(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}k2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zge{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=SN("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(){return window}function eve(t){ac().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(){return typeof ac().WorkerGlobalScope<"u"&&typeof ac().importScripts=="function"}async function tve(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nve(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rve(){return FY()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY="firebaseLocalStorageDb",ove=1,P_="firebaseLocalStorage",BY="fbase_key";class ew{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function D2(t,e){return t.transaction([P_],e?"readwrite":"readonly").objectStore(P_)}function ive(){const t=indexedDB.deleteDatabase(zY);return new ew(t).toPromise()}function t$(){const t=indexedDB.open(zY,ove);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(P_,{keyPath:BY})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(P_)?e(r):(r.close(),await ive(),e(await t$()))})})}async function iz(t,e,n){const r=D2(t,!0).put({[BY]:e,value:n});return new ew(r).toPromise()}async function sve(t,e){const n=D2(t,!1).get(e),r=await new ew(n).toPromise();return r===void 0?null:r.value}function sz(t,e){const n=D2(t,!0).delete(e);return new ew(n).toPromise()}const ave=800,lve=3;class VY{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t$(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lve)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FY()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=k2._getInstance(rve()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tve(),!this.activeServiceWorker)return;this.sender=new Zge(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nve()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t$();return await iz(e,I_,"1"),await sz(e,I_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iz(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sve(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sz(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=D2(o,!1).getAll();return new ew(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ave)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VY.type="LOCAL";const cve=VY;new Qx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uve(t,e){return e?Zc(e):(fn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends bN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tg(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dve(t){return OY(t.auth,new CN(t),t.bypassAuthState)}function fve(t){const{auth:e,user:n}=t;return fn(n,e,"internal-error"),Fge(n,new CN(t),t.bypassAuthState)}async function hve(t){const{auth:e,user:n}=t;return fn(n,e,"internal-error"),Lge(n,new CN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dve;case"linkViaPopup":case"linkViaRedirect":return hve;case"reauthViaPopup":case"reauthViaRedirect":return fve;default:ml(this.auth,"internal-error")}}resolve(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pve=new Qx(2e3,1e4);class $m extends HY{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,$m.currentPopupAction&&$m.currentPopupAction.cancel(),$m.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fn(e,this.auth,"internal-error"),e}async onExecution(){wu(this.filter.length===1,"Popup operations only handle one event");const e=SN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$m.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pve.get())};e()}}$m.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mve="pendingRedirect",XS=new Map;class gve extends HY{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=XS.get(this.auth._key());if(!e){try{const r=await vve(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}XS.set(this.auth._key(),e)}return this.bypassAuthState||XS.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vve(t,e){const n=xve(e),r=bve(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function yve(t,e){XS.set(t._key(),e)}function bve(t){return Zc(t._redirectPersistence)}function xve(t){return YS(mve,t.config.apiKey,t.name)}async function wve(t,e,n=!1){if(Ql(t.app))return Promise.reject(su(t));const r=Sf(t),o=uve(r,e),s=await new gve(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sve=10*60*1e3;class Cve{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_ve(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WY(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sc(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sve&&this.cachedEventUids.clear(),this.cachedEventUids.has(az(e))}saveEventToCache(e){this.cachedEventUids.add(az(e)),this.lastProcessedEventTime=Date.now()}}function az(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WY({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _ve(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WY(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eve(t,e={}){return Ru(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tve=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ive=/^https?/;async function Pve(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Eve(t);for(const n of e)try{if(Rve(n))return}catch{}ml(t,"unauthorized-domain")}function Rve(t){const e=ZD(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Ive.test(n))return!1;if(Tve.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kve=new Qx(3e4,6e4);function lz(){const t=ac().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dve(t){return new Promise((e,n)=>{var r,o,i;function s(){lz(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lz(),n(sc(t,"network-request-failed"))},timeout:kve.get()})}if(!((o=(r=ac().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=ac().gapi)===null||i===void 0)&&i.load)s();else{const a=bge("iframefcb");return ac()[a]=()=>{gapi.load?s():n(sc(t,"network-request-failed"))},kY(`${yge()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw QS=null,e})}let QS=null;function $ve(t){return QS=QS||Dve(t),QS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mve=new Qx(5e3,15e3),Ove="__/auth/iframe",Ave="emulator/auth/iframe",Nve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lve(t){const e=t.config;fn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gN(e,Ave):`https://${t.config.authDomain}/${Ove}`,r={apiKey:e.apiKey,appName:t.name,v:lp},o=jve.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Lx(r).slice(1)}`}async function Fve(t){const e=await $ve(t),n=ac().gapi;return fn(n,t,"internal-error"),e.open({where:document.body,url:Lve(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nve,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=sc(t,"network-request-failed"),a=ac().setTimeout(()=>{i(s)},Mve.get());function l(){ac().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bve=500,Vve=600,Hve="_blank",Wve="http://localhost";class cz{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uve(t,e,n,r=Bve,o=Vve){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zve),{width:r.toString(),height:o.toString(),top:i,left:s}),c=Zo().toLowerCase();n&&(a=CY(c)?Hve:n),wY(c)&&(e=e||Wve,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(cge(c)&&a!=="_self")return qve(e||"",a),new cz(null);const d=window.open(e||"",a,u);fn(d,t,"popup-blocked");try{d.focus()}catch{}return new cz(d)}function qve(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kve="__/auth/handler",Gve="emulator/auth/handler",Yve=encodeURIComponent("fac");async function uz(t,e,n,r,o,i){fn(t.config.authDomain,t,"auth-domain-config-required"),fn(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lp,eventId:o};if(e instanceof $Y){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qce(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof Zx){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Yve}=${encodeURIComponent(l)}`:"";return`${Xve(t)}?${Lx(a).slice(1)}${c}`}function Xve({config:t}){return t.emulator?gN(t,Gve):`https://${t.authDomain}/${Kve}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="webStorageSupport";class Qve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wN,this._completeRedirectFn=wve,this._overrideRedirectResult=yve}async _openPopup(e,n,r,o){var i;wu((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await uz(e,n,r,ZD(),o);return Uve(e,s,SN())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await uz(e,n,r,ZD(),o);return eve(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(wu(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Fve(e),r=new Cve(e);return n.register("authEvent",o=>(fn(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(LP,{type:LP},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[LP];s!==void 0&&n(!!s),ml(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pve(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PY()||SY()||yN()}}const Jve=Qve;var dz="@firebase/auth",fz="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zve{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eye(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tye(t){Oh(new Qd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;fn(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RY(t)},c=new mge(r,o,i,l);return _ge(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oh(new Qd("auth-internal",e=>{const n=Sf(e.getProvider("auth").getImmediate());return(r=>new Zve(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oc(dz,fz,eye(t)),oc(dz,fz,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nye=5*60,rye=Oq("authIdTokenMaxAge")||nye;let hz=null;const oye=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rye)return;const o=n==null?void 0:n.token;hz!==o&&(hz=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vc(t=s2()){const e=i2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Cge(t,{popupRedirectResolver:Jve,persistence:[cve,Qge,wN]}),r=Oq("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=oye(i.toString());qge(n,s,()=>s(n.currentUser)),Uge(n,a=>s(a))}}const o=Dq("auth");return o&&Ege(n,`http://${o}`),n}function iye(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gge({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=sc("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",iye().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tye("Browser");const sye={apiKey:"AIzaSyBWDncE18JG9yjPX4kxTbSB9wLPi2qcAOw",authDomain:"application-inovie-scan.firebaseapp.com",projectId:"application-inovie-scan",storageBucket:"application-inovie-scan.firebasestorage.app",messagingSenderId:"703727839643",appId:"1:703727839643:web:f58c9241fb0d05a813593e",measurementId:"G-ZQF14KV51G"};sde("warn");const UY="https://application-inovie-scan.web.app",_N=Gue().length===0?zq(sye):s2(),mt=fpe(_N),pz=dY(_N),cl=vc(_N);try{Wge(cl,wN).then(()=>{console.log("Persistance de session configurée")}).catch(t=>{console.error("Erreur de configuration de la persistance:",t)}),hpe(mt).then(()=>{console.log("✅ Persistance Firestore activée")}).catch(t=>{t.code==="failed-precondition"?console.warn("⚠️ La persistance Firestore ne peut pas être activée car plusieurs onglets sont ouverts"):t.code==="unimplemented"&&console.warn("⚠️ Le navigateur ne prend pas en charge la persistance Firestore")})}catch(t){console.error("❌ Erreur lors de la configuration de la persistance",t)}const Hu=t=>(console.error("Erreur Firebase:",t),t),qY=h.createContext({currentUser:null,loading:!0,error:null,logout:async()=>{},hasPermission:()=>!1,isAllowedRoute:()=>!1,login:async()=>{throw new Error("Login function not implemented")}}),ku=()=>h.useContext(qY),mz={Administrateur:["dashboard.view","passages.view","passages.create","passages.edit","passages.delete","sites.view","sites.create","sites.edit","sites.delete","tournees.view","tournees.create","tournees.edit","tournees.delete","vehicules.view","vehicules.create","vehicules.edit","vehicules.delete","users.view","users.create","users.edit","users.delete","init-passages.view","carte.view","carte.edit"],Utilisateur:["dashboard.view","passages.view","passages.create","passages.edit","sites.view","sites.create","sites.edit","tournees.view","tournees.create","tournees.edit","vehicules.view","vehicules.create","vehicules.edit","users.view","users.create","users.edit","init-passages.view","carte.view"],Coursier:["passages.view","passages.create","passages.edit"]},aye={"/":"dashboard.view","/passages":"passages.view","/sites":"sites.view","/tournees":"tournees.view","/vehicules":"vehicules.view","/admin/users":"users.view","/admin":"dashboard.view","/init-passages":"init-passages.view","/map":"carte.view"},lye={Administrateur:["/","/passages","/sites","/tournees","/vehicules","/admin/users","/init-passages"],Utilisateur:["/","/passages","/sites","/tournees","/vehicules","/admin/users","/init-passages"],Coursier:["/passages"]},KY=({children:t})=>{const[e,n]=h.useState(null),[r,o]=h.useState(!0),[i,s]=h.useState(null),a=m=>{var v;return e?((v=e.email)==null?void 0:v.toLowerCase())==="mickael.volle@inovie.fr"?!0:(mz[e.role]||[]).includes(m):!1},l=m=>{var y;if(!e)return!1;if(((y=e.email)==null?void 0:y.toLowerCase())==="mickael.volle@inovie.fr")return!0;const g=aye[m];if(g&&a(g))return!0;const v=lye[e.role]||[];return v.includes(m)?!0:v.some(b=>m.startsWith(b)&&b!=="/")},c=async()=>{try{n(null),Gge(cl).catch(m=>{console.error("Erreur lors de la déconnexion Firebase:",m)})}catch(m){console.error("Erreur lors de la déconnexion:",m),s("Erreur lors de la déconnexion"),n(null)}},u=m=>{const g=m.split("@")[0].split(".");return g.length>1?g.map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" "):g[0].split("-").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" ")},d=async(m,g)=>{try{o(!0),s(null);const y=(await Hge(cl,m,g)).user;console.log("🔍 Détails de l'utilisateur Firebase:",{uid:y.uid,email:y.email,displayName:y.displayName});const b=un(mt,"users",y.uid),x=await si(b);if(!x.exists())throw console.error("❌ Aucun compte utilisateur trouvé. Veuillez contacter l'administrateur."),new Error("Compte utilisateur non trouvé. Contactez votre administrateur.");const w=x.data();console.log("🔍 Données Firestore de l'utilisateur:",w);const C={id:x.id,identifiant:w.identifiant||m.split("@")[0],email:w.email||m,nom:w.nom||w.displayName||y.displayName||u(m),role:w.role||"Utilisateur",pole:w.pole||"",statut:w.statut||"actif",uid:y.uid,permissions:w.permissions||[],dateCreation:w.dateCreation,dateModification:w.dateModification};return console.log("🏷️ Nom d'utilisateur final:",C.nom),m.toLowerCase()==="mickael.volle@inovie.fr"&&(C.role="Administrateur",C.pole="Informatique",C.permissions=mz.Administrateur),console.log("👤 Données utilisateur finales:",C),n(C),C}catch(v){console.error("Erreur lors de la connexion:",v);let y="Erreur lors de la connexion";throw v.code==="auth/invalid-credential"?y="Compte non trouvé ou identifiants incorrects":v.code==="auth/too-many-requests"&&(y="Trop de tentatives de connexion. Veuillez réessayer plus tard."),s(y),new Error(y)}finally{o(!1)}};h.useEffect(()=>{console.log("✅ Initialisation du gestionnaire d'authentification Firebase");const m=Kge(cl,async g=>{console.log("🔍 État de l'authentification changé:",g?g.email:"Aucun utilisateur connecté");try{if(g){if(!navigator.onLine){console.warn("⚠️ Mode hors ligne détecté. Utilisation des données en cache.");const b=localStorage.getItem("currentUser");if(b){const x=JSON.parse(b);n(x),o(!1);return}}const v=un(mt,"users",g.uid),y=async(b=3)=>{var x,w;try{const C=await si(v);if(C.exists()){const E=C.data(),_={...E,id:C.id,uid:g.uid,nom:E.nom||g.displayName||u(g.email||"")||"Utilisateur",email:E.email||g.email||"",permissions:E.permissions||[],dateModification:new Date().toISOString()};console.log("👤 Données utilisateur récupérées:",_),localStorage.setItem("currentUser",JSON.stringify(_)),n(_),o(!1)}else{console.warn("❌ Aucun document utilisateur trouvé pour l'UID:",g.uid);const E={id:g.uid,uid:g.uid,identifiant:((x=g.email)==null?void 0:x.split("@")[0])||"utilisateur",email:g.email||"",nom:u(g.email||"")||"Utilisateur",role:"Utilisateur",pole:"",statut:"actif",permissions:[],dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()};await jb(v,E),n(E),o(!1)}}catch(C){if(console.error("❌ Erreur de récupération utilisateur:",C),b>0)return console.log(`🔄 Nouvelle tentative (${b} restantes)...`),await new Promise(_=>setTimeout(_,1e3)),y(b-1);const E={id:g.uid,uid:g.uid,identifiant:((w=g.email)==null?void 0:w.split("@")[0])||"utilisateur",email:g.email||"",nom:u(g.email||"")||"Utilisateur",role:"Utilisateur",pole:"",statut:"actif",permissions:[],dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()};n(E),o(!1)}};await y()}else console.log("🚪 Aucun utilisateur connecté"),n(null),localStorage.removeItem("currentUser"),o(!1)}catch(v){console.error("❌ Erreur globale lors de la récupération utilisateur:",v),n(null),o(!1)}},g=>{console.error("❌ Erreur dans onAuthStateChanged:",g),o(!1)});return()=>m()},[]);const f={currentUser:e,loading:r,error:i,logout:c,hasPermission:a,isAllowedRoute:l,login:d};return p.jsx(qY.Provider,{value:f,children:t})},Zf=class Zf{constructor(){Ye(this,"collectionName","selas")}static getInstance(){return Zf.instance||(Zf.instance=new Zf),Zf.instance}async getSELAS(){try{const n=vc().currentUser;if(!n)throw console.error("Erreur lors de la récupération des SELAS: Utilisateur non authentifié"),new Error("Utilisateur non authentifié. Veuillez vous connecter pour accéder aux SELAS.");console.log(`Tentative d'accès à la collection SELAS avec l'utilisateur: ${n.email}`);const r=Ht(mt,this.collectionName);return(await Jt(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("Erreur lors de la récupération des SELAS:",e),e}}async getSELASById(e){try{if(!vc().currentUser)throw console.error(`Erreur lors de la récupération de la SELAS ${e}: Utilisateur non authentifié`),new Error("Utilisateur non authentifié. Veuillez vous connecter pour accéder aux SELAS.");const o=un(mt,this.collectionName,e),i=await si(o);return i.exists()?{id:i.id,...i.data()}:null}catch(n){throw console.error(`Erreur lors de la récupération de la SELAS ${e}:`,n),n}}async addSELAS(e){try{const n=new Date().toISOString(),r={...e,dateCreation:n,dateModification:n},o=Ht(mt,this.collectionName);return{id:(await os(o,r)).id,...r}}catch(n){throw console.error("Erreur lors de l'ajout de la SELAS:",n),n}}async updateSELAS(e,n){try{const r=un(mt,this.collectionName,e),o={...n,dateModification:new Date().toISOString()};await Yo(r,o)}catch(r){throw console.error(`Erreur lors de la mise à jour de la SELAS ${e}:`,r),r}}async deleteSELAS(e){try{const n=un(mt,this.collectionName,e);await Go(n)}catch(n){throw console.error(`Erreur lors de la suppression de la SELAS ${e}:`,n),n}}async getSELASStats(e){try{const n=await this.getSELASById(e);if(!n)return null;const r=["users","sites","passages","tournees","vehicules"],o={};for(const i of r){const s=wn(Ht(mt,i),Dr("selasId","==",e)),a=await Jt(s);o[i]=a.size}return{id:e,nom:n.nom,nbUtilisateurs:o.users||0,nbSites:o.sites||0,nbPassages:o.passages||0,nbTournees:o.tournees||0,nbVehicules:o.vehicules||0}}catch(n){throw console.error(`Erreur lors de la récupération des statistiques de la SELAS ${e}:`,n),n}}async exportSELAS(e=[]){try{let n=[];if(e.length===0)n=await this.getSELAS();else{const o=e.map(s=>this.getSELASById(s));n=(await Promise.all(o)).filter(s=>s!==null)}return{exportDate:new Date().toISOString(),selasCount:n.length,data:n.map(o=>({...o}))}}catch(n){throw console.error("Erreur lors de l'exportation des SELAS:",n),n}}};Ye(Zf,"instance");let zb=Zf;const GY=h.createContext({currentSelasId:null,setCurrentSelasId:()=>{},availableSelas:[],loading:!1,error:null}),cye=()=>h.useContext(GY),uye=({children:t})=>{const[e,n]=h.useState(localStorage.getItem("currentSelasId")),[r,o]=h.useState([]),[i,s]=h.useState(!1),[a,l]=h.useState(null),{currentUser:c}=ku();h.useEffect(()=>{(async()=>{if(!c){o([]),s(!1);return}try{s(!0);const v=(await zb.getInstance().getSELAS()).filter(y=>y.active);o(v),v.length===0&&(console.warn("Aucune SELAS active n'a été trouvée!"),l("Aucune SELAS active disponible")),e&&!v.some(y=>y.id===e)&&(v.length>0?u(v[0].id):u(null)),!e&&v.length>0&&u(v[0].id)}catch(m){console.error("Erreur lors du chargement des SELAS:",m),l("Erreur lors du chargement des SELAS")}finally{s(!1)}})()},[e,c]);const u=f=>{f?localStorage.setItem("currentSelasId",f):localStorage.removeItem("currentSelasId"),n(f)},d={currentSelasId:e,setCurrentSelasId:u,availableSelas:r,loading:i,error:a};return p.jsx(GY.Provider,{value:d,children:t})},dye="/assets/logo-inovie-DthkRB2j.png",FP=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[o,i]=h.useState(null),[s,a]=h.useState(!1),[l,c]=h.useState(""),[u,d]=h.useState(""),[f,m]=h.useState(!1),[g,v]=h.useState(!1),[y,b]=h.useState(!1),[x,w]=h.useState(""),[C,E]=h.useState(!1),[_,S]=h.useState(!1),T=Tc(),{login:I,currentUser:P}=ku();h.useEffect(()=>{P&&_&&(console.log("Redirection automatique vers / car utilisateur connecté:",P),T("/"))},[P,_,T]),h.useEffect(()=>{const O=new URLSearchParams(window.location.search),j=O.get("email"),L=O.get("newUser")==="true",z=O.get("reset")==="true",V=O.get("nom"),W=O.get("role");if(console.log("🔍 Paramètres URL détectés:",{email:j,isNewUser:L,isReset:z,nom:V,role:W,fullUrl:window.location.href}),j&&(e(j),console.log("📝 Email pré-rempli:",j)),L&&V){m(!0);const Y=`Bienvenue ${V} ! Votre compte a été créé avec succès. Veuillez vous connecter avec le mot de passe que vous venez de définir.`;c(Y),d("Si vous n'avez pas encore défini votre mot de passe via l'email, vous pouvez également utiliser le mot de passe temporaire fourni par votre administrateur."),console.log("✨ Message de bienvenue affiché pour nouvel utilisateur:",Y)}else if(z){v(!0);const Y="Votre mot de passe a été réinitialisé avec succès !";c(Y),d("Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."),console.log("🔄 Message de réinitialisation affiché:",Y)}else console.log("ℹ️ Aucun message spécial à afficher")},[]);const M=async O=>{try{if(O.includes("@"))return console.log(`📧 Identifiant contient déjà un @ - utilisation directe: ${O}`),O;console.log(`🔍 Recherche de l'utilisateur avec l'identifiant exact: "${O}"`);const j=Ht(mt,"users"),L=await Jt(j);console.log(`📊 Nombre total d'utilisateurs dans Firestore: ${L.size}`);const z=L.docs.slice(0,3).map(J=>{const X=J.data();return{id:J.id,identifiant:X.identifiant,email:X.email}});console.log("📋 Échantillon d'utilisateurs:",z);const V=Ht(mt,"users"),W=wn(V,Dr("identifiant","==",O)),Y=await Jt(W);if(Y.empty){console.log(`⚠️ Aucun utilisateur trouvé avec l'identifiant exact: "${O}"`),console.log("🔄 Recherche manuelle insensible à la casse...");const J=O.toLowerCase();for(const ue of L.docs){const _e=ue.data();if(_e.identifiant&&_e.identifiant.toLowerCase()===J&&(console.log(`✅ Utilisateur trouvé avec correspondance insensible à la casse: "${_e.identifiant}"`),_e.email))return console.log(`📧 Email trouvé: ${_e.email}`),_e.email}console.log("⚠️ Aucune correspondance trouvée, essai avec @inovie.fr");const X=`${O}@inovie.fr`;return console.log(`📧 Email construit: ${X}`),X}const q=Y.docs[0].data(),K=q.email;return console.log(`✅ Utilisateur trouvé: "${O}" -> "${K}"`),console.log("📊 Données complètes:",q),K}catch(j){console.error("❌ Erreur lors de la recherche de l'utilisateur:",j);const L=`${O}@inovie.fr`;return console.log(`🔄 Solution de secours après erreur: ${L}`),L}},R=()=>{console.log("Forçage de la redirection..."),T("/")},k=async O=>{if(O.preventDefault(),s||_){console.log("Soumission déjà en cours, ignorée");return}i(null),a(!0),S(!0),console.log("Début de la tentative de connexion");try{const j=await M(t);if(!j){i("Identifiant non reconnu"),a(!1),S(!1);return}console.log(`Email identifié: ${j}, tentative de connexion...`);const L=await I(j,n);console.log("Login réussi, utilisateur:",L),setTimeout(R,300)}catch(j){console.error("Erreur de connexion:",j),S(!1);try{const z=Ht(mt,"users"),V=await M(t);if(V){const W=wn(z,Dr("email","==",V)),Y=await Jt(W);if(!Y.empty){const U=Y.docs[0].data();if(U.tempPassword&&U.tempPassword===n){console.log("✅ Mot de passe temporaire valide, mais connexion Firebase impossible"),i("Votre mot de passe temporaire est correct, mais une erreur technique empêche la connexion. Veuillez contacter l'administrateur."),a(!1);return}}}}catch(z){console.error("Erreur lors de la vérification du mot de passe temporaire:",z)}const L=D(j.code);i(L)}finally{a(!1)}},D=O=>O==="auth/invalid-credential"||O==="auth/wrong-password"||O==="auth/user-not-found"?"Identifiant ou mot de passe incorrect. Vérifiez vos informations et réessayez.":O==="auth/too-many-requests"?"Trop de tentatives de connexion. Veuillez réessayer plus tard ou contactez votre administrateur.":O==="auth/user-disabled"?"Ce compte a été désactivé. Veuillez contacter votre administrateur.":O==="auth/invalid-email"?"Format d'identifiant invalide. Veuillez réessayer avec votre identifiant Inovie.":"Une erreur s'est produite lors de la connexion. Veuillez réessayer.",A=async O=>{O.preventDefault(),a(!0),i(null);try{console.log("🔄 Début de la réinitialisation du mot de passe");const j=x||await M(t);if(console.log("📧 Email à réinitialiser:",j),!j){console.error("❌ Aucun email fourni"),i("Veuillez saisir une adresse email valide."),a(!1);return}await R2(cl,j),console.log("✅ Email de réinitialisation envoyé avec succès"),E(!0),w(""),alert(`Un email de réinitialisation a été envoyé à ${j}. Veuillez vérifier votre boîte de réception et suivre les instructions.`),setTimeout(()=>{b(!1),E(!1)},5e3)}catch(j){console.error("❌ Erreur lors de la réinitialisation:",j),console.error("Détails:",{code:j.code,message:j.message,stack:j.stack});let L="Une erreur est survenue lors de la réinitialisation du mot de passe.";switch(j.code){case"auth/invalid-email":L="Format d'email invalide.";break;case"auth/user-not-found":L="Aucun compte associé à cet email.";break;case"auth/too-many-requests":L="Trop de tentatives. Veuillez réessayer plus tard.";break;default:L=`Erreur: ${j.message}`}i(L),alert(L)}finally{a(!1)}},N=(O,j="",L="")=>{const z=`https://outlook.office.com/mail/deeplink/compose?to=${encodeURIComponent(O)}&subject=${encodeURIComponent(j)}&body=${encodeURIComponent(L)}`;window.open(z,"_blank")};return p.jsxs("div",{className:"login-container",children:[p.jsxs("div",{className:"login-content",children:[p.jsx("img",{src:dye,alt:"Groupe Inovie",className:"header-logo"}),p.jsx("h2",{className:"login-title",style:{textTransform:"none",color:"#263471"},children:"inovie SCAN"}),l&&p.jsx("div",{className:`welcome-message ${f?"welcome-message-new-user":""} ${g?"welcome-message-reset":""}`,children:l}),u&&p.jsx("div",{className:"info-message",children:u}),o&&p.jsx("div",{className:"error-message",children:o}),p.jsxs("form",{onSubmit:k,className:"login-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"identifier",children:"Identifiant"}),p.jsx("input",{type:"text",id:"identifier",value:t,onChange:O=>e(O.target.value),required:!0,autoFocus:!t,placeholder:"Votre identifiant"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Mot de passe"}),p.jsx("input",{type:"password",id:"password",value:n,onChange:O=>r(O.target.value),required:!0,autoFocus:!!t,placeholder:"••••••••"})]}),p.jsx("button",{type:"submit",className:"login-button",disabled:s,children:s?"Connexion en cours...":"Se connecter"})]}),p.jsxs("footer",{className:"login-footer",children:[p.jsx("p",{children:"Pour vous connecter, utilisez votre identifiant Inovie"}),p.jsxs("p",{children:[p.jsx("a",{href:"#",onClick:O=>{O.preventDefault();const j=`Bonjour,

Je vous contacte au sujet de l'application Inovie SCAN.

Mon identifiant : `+(t||"[À compléter]")+`

Description du problème : [Veuillez décrire votre problème ici]

Merci pour votre aide.

Cordialement.`;N("mickael.volle@inovie.fr","Demande d'assistance - Application Inovie SCAN",j)},children:"Contacter l'administrateur"})," | ",p.jsx("a",{href:"#",onClick:O=>{O.preventDefault(),b(!0)},children:"Mot de passe oublié ?"})]})]})]}),p.jsx("p",{className:"version",children:"version 1.0 | © 2025 inovie SCAN"}),y&&p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{className:"modal-title",children:"Réinitialisation de mot de passe"}),p.jsx("button",{className:"modal-close",onClick:()=>{b(!1),E(!1),w(""),i(null)},children:"×"})]}),C?p.jsxs("div",{className:"reset-success",children:[p.jsx("p",{children:"Un email de réinitialisation a été envoyé à l'adresse indiquée."}),p.jsx("p",{children:"Veuillez vérifier votre boîte de réception et suivre les instructions pour réinitialiser votre mot de passe."}),p.jsx("p",{children:"Cette fenêtre se fermera automatiquement dans quelques secondes..."})]}):p.jsxs("form",{onSubmit:A,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"reset-email",children:"Adresse email"}),p.jsx("input",{type:"email",id:"reset-email",value:x,onChange:O=>w(O.target.value),placeholder:"Votre adresse email",required:!0,autoFocus:!0}),p.jsx("small",{className:"form-text",children:"Saisissez l'adresse email associée à votre compte pour recevoir un lien de réinitialisation."})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{type:"button",className:"button button-secondary",onClick:()=>{b(!1),w(""),i(null)},children:"Annuler"}),p.jsx("button",{type:"submit",className:"button button-primary",disabled:s,children:s?"Envoi en cours...":"Envoyer le lien"})]})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function tw(t){return t+.5|0}const xd=(t,e,n)=>Math.max(Math.min(t,n),e);function u0(t){return xd(tw(t*2.55),0,255)}function Bd(t){return xd(tw(t*255),0,255)}function Hc(t){return xd(tw(t/2.55)/100,0,1)}function gz(t){return xd(tw(t*100),0,100)}const ga={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},n$=[..."0123456789ABCDEF"],fye=t=>n$[t&15],hye=t=>n$[(t&240)>>4]+n$[t&15],_1=t=>(t&240)>>4===(t&15),pye=t=>_1(t.r)&&_1(t.g)&&_1(t.b)&&_1(t.a);function mye(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ga[t[1]]*17,g:255&ga[t[2]]*17,b:255&ga[t[3]]*17,a:e===5?ga[t[4]]*17:255}:(e===7||e===9)&&(n={r:ga[t[1]]<<4|ga[t[2]],g:ga[t[3]]<<4|ga[t[4]],b:ga[t[5]]<<4|ga[t[6]],a:e===9?ga[t[7]]<<4|ga[t[8]]:255})),n}const gye=(t,e)=>t<255?e(t):"";function vye(t){var e=pye(t)?fye:hye;return t?"#"+e(t.r)+e(t.g)+e(t.b)+gye(t.a,e):void 0}const yye=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YY(t,e,n){const r=e*Math.min(n,1-n),o=(i,s=(i+t/30)%12)=>n-r*Math.max(Math.min(s-3,9-s,1),-1);return[o(0),o(8),o(4)]}function bye(t,e,n){const r=(o,i=(o+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function xye(t,e,n){const r=YY(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)r[o]*=1-e-n,r[o]+=e;return r}function wye(t,e,n,r,o){return t===o?(e-n)/r+(e<n?6:0):e===o?(n-t)/r+2:(t-e)/r+4}function EN(t){const n=t.r/255,r=t.g/255,o=t.b/255,i=Math.max(n,r,o),s=Math.min(n,r,o),a=(i+s)/2;let l,c,u;return i!==s&&(u=i-s,c=a>.5?u/(2-i-s):u/(i+s),l=wye(n,r,o,u,i),l=l*60+.5),[l|0,c||0,a]}function TN(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Bd)}function IN(t,e,n){return TN(YY,t,e,n)}function Sye(t,e,n){return TN(xye,t,e,n)}function Cye(t,e,n){return TN(bye,t,e,n)}function XY(t){return(t%360+360)%360}function _ye(t){const e=yye.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?u0(+e[5]):Bd(+e[5]));const o=XY(+e[2]),i=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=Sye(o,i,s):e[1]==="hsv"?r=Cye(o,i,s):r=IN(o,i,s),{r:r[0],g:r[1],b:r[2],a:n}}function Eye(t,e){var n=EN(t);n[0]=XY(n[0]+e),n=IN(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Tye(t){if(!t)return;const e=EN(t),n=e[0],r=gz(e[1]),o=gz(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${o}%, ${Hc(t.a)})`:`hsl(${n}, ${r}%, ${o}%)`}const vz={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Iye(){const t={},e=Object.keys(yz),n=Object.keys(vz);let r,o,i,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],o=0;o<n.length;o++)i=n[o],a=a.replace(i,vz[i]);i=parseInt(yz[s],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let E1;function Pye(t){E1||(E1=Iye(),E1.transparent=[0,0,0,0]);const e=E1[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Rye=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kye(t){const e=Rye.exec(t);let n=255,r,o,i;if(e){if(e[7]!==r){const s=+e[7];n=e[8]?u0(s):xd(s*255,0,255)}return r=+e[1],o=+e[3],i=+e[5],r=255&(e[2]?u0(r):xd(r,0,255)),o=255&(e[4]?u0(o):xd(o,0,255)),i=255&(e[6]?u0(i):xd(i,0,255)),{r,g:o,b:i,a:n}}}function Dye(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Hc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const zP=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Np=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function $ye(t,e,n){const r=Np(Hc(t.r)),o=Np(Hc(t.g)),i=Np(Hc(t.b));return{r:Bd(zP(r+n*(Np(Hc(e.r))-r))),g:Bd(zP(o+n*(Np(Hc(e.g))-o))),b:Bd(zP(i+n*(Np(Hc(e.b))-i))),a:t.a+n*(e.a-t.a)}}function T1(t,e,n){if(t){let r=EN(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=IN(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function QY(t,e){return t&&Object.assign(e||{},t)}function bz(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Bd(t[3]))):(e=QY(t,{r:0,g:0,b:0,a:1}),e.a=Bd(e.a)),e}function Mye(t){return t.charAt(0)==="r"?kye(t):_ye(t)}let JY=class r${constructor(e){if(e instanceof r$)return e;const n=typeof e;let r;n==="object"?r=bz(e):n==="string"&&(r=mye(e)||Pye(e)||Mye(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=QY(this._rgb);return e&&(e.a=Hc(e.a)),e}set rgb(e){this._rgb=bz(e)}rgbString(){return this._valid?Dye(this._rgb):void 0}hexString(){return this._valid?vye(this._rgb):void 0}hslString(){return this._valid?Tye(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,o=e.rgb;let i;const s=n===i?.5:n,a=2*s-1,l=r.a-o.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*o.r+.5,r.g=255&c*r.g+i*o.g+.5,r.b=255&c*r.b+i*o.b+.5,r.a=s*r.a+(1-s)*o.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=$ye(this._rgb,e._rgb,n)),this}clone(){return new r$(this.rgb)}alpha(e){return this._rgb.a=Bd(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=tw(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return T1(this._rgb,2,e),this}darken(e){return T1(this._rgb,2,-e),this}saturate(e){return T1(this._rgb,1,e),this}desaturate(e){return T1(this._rgb,1,-e),this}rotate(e){return Eye(this._rgb,e),this}};/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Oc(){}const Oye=(()=>{let t=0;return()=>t++})();function cr(t){return t==null}function Vo(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ln(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function qi(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Dl(t,e){return qi(t)?t:e}function kn(t,e){return typeof t>"u"?e:t}const Aye=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ZY=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Wr(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function mr(t,e,n,r){let o,i,s;if(Vo(t))for(i=t.length,o=0;o<i;o++)e.call(n,t[o],o);else if(Ln(t))for(s=Object.keys(t),i=s.length,o=0;o<i;o++)e.call(n,t[s[o]],s[o])}function R_(t,e){let n,r,o,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(o=t[n],i=e[n],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function k_(t){if(Vo(t))return t.map(k_);if(Ln(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let o=0;for(;o<r;++o)e[n[o]]=k_(t[n[o]]);return e}return t}function eX(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Nye(t,e,n,r){if(!eX(t))return;const o=e[t],i=n[t];Ln(o)&&Ln(i)?Bb(o,i,r):e[t]=k_(i)}function Bb(t,e,n){const r=Vo(e)?e:[e],o=r.length;if(!Ln(t))return t;n=n||{};const i=n.merger||Nye;let s;for(let a=0;a<o;++a){if(s=r[a],!Ln(s))continue;const l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)i(l[c],t,s,n)}return t}function F0(t,e){return Bb(t,e,{merger:jye})}function jye(t,e,n){if(!eX(t))return;const r=e[t],o=n[t];Ln(r)&&Ln(o)?F0(r,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=k_(o))}const xz={"":t=>t,x:t=>t.x,y:t=>t.y};function Lye(t){const e=t.split("."),n=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Fye(t){const e=Lye(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function qh(t,e){return(xz[e]||(xz[e]=Fye(e)))(t)}function PN(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Vb=t=>typeof t<"u",rf=t=>typeof t=="function",wz=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function zye(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Co=Math.PI,uo=2*Co,Bye=uo+Co,D_=Number.POSITIVE_INFINITY,Vye=Co/180,Jo=Co/2,If=Co/4,Sz=Co*2/3,tX=Math.log10,lc=Math.sign;function z0(t,e,n){return Math.abs(t-e)<n}function Cz(t){const e=Math.round(t);t=z0(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(tX(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Hye(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((o,i)=>o-i).pop(),e}function Wye(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Hb(t){return!Wye(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Uye(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function qye(t,e,n){let r,o,i;for(r=0,o=t.length;r<o;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function eu(t){return t*(Co/180)}function Kye(t){return t*(180/Co)}function _z(t){if(!qi(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function nX(t,e){const n=e.x-t.x,r=e.y-t.y,o=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Co&&(i+=uo),{angle:i,distance:o}}function o$(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Gye(t,e){return(t-e+Bye)%uo-Co}function jl(t){return(t%uo+uo)%uo}function Wb(t,e,n,r){const o=jl(t),i=jl(e),s=jl(n),a=jl(i-o),l=jl(s-o),c=jl(o-i),u=jl(o-s);return o===i||o===s||r&&i===s||a>l&&c<u}function Bi(t,e,n){return Math.max(e,Math.min(n,t))}function Yye(t){return Bi(t,-32768,32767)}function tu(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function RN(t,e,n){n=n||(s=>t[s]<e);let r=t.length-1,o=0,i;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const sh=(t,e,n,r)=>RN(t,n,r?o=>{const i=t[o][e];return i<n||i===n&&t[o+1][e]===n}:o=>t[o][e]<n),Xye=(t,e,n)=>RN(t,n,r=>t[r][e]>=n);function Qye(t,e,n){let r=0,o=t.length;for(;r<o&&t[r]<e;)r++;for(;o>r&&t[o-1]>n;)o--;return r>0||o<t.length?t.slice(r,o):t}const rX=["push","pop","shift","splice","unshift"];function Jye(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rX.forEach(n=>{const r="_onData"+PN(n),o=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const s=o.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),s}})})}function Ez(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(rX.forEach(i=>{delete t[i]}),delete t._chartjs)}function oX(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const iX=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function sX(t,e){let n=[],r=!1;return function(...o){n=o,r||(r=!0,iX.call(window,()=>{r=!1,t.apply(e,n)}))}}function Zye(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const kN=t=>t==="start"?"left":t==="end"?"right":"center",ji=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,e0e=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function t0e(t,e,n){const r=e.length;let o=0,i=r;if(t._sorted){const{iScale:s,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=s.axis,{min:d,max:f,minDefined:m,maxDefined:g}=s.getUserBounds();if(m){if(o=Math.min(sh(l,u,d).lo,n?r:sh(e,u,s.getPixelForValue(d)).lo),c){const v=l.slice(0,o+1).reverse().findIndex(y=>!cr(y[a.axis]));o-=Math.max(0,v)}o=Bi(o,0,r-1)}if(g){let v=Math.max(sh(l,s.axis,f,!0).hi+1,n?0:sh(e,u,s.getPixelForValue(f),!0).hi+1);if(c){const y=l.slice(v-1).findIndex(b=>!cr(b[a.axis]));v+=Math.max(0,y)}i=Bi(v,o,r)-o}else i=r-o}return{start:o,count:i}}function n0e(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=o,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,o),i}const I1=t=>t===0||t===1,Tz=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*uo/n)),Iz=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*uo/n)+1,B0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Jo)+1,easeOutSine:t=>Math.sin(t*Jo),easeInOutSine:t=>-.5*(Math.cos(Co*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>I1(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>I1(t)?t:Tz(t,.075,.3),easeOutElastic:t=>I1(t)?t:Iz(t,.075,.3),easeInOutElastic(t){return I1(t)?t:t<.5?.5*Tz(t*2,.1125,.45):.5+.5*Iz(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-B0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?B0.easeInBounce(t*2)*.5:B0.easeOutBounce(t*2-1)*.5+.5};function DN(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Pz(t){return DN(t)?t:new JY(t)}function BP(t){return DN(t)?t:new JY(t).saturate(.5).darken(.1).hexString()}const r0e=["x","y","borderWidth","radius","tension"],o0e=["color","borderColor","backgroundColor"];function i0e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:o0e},numbers:{type:"number",properties:r0e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function s0e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rz=new Map;function a0e(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Rz.get(n);return r||(r=new Intl.NumberFormat(t,e),Rz.set(n,r)),r}function $N(t,e,n){return a0e(e,n).format(t)}const l0e={values(t){return Vo(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let o,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),i=c0e(t,n)}const s=tX(Math.abs(i)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$N(t,r,l)}};function c0e(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var aX={formatters:l0e};function u0e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:aX.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Kh=Object.create(null),i$=Object.create(null);function V0(t,e){if(!e)return t;const n=e.split(".");for(let r=0,o=n.length;r<o;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function VP(t,e,n){return typeof e=="string"?Bb(V0(t,e),n):Bb(V0(t,""),e)}class d0e{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>BP(o.backgroundColor),this.hoverBorderColor=(r,o)=>BP(o.borderColor),this.hoverColor=(r,o)=>BP(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return VP(this,e,n)}get(e){return V0(this,e)}describe(e,n){return VP(i$,e,n)}override(e,n){return VP(Kh,e,n)}route(e,n,r,o){const i=V0(this,e),s=V0(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=s[o];return Ln(l)?Object.assign({},c,l):kn(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ro=new d0e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[i0e,s0e,u0e]);function f0e(t){return!t||cr(t.size)||cr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function kz(t,e,n,r,o){let i=e[o];return i||(i=e[o]=t.measureText(o).width,n.push(o)),i>r&&(r=i),r}function Pf(t,e,n){const r=t.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((e-o)*r)/r+o}function Dz(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function s$(t,e,n,r){lX(t,e,n,r,null)}function lX(t,e,n,r,o){let i,s,a,l,c,u,d,f;const m=e.pointStyle,g=e.rotation,v=e.radius;let y=(g||0)*Vye;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),m){default:o?t.ellipse(n,r,o/2,v,0,0,uo):t.arc(n,r,v,0,uo),t.closePath();break;case"triangle":u=o?o/2:v,t.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*v),y+=Sz,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*v),y+=Sz,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,s=Math.cos(y+If)*l,d=Math.cos(y+If)*(o?o/2-c:l),a=Math.sin(y+If)*l,f=Math.sin(y+If)*(o?o/2-c:l),t.arc(n-d,r-a,c,y-Co,y-Jo),t.arc(n+f,r-s,c,y-Jo,y),t.arc(n+d,r+a,c,y,y+Jo),t.arc(n-f,r+s,c,y+Jo,y+Co),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*v,u=o?o/2:l,t.rect(n-u,r-l,2*u,2*l);break}y+=If;case"rectRot":d=Math.cos(y)*(o?o/2:v),s=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(o?o/2:v),t.moveTo(n-d,r-a),t.lineTo(n+f,r-s),t.lineTo(n+d,r+a),t.lineTo(n-f,r+s),t.closePath();break;case"crossRot":y+=If;case"cross":d=Math.cos(y)*(o?o/2:v),s=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(o?o/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-s),t.lineTo(n-f,r+s);break;case"star":d=Math.cos(y)*(o?o/2:v),s=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(o?o/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-s),t.lineTo(n-f,r+s),y+=If,d=Math.cos(y)*(o?o/2:v),s=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(o?o/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-s),t.lineTo(n-f,r+s);break;case"line":s=o?o/2:Math.cos(y)*v,a=Math.sin(y)*v,t.moveTo(n-s,r-a),t.lineTo(n+s,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(o?o/2:v),r+Math.sin(y)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ub(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function $2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function M2(t){t.restore()}function h0e(t,e,n,r,o){if(!e)return t.lineTo(n.x,n.y);if(o==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else o==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function p0e(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function m0e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),cr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function g0e(t,e,n,r,o){if(o.strikethrough||o.underline){const i=t.measureText(r),s=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=o.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function v0e(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function qb(t,e,n,r,o,i={}){const s=Vo(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=o.string,m0e(t,i),l=0;l<s.length;++l)c=s[l],i.backdrop&&v0e(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),cr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),g0e(t,n,r,c,i),r+=Number(o.lineHeight);t.restore()}function $_(t,e){const{x:n,y:r,w:o,h:i,radius:s}=e;t.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*Co,Co,!0),t.lineTo(n,r+i-s.bottomLeft),t.arc(n+s.bottomLeft,r+i-s.bottomLeft,s.bottomLeft,Co,Jo,!0),t.lineTo(n+o-s.bottomRight,r+i),t.arc(n+o-s.bottomRight,r+i-s.bottomRight,s.bottomRight,Jo,0,!0),t.lineTo(n+o,r+s.topRight),t.arc(n+o-s.topRight,r+s.topRight,s.topRight,0,-Jo,!0),t.lineTo(n+s.topLeft,r)}const y0e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,b0e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function x0e(t,e){const n=(""+t).match(y0e);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const w0e=t=>+t||0;function MN(t,e){const n={},r=Ln(e),o=r?Object.keys(e):e,i=Ln(t)?r?s=>kn(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of o)n[s]=w0e(i(s));return n}function cX(t){return MN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ng(t){return MN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function La(t){const e=cX(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vi(t,e){t=t||{},e=e||Ro.font;let n=kn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=kn(t.style,e.style);r&&!(""+r).match(b0e)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:kn(t.family,e.family),lineHeight:x0e(kn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:kn(t.weight,e.weight),string:""};return o.string=f0e(o),o}function P1(t,e,n,r){let o,i,s;for(o=0,i=t.length;o<i;++o)if(s=t[o],s!==void 0&&s!==void 0)return s}function S0e(t,e,n){const{min:r,max:o}=t,i=ZY(e,(o-r)/2),s=(a,l)=>n&&a===0?0:a+l;return{min:s(r,-Math.abs(i)),max:s(o,i)}}function pp(t,e){return Object.assign(Object.create(t),e)}function ON(t,e=[""],n,r,o=()=>t[0]){const i=n||t;typeof r>"u"&&(r=hX("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:o,override:a=>ON([a,...t],e,i,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return dX(a,l,()=>k0e(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Mz(a).includes(l)},ownKeys(a){return Mz(a)},set(a,l,c){const u=a._storage||(a._storage=o());return a[l]=u[l]=c,delete a._keys,!0}})}function Og(t,e,n,r){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:uX(t,r),setContext:i=>Og(t,i,n,r),override:i=>Og(t.override(i),e,n,r)};return new Proxy(o,{deleteProperty(i,s){return delete i[s],delete t[s],!0},get(i,s,a){return dX(i,s,()=>_0e(i,s,a))},getOwnPropertyDescriptor(i,s){return i._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(i,s,a){return t[s]=a,delete i[s],!0}})}function uX(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:r,isScriptable:rf(n)?n:()=>n,isIndexable:rf(r)?r:()=>r}}const C0e=(t,e)=>t?t+PN(e):e,AN=(t,e)=>Ln(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dX(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function _0e(t,e,n){const{_proxy:r,_context:o,_subProxy:i,_descriptors:s}=t;let a=r[e];return rf(a)&&s.isScriptable(e)&&(a=E0e(e,a,t,n)),Vo(a)&&a.length&&(a=T0e(e,a,t,s.isIndexable)),AN(e,a)&&(a=Og(a,o,i&&i[e],s)),a}function E0e(t,e,n,r){const{_proxy:o,_context:i,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,s||r);return a.delete(t),AN(t,l)&&(l=NN(o._scopes,o,t,l)),l}function T0e(t,e,n,r){const{_proxy:o,_context:i,_subProxy:s,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(Ln(e[0])){const l=e,c=o._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=NN(c,o,t,u);e.push(Og(d,i,s&&s[t],a))}}return e}function fX(t,e,n){return rf(t)?t(e,n):t}const I0e=(t,e)=>t===!0?e:typeof t=="string"?qh(e,t):void 0;function P0e(t,e,n,r,o){for(const i of e){const s=I0e(n,i);if(s){t.add(s);const a=fX(s._fallback,n,o);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(s===!1&&typeof r<"u"&&n!==r)return null}return!1}function NN(t,e,n,r){const o=e._rootScopes,i=fX(e._fallback,n,r),s=[...t,...o],a=new Set;a.add(r);let l=$z(a,s,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=$z(a,s,i,l,r),l===null)?!1:ON(Array.from(a),[""],o,i,()=>R0e(e,n,r))}function $z(t,e,n,r,o){for(;n;)n=P0e(t,e,n,r,o);return n}function R0e(t,e,n){const r=t._getTarget();e in r||(r[e]={});const o=r[e];return Vo(o)&&Ln(n)?n:o||{}}function k0e(t,e,n,r){let o;for(const i of e)if(o=hX(C0e(i,t),n),typeof o<"u")return AN(t,o)?NN(n,r,t,o):o}function hX(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Mz(t){let e=t._keys;return e||(e=t._keys=D0e(t._scopes)),e}function D0e(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}const $0e=Number.EPSILON||1e-14,Ag=(t,e)=>e<t.length&&!t[e].skip&&t[e],pX=t=>t==="x"?"y":"x";function M0e(t,e,n,r){const o=t.skip?e:t,i=e,s=n.skip?e:n,a=o$(i,o),l=o$(s,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:i.x-d*(s.x-o.x),y:i.y-d*(s.y-o.y)},next:{x:i.x+f*(s.x-o.x),y:i.y+f*(s.y-o.y)}}}function O0e(t,e,n){const r=t.length;let o,i,s,a,l,c=Ag(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Ag(t,u+1),!(!l||!c)){if(z0(e[u],0,$0e)){n[u]=n[u+1]=0;continue}o=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(o,2)+Math.pow(i,2),!(a<=9)&&(s=3/Math.sqrt(a),n[u]=o*s*e[u],n[u+1]=i*s*e[u])}}function A0e(t,e,n="x"){const r=pX(n),o=t.length;let i,s,a,l=Ag(t,0);for(let c=0;c<o;++c){if(s=a,a=l,l=Ag(t,c+1),!a)continue;const u=a[n],d=a[r];s&&(i=(u-s[n])/3,a[`cp1${n}`]=u-i,a[`cp1${r}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${r}`]=d+i*e[c])}}function N0e(t,e="x"){const n=pX(e),r=t.length,o=Array(r).fill(0),i=Array(r);let s,a,l,c=Ag(t,0);for(s=0;s<r;++s)if(a=l,l=c,c=Ag(t,s+1),!!l){if(c){const u=c[e]-l[e];o[s]=u!==0?(c[n]-l[n])/u:0}i[s]=a?c?lc(o[s-1])!==lc(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}O0e(t,o,i),A0e(t,i,e)}function R1(t,e,n){return Math.max(Math.min(t,n),e)}function j0e(t,e){let n,r,o,i,s,a=Ub(t[0],e);for(n=0,r=t.length;n<r;++n)s=i,i=a,a=n<r-1&&Ub(t[n+1],e),i&&(o=t[n],s&&(o.cp1x=R1(o.cp1x,e.left,e.right),o.cp1y=R1(o.cp1y,e.top,e.bottom)),a&&(o.cp2x=R1(o.cp2x,e.left,e.right),o.cp2y=R1(o.cp2y,e.top,e.bottom)))}function L0e(t,e,n,r,o){let i,s,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")N0e(t,o);else{let c=r?t[t.length-1]:t[0];for(i=0,s=t.length;i<s;++i)a=t[i],l=M0e(c,a,t[Math.min(i+1,s-(r?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&j0e(t,n)}function jN(){return typeof window<"u"&&typeof document<"u"}function LN(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function M_(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const O2=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function F0e(t,e){return O2(t).getPropertyValue(e)}const z0e=["top","right","bottom","left"];function yh(t,e,n){const r={};n=n?"-"+n:"";for(let o=0;o<4;o++){const i=z0e[o];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const B0e=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function V0e(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:o,offsetY:i}=r;let s=!1,a,l;if(B0e(o,i,t.target))a=o,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function Lf(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,o=O2(n),i=o.boxSizing==="border-box",s=yh(o,"padding"),a=yh(o,"border","width"),{x:l,y:c,box:u}=V0e(t,n),d=s.left+(u&&a.left),f=s.top+(u&&a.top);let{width:m,height:g}=e;return i&&(m-=s.width+a.width,g-=s.height+a.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((c-f)/g*n.height/r)}}function H0e(t,e,n){let r,o;if(e===void 0||n===void 0){const i=t&&LN(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const s=i.getBoundingClientRect(),a=O2(i),l=yh(a,"border","width"),c=yh(a,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,r=M_(a.maxWidth,i,"clientWidth"),o=M_(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||D_,maxHeight:o||D_}}const k1=t=>Math.round(t*10)/10;function W0e(t,e,n,r){const o=O2(t),i=yh(o,"margin"),s=M_(o.maxWidth,t,"clientWidth")||D_,a=M_(o.maxHeight,t,"clientHeight")||D_,l=H0e(t,e,n);let{width:c,height:u}=l;if(o.boxSizing==="content-box"){const f=yh(o,"border","width"),m=yh(o,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=k1(Math.min(c,s,l.maxWidth)),u=k1(Math.min(u,a,l.maxHeight)),c&&!u&&(u=k1(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=k1(Math.floor(u*r))),{width:c,height:u}}function Oz(t,e,n){const r=e||1,o=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||s.height!==o||s.width!==i?(t.currentDevicePixelRatio=r,s.height=o,s.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const U0e=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};jN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Az(t,e){const n=F0e(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ff(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function q0e(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function K0e(t,e,n,r){const o={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},s=Ff(t,o,n),a=Ff(o,i,n),l=Ff(i,e,n),c=Ff(s,a,n),u=Ff(a,l,n);return Ff(c,u,n)}const G0e=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Y0e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function rg(t,e,n){return t?G0e(e,n):Y0e()}function mX(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function gX(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vX(t){return t==="angle"?{between:Wb,compare:Gye,normalize:jl}:{between:tu,compare:(e,n)=>e-n,normalize:e=>e}}function Nz({start:t,end:e,count:n,loop:r,style:o}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:o}}function X0e(t,e,n){const{property:r,start:o,end:i}=n,{between:s,normalize:a}=vX(r),l=e.length;let{start:c,end:u,loop:d}=t,f,m;if(d){for(c+=l,u+=l,f=0,m=l;f<m&&s(a(e[c%l][r]),o,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function yX(t,e,n){if(!n)return[t];const{property:r,start:o,end:i}=n,s=e.length,{compare:a,between:l,normalize:c}=vX(r),{start:u,end:d,loop:f,style:m}=X0e(t,e,n),g=[];let v=!1,y=null,b,x,w;const C=()=>l(o,w,b)&&a(o,w)!==0,E=()=>a(i,b)===0||l(i,w,b),_=()=>v||C(),S=()=>!v||E();for(let T=u,I=u;T<=d;++T)x=e[T%s],!x.skip&&(b=c(x[r]),b!==w&&(v=l(b,o,i),y===null&&_()&&(y=a(b,o)===0?T:I),y!==null&&S()&&(g.push(Nz({start:y,end:T,loop:f,count:s,style:m})),y=null),I=T,w=b));return y!==null&&g.push(Nz({start:y,end:d,loop:f,count:s,style:m})),g}function bX(t,e){const n=[],r=t.segments;for(let o=0;o<r.length;o++){const i=yX(r[o],t.points,e);i.length&&n.push(...i)}return n}function Q0e(t,e,n,r){let o=0,i=e-1;if(n&&!r)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(i+=o);i>o&&t[i%e].skip;)i--;return i%=e,{start:o,end:i}}function J0e(t,e,n,r){const o=t.length,i=[];let s=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%o];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%o,end:(l-1)%o,loop:r}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&i.push({start:e%o,end:s%o,loop:r}),i}function Z0e(t,e){const n=t.points,r=t.options.spanGaps,o=n.length;if(!o)return[];const i=!!t._loop,{start:s,end:a}=Q0e(n,o,i,r);if(r===!0)return jz(t,[{start:s,end:a,loop:i}],n,e);const l=a<s?a+o:a,c=!!t._fullLoop&&s===0&&a===o-1;return jz(t,J0e(n,s,l,c),n,e)}function jz(t,e,n,r){return!r||!r.setContext||!n?e:ebe(t,e,n,r)}function ebe(t,e,n,r){const o=t._chart.getContext(),i=Lz(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,d=e[0].start,f=d;function m(g,v,y,b){const x=a?-1:1;if(g!==v){for(g+=l;n[g%l].skip;)g-=x;for(;n[v%l].skip;)v+=x;g%l!==v%l&&(c.push({start:g%l,end:v%l,loop:y,style:b}),u=b,d=v%l)}}for(const g of e){d=a?d:g.start;let v=n[d%l],y;for(f=d+1;f<=g.end;f++){const b=n[f%l];y=Lz(r.setContext(pp(o,{type:"segment",p0:v,p1:b,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:s}))),tbe(y,u)&&m(d,f-1,g.loop,u),v=b,u=y}d<f-1&&m(d,f-1,g.loop,u)}return c}function Lz(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function tbe(t,e){if(!e)return!1;const n=[],r=function(o,i){return DN(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class nbe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,o){const i=n.listeners[o],s=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(r-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=iX.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const i=r.items;let s=i.length-1,a=!1,l;for(;s>=0;--s)l=i[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[s]=i[i.length-1],i.pop());a&&(o.draw(),this._notify(o,r,e,"progress")),i.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var jc=new nbe;const Fz="transparent",rbe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Pz(t||Fz),o=r.valid&&Pz(e||Fz);return o&&o.valid?o.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class obe{constructor(e,n,r,o){const i=n[r];o=P1([e.to,o,i,e.from]);const s=P1([e.from,i,o]);this._active=!0,this._fn=e.fn||rbe[e.type||typeof s],this._easing=B0[e.easing]||B0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=s,this._to=o,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const o=this._target[this._prop],i=r-this._start,s=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=P1([e.to,n,o,e.from]),this._from=P1([e.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,o=this._prop,i=this._from,s=this._loop,a=this._to;let l;if(this._active=i!==a&&(s||n<r),!this._active){this._target[o]=a,this._notify(!0);return}if(n<0){this._target[o]=i;return}l=n/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][n]()}}class xX{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ln(e))return;const n=Object.keys(Ro.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const i=e[o];if(!Ln(i))return;const s={};for(const a of n)s[a]=i[a];(Vo(i.properties)&&i.properties||[o]).forEach(a=>{(a===o||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,n){const r=n.options,o=sbe(e,r);if(!o)return[];const i=this._createAnimations(o,r);return r.$shared&&ibe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,o=[],i=e.$animations||(e.$animations={}),s=Object.keys(n),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new obe(f,e,c,u),o.push(d)}return o}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return jc.add(this._chart,r),!0}}function ibe(t,e){const n=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const i=t[r[o]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function sbe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function zz(t,e){const n=t&&t.options||{},r=n.reverse,o=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:o,end:r?o:i}}function abe(t,e,n){if(n===!1)return!1;const r=zz(t,n),o=zz(e,n);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function lbe(t){let e,n,r,o;return Ln(t)?(e=t.top,n=t.right,r=t.bottom,o=t.left):e=n=r=o=t,{top:e,right:n,bottom:r,left:o,disabled:t===!1}}function wX(t,e){const n=[],r=t._getSortedDatasetMetas(e);let o,i;for(o=0,i=r.length;o<i;++o)n.push(r[o].index);return n}function Bz(t,e,n,r={}){const o=t.keys,i=r.mode==="single";let s,a,l,c;if(e===null)return;let u=!1;for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===n){if(u=!0,r.all)continue;break}c=t.values[l],qi(c)&&(i||e===0||lc(e)===lc(c))&&(e+=c)}return!u&&!r.all?0:e}function cbe(t,e){const{iScale:n,vScale:r}=e,o=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",s=Object.keys(t),a=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[o]:u,[i]:t[u]};return a}function HP(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ube(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function dbe(t){const{min:e,max:n,minDefined:r,maxDefined:o}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function fbe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Vz(t,e,n,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const i=t[o.index];if(n&&i>0||!n&&i<0)return o.index}return null}function Hz(t,e){const{chart:n,_cachedMeta:r}=t,o=n._stacks||(n._stacks={}),{iScale:i,vScale:s,index:a}=r,l=i.axis,c=s.axis,u=ube(i,s,r),d=e.length;let f;for(let m=0;m<d;++m){const g=e[m],{[l]:v,[c]:y}=g,b=g._stacks||(g._stacks={});f=b[c]=fbe(o,u,v),f[a]=y,f._top=Vz(f,s,!0,r.type),f._bottom=Vz(f,s,!1,r.type);const x=f._visualValues||(f._visualValues={});x[a]=y}}function WP(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function hbe(t,e){return pp(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pbe(t,e,n){return pp(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function gy(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const o of e){const i=o._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const UP=t=>t==="reset"||t==="none",Wz=(t,e)=>e?t:Object.assign({},t),mbe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wX(n,!0),values:null};class bh{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=HP(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gy(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(d,f,m,g)=>d==="x"?f:d==="r"?g:m,i=n.xAxisID=kn(r.xAxisID,WP(e,"x")),s=n.yAxisID=kn(r.yAxisID,WP(e,"y")),a=n.rAxisID=kn(r.rAxisID,WP(e,"r")),l=n.indexAxis,c=n.iAxisID=o(l,i,s,a),u=n.vAxisID=o(l,s,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ez(this._data,this),e._stacked&&gy(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ln(n)){const o=this._cachedMeta;this._data=cbe(n,o)}else if(r!==n){if(r){Ez(r,this);const o=this._cachedMeta;gy(o),o._parsed=[]}n&&Object.isExtensible(n)&&Jye(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const i=n._stacked;n._stacked=HP(n.vScale,n),n.stack!==r.stack&&(o=!0,gy(n),n.stack=r.stack),this._resyncElements(e),(o||i!==n._stacked)&&(Hz(this,n._parsed),n._stacked=HP(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:o}=this,{iScale:i,_stacked:s}=r,a=i.axis;let l=e===0&&n===o.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=o,r._sorted=!0,f=o;else{Vo(o[e])?f=this.parseArrayData(r,o,e,n):Ln(o[e])?f=this.parseObjectData(r,o,e,n):f=this.parsePrimitiveData(r,o,e,n);const m=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(m()&&(l=!1),c=d);r._sorted=l}s&&Hz(this,f)}parsePrimitiveData(e,n,r,o){const{iScale:i,vScale:s}=e,a=i.axis,l=s.axis,c=i.getLabels(),u=i===s,d=new Array(o);let f,m,g;for(f=0,m=o;f<m;++f)g=f+r,d[f]={[a]:u||i.parse(c[g],g),[l]:s.parse(n[g],g)};return d}parseArrayData(e,n,r,o){const{xScale:i,yScale:s}=e,a=new Array(o);let l,c,u,d;for(l=0,c=o;l<c;++l)u=l+r,d=n[u],a[l]={x:i.parse(d[0],u),y:s.parse(d[1],u)};return a}parseObjectData(e,n,r,o){const{xScale:i,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(o);let u,d,f,m;for(u=0,d=o;u<d;++u)f=u+r,m=n[f],c[u]={x:i.parse(qh(m,a),f),y:s.parse(qh(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const o=this.chart,i=this._cachedMeta,s=n[e.axis],a={keys:wX(o,!0),values:n._stacks[e.axis]._visualValues};return Bz(a,s,i.index,{mode:r})}updateRangeFromParsed(e,n,r,o){const i=r[n.axis];let s=i===null?NaN:i;const a=o&&r._stacks[n.axis];o&&a&&(o.values=a,s=Bz(o,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){const r=this._cachedMeta,o=r._parsed,i=r._sorted&&e===r.iScale,s=o.length,a=this._getOtherScale(e),l=mbe(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=dbe(a);let f,m;function g(){m=o[f];const v=m[a.axis];return!qi(m[e.axis])||u>v||d<v}for(f=0;f<s&&!(!g()&&(this.updateRangeFromParsed(c,e,m,l),i));++f);if(i){for(f=s-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let o,i,s;for(o=0,i=n.length;o<i;++o)s=n[o][e.axis],qi(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,o=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:o?""+o.getLabelForValue(i[o.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=lbe(kn(this.options.clip,abe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],i=n.chartArea,s=[],a=this._drawStart||0,l=this._drawCount||o.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=o[u];d.hidden||(d.active&&c?s.push(d):d.draw(e,i))}for(u=0;u<s.length;++u)s[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const o=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];i=s.$context||(s.$context=pbe(this.getContext(),e,s)),i.parsed=this.getParsed(e),i.raw=o.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=hbe(this.chart.getContext(),this.index)),i.dataset=o,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const o=n==="active",i=this._cachedDataOpts,s=e+"-"+n,a=i[s],l=this.enableOptionSharing&&Vb(r);if(a)return Wz(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=o?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(Ro.elements[e]),g=()=>this.getContext(r,o,n),v=c.resolveNamedOptions(f,m,g,d);return v.$shared&&(v.$shared=l,i[s]=Object.freeze(Wz(v,l))),v}_resolveAnimations(e,n,r){const o=this.chart,i=this._cachedDataOpts,s=`animation-${n}`,a=i[s];if(a)return a;let l;if(o.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new xX(o,l&&l.animations);return l&&l._cacheable&&(i[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||UP(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),o=this._sharedOptions,i=this.getSharedOptions(r),s=this.includeOptions(n,i)||i!==o;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:s}}updateElement(e,n,r,o){UP(o)?Object.assign(e,r):this._resolveAnimations(n,o).update(e,r)}updateSharedOptions(e,n,r){e&&!UP(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,o){e.active=o;const i=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(e,{options:!o&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const o=r.length,i=n.length,s=Math.min(i,o);s&&this.parse(0,s),i>o?this._insertElements(o,i-o,e):i<o&&this._removeElements(i,o-i)}_insertElements(e,n,r=!0){const o=this._cachedMeta,i=o.data,s=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=s;a--)c[a]=c[a-n]};for(l(i),a=e;a<s;++a)i[a]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,o){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,n);r._stacked&&gy(r,o)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,o]=e;this[n](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ye(bh,"defaults",{}),Ye(bh,"datasetElementType",null),Ye(bh,"dataElementType",null);function gbe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let o=0,i=n.length;o<i;o++)r=r.concat(n[o].controller.getAllParsedValues(t));t._cache.$bar=oX(r.sort((o,i)=>o-i))}return t._cache.$bar}function vbe(t){const e=t.iScale,n=gbe(e,t.type);let r=e._length,o,i,s,a;const l=()=>{s===32767||s===-32768||(Vb(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(o=0,i=n.length;o<i;++o)s=e.getPixelForValue(n[o]),l();for(a=void 0,o=0,i=e.ticks.length;o<i;++o)s=e.getPixelForTick(o),l();return r}function ybe(t,e,n,r){const o=n.barThickness;let i,s;return cr(o)?(i=e.min*n.categoryPercentage,s=n.barPercentage):(i=o*r,s=1),{chunk:i/r,ratio:s,start:e.pixels[t]-i/2}}function bbe(t,e,n,r){const o=e.pixels,i=o[t];let s=t>0?o[t-1]:null,a=t<o.length-1?o[t+1]:null;const l=n.categoryPercentage;s===null&&(s=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-s);const c=i-(i-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:n.barPercentage,start:c}}function xbe(t,e,n,r){const o=n.parse(t[0],r),i=n.parse(t[1],r),s=Math.min(o,i),a=Math.max(o,i);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:o,end:i,min:s,max:a}}function SX(t,e,n,r){return Vo(t)?xbe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Uz(t,e,n,r){const o=t.iScale,i=t.vScale,s=o.getLabels(),a=o===i,l=[];let c,u,d,f;for(c=n,u=n+r;c<u;++c)f=e[c],d={},d[o.axis]=a||o.parse(s[c],c),l.push(SX(f,d,i,c));return l}function qP(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function wbe(t,e,n){return t!==0?lc(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Sbe(t){let e,n,r,o,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(o="end",i="start"):(o="start",i="end"),{start:n,end:r,reverse:e,top:o,bottom:i}}function Cbe(t,e,n,r){let o=e.borderSkipped;const i={};if(!o){t.borderSkipped=i;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:a,reverse:l,top:c,bottom:u}=Sbe(t);o==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?o=c:(n._bottom||0)===r?o=u:(i[qz(u,s,a,l)]=!0,o=c)),i[qz(o,s,a,l)]=!0,t.borderSkipped=i}function qz(t,e,n,r){return r?(t=_be(t,e,n),t=Kz(t,n,e)):t=Kz(t,e,n),t}function _be(t,e,n){return t===e?n:t===n?e:t}function Kz(t,e,n){return t==="start"?e:t==="end"?n:t}function Ebe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class JS extends bh{parsePrimitiveData(e,n,r,o){return Uz(e,n,r,o)}parseArrayData(e,n,r,o){return Uz(e,n,r,o)}parseObjectData(e,n,r,o){const{iScale:i,vScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=s.axis==="x"?a:l,d=[];let f,m,g,v;for(f=r,m=r+o;f<m;++f)v=n[f],g={},g[i.axis]=i.parse(qh(v,c),f),d.push(SX(qh(v,u),g,s,f));return d}updateRangeFromParsed(e,n,r,o){super.updateRangeFromParsed(e,n,r,o);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:o}=n,i=this.getParsed(e),s=i._custom,a=qP(s)?"["+s.start+", "+s.end+"]":""+o.getLabelForValue(i[o.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,o){const i=o==="reset",{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,o);for(let m=n;m<n+r;m++){const g=this.getParsed(m),v=i||cr(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,u),b=(g._stacks||{})[a.axis],x={horizontal:c,base:v.base,enableBorderRadius:!b||qP(g._custom)||s===b._top||s===b._bottom,x:c?v.head:y.center,y:c?y.center:v.head,height:c?y.size:Math.abs(v.size),width:c?Math.abs(v.size):y.size};f&&(x.options=d||this.resolveDataElementOptions(m,e[m].active?"active":o));const w=x.options||e[m].options;Cbe(x,w,b,s),Ebe(x,w,u.ratio),this.updateElement(e[m],m,x,o)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=r.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(m=>m[r.axis]===l),f=d&&d[u.vScale.axis];if(cr(f)||isNaN(f))return!0};for(const u of o)if(!(n!==void 0&&c(u))&&((i===!1||s.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&s.push(u.stack),u.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const o=this._getStacks(e,r),i=n!==void 0?o.indexOf(n):-1;return i===-1?o.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,o=[];let i,s;for(i=0,s=n.data.length;i<s;++i)o.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=e.barThickness;return{min:a||vbe(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:i,minBarLength:s}}=this,a=i||0,l=this.getParsed(e),c=l._custom,u=qP(c);let d=l[n.axis],f=0,m=r?this.applyStack(n,l,r):d,g,v;m!==d&&(f=m-d,m=d),u&&(d=c.barStart,m=c.barEnd-c.barStart,d!==0&&lc(d)!==lc(c.barEnd)&&(f=0),f+=d);const y=!cr(i)&&!u?i:f;let b=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+m):g=b,v=g-b,Math.abs(v)<s){v=wbe(v,n,a)*s,d===a&&(b-=v/2);const x=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),C=Math.min(x,w),E=Math.max(x,w);b=Math.max(Math.min(b,E),C),g=b+v,r&&!u&&(l._stacks[n.axis]._visualValues[o]=n.getValueForPixel(g)-n.getValueForPixel(b))}if(b===n.getPixelForValue(a)){const x=lc(v)*n.getLineWidthForValue(a)/2;b+=x,v-=x}return{size:v,base:b,head:g,center:g+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,o=this.options,i=o.skipNull,s=kn(o.maxBarThickness,1/0);let a,l;if(n.grouped){const c=i?this._getStackCount(e):n.stackCount,u=o.barThickness==="flex"?bbe(e,n,o,c):ybe(e,n,o,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(s,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(s,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,o=r.length;let i=0;for(;i<o;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}Ye(JS,"id","bar"),Ye(JS,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ye(JS,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Tbe(t,e,n){let r=1,o=1,i=0,s=0;if(e<uo){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),m=(w,C,E)=>Wb(w,a,l,!0)?1:Math.max(C,C*n,E,E*n),g=(w,C,E)=>Wb(w,a,l,!0)?-1:Math.min(C,C*n,E,E*n),v=m(0,c,d),y=m(Jo,u,f),b=g(Co,c,d),x=g(Co+Jo,u,f);r=(v-b)/2,o=(y-x)/2,i=-(v+b)/2,s=-(y+x)/2}return{ratioX:r,ratioY:o,offsetX:i,offsetY:s}}class d0 extends bh{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let i=l=>+r[l];if(Ln(r[e])){const{key:l="value"}=this._parsing;i=c=>+qh(r[c],l)}let s,a;for(s=e,a=e+n;s<a;++s)o._parsed[s]=i(s)}}_getRotation(){return eu(this.options.rotation-90)}_getCircumference(){return eu(this.options.circumference)}_getRotationExtents(){let e=uo,n=-uo;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,i=o._getRotation(),s=o._getCircumference();e=Math.min(e,i),n=Math.max(n,i+s)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,o=this._cachedMeta,i=o.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-s)/2,0),l=Math.min(Aye(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:v}=Tbe(d,u,l),y=(r.width-s)/f,b=(r.height-s)/m,x=Math.max(Math.min(y,b)/2,0),w=ZY(this.options.radius,x),C=Math.max(w*l,0),E=(w-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=v*w,o.total=this.calculateTotal(),this.outerRadius=w-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,o=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*i/uo)}updateElements(e,n,r,o){const i=o==="reset",s=this.chart,a=s.chartArea,c=s.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=i&&c.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:v,includeOptions:y}=this._getSharedOptions(n,o);let b=this._getRotation(),x;for(x=0;x<n;++x)b+=this._circumference(x,i);for(x=n;x<n+r;++x){const w=this._circumference(x,i),C=e[x],E={x:u+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+w,circumference:w,outerRadius:g,innerRadius:m};y&&(E.options=v||this.resolveDataElementOptions(x,C.active?"active":o)),b+=w,this.updateElement(C,x,E,o)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,o;for(o=0;o<n.length;o++){const i=e._parsed[o];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?uo*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,o=r.data.labels||[],i=$N(n._parsed[e],r.options.locale);return{label:o[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let o,i,s,a,l;if(!e){for(o=0,i=r.data.datasets.length;o<i;++o)if(r.isDatasetVisible(o)){s=r.getDatasetMeta(o),e=s.data,a=s.controller;break}}if(!e)return 0;for(o=0,i=e.length;o<i;++o)l=a.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,o=e.length;r<o;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(kn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ye(d0,"id","doughnut"),Ye(d0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ye(d0,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ye(d0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((i,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class ZS extends bh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:o=[],_dataset:i}=n,s=this.chart._animationsDisabled;let{start:a,count:l}=t0e(n,o,s);this._drawStart=a,this._drawCount=l,n0e(n)&&(a=0,l=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=o;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:c},e),this.updateElements(o,a,l,e)}updateElements(e,n,r,o){const i=o==="reset",{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,o),f=s.axis,m=a.axis,{spanGaps:g,segment:v}=this.options,y=Hb(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||o==="none",x=n+r,w=e.length;let C=n>0&&this.getParsed(n-1);for(let E=0;E<w;++E){const _=e[E],S=b?_:{};if(E<n||E>=x){S.skip=!0;continue}const T=this.getParsed(E),I=cr(T[m]),P=S[f]=s.getPixelForValue(T[f],E),M=S[m]=i||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[m],E);S.skip=isNaN(P)||isNaN(M)||I,S.stop=E>0&&Math.abs(T[f]-C[f])>y,v&&(S.parsed=T,S.raw=c.data[E]),d&&(S.options=u||this.resolveDataElementOptions(E,_.active?"active":o)),b||this.updateElement(_,E,S,o),C=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const i=o[0].size(this.resolveDataElementOptions(0)),s=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ye(ZS,"id","line"),Ye(ZS,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ye(ZS,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class a$ extends d0{}Ye(a$,"id","pie"),Ye(a$,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Rf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class FN{constructor(e){Ye(this,"options");this.options=e||{}}static override(e){Object.assign(FN.prototype,e)}init(){}formats(){return Rf()}parse(){return Rf()}format(){return Rf()}add(){return Rf()}diff(){return Rf()}startOf(){return Rf()}endOf(){return Rf()}}var Ibe={_date:FN};function Pbe(t,e,n,r){const{controller:o,data:i,_sorted:s}=t,a=o._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&i.length){const c=a._reversePixels?Xye:sh;if(r){if(o._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(i,e,n-d),m=c(i,e,n+d);return{lo:f.lo,hi:m.hi}}}}else{const u=c(i,e,n);if(l){const{vScale:d}=o._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(v=>!cr(v[d.axis]));u.lo-=Math.max(0,m);const g=f.slice(u.hi).findIndex(v=>!cr(v[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function A2(t,e,n,r,o){const i=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=Pbe(i[a],e,s,o);for(let m=d;m<=f;++m){const g=u[m];g.skip||r(g,c,m)}}}function Rbe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,o){const i=e?Math.abs(r.x-o.x):0,s=n?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}function KP(t,e,n,r,o){const i=[];return!o&&!t.isPointInArea(e)||A2(t,n,e,function(a,l,c){!o&&!Ub(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function kbe(t,e,n,r){let o=[];function i(s,a,l){const{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=nX(s,{x:e.x,y:e.y});Wb(d,c,u)&&o.push({element:s,datasetIndex:a,index:l})}return A2(t,n,e,i),o}function Dbe(t,e,n,r,o,i){let s=[];const a=Rbe(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const m=u.inRange(e.x,e.y,o);if(r&&!m)return;const g=u.getCenterPoint(o);if(!(!!i||t.isPointInArea(g))&&!m)return;const y=a(e,g);y<l?(s=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&s.push({element:u,datasetIndex:d,index:f})}return A2(t,n,e,c),s}function GP(t,e,n,r,o,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?kbe(t,e,n,o):Dbe(t,e,n,r,o,i)}function Gz(t,e,n,r,o){const i=[],s=n==="x"?"inXRange":"inYRange";let a=!1;return A2(t,n,e,(l,c,u)=>{l[s]&&l[s](e[n],o)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,o))}),r&&!a?[]:i}var $be={modes:{index(t,e,n,r){const o=Lf(e,t),i=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?KP(t,o,i,r,s):GP(t,o,i,!1,r,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const o=Lf(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?KP(t,o,i,r,s):GP(t,o,i,!1,r,s);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const o=Lf(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;return KP(t,o,i,r,s)},nearest(t,e,n,r){const o=Lf(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;return GP(t,o,i,n.intersect,r,s)},x(t,e,n,r){const o=Lf(e,t);return Gz(t,o,"x",n.intersect,r)},y(t,e,n,r){const o=Lf(e,t);return Gz(t,o,"y",n.intersect,r)}}};const CX=["left","top","right","bottom"];function vy(t,e){return t.filter(n=>n.pos===e)}function Yz(t,e){return t.filter(n=>CX.indexOf(n.pos)===-1&&n.box.axis===e)}function yy(t,e){return t.sort((n,r)=>{const o=e?r:n,i=e?n:r;return o.weight===i.weight?o.index-i.index:o.weight-i.weight})}function Mbe(t){const e=[];let n,r,o,i,s,a;for(n=0,r=(t||[]).length;n<r;++n)o=t[n],{position:i,options:{stack:s,stackWeight:a=1}}=o,e.push({index:n,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&i+s,stackWeight:a});return e}function Obe(t){const e={};for(const n of t){const{stack:r,pos:o,stackWeight:i}=n;if(!r||!CX.includes(o))continue;const s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}function Abe(t,e){const n=Obe(t),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let i,s,a;for(i=0,s=t.length;i<s;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=o):(a.width=r,a.height=u?u*o:l&&e.availableHeight)}return n}function Nbe(t){const e=Mbe(t),n=yy(e.filter(c=>c.box.fullSize),!0),r=yy(vy(e,"left"),!0),o=yy(vy(e,"right")),i=yy(vy(e,"top"),!0),s=yy(vy(e,"bottom")),a=Yz(e,"x"),l=Yz(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:vy(e,"chartArea"),vertical:r.concat(o).concat(l),horizontal:i.concat(s).concat(a)}}function Xz(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function _X(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function jbe(t,e,n,r){const{pos:o,box:i}=n,s=t.maxPadding;if(!Ln(o)){n.size&&(t[o]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[o]+=n.size}i.getPadding&&_X(s,i.getPadding());const a=Math.max(0,e.outerWidth-Xz(s,t,"left","right")),l=Math.max(0,e.outerHeight-Xz(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Lbe(t){const e=t.maxPadding;function n(r){const o=Math.max(e[r]-t[r],0);return t[r]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Fbe(t,e){const n=e.maxPadding;function r(o){const i={left:0,top:0,right:0,bottom:0};return o.forEach(s=>{i[s]=Math.max(e[s],n[s])}),i}return r(t?["left","right"]:["top","bottom"])}function f0(t,e,n,r){const o=[];let i,s,a,l,c,u;for(i=0,s=t.length,c=0;i<s;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,Fbe(a.horizontal,e));const{same:d,other:f}=jbe(e,n,a,r);c|=d&&o.length,u=u||f,l.fullSize||o.push(a)}return c&&f0(o,e,n,r)||u}function D1(t,e,n,r,o){t.top=n,t.left=e,t.right=e+r,t.bottom=n+o,t.width=r,t.height=o}function Qz(t,e,n,r){const o=n.padding;let{x:i,y:s}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Vb(c.start)&&(s=c.start),l.fullSize?D1(l,o.left,s,n.outerWidth-o.right-o.left,f):D1(l,e.left+c.placed,s,d,f),c.start=s,c.placed+=d,s=l.bottom}else{const d=e.h*u,f=c.size||l.width;Vb(c.start)&&(i=c.start),l.fullSize?D1(l,i,o.top,f,n.outerHeight-o.bottom-o.top):D1(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=s}var $a={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const o=La(t.options.layout.padding),i=Math.max(e-o.width,0),s=Math.max(n-o.height,0),a=Nbe(t.boxes),l=a.vertical,c=a.horizontal;mr(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,y)=>y.box.options&&y.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:i,availableHeight:s,vBoxMaxWidth:i/2/u,hBoxMaxHeight:s/2}),f=Object.assign({},o);_X(f,La(r));const m=Object.assign({maxPadding:f,w:i,h:s,x:o.left,y:o.top},o),g=Abe(l.concat(c),d);f0(a.fullSize,m,d,g),f0(l,m,d,g),f0(c,m,d,g)&&f0(l,m,d,g),Lbe(m),Qz(a.leftAndTop,m,d,g),m.x+=m.w,m.y+=m.h,Qz(a.rightAndBottom,m,d,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},mr(a.chartArea,v=>{const y=v.box;Object.assign(y,t.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class EX{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,o){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,o?Math.floor(n/o):r)}}isAttached(e){return!0}updateConfig(e){}}class zbe extends EX{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eC="$chartjs",Bbe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jz=t=>t===null||t==="";function Vbe(t,e){const n=t.style,r=t.getAttribute("height"),o=t.getAttribute("width");if(t[eC]={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Jz(o)){const i=Az(t,"width");i!==void 0&&(t.width=i)}if(Jz(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Az(t,"height");i!==void 0&&(t.height=i)}return t}const TX=U0e?{passive:!0}:!1;function Hbe(t,e,n){t&&t.addEventListener(e,n,TX)}function Wbe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,TX)}function Ube(t,e){const n=Bbe[t.type]||t.type,{x:r,y:o}=Lf(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:o!==void 0?o:null}}function O_(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function qbe(t,e,n){const r=t.canvas,o=new MutationObserver(i=>{let s=!1;for(const a of i)s=s||O_(a.addedNodes,r),s=s&&!O_(a.removedNodes,r);s&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function Kbe(t,e,n){const r=t.canvas,o=new MutationObserver(i=>{let s=!1;for(const a of i)s=s||O_(a.removedNodes,r),s=s&&!O_(a.addedNodes,r);s&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Kb=new Map;let Zz=0;function IX(){const t=window.devicePixelRatio;t!==Zz&&(Zz=t,Kb.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Gbe(t,e){Kb.size||window.addEventListener("resize",IX),Kb.set(t,e)}function Ybe(t){Kb.delete(t),Kb.size||window.removeEventListener("resize",IX)}function Xbe(t,e,n){const r=t.canvas,o=r&&LN(r);if(!o)return;const i=sX((a,l)=>{const c=o.clientWidth;n(a,l),c<o.clientWidth&&n()},window),s=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return s.observe(o),Gbe(t,i),s}function YP(t,e,n){n&&n.disconnect(),e==="resize"&&Ybe(t)}function Qbe(t,e,n){const r=t.canvas,o=sX(i=>{t.ctx!==null&&n(Ube(i,t))},t);return Hbe(r,e,o),o}class Jbe extends EX{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Vbe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[eC])return!1;const r=n[eC].initial;["height","width"].forEach(i=>{const s=r[i];cr(s)?n.removeAttribute(i):n.setAttribute(i,s)});const o=r.style||{};return Object.keys(o).forEach(i=>{n.style[i]=o[i]}),n.width=n.width,delete n[eC],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const o=e.$proxies||(e.$proxies={}),s={attach:qbe,detach:Kbe,resize:Xbe}[n]||Qbe;o[n]=s(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),o=r[n];if(!o)return;({attach:YP,detach:YP,resize:YP}[n]||Wbe)(e,n,o),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,o){return W0e(e,n,r,o)}isAttached(e){const n=e&&LN(e);return!!(n&&n.isConnected)}}function Zbe(t){return!jN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?zbe:Jbe}var ES;let Du=(ES=class{constructor(){Ye(this,"x");Ye(this,"y");Ye(this,"active",!1);Ye(this,"options");Ye(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Hb(this.x)&&Hb(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const o={};return e.forEach(i=>{o[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),o}},Ye(ES,"defaults",{}),Ye(ES,"defaultRoutes"),ES);function exe(t,e){const n=t.options.ticks,r=txe(t),o=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?rxe(e):[],s=i.length,a=i[0],l=i[s-1],c=[];if(s>o)return oxe(e,c,i,s/o),c;const u=nxe(i,e,o);if(s>0){let d,f;const m=s>1?Math.round((l-a)/(s-1)):null;for($1(e,c,u,cr(m)?0:a-m,a),d=0,f=s-1;d<f;d++)$1(e,c,u,i[d],i[d+1]);return $1(e,c,u,l,cr(m)?e.length:l+m),c}return $1(e,c,u),c}function txe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(r,o))}function nxe(t,e,n){const r=ixe(t),o=e.length/n;if(!r)return Math.max(o,1);const i=Hye(r);for(let s=0,a=i.length-1;s<a;s++){const l=i[s];if(l>o)return l}return Math.max(o,1)}function rxe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function oxe(t,e,n,r){let o=0,i=n[0],s;for(r=Math.ceil(r),s=0;s<t.length;s++)s===i&&(e.push(t[s]),o++,i=n[o*r])}function $1(t,e,n,r,o){const i=kn(r,0),s=Math.min(kn(o,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),o&&(l=o-r,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<s;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function ixe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const sxe=t=>t==="left"?"right":t==="right"?"left":t,eB=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,tB=(t,e)=>Math.min(e||t,t);function nB(t,e){const n=[],r=t.length/e,o=t.length;let i=0;for(;i<o;i+=r)n.push(t[Math.floor(i)]);return n}function axe(t,e,n){const r=t.ticks.length,o=Math.min(e,r-1),i=t._startPixel,s=t._endPixel,a=1e-6;let l=t.getPixelForTick(o),c;if(!(n&&(r===1?c=Math.max(l-i,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(o-1))/2,l+=o<e?c:-c,l<i-a||l>s+a)))return l}function lxe(t,e){mr(t,n=>{const r=n.gc,o=r.length/2;let i;if(o>e){for(i=0;i<o;++i)delete n.data[r[i]];r.splice(0,o)}})}function by(t){return t.drawTicks?t.tickLength:0}function rB(t,e){if(!t.display)return 0;const n=Vi(t.font,e),r=La(t.padding);return(Vo(t.text)?t.text.length:1)*n.lineHeight+r.height}function cxe(t,e){return pp(t,{scale:e,type:"scale"})}function uxe(t,e,n){return pp(t,{tick:n,index:e,type:"tick"})}function dxe(t,e,n){let r=kN(t);return(n&&e!=="right"||!n&&e==="right")&&(r=sxe(r)),r}function fxe(t,e,n,r){const{top:o,left:i,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,m,g;const v=s-o,y=a-i;if(t.isHorizontal()){if(m=ji(r,i,a),Ln(n)){const b=Object.keys(n)[0],x=n[b];g=u[b].getPixelForValue(x)+v-e}else n==="center"?g=(c.bottom+c.top)/2+v-e:g=eB(t,n,e);f=a-i}else{if(Ln(n)){const b=Object.keys(n)[0],x=n[b];m=u[b].getPixelForValue(x)-y+e}else n==="center"?m=(c.left+c.right)/2-y+e:m=eB(t,n,e);g=ji(r,s,o),d=n==="left"?-Jo:Jo}return{titleX:m,titleY:g,maxWidth:f,rotation:d}}class Iv extends Du{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:o}=this;return e=Dl(e,Number.POSITIVE_INFINITY),n=Dl(n,Number.NEGATIVE_INFINITY),r=Dl(r,Number.POSITIVE_INFINITY),o=Dl(o,Number.NEGATIVE_INFINITY),{min:Dl(e,r),max:Dl(n,o),minDefined:qi(e),maxDefined:qi(n)}}getMinMax(e){let{min:n,max:r,minDefined:o,maxDefined:i}=this.getUserBounds(),s;if(o&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),o||(n=Math.min(n,s.min)),i||(r=Math.max(r,s.max));return n=i&&n>r?r:n,r=o&&n>r?n:r,{min:Dl(n,Dl(r,n)),max:Dl(r,Dl(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wr(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:o,grace:i,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=S0e(this,i,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?nB(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=exe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wr(this.options.afterUpdate,[this])}beforeSetDimensions(){Wr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r],i.label=Wr(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Wr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=tB(this.ticks.length,e.ticks.maxTicksLimit),o=n.minRotation||0,i=n.maxRotation;let s=o,a,l,c;if(!this._isVisible()||!n.display||o>=i||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,m=Bi(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-by(e.grid)-n.padding-rB(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),s=Kye(Math.min(Math.asin(Bi((u.highest.height+6)/a,-1,1)),Math.asin(Bi(l/c,-1,1))-Math.asin(Bi(f/c,-1,1)))),s=Math.max(o,Math.min(i,s))),this.labelRotation=s}afterCalculateLabelRotation(){Wr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:o,grid:i}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=rB(o,n.options.font);if(a?(e.width=this.maxWidth,e.height=by(i)+l):(e.height=this.maxHeight,e.width=by(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,g=eu(this.labelRotation),v=Math.cos(g),y=Math.sin(g);if(a){const b=r.mirror?0:y*d.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+b+m)}else{const b=r.mirror?0:v*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+b+m)}this._calculatePadding(c,u,y,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,o){const{ticks:{align:i,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=o*e.width,m=r*n.height):(f=r*e.height,m=o*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-d+s)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)cr(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=nB(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:o,_longestTextCache:i}=this,s=[],a=[],l=Math.floor(n/tB(n,r));let c=0,u=0,d,f,m,g,v,y,b,x,w,C,E;for(d=0;d<n;d+=l){if(g=e[d].label,v=this._resolveTickFontOptions(d),o.font=y=v.string,b=i[y]=i[y]||{data:{},gc:[]},x=v.lineHeight,w=C=0,!cr(g)&&!Vo(g))w=kz(o,b.data,b.gc,w,g),C=x;else if(Vo(g))for(f=0,m=g.length;f<m;++f)E=g[f],!cr(E)&&!Vo(E)&&(w=kz(o,b.data,b.gc,w,E),C+=x);s.push(w),a.push(C),c=Math.max(w,c),u=Math.max(C,u)}lxe(i,n);const _=s.indexOf(c),S=a.indexOf(u),T=I=>({width:s[I]||0,height:a[I]||0});return{first:T(0),last:T(n-1),widest:T(_),highest:T(S),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Yye(this._alignToPixels?Pf(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=uxe(this.getContext(),e,r))}return this.$context||(this.$context=cxe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=eu(this.labelRotation),r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,a=i?i.widest.width+s:0,l=i?i.highest.height+s:0;return this.isHorizontal()?l*r>a*o?a/r:l/o:l*o<a*r?l/r:a/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,o=this.options,{grid:i,position:s,border:a}=o,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=by(i),m=[],g=a.setContext(this.getContext()),v=g.display?g.width:0,y=v/2,b=function(N){return Pf(r,N,v)};let x,w,C,E,_,S,T,I,P,M,R,k;if(s==="top")x=b(this.bottom),S=this.bottom-f,I=x-y,M=b(e.top)+y,k=e.bottom;else if(s==="bottom")x=b(this.top),M=e.top,k=b(e.bottom)-y,S=x+y,I=this.top+f;else if(s==="left")x=b(this.right),_=this.right-f,T=x-y,P=b(e.left)+y,R=e.right;else if(s==="right")x=b(this.left),P=e.left,R=b(e.right)-y,_=x+y,T=this.left+f;else if(n==="x"){if(s==="center")x=b((e.top+e.bottom)/2+.5);else if(Ln(s)){const N=Object.keys(s)[0],O=s[N];x=b(this.chart.scales[N].getPixelForValue(O))}M=e.top,k=e.bottom,S=x+y,I=S+f}else if(n==="y"){if(s==="center")x=b((e.left+e.right)/2);else if(Ln(s)){const N=Object.keys(s)[0],O=s[N];x=b(this.chart.scales[N].getPixelForValue(O))}_=x-y,T=_-f,P=e.left,R=e.right}const D=kn(o.ticks.maxTicksLimit,d),A=Math.max(1,Math.ceil(d/D));for(w=0;w<d;w+=A){const N=this.getContext(w),O=i.setContext(N),j=a.setContext(N),L=O.lineWidth,z=O.color,V=j.dash||[],W=j.dashOffset,Y=O.tickWidth,U=O.tickColor,q=O.tickBorderDash||[],K=O.tickBorderDashOffset;C=axe(this,w,l),C!==void 0&&(E=Pf(r,C,L),c?_=T=P=R=E:S=I=M=k=E,m.push({tx1:_,ty1:S,tx2:T,ty2:I,x1:P,y1:M,x2:R,y2:k,width:L,color:z,borderDash:V,borderDashOffset:W,tickWidth:Y,tickColor:U,tickBorderDash:q,tickBorderDashOffset:K}))}return this._ticksLength=d,this._borderValue=x,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:o,ticks:i}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=by(r.grid),m=f+u,g=d?-u:m,v=-eu(this.labelRotation),y=[];let b,x,w,C,E,_,S,T,I,P,M,R,k="middle";if(o==="top")_=this.bottom-g,S=this._getXAxisLabelAlignment();else if(o==="bottom")_=this.top+g,S=this._getXAxisLabelAlignment();else if(o==="left"){const A=this._getYAxisLabelAlignment(f);S=A.textAlign,E=A.x}else if(o==="right"){const A=this._getYAxisLabelAlignment(f);S=A.textAlign,E=A.x}else if(n==="x"){if(o==="center")_=(e.top+e.bottom)/2+m;else if(Ln(o)){const A=Object.keys(o)[0],N=o[A];_=this.chart.scales[A].getPixelForValue(N)+m}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")E=(e.left+e.right)/2-m;else if(Ln(o)){const A=Object.keys(o)[0],N=o[A];E=this.chart.scales[A].getPixelForValue(N)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?k="top":l==="end"&&(k="bottom"));const D=this._getLabelSizes();for(b=0,x=a.length;b<x;++b){w=a[b],C=w.label;const A=i.setContext(this.getContext(b));T=this.getPixelForTick(b)+i.labelOffset,I=this._resolveTickFontOptions(b),P=I.lineHeight,M=Vo(C)?C.length:1;const N=M/2,O=A.color,j=A.textStrokeColor,L=A.textStrokeWidth;let z=S;s?(E=T,S==="inner"&&(b===x-1?z=this.options.reverse?"left":"right":b===0?z=this.options.reverse?"right":"left":z="center"),o==="top"?c==="near"||v!==0?R=-M*P+P/2:c==="center"?R=-D.highest.height/2-N*P+P:R=-D.highest.height+P/2:c==="near"||v!==0?R=P/2:c==="center"?R=D.highest.height/2-N*P:R=D.highest.height-M*P,d&&(R*=-1),v!==0&&!A.showLabelBackdrop&&(E+=P/2*Math.sin(v))):(_=T,R=(1-M)*P/2);let V;if(A.showLabelBackdrop){const W=La(A.backdropPadding),Y=D.heights[b],U=D.widths[b];let q=R-W.top,K=0-W.left;switch(k){case"middle":q-=Y/2;break;case"bottom":q-=Y;break}switch(S){case"center":K-=U/2;break;case"right":K-=U;break;case"inner":b===x-1?K-=U:b>0&&(K-=U/2);break}V={left:K,top:q,width:U+W.width,height:Y+W.height,color:A.backdropColor}}y.push({label:C,font:I,textOffset:R,options:{rotation:v,color:O,strokeColor:j,strokeWidth:L,textAlign:z,textBaseline:k,translation:[E,_],backdrop:V}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-eu(this.labelRotation))return e==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:o,padding:i}}=this.options,s=this._getLabelSizes(),a=e+i,l=s.widest.width;let c,u;return n==="left"?o?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?o?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:o,width:i,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,o,i,s),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(i=>i.value===e);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,s=o.length;i<s;++i){const l=o[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:o}}=this,i=r.setContext(this.getContext()),s=r.display?i.width:0;if(!s)return;const a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Pf(e,this.left,s)-s/2,u=Pf(e,this.right,a)+a/2,d=f=l):(d=Pf(e,this.top,s)-s/2,f=Pf(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&$2(r,o);const i=this.getLabelItems(e);for(const s of i){const a=s.options,l=s.font,c=s.label,u=s.textOffset;qb(r,c,0,u,l,a)}o&&M2(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:o}}=this;if(!r.display)return;const i=Vi(r.font),s=La(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||Ln(n)?(l+=s.bottom,Vo(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=s.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=fxe(this,l,n,a);qb(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:dxe(a,n,o),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=kn(e.grid&&e.grid.z,-1),o=kn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Iv.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&o.push(a)}return o}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vi(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class M1{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;mxe(n)&&(r=this.register(n));const o=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in o||(o[i]=e,hxe(e,s,r),this.override&&Ro.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,o=this.scope;r in n&&delete n[r],o&&r in Ro[o]&&(delete Ro[o][r],this.override&&delete Kh[r])}}function hxe(t,e,n){const r=Bb(Object.create(null),[n?Ro.get(n):{},Ro.get(e),t.defaults]);Ro.set(e,r),t.defaultRoutes&&pxe(e,t.defaultRoutes),t.descriptors&&Ro.describe(e,t.descriptors)}function pxe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),o=r.pop(),i=[t].concat(r).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Ro.route(i,o,l,a)})}function mxe(t){return"id"in t&&"defaults"in t}class gxe{constructor(){this.controllers=new M1(bh,"datasets",!0),this.elements=new M1(Du,"elements"),this.plugins=new M1(Object,"plugins"),this.scales=new M1(Iv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(o=>{const i=r||this._getRegistryForType(o);r||i.isForType(o)||i===this.plugins&&o.id?this._exec(e,i,o):mr(o,s=>{const a=r||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,n,r){const o=PN(e);Wr(r["before"+o],[],r),n[e](r),Wr(r["after"+o],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const o=n.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var Nl=new gxe;class vxe{constructor(){this._init=[]}notify(e,n,r,o){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=o?this._descriptors(e).filter(o):this._descriptors(e),s=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,r,o){o=o||{};for(const i of e){const s=i.plugin,a=s[r],l=[n,o,i.options];if(Wr(a,l,s)===!1&&o.cancelable)return!1}return!0}invalidate(){cr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,o=kn(r.options&&r.options.plugins,{}),i=yxe(r);return o===!1&&!n?[]:xxe(e,i,o,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,o=(i,s)=>i.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(o(n,r),e,"stop"),this._notify(o(r,n),e,"start")}}function yxe(t){const e={},n=[],r=Object.keys(Nl.plugins.items);for(let i=0;i<r.length;i++)n.push(Nl.getPlugin(r[i]));const o=t.plugins||[];for(let i=0;i<o.length;i++){const s=o[i];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function bxe(t,e){return!e&&t===!1?null:t===!0?{}:t}function xxe(t,{plugins:e,localIds:n},r,o){const i=[],s=t.getContext();for(const a of e){const l=a.id,c=bxe(r[l],o);c!==null&&i.push({plugin:a,options:wxe(t.config,{plugin:a,local:n[l]},c,s)})}return i}function wxe(t,{plugin:e,local:n},r,o){const i=t.pluginScopeKeys(e),s=t.getOptionScopes(r,i);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function l$(t,e){const n=Ro.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Sxe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Cxe(t,e){return t===e?"_index_":"_value_"}function oB(t){if(t==="x"||t==="y"||t==="r")return t}function _xe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function c$(t,...e){if(oB(t))return t;for(const n of e){const r=n.axis||_xe(n.position)||t.length>1&&oB(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function iB(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Exe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return iB(t,"x",n[0])||iB(t,"y",n[0])}return{}}function Txe(t,e){const n=Kh[t.type]||{scales:{}},r=e.scales||{},o=l$(t.type,e),i=Object.create(null);return Object.keys(r).forEach(s=>{const a=r[s];if(!Ln(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=c$(s,a,Exe(s,t),Ro.scales[a.type]),c=Cxe(l,o),u=n.scales||{};i[s]=F0(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(s=>{const a=s.type||t.type,l=s.indexAxis||l$(a,e),u=(Kh[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=Sxe(d,l),m=s[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),F0(i[m],[{axis:f},r[m],u[d]])})}),Object.keys(i).forEach(s=>{const a=i[s];F0(a,[Ro.scales[a.type],Ro.scale])}),i}function PX(t){const e=t.options||(t.options={});e.plugins=kn(e.plugins,{}),e.scales=Txe(t,e)}function RX(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Ixe(t){return t=t||{},t.data=RX(t.data),PX(t),t}const sB=new Map,kX=new Set;function O1(t,e){let n=sB.get(t);return n||(n=e(),sB.set(t,n),kX.add(n)),n}const xy=(t,e,n)=>{const r=qh(e,n);r!==void 0&&t.add(r)};class Pxe{constructor(e){this._config=Ixe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=RX(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PX(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return O1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return O1(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return O1(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return O1(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let o=r.get(e);return(!o||n)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,n,r){const{options:o,type:i}=this,s=this._cachedScopes(e,r),a=s.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>xy(l,e,d))),u.forEach(d=>xy(l,o,d)),u.forEach(d=>xy(l,Kh[i]||{},d)),u.forEach(d=>xy(l,Ro,d)),u.forEach(d=>xy(l,i$,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),kX.has(n)&&s.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Kh[n]||{},Ro.datasets[n]||{},{type:n},Ro,i$]}resolveNamedOptions(e,n,r,o=[""]){const i={$shared:!0},{resolver:s,subPrefixes:a}=aB(this._resolverCache,e,o);let l=s;if(kxe(s,n)){i.$shared=!1,r=rf(r)?r():r;const c=this.createResolver(e,r,a);l=Og(s,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],o){const{resolver:i}=aB(this._resolverCache,e,r);return Ln(n)?Og(i,n,void 0,o):i}}function aB(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const o=n.join();let i=r.get(o);return i||(i={resolver:ON(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(o,i)),i}const Rxe=t=>Ln(t)&&Object.getOwnPropertyNames(t).some(e=>rf(t[e]));function kxe(t,e){const{isScriptable:n,isIndexable:r}=uX(t);for(const o of e){const i=n(o),s=r(o),a=(s||i)&&t[o];if(i&&(rf(a)||Rxe(a))||s&&Vo(a))return!0}return!1}var Dxe="4.4.8";const $xe=["top","bottom","left","right","chartArea"];function lB(t,e){return t==="top"||t==="bottom"||$xe.indexOf(t)===-1&&e==="x"}function cB(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function uB(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Wr(n&&n.onComplete,[t],e)}function Mxe(t){const e=t.chart,n=e.options.animation;Wr(n&&n.onProgress,[t],e)}function DX(t){return jN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const tC={},dB=t=>{const e=DX(t);return Object.values(tC).filter(n=>n.canvas===e).pop()};function Oxe(t,e,n){const r=Object.keys(t);for(const o of r){const i=+o;if(i>=e){const s=t[o];delete t[o],(n>0||i>e)&&(t[i+n]=s)}}}function Axe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function A1(t,e,n){return t.options.clip?t[n]:e[n]}function Nxe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:A1(n,e,"left"),right:A1(n,e,"right"),top:A1(r,e,"top"),bottom:A1(r,e,"bottom")}:e}var Zu;let N2=(Zu=class{static register(...e){Nl.add(...e),fB()}static unregister(...e){Nl.remove(...e),fB()}constructor(e,n){const r=this.config=new Pxe(n),o=DX(e),i=dB(o);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Zbe(o)),this.platform.updateConfig(r);const a=this.platform.acquireContext(o,s.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Oye(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vxe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Zye(d=>this.update(d),s.resizeDelay||0),this._dataChanges=[],tC[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}jc.listen(this,"complete",uB),jc.listen(this,"progress",Mxe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:o,_aspectRatio:i}=this;return cr(e)?n&&i?i:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Nl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Oz(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dz(this.canvas,this.ctx),this}stop(){return jc.stop(this),this}resize(e,n){jc.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,o=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(o,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Oz(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),Wr(r.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};mr(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,o=Object.keys(r).reduce((s,a)=>(s[a]=!1,s),{});let i=[];n&&(i=i.concat(Object.keys(n).map(s=>{const a=n[s],l=c$(s,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),mr(i,s=>{const a=s.options,l=a.id,c=c$(l,a),u=kn(a.type,s.dtype);(a.position===void 0||lB(a.position,c)!==lB(s.dposition))&&(a.position=s.dposition),o[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=Nl.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),mr(o,(s,a)=>{s||delete r[a]}),mr(r,s=>{$a.configure(this,s,s.options),$a.addBox(this,s)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((o,i)=>o.index-i.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(cB("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,o)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){const i=n[r];let s=this.getDatasetMeta(r);const a=i.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=a,s.indexAxis=i.indexAxis||l$(a,this.options),s.order=i.order||0,s.index=r,s.label=""+i.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const l=Nl.getController(a),{datasetElementType:c,dataElementType:u}=Ro.datasets[a];Object.assign(l,{dataElementType:Nl.getElement(u),datasetElementType:c&&Nl.getElement(c)}),s.controller=new l(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){mr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!o&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),s=Math.max(+d.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),o||mr(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cB("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){mr(this.scales,e=>{$a.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!wz(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:i}of n){const s=r==="_removeElements"?-i:i;Oxe(e,o,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(s=>s[0]===i).map((s,a)=>a+","+s.splice(1).join(","))),o=r(0);for(let i=1;i<n;i++)if(!wz(o,r(i)))return;return Array.from(o).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$a.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],mr(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,i)=>{o._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,rf(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(jc.has(this)?this.attached&&!jc.running(this)&&jc.start(this):(this.draw(),uB({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let o,i;for(o=0,i=n.length;o<i;++o){const s=n[o];(!e||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,o=!r.disabled,i=Nxe(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(o&&$2(n,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),o&&M2(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Ub(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,o){const i=$be.modes[n];return typeof i=="function"?i(this,e,r,o):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let o=r.filter(i=>i&&i._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=pp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const o=r?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,o);Vb(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),jc.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Dz(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete tC[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,s)=>{n.addEventListener(this,i,s),e[i]=s},o=(i,s,a)=>{i.offsetX=s,i.offsetY=a,this._eventHandler(i)};mr(this.options.events,i=>r(i,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},o=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let s;const a=()=>{o("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",s)};s=()=>{this.attached=!1,o("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():s()}unbindEvents(){mr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},mr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const o=r?"set":"remove";let i,s,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+o+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){s=e[a];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[o+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:s})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[s],index:s}});!R_(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const o=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),s=i(n,e),a=r?e:i(e,n);s.length&&this.updateHoverStyle(s,o.mode,!1),a.length&&o.mode&&this.updateHoverStyle(a,o.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:o=[],options:i}=this,s=n,a=this._getActiveElements(e,o,r,s),l=zye(e),c=Axe(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Wr(i.onHover,[e,a,this],this),l&&Wr(i.onClick,[e,a,this],this));const u=!R_(a,o);return(u||n)&&(this._active=a,this._updateHoverStyles(a,o,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,o){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,o)}},Ye(Zu,"defaults",Ro),Ye(Zu,"instances",tC),Ye(Zu,"overrides",Kh),Ye(Zu,"registry",Nl),Ye(Zu,"version",Dxe),Ye(Zu,"getChart",dB),Zu);function fB(){return mr(N2.instances,t=>t._plugins.invalidate())}function jxe(t,e,n){const{startAngle:r,pixelMargin:o,x:i,y:s,outerRadius:a,innerRadius:l}=e;let c=o/a;t.beginPath(),t.arc(i,s,a,r-c,n+c),l>o?(c=o/l,t.arc(i,s,l,n+c,r-c,!0)):t.arc(i,s,o,n+Jo,r-Jo),t.closePath(),t.clip()}function Lxe(t){return MN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Fxe(t,e,n,r){const o=Lxe(t.options.borderRadius),i=(n-e)/2,s=Math.min(i,r*e/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return Bi(l,0,Math.min(i,c))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:Bi(o.innerStart,0,s),innerEnd:Bi(o.innerEnd,0,s)}}function jp(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function A_(t,e,n,r,o,i){const{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let m=0;const g=o-l;if(r){const A=u>0?u-r:0,N=d>0?d-r:0,O=(A+N)/2,j=O!==0?g*O/(O+r):g;m=(g-j)/2}const v=Math.max(.001,g*d-n/Co)/d,y=(g-v)/2,b=l+y+m,x=o-y-m,{outerStart:w,outerEnd:C,innerStart:E,innerEnd:_}=Fxe(e,f,d,x-b),S=d-w,T=d-C,I=b+w/S,P=x-C/T,M=f+E,R=f+_,k=b+E/M,D=x-_/R;if(t.beginPath(),i){const A=(I+P)/2;if(t.arc(s,a,d,I,A),t.arc(s,a,d,A,P),C>0){const L=jp(T,P,s,a);t.arc(L.x,L.y,C,P,x+Jo)}const N=jp(R,x,s,a);if(t.lineTo(N.x,N.y),_>0){const L=jp(R,D,s,a);t.arc(L.x,L.y,_,x+Jo,D+Math.PI)}const O=(x-_/f+(b+E/f))/2;if(t.arc(s,a,f,x-_/f,O,!0),t.arc(s,a,f,O,b+E/f,!0),E>0){const L=jp(M,k,s,a);t.arc(L.x,L.y,E,k+Math.PI,b-Jo)}const j=jp(S,b,s,a);if(t.lineTo(j.x,j.y),w>0){const L=jp(S,I,s,a);t.arc(L.x,L.y,w,b-Jo,I)}}else{t.moveTo(s,a);const A=Math.cos(I)*d+s,N=Math.sin(I)*d+a;t.lineTo(A,N);const O=Math.cos(P)*d+s,j=Math.sin(P)*d+a;t.lineTo(O,j)}t.closePath()}function zxe(t,e,n,r,o){const{fullCircles:i,startAngle:s,circumference:a}=e;let l=e.endAngle;if(i){A_(t,e,n,r,l,o);for(let c=0;c<i;++c)t.fill();isNaN(a)||(l=s+(a%uo||uo))}return A_(t,e,n,r,l,o),t.fill(),l}function Bxe(t,e,n,r,o){const{fullCircles:i,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){A_(t,e,n,r,g,o);for(let v=0;v<i;++v)t.stroke();isNaN(a)||(g=s+(a%uo||uo))}m&&jxe(t,e,g),i||(A_(t,e,n,r,g,o),t.stroke())}class h0 extends Du{constructor(n){super();Ye(this,"circumference");Ye(this,"endAngle");Ye(this,"fullCircles");Ye(this,"innerRadius");Ye(this,"outerRadius");Ye(this,"pixelMargin");Ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,o){const i=this.getProps(["x","y"],o),{angle:s,distance:a}=nX(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),m=(this.options.spacing+this.options.borderWidth)/2,g=kn(f,c-l),v=Wb(s,l,c)&&l!==c,y=g>=uo||v,b=tu(a,u+m,d+m);return y&&b}getCenterPoint(n){const{x:r,y:o,startAngle:i,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(i+s)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:o+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:o}=this,i=(r.offset||0)/4,s=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>uo?Math.floor(o/uo):0,o===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(Co,o||0)),u=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,zxe(n,this,u,s,a),Bxe(n,this,u,s,a),n.restore()}}Ye(h0,"id","arc"),Ye(h0,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ye(h0,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ye(h0,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function $X(t,e,n=e){t.lineCap=kn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(kn(n.borderDash,e.borderDash)),t.lineDashOffset=kn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=kn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=kn(n.borderWidth,e.borderWidth),t.strokeStyle=kn(n.borderColor,e.borderColor)}function Vxe(t,e,n){t.lineTo(n.x,n.y)}function Hxe(t){return t.stepped?h0e:t.tension||t.cubicInterpolationMode==="monotone"?p0e:Vxe}function MX(t,e,n={}){const r=t.length,{start:o=0,end:i=r-1}=n,{start:s,end:a}=e,l=Math.max(o,s),c=Math.min(i,a),u=o<s&&i<s||o>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function Wxe(t,e,n,r){const{points:o,options:i}=e,{count:s,start:a,loop:l,ilen:c}=MX(o,n,r),u=Hxe(i);let{move:d=!0,reverse:f}=r||{},m,g,v;for(m=0;m<=c;++m)g=o[(a+(f?c-m:m))%s],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,v,g,f,i.stepped),v=g);return l&&(g=o[(a+(f?c:0))%s],u(t,v,g,f,i.stepped)),!!l}function Uxe(t,e,n,r){const o=e.points,{count:i,start:s,ilen:a}=MX(o,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,m,g,v,y,b;const x=C=>(s+(c?a-C:C))%i,w=()=>{v!==y&&(t.lineTo(u,y),t.lineTo(u,v),t.lineTo(u,b))};for(l&&(m=o[x(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=o[x(f)],m.skip)continue;const C=m.x,E=m.y,_=C|0;_===g?(E<v?v=E:E>y&&(y=E),u=(d*u+C)/++d):(w(),t.lineTo(C,E),g=_,d=0,v=y=E),b=E}w()}function u$(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Uxe:Wxe}function qxe(t){return t.stepped?q0e:t.tension||t.cubicInterpolationMode==="monotone"?K0e:Ff}function Kxe(t,e,n,r){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,r)&&o.closePath()),$X(t,e.options),t.stroke(o)}function Gxe(t,e,n,r){const{segments:o,options:i}=e,s=u$(e);for(const a of o)$X(t,i,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Yxe=typeof Path2D=="function";function Xxe(t,e,n,r){Yxe&&!e.options.segment?Kxe(t,e,n,r):Gxe(t,e,n,r)}class wd extends Du{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;L0e(this._points,r,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Z0e(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,o=e[n],i=this.points,s=bX(this,{property:n,start:o,end:o});if(!s.length)return;const a=[],l=qxe(r);let c,u;for(c=0,u=s.length;c<u;++c){const{start:d,end:f}=s[c],m=i[d],g=i[f];if(m===g){a.push(m);continue}const v=Math.abs((o-m[n])/(g[n]-m[n])),y=l(m,g,v,r.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,r){return u$(this)(e,this,n,r)}path(e,n,r){const o=this.segments,i=u$(this);let s=this._loop;n=n||0,r=r||this.points.length-n;for(const a of o)s&=i(e,this,a,{start:n,end:n+r-1});return!!s}draw(e,n,r,o){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Xxe(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ye(wd,"id","line"),Ye(wd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ye(wd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ye(wd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function hB(t,e,n,r){const o=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<o.radius+o.hitRadius}class nC extends Du{constructor(n){super();Ye(this,"parsed");Ye(this,"skip");Ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,o){const i=this.options,{x:s,y:a}=this.getProps(["x","y"],o);return Math.pow(n-s,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return hB(this,n,"x",r)}inYRange(n,r){return hB(this,n,"y",r)}getCenterPoint(n){const{x:r,y:o}=this.getProps(["x","y"],n);return{x:r,y:o}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const o=r&&n.borderWidth||0;return(r+o)*2}draw(n,r){const o=this.options;this.skip||o.radius<.1||!Ub(this,r,this.size(o)/2)||(n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.fillStyle=o.backgroundColor,s$(n,o,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ye(nC,"id","point"),Ye(nC,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ye(nC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function OX(t,e){const{x:n,y:r,base:o,width:i,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=s/2,a=Math.min(n,o),l=Math.max(n,o),c=r-d,u=r+d):(d=i/2,a=n-d,l=n+d,c=Math.min(r,o),u=Math.max(r,o)),{left:a,top:c,right:l,bottom:u}}function Sd(t,e,n,r){return t?0:Bi(e,n,r)}function Qxe(t,e,n){const r=t.options.borderWidth,o=t.borderSkipped,i=cX(r);return{t:Sd(o.top,i.top,0,n),r:Sd(o.right,i.right,0,e),b:Sd(o.bottom,i.bottom,0,n),l:Sd(o.left,i.left,0,e)}}function Jxe(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,i=ng(o),s=Math.min(e,n),a=t.borderSkipped,l=r||Ln(o);return{topLeft:Sd(!l||a.top||a.left,i.topLeft,0,s),topRight:Sd(!l||a.top||a.right,i.topRight,0,s),bottomLeft:Sd(!l||a.bottom||a.left,i.bottomLeft,0,s),bottomRight:Sd(!l||a.bottom||a.right,i.bottomRight,0,s)}}function Zxe(t){const e=OX(t),n=e.right-e.left,r=e.bottom-e.top,o=Qxe(t,n/2,r/2),i=Jxe(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,i.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(o.b,o.r))}}}}function XP(t,e,n,r){const o=e===null,i=n===null,a=t&&!(o&&i)&&OX(t,r);return a&&(o||tu(e,a.left,a.right))&&(i||tu(n,a.top,a.bottom))}function ewe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function twe(t,e){t.rect(e.x,e.y,e.w,e.h)}function QP(t,e,n={}){const r=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,s=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+r,y:t.y+o,w:t.w+i,h:t.h+s,radius:t.radius}}class rC extends Du{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:o}}=this,{inner:i,outer:s}=Zxe(this),a=ewe(s.radius)?$_:twe;e.save(),(s.w!==i.w||s.h!==i.h)&&(e.beginPath(),a(e,QP(s,n,i)),e.clip(),a(e,QP(i,-n,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,QP(i,n)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,n,r){return XP(this,e,n,r)}inXRange(e,n){return XP(this,e,null,n)}inYRange(e,n){return XP(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:o,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+o)/2:n,y:i?r:(r+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ye(rC,"id","bar"),Ye(rC,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ye(rC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nwe(t,e,n){const r=t.segments,o=t.points,i=e.points,s=[];for(const a of r){let{start:l,end:c}=a;c=zN(l,c,o);const u=d$(n,o[l],o[c],a.loop);if(!e.segments){s.push({source:a,target:u,start:o[l],end:o[c]});continue}const d=bX(e,u);for(const f of d){const m=d$(n,i[f.start],i[f.end],f.loop),g=yX(a,o,m);for(const v of g)s.push({source:v,target:f,start:{[n]:pB(u,m,"start",Math.max)},end:{[n]:pB(u,m,"end",Math.min)}})}}return s}function d$(t,e,n,r){if(r)return;let o=e[t],i=n[t];return t==="angle"&&(o=jl(o),i=jl(i)),{property:t,start:o,end:i}}function rwe(t,e){const{x:n=null,y:r=null}=t||{},o=e.points,i=[];return e.segments.forEach(({start:s,end:a})=>{a=zN(s,a,o);const l=o[s],c=o[a];r!==null?(i.push({x:l.x,y:r}),i.push({x:c.x,y:r})):n!==null&&(i.push({x:n,y:l.y}),i.push({x:n,y:c.y}))}),i}function zN(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function pB(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function AX(t,e){let n=[],r=!1;return Vo(t)?(r=!0,n=t):n=rwe(t,e),n.length?new wd({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function mB(t){return t&&t.fill!==!1}function owe(t,e,n){let o=t[e].fill;const i=[e];let s;if(!n)return o;for(;o!==!1&&i.indexOf(o)===-1;){if(!qi(o))return o;if(s=t[o],!s)return!1;if(s.visible)return o;i.push(o),o=s.fill}return!1}function iwe(t,e,n){const r=cwe(t);if(Ln(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return qi(o)&&Math.floor(o)===o?swe(r[0],e,o,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function swe(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function awe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ln(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function lwe(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Ln(t)?r=t.value:r=e.getBaseValue(),r}function cwe(t){const e=t.options,n=e.fill;let r=kn(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function uwe(t){const{scale:e,index:n,line:r}=t,o=[],i=r.segments,s=r.points,a=dwe(e,n);a.push(AX({x:null,y:e.bottom},r));for(let l=0;l<i.length;l++){const c=i[l];for(let u=c.start;u<=c.end;u++)fwe(o,s[u],a)}return new wd({points:o,options:{}})}function dwe(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const i=r[o];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function fwe(t,e,n){const r=[];for(let o=0;o<n.length;o++){const i=n[o],{first:s,last:a,point:l}=hwe(i,e,"x");if(!(!l||s&&a)){if(s)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function hwe(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const o=r[n],i=t.segments,s=t.points;let a=!1,l=!1;for(let c=0;c<i.length;c++){const u=i[c],d=s[u.start][n],f=s[u.end][n];if(tu(o,d,f)){a=o===d,l=o===f;break}}return{first:a,last:l,point:r}}class NX{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:o,y:i,radius:s}=this;return n=n||{start:0,end:uo},e.arc(o,i,s,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:o}=this,i=e.angle;return{x:n+Math.cos(i)*o,y:r+Math.sin(i)*o,angle:i}}}function pwe(t){const{chart:e,fill:n,line:r}=t;if(qi(n))return mwe(e,n);if(n==="stack")return uwe(t);if(n==="shape")return!0;const o=gwe(t);return o instanceof NX?o:AX(o,r)}function mwe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function gwe(t){return(t.scale||{}).getPointPositionForValue?ywe(t):vwe(t)}function vwe(t){const{scale:e={},fill:n}=t,r=awe(n,e);if(qi(r)){const o=e.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function ywe(t){const{scale:e,fill:n}=t,r=e.options,o=e.getLabels().length,i=r.reverse?e.max:e.min,s=lwe(n,e,i),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,i);return new NX({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<o;++l)a.push(e.getPointPositionForValue(l,s));return a}function JP(t,e,n){const r=pwe(e),{line:o,scale:i,axis:s}=e,a=o.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};r&&o.points.length&&($2(t,n),bwe(t,{line:o,target:r,above:u,below:d,area:n,scale:i,axis:s}),M2(t))}function bwe(t,e){const{line:n,target:r,above:o,below:i,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&i!==o&&(gB(t,r,s.top),vB(t,{line:n,target:r,color:o,scale:a,property:l}),t.restore(),t.save(),gB(t,r,s.bottom)),vB(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore()}function gB(t,e,n){const{segments:r,points:o}=e;let i=!0,s=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=o[l],d=o[zN(l,c,o)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function vB(t,e){const{line:n,target:r,property:o,color:i,scale:s}=e,a=nwe(n,r,o);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=i}={}}=l,m=r!==!0;t.save(),t.fillStyle=f,xwe(t,s,m&&d$(o,u,d)),t.beginPath();const g=!!n.pathSegment(t,l);let v;if(m){g?t.closePath():yB(t,r,d,o);const y=!!r.pathSegment(t,c,{move:g,reverse:!0});v=g&&y,v||yB(t,r,u,o)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function xwe(t,e,n){const{top:r,bottom:o}=e.chart.chartArea,{property:i,start:s,end:a}=n||{};i==="x"&&(t.beginPath(),t.rect(s,r,a-s,o-r),t.clip())}function yB(t,e,n,r){const o=e.interpolate(n,r);o&&t.lineTo(o.x,o.y)}var wwe={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,o=[];let i,s,a,l;for(s=0;s<r;++s)i=t.getDatasetMeta(s),a=i.dataset,l=null,a&&a.options&&a instanceof wd&&(l={visible:t.isDatasetVisible(s),index:s,fill:iwe(a,s,r),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,o.push(l);for(s=0;s<r;++s)l=o[s],!(!l||l.fill===!1)&&(l.fill=owe(o,s,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",o=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let s=o.length-1;s>=0;--s){const a=o[s].$filler;a&&(a.line.updateControlPoints(i,a.axis),r&&a.fill&&JP(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const i=r[o].$filler;mB(i)&&JP(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!mB(r)||n.drawTime!=="beforeDatasetDraw"||JP(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bB=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Swe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class xB extends Du{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Wr(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=Vi(r.font),i=o.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=bB(r,i);let c,u;n.font=o.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,o,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,o){const{ctx:i,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=o+a;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,v)=>{const y=r+n/2+i.measureText(g.text).width;(v===0||c[c.length-1]+y+2*a>s)&&(d+=u,c[c.length-(v>0?0:1)]=0,m+=u,f++),l[v]={left:0,top:m,row:f,width:y,height:o},c[c.length-1]+=y+a}),d}_fitCols(e,n,r,o){const{ctx:i,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e;let d=a,f=0,m=0,g=0,v=0;return this.legendItems.forEach((y,b)=>{const{itemWidth:x,itemHeight:w}=Cwe(r,n,i,y,o);b>0&&m+w+2*a>u&&(d+=f+a,c.push({width:f,height:m}),g+=f+a,v++,f=m=0),l[b]={left:g,top:m,col:v,width:x,height:w},f=Math.max(f,x),m+=w+a}),d+=f,c.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:o},rtl:i}}=this,s=rg(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=ji(r,this.left+o,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ji(r,this.left+o,this.right-this.lineWidths[a])),c.top+=this.top+e+o,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+o}else{let a=0,l=ji(r,this.top+e+o,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ji(r,this.top+e+o,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+o,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;$2(e,this),this._draw(),M2(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:o}=this,{align:i,labels:s}=e,a=Ro.color,l=rg(e.rtl,this.left,this.width),c=Vi(s.font),{padding:u}=s,d=c.size,f=d/2;let m;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;const{boxWidth:g,boxHeight:v,itemHeight:y}=bB(s,d),b=function(_,S,T){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;o.save();const I=kn(T.lineWidth,1);if(o.fillStyle=kn(T.fillStyle,a),o.lineCap=kn(T.lineCap,"butt"),o.lineDashOffset=kn(T.lineDashOffset,0),o.lineJoin=kn(T.lineJoin,"miter"),o.lineWidth=I,o.strokeStyle=kn(T.strokeStyle,a),o.setLineDash(kn(T.lineDash,[])),s.usePointStyle){const P={radius:v*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:I},M=l.xPlus(_,g/2),R=S+f;lX(o,P,M,R,s.pointStyleWidth&&g)}else{const P=S+Math.max((d-v)/2,0),M=l.leftForLtr(_,g),R=ng(T.borderRadius);o.beginPath(),Object.values(R).some(k=>k!==0)?$_(o,{x:M,y:P,w:g,h:v,radius:R}):o.rect(M,P,g,v),o.fill(),I!==0&&o.stroke()}o.restore()},x=function(_,S,T){qb(o,T.text,_,S+y/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),C=this._computeTitleHeight();w?m={x:ji(i,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:m={x:this.left+u,y:ji(i,this.top+C+u,this.bottom-n[0].height),line:0},mX(this.ctx,e.textDirection);const E=y+u;this.legendItems.forEach((_,S)=>{o.strokeStyle=_.fontColor,o.fillStyle=_.fontColor;const T=o.measureText(_.text).width,I=l.textAlign(_.textAlign||(_.textAlign=s.textAlign)),P=g+f+T;let M=m.x,R=m.y;l.setWidth(this.width),w?S>0&&M+P+u>this.right&&(R=m.y+=E,m.line++,M=m.x=ji(i,this.left+u,this.right-r[m.line])):S>0&&R+E>this.bottom&&(M=m.x=M+n[m.line].width+u,m.line++,R=m.y=ji(i,this.top+C+u,this.bottom-n[m.line].height));const k=l.x(M);if(b(k,R,_),M=e0e(I,M+g+f,w?M+P:this.right,e.rtl),x(l.x(M),R,_),w)m.x+=P+u;else if(typeof _.text!="string"){const D=c.lineHeight;m.y+=jX(_,D)+u}else m.y+=E}),gX(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Vi(n.font),o=La(n.padding);if(!n.display)return;const i=rg(e.rtl,this.left,this.width),s=this.ctx,a=n.position,l=r.size/2,c=o.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=ji(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((v,y)=>Math.max(v,y.height),0);u=c+ji(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=ji(a,d,d+f);s.textAlign=i.textAlign(kN(a)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=r.string,qb(s,n.text,m,u,r)}_computeTitleHeight(){const e=this.options.title,n=Vi(e.font),r=La(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,o,i;if(tu(e,this.left,this.right)&&tu(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(o=i[r],tu(e,o.left,o.left+o.width)&&tu(n,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Twe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,i=Swe(o,r);o&&!i&&Wr(n.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!i&&Wr(n.onHover,[e,r,this],this)}else r&&Wr(n.onClick,[e,r,this],this)}}function Cwe(t,e,n,r,o){const i=_we(r,t,e,n),s=Ewe(o,r,e.lineHeight);return{itemWidth:i,itemHeight:s}}function _we(t,e,n,r){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((i,s)=>i.length>s.length?i:s)),e+n.size/2+r.measureText(o).width}function Ewe(t,e,n){let r=t;return typeof e.text!="string"&&(r=jX(e,n)),r}function jX(t,e){const n=t.text?t.text.length:0;return e*n}function Twe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Iwe={id:"legend",_element:xB,start(t,e,n){const r=t.legend=new xB({ctx:t.ctx,options:n,chart:t});$a.configure(t,r,n),$a.addBox(t,r)},stop(t){$a.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;$a.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,o=n.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:o,color:i,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=La(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};let LX=class extends Du{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const o=Vo(r.text)?r.text.length:1;this._padding=La(r.padding);const i=o*Vi(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:o,right:i,options:s}=this,a=s.align;let l=0,c,u,d;return this.isHorizontal()?(u=ji(a,r,i),d=n+e,c=i-r):(s.position==="left"?(u=r+e,d=ji(a,o,n),l=Co*-.5):(u=i-e,d=ji(a,n,o),l=Co*.5),c=o-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Vi(n.font),i=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);qb(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:kN(n.align),textBaseline:"middle",translation:[s,a]})}};function Pwe(t,e){const n=new LX({ctx:t.ctx,options:e,chart:t});$a.configure(t,n,e),$a.addBox(t,n),t.titleBlock=n}var Rwe={id:"title",_element:LX,start(t,e,n){Pwe(t,n)},stop(t){const e=t.titleBlock;$a.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;$a.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const p0={average(t){if(!t.length)return!1;let e,n,r=new Set,o=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),o+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:o/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,o=Number.POSITIVE_INFINITY,i,s,a;for(i=0,s=t.length;i<s;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=o$(e,c);u<o&&(o=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function $l(t,e){return e&&(Vo(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Lc(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function kwe(t,e){const{element:n,datasetIndex:r,index:o}=e,i=t.getDatasetMeta(r).controller,{label:s,value:a}=i.getLabelAndValue(o);return{chart:t,label:s,parsed:i.getParsed(o),raw:t.data.datasets[r].data[o],formattedValue:a,dataset:i.getDataset(),dataIndex:o,datasetIndex:r,element:n}}function wB(t,e){const n=t.chart.ctx,{body:r,footer:o,title:i}=t,{boxWidth:s,boxHeight:a}=e,l=Vi(e.bodyFont),c=Vi(e.titleFont),u=Vi(e.footerFont),d=i.length,f=o.length,m=r.length,g=La(e.padding);let v=g.height,y=0,b=r.reduce((C,E)=>C+E.before.length+E.lines.length+E.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=m*C+(b-m)*l.lineHeight+(b-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let x=0;const w=function(C){y=Math.max(y,n.measureText(C).width+x)};return n.save(),n.font=c.string,mr(t.title,w),n.font=l.string,mr(t.beforeBody.concat(t.afterBody),w),x=e.displayColors?s+2+e.boxPadding:0,mr(r,C=>{mr(C.before,w),mr(C.lines,w),mr(C.after,w)}),x=0,n.font=u.string,mr(t.footer,w),n.restore(),y+=g.width,{width:y,height:v}}function Dwe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function $we(t,e,n,r){const{x:o,width:i}=r,s=n.caretSize+n.caretPadding;if(t==="left"&&o+i+s>e.width||t==="right"&&o-i-s<0)return!0}function Mwe(t,e,n,r){const{x:o,width:i}=n,{width:s,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=o<=(a+l)/2?"left":"right":o<=i/2?c="left":o>=s-i/2&&(c="right"),$we(c,t,e,n)&&(c="center"),c}function SB(t,e,n){const r=n.yAlign||e.yAlign||Dwe(t,n);return{xAlign:n.xAlign||e.xAlign||Mwe(t,e,n,r),yAlign:r}}function Owe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Awe(t,e,n){let{y:r,height:o}=t;return e==="top"?r+=n:e==="bottom"?r-=o+n:r-=o/2,r}function CB(t,e,n,r){const{caretSize:o,caretPadding:i,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=o+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=ng(s);let g=Owe(e,a);const v=Awe(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+o:a==="right"&&(g+=Math.max(d,m)+o),{x:Bi(g,0,r.width-e.width),y:Bi(v,0,r.height-e.height)}}function N1(t,e,n){const r=La(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function _B(t){return $l([],Lc(t))}function Nwe(t,e,n){return pp(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function EB(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const FX={beforeTitle:Oc,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Oc,beforeBody:Oc,beforeLabel:Oc,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return cr(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Oc,afterBody:Oc,beforeFooter:Oc,footer:Oc,afterFooter:Oc};function vs(t,e,n,r){const o=t[e].call(n,r);return typeof o>"u"?FX[e].call(n,r):o}var Rk;let TB=(Rk=class extends Du{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,i=new xX(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Nwe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,o=vs(r,"beforeTitle",this,e),i=vs(r,"title",this,e),s=vs(r,"afterTitle",this,e);let a=[];return a=$l(a,Lc(o)),a=$l(a,Lc(i)),a=$l(a,Lc(s)),a}getBeforeBody(e,n){return _B(vs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,o=[];return mr(e,i=>{const s={before:[],lines:[],after:[]},a=EB(r,i);$l(s.before,Lc(vs(a,"beforeLabel",this,i))),$l(s.lines,vs(a,"label",this,i)),$l(s.after,Lc(vs(a,"afterLabel",this,i))),o.push(s)}),o}getAfterBody(e,n){return _B(vs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,o=vs(r,"beforeFooter",this,e),i=vs(r,"footer",this,e),s=vs(r,"afterFooter",this,e);let a=[];return a=$l(a,Lc(o)),a=$l(a,Lc(i)),a=$l(a,Lc(s)),a}_createItems(e){const n=this._active,r=this.chart.data,o=[],i=[],s=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(kwe(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),mr(a,u=>{const d=EB(e.callbacks,u);o.push(vs(d,"labelColor",this,u)),i.push(vs(d,"labelPointStyle",this,u)),s.push(vs(d,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),o=this._active;let i,s=[];if(!o.length)this.opacity!==0&&(i={opacity:0});else{const a=p0[r.position].call(this,o,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);const l=this._size=wB(this,r),c=Object.assign({},a,l),u=SB(this.chart,r,c),d=CB(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,o){const i=this.getCaretPosition(e,r,o);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:o,yAlign:i}=this,{caretSize:s,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ng(a),{x:f,y:m}=e,{width:g,height:v}=n;let y,b,x,w,C,E;return i==="center"?(C=m+v/2,o==="left"?(y=f,b=y-s,w=C+s,E=C-s):(y=f+g,b=y+s,w=C-s,E=C+s),x=y):(o==="left"?b=f+Math.max(l,u)+s:o==="right"?b=f+g-Math.max(c,d)-s:b=this.caretX,i==="top"?(w=m,C=w-s,y=b-s,x=b+s):(w=m+v,C=w+s,y=b+s,x=b-s),E=w),{x1:y,x2:b,x3:x,y1:w,y2:C,y3:E}}drawTitle(e,n,r){const o=this.title,i=o.length;let s,a,l;if(i){const c=rg(r.rtl,this.x,this.width);for(e.x=N1(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",s=Vi(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=s.string,l=0;l<i;++l)n.fillText(o[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,o,i){const s=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=Vi(i.bodyFont),d=N1(this,"left",i),f=o.x(d),m=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+m;if(i.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=o.leftForLtr(f,c)+c/2,b=g+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,s$(e,v,y,b),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,s$(e,v,y,b)}else{e.lineWidth=Ln(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const v=o.leftForLtr(f,c),y=o.leftForLtr(o.xPlus(f,1),c-2),b=ng(s.borderRadius);Object.values(b).some(x=>x!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,$_(e,{x:v,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),$_(e,{x:y,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,g,c,l),e.strokeRect(v,g,c,l),e.fillStyle=s.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:o}=this,{bodySpacing:i,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Vi(r.bodyFont);let f=d.lineHeight,m=0;const g=rg(r.rtl,this.x,this.width),v=function(T){n.fillText(T,g.x(e.x+m),e.y+f/2),e.y+=f+i},y=g.textAlign(s);let b,x,w,C,E,_,S;for(n.textAlign=s,n.textBaseline="middle",n.font=d.string,e.x=N1(this,y,r),n.fillStyle=r.bodyColor,mr(this.beforeBody,v),m=a&&y!=="right"?s==="center"?c/2+u:c+2+u:0,C=0,_=o.length;C<_;++C){for(b=o[C],x=this.labelTextColors[C],n.fillStyle=x,mr(b.before,v),w=b.lines,a&&w.length&&(this._drawColorBox(n,e,C,g,r),f=Math.max(d.lineHeight,l)),E=0,S=w.length;E<S;++E)v(w[E]),f=d.lineHeight;mr(b.after,v)}m=0,f=d.lineHeight,mr(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const o=this.footer,i=o.length;let s,a;if(i){const l=rg(r.rtl,this.x,this.width);for(e.x=N1(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",s=Vi(r.footerFont),n.fillStyle=r.footerColor,n.font=s.string,a=0;a<i;++a)n.fillText(o[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,n,r,o){const{xAlign:i,yAlign:s}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:g}=ng(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(a+d,l),s==="top"&&this.drawCaret(e,n,r,o),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),s==="center"&&i==="right"&&this.drawCaret(e,n,r,o),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),s==="bottom"&&this.drawCaret(e,n,r,o),n.lineTo(a+m,l+u),n.quadraticCurveTo(a,l+u,a,l+u-m),s==="center"&&i==="left"&&this.drawCaret(e,n,r,o),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,o=r&&r.x,i=r&&r.y;if(o||i){const s=p0[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=wB(this,e),l=Object.assign({},s,this._size),c=SB(n,e,l),u=CB(e,l,c,n);(o._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=La(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,o,n),mX(e,n.textDirection),i.y+=s.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),gX(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,o=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!R_(r,o),s=this._positionChanged(o,n);(i||s)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,i=this._active||[],s=this._getActiveElements(e,i,n,r),a=this._positionChanged(s,e),l=n||!R_(s,i)||a;return l&&(this._active=s,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,o){const i=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&s.reverse(),s}_positionChanged(e,n){const{caretX:r,caretY:o,options:i}=this,s=p0[i.position].call(this,e,n);return s!==!1&&(r!==s.x||o!==s.y)}},Ye(Rk,"positioners",p0),Rk);var jwe={id:"tooltip",_element:TB,positioners:p0,afterInit(t,e,n){n&&(t.tooltip=new TB({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FX},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Lwe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Fwe(t,e,n,r){const o=t.indexOf(e);if(o===-1)return Lwe(t,e,n,r);const i=t.lastIndexOf(e);return o!==i?n:o}const zwe=(t,e)=>t===null?null:Bi(Math.round(t),0,e);function IB(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class f$ extends Iv{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:o,label:i}of n)r[o]===i&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(cr(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Fwe(r,e,kn(n,e),this._addedLabels),zwe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,o=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=e;s<=n;s++)o.push({value:s});return o}getLabelForValue(e){return IB.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ye(f$,"id","category"),Ye(f$,"defaults",{ticks:{callback:IB}});function Bwe(t,e){const n=[],{bounds:o,step:i,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,m=i||1,g=u-1,{min:v,max:y}=e,b=!cr(s),x=!cr(a),w=!cr(c),C=(y-v)/(d+1);let E=Cz((y-v)/g/m)*m,_,S,T,I;if(E<1e-14&&!b&&!x)return[{value:v},{value:y}];I=Math.ceil(y/E)-Math.floor(v/E),I>g&&(E=Cz(I*E/g/m)*m),cr(l)||(_=Math.pow(10,l),E=Math.ceil(E*_)/_),o==="ticks"?(S=Math.floor(v/E)*E,T=Math.ceil(y/E)*E):(S=v,T=y),b&&x&&i&&Uye((a-s)/i,E/1e3)?(I=Math.round(Math.min((a-s)/E,u)),E=(a-s)/I,S=s,T=a):w?(S=b?s:S,T=x?a:T,I=c-1,E=(T-S)/I):(I=(T-S)/E,z0(I,Math.round(I),E/1e3)?I=Math.round(I):I=Math.ceil(I));const P=Math.max(_z(E),_z(S));_=Math.pow(10,cr(l)?P:l),S=Math.round(S*_)/_,T=Math.round(T*_)/_;let M=0;for(b&&(f&&S!==s?(n.push({value:s}),S<s&&M++,z0(Math.round((S+M*E)*_)/_,s,PB(s,C,t))&&M++):S<s&&M++);M<I;++M){const R=Math.round((S+M*E)*_)/_;if(x&&R>a)break;n.push({value:R})}return x&&f&&T!==a?n.length&&z0(n[n.length-1].value,a,PB(a,C,t))?n[n.length-1].value=a:n.push({value:a}):(!x||T===a)&&n.push({value:T}),n}function PB(t,e,{horizontal:n,minRotation:r}){const o=eu(r),i=(n?Math.sin(o):Math.cos(o))||.001,s=.75*e*(""+t).length;return Math.min(e/i,s)}class Vwe extends Iv{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return cr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:o,max:i}=this;const s=l=>o=n?o:l,a=l=>i=r?i:l;if(e){const l=lc(o),c=lc(i);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(o===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||s(o-l)}this.min=o,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,s=Bwe(o,i);return e.bounds==="ticks"&&qye(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-n)/Math.max(e.length-1,1)/2;n-=o,r+=o}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return $N(e,this.chart.options.locale,this.options.ticks.format)}}class h$ extends Vwe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=qi(e)?e:0,this.max=qi(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=eu(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ye(h$,"id","linear"),Ye(h$,"defaults",{ticks:{callback:aX.formatters.numeric}});const j2={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cs=Object.keys(j2);function RB(t,e){return t-e}function kB(t,e){if(cr(e))return null;const n=t._adapter,{parser:r,round:o,isoWeekday:i}=t._parseOpts;let s=e;return typeof r=="function"&&(s=r(s)),qi(s)||(s=typeof r=="string"?n.parse(s,r):n.parse(s)),s===null?null:(o&&(s=o==="week"&&(Hb(i)||i===!0)?n.startOf(s,"isoWeek",i):n.startOf(s,o)),+s)}function DB(t,e,n,r){const o=Cs.length;for(let i=Cs.indexOf(t);i<o-1;++i){const s=j2[Cs[i]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(a*s.size))<=r)return Cs[i]}return Cs[o-1]}function Hwe(t,e,n,r,o){for(let i=Cs.length-1;i>=Cs.indexOf(n);i--){const s=Cs[i];if(j2[s].common&&t._adapter.diff(o,r,s)>=e-1)return s}return Cs[n?Cs.indexOf(n):0]}function Wwe(t){for(let e=Cs.indexOf(t)+1,n=Cs.length;e<n;++e)if(j2[Cs[e]].common)return Cs[e]}function $B(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:o}=RN(n,e),i=n[r]>=e?n[r]:n[o];t[i]=!0}}function Uwe(t,e,n,r){const o=t._adapter,i=+o.startOf(e[0].value,r),s=e[e.length-1].value;let a,l;for(a=i;a<=s;a=+o.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function MB(t,e,n){const r=[],o={},i=e.length;let s,a;for(s=0;s<i;++s)a=e[s],o[a]=s,r.push({value:a,major:!1});return i===0||!n?r:Uwe(t,r,o,n)}class N_ extends Iv{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),o=this._adapter=new Ibe._date(e.adapters.date);o.init(n),F0(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:kB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:o,max:i,minDefined:s,maxDefined:a}=this.getUserBounds();function l(c){!s&&!isNaN(c.min)&&(o=Math.min(o,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!s||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=qi(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),i=qi(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,i-1),this.max=Math.max(o+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const i=this.min,s=this.max,a=Qye(o,i,s);return this._unit=n.unit||(r.autoSkip?DB(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Hwe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Wwe(this._unit),this.initOffsets(o),e.reverse&&a.reverse(),MB(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,o,i;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;n=Bi(n,0,s),r=Bi(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,o=this.options,i=o.time,s=i.unit||DB(i.minUnit,n,r,this._getLabelCapacity(n)),a=kn(o.ticks.stepSize,1),l=s==="week"?i.isoWeekday:!1,c=Hb(l)||l===!0,u={};let d=n,f,m;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":s),e.diff(r,n,s)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+s);const g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+e.add(f,a,s),m++)$B(u,f,g);return(f===r||o.bounds==="ticks"||m===1)&&$B(u,f,g),Object.keys(u).sort(RB).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const o=this.options.time.displayFormats,i=this._unit,s=n||o[i];return this._adapter.format(e,s)}_tickFormatFunction(e,n,r,o){const i=this.options,s=i.ticks.callback;if(s)return Wr(s,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],m=c&&d&&f&&f.major;return this._adapter.format(e,o||(m?d:u))}generateTickLabels(e){let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,o=eu(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(o),s=Math.sin(o),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*s,h:r*s+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,MB(this,[e],this._majorUnit),o),s=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const o=this.getLabels();for(n=0,r=o.length;n<r;++n)e.push(kB(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oX(e.sort(RB))}}Ye(N_,"id","time"),Ye(N_,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function j1(t,e,n){let r=0,o=t.length-1,i,s,a,l;n?(e>=t[r].pos&&e<=t[o].pos&&({lo:r,hi:o}=sh(t,"pos",e)),{pos:i,time:a}=t[r],{pos:s,time:l}=t[o]):(e>=t[r].time&&e<=t[o].time&&({lo:r,hi:o}=sh(t,"time",e)),{time:i,pos:a}=t[r],{time:s,pos:l}=t[o]);const c=s-i;return c?a+(l-a)*(e-i)/c:a}class OB extends N_{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=j1(n,this.min),this._tableRange=j1(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,o=[],i=[];let s,a,l,c,u;for(s=0,a=e.length;s<a;++s)c=e[s],c>=n&&c<=r&&o.push(c);if(o.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(s=0,a=o.length;s<a;++s)u=o[s+1],l=o[s-1],c=o[s],Math.round((u+l)/2)!==c&&i.push({time:c,pos:s/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((o,i)=>o-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(j1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return j1(this._table,r*this._tableRange+this._minPos,!0)}}Ye(OB,"id","timeseries"),Ye(OB,"defaults",N_.defaults);const zX="label";function AB(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function qwe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function BX(t,e){t.labels=e}function VX(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zX;const r=[];t.datasets=e.map(o=>{const i=t.datasets.find(s=>s[n]===o[n]);return!i||!o.data||r.includes(i)?{...o}:(r.push(i),Object.assign(i,o),i)})}function Kwe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zX;const n={labels:[],datasets:[]};return BX(n,t.labels),VX(n,t.datasets,e),n}function Gwe(t,e){const{height:n=150,width:r=300,redraw:o=!1,datasetIdKey:i,type:s,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,m=h.useRef(null),g=h.useRef(null),v=()=>{m.current&&(g.current=new N2(m.current,{type:s,data:Kwe(a,i),options:l&&{...l},plugins:c}),AB(e,g.current))},y=()=>{AB(e,null),g.current&&(g.current.destroy(),g.current=null)};return h.useEffect(()=>{!o&&g.current&&l&&qwe(g.current,l)},[o,l]),h.useEffect(()=>{!o&&g.current&&BX(g.current.config.data,a.labels)},[o,a.labels]),h.useEffect(()=>{!o&&g.current&&a.datasets&&VX(g.current.config.data,a.datasets,i)},[o,a.datasets]),h.useEffect(()=>{g.current&&(o?(y(),setTimeout(v)):g.current.update(d))},[o,l,a.labels,a.datasets,d]),h.useEffect(()=>{g.current&&(y(),setTimeout(v))},[s]),h.useEffect(()=>(v(),()=>y()),[]),oe.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},u)}const Ywe=h.forwardRef(Gwe);function BN(t,e){return N2.register(e),h.forwardRef((n,r)=>oe.createElement(Ywe,{...n,ref:r,type:t}))}const Xwe=BN("line",ZS),Qwe=BN("bar",JS),Jwe=BN("pie",a$);N2.register(h0,jwe,Iwe,f$,h$,rC,Rwe,nC,wd,wwe);const Zwe=()=>{const[t,e]=h.useState({livraisons:0,enCours:0,totalColis:0,tempsMoyen:"00:00",tauxLivraison:0}),[n,r]=h.useState([]),[o,i]=h.useState([]),[s,a]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState([]),f=["#4CAF50","#2196F3","#FFC107","#9C27B0","#F44336","#009688","#673AB7","#FF9800","#03A9F4","#E91E63"];h.useEffect(()=>{(async()=>{c(!0);try{const E=Ht(mt,"passages"),S=(await Jt(E)).docs.map(X=>({id:X.id,...X.data()})),T=wn(Ht(mt,"passages"),w_("dateHeureDepart","desc"),N0(5)),P=(await Jt(T)).docs.map(X=>({id:X.id,...X.data()}));d(P);const M=S.filter(X=>X.statut==="Livré").length,R=S.filter(X=>X.statut==="En cours").length,k=S.length;let D=0,A=0;S.forEach(X=>{if(X.statut==="Livré"&&X.dateHeureDepart&&X.dateHeureFin){const ue=X.dateHeureDepart.toDate(),Ce=X.dateHeureFin.toDate().getTime()-ue.getTime();D+=Ce,A++}});const N=A>0?D/A:0,O=Math.floor(N/6e4),j=Math.floor(O/60),L=O%60,z=`${j.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`,V=k>0?M/k*100:0;e({livraisons:M,enCours:R,totalColis:k,tempsMoyen:z,tauxLivraison:Math.round(V)});const W=new Map;S.forEach(X=>{const ue=X.siteDepart;W.set(ue,(W.get(ue)||0)+1)});const Y=Array.from(W.entries()).map(([X,ue],_e)=>({nom:X,count:ue,color:f[_e%f.length]})).sort((X,ue)=>ue.count-X.count).slice(0,5);r(Y);const U=new Map;S.forEach(X=>{if(X.coursierLivraison){const ue=X.coursierLivraison;U.set(ue,(U.get(ue)||0)+1)}});const q=Array.from(U.entries()).map(([X,ue],_e)=>({nom:X,livraisons:ue,color:f[_e%f.length]})).sort((X,ue)=>ue.livraisons-X.livraisons).slice(0,5);i(q);const K=new Map;S.forEach(X=>{if(X.dateHeureDepart){const ue=X.dateHeureDepart.toDate().getHours();K.set(ue,(K.get(ue)||0)+1)}});const J=Array.from({length:24},(X,ue)=>ue).map(X=>({heure:`${X}h`,count:K.get(X)||0}));a(J)}catch(E){console.error("Erreur lors de la récupération des données:",E),e({livraisons:235,enCours:42,totalColis:277,tempsMoyen:"01:12",tauxLivraison:85})}finally{c(!1)}})()},[]);const m={labels:n.map(C=>C.nom),datasets:[{data:n.map(C=>C.count),backgroundColor:n.map(C=>C.color),borderColor:n.map(C=>C.color),borderWidth:1}]},g={labels:o.map(C=>C.nom),datasets:[{label:"Livraisons effectuées",data:o.map(C=>C.livraisons),backgroundColor:o.map(C=>C.color),borderColor:o.map(C=>C.color),borderWidth:1}]},v={labels:s.map(C=>C.heure),datasets:[{label:"Nombre de passages",data:s.map(C=>C.count),fill:!0,backgroundColor:"rgba(33, 150, 243, 0.2)",borderColor:"rgba(33, 150, 243, 1)",tension:.4}]},y={responsive:!0,plugins:{legend:{position:"right"},title:{display:!0,text:"Répartition par site",font:{size:16}}}},b={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Performance par coursier",font:{size:16}}}},x={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Activité par heure",font:{size:16}}},scales:{y:{beginAtZero:!0}}};if(l)return p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Chargement des données..."})]});const w=C=>{const E=C.toDate();return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(E)};return p.jsxs("div",{className:"dashboard-container",children:[p.jsx("h1",{className:"dashboard-title",children:"Tableau de bord"}),p.jsxs("div",{className:"stats-cards",children:[p.jsxs("div",{className:"stat-card delivered",children:[p.jsx("div",{className:"stat-icon",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Livraisons effectuées"}),p.jsx("div",{className:"stat-value",children:t.livraisons}),p.jsx("div",{className:"stat-progress",children:p.jsx("div",{className:"progress-bar",style:{width:`${t.tauxLivraison}%`}})}),p.jsxs("div",{className:"stat-subtext",children:[t.tauxLivraison,"% du total"]})]})]}),p.jsxs("div",{className:"stat-card in-progress",children:[p.jsx("div",{className:"stat-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"En cours de livraison"}),p.jsx("div",{className:"stat-value",children:t.enCours}),p.jsx("div",{className:"stat-subtext",children:"Colis en transit"})]})]}),p.jsxs("div",{className:"stat-card total",children:[p.jsx("div",{className:"stat-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),p.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Total des colis"}),p.jsx("div",{className:"stat-value",children:t.totalColis}),p.jsx("div",{className:"stat-subtext",children:"Tous statuts confondus"})]})]}),p.jsxs("div",{className:"stat-card time",children:[p.jsx("div",{className:"stat-icon",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),p.jsxs("div",{className:"stat-info",children:[p.jsx("h3",{children:"Temps moyen de livraison"}),p.jsx("div",{className:"stat-value",children:t.tempsMoyen}),p.jsx("div",{className:"stat-subtext",children:"Heures:Minutes"})]})]})]}),p.jsxs("div",{className:"dashboard-charts",children:[p.jsxs("div",{className:"chart-row",children:[p.jsx("div",{className:"chart-card",children:p.jsx("div",{className:"chart-content",children:p.jsx(Qwe,{data:g,options:b})})}),p.jsx("div",{className:"chart-card",children:p.jsx("div",{className:"chart-content",children:p.jsx(Jwe,{data:m,options:y})})})]}),p.jsx("div",{className:"chart-card full-width",children:p.jsx("div",{className:"chart-content",children:p.jsx(Xwe,{data:v,options:x})})})]}),p.jsxs("div",{className:"recent-passages",children:[p.jsx("h2",{children:"Passages récents"}),p.jsx("div",{className:"table-container",children:p.jsxs("table",{children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"ID Colis"}),p.jsx("th",{children:"Site de départ"}),p.jsx("th",{children:"Date de départ"}),p.jsx("th",{children:"Statut"}),p.jsx("th",{children:"Coursier"})]})}),p.jsx("tbody",{children:u.map(C=>p.jsxs("tr",{className:C.statut==="Livré"?"status-delivered":"status-in-progress",children:[p.jsx("td",{children:C.idColis}),p.jsx("td",{children:C.siteDepart}),p.jsx("td",{children:C.dateHeureDepart?w(C.dateHeureDepart):"N/A"}),p.jsx("td",{children:p.jsx("span",{className:`status-badge ${C.statut==="Livré"?"delivered":"in-progress"}`,children:C.statut})}),p.jsx("td",{children:C.coursierLivraison||"Non assigné"})]},C.id))})]})})]})]})};function HX(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=HX(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=HX(t))&&(r&&(r+=" "),r+=e);return r}const WX=6048e5,e1e=864e5,L2=6e4,F2=36e5,t1e=1e3,NB=Symbol.for("constructDateFrom");function _r(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&NB in t?t[NB](e):t instanceof Date?new t.constructor(e):new Date(e)}function tn(t,e){return _r(e||t,t)}function ul(t,e,n){const r=tn(t,n==null?void 0:n.in);return isNaN(e)?_r((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function gl(t,e,n){const r=tn(t,n==null?void 0:n.in);if(isNaN(e))return _r(t,NaN);if(!e)return r;const o=r.getDate(),i=_r(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return o>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}function UX(t,e,n){return _r(t,+tn(t)+e)}function n1e(t,e,n){return UX(t,e*F2)}let r1e={};function mp(){return r1e}function Su(t,e){var a,l,c,u;const n=mp(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,o=tn(t,e==null?void 0:e.in),i=o.getDay(),s=(i<r?7:0)+i-r;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}function Ng(t,e){return Su(t,{...e,weekStartsOn:1})}function qX(t,e){const n=tn(t,e==null?void 0:e.in),r=n.getFullYear(),o=_r(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=Ng(o),s=_r(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Ng(s);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function j_(t){const e=tn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $u(t,...e){const n=_r.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Gh(t,e){const n=tn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function jg(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e),i=Gh(r),s=Gh(o),a=+i-j_(i),l=+s-j_(s);return Math.round((a-l)/e1e)}function o1e(t,e){const n=qX(t,e),r=_r(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ng(r)}function p$(t,e,n){const r=tn(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*L2),r}function VN(t,e,n){return gl(t,e*3,n)}function i1e(t,e,n){return UX(t,e*1e3)}function L_(t,e,n){return ul(t,e*7,n)}function au(t,e,n){return gl(t,e*12,n)}function jB(t,e){let n,r=e==null?void 0:e.in;return t.forEach(o=>{!r&&typeof o=="object"&&(r=_r.bind(null,o));const i=tn(o,r);(!n||n<i||isNaN(+i))&&(n=i)}),_r(r,n||NaN)}function LB(t,e){let n,r=e==null?void 0:e.in;return t.forEach(o=>{!r&&typeof o=="object"&&(r=_r.bind(null,o));const i=tn(o,r);(!n||n>i||isNaN(+i))&&(n=i)}),_r(r,n||NaN)}function s1e(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e);return+Gh(r)==+Gh(o)}function lu(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function F_(t){return!(!lu(t)&&typeof t!="number"||isNaN(+tn(t)))}function z_(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e),i=r.getFullYear()-o.getFullYear(),s=r.getMonth()-o.getMonth();return i*12+s}function xh(t,e){const n=tn(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function B_(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e),i=r.getFullYear()-o.getFullYear(),s=xh(r)-xh(o);return i*4+s}function V_(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e);return r.getFullYear()-o.getFullYear()}function a1e(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e),i=FB(r,o),s=Math.abs(jg(r,o));r.setDate(r.getDate()-i*s);const a=+(FB(r,o)===-i),l=i*(s-a);return l===0?0:l}function FB(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function KX(t,e){const n=tn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function GX(t,e){const n=tn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function m$(t,e){const n=tn(t,e==null?void 0:e.in),r=n.getMonth(),o=r-r%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function YX(t,e){const n=tn(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function XX(t,e){const n=tn(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function z2(t,e){const n=tn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function l1e(t,e){var a,l;const n=mp(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,o=tn(t,e==null?void 0:e.in),i=o.getDay(),s=(i<r?-7:0)+6-(i-r);return o.setDate(o.getDate()+s),o.setHours(23,59,59,999),o}const c1e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u1e=(t,e,n)=>{let r;const o=c1e[t];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ZP(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const d1e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f1e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h1e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p1e={date:ZP({formats:d1e,defaultWidth:"full"}),time:ZP({formats:f1e,defaultWidth:"full"}),dateTime:ZP({formats:h1e,defaultWidth:"full"})},m1e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g1e=(t,e,n,r)=>m1e[t];function wy(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let o;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;o=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[a]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return o[i]}}const v1e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y1e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b1e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x1e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},S1e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C1e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_1e={ordinalNumber:C1e,era:wy({values:v1e,defaultWidth:"wide"}),quarter:wy({values:y1e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wy({values:b1e,defaultWidth:"wide"}),day:wy({values:x1e,defaultWidth:"wide"}),dayPeriod:wy({values:w1e,defaultWidth:"wide",formattingValues:S1e,defaultFormattingWidth:"wide"})};function Sy(t){return(e,n={})=>{const r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;const s=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?T1e(a,d=>d.test(s)):E1e(a,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function E1e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function T1e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function I1e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const o=r[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(o.length);return{value:s,rest:a}}}const P1e=/^(\d+)(th|st|nd|rd)?/i,R1e=/\d+/i,k1e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D1e={any:[/^b/i,/^(a|c)/i]},$1e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M1e={any:[/1/i,/2/i,/3/i,/4/i]},O1e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A1e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},N1e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},j1e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L1e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F1e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z1e={ordinalNumber:I1e({matchPattern:P1e,parsePattern:R1e,valueCallback:t=>parseInt(t,10)}),era:Sy({matchPatterns:k1e,defaultMatchWidth:"wide",parsePatterns:D1e,defaultParseWidth:"any"}),quarter:Sy({matchPatterns:$1e,defaultMatchWidth:"wide",parsePatterns:M1e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Sy({matchPatterns:O1e,defaultMatchWidth:"wide",parsePatterns:A1e,defaultParseWidth:"any"}),day:Sy({matchPatterns:N1e,defaultMatchWidth:"wide",parsePatterns:j1e,defaultParseWidth:"any"}),dayPeriod:Sy({matchPatterns:L1e,defaultMatchWidth:"any",parsePatterns:F1e,defaultParseWidth:"any"})},QX={code:"en-US",formatDistance:u1e,formatLong:p1e,formatRelative:g1e,localize:_1e,match:z1e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B1e(t,e){const n=tn(t,e==null?void 0:e.in);return jg(n,z2(n))+1}function HN(t,e){const n=tn(t,e==null?void 0:e.in),r=+Ng(n)-+o1e(n);return Math.round(r/WX)+1}function WN(t,e){var u,d,f,m;const n=tn(t,e==null?void 0:e.in),r=n.getFullYear(),o=mp(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??o.firstWeekContainsDate??((m=(f=o.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=_r((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const a=Su(s,e),l=_r((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Su(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function V1e(t,e){var a,l,c,u;const n=mp(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,o=WN(t,e),i=_r((e==null?void 0:e.in)||t,0);return i.setFullYear(o,0,r),i.setHours(0,0,0,0),Su(i,e)}function JX(t,e){const n=tn(t,e==null?void 0:e.in),r=+Su(n,e)-+V1e(n,e);return Math.round(r/WX)+1}function hr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Wu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return hr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):hr(n+1,2)},d(t,e){return hr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return hr(t.getHours()%12||12,e.length)},H(t,e){return hr(t.getHours(),e.length)},m(t,e){return hr(t.getMinutes(),e.length)},s(t,e){return hr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return hr(o,e.length)}},Lp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zB={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Wu.y(t,e)},Y:function(t,e,n,r){const o=WN(t,r),i=o>0?o:1-o;if(e==="YY"){const s=i%100;return hr(s,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):hr(i,e.length)},R:function(t,e){const n=qX(t);return hr(n,e.length)},u:function(t,e){const n=t.getFullYear();return hr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return hr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return hr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Wu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return hr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const o=JX(t,r);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):hr(o,e.length)},I:function(t,e,n){const r=HN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):hr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Wu.d(t,e)},D:function(t,e,n){const r=B1e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):hr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return hr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const o=t.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return hr(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return hr(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let o;switch(r===12?o=Lp.noon:r===0?o=Lp.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let o;switch(r>=17?o=Lp.evening:r>=12?o=Lp.afternoon:r>=4?o=Lp.morning:o=Lp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Wu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):hr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):hr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wu.s(t,e)},S:function(t,e){return Wu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return VB(r);case"XXXX":case"XX":return zf(r);case"XXXXX":case"XXX":default:return zf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return VB(r);case"xxxx":case"xx":return zf(r);case"xxxxx":case"xxx":default:return zf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+BB(r,":");case"OOOO":default:return"GMT"+zf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+BB(r,":");case"zzzz":default:return"GMT"+zf(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return hr(r,e.length)},T:function(t,e,n){return hr(+t,e.length)}};function BB(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=Math.trunc(r/60),i=r%60;return i===0?n+String(o):n+String(o)+e+hr(i,2)}function VB(t,e){return t%60===0?(t>0?"-":"+")+hr(Math.abs(t)/60,2):zf(t,e)}function zf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),o=hr(Math.trunc(r/60),2),i=hr(r%60,2);return n+o+e+i}const HB=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ZX=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},H1e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return HB(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",HB(r,e)).replace("{{time}}",ZX(o,e))},g$={p:ZX,P:H1e},W1e=/^D+$/,U1e=/^Y+$/,q1e=["D","DD","YY","YYYY"];function K1e(t){return W1e.test(t)}function G1e(t){return U1e.test(t)}function Y1e(t,e,n){const r=X1e(t,e,n);if(console.warn(r),q1e.includes(t))throw new RangeError(r)}function X1e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Q1e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J1e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Z1e=/^'([^]*?)'?$/,eSe=/''/g,tSe=/[a-zA-Z]/;function WB(t,e,n){var u,d,f,m,g,v,y,b;const r=mp(),o=(n==null?void 0:n.locale)??r.locale??QX,i=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,a=tn(t,n==null?void 0:n.in);if(!F_(a))throw new RangeError("Invalid time value");let l=e.match(J1e).map(x=>{const w=x[0];if(w==="p"||w==="P"){const C=g$[w];return C(x,o.formatLong)}return x}).join("").match(Q1e).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:nSe(x)};if(zB[w])return{isToken:!0,value:x};if(w.match(tSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});o.localize.preprocessor&&(l=o.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:o};return l.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&G1e(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&K1e(w))&&Y1e(w,e,String(t));const C=zB[w[0]];return C(a,w,o.localize,c)}).join("")}function nSe(t){const e=t.match(Z1e);return e?e[1].replace(eSe,"'"):t}function UB(t,e){return tn(t,e==null?void 0:e.in).getDate()}function rSe(t,e){return tn(t,e==null?void 0:e.in).getDay()}function oSe(t,e){const n=tn(t,e==null?void 0:e.in),r=n.getFullYear(),o=n.getMonth(),i=_r(n,0);return i.setFullYear(r,o+1,0),i.setHours(0,0,0,0),i.getDate()}function iSe(){return Object.assign({},mp())}function cu(t,e){return tn(t,e==null?void 0:e.in).getHours()}function sSe(t,e){const n=tn(t,e==null?void 0:e.in).getDay();return n===0?7:n}function uu(t,e){return tn(t,e==null?void 0:e.in).getMinutes()}function Zi(t,e){return tn(t,e==null?void 0:e.in).getMonth()}function Vd(t){return tn(t).getSeconds()}function v$(t){return+tn(t)}function Rn(t,e){return tn(t,e==null?void 0:e.in).getFullYear()}function of(t,e){return+tn(t)>+tn(e)}function Yh(t,e){return+tn(t)<+tn(e)}function aSe(t,e){return+tn(t)==+tn(e)}function lSe(t,e){const n=cSe(e)?new e(0):_r(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function cSe(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const uSe=10;let eQ=class{constructor(){Ye(this,"subPriority",0)}validate(e,n){return!0}},dSe=class extends eQ{constructor(e,n,r,o,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=o,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}};class fSe extends eQ{constructor(n,r){super();Ye(this,"priority",uSe);Ye(this,"subPriority",-1);this.context=n||(o=>_r(r,o))}set(n,r){return r.timestampIsSet?n:_r(n,lSe(n,this.context))}}let ar=class{run(e,n,r,o){const i=this.parse(e,n,r,o);return i?{setter:new dSe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}},hSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,o){switch(r){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})||o.era(n,{width:"abbreviated"})||o.era(n,{width:"narrow"})}}set(n,r,o){return r.era=o,n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}};const ko={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Do(t,e){return t&&{value:e(t.value),rest:t.rest}}function lo(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ul(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*F2+i*L2+s*t1e),rest:e.slice(n[0].length)}}function tQ(t){return lo(ko.anyDigitsSigned,t)}function _o(t,e){switch(t){case 1:return lo(ko.singleDigit,e);case 2:return lo(ko.twoDigits,e);case 3:return lo(ko.threeDigits,e);case 4:return lo(ko.fourDigits,e);default:return lo(new RegExp("^\\d{1,"+t+"}"),e)}}function H_(t,e){switch(t){case 1:return lo(ko.singleDigitSigned,e);case 2:return lo(ko.twoDigitsSigned,e);case 3:return lo(ko.threeDigitsSigned,e);case 4:return lo(ko.fourDigitsSigned,e);default:return lo(new RegExp("^-?\\d{1,"+t+"}"),e)}}function UN(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function nQ(t,e){const n=e>0,r=n?e:1-e;let o;if(r<=50)o=t||100;else{const i=r+50,s=Math.trunc(i/100)*100,a=t>=i%100;o=t+s-(a?100:0)}return n?o:1-o}function rQ(t){return t%400===0||t%4===0&&t%100!==0}let pSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,o){const i=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return Do(_o(4,n),i);case"yo":return Do(o.ordinalNumber(n,{unit:"year"}),i);default:return Do(_o(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,o){const i=n.getFullYear();if(o.isTwoDigitYear){const a=nQ(o.year,i);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?o.year:1-o.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}},mSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,o){const i=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Do(_o(4,n),i);case"Yo":return Do(o.ordinalNumber(n,{unit:"year"}),i);default:return Do(_o(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,o,i){const s=WN(n,i);if(o.isTwoDigitYear){const l=nQ(o.year,s);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Su(n,i)}const a=!("era"in r)||r.era===1?o.year:1-o.year;return n.setFullYear(a,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Su(n,i)}},gSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return H_(r==="R"?4:r.length,n)}set(n,r,o){const i=_r(n,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),Ng(i)}},vSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return H_(r==="u"?4:r.length,n)}set(n,r,o){return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}},ySe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"Q":case"QQ":return _o(r.length,n);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})||o.quarter(n,{width:"abbreviated",context:"formatting"})||o.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,o){return n.setMonth((o-1)*3,1),n.setHours(0,0,0,0),n}},bSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"q":case"qq":return _o(r.length,n);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})||o.quarter(n,{width:"abbreviated",context:"standalone"})||o.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,o){return n.setMonth((o-1)*3,1),n.setHours(0,0,0,0),n}},xSe=class extends ar{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(n,r,o){const i=s=>s-1;switch(r){case"M":return Do(lo(ko.month,n),i);case"MM":return Do(_o(2,n),i);case"Mo":return Do(o.ordinalNumber(n,{unit:"month"}),i);case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})||o.month(n,{width:"abbreviated",context:"formatting"})||o.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,o){return n.setMonth(o,1),n.setHours(0,0,0,0),n}},wSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,o){const i=s=>s-1;switch(r){case"L":return Do(lo(ko.month,n),i);case"LL":return Do(_o(2,n),i);case"Lo":return Do(o.ordinalNumber(n,{unit:"month"}),i);case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})||o.month(n,{width:"abbreviated",context:"standalone"})||o.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,o){return n.setMonth(o,1),n.setHours(0,0,0,0),n}};function SSe(t,e,n){const r=tn(t,n==null?void 0:n.in),o=JX(r,n)-e;return r.setDate(r.getDate()-o*7),tn(r,n==null?void 0:n.in)}let CSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,o){switch(r){case"w":return lo(ko.week,n);case"wo":return o.ordinalNumber(n,{unit:"week"});default:return _o(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,o,i){return Su(SSe(n,o,i),i)}};function _Se(t,e,n){const r=tn(t,n==null?void 0:n.in),o=HN(r,n)-e;return r.setDate(r.getDate()-o*7),r}let ESe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,o){switch(r){case"I":return lo(ko.week,n);case"Io":return o.ordinalNumber(n,{unit:"week"});default:return _o(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,o){return Ng(_Se(n,o))}};const TSe=[31,28,31,30,31,30,31,31,30,31,30,31],ISe=[31,29,31,30,31,30,31,31,30,31,30,31];let PSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"d":return lo(ko.date,n);case"do":return o.ordinalNumber(n,{unit:"date"});default:return _o(r.length,n)}}validate(n,r){const o=n.getFullYear(),i=rQ(o),s=n.getMonth();return i?r>=1&&r<=ISe[s]:r>=1&&r<=TSe[s]}set(n,r,o){return n.setDate(o),n.setHours(0,0,0,0),n}},RSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,o){switch(r){case"D":case"DD":return lo(ko.dayOfYear,n);case"Do":return o.ordinalNumber(n,{unit:"date"});default:return _o(r.length,n)}}validate(n,r){const o=n.getFullYear();return rQ(o)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,o){return n.setMonth(0,o),n.setHours(0,0,0,0),n}};function qN(t,e,n){var d,f,m,g;const r=mp(),o=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,i=tn(t,n==null?void 0:n.in),s=i.getDay(),l=(e%7+7)%7,c=7-o,u=e<0||e>6?e-(s+c)%7:(l+c)%7-(s+c)%7;return ul(i,u,n)}let kSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,o){switch(r){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,o,i){return n=qN(n,o,i),n.setHours(0,0,0,0),n}},DSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,o,i){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Do(_o(r.length,n),s);case"eo":return Do(o.ordinalNumber(n,{unit:"day"}),s);case"eee":return o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeeee":return o.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,o,i){return n=qN(n,o,i),n.setHours(0,0,0,0),n}},$Se=class extends ar{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,o,i){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Do(_o(r.length,n),s);case"co":return Do(o.ordinalNumber(n,{unit:"day"}),s);case"ccc":return o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"ccccc":return o.day(n,{width:"narrow",context:"standalone"});case"cccccc":return o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(n,{width:"wide",context:"standalone"})||o.day(n,{width:"abbreviated",context:"standalone"})||o.day(n,{width:"short",context:"standalone"})||o.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,o,i){return n=qN(n,o,i),n.setHours(0,0,0,0),n}};function MSe(t,e,n){const r=tn(t,n==null?void 0:n.in),o=sSe(r,n),i=e-o;return ul(r,i,n)}let OSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,o){const i=s=>s===0?7:s;switch(r){case"i":case"ii":return _o(r.length,n);case"io":return o.ordinalNumber(n,{unit:"day"});case"iii":return Do(o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return Do(o.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Do(o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Do(o.day(n,{width:"wide",context:"formatting"})||o.day(n,{width:"abbreviated",context:"formatting"})||o.day(n,{width:"short",context:"formatting"})||o.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,o){return n=MSe(n,o),n.setHours(0,0,0,0),n}},ASe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,o){switch(r){case"a":case"aa":case"aaa":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,o){return n.setHours(UN(o),0,0,0),n}},NSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,o){switch(r){case"b":case"bb":case"bbb":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,o){return n.setHours(UN(o),0,0,0),n}},jSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,o){switch(r){case"B":case"BB":case"BBB":return o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(n,{width:"wide",context:"formatting"})||o.dayPeriod(n,{width:"abbreviated",context:"formatting"})||o.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,o){return n.setHours(UN(o),0,0,0),n}},LSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,o){switch(r){case"h":return lo(ko.hour12h,n);case"ho":return o.ordinalNumber(n,{unit:"hour"});default:return _o(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,o){const i=n.getHours()>=12;return i&&o<12?n.setHours(o+12,0,0,0):!i&&o===12?n.setHours(0,0,0,0):n.setHours(o,0,0,0),n}},FSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,o){switch(r){case"H":return lo(ko.hour23h,n);case"Ho":return o.ordinalNumber(n,{unit:"hour"});default:return _o(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,o){return n.setHours(o,0,0,0),n}},zSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,o){switch(r){case"K":return lo(ko.hour11h,n);case"Ko":return o.ordinalNumber(n,{unit:"hour"});default:return _o(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,o){return n.getHours()>=12&&o<12?n.setHours(o+12,0,0,0):n.setHours(o,0,0,0),n}},BSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,o){switch(r){case"k":return lo(ko.hour24h,n);case"ko":return o.ordinalNumber(n,{unit:"hour"});default:return _o(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,o){const i=o<=24?o%24:o;return n.setHours(i,0,0,0),n}},VSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r,o){switch(r){case"m":return lo(ko.minute,n);case"mo":return o.ordinalNumber(n,{unit:"minute"});default:return _o(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,o){return n.setMinutes(o,0,0),n}},HSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r,o){switch(r){case"s":return lo(ko.second,n);case"so":return o.ordinalNumber(n,{unit:"second"});default:return _o(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,o){return n.setSeconds(o,0),n}},WSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r){const o=i=>Math.trunc(i*Math.pow(10,-r.length+3));return Do(_o(r.length,n),o)}set(n,r,o){return n.setMilliseconds(o),n}},USe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ul(Wl.basicOptionalMinutes,n);case"XX":return Ul(Wl.basic,n);case"XXXX":return Ul(Wl.basicOptionalSeconds,n);case"XXXXX":return Ul(Wl.extendedOptionalSeconds,n);case"XXX":default:return Ul(Wl.extended,n)}}set(n,r,o){return r.timestampIsSet?n:_r(n,n.getTime()-j_(n)-o)}},qSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ul(Wl.basicOptionalMinutes,n);case"xx":return Ul(Wl.basic,n);case"xxxx":return Ul(Wl.basicOptionalSeconds,n);case"xxxxx":return Ul(Wl.extendedOptionalSeconds,n);case"xxx":default:return Ul(Wl.extended,n)}}set(n,r,o){return r.timestampIsSet?n:_r(n,n.getTime()-j_(n)-o)}},KSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(n){return tQ(n)}set(n,r,o){return[_r(n,o*1e3),{timestampIsSet:!0}]}},GSe=class extends ar{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(n){return tQ(n)}set(n,r,o){return[_r(n,o),{timestampIsSet:!0}]}};const YSe={G:new hSe,y:new pSe,Y:new mSe,R:new gSe,u:new vSe,Q:new ySe,q:new bSe,M:new xSe,L:new wSe,w:new CSe,I:new ESe,d:new PSe,D:new RSe,E:new kSe,e:new DSe,c:new $Se,i:new OSe,a:new ASe,b:new NSe,B:new jSe,h:new LSe,H:new FSe,K:new zSe,k:new BSe,m:new VSe,s:new HSe,S:new WSe,X:new USe,x:new qSe,t:new KSe,T:new GSe},XSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JSe=/^'([^]*?)'?$/,ZSe=/''/g,eCe=/\S/,tCe=/[a-zA-Z]/;function nCe(t,e,n,r){var y,b,x,w,C,E,_,S;const o=()=>_r((r==null?void 0:r.in)||n,NaN),i=iSe(),s=(r==null?void 0:r.locale)??i.locale??QX,a=(r==null?void 0:r.firstWeekContainsDate)??((b=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(x=i.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((E=(C=r==null?void 0:r.locale)==null?void 0:C.options)==null?void 0:E.weekStartsOn)??i.weekStartsOn??((S=(_=i.locale)==null?void 0:_.options)==null?void 0:S.weekStartsOn)??0;if(!e)return t?o():tn(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:s},u=[new fSe(r==null?void 0:r.in,n)],d=e.match(QSe).map(T=>{const I=T[0];if(I in g$){const P=g$[I];return P(T,s.formatLong)}return T}).join("").match(XSe),f=[];for(let T of d){const I=T[0],P=YSe[I];if(P){const{incompatibleTokens:M}=P;if(Array.isArray(M)){const k=f.find(D=>M.includes(D.token)||D.token===I);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${T}\` at the same time`)}else if(P.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);f.push({token:I,fullToken:T});const R=P.run(t,T,s.match,c);if(!R)return o();u.push(R.setter),t=R.rest}else{if(I.match(tCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(T==="''"?T="'":I==="'"&&(T=rCe(T)),t.indexOf(T)===0)t=t.slice(T.length);else return o()}}if(t.length>0&&eCe.test(t))return o();const m=u.map(T=>T.priority).sort((T,I)=>I-T).filter((T,I,P)=>P.indexOf(T)===I).map(T=>u.filter(I=>I.priority===T).sort((I,P)=>P.subPriority-I.subPriority)).map(T=>T[0]);let g=tn(n,r==null?void 0:r.in);if(isNaN(+g))return o();const v={};for(const T of m){if(!T.validate(g,c))return o();const I=T.set(g,v,c);Array.isArray(I)?(g=I[0],Object.assign(v,I[1])):g=I}return g}function rCe(t){return t.match(JSe)[1].replace(ZSe,"'")}function oCe(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function iCe(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e);return+m$(r)==+m$(o)}function sCe(t,e,n){const[r,o]=$u(n==null?void 0:n.in,t,e);return r.getFullYear()===o.getFullYear()}function Gb(t,e,n){const r=+tn(t,n==null?void 0:n.in),[o,i]=[+tn(e.start,n==null?void 0:n.in),+tn(e.end,n==null?void 0:n.in)].sort((s,a)=>s-a);return r>=o&&r<=i}function aCe(t,e,n){return ul(t,-1,n)}function lCe(t,e){const n=()=>_r(e==null?void 0:e.in,NaN),o=fCe(t);let i;if(o.date){const c=hCe(o.date,2);i=pCe(c.restDateString,c.year)}if(!i||isNaN(+i))return n();const s=+i;let a=0,l;if(o.time&&(a=mCe(o.time),isNaN(a)))return n();if(o.timezone){if(l=gCe(o.timezone),isNaN(l))return n()}else{const c=new Date(s+a),u=tn(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return tn(s+a+l,e==null?void 0:e.in)}const L1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cCe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uCe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dCe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fCe(t){const e={},n=t.split(L1.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],L1.timeZoneDelimiter.test(e.date)&&(e.date=t.split(L1.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const o=L1.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function hCe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function pCe(t,e){if(e===null)return new Date(NaN);const n=t.match(cCe);if(!n)return new Date(NaN);const r=!!n[4],o=Cy(n[1]),i=Cy(n[2])-1,s=Cy(n[3]),a=Cy(n[4]),l=Cy(n[5])-1;if(r)return wCe(e,a,l)?vCe(e,a,l):new Date(NaN);{const c=new Date(0);return!bCe(e,i,s)||!xCe(e,o)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(o,s)),c)}}function Cy(t){return t?parseInt(t):1}function mCe(t){const e=t.match(uCe);if(!e)return NaN;const n=eR(e[1]),r=eR(e[2]),o=eR(e[3]);return SCe(n,r,o)?n*F2+r*L2+o*1e3:NaN}function eR(t){return t&&parseFloat(t.replace(",","."))||0}function gCe(t){if(t==="Z")return 0;const e=t.match(dCe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return CCe(r,o)?n*(r*F2+o*L2):NaN}function vCe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const o=r.getUTCDay()||7,i=(e-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}const yCe=[31,null,31,30,31,30,31,31,30,31,30,31];function oQ(t){return t%400===0||t%4===0&&t%100!==0}function bCe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(yCe[e]||(oQ(t)?29:28))}function xCe(t,e){return e>=1&&e<=(oQ(t)?366:365)}function wCe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function SCe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function CCe(t,e){return e>=0&&e<=59}function _a(t,e,n){const r=tn(t,n==null?void 0:n.in),o=r.getFullYear(),i=r.getDate(),s=_r(t,0);s.setFullYear(o,e,15),s.setHours(0,0,0,0);const a=oSe(s);return r.setMonth(e,Math.min(i,a)),r}function oC(t,e,n){const r=tn(t,n==null?void 0:n.in);return r.setHours(e),r}function iC(t,e,n){const r=tn(t,n==null?void 0:n.in);return r.setMinutes(e),r}function gm(t,e,n){const r=tn(t,n==null?void 0:n.in),o=Math.trunc(r.getMonth()/3)+1,i=e-o;return _a(r,r.getMonth()+i*3)}function sC(t,e,n){const r=tn(t,n==null?void 0:n.in);return r.setSeconds(e),r}function Ll(t,e,n){const r=tn(t,n==null?void 0:n.in);return isNaN(+r)?_r(t,NaN):(r.setFullYear(e),r)}function wh(t,e,n){return gl(t,-e,n)}function iQ(t,e,n){return VN(t,-1,n)}function qB(t,e,n){return L_(t,-1,n)}function Lg(t,e,n){return au(t,-e,n)}function B2(){return typeof window<"u"}function Pv(t){return sQ(t)?(t.nodeName||"").toLowerCase():"#document"}function na(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Pc(t){var e;return(e=(sQ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sQ(t){return B2()?t instanceof Node||t instanceof na(t).Node:!1}function es(t){return B2()?t instanceof Element||t instanceof na(t).Element:!1}function yc(t){return B2()?t instanceof HTMLElement||t instanceof na(t).HTMLElement:!1}function KB(t){return!B2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof na(t).ShadowRoot}function nw(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Fa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function _Ce(t){return["table","td","th"].includes(Pv(t))}function V2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function KN(t){const e=GN(),n=es(t)?Fa(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ECe(t){let e=sf(t);for(;yc(e)&&!Fg(e);){if(KN(e))return e;if(V2(e))return null;e=sf(e)}return null}function GN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Fg(t){return["html","body","#document"].includes(Pv(t))}function Fa(t){return na(t).getComputedStyle(t)}function H2(t){return es(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function sf(t){if(Pv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KB(t)&&t.host||Pc(t);return KB(e)?e.host:e}function aQ(t){const e=sf(t);return Fg(e)?t.ownerDocument?t.ownerDocument.body:t.body:yc(e)&&nw(e)?e:aQ(e)}function Yb(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=aQ(t),i=o===((r=t.ownerDocument)==null?void 0:r.body),s=na(o);if(i){const a=y$(s);return e.concat(s,s.visualViewport||[],nw(o)?o:[],a&&n?Yb(a):[])}return e.concat(o,Yb(o,[],n))}function y$(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const zg=Math.min,Sh=Math.max,W_=Math.round,F1=Math.floor,cc=t=>({x:t,y:t}),TCe={left:"right",right:"left",bottom:"top",top:"bottom"},ICe={start:"end",end:"start"};function PCe(t,e,n){return Sh(t,zg(e,n))}function W2(t,e){return typeof t=="function"?t(e):t}function Bg(t){return t.split("-")[0]}function rw(t){return t.split("-")[1]}function RCe(t){return t==="x"?"y":"x"}function YN(t){return t==="y"?"height":"width"}function Xb(t){return["top","bottom"].includes(Bg(t))?"y":"x"}function XN(t){return RCe(Xb(t))}function kCe(t,e,n){n===void 0&&(n=!1);const r=rw(t),o=XN(t),i=YN(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=U_(s)),[s,U_(s)]}function DCe(t){const e=U_(t);return[b$(t),e,b$(e)]}function b$(t){return t.replace(/start|end/g,e=>ICe[e])}function $Ce(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:s;default:return[]}}function MCe(t,e,n,r){const o=rw(t);let i=$Ce(Bg(t),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),e&&(i=i.concat(i.map(b$)))),i}function U_(t){return t.replace(/left|right|bottom|top/g,e=>TCe[e])}function OCe(t){return{top:0,right:0,bottom:0,left:0,...t}}function lQ(t){return typeof t!="number"?OCe(t):{top:t,right:t,bottom:t,left:t}}function q_(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function GB(t,e,n){let{reference:r,floating:o}=t;const i=Xb(e),s=XN(e),a=YN(s),l=Bg(e),c=i==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-o.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-o.width,y:d};break;default:m={x:r.x,y:r.y}}switch(rw(e)){case"start":m[s]-=f*(n&&c?-1:1);break;case"end":m[s]+=f*(n&&c?-1:1);break}return m}const ACe=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:d}=GB(c,r,l),f=r,m={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:b}=a[v],{x,y:w,data:C,reset:E}=await b({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});u=x??u,d=w??d,m={...m,[y]:{...m[y],...C}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:o}):E.rects),{x:u,y:d}=GB(c,f,l)),v=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:m}};async function NCe(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=W2(e,t),g=lQ(m),y=a[f?d==="floating"?"reference":"floating":d],b=q_(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},E=q_(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(b.top-E.top+g.top)/C.y,bottom:(E.bottom-b.bottom+g.bottom)/C.y,left:(b.left-E.left+g.left)/C.x,right:(E.right-b.right+g.right)/C.x}}const jCe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=W2(t,e)||{};if(c==null)return{};const d=lQ(u),f={x:n,y:r},m=XN(o),g=YN(m),v=await s.getDimensions(c),y=m==="y",b=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[g]+i.reference[m]-f[m]-i.floating[g],E=f[m]-i.reference[m],_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=_?_[w]:0;(!S||!await(s.isElement==null?void 0:s.isElement(_)))&&(S=a.floating[w]||i.floating[g]);const T=C/2-E/2,I=S/2-v[g]/2-1,P=zg(d[b],I),M=zg(d[x],I),R=P,k=S-v[g]-M,D=S/2-v[g]/2+T,A=PCe(R,D,k),N=!l.arrow&&rw(o)!=null&&D!==A&&i.reference[g]/2-(D<R?P:M)-v[g]/2<0,O=N?D<R?D-R:D-k:0;return{[m]:f[m]+O,data:{[m]:A,centerOffset:D-A-O,...N&&{alignmentOffset:O}},reset:N}}}),LCe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=W2(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Bg(o),x=Xb(a),w=Bg(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(w||!v?[U_(a)]:DCe(a)),_=g!=="none";!f&&_&&E.push(...MCe(a,v,g,C));const S=[a,...E],T=await NCe(e,y),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(T[b]),d){const D=kCe(o,s,C);I.push(T[D[0]],T[D[1]])}if(P=[...P,{placement:o,overflows:I}],!I.every(D=>D<=0)){var M,R;const D=(((M=i.flip)==null?void 0:M.index)||0)+1,A=S[D];if(A)return{data:{index:D,overflows:P},reset:{placement:A}};let N=(R=P.filter(O=>O.overflows[0]<=0).sort((O,j)=>O.overflows[1]-j.overflows[1])[0])==null?void 0:R.placement;if(!N)switch(m){case"bestFit":{var k;const O=(k=P.filter(j=>{if(_){const L=Xb(j.placement);return L===x||L==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((j,L)=>j[1]-L[1])[0])==null?void 0:k[0];O&&(N=O);break}case"initialPlacement":N=a;break}if(o!==N)return{reset:{placement:N}}}return{}}}};async function FCe(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Bg(n),a=rw(n),l=Xb(n)==="y",c=["left","top"].includes(s)?-1:1,u=i&&l?-1:1,d=W2(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const zCe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=e,l=await FCe(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}};function cQ(t){const e=Fa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=yc(t),i=o?t.offsetWidth:n,s=o?t.offsetHeight:r,a=W_(n)!==i||W_(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function QN(t){return es(t)?t:t.contextElement}function og(t){const e=QN(t);if(!yc(e))return cc(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=cQ(e);let s=(i?W_(n.width):n.width)/r,a=(i?W_(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const BCe=cc(0);function uQ(t){const e=na(t);return!GN()||!e.visualViewport?BCe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function VCe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==na(t)?!1:e}function Xh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=QN(t);let s=cc(1);e&&(r?es(r)&&(s=og(r)):s=og(t));const a=VCe(i,n,r)?uQ(i):cc(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const f=na(i),m=r&&es(r)?na(r):r;let g=f,v=y$(g);for(;v&&r&&m!==g;){const y=og(v),b=v.getBoundingClientRect(),x=Fa(v),w=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*y.x,C=b.top+(v.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=C,g=na(v),v=y$(g)}}return q_({width:u,height:d,x:l,y:c})}function JN(t,e){const n=H2(t).scrollLeft;return e?e.left+n:Xh(Pc(t)).left+n}function dQ(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),o=r.left+e.scrollLeft-(n?0:JN(t,r)),i=r.top+e.scrollTop;return{x:o,y:i}}function HCe(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const i=o==="fixed",s=Pc(r),a=e?V2(e.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=cc(1);const u=cc(0),d=yc(r);if((d||!d&&!i)&&((Pv(r)!=="body"||nw(s))&&(l=H2(r)),yc(r))){const m=Xh(r);c=og(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const f=s&&!d&&!i?dQ(s,l,!0):cc(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function WCe(t){return Array.from(t.getClientRects())}function UCe(t){const e=Pc(t),n=H2(t),r=t.ownerDocument.body,o=Sh(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Sh(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+JN(t);const a=-n.scrollTop;return Fa(r).direction==="rtl"&&(s+=Sh(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function qCe(t,e){const n=na(t),r=Pc(t),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const c=GN();(!c||c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function KCe(t,e){const n=Xh(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=yc(t)?og(t):cc(1),s=t.clientWidth*i.x,a=t.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:a,x:l,y:c}}function YB(t,e,n){let r;if(e==="viewport")r=qCe(t,n);else if(e==="document")r=UCe(Pc(t));else if(es(e))r=KCe(e,n);else{const o=uQ(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return q_(r)}function fQ(t,e){const n=sf(t);return n===e||!es(n)||Fg(n)?!1:Fa(n).position==="fixed"||fQ(n,e)}function GCe(t,e){const n=e.get(t);if(n)return n;let r=Yb(t,[],!1).filter(a=>es(a)&&Pv(a)!=="body"),o=null;const i=Fa(t).position==="fixed";let s=i?sf(t):t;for(;es(s)&&!Fg(s);){const a=Fa(s),l=KN(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||nw(s)&&!l&&fQ(t,s))?r=r.filter(u=>u!==s):o=a,s=sf(s)}return e.set(t,r),r}function YCe(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const s=[...n==="clippingAncestors"?V2(e)?[]:GCe(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=YB(e,u,o);return c.top=Sh(d.top,c.top),c.right=zg(d.right,c.right),c.bottom=zg(d.bottom,c.bottom),c.left=Sh(d.left,c.left),c},YB(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function XCe(t){const{width:e,height:n}=cQ(t);return{width:e,height:n}}function QCe(t,e,n){const r=yc(e),o=Pc(e),i=n==="fixed",s=Xh(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=cc(0);if(r||!r&&!i)if((Pv(e)!=="body"||nw(o))&&(a=H2(e)),r){const f=Xh(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else o&&(l.x=JN(o));const c=o&&!r&&!i?dQ(o,a):cc(0),u=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:s.width,height:s.height}}function tR(t){return Fa(t).position==="static"}function XB(t,e){if(!yc(t)||Fa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Pc(t)===n&&(n=n.ownerDocument.body),n}function hQ(t,e){const n=na(t);if(V2(t))return n;if(!yc(t)){let o=sf(t);for(;o&&!Fg(o);){if(es(o)&&!tR(o))return o;o=sf(o)}return n}let r=XB(t,e);for(;r&&_Ce(r)&&tR(r);)r=XB(r,e);return r&&Fg(r)&&tR(r)&&!KN(r)?n:r||ECe(t)||n}const JCe=async function(t){const e=this.getOffsetParent||hQ,n=this.getDimensions,r=await n(t.floating);return{reference:QCe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZCe(t){return Fa(t).direction==="rtl"}const e_e={convertOffsetParentRelativeRectToViewportRelativeRect:HCe,getDocumentElement:Pc,getClippingRect:YCe,getOffsetParent:hQ,getElementRects:JCe,getClientRects:WCe,getDimensions:XCe,getScale:og,isElement:es,isRTL:ZCe};function pQ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function t_e(t,e){let n=null,r;const o=Pc(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:m}=c;if(a||e(),!f||!m)return;const g=F1(d),v=F1(o.clientWidth-(u+f)),y=F1(o.clientHeight-(d+m)),b=F1(u),w={rootMargin:-g+"px "+-v+"px "+-y+"px "+-b+"px",threshold:Sh(0,zg(1,l))||1};let C=!0;function E(_){const S=_[0].intersectionRatio;if(S!==l){if(!C)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!pQ(c,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(E,{...w,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(t)}return s(!0),i}function n_e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=QN(t),u=o||i?[...c?Yb(c):[],...Yb(e)]:[];u.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const d=c&&a?t_e(c,n):null;let f=-1,m=null;s&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let g,v=l?Xh(t):null;l&&y();function y(){const b=Xh(t);v&&!pQ(v,b)&&n(),v=b,g=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),d==null||d(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const r_e=zCe,o_e=LCe,QB=jCe,i_e=(t,e,n)=>{const r=new Map,o={platform:e_e,...n},i={...o.platform,_c:r};return ACe(t,e,{...o,platform:i})};var aC=typeof document<"u"?h.useLayoutEffect:h.useEffect;function K_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!K_(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!K_(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mQ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JB(t,e){const n=mQ(t);return Math.round(e*n)/n}function nR(t){const e=h.useRef(t);return aC(()=>{e.current=t}),e}function s_e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=h.useState(r);K_(f,r)||m(r);const[g,v]=h.useState(null),[y,b]=h.useState(null),x=h.useCallback(j=>{j!==_.current&&(_.current=j,v(j))},[]),w=h.useCallback(j=>{j!==S.current&&(S.current=j,b(j))},[]),C=i||g,E=s||y,_=h.useRef(null),S=h.useRef(null),T=h.useRef(u),I=l!=null,P=nR(l),M=nR(o),R=nR(c),k=h.useCallback(()=>{if(!_.current||!S.current)return;const j={placement:e,strategy:n,middleware:f};M.current&&(j.platform=M.current),i_e(_.current,S.current,j).then(L=>{const z={...L,isPositioned:R.current!==!1};D.current&&!K_(T.current,z)&&(T.current=z,sa.flushSync(()=>{d(z)}))})},[f,e,n,M,R]);aC(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[c]);const D=h.useRef(!1);aC(()=>(D.current=!0,()=>{D.current=!1}),[]),aC(()=>{if(C&&(_.current=C),E&&(S.current=E),C&&E){if(P.current)return P.current(C,E,k);k()}},[C,E,k,P,I]);const A=h.useMemo(()=>({reference:_,floating:S,setReference:x,setFloating:w}),[x,w]),N=h.useMemo(()=>({reference:C,floating:E}),[C,E]),O=h.useMemo(()=>{const j={position:n,left:0,top:0};if(!N.floating)return j;const L=JB(N.floating,u.x),z=JB(N.floating,u.y);return a?{...j,transform:"translate("+L+"px, "+z+"px)",...mQ(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:z}},[n,a,N.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:k,refs:A,elements:N,floatingStyles:O}),[u,k,A,N,O])}const a_e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QB({element:r.current,padding:o}).fn(n):{}:r?QB({element:r,padding:o}).fn(n):{}}}},l_e=(t,e)=>({...r_e(t),options:[t,e]}),c_e=(t,e)=>({...o_e(t),options:[t,e]}),u_e=(t,e)=>({...a_e(t),options:[t,e]}),gQ={...mc},d_e=gQ.useInsertionEffect,f_e=d_e||(t=>t());function h_e(t){const e=h.useRef(()=>{});return f_e(()=>{e.current=t}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}var G_=typeof document<"u"?h.useLayoutEffect:h.useEffect;let ZB=!1,p_e=0;const eV=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+p_e++;function m_e(){const[t,e]=h.useState(()=>ZB?eV():void 0);return G_(()=>{t==null&&e(eV())},[]),h.useEffect(()=>{ZB=!0},[]),t}const g_e=gQ.useId,vQ=g_e||m_e,v_e=h.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:i,shift:s}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:f,d:m,style:{transform:g,...v}={},...y}=e,b=vQ(),[x,w]=h.useState(!1);if(G_(()=>{if(!o)return;Fa(o).direction==="rtl"&&w(!0)},[o]),!o)return null;const[C,E]=r.split("-"),_=C==="top"||C==="bottom";let S=d;(_&&s!=null&&s.x||!_&&s!=null&&s.y)&&(S=null);const T=u*2,I=T/2,P=a/2*(c/-8+1),M=l/2*c/4,R=!!m,k=S&&E==="end"?"bottom":"top";let D=S&&E==="end"?"right":"left";S&&x&&(D=E==="end"?"left":"right");const A=(i==null?void 0:i.x)!=null?S||i.x:"",N=(i==null?void 0:i.y)!=null?S||i.y:"",O=m||"M0,0"+(" H"+a)+(" L"+(a-P)+","+(l-M))+(" Q"+a/2+","+l+" "+P+","+(l-M))+" Z",j={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[C];return p.jsxs("svg",{...y,"aria-hidden":!0,ref:n,width:R?a:a+T,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[D]:A,[k]:N,[C]:_||R?"100%":"calc(100% - "+T/2+"px)",transform:[j,g].filter(L=>!!L).join(" "),...v},children:[T>0&&p.jsx("path",{clipPath:"url(#"+b+")",fill:"none",stroke:f,strokeWidth:T+(m?0:1),d:O}),p.jsx("path",{stroke:T&&!m?y.fill:"none",d:O}),p.jsx("clipPath",{id:b,children:p.jsx("rect",{x:-I,y:I*(R?-1:1),width:a+T,height:a})})]})});function y_e(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(o=>o!==n))||[])}}}const b_e=h.createContext(null),x_e=h.createContext(null),w_e=()=>{var t;return((t=h.useContext(b_e))==null?void 0:t.id)||null},S_e=()=>h.useContext(x_e);function C_e(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=vQ(),i=h.useRef({}),[s]=h.useState(()=>y_e()),a=w_e()!=null,[l,c]=h.useState(r.reference),u=h_e((m,g,v)=>{i.current.openEvent=m?g:void 0,s.emit("openchange",{open:m,event:g,reason:v,nested:a}),n==null||n(m,g,v)}),d=h.useMemo(()=>({setPositionReference:c}),[]),f=h.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return h.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:f,events:s,floatingId:o,refs:d}),[e,u,f,s,o,d])}function __e(t){t===void 0&&(t={});const{nodeId:e}=t,n=C_e({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[i,s]=h.useState(null),[a,l]=h.useState(null),u=(o==null?void 0:o.domReference)||i,d=h.useRef(null),f=S_e();G_(()=>{u&&(d.current=u)},[u]);const m=s_e({...t,elements:{...o,...a&&{reference:a}}}),g=h.useCallback(w=>{const C=es(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(C),m.refs.setReference(C)},[m.refs]),v=h.useCallback(w=>{(es(w)||w===null)&&(d.current=w,s(w)),(es(m.refs.reference.current)||m.refs.reference.current===null||w!==null&&!es(w))&&m.refs.setReference(w)},[m.refs]),y=h.useMemo(()=>({...m.refs,setReference:v,setPositionReference:g,domReference:d}),[m.refs,v,g]),b=h.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),x=h.useMemo(()=>({...m,...r,refs:y,elements:b,nodeId:e}),[m,y,b,e,r]);return G_(()=>{r.dataRef.current.floatingContext=x;const w=f==null?void 0:f.nodesRef.current.find(C=>C.id===e);w&&(w.context=x)}),h.useMemo(()=>({...m,context:x,refs:y,elements:b}),[m,y,b,x])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var x$=function(e,n){return x$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},x$(e,n)};function ci(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");x$(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Xn=function(){return Xn=Object.assign||function(n){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},Xn.apply(this,arguments)};function tc(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var E_e=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,o=r===void 0?!1:r,i=t.className,s=t.children,a=n?"Choose Time":"Choose Date".concat(o?" and Time":"");return oe.createElement("div",{className:i,role:"dialog","aria-label":a,"aria-modal":"true"},s)},T_e=function(t,e){var n=h.useRef(null),r=h.useRef(t);r.current=t;var o=h.useCallback(function(i){var s,a=i.composed&&i.composedPath&&i.composedPath().find(function(l){return l instanceof Node})||i.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(s=r.current)===null||s===void 0||s.call(r,i))},[e]);return h.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),n},U2=function(t){var e=t.children,n=t.onClickOutside,r=t.className,o=t.containerRef,i=t.style,s=t.ignoreClass,a=T_e(n,s);return oe.createElement("div",{className:r,style:i,ref:function(l){a.current=l,o&&(o.current=l)}},e)},jt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(jt||(jt={}));function ZN(){var t=typeof window<"u"?window:globalThis;return t}var ow=12;function ur(t){if(t==null)return new Date;var e=typeof t=="string"?lCe(t):tn(t);return q2(e)?e:new Date}function rR(t,e,n,r,o){o===void 0&&(o=ur());for(var i=Vg(n)||Vg(ej()),s=Array.isArray(e)?e:[e],a=0,l=s;a<l.length;a++){var c=l[a],u=nCe(t,c,o,{locale:i});if(q2(u)&&(!r||t===Qr(u,c,n)))return u}return null}function q2(t,e){return F_(t)&&!Yh(t,new Date("1/1/1800"))}function Qr(t,e,n){if(n==="en")return WB(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Vg(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Vg(ej()),WB(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function xa(t,e){var n=e.dateFormat,r=e.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Qr(t,o,r)||""}function I_e(t,e,n){if(!t)return"";var r=xa(t,n),o=e?xa(e,n):"";return"".concat(r," - ").concat(o)}function P_e(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?xa(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=xa(t[1],e);return"".concat(n,", ").concat(r)}var o=t.length-1;return"".concat(n," (+").concat(o,")")}function oR(t,e){var n=e.hour,r=n===void 0?0:n,o=e.minute,i=o===void 0?0:o,s=e.second,a=s===void 0?0:s;return oC(iC(sC(t,a),i),r)}function R_e(t){return HN(t)}function k_e(t,e){return Qr(t,"ddd",e)}function lC(t){return Gh(t)}function Hd(t,e,n){var r=Vg(e||ej());return Su(t,{locale:r,weekStartsOn:n})}function du(t){return YX(t)}function m0(t){return z2(t)}function tV(t){return m$(t)}function nV(){return Gh(ur())}function rV(t){return KX(t)}function D_e(t){return l1e(t)}function $_e(t){return GX(t)}function zl(t,e){return t&&e?sCe(t,e):!t&&!e}function Qi(t,e){return t&&e?oCe(t,e):!t&&!e}function Y_(t,e){return t&&e?iCe(t,e):!t&&!e}function Yn(t,e){return t&&e?s1e(t,e):!t&&!e}function ah(t,e){return t&&e?aSe(t,e):!t&&!e}function g0(t,e,n){var r,o=Gh(e),i=KX(n);try{r=Gb(t,{start:o,end:i})}catch{r=!1}return r}function M_e(t,e){var n=ZN();n.__localeData__||(n.__localeData__={}),n.__localeData__[t]=e}function ej(){var t=ZN();return t.__localeId__}function Vg(t){if(typeof t=="string"){var e=ZN();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function O_e(t,e,n){return e(Qr(t,"EEEE",n))}function A_e(t,e){return Qr(t,"EEEEEE",e)}function N_e(t,e){return Qr(t,"EEE",e)}function tj(t,e){return Qr(_a(ur(),t),"LLLL",e)}function yQ(t,e){return Qr(_a(ur(),t),"LLL",e)}function j_e(t,e){return Qr(gm(ur(),t),"QQQ",e)}function Pa(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return iw(t,{minDate:r,maxDate:o})||i&&i.some(function(u){return u instanceof Date?Yn(t,u):Yn(t,u.date)})||s&&s.some(function(u){var d=u.start,f=u.end;return Gb(t,{start:d,end:f})})||a&&!a.some(function(u){return Yn(t,u)})||l&&!l.some(function(u){var d=u.start,f=u.end;return Gb(t,{start:d,end:f})})||c&&!c(ur(t))||!1}function nj(t,e){var n=e===void 0?{}:e,r=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some(function(i){var s=i.start,a=i.end;return Gb(t,{start:s,end:a})}):r&&r.some(function(i){var s;return i instanceof Date?Yn(t,i):Yn(t,(s=i.date)!==null&&s!==void 0?s:new Date)})||!1}function bQ(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates,a=n.filterDate;return iw(t,{minDate:r?YX(r):void 0,maxDate:o?GX(o):void 0})||(i==null?void 0:i.some(function(l){return Qi(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Qi(t,l)})||a&&!a(ur(t))||!1}function z1(t,e,n,r){var o=Rn(t),i=Zi(t),s=Rn(e),a=Zi(e),l=Rn(r);return o===s&&o===l?i<=n&&n<=a:o<s?l===o&&i<=n||l===s&&a>=n||l<s&&l>o:!1}function L_e(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates;return iw(t,{minDate:r,maxDate:o})||i&&i.some(function(a){return Qi(a instanceof Date?a:a.date,t)})||s&&!s.some(function(a){return Qi(a,t)})||!1}function B1(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates,a=n.filterDate;return iw(t,{minDate:r,maxDate:o})||(i==null?void 0:i.some(function(l){return Y_(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Y_(t,l)})||a&&!a(ur(t))||!1}function V1(t,e,n){if(!e||!n||!F_(e)||!F_(n))return!1;var r=Rn(e),o=Rn(n);return r<=t&&o>=t}function cC(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return iw(l,{minDate:r?z2(r):void 0,maxDate:o?XX(o):void 0})||(i==null?void 0:i.some(function(c){return zl(l,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return zl(l,c)})||a&&!a(ur(l))||!1}function H1(t,e,n,r){var o=Rn(t),i=xh(t),s=Rn(e),a=xh(e),l=Rn(r);return o===s&&o===l?i<=n&&n<=a:o<s?l===o&&i<=n||l===s&&a>=n||l<s&&l>o:!1}function iw(t,e){var n,r=e===void 0?{}:e,o=r.minDate,i=r.maxDate;return(n=o&&jg(t,o)<0||i&&jg(t,i)>0)!==null&&n!==void 0?n:!1}function oV(t,e){return e.some(function(n){return cu(n)===cu(t)&&uu(n)===uu(t)&&Vd(n)===Vd(t)})}function iV(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,o=n.includeTimes,i=n.filterTime;return r&&oV(t,r)||o&&!oV(t,o)||i&&!i(t)||!1}function sV(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=ur();o=oC(o,cu(t)),o=iC(o,uu(t)),o=sC(o,Vd(t));var i=ur();i=oC(i,cu(n)),i=iC(i,uu(n)),i=sC(i,Vd(n));var s=ur();s=oC(s,cu(r)),s=iC(s,uu(r)),s=sC(s,Vd(r));var a;try{a=!Gb(o,{start:i,end:s})}catch{a=!1}return a}function aV(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.includeDates,i=wh(t,1);return r&&z_(r,i)>0||o&&o.every(function(s){return z_(s,i)>0})||!1}function lV(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.includeDates,i=gl(t,1);return r&&z_(i,r)>0||o&&o.every(function(s){return z_(i,s)>0})||!1}function F_e(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.includeDates,i=z2(t),s=iQ(i);return r&&B_(r,s)>0||o&&o.every(function(a){return B_(a,s)>0})||!1}function z_e(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.includeDates,i=XX(t),s=VN(i,1);return r&&B_(s,r)>0||o&&o.every(function(a){return B_(s,a)>0})||!1}function cV(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.includeDates,i=Lg(t,1);return r&&V_(r,i)>0||o&&o.every(function(s){return V_(s,i)>0})||!1}function B_e(t,e){var n=e===void 0?{}:e,r=n.minDate,o=n.yearItemNumber,i=o===void 0?ow:o,s=m0(Lg(t,i)),a=Cd(s,i).endPeriod,l=r&&Rn(r);return l&&l>a||!1}function uV(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.includeDates,i=au(t,1);return r&&V_(i,r)>0||o&&o.every(function(s){return V_(i,s)>0})||!1}function V_e(t,e){var n=e===void 0?{}:e,r=n.maxDate,o=n.yearItemNumber,i=o===void 0?ow:o,s=au(t,i),a=Cd(s,i).startPeriod,l=r&&Rn(r);return l&&l<a||!1}function xQ(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(o){return jg(o,e)>=0});return LB(r)}else return n?LB(n):e}function wQ(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(o){return jg(o,e)<=0});return jB(r)}else return n?jB(n):e}function dV(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,o=0,i=t.length;o<i;o++){var s=t[o];if(lu(s)){var a=Qr(s,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof s=="object"){var c=Object.keys(s),u=(n=c[0])!==null&&n!==void 0?n:"",d=s[u];if(typeof u=="string"&&Array.isArray(d))for(var f=0,m=d.length;f<m;f++){var g=d[f];if(g){var a=Qr(g,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function H_e(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function W_e(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var o=r.date,i=r.holidayName;if(lu(o)){var s=Qr(o,"MM.dd.yyyy"),a=n.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&H_e(a.holidayNames,[i]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?tc(tc([],l,!0),[i],!1):[i],n.set(s,a)}}}),n}function U_e(t,e,n,r,o){for(var i=o.length,s=[],a=0;a<i;a++){var l=t,c=o[a];c&&(l=n1e(l,cu(c)),l=p$(l,uu(c)),l=i1e(l,Vd(c)));var u=p$(t,(n+1)*r);of(l,e)&&Yh(l,u)&&c!=null&&s.push(c)}return s}function fV(t){return t<10?"0".concat(t):"".concat(t)}function Cd(t,e){e===void 0&&(e=ow);var n=Math.ceil(Rn(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function q_e(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function hV(t){var e=t.getSeconds(),n=t.getMilliseconds();return tn(t.getTime()-e*1e3-n)}function K_e(t,e){return hV(t).getTime()===hV(e).getTime()}function pV(t){if(!lu(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function mV(t,e){if(!lu(t)||!lu(e))throw new Error("Invalid date received");var n=pV(t),r=pV(e);return Yh(n,r)}function SQ(t){return t.key===jt.Space}var G_e=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=oe.createRef(),r.onTimeChange=function(o){var i,s;r.setState({time:o});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(o!=null&&o.includes(":")){var u=o.split(":"),d=u[0],f=u[1];c.setHours(Number(d)),c.setMinutes(Number(f))}(s=(i=r.props).onChange)===null||s===void 0||s.call(i,c)},r.renderTimeInput=function(){var o=r.state.time,i=r.props,s=i.date,a=i.timeString,l=i.customTimeInput;return l?h.cloneElement(l,{date:s,value:o,onChange:r.onTimeChange}):oe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:o,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return oe.createElement("div",{className:"react-datepicker__input-time-container"},oe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),oe.createElement("div",{className:"react-datepicker-time__input-container"},oe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(h.Component),Y_e=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=h.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var o,i,s=r.key;s===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(i=(o=n.props).handleOnKeyDown)===null||i===void 0||i.call(o,r)},n.isSameDay=function(r){return Yn(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var o=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),i=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!o&&n.isSameDayOrWeek(n.props.preSelection)&&!i},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Pa(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return nj(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Yn(n.props.day,Hd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Yn(r,Hd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,o=r.day,i=r.highlightDates;if(!i)return!1;var s=Qr(o,"MM.dd.yyyy");return i.get(s)},n.getHolidaysClass=function(){var r,o=n.props,i=o.day,s=o.holidays;if(!s)return[void 0];var a=Qr(i,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,o=r.day,i=r.startDate,s=r.endDate;return!i||!s?!1:g0(o,i,s)},n.isInSelectingRange=function(){var r,o=n.props,i=o.day,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,c=o.selectsDisabledDaysInRange,u=o.startDate,d=o.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(s||a||l)||!f||!c&&n.isDisabled()?!1:s&&d&&(Yh(f,d)||ah(f,d))?g0(i,f,d):a&&u&&(of(f,u)||ah(f,u))||l&&u&&!d&&(of(f,u)||ah(f,u))?g0(i,u,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,i=o.day,s=o.startDate,a=o.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?Yn(i,l):Yn(i,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var o=n.props,i=o.day,s=o.endDate,a=o.selectsEnd,l=o.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?Yn(i,c):Yn(i,s)},n.isRangeStart=function(){var r=n.props,o=r.day,i=r.startDate,s=r.endDate;return!i||!s?!1:Yn(i,o)},n.isRangeEnd=function(){var r=n.props,o=r.day,i=r.startDate,s=r.endDate;return!i||!s?!1:Yn(s,o)},n.isWeekend=function(){var r=rSe(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Zi(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Zi(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(ur())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var o=n.props.dayClassName?n.props.dayClassName(r):void 0;return it("react-datepicker__day",o,"react-datepicker__day--"+k_e(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,o=r.day,i=r.ariaLabelPrefixWhenEnabled,s=i===void 0?"Choose":i,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:s;return"".concat(c," ").concat(Qr(o,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,o=r.day,i=r.holidays,s=i===void 0?new Map:i,a=r.excludeDates,l=Qr(o,"MM.dd.yyyy"),c=[];return s.has(l)&&c.push.apply(c,s.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?Yn(u,o):Yn(u==null?void 0:u.date,o)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,o=n.props.preSelection,i=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Yn(o,r))?0:-1;return i},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(UB(n.props.day),n.props.day):UB(n.props.day)},n.render=function(){return oe.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&oe.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,o;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(h.Component),X_e=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=h.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var o,i,s=r.key;s===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(i=(o=n.props).handleOnKeyDown)===null||i===void 0||i.call(o,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Yn(n.props.date,n.props.selected)&&Yn(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Yn(n.props.date,n.props.selected)&&Yn(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var o=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Yn(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(o=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,o=n.isWeekDisabled,i=n.ariaLabelPrefix,s=i===void 0?e.defaultProps.ariaLabelPrefix:i,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!o,"react-datepicker__week-number--selected":!!a&&Yn(this.props.date,this.props.selected)};return oe.createElement("div",{ref:this.weekNumberEl,className:it(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(h.Component),Q_e=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Pa(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,o){n.props.onDayClick&&n.props.onDayClick(r,o)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,o,i){for(var s,a,l,c=new Date(r),u=0;u<7;u++){var d=new Date(r);d.setDate(d.getDate()+u);var f=!n.isDisabled(d);if(f){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,o,i),n.props.showWeekPicker&&n.handleDayClick(c,i),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):R_e(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),o=ul(r,6),i=new Date(r);i<=o;){if(!n.isDisabled(i))return!1;i=ul(i,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),o=[],i=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,i):void 0;o.push(oe.createElement(X_e,Xn({key:"W"},e.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:s})))}return o.concat([0,1,2,3,4,5,6].map(function(a){var l=ul(r,a);return oe.createElement(Y_e,Xn({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Hd(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Yn(n.startOfWeek(),n.props.selected)&&Yn(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Yn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return oe.createElement("div",{className:it(n)},this.renderDays())},e}(h.Component),_y,J_e=6,ig={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},iR=(_y={},_y[ig.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},_y[ig.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},_y[ig.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},_y),W1=1;function gV(t,e){return t?ig.FOUR_COLUMNS:e?ig.TWO_COLUMNS:ig.THREE_COLUMNS}var Z_e=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=tc([],Array(12),!0).map(function(){return h.createRef()}),n.QUARTER_REFS=tc([],Array(4),!0).map(function(){return h.createRef()}),n.isDisabled=function(r){return Pa(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return nj(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,o){var i,s;(s=(i=n.props).onDayClick)===null||s===void 0||s.call(i,r,o,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var o,i;(i=(o=n.props).onDayMouseEnter)===null||i===void 0||i.call(o,r)},n.handleMouseLeave=function(){var r,o;(o=(r=n.props).onMouseLeave)===null||o===void 0||o.call(r)},n.isRangeStartMonth=function(r){var o=n.props,i=o.day,s=o.startDate,a=o.endDate;return!s||!a?!1:Qi(_a(i,r),s)},n.isRangeStartQuarter=function(r){var o=n.props,i=o.day,s=o.startDate,a=o.endDate;return!s||!a?!1:Y_(gm(i,r),s)},n.isRangeEndMonth=function(r){var o=n.props,i=o.day,s=o.startDate,a=o.endDate;return!s||!a?!1:Qi(_a(i,r),a)},n.isRangeEndQuarter=function(r){var o=n.props,i=o.day,s=o.startDate,a=o.endDate;return!s||!a?!1:Y_(gm(i,r),a)},n.isInSelectingRangeMonth=function(r){var o,i=n.props,s=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?z1(f,d,r,s):l&&u||c&&u&&!d?z1(u,f,r,s):!1},n.isSelectingMonthRangeStart=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,s=i.day,a=i.startDate,l=i.selectsStart,c=_a(s,r),u=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return l?Qi(c,u):Qi(c,a)},n.isSelectingMonthRangeEnd=function(r){var o;if(!n.isInSelectingRangeMonth(r))return!1;var i=n.props,s=i.day,a=i.endDate,l=i.selectsEnd,c=i.selectsRange,u=_a(s,r),d=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return l||c?Qi(u,d):Qi(u,a)},n.isInSelectingRangeQuarter=function(r){var o,i=n.props,s=i.day,a=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?H1(f,d,r,s):l&&u||c&&u&&!d?H1(u,f,r,s):!1},n.isWeekInMonth=function(r){var o=n.props.day,i=ul(r,6);return Qi(r,o)||Qi(i,o)},n.isCurrentMonth=function(r,o){return Rn(r)===Rn(ur())&&o===Zi(ur())},n.isCurrentQuarter=function(r,o){return Rn(r)===Rn(ur())&&o===xh(ur())},n.isSelectedMonth=function(r,o,i){return Zi(i)===o&&Rn(r)===Rn(i)},n.isSelectMonthInList=function(r,o,i){return i.some(function(s){return n.isSelectedMonth(r,o,s)})},n.isSelectedQuarter=function(r,o,i){return xh(r)===o&&Rn(r)===Rn(i)},n.renderWeeks=function(){for(var r=[],o=n.props.fixedHeight,i=0,s=!1,a=Hd(du(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(g){return n.props.showWeekPicker?Hd(g,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(g){return n.props.showWeekPicker?Hd(g,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;r.push(oe.createElement(Q_e,Xn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:i,day:a,month:Zi(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!s;){i++,a=L_(a,1);var f=o&&i>=J_e,m=!o&&!n.isWeekInMonth(a);if(f||m)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,o){var i=n.isMonthDisabledForLabelDate(o),s=i.isDisabled,a=i.labelDate;s||n.handleDayClick(du(a),r)},n.onMonthMouseEnter=function(r){var o=n.isMonthDisabledForLabelDate(r),i=o.isDisabled,s=o.labelDate;i||n.handleDayMouseEnter(du(s))},n.handleMonthNavigation=function(r,o){var i,s,a,l;(s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,o),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,o,i){var s,a=n.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,f=a.maxDate,m=a.showFourColumnMonthYearPicker,g=a.showTwoColumnMonthYearPicker;if(c){var v=gV(m,g),y=n.getVerticalOffset(v),b=(s=iR[v])===null||s===void 0?void 0:s.grid,x=function(S,T,I){var P,M,R=T,k=I;switch(S){case jt.ArrowRight:R=gl(T,W1),k=I===11?0:I+W1;break;case jt.ArrowLeft:R=wh(T,W1),k=I===0?11:I-W1;break;case jt.ArrowUp:R=wh(T,y),k=!((P=b==null?void 0:b[0])===null||P===void 0)&&P.includes(I)?I+12-y:I-y;break;case jt.ArrowDown:R=gl(T,y),k=!((M=b==null?void 0:b[b.length-1])===null||M===void 0)&&M.includes(I)?I-12+y:I+y;break}return{newCalculatedDate:R,newCalculatedMonth:k}},w=function(S,T,I){for(var P=40,M=S,R=!1,k=0,D=x(M,T,I),A=D.newCalculatedDate,N=D.newCalculatedMonth;!R;){if(k>=P){A=T,N=I;break}if(d&&A<d){M=jt.ArrowRight;var O=x(M,A,N);A=O.newCalculatedDate,N=O.newCalculatedMonth}if(f&&A>f){M=jt.ArrowLeft;var O=x(M,A,N);A=O.newCalculatedDate,N=O.newCalculatedMonth}if(L_e(A,n.props)){var O=x(M,A,N);A=O.newCalculatedDate,N=O.newCalculatedMonth}else R=!0;k++}return{newCalculatedDate:A,newCalculatedMonth:N}};if(o===jt.Enter){n.isMonthDisabled(i)||(n.onMonthClick(r,i),u==null||u(l));return}var C=w(o,c,i),E=C.newCalculatedDate,_=C.newCalculatedMonth;switch(o){case jt.ArrowRight:case jt.ArrowLeft:case jt.ArrowUp:case jt.ArrowDown:n.handleMonthNavigation(_,E);break}}},n.getVerticalOffset=function(r){var o,i;return(i=(o=iR[r])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&i!==void 0?i:0},n.onMonthKeyDown=function(r,o){var i=n.props,s=i.disabledKeyboardNavigation,a=i.handleOnMonthKeyDown,l=r.key;l!==jt.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,l,o),a&&a(r)},n.onQuarterClick=function(r,o){var i=gm(n.props.day,o);B1(i,n.props)||n.handleDayClick(tV(i),r)},n.onQuarterMouseEnter=function(r){var o=gm(n.props.day,r);B1(o,n.props)||n.handleDayMouseEnter(tV(o))},n.handleQuarterNavigation=function(r,o){var i,s,a,l;n.isDisabled(o)||n.isExcluded(o)||((s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,o),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,o){var i,s,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case jt.Enter:n.onQuarterClick(r,o),(s=(i=n.props).setPreSelection)===null||s===void 0||s.call(i,n.props.selected);break;case jt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===4?1:o+1,VN(n.props.preSelection,1));break;case jt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(o===1?4:o-1,iQ(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var o,i=n.props,s=i.day,a=i.minDate,l=i.maxDate,c=i.excludeDates,u=i.includeDates,d=_a(s,r);return{isDisabled:(o=(a||l||c||u)&&bQ(d,n.props))!==null&&o!==void 0?o:!1,labelDate:d}},n.isMonthDisabled=function(r){var o=n.isMonthDisabledForLabelDate(r).isDisabled;return o},n.getMonthClassNames=function(r){var o=n.props,i=o.day,s=o.startDate,a=o.endDate,l=o.preSelection,c=o.monthClassName,u=c?c(_a(i,r)):void 0,d=n.getSelection();return it("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(i,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(i,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?z1(s,a,r,i):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(i,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=Zi(n.props.preSelection),i=n.isMonthDisabledForLabelDate(o).isDisabled,s=r===o&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var o=xh(n.props.preSelection),i=B1(n.props.day,n.props),s=r===o&&!(i||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(r){var o=n.props,i=o.chooseDayAriaLabelPrefix,s=i===void 0?"Choose":i,a=o.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=o.day,u=o.locale,d=_a(c,r),f=n.isDisabled(d)||n.isExcluded(d)?l:s;return"".concat(f," ").concat(Qr(d,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var o=n.props,i=o.day,s=o.startDate,a=o.endDate,l=o.selected,c=o.minDate,u=o.maxDate,d=o.excludeDates,f=o.includeDates,m=o.filterDate,g=o.preSelection,v=o.disabledKeyboardNavigation,y=(c||u||d||f||m)&&B1(gm(i,r),n.props);return it("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(i,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&g&&n.isSelectedQuarter(i,r,g)&&!y,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?H1(s,a,r,i):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(i,r)})},n.getMonthContent=function(r){var o=n.props,i=o.showFullMonthYearPicker,s=o.renderMonthContent,a=o.locale,l=o.day,c=yQ(r,a),u=tj(r,a);return s?s(r,c,u,l):i?u:c},n.getQuarterContent=function(r){var o,i=n.props,s=i.renderQuarterContent,a=i.locale,l=j_e(r,a);return(o=s==null?void 0:s(r,l))!==null&&o!==void 0?o:l},n.renderMonths=function(){var r,o=n.props,i=o.showTwoColumnMonthYearPicker,s=o.showFourColumnMonthYearPicker,a=o.day,l=o.selected,c=(r=iR[gV(s,i)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,d){return oe.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(f,m){return oe.createElement("div",{ref:n.MONTH_REFS[f],key:m,onClick:function(g){n.onMonthClick(g,f)},onKeyDown:function(g){SQ(g)&&(g.preventDefault(),g.key=jt.Enter),n.onMonthKeyDown(g,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,f,l):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,o=r.day,i=r.selected,s=[1,2,3,4];return oe.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,l){return oe.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":i?n.isSelectedQuarter(o,a,i):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(o,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,o=r.selectingDate,i=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return it("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(i||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,o=n.selectedDates,i=n.selectsMultiple;if(i)return o;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,o=n.showQuarterYearPicker,i=n.day,s=n.ariaLabelPrefix,a=s===void 0?"Month ":s,l=a?a.trim()+" ":"";return oe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(Qr(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():o?this.renderQuarters():this.renderWeeks())},e}(h.Component),eEe=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,o){return oe.createElement("div",{className:n.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,o),"aria-selected":n.isSelectedMonth(o)?"true":void 0},n.isSelectedMonth(o)?oe.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return oe.createElement(U2,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(h.Component),tEe=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(o,i){return oe.createElement("option",{key:o,value:i},o)})},n.renderSelectMode=function(r){return oe.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(o){return n.onChange(parseInt(o.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,o){return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[n.props.month]))},n.renderDropdown=function(r){return oe.createElement(eEe,Xn({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var o=n.state.dropdownVisible,i=[n.renderReadView(!o,r)];return o&&i.unshift(n.renderDropdown(r)),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return yQ(i,n.props.locale)}:function(i){return tj(i,n.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(r);break;case"select":o=this.renderSelectMode(r);break}return oe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},e}(h.Component);function nEe(t,e){for(var n=[],r=du(t),o=du(e);!of(r,o);)n.push(ur(r)),r=gl(r,1);return n}var rEe=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(o){var i=v$(o),s=zl(r.props.date,o)&&Qi(r.props.date,o);return oe.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:r.onChange.bind(r,i),"aria-selected":s?"true":void 0},s?oe.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Qr(o,r.props.dateFormat,r.props.locale))})},r.onChange=function(o){return r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:nEe(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=it({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return oe.createElement(U2,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(h.Component),oEe=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=du(n.props.minDate),o=du(n.props.maxDate),i=[];!of(r,o);){var s=v$(r);i.push(oe.createElement("option",{key:s,value:s},Qr(r,n.props.dateFormat,n.props.locale))),r=gl(r,1)}return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:v$(du(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var o=Qr(n.props.date,n.props.dateFormat,n.props.locale);return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},oe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},n.renderDropdown=function(){return oe.createElement(rEe,Xn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown();var o=ur(r);zl(n.props.date,o)&&Qi(n.props.date,o)||n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(h.Component),iEe=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,o,i;n.list&&(n.list.scrollTop=(i=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((o=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&o!==void 0?o:0):n.list.clientHeight,n.centerLi))!==null&&i!==void 0?i:0)})},n.handleClick=function(r){var o,i;(n.props.minTime||n.props.maxTime)&&sV(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&iV(r,n.props)||(i=(o=n.props).onChange)===null||i===void 0||i.call(o,r)},n.isSelectedTime=function(r){return n.props.selected&&K_e(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&sV(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&iV(r,n.props)},n.liClasses=function(r){var o,i=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&i.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&i.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(cu(r)*3600+uu(r)*60+Vd(r))%(((o=n.props.intervals)!==null&&o!==void 0?o:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},n.handleOnKeyDown=function(r,o){var i,s;r.key===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(r.key===jt.ArrowUp||r.key===jt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===jt.ArrowDown||r.key===jt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===jt.Enter&&n.handleClick(o),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.renderTimes=function(){for(var r,o=[],i=typeof n.props.format=="string"?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||ur(),l=lC(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(y,b){return y.getTime()-b.getTime()}),u=60*q_e(a),d=u/s,f=0;f<d;f++){var m=p$(l,f*s);if(o.push(m),c){var g=U_e(l,m,f,s,c);o=o.concat(g)}}var v=o.reduce(function(y,b){return b.getTime()<=a.getTime()?b:y},o[0]);return o.map(function(y){return oe.createElement("li",{key:y.valueOf(),onClick:n.handleClick.bind(n,y),className:n.liClasses(y),ref:function(b){y===v&&(n.centerLi=b)},onKeyDown:function(b){n.handleOnKeyDown(b,y)},tabIndex:y===v?0:-1,role:"option","aria-selected":n.isSelectedTime(y)?"true":void 0,"aria-disabled":n.isDisabledTime(y)?"true":void 0},Qr(y,i,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?oe.createElement(oe.Fragment,null):oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},oe.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,o=this.state.height;return oe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),oe.createElement("div",{className:"react-datepicker__time"},oe.createElement("div",{className:"react-datepicker__time-box"},oe.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(h.Component),vV=3,sEe=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=tc([],Array(r.props.yearItemNumber),!0).map(function(){return h.createRef()}),r.isDisabled=function(o){return Pa(o,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(o){return nj(o,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var o;return(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection},r.updateFocusOnPaginate=function(o){var i=function(){var s,a;(a=(s=r.YEAR_REFS[o])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(i)},r.handleYearClick=function(o,i){r.props.onDayClick&&r.props.onDayClick(o,i)},r.handleYearNavigation=function(o,i){var s,a,l,c,u=r.props,d=u.date,f=u.yearItemNumber;if(!(d===void 0||f===void 0)){var m=Cd(d,f).startPeriod;r.isDisabled(i)||r.isExcluded(i)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,i),o-m<0?r.updateFocusOnPaginate(f-(m-o)):o-m>=f?r.updateFocusOnPaginate(Math.abs(f-(o-m))):(c=(l=r.YEAR_REFS[o-m])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(o,i){return Yn(o,i)},r.isCurrentYear=function(o){return o===Rn(ur())},r.isRangeStart=function(o){return r.props.startDate&&r.props.endDate&&zl(Ll(ur(),o),r.props.startDate)},r.isRangeEnd=function(o){return r.props.startDate&&r.props.endDate&&zl(Ll(ur(),o),r.props.endDate)},r.isInRange=function(o){return V1(o,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(o){var i=r.props,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.startDate,u=i.endDate;return!(s||a||l)||!r.selectingDate()?!1:s&&u?V1(o,r.selectingDate(),u):a&&c||l&&c&&!u?V1(o,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(o){var i;if(!r.isInSelectingRange(o))return!1;var s=r.props,a=s.startDate,l=s.selectsStart,c=Ll(ur(),o);return l?zl(c,(i=r.selectingDate())!==null&&i!==void 0?i:null):zl(c,a??null)},r.isSelectingRangeEnd=function(o){var i;if(!r.isInSelectingRange(o))return!1;var s=r.props,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=Ll(ur(),o);return l||c?zl(u,(i=r.selectingDate())!==null&&i!==void 0?i:null):zl(u,a??null)},r.isKeyboardSelected=function(o){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var i=r.props,s=i.minDate,a=i.maxDate,l=i.excludeDates,c=i.includeDates,u=i.filterDate,d=m0(Ll(r.props.date,o)),f=(s||a||l||c||u)&&cC(o,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Yn(d,m0(r.props.selected))&&Yn(d,m0(r.props.preSelection))&&!f}},r.onYearClick=function(o,i){var s=r.props.date;s!==void 0&&r.handleYearClick(m0(Ll(s,i)),o)},r.onYearKeyDown=function(o,i){var s,a,l=o.key,c=r.props,u=c.date,d=c.yearItemNumber,f=c.handleOnKeyDown;if(l!==jt.Tab&&o.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case jt.Enter:if(r.props.selected==null)break;r.onYearClick(o,i),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case jt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(i+1,au(r.props.preSelection,1));break;case jt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(i-1,Lg(r.props.preSelection,1));break;case jt.ArrowUp:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var m=Cd(u,d).startPeriod,g=vV,v=i-g;if(v<m){var y=d%g;i>=m&&i<m+y?g=y:g+=y,v=i-g}r.handleYearNavigation(v,Lg(r.props.preSelection,g));break}case jt.ArrowDown:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var b=Cd(u,d).endPeriod,g=vV,v=i+g;if(v>b){var y=d%g;i<=b&&i>b-y?g=y:g+=y,v=i+g}r.handleYearNavigation(v,au(r.props.preSelection,g));break}}f&&f(o)},r.getYearClassNames=function(o){var i=r.props,s=i.date,a=i.minDate,l=i.maxDate,c=i.selected,u=i.excludeDates,d=i.includeDates,f=i.filterDate,m=i.yearClassName;return it("react-datepicker__year-text","react-datepicker__year-".concat(o),s?m==null?void 0:m(Ll(s,o)):void 0,{"react-datepicker__year-text--selected":c?o===Rn(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||d||f)&&cC(o,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(o),"react-datepicker__year-text--range-start":r.isRangeStart(o),"react-datepicker__year-text--range-end":r.isRangeEnd(o),"react-datepicker__year-text--in-range":r.isInRange(o),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(o),"react-datepicker__year-text--today":r.isCurrentYear(o)})},r.getYearTabIndex=function(o){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var i=Rn(r.props.preSelection),s=cC(o,r.props);return o===i&&!s?"0":"-1"},r.getYearContent=function(o){return r.props.renderYearContent?r.props.renderYearContent(o):o},r}return e.prototype.render=function(){var n=this,r=[],o=this.props,i=o.date,s=o.yearItemNumber,a=o.onYearMouseEnter,l=o.onYearMouseLeave;if(i===void 0)return null;for(var c=Cd(i,s),u=c.startPeriod,d=c.endPeriod,f=function(v){r.push(oe.createElement("div",{ref:m.YEAR_REFS[v-u],onClick:function(y){n.onYearClick(y,v)},onKeyDown:function(y){SQ(y)&&(y.preventDefault(),y.key=jt.Enter),n.onYearKeyDown(y,v)},tabIndex:Number(m.getYearTabIndex(v)),className:m.getYearClassNames(v),onMouseEnter:m.props.usePointerEvent?void 0:function(y){return a(y,v)},onPointerEnter:m.props.usePointerEvent?function(y){return a(y,v)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(y){return l(y,v)},onPointerLeave:m.props.usePointerEvent?function(y){return l(y,v)}:void 0,key:v,"aria-current":m.isCurrentYear(v)?"date":void 0},m.getYearContent(v)))},m=this,g=u;g<=d;g++)f(g);return oe.createElement("div",{className:"react-datepicker__year"},oe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(h.Component);function aEe(t,e,n,r){for(var o=[],i=0;i<2*e+1;i++){var s=t+e-i,a=!0;n&&(a=Rn(n)<=s),r&&a&&(a=Rn(r)>=s),a&&o.push(s)}return o}var lEe=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return oe.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?oe.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),c=r.props.minDate?Rn(r.props.minDate):null,u=r.props.maxDate?Rn(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.unshift(oe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push(oe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},oe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var o=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,s=o||(i?10:5);return r.state={yearsList:aEe(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=h.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,o=r?r.find(function(i){return i.ariaSelected}):null;n.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=it({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return oe.createElement(U2,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(h.Component),cEe=function(t){ci(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Rn(n.props.minDate):1900,o=n.props.maxDate?Rn(n.props.maxDate):2100,i=[],s=r;s<=o;s++)i.push(oe.createElement("option",{key:s,value:s},s));return i},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return oe.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return oe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(o){return n.toggleDropdown(o)}},oe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),oe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return oe.createElement(lEe,Xn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,o=[n.renderReadView(!r)];return r&&o.unshift(n.renderDropdown()),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,o){var i;(i=n.onSelect)===null||i===void 0||i.call(n,r,o),n.setOpen()},n.onSelect=function(r,o){var i,s;(s=(i=n.props).onSelect)===null||s===void 0||s.call(i,r,o)},n.setOpen=function(){var r,o;(o=(r=n.props).setOpen)===null||o===void 0||o.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return oe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(h.Component),uEe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dEe=function(t){var e=(t.className||"").split(/\s+/);return uEe.some(function(n){return e.indexOf(n)>=0})},fEe=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(o){r.props.onClickOutside(o)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(o){var i,s;dEe(o.target)&&((s=(i=r.props).onDropdownFocus)===null||s===void 0||s.call(i,o))},r.getDateInView=function(){var o=r.props,i=o.preSelection,s=o.selected,a=o.openToDate,l=xQ(r.props),c=wQ(r.props),u=ur(),d=a||s||i;return d||(l&&Yh(u,l)?l:c&&of(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(o){var i=o.date;return{date:gl(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(o){var i=o.date;return{date:wh(i,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(o,i,s){r.props.onSelect(o,i,s),r.props.setPreSelection&&r.props.setPreSelection(o)},r.handleDayMouseEnter=function(o){r.setState({selectingDate:o}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(o,i){r.setState({selectingDate:Ll(ur(),i)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(o,i)},r.handleYearMouseLeave=function(o,i){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(o,i)},r.handleYearChange=function(o){var i,s,a,l;(s=(i=r.props).onYearChange)===null||s===void 0||s.call(i,o),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(o),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(o)},r.getEnabledPreSelectionDateForMonth=function(o){if(!Pa(o,r.props))return o;for(var i=du(o),s=$_e(o),a=a1e(s,i),l=null,c=0;c<=a;c++){var u=ul(i,c);if(!Pa(u,r.props)){l=u;break}}return l},r.handleMonthChange=function(o){var i,s,a,l=(i=r.getEnabledPreSelectionDateForMonth(o))!==null&&i!==void 0?i:o;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(s=r.props).setOpen)===null||a===void 0||a.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(o){var i,s;(s=(i=r.props).onMonthChange)===null||s===void 0||s.call(i,o),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(o){r.handleYearChange(o),r.handleMonthChange(o)},r.changeYear=function(o){r.setState(function(i){var s=i.date;return{date:Ll(s,Number(o))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(o){r.setState(function(i){var s=i.date;return{date:_a(s,Number(o))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(o){r.setState(function(i){var s=i.date;return{date:Ll(_a(s,Zi(o)),Rn(o))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(o){o===void 0&&(o=r.state.date);var i=Hd(o,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(oe.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var l=ul(i,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return oe.createElement("div",{key:a,"aria-label":Qr(l,"EEEE",r.props.locale),className:it("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(o,i){return r.props.formatWeekDay?O_e(o,r.props.formatWeekDay,i):r.props.useWeekdaysShort?N_e(o,i):A_e(o,i)},r.decreaseYear=function(){r.setState(function(o){var i,s=o.date;return{date:Lg(s,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var o,i,s;if(!r.props.renderCustomHeader){var a=(o=r.props.monthsShown)!==null&&o!==void 0?o:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:l,u=wh(r.state.date,c),d;switch(!0){case r.props.showMonthYearPicker:d=cV(r.state.date,r.props);break;case r.props.showYearPicker:d=B_e(r.state.date,r.props);break;case r.props.showQuarterYearPicker:d=F_e(r.state.date,r.props);break;default:d=aV(u,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&d||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],g=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(g=r.decreaseYear),d&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),g=void 0);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,y=r.props,b=y.previousMonthButtonLabel,x=b===void 0?e.defaultProps.previousMonthButtonLabel:b,w=y.previousYearButtonLabel,C=w===void 0?e.defaultProps.previousYearButtonLabel:w,E=r.props,_=E.previousMonthAriaLabel,S=_===void 0?typeof x=="string"?x:"Previous Month":_,T=E.previousYearAriaLabel,I=T===void 0?typeof C=="string"?C:"Previous Year":T;return oe.createElement("button",{type:"button",className:m.join(" "),onClick:g,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?I:S},oe.createElement("span",{className:f.join(" ")},v?C:x))}}},r.increaseYear=function(){r.setState(function(o){var i,s=o.date;return{date:au(s,r.props.showYearPicker?(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var o;if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=uV(r.state.date,r.props);break;case r.props.showYearPicker:i=V_e(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=z_e(r.state.date,r.props);break;default:i=lV(r.state.date,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&i||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,f=d===void 0?e.defaultProps.nextMonthButtonLabel:d,m=u.nextYearButtonLabel,g=m===void 0?e.defaultProps.nextYearButtonLabel:m,v=r.props,y=v.nextMonthAriaLabel,b=y===void 0?typeof f=="string"?f:"Next Month":y,x=v.nextYearAriaLabel,w=x===void 0?typeof g=="string"?g:"Next Year":x;return oe.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?w:b},oe.createElement("span",{className:a.join(" ")},c?g:f))}}},r.renderCurrentMonth=function(o){o===void 0&&(o=r.state.date);var i=["react-datepicker__current-month"];return r.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),oe.createElement("h2",{className:i.join(" ")},Qr(o,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showYearDropdown||o))return oe.createElement(cEe,Xn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Rn(r.state.date)}))},r.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthDropdown||o))return oe.createElement(tEe,Xn({},e.defaultProps,r.props,{month:Zi(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!r.props.showMonthYearDropdown||o))return oe.createElement(oEe,Xn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(o){r.props.onSelect(nV(),o),r.props.setPreSelection&&r.props.setPreSelection(nV())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return oe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(o){var i=o.monthDate,s=o.i;return oe.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(i),oe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),oe.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))},r.renderCustomHeader=function(o){var i,s,a=o.monthDate,l=o.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=aV(r.state.date,r.props),u=lV(r.state.date,r.props),d=cV(r.state.date,r.props),f=uV(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return oe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(i=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(i,Xn(Xn({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),m&&oe.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(o){var i=o.monthDate,s=r.props,a=s.showYearPicker,l=s.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=Cd(i,c),d=u.startPeriod,f=u.endPeriod;return oe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(f):Rn(i))},r.renderHeader=function(o){var i=o.monthDate,s=o.i,a=s===void 0?0:s,l={monthDate:i,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var o,i;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(o=r.props.monthsShown)!==null&&o!==void 0?o:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?au(r.state.date,l):wh(r.state.date,l),u=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:l,d=0;d<a;++d){var f=d-u+l,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?au(c,f):gl(c,f),g="month-".concat(d),v=d<a-1,y=d>0;s.push(oe.createElement("div",{key:g,ref:function(b){r.monthContainer=b??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:d}),oe.createElement(Z_e,Xn({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:y}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return oe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),oe.createElement(sEe,Xn({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return oe.createElement(iEe,Xn({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var o=r.props.selected?new Date(r.props.selected):void 0,i=o&&q2(o)&&!!r.props.selected,s=i?"".concat(fV(o.getHours()),":").concat(fV(o.getMinutes())):"";if(r.props.showTimeInput)return oe.createElement(G_e,Xn({},e.defaultProps,r.props,{date:o,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var o,i=Cd(r.state.date,(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber),s=i.startPeriod,a=i.endPeriod,l;return r.props.showYearPicker?l="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Rn(r.state.date):l="".concat(tj(Zi(r.state.date),r.props.locale)," ").concat(Rn(r.state.date)),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return oe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=h.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:ow}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Yn(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var o=!Qi(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Yn(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||E_e;return oe.createElement(U2,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},oe.createElement("div",{style:{display:"contents"},ref:this.containerRef},oe.createElement(n,{className:it("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(h.Component),hEe=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,o=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return oe.createElement("i",{className:"".concat(i," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:o});if(oe.isValidElement(e)){var s=e;return oe.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(r),onClick:function(a){typeof s.props.onClick=="function"&&s.props.onClick(a),typeof o=="function"&&o(a)}})}return oe.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},oe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CQ=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Xl.createPortal(this.props.children,this.el)},e}(h.Component),pEe="[tabindex], a, button, input, select, textarea",mEe=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},_Q=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var o;return Array.prototype.slice.call((o=r.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(pEe),1,-1).filter(mEe)},r.handleFocusStart=function(){var o=r.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},r.handleFocusEnd=function(){var o=r.getTabChildren();o&&o.length>1&&o[0].focus()},r.tabLoopRef=h.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?oe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},oe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,oe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(h.Component);function gEe(t){var e=function(n){var r,o=typeof n.hidePopper=="boolean"?n.hidePopper:!0,i=h.useRef(null),s=__e(Xn({open:!o,whileElementsMounted:n_e,placement:n.popperPlacement,middleware:tc([c_e({padding:15}),l_e(10),u_e({element:i})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=Xn(Xn({},n),{hidePopper:o,popperProps:Xn(Xn({},s),{arrowRef:i})});return oe.createElement(t,Xn({},a))};return e}var vEe=function(t){ci(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,o=n.wrapperClassName,i=n.hidePopper,s=i===void 0?e.defaultProps.hidePopper:i,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,u=n.popperOnKeyDown,d=n.portalId,f=n.portalHost,m=n.popperProps,g=n.showArrow,v=void 0;if(!s){var y=it("react-datepicker-popper",r);v=oe.createElement(_Q,{enableTabLoop:c},oe.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:y,"data-placement":m.placement,onKeyDown:u},a,g&&oe.createElement(v_e,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=h.createElement(this.props.popperContainer,{},v)),d&&!s&&(v=oe.createElement(CQ,{portalId:d,portalHost:f},v));var b=it("react-datepicker-wrapper",o);return oe.createElement(oe.Fragment,null,oe.createElement("div",{ref:m.refs.setReference,className:b},l),v)},e}(h.Component),yEe=gEe(vEe),yV="react-datepicker-ignore-onclickoutside";function bEe(t,e){return t&&e?Zi(t)!==Zi(e)||Rn(t)!==Rn(e):t!==e}var sR="Date input not valid.",bV=function(t){ci(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:ur()},r.modifyHolidays=function(){var o;return(o=r.props.holidays)===null||o===void 0?void 0:o.reduce(function(i,s){var a=new Date(s.date);return q2(a)?tc(tc([],i,!0),[Xn(Xn({},s),{date:a})],!1):i},[])},r.calcInitialState=function(){var o,i=r.getPreSelection(),s=xQ(r.props),a=wQ(r.props),l=s&&Yh(i,lC(s))?s:a&&of(i,rV(a))?a:i;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(o=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&o!==void 0?o:l,highlightDates:dV(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Xn(Xn({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Xn(Xn({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var o,i;(i=(o=r.input)===null||o===void 0?void 0:o.focus)===null||i===void 0||i.call(o,{preventScroll:!0})},r.setBlur=function(){var o,i;(i=(o=r.input)===null||o===void 0?void 0:o.blur)===null||i===void 0||i.call(o),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(o,i){i===void 0&&(i=!1),r.setState({open:o,preSelection:o&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:aR},function(){o||r.setState(function(s){return{focused:i?s.focused:!1}},function(){!i&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return lu(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(o){var i,s,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((s=(i=r.props).onFocus)===null||s===void 0||s.call(i,o),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(o){var i,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(i=r.props).onBlur)===null||s===void 0||s.call(i,o)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(o){var i,s;r.props.inline||r.setOpen(!1),(s=(i=r.props).onClickOutside)===null||s===void 0||s.call(i,o),r.props.withPortal&&o.preventDefault()},r.handleChange=function(){for(var o,i,s,a,l,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){r.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:xEe});var f=r.props,m=f.selectsRange,g=f.startDate,v=f.endDate,y=(o=r.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,b=(i=r.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,x=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(m){var w=x.split("-",2).map(function(M){return M.trim()}),C=w[0],E=w[1],_=rR(C??"",y,r.props.locale,b),S=rR(E??"",y,r.props.locale,b),T=(g==null?void 0:g.getTime())!==(_==null?void 0:_.getTime()),I=(v==null?void 0:v.getTime())!==(S==null?void 0:S.getTime());if(!T&&!I||_&&Pa(_,r.props)||S&&Pa(S,r.props))return;(a=(s=r.props).onChange)===null||a===void 0||a.call(s,[_,S],d)}else{var P=rR(x,y,r.props.locale,b,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(P||!x)&&r.setSelected(P,d,!0)}}},r.handleSelect=function(o,i,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(i),r.setSelected(o,i,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(o);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!mV(o,l))&&r.setOpen(!1)}},r.setSelected=function(o,i,s,a){var l,c,u=o;if(r.props.showYearPicker){if(u!==null&&cC(Rn(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&bQ(u,r.props))return}else if(u!==null&&Pa(u,r.props))return;var d=r.props,f=d.onChange,m=d.selectsRange,g=d.startDate,v=d.endDate,y=d.selectsMultiple,b=d.selectedDates,x=d.minTime,w=d.swapRange;if(!ah(r.props.selected,u)||r.props.allowSameDay||m||y)if(u!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=oR(u,{hour:cu(r.props.selected),minute:uu(r.props.selected),second:Vd(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&x&&(u=oR(u,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),m){var C=!g&&!v,E=g&&!v,_=g&&v;C?f==null||f([u,null],i):E&&(u===null?f==null||f([null,null],i):mV(u,g)?w?f==null||f([u,g],i):f==null||f([u,null],i):f==null||f([g,u],i)),_&&(f==null||f([u,null],i))}else if(y){if(u!==null)if(!(b!=null&&b.length))f==null||f([u],i);else{var S=b.some(function(I){return Yn(I,u)});if(S){var T=b.filter(function(I){return!Yn(I,u)});f==null||f(T,i)}else f==null||f(tc(tc([],b,!0),[u],!1),i)}}else f==null||f(u,i);s||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,u,i),r.setState({inputValue:null}))},r.setPreSelection=function(o){var i=lu(r.props.minDate),s=lu(r.props.maxDate),a=!0;if(o){var l=lC(o);if(i&&s)a=g0(o,r.props.minDate,r.props.maxDate);else if(i){var c=lC(r.props.minDate);a=of(o,c)||ah(l,c)}else if(s){var u=rV(r.props.maxDate);a=Yh(o,u)||ah(l,u)}}a&&r.setState({preSelection:o})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(o){var i,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?o:oR(a,{hour:cu(o),minute:uu(o)});r.setState({preSelection:l}),(s=(i=r.props).onChange)===null||s===void 0||s.call(i,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var o,i;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(i=(o=r.props).onInputClick)===null||i===void 0||i.call(o)},r.onInputKeyDown=function(o){var i,s,a,l,c,u;(s=(i=r.props).onKeyDown)===null||s===void 0||s.call(i,o);var d=o.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===jt.ArrowDown||d===jt.ArrowUp||d===jt.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(d===jt.ArrowDown||d===jt.ArrowUp){o.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var g=ur(r.state.preSelection);d===jt.Enter?(o.preventDefault(),o.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===aR?(r.handleSelect(g,o),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):d===jt.Escape?(o.preventDefault(),o.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):d===jt.Tab&&r.setOpen(!1),r.inputOk()||(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:sR})}},r.onPortalKeyDown=function(o){var i=o.key;i===jt.Escape&&(o.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(o){var i,s,a,l,c,u,d=r.props,f=d.minDate,m=d.maxDate,g=d.disabledKeyboardNavigation,v=d.showWeekPicker,y=d.shouldCloseOnSelect,b=d.locale,x=d.calendarStartDay,w=d.adjustDateOnChange,C=d.inline;if((s=(i=r.props).onKeyDown)===null||s===void 0||s.call(i,o),!g){var E=o.key,_=o.shiftKey,S=ur(r.state.preSelection),T=function(A,N){var O=N;switch(A){case jt.ArrowRight:O=v?L_(N,1):ul(N,1);break;case jt.ArrowLeft:O=v?qB(N):aCe(N);break;case jt.ArrowUp:O=qB(N);break;case jt.ArrowDown:O=L_(N,1);break;case jt.PageUp:O=_?Lg(N,1):wh(N,1);break;case jt.PageDown:O=_?au(N,1):gl(N,1);break;case jt.Home:O=Hd(N,b,x);break;case jt.End:O=D_e(N);break}return O},I=function(A,N){for(var O=40,j=A,L=!1,z=0,V=T(A,N);!L;){if(z>=O){V=N;break}f&&V<f&&(j=jt.ArrowRight,V=Pa(f,r.props)?T(j,V):f),m&&V>m&&(j=jt.ArrowLeft,V=Pa(m,r.props)?T(j,V):m),Pa(V,r.props)?((j===jt.PageUp||j===jt.Home)&&(j=jt.ArrowRight),(j===jt.PageDown||j===jt.End)&&(j=jt.ArrowLeft),V=T(j,V)):L=!0,z++}return V};if(E===jt.Enter){o.preventDefault(),r.handleSelect(S,o),!y&&r.setPreSelection(S);return}else if(E===jt.Escape){o.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:sR});return}var P=null;switch(E){case jt.ArrowLeft:case jt.ArrowRight:case jt.ArrowUp:case jt.ArrowDown:case jt.PageUp:case jt.PageDown:case jt.Home:case jt.End:P=I(E,S);break}if(!P){(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:sR});return}if(o.preventDefault(),r.setState({lastPreSelectChange:aR}),w&&r.setSelected(P),r.setPreSelection(P),C){var M=Zi(S),R=Zi(P),k=Rn(S),D=Rn(P);M!==R||k!==D?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(o){var i=o.key;i===jt.Escape&&(o.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),r.sendFocusBackToInput();var i=r.props,s=i.selectsRange,a=i.onChange;s?a==null||a([null,null],o):a==null||a(null,o),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(o){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(o)&&r.setOpen(!1)},r.renderCalendar=function(){var o,i;return!r.props.inline&&!r.isCalendarOpen()?null:oe.createElement(fEe,Xn({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(o=r.props.dateFormatCalendar)!==null&&o!==void 0?o:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:W_e(r.modifyHolidays()),outsideClickIgnoreClass:yV,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(i=r.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var o=r.props,i=o.dateFormat,s=i===void 0?e.defaultProps.dateFormat:i,a=o.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(xa(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+xa(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(xa(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(xa(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(xa(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(xa(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(xa(r.props.selected,{dateFormat:c,locale:a})),oe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var o,i,s,a=it(r.props.className,(o={},o[yV]=r.state.open,o)),l=r.props.customInput||oe.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,d=u.dateFormat,f=d===void 0?e.defaultProps.dateFormat:d,m=u.locale,g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?I_e(r.props.startDate,r.props.endDate,{dateFormat:f,locale:m}):r.props.selectsMultiple?P_e((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:f,locale:m}):xa(r.props.selected,{dateFormat:f,locale:m});return h.cloneElement(l,(i={},i[c]=function(v){r.input=v},i.value=g,i.onBlur=r.handleBlur,i.onChange=r.handleChange,i.onClick=r.onInputClick,i.onFocus=r.handleFocus,i.onKeyDown=r.onInputKeyDown,i.id=r.props.id,i.name=r.props.name,i.form=r.props.form,i.autoFocus=r.props.autoFocus,i.placeholder=r.props.placeholderText,i.disabled=r.props.disabled,i.autoComplete=r.props.autoComplete,i.className=it(l.props.className,a),i.title=r.props.title,i.readOnly=r.props.readOnly,i.required=r.props.required,i.tabIndex=r.props.tabIndex,i["aria-describedby"]=r.props.ariaDescribedBy,i["aria-invalid"]=r.props.ariaInvalid,i["aria-labelledby"]=r.props.ariaLabelledBy,i["aria-required"]=r.props.ariaRequired,i))},r.renderClearButton=function(){var o=r.props,i=o.isClearable,s=o.disabled,a=o.selected,l=o.startDate,c=o.endDate,u=o.clearButtonTitle,d=o.clearButtonClassName,f=d===void 0?"":d,m=o.ariaLabelClose,g=m===void 0?"Close":m,v=o.selectedDates;return i&&(a!=null||l!=null||c!=null||v!=null&&v.length)?oe.createElement("button",{type:"button",className:it("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":g,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ow,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var o,i,s,a;n.inline&&bEe(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dV(this.props.highlightDates)}),!r.focused&&!ah(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((i=(o=this.props).onCalendarOpen)===null||i===void 0||i.call(o)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,o=n.icon,i=n.calendarIconClassname,s=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),oe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&oe.createElement(hEe,Xn({icon:o,className:it(s,!s&&i,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?oe.createElement(_Q,{enableTabLoop:this.props.enableTabLoop},oe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=oe.createElement(CQ,Xn({portalId:this.props.portalId},this.props),r)),oe.createElement("div",null,this.renderInputContainer(),r)}return oe.createElement(yEe,Xn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(h.Component),xEe="input",aR="navigate",wEe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},SEe=function(e,n,r){var o,i=wEe[e];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+o:"il y a "+o:o};function sg(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var CEe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},_Ee={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},EEe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TEe={date:sg({formats:CEe,defaultWidth:"full"}),time:sg({formats:_Ee,defaultWidth:"full"}),dateTime:sg({formats:EEe,defaultWidth:"full"})},IEe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},PEe=function(e,n,r,o){return IEe[e]};function ql(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=t.formattingValues[s]||t.formattingValues[i]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return o[c]}}var REe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},kEe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},DEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},$Ee={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},MEe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},OEe=function(e,n){var r=Number(e),o=n==null?void 0:n.unit;if(r===0)return"0";var i=["year","week","hour","minute","second"],s;return r===1?s=o&&i.includes(o)?"ère":"er":s="ème",r+s},AEe={ordinalNumber:OEe,era:ql({values:REe,defaultWidth:"wide"}),quarter:ql({values:kEe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ql({values:DEe,defaultWidth:"wide"}),day:ql({values:$Ee,defaultWidth:"wide"}),dayPeriod:ql({values:MEe,defaultWidth:"wide"})};function Kl(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;var s=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?jEe(a,function(d){return d.test(s)}):NEe(a,function(d){return d.test(s)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(s.length);return{value:c,rest:u}}}function NEe(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function jEe(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function EQ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var o=r[0],i=e.match(t.parsePattern);if(!i)return null;var s=t.valueCallback?t.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(o.length);return{value:s,rest:a}}}var LEe=/^(\d+)(ième|ère|ème|er|e)?/i,FEe=/\d+/i,zEe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},BEe={any:[/^av/i,/^ap/i]},VEe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},HEe={any:[/1/i,/2/i,/3/i,/4/i]},WEe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},UEe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},qEe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},KEe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},GEe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},YEe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},XEe={ordinalNumber:EQ({matchPattern:LEe,parsePattern:FEe,valueCallback:function(e){return parseInt(e)}}),era:Kl({matchPatterns:zEe,defaultMatchWidth:"wide",parsePatterns:BEe,defaultParseWidth:"any"}),quarter:Kl({matchPatterns:VEe,defaultMatchWidth:"wide",parsePatterns:HEe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Kl({matchPatterns:WEe,defaultMatchWidth:"wide",parsePatterns:UEe,defaultParseWidth:"any"}),day:Kl({matchPatterns:qEe,defaultMatchWidth:"wide",parsePatterns:KEe,defaultParseWidth:"any"}),dayPeriod:Kl({matchPatterns:GEe,defaultMatchWidth:"any",parsePatterns:YEe,defaultParseWidth:"any"})},sw={code:"fr",formatDistance:SEe,formatLong:TEe,formatRelative:PEe,localize:AEe,match:XEe,options:{weekStartsOn:1,firstWeekContainsDate:4}};const eh=class eh{constructor(){Ye(this,"collectionName","poles");Ye(this,"poles",[]);Ye(this,"lastFetch",0);Ye(this,"fetchPromise",null)}static getInstance(){return eh.instance||(eh.instance=new eh),eh.instance}async getPoles(e=!1,n=5*60*1e3){const r=Date.now();if(this.fetchPromise)return this.fetchPromise;if(!e&&this.poles.length>0&&r-this.lastFetch<n)return this.poles;this.fetchPromise=this.fetchPolesFromFirestore();try{return this.poles=await this.fetchPromise,this.lastFetch=r,this.poles}catch(o){throw console.error("Erreur lors de la récupération des pôles:",o),o}finally{this.fetchPromise=null}}async fetchPolesFromFirestore(){try{const e=Ht(mt,this.collectionName);return(await Jt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Erreur lors de la récupération des pôles depuis Firestore:",e),e}}async getPoleById(e){try{if(this.poles.length>0){const o=this.poles.find(i=>i.id===e);if(o)return o}const n=un(mt,this.collectionName,e),r=await si(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw console.error(`Erreur lors de la récupération du pôle ${e}:`,n),n}}async getPoleByName(e){try{if(this.poles.length>0){const i=this.poles.find(s=>s.nom===e);if(i)return i}const n=Ht(mt,this.collectionName),r=wn(n,Dr("nom","==",e)),o=await Jt(r);if(!o.empty){const i=o.docs[0];return{id:i.id,...i.data()}}return null}catch(n){throw console.error(`Erreur lors de la recherche du pôle ${e}:`,n),n}}};Ye(eh,"instance");let w$=eh;const Rv=(t=!1)=>{const[e,n]=h.useState([]),[r,o]=h.useState(!0),[i,s]=h.useState(null);return h.useEffect(()=>{(async()=>{try{o(!0);const c=await w$.getInstance().getPoles(t);n(c),s(null)}catch(l){s(l)}finally{o(!1)}})()},[t]),{poles:e,loading:r,error:i}};var TQ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(i=o(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var a in i)e.call(i,a)&&i[a]&&(s=o(s,a));return s}function o(i,s){return s?i?i+" "+s:i+s:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(TQ);var QEe=TQ.exports;const Me=pv(QEe);function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B.apply(null,arguments)}function At(t){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(t)}var JEe=Symbol.for("react.element"),ZEe=Symbol.for("react.transitional.element"),e2e=Symbol.for("react.fragment");function IQ(t){return t&&At(t)==="object"&&(t.$$typeof===JEe||t.$$typeof===ZEe)&&t.type===e2e}function vl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return oe.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(vl(r)):IQ(r)&&r.props?n=n.concat(vl(r.props.children,e)):n.push(r))}),n}var S$={},t2e=function(e){};function n2e(t,e){}function r2e(t,e){}function o2e(){S$={}}function PQ(t,e,n){!e&&!S$[n]&&(t(!1,n),S$[n]=!0)}function Jr(t,e){PQ(n2e,t,e)}function i2e(t,e){PQ(r2e,t,e)}Jr.preMessage=t2e;Jr.resetWarned=o2e;Jr.noteOnce=i2e;function s2e(t,e){if(At(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(At(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RQ(t){var e=s2e(t,"string");return At(e)=="symbol"?e:e+""}function te(t,e,n){return(e=RQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(n),!0).forEach(function(r){te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qb(t){return t instanceof HTMLElement||t instanceof SVGElement}function K2(t){return t&&At(t)==="object"&&Qb(t.nativeElement)?t.nativeElement:Qb(t)?t:null}function uC(t){var e=K2(t);if(e)return e;if(t instanceof oe.Component){var n;return(n=Xl.findDOMNode)===null||n===void 0?void 0:n.call(Xl,t)}return null}var kQ={exports:{}},Er={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj=Symbol.for("react.element"),oj=Symbol.for("react.portal"),G2=Symbol.for("react.fragment"),Y2=Symbol.for("react.strict_mode"),X2=Symbol.for("react.profiler"),Q2=Symbol.for("react.provider"),J2=Symbol.for("react.context"),a2e=Symbol.for("react.server_context"),Z2=Symbol.for("react.forward_ref"),eT=Symbol.for("react.suspense"),tT=Symbol.for("react.suspense_list"),nT=Symbol.for("react.memo"),rT=Symbol.for("react.lazy"),l2e=Symbol.for("react.offscreen"),DQ;DQ=Symbol.for("react.module.reference");function qa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rj:switch(t=t.type,t){case G2:case X2:case Y2:case eT:case tT:return t;default:switch(t=t&&t.$$typeof,t){case a2e:case J2:case Z2:case rT:case nT:case Q2:return t;default:return e}}case oj:return e}}}Er.ContextConsumer=J2;Er.ContextProvider=Q2;Er.Element=rj;Er.ForwardRef=Z2;Er.Fragment=G2;Er.Lazy=rT;Er.Memo=nT;Er.Portal=oj;Er.Profiler=X2;Er.StrictMode=Y2;Er.Suspense=eT;Er.SuspenseList=tT;Er.isAsyncMode=function(){return!1};Er.isConcurrentMode=function(){return!1};Er.isContextConsumer=function(t){return qa(t)===J2};Er.isContextProvider=function(t){return qa(t)===Q2};Er.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rj};Er.isForwardRef=function(t){return qa(t)===Z2};Er.isFragment=function(t){return qa(t)===G2};Er.isLazy=function(t){return qa(t)===rT};Er.isMemo=function(t){return qa(t)===nT};Er.isPortal=function(t){return qa(t)===oj};Er.isProfiler=function(t){return qa(t)===X2};Er.isStrictMode=function(t){return qa(t)===Y2};Er.isSuspense=function(t){return qa(t)===eT};Er.isSuspenseList=function(t){return qa(t)===tT};Er.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===G2||t===X2||t===Y2||t===eT||t===tT||t===l2e||typeof t=="object"&&t!==null&&(t.$$typeof===rT||t.$$typeof===nT||t.$$typeof===Q2||t.$$typeof===J2||t.$$typeof===Z2||t.$$typeof===DQ||t.getModuleId!==void 0)};Er.typeOf=qa;kQ.exports=Er;var lR=kQ.exports;function gp(t,e,n){var r=h.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var c2e=Number(h.version.split(".")[0]),Jb=function(e,n){typeof e=="function"?e(n):At(e)==="object"&&e&&"current"in e&&(e.current=n)},Ka=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.filter(Boolean);return o.length<=1?o[0]:function(i){n.forEach(function(s){Jb(s,i)})}},Cf=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return gp(function(){return Ka.apply(void 0,n)},n,function(o,i){return o.length!==i.length||o.every(function(s,a){return s!==i[a]})})},bc=function(e){var n,r;if(!e)return!1;if(ij(e)&&c2e>=19)return!0;var o=lR.isMemo(e)?e.type.type:e.type;return!(typeof o=="function"&&!((n=o.prototype)!==null&&n!==void 0&&n.render)&&o.$$typeof!==lR.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==lR.ForwardRef)};function ij(t){return h.isValidElement(t)&&!IQ(t)}var u2e=function(e){return ij(e)&&bc(e)},vp=function(e){if(e&&ij(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},C$=h.createContext(null);function d2e(t){var e=t.children,n=t.onBatchResize,r=h.useRef(0),o=h.useRef([]),i=h.useContext(C$),s=h.useCallback(function(a,l,c){r.current+=1;var u=r.current;o.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n==null||n(o.current),o.current=[])}),i==null||i(a,l,c)},[n,i]);return h.createElement(C$.Provider,{value:s},e)}var $Q=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(o,i){return o[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(n,r){var o=t(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,o=t(r,n);~o&&r.splice(o,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,i=this.__entries__;o<i.length;o++){var s=i[o];n.call(r,s[1],s[0])}},e}()}(),_$=typeof window<"u"&&typeof document<"u"&&window.document===document,X_=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),f2e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(X_):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),h2e=2;function p2e(t,e){var n=!1,r=!1,o=0;function i(){n&&(n=!1,t()),r&&a()}function s(){f2e(i)}function a(){var l=Date.now();if(n){if(l-o<h2e)return;r=!0}else n=!0,r=!1,setTimeout(s,e);o=l}return a}var m2e=20,g2e=["top","right","bottom","left","width","height","size","weight"],v2e=typeof MutationObserver<"u",y2e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=p2e(this.refresh.bind(this),m2e)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!_$||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),v2e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!_$||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,o=g2e.some(function(i){return!!~r.indexOf(i)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),MQ=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},Hg=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||X_},OQ=oT(0,0,0,0);function Q_(t){return parseFloat(t)||0}function wV(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,o){var i=t["border-"+o+"-width"];return r+Q_(i)},0)}function b2e(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var i=o[r],s=t["padding-"+i];n[i]=Q_(s)}return n}function x2e(t){var e=t.getBBox();return oT(0,0,e.width,e.height)}function w2e(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return OQ;var r=Hg(t).getComputedStyle(t),o=b2e(r),i=o.left+o.right,s=o.top+o.bottom,a=Q_(r.width),l=Q_(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+i)!==e&&(a-=wV(r,"left","right")+i),Math.round(l+s)!==n&&(l-=wV(r,"top","bottom")+s)),!C2e(t)){var c=Math.round(a+i)-e,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return oT(o.left,o.top,a,l)}var S2e=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Hg(t).SVGGraphicsElement}:function(t){return t instanceof Hg(t).SVGElement&&typeof t.getBBox=="function"}}();function C2e(t){return t===Hg(t).document.documentElement}function _2e(t){return _$?S2e(t)?x2e(t):w2e(t):OQ}function E2e(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return MQ(s,{x:e,y:n,width:r,height:o,top:n,right:e+r,bottom:o+n,left:e}),s}function oT(t,e,n,r){return{x:t,y:e,width:n,height:r}}var T2e=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=oT(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=_2e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),I2e=function(){function t(e,n){var r=E2e(n);MQ(this,{target:e,contentRect:r})}return t}(),P2e=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new $Q,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Hg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new T2e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Hg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new I2e(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),AQ=typeof WeakMap<"u"?new WeakMap:new $Q,NQ=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=y2e.getInstance(),r=new P2e(e,n,this);AQ.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){NQ.prototype[t]=function(){var e;return(e=AQ.get(this))[t].apply(e,arguments)}});var R2e=function(){return typeof X_.ResizeObserver<"u"?X_.ResizeObserver:NQ}(),_d=new Map;function k2e(t){t.forEach(function(e){var n,r=e.target;(n=_d.get(r))===null||n===void 0||n.forEach(function(o){return o(r)})})}var jQ=new R2e(k2e);function D2e(t,e){_d.has(t)||(_d.set(t,new Set),jQ.observe(t)),_d.get(t).add(e)}function $2e(t,e){_d.has(t)&&(_d.get(t).delete(e),_d.get(t).size||(jQ.unobserve(t),_d.delete(t)))}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RQ(r.key),r)}}function sn(t,e,n){return e&&SV(t.prototype,e),n&&SV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wg(t,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Wg(t,e)}function Sn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wg(t,e)}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zb(t)}function sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sj=function(){return!!t})()}function et(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M2e(t,e){if(e&&(At(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function Cn(t){var e=sj();return function(){var n,r=Zb(t);if(e){var o=Zb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M2e(this,n)}}var O2e=function(t){Sn(n,t);var e=Cn(n);function n(){return on(this,n),e.apply(this,arguments)}return sn(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component);function A2e(t,e){var n=t.children,r=t.disabled,o=h.useRef(null),i=h.useRef(null),s=h.useContext(C$),a=typeof n=="function",l=a?n(o):n,c=h.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&h.isValidElement(l)&&bc(l),d=u?vp(l):null,f=Cf(d,o),m=function(){var b;return uC(o.current)||(o.current&&At(o.current)==="object"?uC((b=o.current)===null||b===void 0?void 0:b.nativeElement):null)||uC(i.current)};h.useImperativeHandle(e,function(){return m()});var g=h.useRef(t);g.current=t;var v=h.useCallback(function(y){var b=g.current,x=b.onResize,w=b.data,C=y.getBoundingClientRect(),E=C.width,_=C.height,S=y.offsetWidth,T=y.offsetHeight,I=Math.floor(E),P=Math.floor(_);if(c.current.width!==I||c.current.height!==P||c.current.offsetWidth!==S||c.current.offsetHeight!==T){var M={width:I,height:P,offsetWidth:S,offsetHeight:T};c.current=M;var R=S===Math.round(E)?E:S,k=T===Math.round(_)?_:T,D=Se(Se({},M),{},{offsetWidth:R,offsetHeight:k});s==null||s(D,y,w),x&&Promise.resolve().then(function(){x(D,y)})}},[]);return h.useEffect(function(){var y=m();return y&&!r&&D2e(y,v),function(){return $2e(y,v)}},[o.current,r]),h.createElement(O2e,{ref:i},u?h.cloneElement(l,{ref:f}):l)}var N2e=h.forwardRef(A2e),j2e="rc-observer-key";function L2e(t,e){var n=t.children,r=typeof n=="function"?[n]:vl(n);return r.map(function(o,i){var s=(o==null?void 0:o.key)||"".concat(j2e,"-").concat(i);return h.createElement(N2e,B({},t,{key:s,ref:i===0?e:void 0}),o)})}var _l=h.forwardRef(L2e);_l.Collection=d2e;function E$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function F2e(t){if(Array.isArray(t))return E$(t)}function LQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iT(t,e){if(t){if(typeof t=="string")return E$(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E$(t,e):void 0}}function z2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function at(t){return F2e(t)||LQ(t)||iT(t)||z2e()}var FQ=function(e){return+setTimeout(e,16)},zQ=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(FQ=function(e){return window.requestAnimationFrame(e)},zQ=function(e){return window.cancelAnimationFrame(e)});var CV=0,aj=new Map;function BQ(t){aj.delete(t)}var qn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;CV+=1;var r=CV;function o(i){if(i===0)BQ(r),e();else{var s=FQ(function(){o(i-1)});aj.set(r,s)}}return o(n),r};qn.cancel=function(t){var e=aj.get(t);return BQ(t),zQ(e)};function VQ(t){if(Array.isArray(t))return t}function B2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,s,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,o=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return a}}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(t,e){return VQ(t)||B2e(t,e)||iT(t,e)||HQ()}function ex(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Ti(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function T$(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var _V="data-rc-order",EV="data-rc-priority",V2e="rc-util-key",I$=new Map;function WQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):V2e}function sT(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function H2e(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function lj(t){return Array.from((I$.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function UQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ti())return null;var n=e.csp,r=e.prepend,o=e.priority,i=o===void 0?0:o,s=H2e(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(_V,s),a&&i&&l.setAttribute(EV,"".concat(i)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var c=sT(e),u=c.firstChild;if(r){if(a){var d=(e.styles||lj(c)).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(_V)))return!1;var m=Number(f.getAttribute(EV)||0);return i>=m});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function qQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=sT(e);return(e.styles||lj(n)).find(function(r){return r.getAttribute(WQ(e))===t})}function tx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=qQ(t,e);if(n){var r=sT(e);r.removeChild(n)}}function W2e(t,e){var n=I$.get(t);if(!n||!T$(document,n)){var r=UQ("",e),o=r.parentNode;I$.set(t,o),t.removeChild(r)}}function fu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=sT(n),o=lj(r),i=Se(Se({},n),{},{styles:o});W2e(r,i);var s=qQ(e,i);if(s){var a,l;if((a=i.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((l=i.csp)===null||l===void 0?void 0:l.nonce)){var c;s.nonce=(c=i.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var u=UQ(t,i);return u.setAttribute(WQ(i),e),u}function ct(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cn(t,e){if(t==null)return{};var n,r,o=ct(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function xc(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function o(i,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(i);if(Jr(!l,"Warning: There may be circular references"),l)return!1;if(i===s)return!0;if(n&&a>1)return!1;r.add(i);var c=a+1;if(Array.isArray(i)){if(!Array.isArray(s)||i.length!==s.length)return!1;for(var u=0;u<i.length;u++)if(!o(i[u],s[u],c))return!1;return!0}if(i&&s&&At(i)==="object"&&At(s)==="object"){var d=Object.keys(i);return d.length!==Object.keys(s).length?!1:d.every(function(f){return o(i[f],s[f],c)})}return!1}return o(t,e)}var U2e="%";function P$(t){return t.join(U2e)}var q2e=function(){function t(e){on(this,t),te(this,"instanceId",void 0),te(this,"cache",new Map),this.instanceId=e}return sn(t,[{key:"get",value:function(n){return this.opGet(P$(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(P$(n),r)}},{key:"opUpdate",value:function(n,r){var o=this.cache.get(n),i=r(o);i===null?this.cache.delete(n):this.cache.set(n,i)}}]),t}(),Ug="data-token-hash",dl="data-css-hash",Ed="__cssinjs_instance__";function K2e(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(dl,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(o){o[Ed]=o[Ed]||t,o[Ed]===t&&document.head.insertBefore(o,n)});var r={};Array.from(document.querySelectorAll("style[".concat(dl,"]"))).forEach(function(o){var i=o.getAttribute(dl);if(r[i]){if(o[Ed]===t){var s;(s=o.parentNode)===null||s===void 0||s.removeChild(o)}}else r[i]=!0})}return new q2e(t)}var aw=h.createContext({hashPriority:"low",cache:K2e(),defaultCache:!0});function G2e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var cj=function(){function t(){on(this,t),te(this,"cache",void 0),te(this,"keys",void 0),te(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return sn(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&i&&(s.value[1]=this.cacheCallTimes++),(o=s)===null||o===void 0?void 0:o.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var o=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var i=this.keys.reduce(function(c,u){var d=Fe(c,2),f=d[1];return o.internalGet(u)[1]<f?[u,o.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=Fe(i,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,o.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var o=n.get(r[0]);if(r.length===1){var i;return o.map?n.set(r[0],{map:o.map}):n.delete(r[0]),(i=o.value)===null||i===void 0?void 0:i[0]}var s=this.deleteByPath(o.map,r.slice(1));return(!o.map||o.map.size===0)&&!o.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!G2e(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();te(cj,"MAX_CACHE_SIZE",20);te(cj,"MAX_CACHE_OFFSET",5);var TV=0,KQ=function(){function t(e){on(this,t),te(this,"derivatives",void 0),te(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=TV,e.length===0&&(e.length>0,void 0),TV+=1}return sn(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,o){return o(n,r)},void 0)}}]),t}(),cR=new cj;function R$(t){var e=Array.isArray(t)?t:[t];return cR.has(e)||cR.set(e,new KQ(e)),cR.get(e)}var Y2e=new WeakMap,uR={};function X2e(t,e){for(var n=Y2e,r=0;r<e.length;r+=1){var o=e[r];n.has(o)||n.set(o,new WeakMap),n=n.get(o)}return n.has(uR)||n.set(uR,t()),n.get(uR)}var IV=new WeakMap;function H0(t){var e=IV.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof KQ?e+=r.id:r&&At(r)==="object"?e+=H0(r):e+=r}),e=ex(e),IV.set(t,e)),e}function PV(t,e){return ex("".concat(e,"_").concat(H0(t)))}var k$=Ti();function Ae(t){return typeof t=="number"?"".concat(t,"px"):t}function J_(t,e,n){var r,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i)return t;var s=Se(Se({},o),{},(r={},te(r,Ug,e),te(r,dl,n),r)),a=Object.keys(s).map(function(l){var c=s[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var dC=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Q2e=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(o){var i=Fe(o,2),s=i[0],a=i[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},GQ=function(e,n,r){var o={},i={};return Object.entries(e).forEach(function(s){var a,l,c=Fe(s,2),u=c[0],d=c[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[u])i[u]=d;else if((typeof d=="string"||typeof d=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var f,m=dC(u,r==null?void 0:r.prefix);o[m]=typeof d=="number"&&!(r!=null&&(f=r.unitless)!==null&&f!==void 0&&f[u])?"".concat(d,"px"):String(d),i[u]="var(".concat(m,")")}}),[i,Q2e(o,n,{scope:r==null?void 0:r.scope})]},RV=Ti()?h.useLayoutEffect:h.useEffect,nr=function(e,n){var r=h.useRef(!0);RV(function(){return e(r.current)},n),RV(function(){return r.current=!1,function(){r.current=!0}},[])},kV=function(e,n){nr(function(r){if(!r)return e()},n)},J2e=Se({},mc),DV=J2e.useInsertionEffect,Z2e=function(e,n,r){h.useMemo(e,r),nr(function(){return n(!0)},r)},eTe=DV?function(t,e,n){return DV(function(){return t(),e()},n)}:Z2e,tTe=Se({},mc),nTe=tTe.useInsertionEffect,rTe=function(e){var n=[],r=!1;function o(i){r||n.push(i)}return h.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(i){return i()})}},e),o},oTe=function(){return function(e){e()}},iTe=typeof nTe<"u"?rTe:oTe;function uj(t,e,n,r,o){var i=h.useContext(aw),s=i.cache,a=[t].concat(at(e)),l=P$(a),c=iTe([l]),u=function(g){s.opUpdate(l,function(v){var y=v||[void 0,void 0],b=Fe(y,2),x=b[0],w=x===void 0?0:x,C=b[1],E=C,_=E||n(),S=[w,_];return g?g(S):S})};h.useMemo(function(){u()},[l]);var d=s.opGet(l),f=d[1];return eTe(function(){o==null||o(f)},function(m){return u(function(g){var v=Fe(g,2),y=v[0],b=v[1];return m&&y===0&&(o==null||o(f)),[y+1,b]}),function(){s.opUpdate(l,function(g){var v=g||[],y=Fe(v,2),b=y[0],x=b===void 0?0:b,w=y[1],C=x-1;return C===0?(c(function(){(m||!s.opGet(l))&&(r==null||r(w,!1))}),null):[x-1,w]})}},[l]),f}var sTe={},aTe="css",Qf=new Map;function lTe(t){Qf.set(t,(Qf.get(t)||0)+1)}function cTe(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Ug,'="').concat(t,'"]'));n.forEach(function(r){if(r[Ed]===e){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}})}}var uTe=0;function dTe(t,e){Qf.set(t,(Qf.get(t)||0)-1);var n=Array.from(Qf.keys()),r=n.filter(function(o){var i=Qf.get(o)||0;return i<=0});n.length-r.length>uTe&&r.forEach(function(o){cTe(o,e),Qf.delete(o)})}var fTe=function(e,n,r,o){var i=r.getDerivativeToken(e),s=Se(Se({},i),n);return o&&(s=o(s)),s},YQ="token";function hTe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.useContext(aw),o=r.cache.instanceId,i=r.container,s=n.salt,a=s===void 0?"":s,l=n.override,c=l===void 0?sTe:l,u=n.formatToken,d=n.getComputedToken,f=n.cssVar,m=X2e(function(){return Object.assign.apply(Object,[{}].concat(at(e)))},e),g=H0(m),v=H0(c),y=f?H0(f):"",b=uj(YQ,[a,t.id,g,v,y],function(){var x,w=d?d(m,c,t):fTe(m,c,t,u),C=Se({},w),E="";if(f){var _=GQ(w,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),S=Fe(_,2);w=S[0],E=S[1]}var T=PV(w,a);w._tokenKey=T,C._tokenKey=PV(C,a);var I=(x=f==null?void 0:f.key)!==null&&x!==void 0?x:T;w._themeKey=I,lTe(I);var P="".concat(aTe,"-").concat(ex(T));return w._hashId=P,[w,P,C,E,(f==null?void 0:f.key)||""]},function(x){dTe(x[0]._themeKey,o)},function(x){var w=Fe(x,4),C=w[0],E=w[3];if(f&&E){var _=fu(E,ex("css-variables-".concat(C._themeKey)),{mark:dl,prepend:"queue",attachTo:i,priority:-999});_[Ed]=o,_.setAttribute(Ug,C._themeKey)}});return b}var pTe=function(e,n,r){var o=Fe(e,5),i=o[2],s=o[3],a=o[4],l=r||{},c=l.plain;if(!s)return null;var u=i._tokenKey,d=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},m=J_(s,a,u,f,c);return[d,u,m]},mTe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},XQ="comm",QQ="rule",JQ="decl",gTe="@import",vTe="@namespace",yTe="@keyframes",bTe="@layer",ZQ=Math.abs,dj=String.fromCharCode;function eJ(t){return t.trim()}function fC(t,e,n){return t.replace(e,n)}function xTe(t,e,n){return t.indexOf(e,n)}function ag(t,e){return t.charCodeAt(e)|0}function qg(t,e,n){return t.slice(e,n)}function Fl(t){return t.length}function wTe(t){return t.length}function U1(t,e){return e.push(t),t}var aT=1,Kg=1,tJ=0,za=0,Fo=0,kv="";function fj(t,e,n,r,o,i,s,a){return{value:t,root:e,parent:n,type:r,props:o,children:i,line:aT,column:Kg,length:s,return:"",siblings:a}}function STe(){return Fo}function CTe(){return Fo=za>0?ag(kv,--za):0,Kg--,Fo===10&&(Kg=1,aT--),Fo}function fl(){return Fo=za<tJ?ag(kv,za++):0,Kg++,Fo===10&&(Kg=1,aT++),Fo}function Td(){return ag(kv,za)}function hC(){return za}function lT(t,e){return qg(kv,t,e)}function nx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _Te(t){return aT=Kg=1,tJ=Fl(kv=t),za=0,[]}function ETe(t){return kv="",t}function dR(t){return eJ(lT(za-1,D$(t===91?t+2:t===40?t+1:t)))}function TTe(t){for(;(Fo=Td())&&Fo<33;)fl();return nx(t)>2||nx(Fo)>3?"":" "}function ITe(t,e){for(;--e&&fl()&&!(Fo<48||Fo>102||Fo>57&&Fo<65||Fo>70&&Fo<97););return lT(t,hC()+(e<6&&Td()==32&&fl()==32))}function D$(t){for(;fl();)switch(Fo){case t:return za;case 34:case 39:t!==34&&t!==39&&D$(Fo);break;case 40:t===41&&D$(t);break;case 92:fl();break}return za}function PTe(t,e){for(;fl()&&t+Fo!==57;)if(t+Fo===84&&Td()===47)break;return"/*"+lT(e,za-1)+"*"+dj(t===47?t:fl())}function RTe(t){for(;!nx(Td());)fl();return lT(t,za)}function kTe(t){return ETe(pC("",null,null,null,[""],t=_Te(t),0,[0],t))}function pC(t,e,n,r,o,i,s,a,l){for(var c=0,u=0,d=s,f=0,m=0,g=0,v=1,y=1,b=1,x=0,w="",C=o,E=i,_=r,S=w;y;)switch(g=x,x=fl()){case 40:if(g!=108&&ag(S,d-1)==58){xTe(S+=fC(dR(x),"&","&\f"),"&\f",ZQ(c?a[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:S+=dR(x);break;case 9:case 10:case 13:case 32:S+=TTe(g);break;case 92:S+=ITe(hC()-1,7);continue;case 47:switch(Td()){case 42:case 47:U1(DTe(PTe(fl(),hC()),e,n,l),l),(nx(g||1)==5||nx(Td()||1)==5)&&Fl(S)&&qg(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*v:a[c++]=Fl(S)*b;case 125*v:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+u:b==-1&&(S=fC(S,/\f/g,"")),m>0&&(Fl(S)-d||v===0&&g===47)&&U1(m>32?MV(S+";",r,n,d-1,l):MV(fC(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(U1(_=$V(S,e,n,c,u,o,a,w,C=[],E=[],d,i),i),x===123)if(u===0)pC(S,e,_,_,C,i,d,a,E);else{switch(f){case 99:if(ag(S,3)===110)break;case 108:if(ag(S,2)===97)break;default:u=0;case 100:case 109:case 115:}u?pC(t,_,_,r&&U1($V(t,_,_,0,0,o,a,w,o,C=[],d,E),E),o,E,d,a,r?C:E):pC(S,_,_,_,[""],E,0,a,E)}}c=u=m=0,v=b=1,w=S="",d=s;break;case 58:d=1+Fl(S),m=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&CTe()==125)continue}switch(S+=dj(x),x*v){case 38:b=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Fl(S)-1)*b,b=1;break;case 64:Td()===45&&(S+=dR(fl())),f=Td(),u=d=Fl(w=S+=RTe(hC())),x++;break;case 45:g===45&&Fl(S)==2&&(v=0)}}return i}function $V(t,e,n,r,o,i,s,a,l,c,u,d){for(var f=o-1,m=o===0?i:[""],g=wTe(m),v=0,y=0,b=0;v<r;++v)for(var x=0,w=qg(t,f+1,f=ZQ(y=s[v])),C=t;x<g;++x)(C=eJ(y>0?m[x]+" "+w:fC(w,/&\f/g,m[x])))&&(l[b++]=C);return fj(t,e,n,o===0?QQ:a,l,c,u,d)}function DTe(t,e,n,r){return fj(t,e,n,XQ,dj(STe()),qg(t,2,-2),0,r)}function MV(t,e,n,r,o){return fj(t,e,n,JQ,qg(t,0,r),qg(t,r+1,-1),r,o)}function $$(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function $Te(t,e,n,r){switch(t.type){case bTe:if(t.children.length)break;case gTe:case vTe:case JQ:return t.return=t.return||t.value;case XQ:return"";case yTe:return t.return=t.value+"{"+$$(t.children,r)+"}";case QQ:if(!Fl(t.value=t.props.join(",")))return""}return Fl(n=$$(t.children,r))?t.return=t.value+"{"+n+"}":""}var OV="data-ant-cssinjs-cache-path",nJ="_FILE_STYLE__",Ch,rJ=!0;function MTe(){if(!Ch&&(Ch={},Ti())){var t=document.createElement("div");t.className=OV,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(o){var i=o.split(":"),s=Fe(i,2),a=s[0],l=s[1];Ch[a]=l});var n=document.querySelector("style[".concat(OV,"]"));if(n){var r;rJ=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function OTe(t){return MTe(),!!Ch[t]}function ATe(t){var e=Ch[t],n=null;if(e&&Ti())if(rJ)n=nJ;else{var r=document.querySelector("style[".concat(dl,'="').concat(Ch[t],'"]'));r?n=r.innerHTML:delete Ch[t]}return[n,e]}var NTe="_skip_check_",oJ="_multi_value_";function mC(t){var e=$$(kTe(t),$Te);return e.replace(/\{%%%\:[^;];}/g,";")}function jTe(t){return At(t)==="object"&&t&&(NTe in t||oJ in t)}function AV(t,e,n){if(!e)return t;var r=".".concat(e),o=n==="low"?":where(".concat(r,")"):r,i=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(o).concat(c.slice(u.length)),[c].concat(at(l.slice(1))).join(" ")});return i.join(",")}var LTe=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},o=r.root,i=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var f="",m={};function g(b){var x=b.getName(a);if(!m[x]){var w=t(b.style,n,{root:!1,parentSelectors:s}),C=Fe(w,1),E=C[0];m[x]="@keyframes ".concat(b.getName(a)).concat(E)}}function v(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return b.forEach(function(w){Array.isArray(w)?v(w,x):w&&x.push(w)}),x}var y=v(Array.isArray(e)?e:[e]);return y.forEach(function(b){var x=typeof b=="string"&&!o?{}:b;if(typeof x=="string")f+="".concat(x,`
`);else if(x._keyframe)g(x);else{var w=d.reduce(function(C,E){var _;return(E==null||(_=E.visit)===null||_===void 0?void 0:_.call(E,C))||C},x);Object.keys(w).forEach(function(C){var E=w[C];if(At(E)==="object"&&E&&(C!=="animationName"||!E._keyframe)&&!jTe(E)){var _=!1,S=C.trim(),T=!1;(o||i)&&a?S.startsWith("@")?_=!0:S==="&"?S=AV("",a,c):S=AV(C,a,c):o&&!a&&(S==="&"||S==="")&&(S="",T=!0);var I=t(E,n,{root:T,injectHash:_,parentSelectors:[].concat(at(s),[S])}),P=Fe(I,2),M=P[0],R=P[1];m=Se(Se({},m),R),f+="".concat(S).concat(M)}else{let A=function(N,O){var j=N.replace(/[A-Z]/g,function(z){return"-".concat(z.toLowerCase())}),L=O;!mTe[N]&&typeof L=="number"&&L!==0&&(L="".concat(L,"px")),N==="animationName"&&O!==null&&O!==void 0&&O._keyframe&&(g(O),L=O.getName(a)),f+="".concat(j,":").concat(L,";")};var k,D=(k=E==null?void 0:E.value)!==null&&k!==void 0?k:E;At(E)==="object"&&E!==null&&E!==void 0&&E[oJ]&&Array.isArray(D)?D.forEach(function(N){A(C,N)}):A(C,D)}})}}),o?l&&(f&&(f="@layer ".concat(l.name," {").concat(f,"}")),l.dependencies&&(m["@layer ".concat(l.name)]=l.dependencies.map(function(b){return"@layer ".concat(b,", ").concat(l.name,";")}).join(`
`))):f="{".concat(f,"}"),[f,m]};function iJ(t,e){return ex("".concat(t.join("%")).concat(e))}function FTe(){return null}var sJ="style";function M$(t,e){var n=t.token,r=t.path,o=t.hashId,i=t.layer,s=t.nonce,a=t.clientOnly,l=t.order,c=l===void 0?0:l,u=h.useContext(aw),d=u.autoClear;u.mock;var f=u.defaultCache,m=u.hashPriority,g=u.container,v=u.ssrInline,y=u.transformers,b=u.linters,x=u.cache,w=u.layer,C=n._tokenKey,E=[C];w&&E.push("layer"),E.push.apply(E,at(r));var _=k$,S=uj(sJ,E,function(){var R=E.join("|");if(OTe(R)){var k=ATe(R),D=Fe(k,2),A=D[0],N=D[1];if(A)return[A,C,N,{},a,c]}var O=e(),j=LTe(O,{hashId:o,hashPriority:m,layer:w?i:void 0,path:r.join("-"),transformers:y,linters:b}),L=Fe(j,2),z=L[0],V=L[1],W=mC(z),Y=iJ(E,W);return[W,C,Y,V,a,c]},function(R,k){var D=Fe(R,3),A=D[2];(k||d)&&k$&&tx(A,{mark:dl})},function(R){var k=Fe(R,4),D=k[0];k[1];var A=k[2],N=k[3];if(_&&D!==nJ){var O={mark:dl,prepend:w?!1:"queue",attachTo:g,priority:c},j=typeof s=="function"?s():s;j&&(O.csp={nonce:j});var L=[],z=[];Object.keys(N).forEach(function(W){W.startsWith("@layer")?L.push(W):z.push(W)}),L.forEach(function(W){fu(mC(N[W]),"_layer-".concat(W),Se(Se({},O),{},{prepend:!0}))});var V=fu(D,A,O);V[Ed]=x.instanceId,V.setAttribute(Ug,C),z.forEach(function(W){fu(mC(N[W]),"_effect-".concat(W),O)})}}),T=Fe(S,3),I=T[0],P=T[1],M=T[2];return function(R){var k;if(!v||_||!f)k=h.createElement(FTe,null);else{var D;k=h.createElement("style",B({},(D={},te(D,Ug,P),te(D,dl,M),D),{dangerouslySetInnerHTML:{__html:I}}))}return h.createElement(h.Fragment,null,k,R)}}var zTe=function(e,n,r){var o=Fe(e,6),i=o[0],s=o[1],a=o[2],l=o[3],c=o[4],u=o[5],d=r||{},f=d.plain;if(c)return null;var m=i,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return m=J_(i,s,a,g,f),l&&Object.keys(l).forEach(function(v){if(!n[v]){n[v]=!0;var y=mC(l[v]),b=J_(y,s,"_effect-".concat(v),g,f);v.startsWith("@layer")?m=b+m:m+=b}}),[u,a,m]},aJ="cssVar",BTe=function(e,n){var r=e.key,o=e.prefix,i=e.unitless,s=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,u=h.useContext(aw),d=u.cache.instanceId,f=u.container,m=a._tokenKey,g=[].concat(at(e.path),[r,c,m]),v=uj(aJ,g,function(){var y=n(),b=GQ(y,r,{prefix:o,unitless:i,ignore:s,scope:c}),x=Fe(b,2),w=x[0],C=x[1],E=iJ(g,C);return[w,C,E,r]},function(y){var b=Fe(y,3),x=b[2];k$&&tx(x,{mark:dl})},function(y){var b=Fe(y,3),x=b[1],w=b[2];if(x){var C=fu(x,w,{mark:dl,prepend:"queue",attachTo:f,priority:-999});C[Ed]=d,C.setAttribute(Ug,r)}});return v},VTe=function(e,n,r){var o=Fe(e,4),i=o[1],s=o[2],a=o[3],l=r||{},c=l.plain;if(!i)return null;var u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},f=J_(i,a,s,d,c);return[u,s,f]},Ey;Ey={},te(Ey,sJ,zTe),te(Ey,YQ,pTe),te(Ey,aJ,VTe);var Bn=function(){function t(e,n){on(this,t),te(this,"name",void 0),te(this,"style",void 0),te(this,"_keyframe",!0),this.name=e,this.style=n}return sn(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function Fp(t){return t.notSplit=!0,t}Fp(["borderTop","borderBottom"]),Fp(["borderTop"]),Fp(["borderBottom"]),Fp(["borderLeft","borderRight"]),Fp(["borderLeft"]),Fp(["borderRight"]);var hj=h.createContext({});function lJ(t){return VQ(t)||LQ(t)||iT(t)||HQ()}function Js(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function cJ(t,e,n,r){if(!e.length)return n;var o=lJ(e),i=o[0],s=o.slice(1),a;return!t&&typeof i=="number"?a=[]:Array.isArray(t)?a=at(t):a=Se({},t),r&&n===void 0&&s.length===1?delete a[i][s[0]]:a[i]=cJ(a[i],s,n,r),a}function ol(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Js(t,e.slice(0,-1))?t:cJ(t,e,n,r)}function HTe(t){return At(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function NV(t){return Array.isArray(t)?[]:{}}var WTe=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Mm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=NV(e[0]);return e.forEach(function(o){function i(s,a){var l=new Set(a),c=Js(o,s),u=Array.isArray(c);if(u||HTe(c)){if(!l.has(c)){l.add(c);var d=Js(r,s);u?r=ol(r,s,[]):(!d||At(d)!=="object")&&(r=ol(r,s,NV(c))),WTe(c).forEach(function(f){i([].concat(at(s),[f]),l)})}}else r=ol(r,s,c)}i([])}),r}function UTe(){}const qTe=h.createContext({}),yp=()=>{const t=()=>{};return t.deprecated=UTe,t},KTe=h.createContext(void 0);var uJ={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},GTe={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},YTe=Se(Se({},GTe),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const dJ={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},jV={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},YTe),timePickerLocale:Object.assign({},dJ)},Bs="${label} is not a valid ${type}",af={locale:"en",Pagination:uJ,DatePicker:jV,TimePicker:dJ,Calendar:jV,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Bs,method:Bs,array:Bs,object:Bs,number:Bs,date:Bs,boolean:Bs,integer:Bs,float:Bs,regexp:Bs,email:Bs,url:Bs,hex:Bs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let gC=Object.assign({},af.Modal),vC=[];const LV=()=>vC.reduce((t,e)=>Object.assign(Object.assign({},t),e),af.Modal);function XTe(t){if(t){const e=Object.assign({},t);return vC.push(e),gC=LV(),()=>{vC=vC.filter(n=>n!==e),gC=LV()}}gC=Object.assign({},af.Modal)}function fJ(){return gC}const pj=h.createContext(void 0),bp=(t,e)=>{const n=h.useContext(pj),r=h.useMemo(()=>{var i;const s=e||af[t],a=(i=n==null?void 0:n[t])!==null&&i!==void 0?i:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),o=h.useMemo(()=>{const i=n==null?void 0:n.locale;return n!=null&&n.exist&&!i?af.locale:i},[n]);return[r,o]},QTe="internalMark",JTe=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;h.useEffect(()=>XTe(e==null?void 0:e.Modal),[e]);const o=h.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return h.createElement(pj.Provider,{value:o},n)},hJ={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},rx=Object.assign(Object.assign({},hJ),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),ri=Math.round;function fR(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(o=>parseFloat(o));for(let o=0;o<3;o+=1)r[o]=e(r[o]||0,n[o]||"",o);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const FV=(t,e,n)=>n===0?t:t/100;function Ty(t,e){const n=e||255;return t>n?n:t<0?0:t}class Fn{constructor(e){te(this,"isValid",!0),te(this,"r",0),te(this,"g",0),te(this,"b",0),te(this,"a",1),te(this,"_h",void 0),te(this,"_s",void 0),te(this,"_l",void 0),te(this,"_v",void 0),te(this,"_max",void 0),te(this,"_min",void 0),te(this,"_brightness",void 0);function n(o){return o[0]in e&&o[1]in e&&o[2]in e}if(e)if(typeof e=="string"){let i=function(s){return o.startsWith(s)};var r=i;const o=e.trim();/^#?[A-F\d]{3,8}$/i.test(o)?this.fromHexString(o):i("rgb")?this.fromRgbString(o):i("hsl")?this.fromHslString(o):(i("hsv")||i("hsb"))&&this.fromHsvString(o)}else if(e instanceof Fn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Ty(e.r),this.g=Ty(e.g),this.b=Ty(e.b),this.a=typeof e.a=="number"?Ty(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),o=e(this.b);return .2126*n+.7152*r+.0722*o}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=ri(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()-e/100;return o<0&&(o=0),this._c({h:n,s:r,l:o,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let o=this.getLightness()+e/100;return o>1&&(o=1),this._c({h:n,s:r,l:o,a:this.a})}mix(e,n=50){const r=this._c(e),o=n/100,i=a=>(r[a]-this[a])*o+this[a],s={r:ri(i("r")),g:ri(i("g")),b:ri(i("b")),a:ri(i("a")*100)/100};return this._c(s)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),o=i=>ri((this[i]*this.a+n[i]*n.a*(1-this.a))/r);return this._c({r:o("r"),g:o("g"),b:o("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const o=(this.b||0).toString(16);if(e+=o.length===2?o:"0"+o,typeof this.a=="number"&&this.a>=0&&this.a<1){const i=ri(this.a*255).toString(16);e+=i.length===2?i:"0"+i}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=ri(this.getSaturation()*100),r=ri(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const o=this.clone();return o[e]=Ty(n,r),o}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(o,i){return parseInt(n[o]+n[i||o],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:o}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof o=="number"?o:1,n<=0){const f=ri(r*255);this.r=f,this.g=f,this.b=f}let i=0,s=0,a=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(i=c,s=u):l>=1&&l<2?(i=u,s=c):l>=2&&l<3?(s=c,a=u):l>=3&&l<4?(s=u,a=c):l>=4&&l<5?(i=u,a=c):l>=5&&l<6&&(i=c,a=u);const d=r-c/2;this.r=ri((i+d)*255),this.g=ri((s+d)*255),this.b=ri((a+d)*255)}fromHsv({h:e,s:n,v:r,a:o}){this._h=e%360,this._s=n,this._v=r,this.a=typeof o=="number"?o:1;const i=ri(r*255);if(this.r=i,this.g=i,this.b=i,n<=0)return;const s=e/60,a=Math.floor(s),l=s-a,c=ri(r*(1-n)*255),u=ri(r*(1-n*l)*255),d=ri(r*(1-n*(1-l))*255);switch(a){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const n=fR(e,FV);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=fR(e,FV);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=fR(e,(r,o)=>o.includes("%")?ri(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var q1=2,zV=.16,ZTe=.05,eIe=.05,tIe=.15,pJ=5,mJ=4,nIe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function BV(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-q1*e:Math.round(t.h)+q1*e:r=n?Math.round(t.h)+q1*e:Math.round(t.h)-q1*e,r<0?r+=360:r>=360&&(r-=360),r}function VV(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-zV*e:e===mJ?r=t.s+zV:r=t.s+ZTe*e,r>1&&(r=1),n&&e===pJ&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function HV(t,e,n){var r;return n?r=t.v+eIe*e:r=t.v-tIe*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function ox(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new Fn(t),o=r.toHsv(),i=pJ;i>0;i-=1){var s=new Fn({h:BV(o,i,!0),s:VV(o,i,!0),v:HV(o,i,!0)});n.push(s)}n.push(r);for(var a=1;a<=mJ;a+=1){var l=new Fn({h:BV(o,a),s:VV(o,a),v:HV(o,a)});n.push(l)}return e.theme==="dark"?nIe.map(function(c){var u=c.index,d=c.amount;return new Fn(e.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}var hR={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},O$=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];O$.primary=O$[5];var A$=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];A$.primary=A$[5];var N$=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];N$.primary=N$[5];var j$=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];j$.primary=j$[5];var L$=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];L$.primary=L$[5];var F$=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];F$.primary=F$[5];var z$=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];z$.primary=z$[5];var B$=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];B$.primary=B$[5];var Z_=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Z_.primary=Z_[5];var V$=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];V$.primary=V$[5];var H$=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];H$.primary=H$[5];var W$=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];W$.primary=W$[5];var U$=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];U$.primary=U$[5];var pR={red:O$,volcano:A$,orange:N$,gold:j$,yellow:L$,lime:F$,green:z$,cyan:B$,blue:Z_,geekblue:V$,purple:H$,magenta:W$,grey:U$};function rIe(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:o,colorWarning:i,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,d=n(l),f=n(o),m=n(i),g=n(s),v=n(a),y=r(c,u),b=t.colorLink||t.colorInfo,x=n(b),w=new Fn(g[1]).mix(new Fn(g[3]),50).toHexString();return Object.assign(Object.assign({},y),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBgFilledHover:w,colorErrorBgActive:g[3],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:m[1],colorWarningBgHover:m[2],colorWarningBorder:m[3],colorWarningBorderHover:m[4],colorWarningHover:m[4],colorWarning:m[6],colorWarningActive:m[7],colorWarningTextHover:m[8],colorWarningText:m[9],colorWarningTextActive:m[10],colorInfoBg:v[1],colorInfoBgHover:v[2],colorInfoBorder:v[3],colorInfoBorderHover:v[4],colorInfoHover:v[4],colorInfo:v[6],colorInfoActive:v[7],colorInfoTextHover:v[8],colorInfoText:v[9],colorInfoTextActive:v[10],colorLinkHover:x[4],colorLink:x[6],colorLinkActive:x[7],colorBgMask:new Fn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const oIe=t=>{let e=t,n=t,r=t,o=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?o=4:t>=8&&(o=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:o}};function iIe(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:o}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:o+1},oIe(r))}const sIe=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function yC(t){return(t+8)/t}function aIe(t){const e=Array.from({length:10}).map((n,r)=>{const o=r-1,i=t*Math.pow(Math.E,o/5),s=r>1?Math.floor(i):Math.ceil(i);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:yC(n)}))}const lIe=t=>{const e=aIe(t),n=e.map(u=>u.size),r=e.map(u=>u.lineHeight),o=n[1],i=n[0],s=n[2],a=r[1],l=r[0],c=r[2];return{fontSizeSM:i,fontSize:o,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*o),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*i),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function cIe(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const va=(t,e)=>new Fn(t).setA(e).toRgbString(),Iy=(t,e)=>new Fn(t).darken(e).toHexString(),uIe=t=>{const e=ox(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},dIe=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:va(r,.88),colorTextSecondary:va(r,.65),colorTextTertiary:va(r,.45),colorTextQuaternary:va(r,.25),colorFill:va(r,.15),colorFillSecondary:va(r,.06),colorFillTertiary:va(r,.04),colorFillQuaternary:va(r,.02),colorBgSolid:va(r,1),colorBgSolidHover:va(r,.75),colorBgSolidActive:va(r,.95),colorBgLayout:Iy(n,4),colorBgContainer:Iy(n,0),colorBgElevated:Iy(n,0),colorBgSpotlight:va(r,.85),colorBgBlur:"transparent",colorBorder:Iy(n,15),colorBorderSecondary:Iy(n,6)}};function fIe(t){hR.pink=hR.magenta,pR.pink=pR.magenta;const e=Object.keys(hJ).map(n=>{const r=t[n]===hR[n]?pR[n]:ox(t[n]);return Array.from({length:10},()=>1).reduce((o,i,s)=>(o[`${n}-${s+1}`]=r[s],o[`${n}${s+1}`]=r[s],o),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),rIe(t,{generateColorPalettes:uIe,generateNeutralColorPalettes:dIe})),lIe(t.fontSize)),cIe(t)),sIe(t)),iIe(t))}const gJ=R$(fIe),q$={token:rx,override:{override:rx},hashed:!0},vJ=oe.createContext(q$),ix="ant",cT="anticon",hIe=["outlined","borderless","filled","underlined"],pIe=(t,e)=>e||(t?`${ix}-${t}`:ix),pn=h.createContext({getPrefixCls:pIe,iconPrefixCls:cT}),{Consumer:Oit}=pn,WV={};function Rc(t){const e=h.useContext(pn),{getPrefixCls:n,direction:r,getPopupContainer:o}=e,i=e[t];return Object.assign(Object.assign({classNames:WV,styles:WV},i),{getPrefixCls:n,direction:r,getPopupContainer:o})}const mIe=`-ant-${Date.now()}-${Math.random()}`;function gIe(t,e){const n={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},o=(s,a)=>{const l=new Fn(s),c=ox(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=c[1],n[`${a}-color-hover`]=c[4],n[`${a}-color-active`]=c[6],n[`${a}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=c[0],n[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){o(e.primaryColor,"primary");const s=new Fn(e.primaryColor),a=ox(s.toRgbString());a.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(s,c=>c.setA(c.a*.12));const l=new Fn(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setA(c.a*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&o(e.successColor,"success"),e.warningColor&&o(e.warningColor,"warning"),e.errorColor&&o(e.errorColor,"error"),e.infoColor&&o(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function vIe(t,e){const n=gIe(t,e);Ti()&&fu(n,`${mIe}-dynamic-theme`)}const yl=h.createContext(!1),yJ=t=>{let{children:e,disabled:n}=t;const r=h.useContext(yl);return h.createElement(yl.Provider,{value:n??r},e)},Gg=h.createContext(void 0),yIe=t=>{let{children:e,size:n}=t;const r=h.useContext(Gg);return h.createElement(Gg.Provider,{value:n||r},e)};function bIe(){const t=h.useContext(yl),e=h.useContext(Gg);return{componentDisabled:t,componentSize:e}}var bJ=sn(function t(){on(this,t)}),xJ="CALC_UNIT",xIe=new RegExp(xJ,"g");function mR(t){return typeof t=="number"?"".concat(t).concat(xJ):t}var wIe=function(t){Sn(n,t);var e=Cn(n);function n(r,o){var i;on(this,n),i=e.call(this),te(et(i),"result",""),te(et(i),"unitlessCssVar",void 0),te(et(i),"lowPriority",void 0);var s=At(r);return i.unitlessCssVar=o,r instanceof n?i.result="(".concat(r.result,")"):s==="number"?i.result=mR(r):s==="string"&&(i.result=r),i}return sn(n,[{key:"add",value:function(o){return o instanceof n?this.result="".concat(this.result," + ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," + ").concat(mR(o))),this.lowPriority=!0,this}},{key:"sub",value:function(o){return o instanceof n?this.result="".concat(this.result," - ").concat(o.getResult()):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," - ").concat(mR(o))),this.lowPriority=!0,this}},{key:"mul",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," * ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," * ").concat(o)),this.lowPriority=!1,this}},{key:"div",value:function(o){return this.lowPriority&&(this.result="(".concat(this.result,")")),o instanceof n?this.result="".concat(this.result," / ").concat(o.getResult(!0)):(typeof o=="number"||typeof o=="string")&&(this.result="".concat(this.result," / ").concat(o)),this.lowPriority=!1,this}},{key:"getResult",value:function(o){return this.lowPriority||o?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(o){var i=this,s=o||{},a=s.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(c){return i.result.includes(c)})&&(l=!1),this.result=this.result.replace(xIe,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(bJ),SIe=function(t){Sn(n,t);var e=Cn(n);function n(r){var o;return on(this,n),o=e.call(this),te(et(o),"result",0),r instanceof n?o.result=r.result:typeof r=="number"&&(o.result=r),o}return sn(n,[{key:"add",value:function(o){return o instanceof n?this.result+=o.result:typeof o=="number"&&(this.result+=o),this}},{key:"sub",value:function(o){return o instanceof n?this.result-=o.result:typeof o=="number"&&(this.result-=o),this}},{key:"mul",value:function(o){return o instanceof n?this.result*=o.result:typeof o=="number"&&(this.result*=o),this}},{key:"div",value:function(o){return o instanceof n?this.result/=o.result:typeof o=="number"&&(this.result/=o),this}},{key:"equal",value:function(){return this.result}}]),n}(bJ),CIe=function(e,n){var r=e==="css"?wIe:SIe;return function(o){return new r(o,n)}},UV=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function br(t){var e=h.useRef();e.current=t;var n=h.useCallback(function(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[]);return n}function Yg(t){var e=h.useRef(!1),n=h.useState(t),r=Fe(n,2),o=r[0],i=r[1];h.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||i(a)}return[o,s]}function gR(t){return t!==void 0}function Wo(t,e){var n=e||{},r=n.defaultValue,o=n.value,i=n.onChange,s=n.postState,a=Yg(function(){return gR(o)?o:gR(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Fe(a,2),c=l[0],u=l[1],d=o!==void 0?o:c,f=s?s(d):d,m=br(i),g=Yg([d]),v=Fe(g,2),y=v[0],b=v[1];kV(function(){var w=y[0];c!==w&&m(c,w)},[y]),kV(function(){gR(o)||u(o)},[o]);var x=br(function(w,C){u(w,C),b([d],C)});return[f,x]}function qV(t,e,n,r){var o=Se({},e[t]);if(r!=null&&r.deprecatedTokens){var i=r.deprecatedTokens;i.forEach(function(a){var l=Fe(a,2),c=l[0],u=l[1];if(o!=null&&o[c]||o!=null&&o[u]){var d;(d=o[u])!==null&&d!==void 0||(o[u]=o==null?void 0:o[c])}})}var s=Se(Se({},n),o);return Object.keys(s).forEach(function(a){s[a]===e[a]&&delete s[a]}),s}var wJ=typeof CSSINJS_STATISTIC<"u",K$=!0;function Vn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!wJ)return Object.assign.apply(Object,[{}].concat(e));K$=!1;var r={};return e.forEach(function(o){if(At(o)==="object"){var i=Object.keys(o);i.forEach(function(s){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return o[s]}})})}}),K$=!0,r}var KV={};function _Ie(){}var EIe=function(e){var n,r=e,o=_Ie;return wJ&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(s,a){if(K$){var l;(l=n)===null||l===void 0||l.add(a)}return s[a]}}),o=function(s,a){var l;KV[s]={global:Array.from(n),component:Se(Se({},(l=KV[s])===null||l===void 0?void 0:l.component),a)}}),{token:r,keys:n,flush:o}};function GV(t,e,n){if(typeof n=="function"){var r;return n(Vn(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function TIe(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"max(".concat(r.map(function(i){return Ae(i)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return"min(".concat(r.map(function(i){return Ae(i)}).join(","),")")}}}var IIe=1e3*60*10,PIe=function(){function t(){on(this,t),te(this,"map",new Map),te(this,"objectIDMap",new WeakMap),te(this,"nextID",0),te(this,"lastAccessBeat",new Map),te(this,"accessBeat",0)}return sn(t,[{key:"set",value:function(n,r){this.clear();var o=this.getCompositeKey(n);this.map.set(o,r),this.lastAccessBeat.set(o,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),o=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,o}},{key:"getCompositeKey",value:function(n){var r=this,o=n.map(function(i){return i&&At(i)==="object"?"obj_".concat(r.getObjectID(i)):"".concat(At(i),"_").concat(i)});return o.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(o,i){r-o>IIe&&(n.map.delete(i),n.lastAccessBeat.delete(i))}),this.accessBeat=0}}}]),t}(),YV=new PIe;function RIe(t,e){return oe.useMemo(function(){var n=YV.get(e);if(n)return n;var r=t();return YV.set(e,r),r},e)}var kIe=function(){return{}};function DIe(t){var e=t.useCSP,n=e===void 0?kIe:e,r=t.useToken,o=t.usePrefix,i=t.getResetStyles,s=t.getCommonStyle,a=t.getCompUnitless;function l(f,m,g,v){var y=Array.isArray(f)?f[0]:f;function b(T){return"".concat(String(y)).concat(T.slice(0,1).toUpperCase()).concat(T.slice(1))}var x=(v==null?void 0:v.unitless)||{},w=typeof a=="function"?a(f):{},C=Se(Se({},w),{},te({},b("zIndexPopup"),!0));Object.keys(x).forEach(function(T){C[b(T)]=x[T]});var E=Se(Se({},v),{},{unitless:C,prefixToken:b}),_=u(f,m,g,E),S=c(y,g,E);return function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,P=_(T,I),M=Fe(P,2),R=M[1],k=S(I),D=Fe(k,2),A=D[0],N=D[1];return[A,R,N]}}function c(f,m,g){var v=g.unitless,y=g.injectStyle,b=y===void 0?!0:y,x=g.prefixToken,w=g.ignore,C=function(S){var T=S.rootCls,I=S.cssVar,P=I===void 0?{}:I,M=r(),R=M.realToken;return BTe({path:[f],prefix:P.prefix,key:P.key,unitless:v,ignore:w,token:R,scope:T},function(){var k=GV(f,R,m),D=qV(f,R,k,{deprecatedTokens:g==null?void 0:g.deprecatedTokens});return Object.keys(k).forEach(function(A){D[x(A)]=D[A],delete D[A]}),D}),null},E=function(S){var T=r(),I=T.cssVar;return[function(P){return b&&I?oe.createElement(oe.Fragment,null,oe.createElement(C,{rootCls:S,cssVar:I,component:f}),P):P},I==null?void 0:I.key]};return E}function u(f,m,g){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=Array.isArray(f)?f:[f,f],b=Fe(y,1),x=b[0],w=y.join("-"),C=t.layer||{name:"antd"};return function(E){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E,S=r(),T=S.theme,I=S.realToken,P=S.hashId,M=S.token,R=S.cssVar,k=o(),D=k.rootPrefixCls,A=k.iconPrefixCls,N=n(),O=R?"css":"js",j=RIe(function(){var U=new Set;return R&&Object.keys(v.unitless||{}).forEach(function(q){U.add(dC(q,R.prefix)),U.add(dC(q,UV(x,R.prefix)))}),CIe(O,U)},[O,x,R==null?void 0:R.prefix]),L=TIe(O),z=L.max,V=L.min,W={theme:T,token:M,hashId:P,nonce:function(){return N.nonce},clientOnly:v.clientOnly,layer:C,order:v.order||-999};typeof i=="function"&&M$(Se(Se({},W),{},{clientOnly:!1,path:["Shared",D]}),function(){return i(M,{prefix:{rootPrefixCls:D,iconPrefixCls:A},csp:N})});var Y=M$(Se(Se({},W),{},{path:[w,E,A]}),function(){if(v.injectStyle===!1)return[];var U=EIe(M),q=U.token,K=U.flush,J=GV(x,I,g),X=".".concat(E),ue=qV(x,I,J,{deprecatedTokens:v.deprecatedTokens});R&&J&&At(J)==="object"&&Object.keys(J).forEach(function(ge){J[ge]="var(".concat(dC(ge,UV(x,R.prefix)),")")});var _e=Vn(q,{componentCls:X,prefixCls:E,iconCls:".".concat(A),antCls:".".concat(D),calc:j,max:z,min:V},R?J:ue),Ce=m(_e,{hashId:P,prefixCls:E,rootPrefixCls:D,iconPrefixCls:A});K(x,ue);var pe=typeof s=="function"?s(_e,E,_,v.resetFont):null;return[v.resetStyle===!1?null:pe,Ce]});return[Y,P]}}function d(f,m,g){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=u(f,m,g,Se({resetStyle:!1,order:-998},v)),b=function(w){var C=w.prefixCls,E=w.rootCls,_=E===void 0?C:E;return y(C,_),null};return b}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:u}}const Qh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],$Ie="5.24.4";function vR(t){return t>=0&&t<=255}function v0(t,e){const{r:n,g:r,b:o,a:i}=new Fn(t).toRgb();if(i<1)return t;const{r:s,g:a,b:l}=new Fn(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-s*(1-c))/c),d=Math.round((r-a*(1-c))/c),f=Math.round((o-l*(1-c))/c);if(vR(u)&&vR(d)&&vR(f))return new Fn({r:u,g:d,b:f,a:Math.round(c*100)/100}).toRgbString()}return new Fn({r:n,g:r,b:o,a:1}).toRgbString()}var MIe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function SJ(t){const{override:e}=t,n=MIe(t,["override"]),r=Object.assign({},e);Object.keys(rx).forEach(f=>{delete r[f]});const o=Object.assign(Object.assign({},n),r),i=480,s=576,a=768,l=992,c=1200,u=1600;if(o.motion===!1){const f="0s";o.motionDurationFast=f,o.motionDurationMid=f,o.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},o),{colorFillContent:o.colorFillSecondary,colorFillContentHover:o.colorFill,colorFillAlter:o.colorFillQuaternary,colorBgContainerDisabled:o.colorFillTertiary,colorBorderBg:o.colorBgContainer,colorSplit:v0(o.colorBorderSecondary,o.colorBgContainer),colorTextPlaceholder:o.colorTextQuaternary,colorTextDisabled:o.colorTextQuaternary,colorTextHeading:o.colorText,colorTextLabel:o.colorTextSecondary,colorTextDescription:o.colorTextTertiary,colorTextLightSolid:o.colorWhite,colorHighlight:o.colorError,colorBgTextHover:o.colorFillSecondary,colorBgTextActive:o.colorFill,colorIcon:o.colorTextTertiary,colorIconHover:o.colorText,colorErrorOutline:v0(o.colorErrorBg,o.colorBgContainer),colorWarningOutline:v0(o.colorWarningBg,o.colorBgContainer),fontSizeIcon:o.fontSizeSM,lineWidthFocus:o.lineWidth*3,lineWidth:o.lineWidth,controlOutlineWidth:o.lineWidth*2,controlInteractiveSize:o.controlHeight/2,controlItemBgHover:o.colorFillTertiary,controlItemBgActive:o.colorPrimaryBg,controlItemBgActiveHover:o.colorPrimaryBgHover,controlItemBgActiveDisabled:o.colorFill,controlTmpOutline:o.colorFillQuaternary,controlOutline:v0(o.colorPrimaryBg,o.colorBgContainer),lineType:o.lineType,borderRadius:o.borderRadius,borderRadiusXS:o.borderRadiusXS,borderRadiusSM:o.borderRadiusSM,borderRadiusLG:o.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:o.sizeXXS,paddingXS:o.sizeXS,paddingSM:o.sizeSM,padding:o.size,paddingMD:o.sizeMD,paddingLG:o.sizeLG,paddingXL:o.sizeXL,paddingContentHorizontalLG:o.sizeLG,paddingContentVerticalLG:o.sizeMS,paddingContentHorizontal:o.sizeMS,paddingContentVertical:o.sizeSM,paddingContentHorizontalSM:o.size,paddingContentVerticalSM:o.sizeXS,marginXXS:o.sizeXXS,marginXS:o.sizeXS,marginSM:o.sizeSM,margin:o.size,marginMD:o.sizeMD,marginLG:o.sizeLG,marginXL:o.sizeXL,marginXXL:o.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:i,screenXSMin:i,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Fn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Fn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Fn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var XV=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const CJ={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},OIe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},AIe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},_J=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:o}=e,i=XV(e,["override"]);let s=Object.assign(Object.assign({},r),{override:o});return s=SJ(s),i&&Object.entries(i).forEach(a=>{let[l,c]=a;const{theme:u}=c,d=XV(c,["theme"]);let f=d;u&&(f=_J(Object.assign(Object.assign({},s),d),{override:d},u)),s[l]=f}),s};function Pi(){const{token:t,hashed:e,theme:n,override:r,cssVar:o}=oe.useContext(vJ),i=`${$Ie}-${e||""}`,s=n||gJ,[a,l,c]=hTe(s,[rx,t],{salt:i,override:r,getComputedToken:_J,formatToken:SJ,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:CJ,ignore:OIe,preserve:AIe}});return[s,c,e?l:"",a,o]}const sx={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},ho=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},lw=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),ax=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),NIe=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),jIe=(t,e,n,r)=>{const o=`[class^="${e}"], [class*=" ${e}"]`,i=n?`.${n}`:o,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[i]:Object.assign(Object.assign(Object.assign({},a),s),{[o]:s})}},lf=(t,e)=>({outline:`${Ae(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),Jh=(t,e)=>({"&:focus-visible":Object.assign({},lf(t,e))}),EJ=t=>({[`.${t}`]:Object.assign(Object.assign({},lw()),{[`.${t} .${t}-icon`]:{display:"block"}})}),LIe=t=>Object.assign(Object.assign({color:t.colorLink,textDecoration:t.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},Jh(t)),{"&:focus, &:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive}}),{genStyleHooks:eo,genComponentStyleHook:FIe,genSubStyleComponent:cw}=DIe({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=h.useContext(pn);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,o]=Pi();return{theme:t,realToken:e,hashId:n,token:r,cssVar:o}},useCSP:()=>{const{csp:t}=h.useContext(pn);return t??{}},getResetStyles:(t,e)=>{var n;const r=NIe(t);return[r,{"&":r},EJ((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:cT)]},getCommonStyle:jIe,getCompUnitless:()=>CJ});function TJ(t,e){return Qh.reduce((n,r)=>{const o=t[`${r}1`],i=t[`${r}3`],s=t[`${r}6`],a=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:o,lightBorderColor:i,darkColor:s,textColor:a}))},{})}const zIe=(t,e)=>{const[n,r]=Pi();return M$({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[EJ(t)])},BIe=Object.assign({},mc),{useId:QV}=BIe,VIe=()=>"",HIe=typeof QV>"u"?VIe:QV;function WIe(t,e,n){var r;yp();const o=t||{},i=o.inherit===!1||!e?Object.assign(Object.assign({},q$),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:q$.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=HIe();return gp(()=>{var a,l;if(!t)return e;const c=Object.assign({},i.components);Object.keys(t.components||{}).forEach(f=>{c[f]=Object.assign(Object.assign({},c[f]),t.components[f])});const u=`css-var-${s.replace(/:/g,"")}`,d=((a=o.cssVar)!==null&&a!==void 0?a:i.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof i.cssVar=="object"?i.cssVar:{}),typeof o.cssVar=="object"?o.cssVar:{}),{key:typeof o.cssVar=="object"&&((l=o.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},i),o),{token:Object.assign(Object.assign({},i.token),o.token),components:c,cssVar:d})},[o,i],(a,l)=>a.some((c,u)=>{const d=l[u];return!xc(c,d,!0)}))}var UIe=["children"],IJ=h.createContext({});function qIe(t){var e=t.children,n=cn(t,UIe);return h.createElement(IJ.Provider,{value:n},e)}var KIe=function(t){Sn(n,t);var e=Cn(n);function n(){return on(this,n),e.apply(this,arguments)}return sn(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component);function GIe(t){var e=h.useReducer(function(a){return a+1},0),n=Fe(e,2),r=n[1],o=h.useRef(t),i=br(function(){return o.current}),s=br(function(a){o.current=typeof a=="function"?a(o.current):a,r()});return[i,s]}var td="none",K1="appear",G1="enter",Y1="leave",JV="none",il="prepare",Om="start",Am="active",mj="end",PJ="prepared";function ZV(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function YIe(t,e){var n={animationend:ZV("Animation","AnimationEnd"),transitionend:ZV("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var XIe=YIe(Ti(),typeof window<"u"?window:{}),RJ={};if(Ti()){var QIe=document.createElement("div");RJ=QIe.style}var X1={};function kJ(t){if(X1[t])return X1[t];var e=XIe[t];if(e)for(var n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(e,i)&&i in RJ)return X1[t]=e[i],X1[t]}return""}var DJ=kJ("animationend"),$J=kJ("transitionend"),MJ=!!(DJ&&$J),e6=DJ||"animationend",t6=$J||"transitionend";function n6(t,e){if(!t)return null;if(At(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const JIe=function(t){var e=h.useRef();function n(o){o&&(o.removeEventListener(t6,t),o.removeEventListener(e6,t))}function r(o){e.current&&e.current!==o&&n(e.current),o&&o!==e.current&&(o.addEventListener(t6,t),o.addEventListener(e6,t),e.current=o)}return h.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var OJ=Ti()?h.useLayoutEffect:h.useEffect;const ZIe=function(){var t=h.useRef(null);function e(){qn.cancel(t.current)}function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var i=qn(function(){o<=1?r({isCanceled:function(){return i!==t.current}}):n(r,o-1)});t.current=i}return h.useEffect(function(){return function(){e()}},[]),[n,e]};var ePe=[il,Om,Am,mj],tPe=[il,PJ],AJ=!1,nPe=!0;function NJ(t){return t===Am||t===mj}const rPe=function(t,e,n){var r=Yg(JV),o=Fe(r,2),i=o[0],s=o[1],a=ZIe(),l=Fe(a,2),c=l[0],u=l[1];function d(){s(il,!0)}var f=e?tPe:ePe;return OJ(function(){if(i!==JV&&i!==mj){var m=f.indexOf(i),g=f[m+1],v=n(i);v===AJ?s(g,!0):g&&c(function(y){function b(){y.isCanceled()||s(g,!0)}v===!0?b():Promise.resolve(v).then(b)})}},[t,i]),h.useEffect(function(){return function(){u()}},[]),[d,i]};function oPe(t,e,n,r){var o=r.motionEnter,i=o===void 0?!0:o,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,m=r.onEnterPrepare,g=r.onLeavePrepare,v=r.onAppearStart,y=r.onEnterStart,b=r.onLeaveStart,x=r.onAppearActive,w=r.onEnterActive,C=r.onLeaveActive,E=r.onAppearEnd,_=r.onEnterEnd,S=r.onLeaveEnd,T=r.onVisibleChanged,I=Yg(),P=Fe(I,2),M=P[0],R=P[1],k=GIe(td),D=Fe(k,2),A=D[0],N=D[1],O=Yg(null),j=Fe(O,2),L=j[0],z=j[1],V=A(),W=h.useRef(!1),Y=h.useRef(null);function U(){return n()}var q=h.useRef(!1);function K(){N(td),z(null,!0)}var J=br(function(ie){var re=A();if(re!==td){var ve=U();if(!(ie&&!ie.deadline&&ie.target!==ve)){var ee=q.current,he;re===K1&&ee?he=E==null?void 0:E(ve,ie):re===G1&&ee?he=_==null?void 0:_(ve,ie):re===Y1&&ee&&(he=S==null?void 0:S(ve,ie)),ee&&he!==!1&&K()}}}),X=JIe(J),ue=Fe(X,1),_e=ue[0],Ce=function(re){switch(re){case K1:return te(te(te({},il,f),Om,v),Am,x);case G1:return te(te(te({},il,m),Om,y),Am,w);case Y1:return te(te(te({},il,g),Om,b),Am,C);default:return{}}},pe=h.useMemo(function(){return Ce(V)},[V]),ge=rPe(V,!t,function(ie){if(ie===il){var re=pe[il];return re?re(U()):AJ}if(le in pe){var ve;z(((ve=pe[le])===null||ve===void 0?void 0:ve.call(pe,U(),null))||null)}return le===Am&&V!==td&&(_e(U()),u>0&&(clearTimeout(Y.current),Y.current=setTimeout(function(){J({deadline:!0})},u))),le===PJ&&K(),nPe}),F=Fe(ge,2),ce=F[0],le=F[1],Z=NJ(le);q.current=Z;var Q=h.useRef(null);OJ(function(){if(!(W.current&&Q.current===e)){R(e);var ie=W.current;W.current=!0;var re;!ie&&e&&a&&(re=K1),ie&&e&&i&&(re=G1),(ie&&!e&&c||!ie&&d&&!e&&c)&&(re=Y1);var ve=Ce(re);re&&(t||ve[il])?(N(re),ce()):N(td),Q.current=e}},[e]),h.useEffect(function(){(V===K1&&!a||V===G1&&!i||V===Y1&&!c)&&N(td)},[a,i,c]),h.useEffect(function(){return function(){W.current=!1,clearTimeout(Y.current)}},[]);var ye=h.useRef(!1);h.useEffect(function(){M&&(ye.current=!0),M!==void 0&&V===td&&((ye.current||M)&&(T==null||T(M)),ye.current=!0)},[M,V]);var fe=L;return pe[il]&&le===Om&&(fe=Se({transition:"none"},fe)),[V,le,fe,M??e]}function iPe(t){var e=t;At(t)==="object"&&(e=t.transitionSupport);function n(o,i){return!!(o.motionName&&e&&i!==!1)}var r=h.forwardRef(function(o,i){var s=o.visible,a=s===void 0?!0:s,l=o.removeOnLeave,c=l===void 0?!0:l,u=o.forceRender,d=o.children,f=o.motionName,m=o.leavedClassName,g=o.eventProps,v=h.useContext(IJ),y=v.motion,b=n(o,y),x=h.useRef(),w=h.useRef();function C(){try{return x.current instanceof HTMLElement?x.current:uC(w.current)}catch{return null}}var E=oPe(b,a,C,o),_=Fe(E,4),S=_[0],T=_[1],I=_[2],P=_[3],M=h.useRef(P);P&&(M.current=!0);var R=h.useCallback(function(j){x.current=j,Jb(i,j)},[i]),k,D=Se(Se({},g),{},{visible:a});if(!d)k=null;else if(S===td)P?k=d(Se({},D),R):!c&&M.current&&m?k=d(Se(Se({},D),{},{className:m}),R):u||!c&&!m?k=d(Se(Se({},D),{},{style:{display:"none"}}),R):k=null;else{var A;T===il?A="prepare":NJ(T)?A="active":T===Om&&(A="start");var N=n6(f,"".concat(S,"-").concat(A));k=d(Se(Se({},D),{},{className:Me(n6(f,S),te(te({},N,N&&A),f,typeof f=="string")),style:I}),R)}if(h.isValidElement(k)&&bc(k)){var O=vp(k);O||(k=h.cloneElement(k,{ref:R}))}return h.createElement(KIe,{ref:w},k)});return r.displayName="CSSMotion",r}const Mu=iPe(MJ);var G$="add",Y$="keep",X$="remove",yR="removed";function sPe(t){var e;return t&&At(t)==="object"&&"key"in t?e=t:e={key:t},Se(Se({},e),{},{key:String(e.key)})}function Q$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(sPe)}function aPe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,o=e.length,i=Q$(t),s=Q$(e);i.forEach(function(c){for(var u=!1,d=r;d<o;d+=1){var f=s[d];if(f.key===c.key){r<d&&(n=n.concat(s.slice(r,d).map(function(m){return Se(Se({},m),{},{status:G$})})),r=d),n.push(Se(Se({},f),{},{status:Y$})),r+=1,u=!0;break}}u||n.push(Se(Se({},c),{},{status:X$}))}),r<o&&(n=n.concat(s.slice(r).map(function(c){return Se(Se({},c),{},{status:G$})})));var a={};n.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,f=u.status;return d!==c||f!==X$}),n.forEach(function(u){u.key===c&&(u.status=Y$)})}),n}var lPe=["component","children","onVisibleChanged","onAllRemoved"],cPe=["status"],uPe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function dPe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mu,n=function(r){Sn(i,r);var o=Cn(i);function i(){var s;on(this,i);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=o.call.apply(o,[this].concat(l)),te(et(s),"state",{keyEntities:[]}),te(et(s),"removeKey",function(u){s.setState(function(d){var f=d.keyEntities.map(function(m){return m.key!==u?m:Se(Se({},m),{},{status:yR})});return{keyEntities:f}},function(){var d=s.state.keyEntities,f=d.filter(function(m){var g=m.status;return g!==yR}).length;f===0&&s.props.onAllRemoved&&s.props.onAllRemoved()})}),s}return sn(i,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,f=c.onVisibleChanged;c.onAllRemoved;var m=cn(c,lPe),g=u||h.Fragment,v={};return uPe.forEach(function(y){v[y]=m[y],delete m[y]}),delete m.keys,h.createElement(g,m,l.map(function(y,b){var x=y.status,w=cn(y,cPe),C=x===G$||x===Y$;return h.createElement(e,B({},v,{key:w.key,visible:C,eventProps:w,onVisibleChanged:function(_){f==null||f(_,{key:w.key}),_||a.removeKey(w.key)}}),function(E,_){return d(Se(Se({},E),{},{index:b}),_)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,d=Q$(c),f=aPe(u,d);return{keyEntities:f.filter(function(m){var g=u.find(function(v){var y=v.key;return m.key===y});return!(g&&g.status===yR&&m.status===X$)})}}}]),i}(h.Component);return te(n,"defaultProps",{component:"div"}),n}const fPe=dPe(MJ);function hPe(t){const{children:e}=t,[,n]=Pi(),{motion:r}=n,o=h.useRef(!1);return o.current=o.current||r===!1,o.current?h.createElement(qIe,{motion:r},e):e}const pPe=()=>null;var mPe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const gPe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let eE,jJ,LJ,FJ;function bC(){return eE||ix}function vPe(){return jJ||cT}function yPe(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const bPe=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:o}=t;e!==void 0&&(eE=e),n!==void 0&&(jJ=n),"holderRender"in t&&(FJ=o),r&&(yPe(r)?vIe(bC(),r):LJ=r)},zJ=()=>({getPrefixCls:(t,e)=>e||(t?`${bC()}-${t}`:bC()),getIconPrefixCls:vPe,getRootPrefixCls:()=>eE||bC(),getTheme:()=>LJ,holderRender:FJ}),xPe=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:o,anchor:i,form:s,locale:a,componentSize:l,direction:c,space:u,splitter:d,virtual:f,dropdownMatchSelectWidth:m,popupMatchSelectWidth:g,popupOverflow:v,legacyLocale:y,parentContext:b,iconPrefixCls:x,theme:w,componentDisabled:C,segmented:E,statistic:_,spin:S,calendar:T,carousel:I,cascader:P,collapse:M,typography:R,checkbox:k,descriptions:D,divider:A,drawer:N,skeleton:O,steps:j,image:L,layout:z,list:V,mentions:W,modal:Y,progress:U,result:q,slider:K,breadcrumb:J,menu:X,pagination:ue,input:_e,textArea:Ce,empty:pe,badge:ge,radio:F,rate:ce,switch:le,transfer:Z,avatar:Q,message:ye,tag:fe,table:ie,card:re,tabs:ve,timeline:ee,timePicker:he,upload:we,notification:me,tree:ke,colorPicker:Ie,datePicker:Re,rangePicker:$e,flex:ne,wave:xe,dropdown:se,warning:ae,tour:Ee,tooltip:Le,popover:ze,popconfirm:We,floatButtonGroup:Ze,variant:dt,inputNumber:de,treeSelect:je}=t,Ve=h.useCallback((Ge,ht)=>{const{prefixCls:Qe}=t;if(ht)return ht;const Xe=Qe||b.getPrefixCls("");return Ge?`${Xe}-${Ge}`:Xe},[b.getPrefixCls,t.prefixCls]),tt=x||b.iconPrefixCls||cT,Be=n||b.csp;zIe(tt,Be);const lt=WIe(w,b.theme,{prefixCls:Ve("")}),st={csp:Be,autoInsertSpaceInButton:r,alert:o,anchor:i,locale:a||y,direction:c,space:u,splitter:d,virtual:f,popupMatchSelectWidth:g??m,popupOverflow:v,getPrefixCls:Ve,iconPrefixCls:tt,theme:lt,segmented:E,statistic:_,spin:S,calendar:T,carousel:I,cascader:P,collapse:M,typography:R,checkbox:k,descriptions:D,divider:A,drawer:N,skeleton:O,steps:j,image:L,input:_e,textArea:Ce,layout:z,list:V,mentions:W,modal:Y,progress:U,result:q,slider:K,breadcrumb:J,menu:X,pagination:ue,empty:pe,badge:ge,radio:F,rate:ce,switch:le,transfer:Z,avatar:Q,message:ye,tag:fe,table:ie,card:re,tabs:ve,timeline:ee,timePicker:he,upload:we,notification:me,tree:ke,colorPicker:Ie,datePicker:Re,rangePicker:$e,flex:ne,wave:xe,dropdown:se,warning:ae,tour:Ee,tooltip:Le,popover:ze,popconfirm:We,floatButtonGroup:Ze,variant:dt,inputNumber:de,treeSelect:je},pt=Object.assign({},b);Object.keys(st).forEach(Ge=>{st[Ge]!==void 0&&(pt[Ge]=st[Ge])}),gPe.forEach(Ge=>{const ht=t[Ge];ht&&(pt[Ge]=ht)}),typeof r<"u"&&(pt.button=Object.assign({autoInsertSpace:r},pt.button));const Ct=gp(()=>pt,pt,(Ge,ht)=>{const Qe=Object.keys(Ge),Xe=Object.keys(ht);return Qe.length!==Xe.length||Qe.some(nt=>Ge[nt]!==ht[nt])}),{layer:Pe}=h.useContext(aw),Te=h.useMemo(()=>({prefixCls:tt,csp:Be,layer:Pe?"antd":void 0}),[tt,Be,Pe]);let De=h.createElement(h.Fragment,null,h.createElement(pPe,{dropdownMatchSelectWidth:m}),e);const Oe=h.useMemo(()=>{var Ge,ht,Qe,Xe;return Mm(((Ge=af.Form)===null||Ge===void 0?void 0:Ge.defaultValidateMessages)||{},((Qe=(ht=Ct.locale)===null||ht===void 0?void 0:ht.Form)===null||Qe===void 0?void 0:Qe.defaultValidateMessages)||{},((Xe=Ct.form)===null||Xe===void 0?void 0:Xe.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[Ct,s==null?void 0:s.validateMessages]);Object.keys(Oe).length>0&&(De=h.createElement(KTe.Provider,{value:Oe},De)),a&&(De=h.createElement(JTe,{locale:a,_ANT_MARK__:QTe},De)),De=h.createElement(hj.Provider,{value:Te},De),l&&(De=h.createElement(yIe,{size:l},De)),De=h.createElement(hPe,null,De);const He=h.useMemo(()=>{const Ge=lt||{},{algorithm:ht,token:Qe,components:Xe,cssVar:nt}=Ge,ft=mPe(Ge,["algorithm","token","components","cssVar"]),wt=ht&&(!Array.isArray(ht)||ht.length>0)?R$(ht):gJ,Tt={};Object.entries(Xe||{}).forEach(Wt=>{let[yt,Bt]=Wt;const bt=Object.assign({},Bt);"algorithm"in bt&&(bt.algorithm===!0?bt.theme=wt:(Array.isArray(bt.algorithm)||typeof bt.algorithm=="function")&&(bt.theme=R$(bt.algorithm)),delete bt.algorithm),Tt[yt]=bt});const en=Object.assign(Object.assign({},rx),Qe);return Object.assign(Object.assign({},ft),{theme:wt,token:en,components:Tt,override:Object.assign({override:en},Tt),cssVar:nt})},[lt]);return w&&(De=h.createElement(vJ.Provider,{value:He},De)),Ct.warning&&(De=h.createElement(qTe.Provider,{value:Ct.warning},De)),C!==void 0&&(De=h.createElement(yJ,{disabled:C},De)),h.createElement(pn.Provider,{value:Ct},De)},Ou=t=>{const e=h.useContext(pn),n=h.useContext(pj);return h.createElement(xPe,Object.assign({parentContext:e,legacyLocale:n},t))};Ou.ConfigContext=pn;Ou.SizeContext=Gg;Ou.config=bPe;Ou.useConfig=bIe;Object.defineProperty(Ou,"SizeContext",{get:()=>Gg});var wPe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function BJ(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function SPe(t){return BJ(t)instanceof ShadowRoot}function tE(t){return SPe(t)?BJ(t):null}function CPe(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function _Pe(t,e){Jr(t,"[@ant-design/icons] ".concat(e))}function r6(t){return At(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(At(t.icon)==="object"||typeof t.icon=="function")}function o6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[CPe(n)]=r}return e},{})}function J$(t,e,n){return n?oe.createElement(t.tag,Se(Se({key:e},o6(t.attrs)),n),(t.children||[]).map(function(r,o){return J$(r,"".concat(e,"-").concat(t.tag,"-").concat(o))})):oe.createElement(t.tag,Se({key:e},o6(t.attrs)),(t.children||[]).map(function(r,o){return J$(r,"".concat(e,"-").concat(t.tag,"-").concat(o))}))}function VJ(t){return ox(t)[0]}function HJ(t){return t?Array.isArray(t)?t:[t]:[]}var EPe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,TPe=function(e){var n=h.useContext(hj),r=n.csp,o=n.prefixCls,i=n.layer,s=EPe;o&&(s=s.replace(/anticon/g,o)),i&&(s="@layer ".concat(i,` {
`).concat(s,`
}`)),h.useEffect(function(){var a=e.current,l=tE(a);fu(s,"@ant-design-icons",{prepend:!i,csp:r,attachTo:l})},[])},IPe=["icon","className","onClick","style","primaryColor","secondaryColor"],W0={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function PPe(t){var e=t.primaryColor,n=t.secondaryColor;W0.primaryColor=e,W0.secondaryColor=n||VJ(e),W0.calculated=!!n}function RPe(){return Se({},W0)}var Dv=function(e){var n=e.icon,r=e.className,o=e.onClick,i=e.style,s=e.primaryColor,a=e.secondaryColor,l=cn(e,IPe),c=h.useRef(),u=W0;if(s&&(u={primaryColor:s,secondaryColor:a||VJ(s)}),TPe(c),_Pe(r6(n),"icon should be icon definiton, but got ".concat(n)),!r6(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=Se(Se({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),J$(d.icon,"svg-".concat(d.name),Se(Se({className:r,onClick:o,style:i,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Dv.displayName="IconReact";Dv.getTwoToneColors=RPe;Dv.setTwoToneColors=PPe;function WJ(t){var e=HJ(t),n=Fe(e,2),r=n[0],o=n[1];return Dv.setTwoToneColors({primaryColor:r,secondaryColor:o})}function kPe(){var t=Dv.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var DPe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];WJ(Z_.primary);var Tr=h.forwardRef(function(t,e){var n=t.className,r=t.icon,o=t.spin,i=t.rotate,s=t.tabIndex,a=t.onClick,l=t.twoToneColor,c=cn(t,DPe),u=h.useContext(hj),d=u.prefixCls,f=d===void 0?"anticon":d,m=u.rootClassName,g=Me(m,f,te(te({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!o||r.name==="loading"),n),v=s;v===void 0&&a&&(v=-1);var y=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,b=HJ(l),x=Fe(b,2),w=x[0],C=x[1];return h.createElement("span",B({role:"img","aria-label":r.name},c,{ref:e,tabIndex:v,onClick:a,className:g}),h.createElement(Dv,{icon:r,primaryColor:w,secondaryColor:C,style:y}))});Tr.displayName="AntdIcon";Tr.getTwoToneColor=kPe;Tr.setTwoToneColor=WJ;var $Pe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:wPe}))},UJ=h.forwardRef($Pe),MPe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},OPe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:MPe}))},uT=h.forwardRef(OPe),APe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},NPe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:APe}))},uw=h.forwardRef(NPe),jPe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},LPe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:jPe}))},qJ=h.forwardRef(LPe),FPe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},zPe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:FPe}))},KJ=h.forwardRef(zPe),BPe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,VPe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,HPe="".concat(BPe," ").concat(VPe).split(/[\s\n]+/),WPe="aria-",UPe="data-";function i6(t,e){return t.indexOf(e)===0}function us(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Se({},e);var r={};return Object.keys(t).forEach(function(o){(n.aria&&(o==="role"||i6(o,WPe))||n.data&&i6(o,UPe)||n.attr&&HPe.includes(o))&&(r[o]=t[o])}),r}function GJ(t){return t&&oe.isValidElement(t)&&t.type===oe.Fragment}const YJ=(t,e,n)=>oe.isValidElement(t)?oe.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function Ba(t,e){return YJ(t,t,e)}function Z$(t){return t!=null&&t===t.window}const qPe=t=>{var e,n;if(typeof window>"u")return 0;let r=0;return Z$(t)?r=t.pageYOffset:t instanceof Document?r=t.documentElement.scrollTop:(t instanceof HTMLElement||t)&&(r=t.scrollTop),t&&!Z$(t)&&typeof r!="number"&&(r=(n=((e=t.ownerDocument)!==null&&e!==void 0?e:t).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function KPe(t,e,n,r){const o=n-e;return t/=r/2,t<1?o/2*t*t*t+e:o/2*((t-=2)*t*t+2)+e}function GPe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:n=()=>window,callback:r,duration:o=450}=e,i=n(),s=qPe(i),a=Date.now(),l=()=>{const u=Date.now()-a,d=KPe(u>o?o:u,s,t,o);Z$(i)?i.scrollTo(window.pageXOffset,d):i instanceof Document||i.constructor.name==="HTMLDocument"?i.documentElement.scrollTop=d:i.scrollTop=d,u<o?qn(l):typeof r=="function"&&r()};qn(l)}const js=t=>{const[,,,,e]=Pi();return e?`${t}-css-var`:""};var $t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},XJ=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,o=t.className,i=t.duration,s=i===void 0?4.5:i,a=t.showProgress,l=t.pauseOnHover,c=l===void 0?!0:l,u=t.eventKey,d=t.content,f=t.closable,m=t.closeIcon,g=m===void 0?"x":m,v=t.props,y=t.onClick,b=t.onNoticeClose,x=t.times,w=t.hovering,C=h.useState(!1),E=Fe(C,2),_=E[0],S=E[1],T=h.useState(0),I=Fe(T,2),P=I[0],M=I[1],R=h.useState(0),k=Fe(R,2),D=k[0],A=k[1],N=w||_,O=s>0&&a,j=function(){b(u)},L=function(q){(q.key==="Enter"||q.code==="Enter"||q.keyCode===$t.ENTER)&&j()};h.useEffect(function(){if(!N&&s>0){var U=Date.now()-D,q=setTimeout(function(){j()},s*1e3-D);return function(){c&&clearTimeout(q),A(Date.now()-U)}}},[s,N,x]),h.useEffect(function(){if(!N&&O&&(c||D===0)){var U=performance.now(),q,K=function J(){cancelAnimationFrame(q),q=requestAnimationFrame(function(X){var ue=X+D-U,_e=Math.min(ue/(s*1e3),1);M(_e*100),_e<1&&J()})};return K(),function(){c&&cancelAnimationFrame(q)}}},[s,D,N,O,x]);var z=h.useMemo(function(){return At(f)==="object"&&f!==null?f:f?{closeIcon:g}:{}},[f,g]),V=us(z,!0),W=100-(!P||P<0?0:P>100?100:P),Y="".concat(n,"-notice");return h.createElement("div",B({},v,{ref:e,className:Me(Y,o,te({},"".concat(Y,"-closable"),f)),style:r,onMouseEnter:function(q){var K;S(!0),v==null||(K=v.onMouseEnter)===null||K===void 0||K.call(v,q)},onMouseLeave:function(q){var K;S(!1),v==null||(K=v.onMouseLeave)===null||K===void 0||K.call(v,q)},onClick:y}),h.createElement("div",{className:"".concat(Y,"-content")},d),f&&h.createElement("a",B({tabIndex:0,className:"".concat(Y,"-close"),onKeyDown:L,"aria-label":"Close"},V,{onClick:function(q){q.preventDefault(),q.stopPropagation(),j()}}),z.closeIcon),O&&h.createElement("progress",{className:"".concat(Y,"-progress"),max:"100",value:W},W+"%"))}),QJ=oe.createContext({}),YPe=function(e){var n=e.children,r=e.classNames;return oe.createElement(QJ.Provider,{value:{classNames:r}},n)},s6=8,a6=3,l6=16,XPe=function(e){var n={offset:s6,threshold:a6,gap:l6};if(e&&At(e)==="object"){var r,o,i;n.offset=(r=e.offset)!==null&&r!==void 0?r:s6,n.threshold=(o=e.threshold)!==null&&o!==void 0?o:a6,n.gap=(i=e.gap)!==null&&i!==void 0?i:l6}return[!!e,n]},QPe=["className","style","classNames","styles"],JPe=function(e){var n=e.configList,r=e.placement,o=e.prefixCls,i=e.className,s=e.style,a=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,u=e.stack,d=h.useContext(QJ),f=d.classNames,m=h.useRef({}),g=h.useState(null),v=Fe(g,2),y=v[0],b=v[1],x=h.useState([]),w=Fe(x,2),C=w[0],E=w[1],_=n.map(function(N){return{config:N,key:String(N.key)}}),S=XPe(u),T=Fe(S,2),I=T[0],P=T[1],M=P.offset,R=P.threshold,k=P.gap,D=I&&(C.length>0||_.length<=R),A=typeof a=="function"?a(r):a;return h.useEffect(function(){I&&C.length>1&&E(function(N){return N.filter(function(O){return _.some(function(j){var L=j.key;return O===L})})})},[C,_,I]),h.useEffect(function(){var N;if(I&&m.current[(N=_[_.length-1])===null||N===void 0?void 0:N.key]){var O;b(m.current[(O=_[_.length-1])===null||O===void 0?void 0:O.key])}},[_,I]),oe.createElement(fPe,B({key:r,className:Me(o,"".concat(o,"-").concat(r),f==null?void 0:f.list,i,te(te({},"".concat(o,"-stack"),!!I),"".concat(o,"-stack-expanded"),D)),style:s,keys:_,motionAppear:!0},A,{onAllRemoved:function(){l(r)}}),function(N,O){var j=N.config,L=N.className,z=N.style,V=N.index,W=j,Y=W.key,U=W.times,q=String(Y),K=j,J=K.className,X=K.style,ue=K.classNames,_e=K.styles,Ce=cn(K,QPe),pe=_.findIndex(function(ee){return ee.key===q}),ge={};if(I){var F=_.length-1-(pe>-1?pe:V-1),ce=r==="top"||r==="bottom"?"-50%":"0";if(F>0){var le,Z,Q;ge.height=D?(le=m.current[q])===null||le===void 0?void 0:le.offsetHeight:y==null?void 0:y.offsetHeight;for(var ye=0,fe=0;fe<F;fe++){var ie;ye+=((ie=m.current[_[_.length-1-fe].key])===null||ie===void 0?void 0:ie.offsetHeight)+k}var re=(D?ye:F*M)*(r.startsWith("top")?1:-1),ve=!D&&y!==null&&y!==void 0&&y.offsetWidth&&(Z=m.current[q])!==null&&Z!==void 0&&Z.offsetWidth?((y==null?void 0:y.offsetWidth)-M*2*(F<3?F:3))/((Q=m.current[q])===null||Q===void 0?void 0:Q.offsetWidth):1;ge.transform="translate3d(".concat(ce,", ").concat(re,"px, 0) scaleX(").concat(ve,")")}else ge.transform="translate3d(".concat(ce,", 0, 0)")}return oe.createElement("div",{ref:O,className:Me("".concat(o,"-notice-wrapper"),L,ue==null?void 0:ue.wrapper),style:Se(Se(Se({},z),ge),_e==null?void 0:_e.wrapper),onMouseEnter:function(){return E(function(he){return he.includes(q)?he:[].concat(at(he),[q])})},onMouseLeave:function(){return E(function(he){return he.filter(function(we){return we!==q})})}},oe.createElement(XJ,B({},Ce,{ref:function(he){pe>-1?m.current[q]=he:delete m.current[q]},prefixCls:o,classNames:ue,styles:_e,className:Me(J,f==null?void 0:f.notice),style:X,times:U,key:Y,eventKey:Y,onNoticeClose:c,hovering:I&&C.length>0})))})},ZPe=h.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,o=t.container,i=t.motion,s=t.maxCount,a=t.className,l=t.style,c=t.onAllRemoved,u=t.stack,d=t.renderNotifications,f=h.useState([]),m=Fe(f,2),g=m[0],v=m[1],y=function(I){var P,M=g.find(function(R){return R.key===I});M==null||(P=M.onClose)===null||P===void 0||P.call(M),v(function(R){return R.filter(function(k){return k.key!==I})})};h.useImperativeHandle(e,function(){return{open:function(I){v(function(P){var M=at(P),R=M.findIndex(function(A){return A.key===I.key}),k=Se({},I);if(R>=0){var D;k.times=(((D=P[R])===null||D===void 0?void 0:D.times)||0)+1,M[R]=k}else k.times=0,M.push(k);return s>0&&M.length>s&&(M=M.slice(-s)),M})},close:function(I){y(I)},destroy:function(){v([])}}});var b=h.useState({}),x=Fe(b,2),w=x[0],C=x[1];h.useEffect(function(){var T={};g.forEach(function(I){var P=I.placement,M=P===void 0?"topRight":P;M&&(T[M]=T[M]||[],T[M].push(I))}),Object.keys(w).forEach(function(I){T[I]=T[I]||[]}),C(T)},[g]);var E=function(I){C(function(P){var M=Se({},P),R=M[I]||[];return R.length||delete M[I],M})},_=h.useRef(!1);if(h.useEffect(function(){Object.keys(w).length>0?_.current=!0:_.current&&(c==null||c(),_.current=!1)},[w]),!o)return null;var S=Object.keys(w);return sa.createPortal(h.createElement(h.Fragment,null,S.map(function(T){var I=w[T],P=h.createElement(JPe,{key:T,configList:I,placement:T,prefixCls:r,className:a==null?void 0:a(T),style:l==null?void 0:l(T),motion:i,onNoticeClose:y,onAllNoticeRemoved:E,stack:u});return d?d(P,{prefixCls:r,key:T}):P})),o)}),eRe=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],tRe=function(){return document.body},c6=0;function nRe(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(o){o&&Object.keys(o).forEach(function(i){var s=o[i];s!==void 0&&(t[i]=s)})}),t}function rRe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?tRe:e,r=t.motion,o=t.prefixCls,i=t.maxCount,s=t.className,a=t.style,l=t.onAllRemoved,c=t.stack,u=t.renderNotifications,d=cn(t,eRe),f=h.useState(),m=Fe(f,2),g=m[0],v=m[1],y=h.useRef(),b=h.createElement(ZPe,{container:g,ref:y,prefixCls:o,motion:r,maxCount:i,className:s,style:a,onAllRemoved:l,stack:c,renderNotifications:u}),x=h.useState([]),w=Fe(x,2),C=w[0],E=w[1],_=h.useMemo(function(){return{open:function(T){var I=nRe(d,T);(I.key===null||I.key===void 0)&&(I.key="rc-notification-".concat(c6),c6+=1),E(function(P){return[].concat(at(P),[{type:"open",config:I}])})},close:function(T){E(function(I){return[].concat(at(I),[{type:"close",key:T}])})},destroy:function(){E(function(T){return[].concat(at(T),[{type:"destroy"}])})}}},[]);return h.useEffect(function(){v(n())}),h.useEffect(function(){if(y.current&&C.length){C.forEach(function(I){switch(I.type){case"open":y.current.open(I.config);break;case"close":y.current.close(I.key);break;case"destroy":y.current.destroy();break}});var S,T;E(function(I){return(S!==I||!T)&&(S=I,T=I.filter(function(P){return!C.includes(P)})),T})}},[C]),[_,b]}var oRe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},iRe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:oRe}))},dw=h.forwardRef(iRe);const dT=oe.createContext(void 0),nd=100,sRe=10,JJ=nd*sRe,ZJ={Modal:nd,Drawer:nd,Popover:nd,Popconfirm:nd,Tooltip:nd,Tour:nd,FloatButton:nd},aRe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function lRe(t){return t in ZJ}const fw=(t,e)=>{const[,n]=Pi(),r=oe.useContext(dT),o=lRe(t);let i;if(e!==void 0)i=[e,e];else{let s=r??0;o?s+=(r?0:n.zIndexPopupBase)+ZJ[t]:s+=aRe[t],i=[r===void 0?e:s,s]}return i},cRe=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:o,colorSuccess:i,colorError:s,colorWarning:a,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:m,borderRadiusLG:g,zIndexPopup:v,contentPadding:y,contentBg:b}=t,x=`${e}-notice`,w=new Bn("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:m,transform:"translateY(0)",opacity:1}}),C=new Bn("MessageMoveOut",{"0%":{maxHeight:t.height,padding:m,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),E={padding:m,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:f,fontSize:c},[`${x}-content`]:{display:"inline-block",padding:y,background:b,borderRadius:g,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:i},[`${e}-error > ${n}`]:{color:s},[`${e}-warning > ${n}`]:{color:a},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},ho(t)),{color:o,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:v,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:w,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:C,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${x}-wrapper`]:Object.assign({},E)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},E),{padding:0,textAlign:"start"})}]},uRe=t=>({zIndexPopup:t.zIndexPopupBase+JJ+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),eZ=eo("Message",t=>{const e=Vn(t,{height:150});return[cRe(e)]},uRe);var dRe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const fRe={info:h.createElement(KJ,null),success:h.createElement(UJ,null),error:h.createElement(uT,null),warning:h.createElement(qJ,null),loading:h.createElement(dw,null)},tZ=t=>{let{prefixCls:e,type:n,icon:r,children:o}=t;return h.createElement("div",{className:Me(`${e}-custom-content`,`${e}-${n}`)},r||fRe[n],h.createElement("span",null,o))},hRe=t=>{const{prefixCls:e,className:n,type:r,icon:o,content:i}=t,s=dRe(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:a}=h.useContext(pn),l=e||a("message"),c=js(l),[u,d,f]=eZ(l,c);return u(h.createElement(XJ,Object.assign({},s,{prefixCls:l,className:Me(n,d,`${l}-notice-pure-panel`,f,c),eventKey:"pure",duration:null,content:h.createElement(tZ,{prefixCls:l,type:r,icon:o},i)})))};function pRe(t,e){return{motionName:e??`${t}-move-up`}}function gj(t){let e;const n=new Promise(o=>{e=t(()=>{o(!0)})}),r=()=>{e==null||e()};return r.then=(o,i)=>n.then(o,i),r.promise=n,r}var mRe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const gRe=8,vRe=3,yRe=t=>{let{children:e,prefixCls:n}=t;const r=js(n),[o,i,s]=eZ(n,r);return o(h.createElement(YPe,{classNames:{list:Me(i,s,r)}},e))},bRe=(t,e)=>{let{prefixCls:n,key:r}=e;return h.createElement(yRe,{prefixCls:n,key:r},t)},xRe=h.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:o,maxCount:i,duration:s=vRe,rtl:a,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:u,getPopupContainer:d,message:f,direction:m}=h.useContext(pn),g=r||u("message"),v=()=>({left:"50%",transform:"translateX(-50%)",top:n??gRe}),y=()=>Me({[`${g}-rtl`]:a??m==="rtl"}),b=()=>pRe(g,l),x=h.createElement("span",{className:`${g}-close-x`},h.createElement(uw,{className:`${g}-close-icon`})),[w,C]=rRe({prefixCls:g,style:v,className:y,motion:b,closable:!1,closeIcon:x,duration:s,getContainer:()=>(o==null?void 0:o())||(d==null?void 0:d())||document.body,maxCount:i,onAllRemoved:c,renderNotifications:bRe});return h.useImperativeHandle(e,()=>Object.assign(Object.assign({},w),{prefixCls:g,message:f})),C});let u6=0;function nZ(t){const e=h.useRef(null);return yp(),[h.useMemo(()=>{const r=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},o=l=>{if(!e.current){const _=()=>{};return _.then=()=>{},_}const{open:c,prefixCls:u,message:d}=e.current,f=`${u}-notice`,{content:m,icon:g,type:v,key:y,className:b,style:x,onClose:w}=l,C=mRe(l,["content","icon","type","key","className","style","onClose"]);let E=y;return E==null&&(u6+=1,E=`antd-message-${u6}`),gj(_=>(c(Object.assign(Object.assign({},C),{key:E,content:h.createElement(tZ,{prefixCls:u,type:v,icon:g},m),placement:"top",className:Me(v&&`${f}-${v}`,b,d==null?void 0:d.className),style:Object.assign(Object.assign({},d==null?void 0:d.style),x),onClose:()=>{w==null||w(),_()}})),()=>{r(E)}))},s={open:o,destroy:l=>{var c;l!==void 0?r(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,d,f)=>{let m;u&&typeof u=="object"&&"content"in u?m=u:m={content:u};let g,v;typeof d=="function"?v=d:(g=d,v=f);const y=Object.assign(Object.assign({onClose:v,duration:g},m),{type:l});return o(y)};s[l]=c}),s},[]),h.createElement(xRe,Object.assign({key:"message-holder"},t,{ref:e}))]}function wRe(t){return nZ(t)}function SRe(){const[t,e]=h.useState([]),n=h.useCallback(r=>(e(o=>[].concat(at(o),[r])),()=>{e(o=>o.filter(i=>i!==r))}),[]);return[t,n]}function ds(){ds=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(N,O,j){N[O]=j.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(N,O,j){return Object.defineProperty(N,O,{value:j,enumerable:!0,configurable:!0,writable:!0}),N[O]}try{c({},"")}catch{c=function(j,L,z){return j[L]=z}}function u(N,O,j,L){var z=O&&O.prototype instanceof b?O:b,V=Object.create(z.prototype),W=new D(L||[]);return o(V,"_invoke",{value:P(N,j,W)}),V}function d(N,O,j){try{return{type:"normal",arg:N.call(O,j)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var f="suspendedStart",m="suspendedYield",g="executing",v="completed",y={};function b(){}function x(){}function w(){}var C={};c(C,s,function(){return this});var E=Object.getPrototypeOf,_=E&&E(E(A([])));_&&_!==n&&r.call(_,s)&&(C=_);var S=w.prototype=b.prototype=Object.create(C);function T(N){["next","throw","return"].forEach(function(O){c(N,O,function(j){return this._invoke(O,j)})})}function I(N,O){function j(z,V,W,Y){var U=d(N[z],N,V);if(U.type!=="throw"){var q=U.arg,K=q.value;return K&&At(K)=="object"&&r.call(K,"__await")?O.resolve(K.__await).then(function(J){j("next",J,W,Y)},function(J){j("throw",J,W,Y)}):O.resolve(K).then(function(J){q.value=J,W(q)},function(J){return j("throw",J,W,Y)})}Y(U.arg)}var L;o(this,"_invoke",{value:function(V,W){function Y(){return new O(function(U,q){j(V,W,U,q)})}return L=L?L.then(Y,Y):Y()}})}function P(N,O,j){var L=f;return function(z,V){if(L===g)throw Error("Generator is already running");if(L===v){if(z==="throw")throw V;return{value:t,done:!0}}for(j.method=z,j.arg=V;;){var W=j.delegate;if(W){var Y=M(W,j);if(Y){if(Y===y)continue;return Y}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(L===f)throw L=v,j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);L=g;var U=d(N,O,j);if(U.type==="normal"){if(L=j.done?v:m,U.arg===y)continue;return{value:U.arg,done:j.done}}U.type==="throw"&&(L=v,j.method="throw",j.arg=U.arg)}}}function M(N,O){var j=O.method,L=N.iterator[j];if(L===t)return O.delegate=null,j==="throw"&&N.iterator.return&&(O.method="return",O.arg=t,M(N,O),O.method==="throw")||j!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+j+"' method")),y;var z=d(L,N.iterator,O.arg);if(z.type==="throw")return O.method="throw",O.arg=z.arg,O.delegate=null,y;var V=z.arg;return V?V.done?(O[N.resultName]=V.value,O.next=N.nextLoc,O.method!=="return"&&(O.method="next",O.arg=t),O.delegate=null,y):V:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,y)}function R(N){var O={tryLoc:N[0]};1 in N&&(O.catchLoc=N[1]),2 in N&&(O.finallyLoc=N[2],O.afterLoc=N[3]),this.tryEntries.push(O)}function k(N){var O=N.completion||{};O.type="normal",delete O.arg,N.completion=O}function D(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(R,this),this.reset(!0)}function A(N){if(N||N===""){var O=N[s];if(O)return O.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var j=-1,L=function z(){for(;++j<N.length;)if(r.call(N,j))return z.value=N[j],z.done=!1,z;return z.value=t,z.done=!0,z};return L.next=L}}throw new TypeError(At(N)+" is not iterable")}return x.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=c(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(N){var O=typeof N=="function"&&N.constructor;return!!O&&(O===x||(O.displayName||O.name)==="GeneratorFunction")},e.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,w):(N.__proto__=w,c(N,l,"GeneratorFunction")),N.prototype=Object.create(S),N},e.awrap=function(N){return{__await:N}},T(I.prototype),c(I.prototype,a,function(){return this}),e.AsyncIterator=I,e.async=function(N,O,j,L,z){z===void 0&&(z=Promise);var V=new I(u(N,O,j,L),z);return e.isGeneratorFunction(O)?V:V.next().then(function(W){return W.done?W.value:V.next()})},T(S),c(S,l,"Generator"),c(S,s,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),e.keys=function(N){var O=Object(N),j=[];for(var L in O)j.push(L);return j.reverse(),function z(){for(;j.length;){var V=j.pop();if(V in O)return z.value=V,z.done=!1,z}return z.done=!0,z}},e.values=A,D.prototype={constructor:D,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!O)for(var j in this)j.charAt(0)==="t"&&r.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=t)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var j=this;function L(q,K){return W.type="throw",W.arg=O,j.next=q,K&&(j.method="next",j.arg=t),!!K}for(var z=this.tryEntries.length-1;z>=0;--z){var V=this.tryEntries[z],W=V.completion;if(V.tryLoc==="root")return L("end");if(V.tryLoc<=this.prev){var Y=r.call(V,"catchLoc"),U=r.call(V,"finallyLoc");if(Y&&U){if(this.prev<V.catchLoc)return L(V.catchLoc,!0);if(this.prev<V.finallyLoc)return L(V.finallyLoc)}else if(Y){if(this.prev<V.catchLoc)return L(V.catchLoc,!0)}else{if(!U)throw Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return L(V.finallyLoc)}}}},abrupt:function(O,j){for(var L=this.tryEntries.length-1;L>=0;--L){var z=this.tryEntries[L];if(z.tryLoc<=this.prev&&r.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var V=z;break}}V&&(O==="break"||O==="continue")&&V.tryLoc<=j&&j<=V.finallyLoc&&(V=null);var W=V?V.completion:{};return W.type=O,W.arg=j,V?(this.method="next",this.next=V.finallyLoc,y):this.complete(W)},complete:function(O,j){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&j&&(this.next=j),y},finish:function(O){for(var j=this.tryEntries.length-1;j>=0;--j){var L=this.tryEntries[j];if(L.finallyLoc===O)return this.complete(L.completion,L.afterLoc),k(L),y}},catch:function(O){for(var j=this.tryEntries.length-1;j>=0;--j){var L=this.tryEntries[j];if(L.tryLoc===O){var z=L.completion;if(z.type==="throw"){var V=z.arg;k(L)}return V}}throw Error("illegal catch attempt")},delegateYield:function(O,j,L){return this.delegate={iterator:A(O),resultName:j,nextLoc:L},this.method==="next"&&(this.arg=t),y}},e}function d6(t,e,n,r,o,i,s){try{var a=t[i](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,o)}function xp(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(l){d6(i,r,o,s,a,"next",l)}function a(l){d6(i,r,o,s,a,"throw",l)}s(void 0)})}}var hw=Se({},dq),CRe=hw.version,bR=hw.render,_Re=hw.unmountComponentAtNode,fT;try{var ERe=Number((CRe||"").split(".")[0]);ERe>=18&&(fT=hw.createRoot)}catch{}function f6(t){var e=hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&At(e)==="object"&&(e.usingClientEntryPoint=t)}var nE="__rc_react_root__";function TRe(t,e){f6(!0);var n=e[nE]||fT(e);f6(!1),n.render(t),e[nE]=n}function IRe(t,e){bR==null||bR(t,e)}function PRe(t,e){if(fT){TRe(t,e);return}IRe(t,e)}function RRe(t){return eM.apply(this,arguments)}function eM(){return eM=xp(ds().mark(function t(e){return ds().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var o;(o=e[nE])===null||o===void 0||o.unmount(),delete e[nE]}));case 1:case"end":return r.stop()}},t)})),eM.apply(this,arguments)}function kRe(t){_Re(t)}function DRe(t){return tM.apply(this,arguments)}function tM(){return tM=xp(ds().mark(function t(e){return ds().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(fT===void 0){r.next=2;break}return r.abrupt("return",RRe(e));case 2:kRe(e);case 3:case"end":return r.stop()}},t)})),tM.apply(this,arguments)}const $Re=(t,e)=>(PRe(t,e),()=>DRe(e));let MRe=$Re;function vj(){return MRe}const xR=()=>({height:0,opacity:0}),h6=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},ORe=t=>({height:t?t.offsetHeight:0}),wR=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",rZ=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:ix}-motion-collapse`,onAppearStart:xR,onEnterStart:xR,onAppearActive:h6,onEnterActive:h6,onLeaveStart:ORe,onLeaveActive:xR,onAppearEnd:wR,onEnterEnd:wR,onLeaveEnd:wR,motionDeadline:500}},Xg=(t,e,n)=>n!==void 0?n:`${t}-${e}`;function ni(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}const hT=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var o=t.getBoundingClientRect(),i=o.width,s=o.height;if(i||s)return!0}}return!1},ARe=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},NRe=FIe("Wave",t=>[ARe(t)]),pT=`${ix}-wave-target`;function SR(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function jRe(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return SR(e)?e:SR(n)?n:SR(r)?r:null}function CR(t){return Number.isNaN(t)?0:t}const LRe=t=>{const{className:e,target:n,component:r,registerUnmount:o}=t,i=h.useRef(null),s=h.useRef(null);h.useEffect(()=>{s.current=o()},[]);const[a,l]=h.useState(null),[c,u]=h.useState([]),[d,f]=h.useState(0),[m,g]=h.useState(0),[v,y]=h.useState(0),[b,x]=h.useState(0),[w,C]=h.useState(!1),E={left:d,top:m,width:v,height:b,borderRadius:c.map(T=>`${T}px`).join(" ")};a&&(E["--wave-color"]=a);function _(){const T=getComputedStyle(n);l(jRe(n));const I=T.position==="static",{borderLeftWidth:P,borderTopWidth:M}=T;f(I?n.offsetLeft:CR(-parseFloat(P))),g(I?n.offsetTop:CR(-parseFloat(M))),y(n.offsetWidth),x(n.offsetHeight);const{borderTopLeftRadius:R,borderTopRightRadius:k,borderBottomLeftRadius:D,borderBottomRightRadius:A}=T;u([R,k,A,D].map(N=>CR(parseFloat(N))))}if(h.useEffect(()=>{if(n){const T=qn(()=>{_(),C(!0)});let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(_),I.observe(n)),()=>{qn.cancel(T),I==null||I.disconnect()}}},[]),!w)return null;const S=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(pT));return h.createElement(Mu,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(T,I)=>{var P,M;if(I.deadline||I.propertyName==="opacity"){const R=(P=i.current)===null||P===void 0?void 0:P.parentElement;(M=s.current)===null||M===void 0||M.call(s).then(()=>{R==null||R.remove()})}return!1}},(T,I)=>{let{className:P}=T;return h.createElement("div",{ref:Ka(i,I),className:Me(e,P,{"wave-quick":S}),style:E})})},FRe=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",t==null||t.insertBefore(o,t==null?void 0:t.firstChild);const i=vj();let s=null;function a(){return s}s=i(h.createElement(LRe,Object.assign({},e,{target:t,registerUnmount:a})),o)},zRe=(t,e,n)=>{const{wave:r}=h.useContext(pn),[,o,i]=Pi(),s=br(c=>{const u=t.current;if(r!=null&&r.disabled||!u)return;const d=u.querySelector(`.${pT}`)||u,{showEffect:f}=r||{};(f||FRe)(d,{className:e,token:o,component:n,event:c,hashId:i})}),a=h.useRef(null);return c=>{qn.cancel(a.current),a.current=qn(()=>{s(c)})}},pw=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:o}=h.useContext(pn),i=h.useRef(null),s=o("wave"),[,a]=NRe(s),l=zRe(i,Me(s,a),r);if(oe.useEffect(()=>{const u=i.current;if(!u||u.nodeType!==1||n)return;const d=f=>{!hT(f.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(f)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!oe.isValidElement(e))return e??null;const c=bc(e)?Ka(vp(e),i):i;return Ba(e,{ref:c})},El=t=>{const e=oe.useContext(Gg);return oe.useMemo(()=>t?typeof t=="string"?t??e:typeof t=="function"?t(e):e:e,[t,e])},BRe=t=>{const{componentCls:e}=t;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},VRe=t=>{const{componentCls:e,antCls:n}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},HRe=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},oZ=eo("Space",t=>{const e=Vn(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[VRe(e),HRe(e),BRe(e)]},()=>({}),{resetStyle:!1});var iZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const mT=h.createContext(null),$v=(t,e)=>{const n=h.useContext(mT),r=h.useMemo(()=>{if(!n)return"";const{compactDirection:o,isFirstItem:i,isLastItem:s}=n,a=o==="vertical"?"-vertical-":"-";return Me(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:i,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},WRe=t=>{const{children:e}=t;return h.createElement(mT.Provider,{value:null},e)},URe=t=>{const{children:e}=t,n=iZ(t,["children"]);return h.createElement(mT.Provider,{value:h.useMemo(()=>n,[n])},e)},qRe=t=>{const{getPrefixCls:e,direction:n}=h.useContext(pn),{size:r,direction:o,block:i,prefixCls:s,className:a,rootClassName:l,children:c}=t,u=iZ(t,["size","direction","block","prefixCls","className","rootClassName","children"]),d=El(w=>r??w),f=e("space-compact",s),[m,g]=oZ(f),v=Me(f,g,{[`${f}-rtl`]:n==="rtl",[`${f}-block`]:i,[`${f}-vertical`]:o==="vertical"},a,l),y=h.useContext(mT),b=vl(c),x=h.useMemo(()=>b.map((w,C)=>{const E=(w==null?void 0:w.key)||`${f}-item-${C}`;return h.createElement(URe,{key:E,compactSize:d,compactDirection:o,isFirstItem:C===0&&(!y||(y==null?void 0:y.isFirstItem)),isLastItem:C===b.length-1&&(!y||(y==null?void 0:y.isLastItem))},w)}),[r,b,y]);return b.length===0?null:m(h.createElement("div",Object.assign({className:v},u),x))};var KRe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const sZ=h.createContext(void 0),GRe=t=>{const{getPrefixCls:e,direction:n}=h.useContext(pn),{prefixCls:r,size:o,className:i}=t,s=KRe(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=Pi(),c=h.useMemo(()=>{switch(o){case"large":return"lg";case"small":return"sm";default:return""}},[o]),u=Me(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},i,l);return h.createElement(sZ.Provider,{value:o},h.createElement("div",Object.assign({},s,{className:u})))},p6=/^[\u4E00-\u9FA5]{2}$/,nM=p6.test.bind(p6);function aZ(t){return t==="danger"?{danger:!0}:{type:t}}function m6(t){return typeof t=="string"}function _R(t){return t==="text"||t==="link"}function YRe(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&m6(t.type)&&nM(t.props.children)?Ba(t,{children:t.props.children.split("").join(n)}):m6(t)?nM(t)?oe.createElement("span",null,t.split("").join(n)):oe.createElement("span",null,t):GJ(t)?oe.createElement("span",null,t):t}function XRe(t,e){let n=!1;const r=[];return oe.Children.forEach(t,o=>{const i=typeof o,s=i==="string"||i==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${o}`}else r.push(o);n=s}),oe.Children.map(r,o=>YRe(o,e))}["default","primary","danger"].concat(at(Qh));const rM=h.forwardRef((t,e)=>{const{className:n,style:r,children:o,prefixCls:i}=t,s=Me(`${i}-icon`,n);return oe.createElement("span",{ref:e,className:s,style:r},o)}),g6=h.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:o,iconClassName:i}=t,s=Me(`${n}-loading-icon`,r);return oe.createElement(rM,{prefixCls:n,className:s,style:o,ref:e},oe.createElement(dw,{className:i}))}),ER=()=>({width:0,opacity:0,transform:"scale(0)"}),TR=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),QRe=t=>{const{prefixCls:e,loading:n,existIcon:r,className:o,style:i,mount:s}=t,a=!!n;return r?oe.createElement(g6,{prefixCls:e,className:o,style:i}):oe.createElement(Mu,{visible:a,motionName:`${e}-loading-icon-motion`,motionAppear:!s,motionEnter:!s,motionLeave:!s,removeOnLeave:!0,onAppearStart:ER,onAppearActive:TR,onEnterStart:ER,onEnterActive:TR,onLeaveStart:TR,onLeaveActive:ER},(l,c)=>{let{className:u,style:d}=l;const f=Object.assign(Object.assign({},i),d);return oe.createElement(g6,{prefixCls:e,className:Me(o,u),style:f,ref:c})})},v6=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),JRe=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:o,colorErrorHover:i}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},v6(`${e}-primary`,o),v6(`${e}-danger`,i)]}};var ZRe=["b"],eke=["v"],IR=function(e){return Math.round(Number(e||0))},tke=function(e){if(e instanceof Fn)return e;if(e&&At(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,o=cn(n,ZRe);return Se(Se({},o),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},lx=function(t){Sn(n,t);var e=Cn(n);function n(r){return on(this,n),e.call(this,tke(r))}return sn(n,[{key:"toHsbString",value:function(){var o=this.toHsb(),i=IR(o.s*100),s=IR(o.b*100),a=IR(o.h),l=o.a,c="hsb(".concat(a,", ").concat(i,"%, ").concat(s,"%)"),u="hsba(".concat(a,", ").concat(i,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var o=this.toHsv(),i=o.v,s=cn(o,eke);return Se(Se({},s),{},{b:i,a:this.a})}}]),n}(Fn),nke=function(e){return e instanceof lx?e:new lx(e)};nke("#1677ff");const rke=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",oke=(t,e)=>t?rke(t,e):"";let ike=function(){function t(e){on(this,t);var n;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(n=e.colors)===null||n===void 0?void 0:n.map(o=>({color:new t(o.color),percent:o.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(o=>{let{color:i,percent:s}=o;return{color:new t(i),percent:s}}),this.metaColor=new lx(this.colors[0].color.metaColor)):this.metaColor=new lx(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return sn(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return oke(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(o=>`${o.color.toRgbString()} ${o.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,o)=>{const i=n.colors[o];return r.percent===i.percent&&r.color.equals(i.color)}):this.toHexString()===n.toHexString()}}])}();var ske={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},ake=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:ske}))},oM=h.forwardRef(ake);const lZ=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),lke=t=>({animationDuration:t,animationFillMode:"both"}),cke=t=>({animationDuration:t,animationFillMode:"both"}),gT=function(t,e,n,r){const i=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${i}${t}-enter,
      ${i}${t}-appear
    `]:Object.assign(Object.assign({},lke(r)),{animationPlayState:"paused"}),[`${i}${t}-leave`]:Object.assign(Object.assign({},cke(r)),{animationPlayState:"paused"}),[`
      ${i}${t}-enter${t}-enter-active,
      ${i}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${i}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},uke=new Bn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),dke=new Bn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),fke=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r=`${n}-fade`,o=e?"&":"";return[gT(r,uke,dke,t.motionDurationMid,e),{[`
        ${o}${r}-enter,
        ${o}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${o}${r}-leave`]:{animationTimingFunction:"linear"}}]},hke=new Bn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),pke=new Bn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),mke=new Bn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),gke=new Bn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),vke=new Bn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),yke=new Bn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),bke=new Bn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),xke=new Bn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),wke={"move-up":{inKeyframes:bke,outKeyframes:xke},"move-down":{inKeyframes:hke,outKeyframes:pke},"move-left":{inKeyframes:mke,outKeyframes:gke},"move-right":{inKeyframes:vke,outKeyframes:yke}},rE=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:o,outKeyframes:i}=wke[e];return[gT(r,o,i,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},yj=new Bn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),bj=new Bn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),xj=new Bn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),wj=new Bn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Ske=new Bn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Cke=new Bn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),_ke=new Bn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Eke=new Bn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Tke={"slide-up":{inKeyframes:yj,outKeyframes:bj},"slide-down":{inKeyframes:xj,outKeyframes:wj},"slide-left":{inKeyframes:Ske,outKeyframes:Cke},"slide-right":{inKeyframes:_ke,outKeyframes:Eke}},Qg=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:o,outKeyframes:i}=Tke[e];return[gT(r,o,i,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},Ike=new Bn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Pke=new Bn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),y6=new Bn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),b6=new Bn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Rke=new Bn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),kke=new Bn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),Dke=new Bn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),$ke=new Bn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Mke=new Bn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Oke=new Bn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Ake=new Bn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Nke=new Bn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),jke={zoom:{inKeyframes:Ike,outKeyframes:Pke},"zoom-big":{inKeyframes:y6,outKeyframes:b6},"zoom-big-fast":{inKeyframes:y6,outKeyframes:b6},"zoom-left":{inKeyframes:Dke,outKeyframes:$ke},"zoom-right":{inKeyframes:Mke,outKeyframes:Oke},"zoom-up":{inKeyframes:Rke,outKeyframes:kke},"zoom-down":{inKeyframes:Ake,outKeyframes:Nke}},vT=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:o,outKeyframes:i}=jke[e];return[gT(r,o,i,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},Lke=(t,e)=>{const{r:n,g:r,b:o,a:i}=t.toRgb(),s=new lx(t.toRgbString()).onBackground(e).toHsv();return i<=.5?s.v>.5:n*.299+r*.587+o*.114>192},cZ=t=>{const{paddingInline:e,onlyIconSize:n}=t;return Vn(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},uZ=t=>{var e,n,r,o,i,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,u=(o=t.contentLineHeight)!==null&&o!==void 0?o:yC(a),d=(i=t.contentLineHeightSM)!==null&&i!==void 0?i:yC(l),f=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:yC(c),m=Lke(new ike(t.colorBgSolid),"#fff")?"#000":"#fff",g=Qh.reduce((v,y)=>Object.assign(Object.assign({},v),{[`${y}ShadowColor`]:`0 ${Ae(t.controlOutlineWidth)} 0 ${v0(t[`${y}1`],t.colorBgContainer)}`}),{});return Object.assign(Object.assign({},g),{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorFillTertiary,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:m,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((t.controlHeight-a*u)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*d)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*f)/2-t.lineWidth,0)})},Fke=t=>{const{componentCls:e,iconCls:n,fontWeight:r,opacityLoading:o,motionDurationSlow:i,motionEaseInOut:s,marginXS:a,calc:l}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Ae(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:lw(),"> a":{color:"currentColor"},"&:not(:disabled)":Jh(t),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"},[`&${e}-round`]:{width:"auto"}},[`&${e}-loading`]:{opacity:o,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(c=>`${c} ${i} ${s}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(a).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(a).mul(-1).equal()}}}}}},dZ=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),zke=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Bke=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),Vke=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),yT=(t,e,n,r,o,i,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},dZ(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:o||void 0,borderColor:i||void 0}})}),Hke=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},Vke(t))}),Wke=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),bT=(t,e,n,r)=>{const i=r&&["link","text"].includes(r)?Wke:Hke;return Object.assign(Object.assign({},i(t)),dZ(t.componentCls,e,n))},xT=(t,e,n,r,o)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:n},bT(t,r,o))}),wT=(t,e,n,r,o)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:n},bT(t,r,o))}),ST=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),CT=(t,e,n,r)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},bT(t,n,r))}),wc=(t,e,n,r,o)=>({[`&${t.componentCls}-variant-${n}`]:Object.assign({color:e,boxShadow:"none"},bT(t,r,o,n))}),Uke=t=>{const{componentCls:e}=t;return Qh.reduce((n,r)=>{const o=t[`${r}6`],i=t[`${r}1`],s=t[`${r}5`],a=t[`${r}2`],l=t[`${r}3`],c=t[`${r}7`];return Object.assign(Object.assign({},n),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:o,boxShadow:t[`${r}ShadowColor`]},xT(t,t.colorTextLightSolid,o,{background:s},{background:c})),wT(t,o,t.colorBgContainer,{color:s,borderColor:s,background:t.colorBgContainer},{color:c,borderColor:c,background:t.colorBgContainer})),ST(t)),CT(t,i,{background:a},{background:l})),wc(t,o,"link",{color:s},{color:c})),wc(t,o,"text",{color:s,background:i},{color:c,background:l}))})},{})},qke=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},xT(t,t.solidTextColor,t.colorBgSolid,{color:t.solidTextColor,background:t.colorBgSolidHover},{color:t.solidTextColor,background:t.colorBgSolidActive})),ST(t)),CT(t,t.colorFillTertiary,{background:t.colorFillSecondary},{background:t.colorFill})),yT(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),wc(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Kke=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},wT(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),ST(t)),CT(t,t.colorPrimaryBg,{background:t.colorPrimaryBgHover},{background:t.colorPrimaryBorder})),wc(t,t.colorPrimaryText,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),wc(t,t.colorPrimaryText,"link",{color:t.colorPrimaryTextHover,background:t.linkHoverBg},{color:t.colorPrimaryTextActive})),yT(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),Gke=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},xT(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),wT(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),ST(t)),CT(t,t.colorErrorBg,{background:t.colorErrorBgFilledHover},{background:t.colorErrorBgActive})),wc(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),wc(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),yT(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Yke=t=>Object.assign(Object.assign({},wc(t,t.colorLink,"link",{color:t.colorLinkHover},{color:t.colorLinkActive})),yT(t.componentCls,t.ghostBg,t.colorInfo,t.colorInfo,t.colorTextDisabled,t.colorBorder,{color:t.colorInfoHover,borderColor:t.colorInfoHover},{color:t.colorInfoActive,borderColor:t.colorInfoActive})),Xke=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-color-default`]:qke(t),[`${e}-color-primary`]:Kke(t),[`${e}-color-dangerous`]:Gke(t),[`${e}-color-link`]:Yke(t)},Uke(t))},Qke=t=>Object.assign(Object.assign(Object.assign(Object.assign({},wT(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),wc(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),xT(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),wc(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Sj=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:o,borderRadius:i,buttonPaddingHorizontal:s,iconCls:a,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=t;return[{[e]:{fontSize:o,height:r,padding:`${Ae(l)} ${Ae(s)}`,borderRadius:i,[`&${n}-icon-only`]:{width:r,[a]:{fontSize:c}}}},{[`${n}${n}-circle${e}`]:zke(t)},{[`${n}${n}-round${e}`]:Bke(t)}]},Jke=t=>{const e=Vn(t,{fontSize:t.contentFontSize});return Sj(e,t.componentCls)},Zke=t=>{const e=Vn(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:0,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Sj(e,`${t.componentCls}-sm`)},eDe=t=>{const e=Vn(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:0,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Sj(e,`${t.componentCls}-lg`)},tDe=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},nDe=eo("Button",t=>{const e=cZ(t);return[Fke(e),Jke(e),Zke(e),eDe(e),tDe(e),Xke(e),Qke(e),JRe(e)]},uZ,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function rDe(t,e,n){const{focusElCls:r,focus:o,borderElCls:i}=n,s=i?"> *":"",a=["hover",o?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function oDe(t,e,n){const{borderElCls:r}=n,o=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${o}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${o}, &${t}-sm ${o}, &${t}-lg ${o}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${o}, &${t}-sm ${o}, &${t}-lg ${o}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Cj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},rDe(t,r,e)),oDe(n,r,e))}}function iDe(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function sDe(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function aDe(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},iDe(t,e)),sDe(t.componentCls,e))}}const lDe=t=>{const{componentCls:e,colorPrimaryHover:n,lineWidth:r,calc:o}=t,i=o(r).mul(-1).equal(),s=a=>{const l=`${e}-compact${a?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:a?i:0,insetInlineStart:a?0:i,backgroundColor:n,content:'""',width:a?"100%":r,height:a?r:"100%"}}};return Object.assign(Object.assign({},s()),s(!0))},cDe=cw(["Button","compact"],t=>{const e=cZ(t);return[Cj(e),aDe(e),lDe(e)]},uZ);var uDe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function dDe(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const fDe={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},hDe=oe.forwardRef((t,e)=>{var n,r;const{loading:o=!1,prefixCls:i,color:s,variant:a,type:l,danger:c=!1,shape:u="default",size:d,styles:f,disabled:m,className:g,rootClassName:v,children:y,icon:b,iconPosition:x="start",ghost:w=!1,block:C=!1,htmlType:E="button",classNames:_,style:S={},autoInsertSpace:T,autoFocus:I}=t,P=uDe(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),M=l||"default",[R,k]=h.useMemo(()=>{if(s&&a)return[s,a];const ae=fDe[M]||[];return c?["danger",ae[1]]:ae},[l,s,a,c]),A=R==="danger"?"dangerous":R,{getPrefixCls:N,direction:O,autoInsertSpace:j,className:L,style:z,classNames:V,styles:W}=Rc("button"),Y=(n=T??j)!==null&&n!==void 0?n:!0,U=N("btn",i),[q,K,J]=nDe(U),X=h.useContext(yl),ue=m??X,_e=h.useContext(sZ),Ce=h.useMemo(()=>dDe(o),[o]),[pe,ge]=h.useState(Ce.loading),[F,ce]=h.useState(!1),le=h.useRef(null),Z=Cf(e,le),Q=h.Children.count(y)===1&&!b&&!_R(k),ye=h.useRef(!0);oe.useEffect(()=>(ye.current=!1,()=>{ye.current=!0}),[]),h.useEffect(()=>{let ae=null;Ce.delay>0?ae=setTimeout(()=>{ae=null,ge(!0)},Ce.delay):ge(Ce.loading);function Ee(){ae&&(clearTimeout(ae),ae=null)}return Ee},[Ce]),h.useEffect(()=>{if(!le.current||!Y)return;const ae=le.current.textContent||"";Q&&nM(ae)?F||ce(!0):F&&ce(!1)}),h.useEffect(()=>{I&&le.current&&le.current.focus()},[]);const fe=oe.useCallback(ae=>{var Ee;if(pe||ue){ae.preventDefault();return}(Ee=t.onClick)===null||Ee===void 0||Ee.call(t,("href"in t,ae))},[t.onClick,pe,ue]),{compactSize:ie,compactItemClassnames:re}=$v(U,O),ve={large:"lg",small:"sm",middle:void 0},ee=El(ae=>{var Ee,Le;return(Le=(Ee=d??ie)!==null&&Ee!==void 0?Ee:_e)!==null&&Le!==void 0?Le:ae}),he=ee&&(r=ve[ee])!==null&&r!==void 0?r:"",we=pe?"loading":b,me=ni(P,["navigate"]),ke=Me(U,K,J,{[`${U}-${u}`]:u!=="default"&&u,[`${U}-${M}`]:M,[`${U}-dangerous`]:c,[`${U}-color-${A}`]:A,[`${U}-variant-${k}`]:k,[`${U}-${he}`]:he,[`${U}-icon-only`]:!y&&y!==0&&!!we,[`${U}-background-ghost`]:w&&!_R(k),[`${U}-loading`]:pe,[`${U}-two-chinese-chars`]:F&&Y&&!pe,[`${U}-block`]:C,[`${U}-rtl`]:O==="rtl",[`${U}-icon-end`]:x==="end"},re,g,v,L),Ie=Object.assign(Object.assign({},z),S),Re=Me(_==null?void 0:_.icon,V.icon),$e=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),W.icon||{}),ne=b&&!pe?oe.createElement(rM,{prefixCls:U,className:Re,style:$e},b):o&&typeof o=="object"&&o.icon?oe.createElement(rM,{prefixCls:U,className:Re,style:$e},o.icon):oe.createElement(QRe,{existIcon:!!b,prefixCls:U,loading:pe,mount:ye.current}),xe=y||y===0?XRe(y,Q&&Y):null;if(me.href!==void 0)return q(oe.createElement("a",Object.assign({},me,{className:Me(ke,{[`${U}-disabled`]:ue}),href:ue?void 0:me.href,style:Ie,onClick:fe,ref:Z,tabIndex:ue?-1:0}),ne,xe));let se=oe.createElement("button",Object.assign({},P,{type:E,className:ke,style:Ie,onClick:fe,disabled:ue,ref:Z}),ne,xe,re&&oe.createElement(cDe,{prefixCls:U}));return _R(k)||(se=oe.createElement(pw,{component:"Button",disabled:pe},se)),q(se)}),Va=hDe;Va.Group=GRe;Va.__ANT_BUTTON=!0;function PR(t){return!!(t!=null&&t.then)}const fZ=t=>{const{type:e,children:n,prefixCls:r,buttonProps:o,close:i,autoFocus:s,emitEvent:a,isSilent:l,quitOnNullishReturnValue:c,actionFn:u}=t,d=h.useRef(!1),f=h.useRef(null),[m,g]=Yg(!1),v=function(){i==null||i.apply(void 0,arguments)};h.useEffect(()=>{let x=null;return s&&(x=setTimeout(()=>{var w;(w=f.current)===null||w===void 0||w.focus({preventScroll:!0})})),()=>{x&&clearTimeout(x)}},[]);const y=x=>{PR(x)&&(g(!0),x.then(function(){g(!1,!0),v.apply(void 0,arguments),d.current=!1},w=>{if(g(!1,!0),d.current=!1,!(l!=null&&l()))return Promise.reject(w)}))},b=x=>{if(d.current)return;if(d.current=!0,!u){v();return}let w;if(a){if(w=u(x),c&&!PR(w)){d.current=!1,v(x);return}}else if(u.length)w=u(i),d.current=!1;else if(w=u(),!PR(w)){v();return}y(w)};return h.createElement(Va,Object.assign({},aZ(e),{onClick:b,loading:m,prefixCls:r},o,{ref:f}),n)},mw=oe.createContext({}),{Provider:hZ}=mw,x6=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:r,mergedOkCancel:o,rootPrefixCls:i,close:s,onCancel:a,onConfirm:l}=h.useContext(mw);return o?oe.createElement(fZ,{isSilent:r,actionFn:a,close:function(){s==null||s.apply(void 0,arguments),l==null||l(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:`${i}-btn`},n):null},w6=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:r,rootPrefixCls:o,okTextLocale:i,okType:s,onConfirm:a,onOk:l}=h.useContext(mw);return oe.createElement(fZ,{isSilent:n,type:s||"primary",actionFn:l,close:function(){e==null||e.apply(void 0,arguments),a==null||a(!0)},autoFocus:t==="ok",buttonProps:r,prefixCls:`${o}-btn`},i)};var pZ=h.createContext(null),S6=[];function pDe(t,e){var n=h.useState(function(){if(!Ti())return null;var g=document.createElement("div");return g}),r=Fe(n,1),o=r[0],i=h.useRef(!1),s=h.useContext(pZ),a=h.useState(S6),l=Fe(a,2),c=l[0],u=l[1],d=s||(i.current?void 0:function(g){u(function(v){var y=[g].concat(at(v));return y})});function f(){o.parentElement||document.body.appendChild(o),i.current=!0}function m(){var g;(g=o.parentElement)===null||g===void 0||g.removeChild(o),i.current=!1}return nr(function(){return t?s?s(f):f():m(),m},[t]),nr(function(){c.length&&(c.forEach(function(g){return g()}),u(S6))},[c]),[o,d]}var RR;function mZ(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var o,i;if(t){var s=getComputedStyle(t);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(a.width,10),c=parseInt(a.height,10);try{var u=l?"width: ".concat(a.width,";"):"",d=c?"height: ".concat(a.height,";"):"";fu(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(u,`
`).concat(d,`
}`),e)}catch(g){console.error(g),o=l,i=c}}document.body.appendChild(n);var f=t&&o&&!isNaN(o)?o:n.offsetWidth-n.clientWidth,m=t&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),tx(e),{width:f,height:m}}function C6(t){return typeof document>"u"?0:(RR===void 0&&(RR=mZ()),RR.width)}function iM(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:mZ(t)}function mDe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var gDe="rc-util-locker-".concat(Date.now()),_6=0;function vDe(t){var e=!!t,n=h.useState(function(){return _6+=1,"".concat(gDe,"_").concat(_6)}),r=Fe(n,1),o=r[0];nr(function(){if(e){var i=iM(document.body).width,s=mDe();fu(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(i,"px);"):"",`
}`),o)}else tx(o);return function(){tx(o)}},[e,o])}var yDe=!1;function bDe(t){return yDe}var E6=function(e){return e===!1?!1:!Ti()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},_j=h.forwardRef(function(t,e){var n=t.open,r=t.autoLock,o=t.getContainer;t.debug;var i=t.autoDestroy,s=i===void 0?!0:i,a=t.children,l=h.useState(n),c=Fe(l,2),u=c[0],d=c[1],f=u||n;h.useEffect(function(){(s||n)&&d(n)},[n,s]);var m=h.useState(function(){return E6(o)}),g=Fe(m,2),v=g[0],y=g[1];h.useEffect(function(){var M=E6(o);y(M??null)});var b=pDe(f&&!v),x=Fe(b,2),w=x[0],C=x[1],E=v??w;vDe(r&&n&&Ti()&&(E===w||E===document.body));var _=null;if(a&&bc(a)&&e){var S=a;_=S.ref}var T=Cf(_,e);if(!f||!Ti()||v===void 0)return null;var I=E===!1||bDe(),P=a;return e&&(P=h.cloneElement(a,{ref:T})),h.createElement(pZ.Provider,{value:C},I?P:sa.createPortal(P,E))}),gZ=h.createContext({});function xDe(){var t=Se({},mc);return t.useId}var T6=0,I6=xDe();const _T=I6?function(e){var n=I6();return e||n}:function(e){var n=h.useState("ssr-id"),r=Fe(n,2),o=r[0],i=r[1];return h.useEffect(function(){var s=T6;T6+=1,i("rc_unique_".concat(s))},[]),e||o};function P6(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function R6(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var o=t.document;n=o.documentElement[r],typeof n!="number"&&(n=o.body[r])}return n}function wDe(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,o=r.defaultView||r.parentWindow;return n.left+=R6(o),n.top+=R6(o,!0),n}const SDe=h.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var CDe={width:0,height:0,overflow:"hidden",outline:"none"},_De={outline:"none"},vZ=oe.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,o=t.style,i=t.title,s=t.ariaId,a=t.footer,l=t.closable,c=t.closeIcon,u=t.onClose,d=t.children,f=t.bodyStyle,m=t.bodyProps,g=t.modalRender,v=t.onMouseDown,y=t.onMouseUp,b=t.holderRef,x=t.visible,w=t.forceRender,C=t.width,E=t.height,_=t.classNames,S=t.styles,T=oe.useContext(gZ),I=T.panel,P=Cf(b,I),M=h.useRef(),R=h.useRef();oe.useImperativeHandle(e,function(){return{focus:function(){var W;(W=M.current)===null||W===void 0||W.focus({preventScroll:!0})},changeActive:function(W){var Y=document,U=Y.activeElement;W&&U===R.current?M.current.focus({preventScroll:!0}):!W&&U===M.current&&R.current.focus({preventScroll:!0})}}});var k={};C!==void 0&&(k.width=C),E!==void 0&&(k.height=E);var D=a?oe.createElement("div",{className:Me("".concat(n,"-footer"),_==null?void 0:_.footer),style:Se({},S==null?void 0:S.footer)},a):null,A=i?oe.createElement("div",{className:Me("".concat(n,"-header"),_==null?void 0:_.header),style:Se({},S==null?void 0:S.header)},oe.createElement("div",{className:"".concat(n,"-title"),id:s},i)):null,N=h.useMemo(function(){return At(l)==="object"&&l!==null?l:l?{closeIcon:c??oe.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,c,n]),O=us(N,!0),j=At(l)==="object"&&l.disabled,L=l?oe.createElement("button",B({type:"button",onClick:u,"aria-label":"Close"},O,{className:"".concat(n,"-close"),disabled:j}),N.closeIcon):null,z=oe.createElement("div",{className:Me("".concat(n,"-content"),_==null?void 0:_.content),style:S==null?void 0:S.content},L,A,oe.createElement("div",B({className:Me("".concat(n,"-body"),_==null?void 0:_.body),style:Se(Se({},f),S==null?void 0:S.body)},m),d),D);return oe.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?s:null,"aria-modal":"true",ref:P,style:Se(Se({},o),k),className:Me(n,r),onMouseDown:v,onMouseUp:y},oe.createElement("div",{ref:M,tabIndex:0,style:_De},oe.createElement(SDe,{shouldUpdate:x||w},g?g(z):z)),oe.createElement("div",{tabIndex:0,ref:R,style:CDe}))}),yZ=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,o=t.style,i=t.className,s=t.visible,a=t.forceRender,l=t.destroyOnClose,c=t.motionName,u=t.ariaId,d=t.onVisibleChanged,f=t.mousePosition,m=h.useRef(),g=h.useState(),v=Fe(g,2),y=v[0],b=v[1],x={};y&&(x.transformOrigin=y);function w(){var C=wDe(m.current);b(f&&(f.x||f.y)?"".concat(f.x-C.left,"px ").concat(f.y-C.top,"px"):"")}return h.createElement(Mu,{visible:s,onVisibleChanged:d,onAppearPrepare:w,onEnterPrepare:w,forceRender:a,motionName:c,removeOnLeave:l,ref:m},function(C,E){var _=C.className,S=C.style;return h.createElement(vZ,B({},t,{ref:e,title:r,ariaId:u,prefixCls:n,holderRef:E,style:Se(Se(Se({},S),o),x),className:Me(i,_)}))})});yZ.displayName="Content";var EDe=function(e){var n=e.prefixCls,r=e.style,o=e.visible,i=e.maskProps,s=e.motionName,a=e.className;return h.createElement(Mu,{key:"mask",visible:o,motionName:s,leavedClassName:"".concat(n,"-mask-hidden")},function(l,c){var u=l.className,d=l.style;return h.createElement("div",B({ref:c,style:Se(Se({},d),r),className:Me("".concat(n,"-mask"),u,a)},i))})},TDe=function(e){var n=e.prefixCls,r=n===void 0?"rc-dialog":n,o=e.zIndex,i=e.visible,s=i===void 0?!1:i,a=e.keyboard,l=a===void 0?!0:a,c=e.focusTriggerAfterClose,u=c===void 0?!0:c,d=e.wrapStyle,f=e.wrapClassName,m=e.wrapProps,g=e.onClose,v=e.afterOpenChange,y=e.afterClose,b=e.transitionName,x=e.animation,w=e.closable,C=w===void 0?!0:w,E=e.mask,_=E===void 0?!0:E,S=e.maskTransitionName,T=e.maskAnimation,I=e.maskClosable,P=I===void 0?!0:I,M=e.maskStyle,R=e.maskProps,k=e.rootClassName,D=e.classNames,A=e.styles,N=h.useRef(),O=h.useRef(),j=h.useRef(),L=h.useState(s),z=Fe(L,2),V=z[0],W=z[1],Y=_T();function U(){T$(O.current,document.activeElement)||(N.current=document.activeElement)}function q(){if(!T$(O.current,document.activeElement)){var ce;(ce=j.current)===null||ce===void 0||ce.focus()}}function K(ce){if(ce)q();else{if(W(!1),_&&N.current&&u){try{N.current.focus({preventScroll:!0})}catch{}N.current=null}V&&(y==null||y())}v==null||v(ce)}function J(ce){g==null||g(ce)}var X=h.useRef(!1),ue=h.useRef(),_e=function(){clearTimeout(ue.current),X.current=!0},Ce=function(){ue.current=setTimeout(function(){X.current=!1})},pe=null;P&&(pe=function(le){X.current?X.current=!1:O.current===le.target&&J(le)});function ge(ce){if(l&&ce.keyCode===$t.ESC){ce.stopPropagation(),J(ce);return}s&&ce.keyCode===$t.TAB&&j.current.changeActive(!ce.shiftKey)}h.useEffect(function(){s&&(W(!0),U())},[s]),h.useEffect(function(){return function(){clearTimeout(ue.current)}},[]);var F=Se(Se(Se({zIndex:o},d),A==null?void 0:A.wrapper),{},{display:V?null:"none"});return h.createElement("div",B({className:Me("".concat(r,"-root"),k)},us(e,{data:!0})),h.createElement(EDe,{prefixCls:r,visible:_&&s,motionName:P6(r,S,T),style:Se(Se({zIndex:o},M),A==null?void 0:A.mask),maskProps:R,className:D==null?void 0:D.mask}),h.createElement("div",B({tabIndex:-1,onKeyDown:ge,className:Me("".concat(r,"-wrap"),f,D==null?void 0:D.wrapper),ref:O,onClick:pe,style:F},m),h.createElement(yZ,B({},e,{onMouseDown:_e,onMouseUp:Ce,ref:j,closable:C,ariaId:Y,prefixCls:r,visible:s&&V,onClose:J,onVisibleChanged:K,motionName:P6(r,b,x)}))))},bZ=function(e){var n=e.visible,r=e.getContainer,o=e.forceRender,i=e.destroyOnClose,s=i===void 0?!1:i,a=e.afterClose,l=e.panelRef,c=h.useState(n),u=Fe(c,2),d=u[0],f=u[1],m=h.useMemo(function(){return{panel:l}},[l]);return h.useEffect(function(){n&&f(!0)},[n]),!o&&s&&!d?null:h.createElement(gZ.Provider,{value:m},h.createElement(_j,{open:n||o||d,autoDestroy:!1,getContainer:r,autoLock:n||d},h.createElement(TDe,B({},e,{destroyOnClose:s,afterClose:function(){a==null||a(),f(!1)}}))))};bZ.displayName="Dialog";var lh="RC_FORM_INTERNAL_HOOKS",Rr=function(){Jr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Jg=h.createContext({getFieldValue:Rr,getFieldsValue:Rr,getFieldError:Rr,getFieldWarning:Rr,getFieldsError:Rr,isFieldsTouched:Rr,isFieldTouched:Rr,isFieldValidating:Rr,isFieldsValidating:Rr,resetFields:Rr,setFields:Rr,setFieldValue:Rr,setFieldsValue:Rr,validateFields:Rr,submit:Rr,getInternalHooks:function(){return Rr(),{dispatch:Rr,initEntityValue:Rr,registerField:Rr,useSubscribe:Rr,setInitialValues:Rr,destroyForm:Rr,setCallbacks:Rr,registerWatch:Rr,getFields:Rr,setValidateMessages:Rr,setPreserve:Rr,getInitialValue:Rr}}}),oE=h.createContext(null);function sM(t){return t==null?[]:Array.isArray(t)?t:[t]}function IDe(t){return t&&!!t._init}function aM(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var lM=aM();function PDe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function RDe(t,e,n){if(sj())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&Wg(o,n.prototype),o}function cM(t){var e=typeof Map=="function"?new Map:void 0;return cM=function(r){if(r===null||!PDe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return RDe(r,arguments,Zb(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Wg(o,r)},cM(t)}var kDe=/%[sdj%]/g,DDe=function(){};function uM(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Zs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,i=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(kDe,function(a){if(a==="%%")return"%";if(o>=i)return a;switch(a){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function $De(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function ei(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||$De(e)&&typeof t=="string"&&!t)}function MDe(t,e,n){var r=[],o=0,i=t.length;function s(a){r.push.apply(r,at(a||[])),o++,o===i&&n(r)}t.forEach(function(a){e(a,s)})}function k6(t,e,n){var r=0,o=t.length;function i(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<o?e(t[a],i):n([])}i([])}function ODe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,at(t[n]||[]))}),e}var D6=function(t){Sn(n,t);var e=Cn(n);function n(r,o){var i;return on(this,n),i=e.call(this,"Async Validation Error"),te(et(i),"errors",void 0),te(et(i),"fields",void 0),i.errors=r,i.fields=o,i}return sn(n)}(cM(Error));function ADe(t,e,n,r,o){if(e.first){var i=new Promise(function(f,m){var g=function(b){return r(b),b.length?m(new D6(b,uM(b))):f(o)},v=ODe(t);k6(v,n,g)});return i.catch(function(f){return f}),i}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],d=new Promise(function(f,m){var g=function(y){if(u.push.apply(u,y),c++,c===l)return r(u),u.length?m(new D6(u,uM(u))):f(o)};a.length||(r(u),f(o)),a.forEach(function(v){var y=t[v];s.indexOf(v)!==-1?k6(y,n,g):MDe(y,n,g)})});return d.catch(function(f){return f}),d}function NDe(t){return!!(t&&t.message!==void 0)}function jDe(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function $6(t,e){return function(n){var r;return t.fullFields?r=jDe(e,t.fullFields):r=e[n.field||t.fullField],NDe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function M6(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];At(r)==="object"&&At(t[n])==="object"?t[n]=Se(Se({},t[n]),r):t[n]=r}}return t}var zp="enum",LDe=function(e,n,r,o,i){e[zp]=Array.isArray(e[zp])?e[zp]:[],e[zp].indexOf(n)===-1&&o.push(Zs(i.messages[zp],e.fullField,e[zp].join(", ")))},FDe=function(e,n,r,o,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||o.push(Zs(i.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||o.push(Zs(i.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},zDe=function(e,n,r,o,i){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",m=typeof n=="string",g=Array.isArray(n);if(f?d="number":m?d="string":g&&(d="array"),!d)return!1;g&&(u=n.length),m&&(u=n.replace(c,"_").length),s?u!==e.len&&o.push(Zs(i.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?o.push(Zs(i.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?o.push(Zs(i.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&o.push(Zs(i.messages[d].range,e.fullField,e.min,e.max))},xZ=function(e,n,r,o,i,s){e.required&&(!r.hasOwnProperty(e.field)||ei(n,s||e.type))&&o.push(Zs(i.messages.required,e.fullField))},Q1;const BDe=function(){if(Q1)return Q1;var t="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(o.join("|"),")").concat(i),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(s,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(s,"$")),u=function(_){return _&&_.exact?a:new RegExp("(?:".concat(e(_)).concat(n).concat(e(_),")|(?:").concat(e(_)).concat(s).concat(e(_),")"),"g")};u.v4=function(E){return E&&E.exact?l:new RegExp("".concat(e(E)).concat(n).concat(e(E)),"g")},u.v6=function(E){return E&&E.exact?c:new RegExp("".concat(e(E)).concat(s).concat(e(E)),"g")};var d="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",m=u.v4().source,g=u.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",x="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',C="(?:".concat(d,"|www\\.)").concat(f,"(?:localhost|").concat(m,"|").concat(g,"|").concat(v).concat(y).concat(b,")").concat(x).concat(w);return Q1=new RegExp("(?:^".concat(C,"$)"),"i"),Q1};var O6={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},y0={integer:function(e){return y0.number(e)&&parseInt(e,10)===e},float:function(e){return y0.number(e)&&!y0.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return At(e)==="object"&&!y0.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(O6.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(BDe())},hex:function(e){return typeof e=="string"&&!!e.match(O6.hex)}},VDe=function(e,n,r,o,i){if(e.required&&n===void 0){xZ(e,n,r,o,i);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?y0[a](n)||o.push(Zs(i.messages.types[a],e.fullField,e.type)):a&&At(n)!==e.type&&o.push(Zs(i.messages.types[a],e.fullField,e.type))},HDe=function(e,n,r,o,i){(/^\s+$/.test(n)||n==="")&&o.push(Zs(i.messages.whitespace,e.fullField))};const zn={required:xZ,whitespace:HDe,type:VDe,range:zDe,enum:LDe,pattern:FDe};var WDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i)}r(s)},UDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();zn.required(e,n,o,s,i,"array"),n!=null&&(zn.type(e,n,o,s,i),zn.range(e,n,o,s,i))}r(s)},qDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),n!==void 0&&zn.type(e,n,o,s,i)}r(s)},KDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n,"date")&&!e.required)return r();if(zn.required(e,n,o,s,i),!ei(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),zn.type(e,l,o,s,i),l&&zn.range(e,l.getTime(),o,s,i)}}r(s)},GDe="enum",YDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),n!==void 0&&zn[GDe](e,n,o,s,i)}r(s)},XDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),n!==void 0&&(zn.type(e,n,o,s,i),zn.range(e,n,o,s,i))}r(s)},QDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),n!==void 0&&(zn.type(e,n,o,s,i),zn.range(e,n,o,s,i))}r(s)},JDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),n!==void 0&&zn.type(e,n,o,s,i)}r(s)},ZDe=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),n!==void 0&&(zn.type(e,n,o,s,i),zn.range(e,n,o,s,i))}r(s)},e$e=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),n!==void 0&&zn.type(e,n,o,s,i)}r(s)},t$e=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n,"string")&&!e.required)return r();zn.required(e,n,o,s,i),ei(n,"string")||zn.pattern(e,n,o,s,i)}r(s)},n$e=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n)&&!e.required)return r();zn.required(e,n,o,s,i),ei(n)||zn.type(e,n,o,s,i)}r(s)},r$e=function(e,n,r,o,i){var s=[],a=Array.isArray(n)?"array":At(n);zn.required(e,n,o,s,i,a),r(s)},o$e=function(e,n,r,o,i){var s=[],a=e.required||!e.required&&o.hasOwnProperty(e.field);if(a){if(ei(n,"string")&&!e.required)return r();zn.required(e,n,o,s,i,"string"),ei(n,"string")||(zn.type(e,n,o,s,i),zn.range(e,n,o,s,i),zn.pattern(e,n,o,s,i),e.whitespace===!0&&zn.whitespace(e,n,o,s,i))}r(s)},kR=function(e,n,r,o,i){var s=e.type,a=[],l=e.required||!e.required&&o.hasOwnProperty(e.field);if(l){if(ei(n,s)&&!e.required)return r();zn.required(e,n,o,a,i,s),ei(n,s)||zn.type(e,n,o,a,i)}r(a)};const U0={string:o$e,method:JDe,number:ZDe,boolean:qDe,regexp:n$e,integer:QDe,float:XDe,array:UDe,object:e$e,enum:YDe,pattern:t$e,date:KDe,url:kR,hex:kR,email:kR,required:r$e,any:WDe};var gw=function(){function t(e){on(this,t),te(this,"rules",null),te(this,"_messages",lM),this.define(e)}return sn(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(At(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(o){var i=n[o];r.rules[o]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(n){return n&&(this._messages=M6(aM(),n)),this._messages}},{key:"validate",value:function(n){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=n,a=o,l=i;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function c(g){var v=[],y={};function b(w){if(Array.isArray(w)){var C;v=(C=v).concat.apply(C,at(w))}else v.push(w)}for(var x=0;x<g.length;x++)b(g[x]);v.length?(y=uM(v),l(v,y)):l(null,s)}if(a.messages){var u=this.messages();u===lM&&(u=aM()),M6(u,a.messages),a.messages=u}else a.messages=this.messages();var d={},f=a.keys||Object.keys(this.rules);f.forEach(function(g){var v=r.rules[g],y=s[g];v.forEach(function(b){var x=b;typeof x.transform=="function"&&(s===n&&(s=Se({},s)),y=s[g]=x.transform(y),y!=null&&(x.type=x.type||(Array.isArray(y)?"array":At(y)))),typeof x=="function"?x={validator:x}:x=Se({},x),x.validator=r.getValidationMethod(x),x.validator&&(x.field=g,x.fullField=x.fullField||g,x.type=r.getType(x),d[g]=d[g]||[],d[g].push({rule:x,value:y,source:s,field:g}))})});var m={};return ADe(d,a,function(g,v){var y=g.rule,b=(y.type==="object"||y.type==="array")&&(At(y.fields)==="object"||At(y.defaultField)==="object");b=b&&(y.required||!y.required&&g.value),y.field=g.field;function x(S,T){return Se(Se({},T),{},{fullField:"".concat(y.fullField,".").concat(S),fullFields:y.fullFields?[].concat(at(y.fullFields),[S]):[S]})}function w(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=Array.isArray(S)?S:[S];!a.suppressWarning&&T.length&&t.warning("async-validator:",T),T.length&&y.message!==void 0&&(T=[].concat(y.message));var I=T.map($6(y,s));if(a.first&&I.length)return m[y.field]=1,v(I);if(!b)v(I);else{if(y.required&&!g.value)return y.message!==void 0?I=[].concat(y.message).map($6(y,s)):a.error&&(I=[a.error(y,Zs(a.messages.required,y.field))]),v(I);var P={};y.defaultField&&Object.keys(g.value).map(function(k){P[k]=y.defaultField}),P=Se(Se({},P),g.rule.fields);var M={};Object.keys(P).forEach(function(k){var D=P[k],A=Array.isArray(D)?D:[D];M[k]=A.map(x.bind(null,k))});var R=new t(M);R.messages(a.messages),g.rule.options&&(g.rule.options.messages=a.messages,g.rule.options.error=a.error),R.validate(g.value,g.rule.options||a,function(k){var D=[];I&&I.length&&D.push.apply(D,at(I)),k&&k.length&&D.push.apply(D,at(k)),v(D.length?D:null)})}}var C;if(y.asyncValidator)C=y.asyncValidator(y,g.value,w,g.source,a);else if(y.validator){try{C=y.validator(y,g.value,w,g.source,a)}catch(S){var E,_;(E=(_=console).error)===null||E===void 0||E.call(_,S),a.suppressValidatorError||setTimeout(function(){throw S},0),w(S.message)}C===!0?w():C===!1?w(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||"".concat(y.fullField||y.field," fails")):C instanceof Array?w(C):C instanceof Error&&w(C.message)}C&&C.then&&C.then(function(){return w()},function(S){return w(S)})},function(g){c(g)},s)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!U0.hasOwnProperty(n.type))throw new Error(Zs("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),o=r.indexOf("message");return o!==-1&&r.splice(o,1),r.length===1&&r[0]==="required"?U0.required:U0[this.getType(n)]||void 0}}]),t}();te(gw,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");U0[e]=n});te(gw,"warning",DDe);te(gw,"messages",lM);te(gw,"validators",U0);var Vs="'${name}' is not a valid ${type}",wZ={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Vs,method:Vs,array:Vs,object:Vs,number:Vs,date:Vs,boolean:Vs,integer:Vs,float:Vs,regexp:Vs,email:Vs,url:Vs,hex:Vs},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},A6=gw;function i$e(t,e){return t.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return e[r]})}var N6="CODE_LOGIC_ERROR";function dM(t,e,n,r,o){return fM.apply(this,arguments)}function fM(){return fM=xp(ds().mark(function t(e,n,r,o,i){var s,a,l,c,u,d,f,m,g;return ds().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return s=Se({},r),delete s.ruleIndex,A6.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(b){return console.error(b),Promise.reject(N6)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new A6(te({},e,[s])),u=Mm(wZ,o.validateMessages),c.messages(u),d=[],y.prev=10,y.next=13,Promise.resolve(c.validate(te({},e,n),Se({},o)));case 13:y.next=18;break;case 15:y.prev=15,y.t0=y.catch(10),y.t0.errors&&(d=y.t0.errors.map(function(b,x){var w=b.message,C=w===N6?u.default:w;return h.isValidElement(C)?h.cloneElement(C,{key:"error_".concat(x)}):C}));case 18:if(!(!d.length&&l)){y.next=23;break}return y.next=21,Promise.all(n.map(function(b,x){return dM("".concat(e,".").concat(x),b,l,o,i)}));case 21:return f=y.sent,y.abrupt("return",f.reduce(function(b,x){return[].concat(at(b),at(x))},[]));case 23:return m=Se(Se({},r),{},{name:e,enum:(r.enum||[]).join(", ")},i),g=d.map(function(b){return typeof b=="string"?i$e(b,m):b}),y.abrupt("return",g);case 26:case"end":return y.stop()}},t,null,[[10,15]])})),fM.apply(this,arguments)}function s$e(t,e,n,r,o,i){var s=t.join("."),a=n.map(function(u,d){var f=u.validator,m=Se(Se({},u),{},{ruleIndex:d});return f&&(m.validator=function(g,v,y){var b=!1,x=function(){for(var E=arguments.length,_=new Array(E),S=0;S<E;S++)_[S]=arguments[S];Promise.resolve().then(function(){Jr(!b,"Your validator function has already return a promise. `callback` will be ignored."),b||y.apply(void 0,_)})},w=f(g,v,x);b=w&&typeof w.then=="function"&&typeof w.catch=="function",Jr(b,"`callback` is deprecated. Please return a promise instead."),b&&w.then(function(){y()}).catch(function(C){y(C||" ")})}),m}).sort(function(u,d){var f=u.warningOnly,m=u.ruleIndex,g=d.warningOnly,v=d.ruleIndex;return!!f==!!g?m-v:f?1:-1}),l;if(o===!0)l=new Promise(function(){var u=xp(ds().mark(function d(f,m){var g,v,y;return ds().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:g=0;case 1:if(!(g<a.length)){x.next=12;break}return v=a[g],x.next=5,dM(s,e,v,r,i);case 5:if(y=x.sent,!y.length){x.next=9;break}return m([{errors:y,rule:v}]),x.abrupt("return");case 9:g+=1,x.next=1;break;case 12:f([]);case 13:case"end":return x.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return dM(s,e,u,r,i).then(function(d){return{errors:d,rule:u}})});l=(o?l$e(c):a$e(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function a$e(t){return hM.apply(this,arguments)}function hM(){return hM=xp(ds().mark(function t(e){return ds().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(o){var i,s=(i=[]).concat.apply(i,at(o));return s}));case 1:case"end":return r.stop()}},t)})),hM.apply(this,arguments)}function l$e(t){return pM.apply(this,arguments)}function pM(){return pM=xp(ds().mark(function t(e){var n;return ds().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=0,o.abrupt("return",new Promise(function(i){e.forEach(function(s){s.then(function(a){a.errors.length&&i([a]),n+=1,n===e.length&&i([])})})}));case 2:case"end":return o.stop()}},t)})),pM.apply(this,arguments)}function Io(t){return sM(t)}function j6(t,e){var n={};return e.forEach(function(r){var o=Js(t,r);n=ol(n,r,o)}),n}function lg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return SZ(e,r,n)})}function SZ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,o){return t[o]===r})}function c$e(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||At(t)!=="object"||At(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),o=new Set([].concat(n,r));return at(o).every(function(i){var s=t[i],a=e[i];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function u$e(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&At(e.target)==="object"&&t in e.target?e.target[t]:e}function L6(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var o=t[e],i=e-n;return i>0?[].concat(at(t.slice(0,n)),[o],at(t.slice(n,e)),at(t.slice(e+1,r))):i<0?[].concat(at(t.slice(0,e)),at(t.slice(e+1,n+1)),[o],at(t.slice(n+1,r))):t}var d$e=["name"],ya=[];function DR(t,e,n,r,o,i){return typeof t=="function"?t(e,n,"source"in i?{source:i.source}:{}):r!==o}var Ej=function(t){Sn(n,t);var e=Cn(n);function n(r){var o;if(on(this,n),o=e.call(this,r),te(et(o),"state",{resetCount:0}),te(et(o),"cancelRegisterFunc",null),te(et(o),"mounted",!1),te(et(o),"touched",!1),te(et(o),"dirty",!1),te(et(o),"validatePromise",void 0),te(et(o),"prevValidating",void 0),te(et(o),"errors",ya),te(et(o),"warnings",ya),te(et(o),"cancelRegister",function(){var l=o.props,c=l.preserve,u=l.isListField,d=l.name;o.cancelRegisterFunc&&o.cancelRegisterFunc(u,c,Io(d)),o.cancelRegisterFunc=null}),te(et(o),"getNamePath",function(){var l=o.props,c=l.name,u=l.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(at(f),at(c)):[]}),te(et(o),"getRules",function(){var l=o.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),te(et(o),"refresh",function(){o.mounted&&o.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),te(et(o),"metaCache",null),te(et(o),"triggerMetaEvent",function(l){var c=o.props.onMetaChange;if(c){var u=Se(Se({},o.getMeta()),{},{destroy:l});xc(o.metaCache,u)||c(u),o.metaCache=u}else o.metaCache=null}),te(et(o),"onStoreChange",function(l,c,u){var d=o.props,f=d.shouldUpdate,m=d.dependencies,g=m===void 0?[]:m,v=d.onReset,y=u.store,b=o.getNamePath(),x=o.getValue(l),w=o.getValue(y),C=c&&lg(c,b);switch(u.type==="valueUpdate"&&u.source==="external"&&!xc(x,w)&&(o.touched=!0,o.dirty=!0,o.validatePromise=null,o.errors=ya,o.warnings=ya,o.triggerMetaEvent()),u.type){case"reset":if(!c||C){o.touched=!1,o.dirty=!1,o.validatePromise=void 0,o.errors=ya,o.warnings=ya,o.triggerMetaEvent(),v==null||v(),o.refresh();return}break;case"remove":{if(f&&DR(f,l,y,x,w,u)){o.reRender();return}break}case"setField":{var E=u.data;if(C){"touched"in E&&(o.touched=E.touched),"validating"in E&&!("originRCField"in E)&&(o.validatePromise=E.validating?Promise.resolve([]):null),"errors"in E&&(o.errors=E.errors||ya),"warnings"in E&&(o.warnings=E.warnings||ya),o.dirty=!0,o.triggerMetaEvent(),o.reRender();return}else if("value"in E&&lg(c,b,!0)){o.reRender();return}if(f&&!b.length&&DR(f,l,y,x,w,u)){o.reRender();return}break}case"dependenciesUpdate":{var _=g.map(Io);if(_.some(function(S){return lg(u.relatedFields,S)})){o.reRender();return}break}default:if(C||(!g.length||b.length||f)&&DR(f,l,y,x,w,u)){o.reRender();return}break}f===!0&&o.reRender()}),te(et(o),"validateRules",function(l){var c=o.getNamePath(),u=o.getValue(),d=l||{},f=d.triggerName,m=d.validateOnly,g=m===void 0?!1:m,v=Promise.resolve().then(xp(ds().mark(function y(){var b,x,w,C,E,_,S;return ds().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(o.mounted){I.next=2;break}return I.abrupt("return",[]);case 2:if(b=o.props,x=b.validateFirst,w=x===void 0?!1:x,C=b.messageVariables,E=b.validateDebounce,_=o.getRules(),f&&(_=_.filter(function(P){return P}).filter(function(P){var M=P.validateTrigger;if(!M)return!0;var R=sM(M);return R.includes(f)})),!(E&&f)){I.next=10;break}return I.next=8,new Promise(function(P){setTimeout(P,E)});case 8:if(o.validatePromise===v){I.next=10;break}return I.abrupt("return",[]);case 10:return S=s$e(c,u,_,l,w,C),S.catch(function(P){return P}).then(function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ya;if(o.validatePromise===v){var M;o.validatePromise=null;var R=[],k=[];(M=P.forEach)===null||M===void 0||M.call(P,function(D){var A=D.rule.warningOnly,N=D.errors,O=N===void 0?ya:N;A?k.push.apply(k,at(O)):R.push.apply(R,at(O))}),o.errors=R,o.warnings=k,o.triggerMetaEvent(),o.reRender()}}),I.abrupt("return",S);case 13:case"end":return I.stop()}},y)})));return g||(o.validatePromise=v,o.dirty=!0,o.errors=ya,o.warnings=ya,o.triggerMetaEvent(),o.reRender()),v}),te(et(o),"isFieldValidating",function(){return!!o.validatePromise}),te(et(o),"isFieldTouched",function(){return o.touched}),te(et(o),"isFieldDirty",function(){if(o.dirty||o.props.initialValue!==void 0)return!0;var l=o.props.fieldContext,c=l.getInternalHooks(lh),u=c.getInitialValue;return u(o.getNamePath())!==void 0}),te(et(o),"getErrors",function(){return o.errors}),te(et(o),"getWarnings",function(){return o.warnings}),te(et(o),"isListField",function(){return o.props.isListField}),te(et(o),"isList",function(){return o.props.isList}),te(et(o),"isPreserve",function(){return o.props.preserve}),te(et(o),"getMeta",function(){o.prevValidating=o.isFieldValidating();var l={touched:o.isFieldTouched(),validating:o.prevValidating,errors:o.errors,warnings:o.warnings,name:o.getNamePath(),validated:o.validatePromise===null};return l}),te(et(o),"getOnlyChild",function(l){if(typeof l=="function"){var c=o.getMeta();return Se(Se({},o.getOnlyChild(l(o.getControlled(),c,o.props.fieldContext))),{},{isFunction:!0})}var u=vl(l);return u.length!==1||!h.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),te(et(o),"getValue",function(l){var c=o.props.fieldContext.getFieldsValue,u=o.getNamePath();return Js(l||c(!0),u)}),te(et(o),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=o.props,u=c.name,d=c.trigger,f=c.validateTrigger,m=c.getValueFromEvent,g=c.normalize,v=c.valuePropName,y=c.getValueProps,b=c.fieldContext,x=f!==void 0?f:b.validateTrigger,w=o.getNamePath(),C=b.getInternalHooks,E=b.getFieldsValue,_=C(lh),S=_.dispatch,T=o.getValue(),I=y||function(D){return te({},v,D)},P=l[d],M=u!==void 0?I(T):{},R=Se(Se({},l),M);R[d]=function(){o.touched=!0,o.dirty=!0,o.triggerMetaEvent();for(var D,A=arguments.length,N=new Array(A),O=0;O<A;O++)N[O]=arguments[O];m?D=m.apply(void 0,N):D=u$e.apply(void 0,[v].concat(N)),g&&(D=g(D,T,E(!0))),D!==T&&S({type:"updateValue",namePath:w,value:D}),P&&P.apply(void 0,N)};var k=sM(x||[]);return k.forEach(function(D){var A=R[D];R[D]=function(){A&&A.apply(void 0,arguments);var N=o.props.rules;N&&N.length&&S({type:"validateField",namePath:w,triggerName:D})}}),R}),r.fieldContext){var i=r.fieldContext.getInternalHooks,s=i(lh),a=s.initEntityValue;a(et(o))}return o}return sn(n,[{key:"componentDidMount",value:function(){var o=this.props,i=o.shouldUpdate,s=o.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(lh),c=l.registerField;this.cancelRegisterFunc=c(this)}i===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var o=this.state.resetCount,i=this.props.children,s=this.getOnlyChild(i),a=s.child,l=s.isFunction,c;return l?c=a:h.isValidElement(a)?c=h.cloneElement(a,this.getControlled(a.props)):(Jr(!a,"`children` of Field is not validate ReactElement."),c=a),h.createElement(h.Fragment,{key:o},c)}}]),n}(h.Component);te(Ej,"contextType",Jg);te(Ej,"defaultProps",{trigger:"onChange",valuePropName:"value"});function CZ(t){var e,n=t.name,r=cn(t,d$e),o=h.useContext(Jg),i=h.useContext(oE),s=n!==void 0?Io(n):void 0,a=(e=r.isListField)!==null&&e!==void 0?e:!!i,l="keep";return a||(l="_".concat((s||[]).join("_"))),h.createElement(Ej,B({key:l,name:s,isListField:a},r,{fieldContext:o}))}function f$e(t){var e=t.name,n=t.initialValue,r=t.children,o=t.rules,i=t.validateTrigger,s=t.isListField,a=h.useContext(Jg),l=h.useContext(oE),c=h.useRef({keys:[],id:0}),u=c.current,d=h.useMemo(function(){var v=Io(a.prefixName)||[];return[].concat(at(v),at(Io(e)))},[a.prefixName,e]),f=h.useMemo(function(){return Se(Se({},a),{},{prefixName:d})},[a,d]),m=h.useMemo(function(){return{getKey:function(y){var b=d.length,x=y[b];return[u.keys[x],y.slice(b+1)]}}},[d]);if(typeof r!="function")return Jr(!1,"Form.List only accepts function as children."),null;var g=function(y,b,x){var w=x.source;return w==="internal"?!1:y!==b};return h.createElement(oE.Provider,{value:m},h.createElement(Jg.Provider,{value:f},h.createElement(CZ,{name:[],shouldUpdate:g,rules:o,validateTrigger:i,initialValue:n,isList:!0,isListField:s??!!l},function(v,y){var b=v.value,x=b===void 0?[]:b,w=v.onChange,C=a.getFieldValue,E=function(){var I=C(d||[]);return I||[]},_={add:function(I,P){var M=E();P>=0&&P<=M.length?(u.keys=[].concat(at(u.keys.slice(0,P)),[u.id],at(u.keys.slice(P))),w([].concat(at(M.slice(0,P)),[I],at(M.slice(P))))):(u.keys=[].concat(at(u.keys),[u.id]),w([].concat(at(M),[I]))),u.id+=1},remove:function(I){var P=E(),M=new Set(Array.isArray(I)?I:[I]);M.size<=0||(u.keys=u.keys.filter(function(R,k){return!M.has(k)}),w(P.filter(function(R,k){return!M.has(k)})))},move:function(I,P){if(I!==P){var M=E();I<0||I>=M.length||P<0||P>=M.length||(u.keys=L6(u.keys,I,P),w(L6(M,I,P)))}}},S=x||[];return Array.isArray(S)||(S=[]),r(S.map(function(T,I){var P=u.keys[I];return P===void 0&&(u.keys[I]=u.id,P=u.keys[I],u.id+=1),{name:I,key:P,isListField:!0}}),_,y)})))}function h$e(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(o,i){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&i(r),o(r))})})}):Promise.resolve([])}var _Z="__@field_split__";function $R(t){return t.map(function(e){return"".concat(At(e),":").concat(e)}).join(_Z)}var Bp=function(){function t(){on(this,t),te(this,"kvs",new Map)}return sn(t,[{key:"set",value:function(n,r){this.kvs.set($R(n),r)}},{key:"get",value:function(n){return this.kvs.get($R(n))}},{key:"update",value:function(n,r){var o=this.get(n),i=r(o);i?this.set(n,i):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete($R(n))}},{key:"map",value:function(n){return at(this.kvs.entries()).map(function(r){var o=Fe(r,2),i=o[0],s=o[1],a=i.split(_Z);return n({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=Fe(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var o=r.key,i=r.value;return n[o.join(".")]=i,null}),n}}]),t}(),p$e=["name"],m$e=sn(function t(e){var n=this;on(this,t),te(this,"formHooked",!1),te(this,"forceRootUpdate",void 0),te(this,"subscribable",!0),te(this,"store",{}),te(this,"fieldEntities",[]),te(this,"initialValues",{}),te(this,"callbacks",{}),te(this,"validateMessages",null),te(this,"preserve",null),te(this,"lastValidatePromise",null),te(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),te(this,"getInternalHooks",function(r){return r===lh?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Jr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),te(this,"useSubscribe",function(r){n.subscribable=r}),te(this,"prevWithoutPreserves",null),te(this,"setInitialValues",function(r,o){if(n.initialValues=r||{},o){var i,s=Mm(r,n.store);(i=n.prevWithoutPreserves)===null||i===void 0||i.map(function(a){var l=a.key;s=ol(s,l,Js(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),te(this,"destroyForm",function(r){if(r)n.updateStore({});else{var o=new Bp;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||o.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=o}}),te(this,"getInitialValue",function(r){var o=Js(n.initialValues,r);return r.length?Mm(o):o}),te(this,"setCallbacks",function(r){n.callbacks=r}),te(this,"setValidateMessages",function(r){n.validateMessages=r}),te(this,"setPreserve",function(r){n.preserve=r}),te(this,"watchList",[]),te(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(o){return o!==r})}}),te(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var o=n.getFieldsValue(),i=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(o,i,r)})}}),te(this,"timeoutId",null),te(this,"warningUnhooked",function(){}),te(this,"updateStore",function(r){n.store=r}),te(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(o){return o.getNamePath().length}):n.fieldEntities}),te(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=new Bp;return n.getFieldEntities(r).forEach(function(i){var s=i.getNamePath();o.set(s,i)}),o}),te(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var o=n.getFieldsMap(!0);return r.map(function(i){var s=Io(i);return o.get(s)||{INVALIDATE_NAME_PATH:Io(i)}})}),te(this,"getFieldsValue",function(r,o){n.warningUnhooked();var i,s,a;if(r===!0||Array.isArray(r)?(i=r,s=o):r&&At(r)==="object"&&(a=r.strict,s=r.filter),i===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),c=[];return l.forEach(function(u){var d,f,m="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(a){var g,v;if((g=(v=u).isList)!==null&&g!==void 0&&g.call(v))return}else if(!i&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!s)c.push(m);else{var y="getMeta"in u?u.getMeta():null;s(y)&&c.push(m)}}),j6(n.store,c.map(Io))}),te(this,"getFieldValue",function(r){n.warningUnhooked();var o=Io(r);return Js(n.store,o)}),te(this,"getFieldsError",function(r){n.warningUnhooked();var o=n.getFieldEntitiesForNamePathList(r);return o.map(function(i,s){return i&&!("INVALIDATE_NAME_PATH"in i)?{name:i.getNamePath(),errors:i.getErrors(),warnings:i.getWarnings()}:{name:Io(r[s]),errors:[],warnings:[]}})}),te(this,"getFieldError",function(r){n.warningUnhooked();var o=Io(r),i=n.getFieldsError([o])[0];return i.errors}),te(this,"getFieldWarning",function(r){n.warningUnhooked();var o=Io(r),i=n.getFieldsError([o])[0];return i.warnings}),te(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var s=o[0],a=o[1],l,c=!1;o.length===0?l=null:o.length===1?Array.isArray(s)?(l=s.map(Io),c=!1):(l=null,c=s):(l=s.map(Io),c=a);var u=n.getFieldEntities(!0),d=function(y){return y.isFieldTouched()};if(!l)return c?u.every(function(v){return d(v)||v.isList()}):u.some(d);var f=new Bp;l.forEach(function(v){f.set(v,[])}),u.forEach(function(v){var y=v.getNamePath();l.forEach(function(b){b.every(function(x,w){return y[w]===x})&&f.update(b,function(x){return[].concat(at(x),[v])})})});var m=function(y){return y.some(d)},g=f.map(function(v){var y=v.value;return y});return c?g.every(m):g.some(m)}),te(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),te(this,"isFieldsValidating",function(r){n.warningUnhooked();var o=n.getFieldEntities();if(!r)return o.some(function(s){return s.isFieldValidating()});var i=r.map(Io);return o.some(function(s){var a=s.getNamePath();return lg(i,a)&&s.isFieldValidating()})}),te(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),te(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=new Bp,i=n.getFieldEntities(!0);i.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=o.get(u)||new Set;d.add({entity:l,value:c}),o.set(u,d)}});var s=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),m=n.getInitialValue(f);if(m!==void 0)Jr(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var g=o.get(f);if(g&&g.size>1)Jr(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(g){var v=n.getFieldValue(f),y=u.isListField();!y&&(!r.skipExist||v===void 0)&&n.updateStore(ol(n.store,f,at(g)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=o.get(l);if(c){var u;(u=a).push.apply(u,at(at(c).map(function(d){return d.entity})))}})):a=i,s(a)}),te(this,"resetFields",function(r){n.warningUnhooked();var o=n.store;if(!r){n.updateStore(Mm(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(o,null,{type:"reset"}),n.notifyWatch();return}var i=r.map(Io);i.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(ol(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:i}),n.notifyObservers(o,i,{type:"reset"}),n.notifyWatch(i)}),te(this,"setFields",function(r){n.warningUnhooked();var o=n.store,i=[];r.forEach(function(s){var a=s.name,l=cn(s,p$e),c=Io(a);i.push(c),"value"in l&&n.updateStore(ol(n.store,c,l.value)),n.notifyObservers(o,[c],{type:"setField",data:s})}),n.notifyWatch(i)}),te(this,"getFields",function(){var r=n.getFieldEntities(!0),o=r.map(function(i){var s=i.getNamePath(),a=i.getMeta(),l=Se(Se({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return o}),te(this,"initEntityValue",function(r){var o=r.props.initialValue;if(o!==void 0){var i=r.getNamePath(),s=Js(n.store,i);s===void 0&&n.updateStore(ol(n.store,i,o))}}),te(this,"isMergedPreserve",function(r){var o=r!==void 0?r:n.preserve;return o??!0}),te(this,"registerField",function(r){n.fieldEntities.push(r);var o=r.getNamePath();if(n.notifyWatch([o]),r.props.initialValue!==void 0){var i=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(i,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(o);if(o.length&&n.getFieldValue(o)!==c&&n.fieldEntities.every(function(d){return!SZ(d.getNamePath(),o)})){var u=n.store;n.updateStore(ol(u,o,c,!0)),n.notifyObservers(u,[o],{type:"remove"}),n.triggerDependenciesUpdate(u,o)}}n.notifyWatch([o])}}),te(this,"dispatch",function(r){switch(r.type){case"updateValue":{var o=r.namePath,i=r.value;n.updateValue(o,i);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),te(this,"notifyObservers",function(r,o,i){if(n.subscribable){var s=Se(Se({},i),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,o,s)})}else n.forceRootUpdate()}),te(this,"triggerDependenciesUpdate",function(r,o){var i=n.getDependencyChildrenFields(o);return i.length&&n.validateFields(i),n.notifyObservers(r,i,{type:"dependenciesUpdate",relatedFields:[o].concat(at(i))}),i}),te(this,"updateValue",function(r,o){var i=Io(r),s=n.store;n.updateStore(ol(n.store,i,o)),n.notifyObservers(s,[i],{type:"valueUpdate",source:"internal"}),n.notifyWatch([i]);var a=n.triggerDependenciesUpdate(s,i),l=n.callbacks.onValuesChange;if(l){var c=j6(n.store,[i]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([i].concat(at(a)))}),te(this,"setFieldsValue",function(r){n.warningUnhooked();var o=n.store;if(r){var i=Mm(n.store,r);n.updateStore(i)}n.notifyObservers(o,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),te(this,"setFieldValue",function(r,o){n.setFields([{name:r,value:o,errors:[],warnings:[]}])}),te(this,"getDependencyChildrenFields",function(r){var o=new Set,i=[],s=new Bp;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=Io(u);s.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var a=function l(c){var u=s.get(c)||new Set;u.forEach(function(d){if(!o.has(d)){o.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(i.push(f),l(f))}})};return a(r),i}),te(this,"triggerOnFieldsChange",function(r,o){var i=n.callbacks.onFieldsChange;if(i){var s=n.getFields();if(o){var a=new Bp;o.forEach(function(c){var u=c.name,d=c.errors;a.set(u,d)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return lg(r,u)});l.length&&i(l,s)}}),te(this,"validateFields",function(r,o){n.warningUnhooked();var i,s;Array.isArray(r)||typeof r=="string"||typeof o=="string"?(i=r,s=o):s=r;var a=!!i,l=a?i.map(Io):[],c=[],u=String(Date.now()),d=new Set,f=s||{},m=f.recursive,g=f.dirty;n.getFieldEntities(!0).forEach(function(x){if(a||l.push(x.getNamePath()),!(!x.props.rules||!x.props.rules.length)&&!(g&&!x.isFieldDirty())){var w=x.getNamePath();if(d.add(w.join(u)),!a||lg(l,w,m)){var C=x.validateRules(Se({validateMessages:Se(Se({},wZ),n.validateMessages)},s));c.push(C.then(function(){return{name:w,errors:[],warnings:[]}}).catch(function(E){var _,S=[],T=[];return(_=E.forEach)===null||_===void 0||_.call(E,function(I){var P=I.rule.warningOnly,M=I.errors;P?T.push.apply(T,at(M)):S.push.apply(S,at(M))}),S.length?Promise.reject({name:w,errors:S,warnings:T}):{name:w,errors:S,warnings:T}}))}}});var v=h$e(c);n.lastValidatePromise=v,v.catch(function(x){return x}).then(function(x){var w=x.map(function(C){var E=C.name;return E});n.notifyObservers(n.store,w,{type:"validateFinish"}),n.triggerOnFieldsChange(w,x)});var y=v.then(function(){return n.lastValidatePromise===v?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(x){var w=x.filter(function(C){return C&&C.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:w,outOfDate:n.lastValidatePromise!==v})});y.catch(function(x){return x});var b=l.filter(function(x){return d.has(x.join(u))});return n.triggerOnFieldsChange(b),y}),te(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var o=n.callbacks.onFinish;if(o)try{o(r)}catch(i){console.error(i)}}).catch(function(r){var o=n.callbacks.onFinishFailed;o&&o(r)})}),this.forceRootUpdate=e});function EZ(t){var e=h.useRef(),n=h.useState({}),r=Fe(n,2),o=r[1];if(!e.current)if(t)e.current=t;else{var i=function(){o({})},s=new m$e(i);e.current=s.getForm()}return[e.current]}var mM=h.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),g$e=function(e){var n=e.validateMessages,r=e.onFormChange,o=e.onFormFinish,i=e.children,s=h.useContext(mM),a=h.useRef({});return h.createElement(mM.Provider,{value:Se(Se({},s),{},{validateMessages:Se(Se({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){o&&o(c,{values:u,forms:a.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=Se(Se({},a.current),{},te({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=Se({},a.current);delete u[c],a.current=u,s.unregisterForm(c)}})},i)},v$e=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],y$e=function(e,n){var r=e.name,o=e.initialValues,i=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,f=e.validateTrigger,m=f===void 0?"onChange":f,g=e.onValuesChange,v=e.onFieldsChange,y=e.onFinish,b=e.onFinishFailed,x=e.clearOnDestroy,w=cn(e,v$e),C=h.useRef(null),E=h.useContext(mM),_=EZ(s),S=Fe(_,1),T=S[0],I=T.getInternalHooks(lh),P=I.useSubscribe,M=I.setInitialValues,R=I.setCallbacks,k=I.setValidateMessages,D=I.setPreserve,A=I.destroyForm;h.useImperativeHandle(n,function(){return Se(Se({},T),{},{nativeElement:C.current})}),h.useEffect(function(){return E.registerForm(r,T),function(){E.unregisterForm(r)}},[E,T,r]),k(Se(Se({},E.validateMessages),d)),R({onValuesChange:g,onFieldsChange:function(U){if(E.triggerFormChange(r,U),v){for(var q=arguments.length,K=new Array(q>1?q-1:0),J=1;J<q;J++)K[J-1]=arguments[J];v.apply(void 0,[U].concat(K))}},onFinish:function(U){E.triggerFormFinish(r,U),y&&y(U)},onFinishFailed:b}),D(a);var N=h.useRef(null);M(o,!N.current),N.current||(N.current=!0),h.useEffect(function(){return function(){return A(x)}},[]);var O,j=typeof l=="function";if(j){var L=T.getFieldsValue(!0);O=l(L,T)}else O=l;P(!j);var z=h.useRef();h.useEffect(function(){c$e(z.current||[],i||[])||T.setFields(i||[]),z.current=i},[i,T]);var V=h.useMemo(function(){return Se(Se({},T),{},{validateTrigger:m})},[T,m]),W=h.createElement(oE.Provider,{value:null},h.createElement(Jg.Provider,{value:V},O));return u===!1?W:h.createElement(u,B({},w,{ref:C,onSubmit:function(U){U.preventDefault(),U.stopPropagation(),T.submit()},onReset:function(U){var q;U.preventDefault(),T.resetFields(),(q=w.onReset)===null||q===void 0||q.call(w,U)}}),W)};function F6(t){try{return JSON.stringify(t)}catch{return Math.random()}}function b$e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],o=e[1],i=o===void 0?{}:o,s=IDe(i)?{form:i}:i,a=s.form,l=h.useState(),c=Fe(l,2),u=c[0],d=c[1],f=h.useMemo(function(){return F6(u)},[u]),m=h.useRef(f);m.current=f;var g=h.useContext(Jg),v=a||g,y=v&&v._init,b=Io(r),x=h.useRef(b);return x.current=b,h.useEffect(function(){if(y){var w=v.getFieldsValue,C=v.getInternalHooks,E=C(lh),_=E.registerWatch,S=function(M,R){var k=s.preserve?R:M;return typeof r=="function"?r(k):Js(k,x.current)},T=_(function(P,M){var R=S(P,M),k=F6(R);m.current!==k&&(m.current=k,d(R))}),I=S(w(),w(!0));return u!==I&&d(I),T}},[y]),u}var x$e=h.forwardRef(y$e),vw=x$e;vw.FormProvider=g$e;vw.Field=CZ;vw.List=f$e;vw.useForm=EZ;vw.useWatch=b$e;const bl=h.createContext({}),w$e=t=>{let{children:e,status:n,override:r}=t;const o=h.useContext(bl),i=h.useMemo(()=>{const s=Object.assign({},o);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,o]);return h.createElement(bl.Provider,{value:i},e)},S$e=h.createContext(void 0),cx=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let o=r;return n&&(o=oe.createElement(w$e,{override:!0,status:!0},o)),e&&(o=oe.createElement(WRe,null,o)),o};function iE(t){if(t)return{closable:t.closable,closeIcon:t.closeIcon}}function z6(t){const{closable:e,closeIcon:n}=t||{};return oe.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,n])}function B6(){const t={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(o=>{o&&Object.keys(o).forEach(i=>{o[i]!==void 0&&(t[i]=o[i])})}),t}const C$e={};function TZ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C$e;const r=z6(t),o=z6(e),i=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,s=oe.useMemo(()=>Object.assign({closeIcon:oe.createElement(uw,null)},n),[n]),a=oe.useMemo(()=>r===!1?!1:r?B6(s,o,r):o===!1?!1:o?B6(s,o):s.closable?s:!1,[r,o,s]);return oe.useMemo(()=>{if(a===!1)return[!1,null,i];const{closeIconRender:l}=s,{closeIcon:c}=a;let u=c;if(u!=null){l&&(u=l(c));const d=us(a,!0);Object.keys(d).length&&(u=oe.isValidElement(u)?oe.cloneElement(u,d):oe.createElement("span",Object.assign({},d),u))}return[!0,u,i]},[a,s])}var IZ=function(e){if(Ti()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(o){return o in r.style})}return!1},_$e=function(e,n){if(!IZ(e))return!1;var r=document.createElement("div"),o=r.style[e];return r.style[e]=n,r.style[e]!==o};function E$e(t,e){return!Array.isArray(t)&&e!==void 0?_$e(t,e):IZ(t)}const T$e=()=>Ti()&&window.document.documentElement,ET=t=>{const{prefixCls:e,className:n,style:r,size:o,shape:i}=t,s=Me({[`${e}-lg`]:o==="large",[`${e}-sm`]:o==="small"}),a=Me({[`${e}-circle`]:i==="circle",[`${e}-square`]:i==="square",[`${e}-round`]:i==="round"}),l=h.useMemo(()=>typeof o=="number"?{width:o,height:o,lineHeight:`${o}px`}:{},[o]);return h.createElement("span",{className:Me(e,s,a,n),style:Object.assign(Object.assign({},l),r)})},I$e=new Bn("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),TT=t=>({height:t,lineHeight:Ae(t)}),cg=t=>Object.assign({width:t},TT(t)),P$e=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:I$e,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),MR=(t,e)=>Object.assign({width:e(t).mul(5).equal(),minWidth:e(t).mul(5).equal()},TT(t)),R$e=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i}=t;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},cg(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},cg(o)),[`${e}${e}-sm`]:Object.assign({},cg(i))}},k$e=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:s,calc:a}=t;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},MR(e,a)),[`${r}-lg`]:Object.assign({},MR(o,a)),[`${r}-sm`]:Object.assign({},MR(i,a))}},V6=t=>Object.assign({width:t},TT(t)),D$e=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:o,calc:i}=t;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:o},V6(i(n).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},V6(n)),{maxWidth:i(n).mul(4).equal(),maxHeight:i(n).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},OR=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{[`${n}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:e}}},AR=(t,e)=>Object.assign({width:e(t).mul(2).equal(),minWidth:e(t).mul(2).equal()},TT(t)),$$e=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:o,controlHeightSM:i,gradientFromColor:s,calc:a}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:e,width:a(r).mul(2).equal(),minWidth:a(r).mul(2).equal()},AR(r,a))},OR(t,r,n)),{[`${n}-lg`]:Object.assign({},AR(o,a))}),OR(t,o,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},AR(i,a))}),OR(t,i,`${n}-sm`))},M$e=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:o,skeletonButtonCls:i,skeletonInputCls:s,skeletonImageCls:a,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:m,borderRadius:g,titleHeight:v,blockRadius:y,paragraphLiHeight:b,controlHeightXS:x,paragraphMarginTop:w}=t;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},cg(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},cg(c)),[`${n}-sm`]:Object.assign({},cg(u))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:v,background:d,borderRadius:y,[`+ ${o}`]:{marginBlockStart:u}},[o]:{padding:0,"> li":{width:"100%",height:b,listStyle:"none",background:d,borderRadius:y,"+ li":{marginBlockStart:x}}},[`${o}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${o} > li`]:{borderRadius:g}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:m,[`+ ${o}`]:{marginBlockStart:w}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},$$e(t)),R$e(t)),k$e(t)),D$e(t)),[`${e}${e}-block`]:{width:"100%",[i]:{width:"100%"},[s]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${o} > li,
        ${n},
        ${i},
        ${s},
        ${a}
      `]:Object.assign({},P$e(t))}}},O$e=t=>{const{colorFillContent:e,colorFill:n}=t,r=e,o=n;return{color:r,colorGradientEnd:o,gradientFromColor:r,gradientToColor:o,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},Mv=eo("Skeleton",t=>{const{componentCls:e,calc:n}=t,r=Vn(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n(t.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[M$e(r)]},O$e,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),A$e=t=>{const{prefixCls:e,className:n,rootClassName:r,active:o,shape:i="circle",size:s="default"}=t,{getPrefixCls:a}=h.useContext(pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=ni(t,["prefixCls","className"]),m=Me(l,`${l}-element`,{[`${l}-active`]:o},n,r,u,d);return c(h.createElement("div",{className:m},h.createElement(ET,Object.assign({prefixCls:`${l}-avatar`,shape:i,size:s},f))))},N$e=t=>{const{prefixCls:e,className:n,rootClassName:r,active:o,block:i=!1,size:s="default"}=t,{getPrefixCls:a}=h.useContext(pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=ni(t,["prefixCls"]),m=Me(l,`${l}-element`,{[`${l}-active`]:o,[`${l}-block`]:i},n,r,u,d);return c(h.createElement("div",{className:m},h.createElement(ET,Object.assign({prefixCls:`${l}-button`,size:s},f))))},j$e="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",L$e=t=>{const{prefixCls:e,className:n,rootClassName:r,style:o,active:i}=t,{getPrefixCls:s}=h.useContext(pn),a=s("skeleton",e),[l,c,u]=Mv(a),d=Me(a,`${a}-element`,{[`${a}-active`]:i},n,r,c,u);return l(h.createElement("div",{className:d},h.createElement("div",{className:Me(`${a}-image`,n),style:o},h.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${a}-image-svg`},h.createElement("title",null,"Image placeholder"),h.createElement("path",{d:j$e,className:`${a}-image-path`})))))},F$e=t=>{const{prefixCls:e,className:n,rootClassName:r,active:o,block:i,size:s="default"}=t,{getPrefixCls:a}=h.useContext(pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=ni(t,["prefixCls"]),m=Me(l,`${l}-element`,{[`${l}-active`]:o,[`${l}-block`]:i},n,r,u,d);return c(h.createElement("div",{className:m},h.createElement(ET,Object.assign({prefixCls:`${l}-input`,size:s},f))))},z$e=t=>{const{prefixCls:e,className:n,rootClassName:r,style:o,active:i,children:s}=t,{getPrefixCls:a}=h.useContext(pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=Me(l,`${l}-element`,{[`${l}-active`]:i},u,n,r,d);return c(h.createElement("div",{className:f},h.createElement("div",{className:Me(`${l}-image`,n),style:o},s)))},B$e=(t,e)=>{const{width:n,rows:r=2}=e;if(Array.isArray(n))return n[t];if(r-1===t)return n},V$e=t=>{const{prefixCls:e,className:n,style:r,rows:o=0}=t,i=Array.from({length:o}).map((s,a)=>h.createElement("li",{key:a,style:{width:B$e(a,t)}}));return h.createElement("ul",{className:Me(e,n),style:r},i)},H$e=t=>{let{prefixCls:e,className:n,width:r,style:o}=t;return h.createElement("h3",{className:Me(e,n),style:Object.assign({width:r},o)})};function NR(t){return t&&typeof t=="object"?t:{}}function W$e(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function U$e(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function q$e(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const Ov=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:o,style:i,children:s,avatar:a=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=t,{getPrefixCls:f,direction:m,className:g,style:v}=Rc("skeleton"),y=f("skeleton",e),[b,x,w]=Mv(y);if(n||!("loading"in t)){const C=!!a,E=!!l,_=!!c;let S;if(C){const P=Object.assign(Object.assign({prefixCls:`${y}-avatar`},W$e(E,_)),NR(a));S=h.createElement("div",{className:`${y}-header`},h.createElement(ET,Object.assign({},P)))}let T;if(E||_){let P;if(E){const R=Object.assign(Object.assign({prefixCls:`${y}-title`},U$e(C,_)),NR(l));P=h.createElement(H$e,Object.assign({},R))}let M;if(_){const R=Object.assign(Object.assign({prefixCls:`${y}-paragraph`},q$e(C,E)),NR(c));M=h.createElement(V$e,Object.assign({},R))}T=h.createElement("div",{className:`${y}-content`},P,M)}const I=Me(y,{[`${y}-with-avatar`]:C,[`${y}-active`]:u,[`${y}-rtl`]:m==="rtl",[`${y}-round`]:d},g,r,o,x,w);return b(h.createElement("div",{className:I,style:Object.assign(Object.assign({},v),i)},S,T))}return s??null};Ov.Button=N$e;Ov.Avatar=A$e;Ov.Input=F$e;Ov.Image=L$e;Ov.Node=z$e;function H6(){}const K$e=h.createContext({add:H6,remove:H6});function G$e(t){const e=h.useContext(K$e),n=h.useRef(null);return br(o=>{if(o){const i=t?o.querySelector(t):o;e.add(i),n.current=i}else e.remove(n.current)})}const W6=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=h.useContext(mw);return oe.createElement(Va,Object.assign({onClick:n},t),e)},U6=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:r,onOk:o}=h.useContext(mw);return oe.createElement(Va,Object.assign({},aZ(n),{loading:t,onClick:o},e),r)};function PZ(t,e){return oe.createElement("span",{className:`${t}-close-x`},e||oe.createElement(uw,{className:`${t}-close-icon`}))}const RZ=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:o,onOk:i,onCancel:s,okButtonProps:a,cancelButtonProps:l,footer:c}=t,[u]=bp("Modal",fJ()),d=e||(u==null?void 0:u.okText),f=r||(u==null?void 0:u.cancelText),m={confirmLoading:o,okButtonProps:a,cancelButtonProps:l,okTextLocale:d,cancelTextLocale:f,okType:n,onOk:i,onCancel:s},g=oe.useMemo(()=>m,at(Object.values(m)));let v;return typeof c=="function"||typeof c>"u"?(v=oe.createElement(oe.Fragment,null,oe.createElement(W6,null),oe.createElement(U6,null)),typeof c=="function"&&(v=c(v,{OkBtn:U6,CancelBtn:W6})),v=oe.createElement(hZ,{value:g},v)):v=c,oe.createElement(yJ,{disabled:!1},v)},Y$e=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},X$e=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Q$e=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:o}=t,i={};for(let s=o;s>=0;s--)s===0?(i[`${r}${e}-${s}`]={display:"none"},i[`${r}-push-${s}`]={insetInlineStart:"auto"},i[`${r}-pull-${s}`]={insetInlineEnd:"auto"},i[`${r}${e}-push-${s}`]={insetInlineStart:"auto"},i[`${r}${e}-pull-${s}`]={insetInlineEnd:"auto"},i[`${r}${e}-offset-${s}`]={marginInlineStart:0},i[`${r}${e}-order-${s}`]={order:0}):(i[`${r}${e}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/o*100}%`,maxWidth:`${s/o*100}%`}],i[`${r}${e}-push-${s}`]={insetInlineStart:`${s/o*100}%`},i[`${r}${e}-pull-${s}`]={insetInlineEnd:`${s/o*100}%`},i[`${r}${e}-offset-${s}`]={marginInlineStart:`${s/o*100}%`},i[`${r}${e}-order-${s}`]={order:s});return i[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},i},gM=(t,e)=>Q$e(t,e),J$e=(t,e,n)=>({[`@media (min-width: ${Ae(e)})`]:Object.assign({},gM(t,n))}),Z$e=()=>({}),eMe=()=>({});eo("Grid",Y$e,Z$e);const kZ=t=>({xs:t.screenXSMin,sm:t.screenSMMin,md:t.screenMDMin,lg:t.screenLGMin,xl:t.screenXLMin,xxl:t.screenXXLMin});eo("Grid",t=>{const e=Vn(t,{gridColumns:24}),n=kZ(e);return delete n.xs,[X$e(e),gM(e,""),gM(e,"-xs"),Object.keys(n).map(r=>J$e(e,n[r],`-${r}`)).reduce((r,o)=>Object.assign(Object.assign({},r),o),{})]},eMe);function q6(t){return{position:t,inset:0}}const tMe=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},q6("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},q6("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:fke(t)}]},nMe=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${Ae(t.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},ho(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Ae(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:Ae(t.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},Jh(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${Ae(t.borderRadiusLG)} ${Ae(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Ae(t.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},rMe=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},oMe=t=>{const{componentCls:e}=t,n=kZ(t);delete n.xs;const r=Object.keys(n).map(o=>({[`@media (min-width: ${Ae(n[o])})`]:{width:`var(--${e.replace(".","")}-${o}-width)`}}));return{[`${e}-root`]:{[e]:[{width:`var(--${e.replace(".","")}-xs-width)`}].concat(at(r))}}},DZ=t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5;return Vn(t,{modalHeaderHeight:t.calc(t.calc(r).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},$Z=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${Ae(t.paddingMD)} ${Ae(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${Ae(t.padding)} ${Ae(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${Ae(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${Ae(t.paddingXS)} ${Ae(t.padding)}`:0,footerBorderTop:t.wireframe?`${Ae(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${Ae(t.borderRadiusLG)} ${Ae(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${Ae(t.padding*2)} ${Ae(t.padding*2)} ${Ae(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),MZ=eo("Modal",t=>{const e=DZ(t);return[nMe(e),rMe(e),tMe(e),vT(e,"zoom"),oMe(e)]},$Z,{unitless:{titleLineHeight:!0}});var iMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};let vM;const sMe=t=>{vM={x:t.pageX,y:t.pageY},setTimeout(()=>{vM=null},100)};T$e()&&document.documentElement.addEventListener("click",sMe,!0);const OZ=t=>{var e;const{getPopupContainer:n,getPrefixCls:r,direction:o,modal:i}=h.useContext(pn),s=K=>{const{onCancel:J}=t;J==null||J(K)},a=K=>{const{onOk:J}=t;J==null||J(K)},{prefixCls:l,className:c,rootClassName:u,open:d,wrapClassName:f,centered:m,getContainer:g,focusTriggerAfterClose:v=!0,style:y,visible:b,width:x=520,footer:w,classNames:C,styles:E,children:_,loading:S}=t,T=iMe(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),I=r("modal",l),P=r(),M=js(I),[R,k,D]=MZ(I,M),A=Me(f,{[`${I}-centered`]:m??(i==null?void 0:i.centered),[`${I}-wrap-rtl`]:o==="rtl"}),N=w!==null&&!S?h.createElement(RZ,Object.assign({},t,{onOk:a,onCancel:s})):null,[O,j,L]=TZ(iE(t),iE(i),{closable:!0,closeIcon:h.createElement(uw,{className:`${I}-close-icon`}),closeIconRender:K=>PZ(I,K)}),z=G$e(`.${I}-content`),[V,W]=fw("Modal",T.zIndex),[Y,U]=h.useMemo(()=>x&&typeof x=="object"?[void 0,x]:[x,void 0],[x]),q=h.useMemo(()=>{const K={};return U&&Object.keys(U).forEach(J=>{const X=U[J];X!==void 0&&(K[`--${I}-${J}-width`]=typeof X=="number"?`${X}px`:X)}),K},[U]);return R(h.createElement(cx,{form:!0,space:!0},h.createElement(dT.Provider,{value:W},h.createElement(bZ,Object.assign({width:Y},T,{zIndex:V,getContainer:g===void 0?n:g,prefixCls:I,rootClassName:Me(k,u,D,M),footer:N,visible:d??b,mousePosition:(e=T.mousePosition)!==null&&e!==void 0?e:vM,onClose:s,closable:O&&{disabled:L,closeIcon:j},closeIcon:j,focusTriggerAfterClose:v,transitionName:Xg(P,"zoom",t.transitionName),maskTransitionName:Xg(P,"fade",t.maskTransitionName),className:Me(k,c,i==null?void 0:i.className),style:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.style),y),q),classNames:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.classNames),C),{wrapper:Me(A,C==null?void 0:C.wrapper)}),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),E),panelRef:z}),S?h.createElement(Ov,{active:!0,title:!1,paragraph:{rows:4},className:`${I}-body-skeleton`}):_))))},aMe=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:o,fontSize:i,lineHeight:s,modalTitleHeight:a,fontHeight:l,confirmBodyPadding:c}=t,u=`${e}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},ax()),[`&${e} ${e}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(l).sub(o).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(a).sub(o).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS,maxWidth:`calc(100% - ${Ae(t.marginSM)})`},[`${t.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${Ae(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${u}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:t.colorText,fontSize:i,lineHeight:s},[`${u}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${u}-error ${u}-body > ${t.iconCls}`]:{color:t.colorError},[`${u}-warning ${u}-body > ${t.iconCls},
        ${u}-confirm ${u}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${u}-info ${u}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${u}-success ${u}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},lMe=cw(["Modal","confirm"],t=>{const e=DZ(t);return[aMe(e)]},$Z,{order:-1e3});var cMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function AZ(t){const{prefixCls:e,icon:n,okText:r,cancelText:o,confirmPrefixCls:i,type:s,okCancel:a,footer:l,locale:c}=t,u=cMe(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=n;if(!n&&n!==null)switch(s){case"info":d=h.createElement(KJ,null);break;case"success":d=h.createElement(UJ,null);break;case"error":d=h.createElement(uT,null);break;default:d=h.createElement(qJ,null)}const f=a??s==="confirm",m=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[g]=bp("Modal"),v=c||g,y=r||(f?v==null?void 0:v.okText:v==null?void 0:v.justOkText),b=o||(v==null?void 0:v.cancelText),x=Object.assign({autoFocusButton:m,cancelTextLocale:b,okTextLocale:y,mergedOkCancel:f},u),w=h.useMemo(()=>x,at(Object.values(x))),C=h.createElement(h.Fragment,null,h.createElement(x6,null),h.createElement(w6,null)),E=t.title!==void 0&&t.title!==null,_=`${i}-body`;return h.createElement("div",{className:`${i}-body-wrapper`},h.createElement("div",{className:Me(_,{[`${_}-has-title`]:E})},d,h.createElement("div",{className:`${i}-paragraph`},E&&h.createElement("span",{className:`${i}-title`},t.title),h.createElement("div",{className:`${i}-content`},t.content))),l===void 0||typeof l=="function"?h.createElement(hZ,{value:w},h.createElement("div",{className:`${i}-btns`},typeof l=="function"?l(C,{OkBtn:w6,CancelBtn:x6}):C)):l,h.createElement(lMe,{prefixCls:e}))}const uMe=t=>{const{close:e,zIndex:n,maskStyle:r,direction:o,prefixCls:i,wrapClassName:s,rootPrefixCls:a,bodyStyle:l,closable:c=!1,onConfirm:u,styles:d}=t,f=`${i}-confirm`,m=t.width||416,g=t.style||{},v=t.mask===void 0?!0:t.mask,y=t.maskClosable===void 0?!1:t.maskClosable,b=Me(f,`${f}-${t.type}`,{[`${f}-rtl`]:o==="rtl"},t.className),[,x]=Pi(),w=h.useMemo(()=>n!==void 0?n:x.zIndexPopupBase+JJ,[n,x]);return h.createElement(OZ,Object.assign({},t,{className:b,wrapClassName:Me({[`${f}-centered`]:!!t.centered},s),onCancel:()=>{e==null||e({triggerCancel:!0}),u==null||u(!1)},title:"",footer:null,transitionName:Xg(a||"","zoom",t.transitionName),maskTransitionName:Xg(a||"","fade",t.maskTransitionName),mask:v,maskClosable:y,style:g,styles:Object.assign({body:l,mask:r},d),width:m,zIndex:w,closable:c}),h.createElement(AZ,Object.assign({},t,{confirmPrefixCls:f})))},NZ=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:r,theme:o}=t;return h.createElement(Ou,{prefixCls:e,iconPrefixCls:n,direction:r,theme:o},h.createElement(uMe,Object.assign({},t)))},ch=[];let jZ="";function LZ(){return jZ}const dMe=t=>{var e,n;const{prefixCls:r,getContainer:o,direction:i}=t,s=fJ(),a=h.useContext(pn),l=LZ()||a.getPrefixCls(),c=r||`${l}-modal`;let u=o;return u===!1&&(u=void 0),oe.createElement(NZ,Object.assign({},t,{rootPrefixCls:l,prefixCls:c,iconPrefixCls:a.iconPrefixCls,theme:a.theme,direction:i??a.direction,locale:(n=(e=a.locale)===null||e===void 0?void 0:e.Modal)!==null&&n!==void 0?n:s,getContainer:u}))};function yw(t){const e=zJ(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},t),{close:l,open:!0}),o,i;function s(){for(var u,d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];if(f.some(y=>y==null?void 0:y.triggerCancel)){var v;(u=t.onCancel)===null||u===void 0||(v=u).call.apply(v,[t,()=>{}].concat(at(f.slice(1))))}for(let y=0;y<ch.length;y++)if(ch[y]===l){ch.splice(y,1);break}i()}function a(u){clearTimeout(o),o=setTimeout(()=>{const d=e.getPrefixCls(void 0,LZ()),f=e.getIconPrefixCls(),m=e.getTheme(),g=oe.createElement(dMe,Object.assign({},u));i=vj()(oe.createElement(Ou,{prefixCls:d,iconPrefixCls:f,theme:m},e.holderRender?e.holderRender(g):g),n)})}function l(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),s.apply(this,d)}}),r.visible&&delete r.visible,a(r)}function c(u){typeof u=="function"?r=u(r):r=Object.assign(Object.assign({},r),u),a(r)}return a(r),ch.push(l),{destroy:l,update:c}}function FZ(t){return Object.assign(Object.assign({},t),{type:"warning"})}function zZ(t){return Object.assign(Object.assign({},t),{type:"info"})}function BZ(t){return Object.assign(Object.assign({},t),{type:"success"})}function VZ(t){return Object.assign(Object.assign({},t),{type:"error"})}function HZ(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function fMe(t){let{rootPrefixCls:e}=t;jZ=e}var hMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const pMe=(t,e)=>{var n,{afterClose:r,config:o}=t,i=hMe(t,["afterClose","config"]);const[s,a]=h.useState(!0),[l,c]=h.useState(o),{direction:u,getPrefixCls:d}=h.useContext(pn),f=d("modal"),m=d(),g=()=>{var x;r(),(x=l.afterClose)===null||x===void 0||x.call(l)},v=function(){var x;a(!1);for(var w=arguments.length,C=new Array(w),E=0;E<w;E++)C[E]=arguments[E];if(C.some(T=>T==null?void 0:T.triggerCancel)){var S;(x=l.onCancel)===null||x===void 0||(S=x).call.apply(S,[l,()=>{}].concat(at(C.slice(1))))}};h.useImperativeHandle(e,()=>({destroy:v,update:x=>{c(w=>Object.assign(Object.assign({},w),x))}}));const y=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[b]=bp("Modal",af.Modal);return h.createElement(NZ,Object.assign({prefixCls:f,rootPrefixCls:m},l,{close:v,open:s,afterClose:g,okText:l.okText||(y?b==null?void 0:b.okText:b==null?void 0:b.justOkText),direction:l.direction||u,cancelText:l.cancelText||(b==null?void 0:b.cancelText)},i))},mMe=h.forwardRef(pMe);let K6=0;const gMe=h.memo(h.forwardRef((t,e)=>{const[n,r]=SRe();return h.useImperativeHandle(e,()=>({patchElement:r}),[]),h.createElement(h.Fragment,null,n)}));function vMe(){const t=h.useRef(null),[e,n]=h.useState([]);h.useEffect(()=>{e.length&&(at(e).forEach(s=>{s()}),n([]))},[e]);const r=h.useCallback(i=>function(a){var l;K6+=1;const c=h.createRef();let u;const d=new Promise(y=>{u=y});let f=!1,m;const g=h.createElement(mMe,{key:`modal-${K6}`,config:i(a),ref:c,afterClose:()=>{m==null||m()},isSilent:()=>f,onConfirm:y=>{u(y)}});return m=(l=t.current)===null||l===void 0?void 0:l.patchElement(g),m&&ch.push(m),{destroy:()=>{function y(){var b;(b=c.current)===null||b===void 0||b.destroy()}c.current?y():n(b=>[].concat(at(b),[y]))},update:y=>{function b(){var x;(x=c.current)===null||x===void 0||x.update(y)}c.current?b():n(x=>[].concat(at(x),[b]))},then:y=>(f=!0,d.then(y))}},[]);return[h.useMemo(()=>({info:r(zZ),success:r(BZ),error:r(VZ),warning:r(FZ),confirm:r(HZ)}),[]),h.createElement(gMe,{key:"modal-holder",ref:t})]}const yMe=oe.createContext({});function WZ(t){return e=>h.createElement(Ou,{theme:{token:{motion:!1,zIndexPopupBase:0}}},h.createElement(t,Object.assign({},e)))}const UZ=(t,e,n,r,o)=>WZ(s=>{const{prefixCls:a,style:l}=s,c=h.useRef(null),[u,d]=h.useState(0),[f,m]=h.useState(0),[g,v]=Wo(!1,{value:s.open}),{getPrefixCls:y}=h.useContext(pn),b=y(r||"select",a);h.useEffect(()=>{if(v(!0),typeof ResizeObserver<"u"){const C=new ResizeObserver(_=>{const S=_[0].target;d(S.offsetHeight+8),m(S.offsetWidth)}),E=setInterval(()=>{var _;const S=o?`.${o(b)}`:`.${b}-dropdown`,T=(_=c.current)===null||_===void 0?void 0:_.querySelector(S);T&&(clearInterval(E),C.observe(T))},10);return()=>{clearInterval(E),C.disconnect()}}},[]);let x=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},l),{margin:0}),open:g,visible:g,getPopupContainer:()=>c.current});e&&Object.assign(x,{[e]:{overflow:{adjustX:!1,adjustY:!1}}});const w={paddingBottom:u,position:"relative",minWidth:f};return h.createElement("div",{ref:c,style:w},h.createElement(t,Object.assign({},x)))}),qZ=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var IT=function(e){var n=e.className,r=e.customizeIcon,o=e.customizeIconProps,i=e.children,s=e.onMouseDown,a=e.onClick,l=typeof r=="function"?r(o):r;return h.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),s==null||s(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},l!==void 0?l:h.createElement("span",{className:Me(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},i))},bMe=function(e,n,r,o,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=oe.useMemo(function(){if(At(o)==="object")return o.clearIcon;if(i)return i},[o,i]),u=oe.useMemo(function(){return!!(!s&&o&&(r.length||a)&&!(l==="combobox"&&a===""))},[o,s,r.length,a,l]);return{allowClear:u,clearIcon:oe.createElement(IT,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"×")}},KZ=h.createContext(null);function xMe(){return h.useContext(KZ)}function wMe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=h.useState(!1),n=Fe(e,2),r=n[0],o=n[1],i=h.useRef(null),s=function(){window.clearTimeout(i.current)};h.useEffect(function(){return s},[]);var a=function(c,u){s(),i.current=window.setTimeout(function(){o(c),u&&u()},t)};return[r,a,s]}function GZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=h.useRef(null),n=h.useRef(null);h.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(o){(o||e.current===null)&&(e.current=o),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function SMe(t,e,n,r){var o=h.useRef(null);o.current={open:e,triggerOpen:n,customizedTrigger:r},h.useEffect(function(){function i(s){var a;if(!((a=o.current)!==null&&a!==void 0&&a.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),o.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",i),function(){return window.removeEventListener("mousedown",i)}},[])}function CMe(t){return t&&![$t.ESC,$t.SHIFT,$t.BACKSPACE,$t.TAB,$t.WIN_KEY,$t.ALT,$t.META,$t.WIN_KEY_RIGHT,$t.CTRL,$t.SEMICOLON,$t.EQUALS,$t.CAPS_LOCK,$t.CONTEXT_MENU,$t.F1,$t.F2,$t.F3,$t.F4,$t.F5,$t.F6,$t.F7,$t.F8,$t.F9,$t.F10,$t.F11,$t.F12].includes(t)}var _Me=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Vp=void 0;function EMe(t,e){var n=t.prefixCls,r=t.invalidate,o=t.item,i=t.renderItem,s=t.responsive,a=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,d=t.style,f=t.children,m=t.display,g=t.order,v=t.component,y=v===void 0?"div":v,b=cn(t,_Me),x=s&&!m;function w(T){l(c,T)}h.useEffect(function(){return function(){w(null)}},[]);var C=i&&o!==Vp?i(o,{index:g}):f,E;r||(E={opacity:x?0:1,height:x?0:Vp,overflowY:x?"hidden":Vp,order:s?g:Vp,pointerEvents:x?"none":Vp,position:x?"absolute":Vp});var _={};x&&(_["aria-hidden"]=!0);var S=h.createElement(y,B({className:Me(!r&&n,u),style:Se(Se({},E),d)},_,b,{ref:e}),C);return s&&(S=h.createElement(_l,{onResize:function(I){var P=I.offsetWidth;w(P)},disabled:a},S)),S}var q0=h.forwardRef(EMe);q0.displayName="Item";function TMe(t){if(typeof MessageChannel>"u")qn(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function IMe(){var t=h.useRef(null),e=function(r){t.current||(t.current=[],TMe(function(){sa.unstable_batchedUpdates(function(){t.current.forEach(function(o){o()}),t.current=null})})),t.current.push(r)};return e}function Py(t,e){var n=h.useState(e),r=Fe(n,2),o=r[0],i=r[1],s=br(function(a){t(function(){i(a)})});return[o,s]}var sE=oe.createContext(null),PMe=["component"],RMe=["className"],kMe=["className"],DMe=function(e,n){var r=h.useContext(sE);if(!r){var o=e.component,i=o===void 0?"div":o,s=cn(e,PMe);return h.createElement(i,B({},s,{ref:n}))}var a=r.className,l=cn(r,RMe),c=e.className,u=cn(e,kMe);return h.createElement(sE.Provider,{value:null},h.createElement(q0,B({ref:n,className:Me(a,c)},l,u)))},YZ=h.forwardRef(DMe);YZ.displayName="RawItem";var $Me=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],XZ="responsive",QZ="invalidate";function MMe(t){return"+ ".concat(t.length," ...")}function OMe(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,o=t.data,i=o===void 0?[]:o,s=t.renderItem,a=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,d=t.ssr,f=t.style,m=t.className,g=t.maxCount,v=t.renderRest,y=t.renderRawRest,b=t.suffix,x=t.component,w=x===void 0?"div":x,C=t.itemComponent,E=t.onVisibleChange,_=cn(t,$Me),S=d==="full",T=IMe(),I=Py(T,null),P=Fe(I,2),M=P[0],R=P[1],k=M||0,D=Py(T,new Map),A=Fe(D,2),N=A[0],O=A[1],j=Py(T,0),L=Fe(j,2),z=L[0],V=L[1],W=Py(T,0),Y=Fe(W,2),U=Y[0],q=Y[1],K=Py(T,0),J=Fe(K,2),X=J[0],ue=J[1],_e=h.useState(null),Ce=Fe(_e,2),pe=Ce[0],ge=Ce[1],F=h.useState(null),ce=Fe(F,2),le=ce[0],Z=ce[1],Q=h.useMemo(function(){return le===null&&S?Number.MAX_SAFE_INTEGER:le||0},[le,M]),ye=h.useState(!1),fe=Fe(ye,2),ie=fe[0],re=fe[1],ve="".concat(r,"-item"),ee=Math.max(z,U),he=g===XZ,we=i.length&&he,me=g===QZ,ke=we||typeof g=="number"&&i.length>g,Ie=h.useMemo(function(){var lt=i;return we?M===null&&S?lt=i:lt=i.slice(0,Math.min(i.length,k/u)):typeof g=="number"&&(lt=i.slice(0,g)),lt},[i,u,M,g,we]),Re=h.useMemo(function(){return we?i.slice(Q+1):i.slice(Ie.length)},[i,Ie,we,Q]),$e=h.useCallback(function(lt,st){var pt;return typeof l=="function"?l(lt):(pt=l&&(lt==null?void 0:lt[l]))!==null&&pt!==void 0?pt:st},[l]),ne=h.useCallback(s||function(lt){return lt},[s]);function xe(lt,st,pt){le===lt&&(st===void 0||st===pe)||(Z(lt),pt||(re(lt<i.length-1),E==null||E(lt)),st!==void 0&&ge(st))}function se(lt,st){R(st.clientWidth)}function ae(lt,st){O(function(pt){var Ct=new Map(pt);return st===null?Ct.delete(lt):Ct.set(lt,st),Ct})}function Ee(lt,st){q(st),V(U)}function Le(lt,st){ue(st)}function ze(lt){return N.get($e(Ie[lt],lt))}nr(function(){if(k&&typeof ee=="number"&&Ie){var lt=X,st=Ie.length,pt=st-1;if(!st){xe(0,null);return}for(var Ct=0;Ct<st;Ct+=1){var Pe=ze(Ct);if(S&&(Pe=Pe||0),Pe===void 0){xe(Ct-1,void 0,!0);break}if(lt+=Pe,pt===0&&lt<=k||Ct===pt-1&&lt+ze(pt)<=k){xe(pt,null);break}else if(lt+ee>k){xe(Ct-1,lt-Pe-X+U);break}}b&&ze(0)+X>k&&ge(null)}},[k,N,U,X,$e,Ie]);var We=ie&&!!Re.length,Ze={};pe!==null&&we&&(Ze={position:"absolute",left:pe,top:0});var dt={prefixCls:ve,responsive:we,component:C,invalidate:me},de=a?function(lt,st){var pt=$e(lt,st);return h.createElement(sE.Provider,{key:pt,value:Se(Se({},dt),{},{order:st,item:lt,itemKey:pt,registerSize:ae,display:st<=Q})},a(lt,st))}:function(lt,st){var pt=$e(lt,st);return h.createElement(q0,B({},dt,{order:st,key:pt,item:lt,renderItem:ne,itemKey:pt,registerSize:ae,display:st<=Q}))},je={order:We?Q:Number.MAX_SAFE_INTEGER,className:"".concat(ve,"-rest"),registerSize:Ee,display:We},Ve=v||MMe,tt=y?h.createElement(sE.Provider,{value:Se(Se({},dt),je)},y(Re)):h.createElement(q0,B({},dt,je),typeof Ve=="function"?Ve(Re):Ve),Be=h.createElement(w,B({className:Me(!me&&r,m),style:f,ref:e},_),Ie.map(de),ke?tt:null,b&&h.createElement(q0,B({},dt,{responsive:he,responsiveDisabled:!we,order:Q,className:"".concat(ve,"-suffix"),registerSize:Le,display:!0,style:Ze}),b));return he?h.createElement(_l,{onResize:se,disabled:!we},Be):Be}var uc=h.forwardRef(OMe);uc.displayName="Overflow";uc.Item=YZ;uc.RESPONSIVE=XZ;uc.INVALIDATE=QZ;var AMe=function(e,n){var r,o=e.prefixCls,i=e.id,s=e.inputElement,a=e.disabled,l=e.tabIndex,c=e.autoFocus,u=e.autoComplete,d=e.editable,f=e.activeDescendantId,m=e.value,g=e.maxLength,v=e.onKeyDown,y=e.onMouseDown,b=e.onChange,x=e.onPaste,w=e.onCompositionStart,C=e.onCompositionEnd,E=e.onBlur,_=e.open,S=e.attrs,T=s||h.createElement("input",null),I=T,P=I.ref,M=I.props,R=M.onKeyDown,k=M.onChange,D=M.onMouseDown,A=M.onCompositionStart,N=M.onCompositionEnd,O=M.onBlur,j=M.style;return"maxLength"in T.props,T=h.cloneElement(T,Se(Se(Se({type:"search"},M),{},{id:i,ref:Ka(n,P),disabled:a,tabIndex:l,autoComplete:u||"off",autoFocus:c,className:Me("".concat(o,"-selection-search-input"),(r=T)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":_||!1,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":_?f:void 0},S),{},{value:d?m:"",maxLength:g,readOnly:!d,unselectable:d?null:"on",style:Se(Se({},j),{},{opacity:d?null:0}),onKeyDown:function(z){v(z),R&&R(z)},onMouseDown:function(z){y(z),D&&D(z)},onChange:function(z){b(z),k&&k(z)},onCompositionStart:function(z){w(z),A&&A(z)},onCompositionEnd:function(z){C(z),N&&N(z)},onPaste:x,onBlur:function(z){E(z),O&&O(z)}})),T},JZ=h.forwardRef(AMe);function ZZ(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var NMe=typeof window<"u"&&window.document&&window.document.documentElement,jMe=NMe;function LMe(t){return t!=null}function FMe(t){return!t&&t!==0}function G6(t){return["string","number"].includes(At(t))}function eee(t){var e=void 0;return t&&(G6(t.title)?e=t.title.toString():G6(t.label)&&(e=t.label.toString())),e}function zMe(t,e){jMe?h.useLayoutEffect(t,e):h.useEffect(t,e)}function BMe(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var Y6=function(e){e.preventDefault(),e.stopPropagation()},VMe=function(e){var n=e.id,r=e.prefixCls,o=e.values,i=e.open,s=e.searchValue,a=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,f=e.showSearch,m=e.autoFocus,g=e.autoComplete,v=e.activeDescendantId,y=e.tabIndex,b=e.removeIcon,x=e.maxTagCount,w=e.maxTagTextLength,C=e.maxTagPlaceholder,E=C===void 0?function(F){return"+ ".concat(F.length," ...")}:C,_=e.tagRender,S=e.onToggleOpen,T=e.onRemove,I=e.onInputChange,P=e.onInputPaste,M=e.onInputKeyDown,R=e.onInputMouseDown,k=e.onInputCompositionStart,D=e.onInputCompositionEnd,A=e.onInputBlur,N=h.useRef(null),O=h.useState(0),j=Fe(O,2),L=j[0],z=j[1],V=h.useState(!1),W=Fe(V,2),Y=W[0],U=W[1],q="".concat(r,"-selection"),K=i||d==="multiple"&&a===!1||d==="tags"?s:"",J=d==="tags"||d==="multiple"&&a===!1||f&&(i||Y);zMe(function(){z(N.current.scrollWidth)},[K]);var X=function(ce,le,Z,Q,ye){return h.createElement("span",{title:eee(ce),className:Me("".concat(q,"-item"),te({},"".concat(q,"-item-disabled"),Z))},h.createElement("span",{className:"".concat(q,"-item-content")},le),Q&&h.createElement(IT,{className:"".concat(q,"-item-remove"),onMouseDown:Y6,onClick:ye,customizeIcon:b},"×"))},ue=function(ce,le,Z,Q,ye,fe){var ie=function(ve){Y6(ve),S(!i)};return h.createElement("span",{onMouseDown:ie},_({label:le,value:ce,disabled:Z,closable:Q,onClose:ye,isMaxTag:!!fe}))},_e=function(ce){var le=ce.disabled,Z=ce.label,Q=ce.value,ye=!u&&!le,fe=Z;if(typeof w=="number"&&(typeof Z=="string"||typeof Z=="number")){var ie=String(fe);ie.length>w&&(fe="".concat(ie.slice(0,w),"..."))}var re=function(ee){ee&&ee.stopPropagation(),T(ce)};return typeof _=="function"?ue(Q,fe,le,ye,re):X(ce,fe,le,ye,re)},Ce=function(ce){if(!o.length)return null;var le=typeof E=="function"?E(ce):E;return typeof _=="function"?ue(void 0,le,!1,!1,void 0,!0):X({title:le},le,!1)},pe=h.createElement("div",{className:"".concat(q,"-search"),style:{width:L},onFocus:function(){U(!0)},onBlur:function(){U(!1)}},h.createElement(JZ,{ref:l,open:i,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:m,autoComplete:g,editable:J,activeDescendantId:v,value:K,onKeyDown:M,onMouseDown:R,onChange:I,onPaste:P,onCompositionStart:k,onCompositionEnd:D,onBlur:A,tabIndex:y,attrs:us(e,!0)}),h.createElement("span",{ref:N,className:"".concat(q,"-search-mirror"),"aria-hidden":!0},K," ")),ge=h.createElement(uc,{prefixCls:"".concat(q,"-overflow"),data:o,renderItem:_e,renderRest:Ce,suffix:pe,itemKey:BMe,maxCount:x});return h.createElement("span",{className:"".concat(q,"-wrap")},ge,!o.length&&!K&&h.createElement("span",{className:"".concat(q,"-placeholder")},c))},HMe=function(e){var n=e.inputElement,r=e.prefixCls,o=e.id,i=e.inputRef,s=e.disabled,a=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,m=e.placeholder,g=e.tabIndex,v=e.showSearch,y=e.searchValue,b=e.activeValue,x=e.maxLength,w=e.onInputKeyDown,C=e.onInputMouseDown,E=e.onInputChange,_=e.onInputPaste,S=e.onInputCompositionStart,T=e.onInputCompositionEnd,I=e.onInputBlur,P=e.title,M=h.useState(!1),R=Fe(M,2),k=R[0],D=R[1],A=u==="combobox",N=A||v,O=f[0],j=y||"";A&&b&&!k&&(j=b),h.useEffect(function(){A&&D(!1)},[A,b]);var L=u!=="combobox"&&!d&&!v?!1:!!j,z=P===void 0?eee(O):P,V=h.useMemo(function(){return O?null:h.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:L?{visibility:"hidden"}:void 0},m)},[O,L,m,r]);return h.createElement("span",{className:"".concat(r,"-selection-wrap")},h.createElement("span",{className:"".concat(r,"-selection-search")},h.createElement(JZ,{ref:i,prefixCls:r,id:o,open:d,inputElement:n,disabled:s,autoFocus:a,autoComplete:l,editable:N,activeDescendantId:c,value:j,onKeyDown:w,onMouseDown:C,onChange:function(Y){D(!0),E(Y)},onPaste:_,onCompositionStart:S,onCompositionEnd:T,onBlur:I,tabIndex:g,attrs:us(e,!0),maxLength:A?x:void 0})),!A&&O?h.createElement("span",{className:"".concat(r,"-selection-item"),title:z,style:L?{visibility:"hidden"}:void 0},O.label):null,V)},WMe=function(e,n){var r=h.useRef(null),o=h.useRef(!1),i=e.prefixCls,s=e.open,a=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.disabled,d=e.prefix,f=e.autoClearSearchValue,m=e.onSearch,g=e.onSearchSubmit,v=e.onToggleOpen,y=e.onInputKeyDown,b=e.onInputBlur,x=e.domRef;h.useImperativeHandle(n,function(){return{focus:function(z){r.current.focus(z)},blur:function(){r.current.blur()}}});var w=GZ(0),C=Fe(w,2),E=C[0],_=C[1],S=function(z){var V=z.which,W=r.current instanceof HTMLTextAreaElement;!W&&s&&(V===$t.UP||V===$t.DOWN)&&z.preventDefault(),y&&y(z),V===$t.ENTER&&a==="tags"&&!o.current&&!s&&(g==null||g(z.target.value)),!(W&&!s&&~[$t.UP,$t.DOWN,$t.LEFT,$t.RIGHT].indexOf(V))&&CMe(V)&&v(!0)},T=function(){_(!0)},I=h.useRef(null),P=function(z){m(z,!0,o.current)!==!1&&v(!0)},M=function(){o.current=!0},R=function(z){o.current=!1,a!=="combobox"&&P(z.target.value)},k=function(z){var V=z.target.value;if(c&&I.current&&/[\r\n]/.test(I.current)){var W=I.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");V=V.replace(W,I.current)}I.current=null,P(V)},D=function(z){var V=z.clipboardData,W=V==null?void 0:V.getData("text");I.current=W||""},A=function(z){var V=z.target;if(V!==r.current){var W=document.body.style.msTouchAction!==void 0;W?setTimeout(function(){r.current.focus()}):r.current.focus()}},N=function(z){var V=E();z.target!==r.current&&!V&&!(a==="combobox"&&u)&&z.preventDefault(),(a!=="combobox"&&(!l||!V)||!s)&&(s&&f!==!1&&m("",!0,!1),v())},O={inputRef:r,onInputKeyDown:S,onInputMouseDown:T,onInputChange:k,onInputPaste:D,onInputCompositionStart:M,onInputCompositionEnd:R,onInputBlur:b},j=a==="multiple"||a==="tags"?h.createElement(VMe,B({},e,O)):h.createElement(HMe,B({},e,O));return h.createElement("div",{ref:x,className:"".concat(i,"-selector"),onClick:A,onMouseDown:N},d&&h.createElement("div",{className:"".concat(i,"-prefix")},d),j)},UMe=h.forwardRef(WMe);function qMe(t){var e=t.prefixCls,n=t.align,r=t.arrow,o=t.arrowPos,i=r||{},s=i.className,a=i.content,l=o.x,c=l===void 0?0:l,u=o.y,d=u===void 0?0:u,f=h.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(n.autoArrow!==!1){var g=n.points[0],v=n.points[1],y=g[0],b=g[1],x=v[0],w=v[1];y===x||!["t","b"].includes(y)?m.top=d:y==="t"?m.top=0:m.bottom=0,b===w||!["l","r"].includes(b)?m.left=c:b==="l"?m.left=0:m.right=0}return h.createElement("div",{ref:f,className:Me("".concat(e,"-arrow"),s),style:m},a)}function KMe(t){var e=t.prefixCls,n=t.open,r=t.zIndex,o=t.mask,i=t.motion;return o?h.createElement(Mu,B({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return h.createElement("div",{style:{zIndex:r},className:Me("".concat(e,"-mask"),a)})}):null}var GMe=h.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),YMe=h.forwardRef(function(t,e){var n=t.popup,r=t.className,o=t.prefixCls,i=t.style,s=t.target,a=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,f=t.mask,m=t.arrow,g=t.arrowPos,v=t.align,y=t.motion,b=t.maskMotion,x=t.forceRender,w=t.getPopupContainer,C=t.autoDestroy,E=t.portal,_=t.zIndex,S=t.onMouseEnter,T=t.onMouseLeave,I=t.onPointerEnter,P=t.onPointerDownCapture,M=t.ready,R=t.offsetX,k=t.offsetY,D=t.offsetR,A=t.offsetB,N=t.onAlign,O=t.onPrepare,j=t.stretch,L=t.targetWidth,z=t.targetHeight,V=typeof n=="function"?n():n,W=l||c,Y=(w==null?void 0:w.length)>0,U=h.useState(!w||!Y),q=Fe(U,2),K=q[0],J=q[1];if(nr(function(){!K&&Y&&s&&J(!0)},[K,Y,s]),!K)return null;var X="auto",ue={left:"-1000vw",top:"-1000vh",right:X,bottom:X};if(M||!l){var _e,Ce=v.points,pe=v.dynamicInset||((_e=v._experimental)===null||_e===void 0?void 0:_e.dynamicInset),ge=pe&&Ce[0][1]==="r",F=pe&&Ce[0][0]==="b";ge?(ue.right=D,ue.left=X):(ue.left=R,ue.right=X),F?(ue.bottom=A,ue.top=X):(ue.top=k,ue.bottom=X)}var ce={};return j&&(j.includes("height")&&z?ce.height=z:j.includes("minHeight")&&z&&(ce.minHeight=z),j.includes("width")&&L?ce.width=L:j.includes("minWidth")&&L&&(ce.minWidth=L)),l||(ce.pointerEvents="none"),h.createElement(E,{open:x||W,getContainer:w&&function(){return w(s)},autoDestroy:C},h.createElement(KMe,{prefixCls:o,open:l,zIndex:_,mask:f,motion:b}),h.createElement(_l,{onResize:N,disabled:!l},function(le){return h.createElement(Mu,B({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:x,leavedClassName:"".concat(o,"-hidden")},y,{onAppearPrepare:O,onEnterPrepare:O,visible:l,onVisibleChanged:function(Q){var ye;y==null||(ye=y.onVisibleChanged)===null||ye===void 0||ye.call(y,Q),a(Q)}}),function(Z,Q){var ye=Z.className,fe=Z.style,ie=Me(o,ye,r);return h.createElement("div",{ref:Ka(le,e,Q),className:ie,style:Se(Se(Se(Se({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},ue),ce),fe),{},{boxSizing:"border-box",zIndex:_},i),onMouseEnter:S,onMouseLeave:T,onPointerEnter:I,onClick:d,onPointerDownCapture:P},m&&h.createElement(qMe,{prefixCls:o,arrow:m,arrowPos:g,align:v}),h.createElement(GMe,{cache:!l&&!u},V))})}))}),XMe=h.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,o=bc(n),i=h.useCallback(function(a){Jb(e,r?r(a):a)},[r]),s=Cf(i,vp(n));return o?h.cloneElement(n,{ref:s}):n}),X6=h.createContext(null);function Q6(t){return t?Array.isArray(t)?t:[t]:[]}function QMe(t,e,n,r){return h.useMemo(function(){var o=Q6(n??e),i=Q6(r??e),s=new Set(o),a=new Set(i);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function JMe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function ZMe(t,e,n,r){for(var o=n.points,i=Object.keys(t),s=0;s<i.length;s+=1){var a,l=i[s];if(JMe((a=t[l])===null||a===void 0?void 0:a.points,o,r))return"".concat(e,"-placement-").concat(l)}return""}function J6(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function bw(t){return t.ownerDocument.defaultView}function yM(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=bw(n).getComputedStyle(n),i=o.overflowX,s=o.overflowY,a=o.overflow;[i,s,a].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function ux(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Ry(t){return ux(parseFloat(t),0)}function Z6(t,e){var n=Se({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var o=bw(r).getComputedStyle(r),i=o.overflow,s=o.overflowClipMargin,a=o.borderTopWidth,l=o.borderBottomWidth,c=o.borderLeftWidth,u=o.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,m=r.clientHeight,g=r.offsetWidth,v=r.clientWidth,y=Ry(a),b=Ry(l),x=Ry(c),w=Ry(u),C=ux(Math.round(d.width/g*1e3)/1e3),E=ux(Math.round(d.height/f*1e3)/1e3),_=(g-v-x-w)*C,S=(f-m-y-b)*E,T=y*E,I=b*E,P=x*C,M=w*C,R=0,k=0;if(i==="clip"){var D=Ry(s);R=D*C,k=D*E}var A=d.x+P-R,N=d.y+T-k,O=A+d.width+2*R-P-M-_,j=N+d.height+2*k-T-I-S;n.left=Math.max(n.left,A),n.top=Math.max(n.top,N),n.right=Math.min(n.right,O),n.bottom=Math.min(n.bottom,j)}}),n}function e8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function t8(t,e){var n=e||[],r=Fe(n,2),o=r[0],i=r[1];return[e8(t.width,o),e8(t.height,i)]}function n8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function Hp(t,e){var n=e[0],r=e[1],o,i;return n==="t"?i=t.y:n==="b"?i=t.y+t.height:i=t.y+t.height/2,r==="l"?o=t.x:r==="r"?o=t.x+t.width:o=t.x+t.width/2,{x:o,y:i}}function Uu(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,o){return o===e?n[r]||"c":r}).join("")}function eOe(t,e,n,r,o,i,s){var a=h.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[r]||{}}),l=Fe(a,2),c=l[0],u=l[1],d=h.useRef(0),f=h.useMemo(function(){return e?yM(e):[]},[e]),m=h.useRef({}),g=function(){m.current={}};t||g();var v=br(function(){if(e&&n&&t){let Pr=function(mi,gi){var Fs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ee,Qa=U.x+mi,Ep=U.y+gi,Xv=Qa+ge,Ut=Ep+pe,nn=Math.max(Qa,Fs.left),Lr=Math.max(Ep,Fs.top),oo=Math.min(Xv,Fs.right),fr=Math.min(Ut,Fs.bottom);return Math.max(0,(oo-nn)*(fr-Lr))},ro=function(){wt=U.y+pt,Tt=wt+pe,en=U.x+st,Wt=en+ge};var pi=Pr,vo=ro,x,w,C,E,_=e,S=_.ownerDocument,T=bw(_),I=T.getComputedStyle(_),P=I.width,M=I.height,R=I.position,k=_.style.left,D=_.style.top,A=_.style.right,N=_.style.bottom,O=_.style.overflow,j=Se(Se({},o[r]),i),L=S.createElement("div");(x=_.parentElement)===null||x===void 0||x.appendChild(L),L.style.left="".concat(_.offsetLeft,"px"),L.style.top="".concat(_.offsetTop,"px"),L.style.position=R,L.style.height="".concat(_.offsetHeight,"px"),L.style.width="".concat(_.offsetWidth,"px"),_.style.left="0",_.style.top="0",_.style.right="auto",_.style.bottom="auto",_.style.overflow="hidden";var z;if(Array.isArray(n))z={x:n[0],y:n[1],width:0,height:0};else{var V,W,Y=n.getBoundingClientRect();Y.x=(V=Y.x)!==null&&V!==void 0?V:Y.left,Y.y=(W=Y.y)!==null&&W!==void 0?W:Y.top,z={x:Y.x,y:Y.y,width:Y.width,height:Y.height}}var U=_.getBoundingClientRect();U.x=(w=U.x)!==null&&w!==void 0?w:U.left,U.y=(C=U.y)!==null&&C!==void 0?C:U.top;var q=S.documentElement,K=q.clientWidth,J=q.clientHeight,X=q.scrollWidth,ue=q.scrollHeight,_e=q.scrollTop,Ce=q.scrollLeft,pe=U.height,ge=U.width,F=z.height,ce=z.width,le={left:0,top:0,right:K,bottom:J},Z={left:-Ce,top:-_e,right:X-Ce,bottom:ue-_e},Q=j.htmlRegion,ye="visible",fe="visibleFirst";Q!=="scroll"&&Q!==fe&&(Q=ye);var ie=Q===fe,re=Z6(Z,f),ve=Z6(le,f),ee=Q===ye?ve:re,he=ie?ve:ee;_.style.left="auto",_.style.top="auto",_.style.right="0",_.style.bottom="0";var we=_.getBoundingClientRect();_.style.left=k,_.style.top=D,_.style.right=A,_.style.bottom=N,_.style.overflow=O,(E=_.parentElement)===null||E===void 0||E.removeChild(L);var me=ux(Math.round(ge/parseFloat(P)*1e3)/1e3),ke=ux(Math.round(pe/parseFloat(M)*1e3)/1e3);if(me===0||ke===0||Qb(n)&&!hT(n))return;var Ie=j.offset,Re=j.targetOffset,$e=t8(U,Ie),ne=Fe($e,2),xe=ne[0],se=ne[1],ae=t8(z,Re),Ee=Fe(ae,2),Le=Ee[0],ze=Ee[1];z.x-=Le,z.y-=ze;var We=j.points||[],Ze=Fe(We,2),dt=Ze[0],de=Ze[1],je=n8(de),Ve=n8(dt),tt=Hp(z,je),Be=Hp(U,Ve),lt=Se({},j),st=tt.x-Be.x+xe,pt=tt.y-Be.y+se,Ct=Pr(st,pt),Pe=Pr(st,pt,ve),Te=Hp(z,["t","l"]),De=Hp(U,["t","l"]),Oe=Hp(z,["b","r"]),He=Hp(U,["b","r"]),Ge=j.overflow||{},ht=Ge.adjustX,Qe=Ge.adjustY,Xe=Ge.shiftX,nt=Ge.shiftY,ft=function(gi){return typeof gi=="boolean"?gi:gi>=0},wt,Tt,en,Wt;ro();var yt=ft(Qe),Bt=Ve[0]===je[0];if(yt&&Ve[0]==="t"&&(Tt>he.bottom||m.current.bt)){var bt=pt;Bt?bt-=pe-F:bt=Te.y-He.y-se;var It=Pr(st,bt),zt=Pr(st,bt,ve);It>Ct||It===Ct&&(!ie||zt>=Pe)?(m.current.bt=!0,pt=bt,se=-se,lt.points=[Uu(Ve,0),Uu(je,0)]):m.current.bt=!1}if(yt&&Ve[0]==="b"&&(wt<he.top||m.current.tb)){var Qt=pt;Bt?Qt+=pe-F:Qt=Oe.y-De.y-se;var gn=Pr(st,Qt),Zn=Pr(st,Qt,ve);gn>Ct||gn===Ct&&(!ie||Zn>=Pe)?(m.current.tb=!0,pt=Qt,se=-se,lt.points=[Uu(Ve,0),Uu(je,0)]):m.current.tb=!1}var Dn=ft(ht),Mr=Ve[1]===je[1];if(Dn&&Ve[1]==="l"&&(Wt>he.right||m.current.rl)){var Nt=st;Mr?Nt-=ge-ce:Nt=Te.x-He.x-xe;var Et=Pr(Nt,pt),Vt=Pr(Nt,pt,ve);Et>Ct||Et===Ct&&(!ie||Vt>=Pe)?(m.current.rl=!0,st=Nt,xe=-xe,lt.points=[Uu(Ve,1),Uu(je,1)]):m.current.rl=!1}if(Dn&&Ve[1]==="r"&&(en<he.left||m.current.lr)){var Wn=st;Mr?Wn+=ge-ce:Wn=Oe.x-De.x-xe;var jr=Pr(Wn,pt),An=Pr(Wn,pt,ve);jr>Ct||jr===Ct&&(!ie||An>=Pe)?(m.current.lr=!0,st=Wn,xe=-xe,lt.points=[Uu(Ve,1),Uu(je,1)]):m.current.lr=!1}ro();var dr=Xe===!0?0:Xe;typeof dr=="number"&&(en<ve.left&&(st-=en-ve.left-xe,z.x+ce<ve.left+dr&&(st+=z.x-ve.left+ce-dr)),Wt>ve.right&&(st-=Wt-ve.right-xe,z.x>ve.right-dr&&(st+=z.x-ve.right+dr)));var to=nt===!0?0:nt;typeof to=="number"&&(wt<ve.top&&(pt-=wt-ve.top-se,z.y+F<ve.top+to&&(pt+=z.y-ve.top+F-to)),Tt>ve.bottom&&(pt-=Tt-ve.bottom-se,z.y>ve.bottom-to&&(pt+=z.y-ve.bottom+to)));var hi=U.x+st,Ki=hi+ge,To=U.y+pt,Gi=To+pe,Pn=z.x,Lt=Pn+ce,Pt=z.y,vn=Pt+F,Tn=Math.max(hi,Pn),Un=Math.min(Ki,Lt),rr=(Tn+Un)/2,yn=rr-hi,zr=Math.max(To,Pt),Br=Math.min(Gi,vn),Vr=(zr+Br)/2,qo=Vr-To;s==null||s(e,lt);var an=we.right-U.x-(st+U.width),ln=we.bottom-U.y-(pt+U.height);me===1&&(st=Math.round(st),an=Math.round(an)),ke===1&&(pt=Math.round(pt),ln=Math.round(ln));var no={ready:!0,offsetX:st/me,offsetY:pt/ke,offsetR:an/me,offsetB:ln/ke,arrowX:yn/me,arrowY:qo/ke,scaleX:me,scaleY:ke,align:lt};u(no)}}),y=function(){d.current+=1;var w=d.current;Promise.resolve().then(function(){d.current===w&&v()})},b=function(){u(function(w){return Se(Se({},w),{},{ready:!1})})};return nr(b,[r]),nr(function(){t||b()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,y]}function tOe(t,e,n,r,o){nr(function(){if(t&&e&&n){let f=function(){r(),o()};var d=f,i=e,s=n,a=yM(i),l=yM(s),c=bw(s),u=new Set([c].concat(at(a),at(l)));return u.forEach(function(m){m.addEventListener("scroll",f,{passive:!0})}),c.addEventListener("resize",f,{passive:!0}),r(),function(){u.forEach(function(m){m.removeEventListener("scroll",f),c.removeEventListener("resize",f)})}}},[t,e,n])}function nOe(t,e,n,r,o,i,s,a){var l=h.useRef(t);l.current=t;var c=h.useRef(!1);h.useEffect(function(){if(e&&r&&(!o||i)){var d=function(){c.current=!1},f=function(y){var b;l.current&&!s(((b=y.composedPath)===null||b===void 0||(b=b.call(y))===null||b===void 0?void 0:b[0])||y.target)&&!c.current&&a(!1)},m=bw(r);m.addEventListener("pointerdown",d,!0),m.addEventListener("mousedown",f,!0),m.addEventListener("contextmenu",f,!0);var g=tE(n);return g&&(g.addEventListener("mousedown",f,!0),g.addEventListener("contextmenu",f,!0)),function(){m.removeEventListener("pointerdown",d,!0),m.removeEventListener("mousedown",f,!0),m.removeEventListener("contextmenu",f,!0),g&&(g.removeEventListener("mousedown",f,!0),g.removeEventListener("contextmenu",f,!0))}}},[e,n,r,o,i]);function u(){c.current=!0}return u}var rOe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function oOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_j,e=h.forwardRef(function(n,r){var o=n.prefixCls,i=o===void 0?"rc-trigger-popup":o,s=n.children,a=n.action,l=a===void 0?"hover":a,c=n.showAction,u=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,m=n.onPopupVisibleChange,g=n.afterPopupVisibleChange,v=n.mouseEnterDelay,y=n.mouseLeaveDelay,b=y===void 0?.1:y,x=n.focusDelay,w=n.blurDelay,C=n.mask,E=n.maskClosable,_=E===void 0?!0:E,S=n.getPopupContainer,T=n.forceRender,I=n.autoDestroy,P=n.destroyPopupOnHide,M=n.popup,R=n.popupClassName,k=n.popupStyle,D=n.popupPlacement,A=n.builtinPlacements,N=A===void 0?{}:A,O=n.popupAlign,j=n.zIndex,L=n.stretch,z=n.getPopupClassNameFromAlign,V=n.fresh,W=n.alignPoint,Y=n.onPopupClick,U=n.onPopupAlign,q=n.arrow,K=n.popupMotion,J=n.maskMotion,X=n.popupTransitionName,ue=n.popupAnimation,_e=n.maskTransitionName,Ce=n.maskAnimation,pe=n.className,ge=n.getTriggerDOMNode,F=cn(n,rOe),ce=I||P||!1,le=h.useState(!1),Z=Fe(le,2),Q=Z[0],ye=Z[1];nr(function(){ye(qZ())},[]);var fe=h.useRef({}),ie=h.useContext(X6),re=h.useMemo(function(){return{registerSubPopup:function(nn,Lr){fe.current[nn]=Lr,ie==null||ie.registerSubPopup(nn,Lr)}}},[ie]),ve=_T(),ee=h.useState(null),he=Fe(ee,2),we=he[0],me=he[1],ke=h.useRef(null),Ie=br(function(Ut){ke.current=Ut,Qb(Ut)&&we!==Ut&&me(Ut),ie==null||ie.registerSubPopup(ve,Ut)}),Re=h.useState(null),$e=Fe(Re,2),ne=$e[0],xe=$e[1],se=h.useRef(null),ae=br(function(Ut){Qb(Ut)&&ne!==Ut&&(xe(Ut),se.current=Ut)}),Ee=h.Children.only(s),Le=(Ee==null?void 0:Ee.props)||{},ze={},We=br(function(Ut){var nn,Lr,oo=ne;return(oo==null?void 0:oo.contains(Ut))||((nn=tE(oo))===null||nn===void 0?void 0:nn.host)===Ut||Ut===oo||(we==null?void 0:we.contains(Ut))||((Lr=tE(we))===null||Lr===void 0?void 0:Lr.host)===Ut||Ut===we||Object.values(fe.current).some(function(fr){return(fr==null?void 0:fr.contains(Ut))||Ut===fr})}),Ze=J6(i,K,ue,X),dt=J6(i,J,Ce,_e),de=h.useState(f||!1),je=Fe(de,2),Ve=je[0],tt=je[1],Be=d??Ve,lt=br(function(Ut){d===void 0&&tt(Ut)});nr(function(){tt(d||!1)},[d]);var st=h.useRef(Be);st.current=Be;var pt=h.useRef([]);pt.current=[];var Ct=br(function(Ut){var nn;lt(Ut),((nn=pt.current[pt.current.length-1])!==null&&nn!==void 0?nn:Be)!==Ut&&(pt.current.push(Ut),m==null||m(Ut))}),Pe=h.useRef(),Te=function(){clearTimeout(Pe.current)},De=function(nn){var Lr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Te(),Lr===0?Ct(nn):Pe.current=setTimeout(function(){Ct(nn)},Lr*1e3)};h.useEffect(function(){return Te},[]);var Oe=h.useState(!1),He=Fe(Oe,2),Ge=He[0],ht=He[1];nr(function(Ut){(!Ut||Be)&&ht(!0)},[Be]);var Qe=h.useState(null),Xe=Fe(Qe,2),nt=Xe[0],ft=Xe[1],wt=h.useState(null),Tt=Fe(wt,2),en=Tt[0],Wt=Tt[1],yt=function(nn){Wt([nn.clientX,nn.clientY])},Bt=eOe(Be,we,W&&en!==null?en:ne,D,N,O,U),bt=Fe(Bt,11),It=bt[0],zt=bt[1],Qt=bt[2],gn=bt[3],Zn=bt[4],Dn=bt[5],Mr=bt[6],Nt=bt[7],Et=bt[8],Vt=bt[9],Wn=bt[10],jr=QMe(Q,l,c,u),An=Fe(jr,2),dr=An[0],to=An[1],hi=dr.has("click"),Ki=to.has("click")||to.has("contextMenu"),To=br(function(){Ge||Wn()}),Gi=function(){st.current&&W&&Ki&&De(!1)};tOe(Be,ne,we,To,Gi),nr(function(){To()},[en,D]),nr(function(){Be&&!(N!=null&&N[D])&&To()},[JSON.stringify(O)]);var Pn=h.useMemo(function(){var Ut=ZMe(N,i,Vt,W);return Me(Ut,z==null?void 0:z(Vt))},[Vt,z,N,i,W]);h.useImperativeHandle(r,function(){return{nativeElement:se.current,popupElement:ke.current,forceAlign:To}});var Lt=h.useState(0),Pt=Fe(Lt,2),vn=Pt[0],Tn=Pt[1],Un=h.useState(0),rr=Fe(Un,2),yn=rr[0],zr=rr[1],Br=function(){if(L&&ne){var nn=ne.getBoundingClientRect();Tn(nn.width),zr(nn.height)}},Vr=function(){Br(),To()},qo=function(nn){ht(!1),Wn(),g==null||g(nn)},an=function(){return new Promise(function(nn){Br(),ft(function(){return nn})})};nr(function(){nt&&(Wn(),nt(),ft(null))},[nt]);function ln(Ut,nn,Lr,oo){ze[Ut]=function(fr){var $c;oo==null||oo(fr),De(nn,Lr);for(var Tp=arguments.length,ju=new Array(Tp>1?Tp-1:0),Rl=1;Rl<Tp;Rl++)ju[Rl-1]=arguments[Rl];($c=Le[Ut])===null||$c===void 0||$c.call.apply($c,[Le,fr].concat(ju))}}(hi||Ki)&&(ze.onClick=function(Ut){var nn;st.current&&Ki?De(!1):!st.current&&hi&&(yt(Ut),De(!0));for(var Lr=arguments.length,oo=new Array(Lr>1?Lr-1:0),fr=1;fr<Lr;fr++)oo[fr-1]=arguments[fr];(nn=Le.onClick)===null||nn===void 0||nn.call.apply(nn,[Le,Ut].concat(oo))});var no=nOe(Be,Ki,ne,we,C,_,We,De),pi=dr.has("hover"),vo=to.has("hover"),Pr,ro;pi&&(ln("onMouseEnter",!0,v,function(Ut){yt(Ut)}),ln("onPointerEnter",!0,v,function(Ut){yt(Ut)}),Pr=function(nn){(Be||Ge)&&we!==null&&we!==void 0&&we.contains(nn.target)&&De(!0,v)},W&&(ze.onMouseMove=function(Ut){var nn;(nn=Le.onMouseMove)===null||nn===void 0||nn.call(Le,Ut)})),vo&&(ln("onMouseLeave",!1,b),ln("onPointerLeave",!1,b),ro=function(){De(!1,b)}),dr.has("focus")&&ln("onFocus",!0,x),to.has("focus")&&ln("onBlur",!1,w),dr.has("contextMenu")&&(ze.onContextMenu=function(Ut){var nn;st.current&&to.has("contextMenu")?De(!1):(yt(Ut),De(!0)),Ut.preventDefault();for(var Lr=arguments.length,oo=new Array(Lr>1?Lr-1:0),fr=1;fr<Lr;fr++)oo[fr-1]=arguments[fr];(nn=Le.onContextMenu)===null||nn===void 0||nn.call.apply(nn,[Le,Ut].concat(oo))}),pe&&(ze.className=Me(Le.className,pe));var mi=Se(Se({},Le),ze),gi={},Fs=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Fs.forEach(function(Ut){F[Ut]&&(gi[Ut]=function(){for(var nn,Lr=arguments.length,oo=new Array(Lr),fr=0;fr<Lr;fr++)oo[fr]=arguments[fr];(nn=mi[Ut])===null||nn===void 0||nn.call.apply(nn,[mi].concat(oo)),F[Ut].apply(F,oo)})});var Qa=h.cloneElement(Ee,Se(Se({},mi),gi)),Ep={x:Dn,y:Mr},Xv=q?Se({},q!==!0?q:{}):null;return h.createElement(h.Fragment,null,h.createElement(_l,{disabled:!Be,ref:ae,onResize:Vr},h.createElement(XMe,{getTriggerDOMNode:ge},Qa)),h.createElement(X6.Provider,{value:re},h.createElement(YMe,{portal:t,ref:Ie,prefixCls:i,popup:M,className:Me(R,Pn),style:k,target:ne,onMouseEnter:Pr,onMouseLeave:ro,onPointerEnter:Pr,zIndex:j,open:Be,keepDom:Ge,fresh:V,onClick:Y,onPointerDownCapture:no,mask:C,motion:Ze,maskMotion:dt,onVisibleChanged:qo,onPrepare:an,forceRender:T,autoDestroy:ce,getPopupContainer:S,align:Vt,arrow:Xv,arrowPos:Ep,ready:It,offsetX:zt,offsetY:Qt,offsetR:gn,offsetB:Zn,onAlign:To,stretch:L,targetWidth:vn/Nt,targetHeight:yn/Et})))});return e}const PT=oOe(_j);var iOe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],sOe=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},aOe=function(e,n){var r=e.prefixCls;e.disabled;var o=e.visible,i=e.children,s=e.popupElement,a=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=d===void 0?"ltr":d,m=e.placement,g=e.builtinPlacements,v=e.dropdownMatchSelectWidth,y=e.dropdownRender,b=e.dropdownAlign,x=e.getPopupContainer,w=e.empty,C=e.getTriggerDOMNode,E=e.onPopupVisibleChange,_=e.onPopupMouseEnter,S=cn(e,iOe),T="".concat(r,"-dropdown"),I=s;y&&(I=y(s));var P=h.useMemo(function(){return g||sOe(v)},[g,v]),M=a?"".concat(T,"-").concat(a):l,R=typeof v=="number",k=h.useMemo(function(){return R?null:v===!1?"minWidth":"width"},[v,R]),D=c;R&&(D=Se(Se({},D),{},{width:v}));var A=h.useRef(null);return h.useImperativeHandle(n,function(){return{getPopupElement:function(){var O;return(O=A.current)===null||O===void 0?void 0:O.popupElement}}}),h.createElement(PT,B({},S,{showAction:E?["click"]:[],hideAction:E?["click"]:[],popupPlacement:m||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:T,popupTransitionName:M,popup:h.createElement("div",{onMouseEnter:_},I),ref:A,stretch:k,popupAlign:b,popupVisible:o,getPopupContainer:x,popupClassName:Me(u,te({},"".concat(T,"-empty"),w)),popupStyle:D,getTriggerDOMNode:C,onPopupVisibleChange:E}),i)},lOe=h.forwardRef(aOe);function r8(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function bM(t){return typeof t<"u"&&!Number.isNaN(t)}function tee(t,e){var n=t||{},r=n.label,o=n.value,i=n.options,s=n.groupLabel,a=r||(e?"children":"label");return{label:a,value:o||"value",options:i||"options",groupLabel:s||a}}function cOe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,o=[],i=tee(n,!1),s=i.label,a=i.value,l=i.options,c=i.groupLabel;function u(d,f){Array.isArray(d)&&d.forEach(function(m){if(f||!(l in m)){var g=m[a];o.push({key:r8(m,o.length),groupOption:f,data:m,label:m[s],value:g})}else{var v=m[c];v===void 0&&r&&(v=m.label),o.push({key:r8(m,o.length),group:!0,data:m,label:v}),u(m[l],!0)}})}return u(t,!1),o}function xM(t){var e=Se({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return Jr(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var uOe=function(e,n,r){if(!n||!n.length)return null;var o=!1,i=function a(l,c){var u=lJ(c),d=u[0],f=u.slice(1);if(!d)return[l];var m=l.split(d);return o=o||m.length>1,m.reduce(function(g,v){return[].concat(at(g),at(a(v,f)))},[]).filter(Boolean)},s=i(e,n);return o?typeof r<"u"?s.slice(0,r):s:null},Tj=h.createContext(null);function dOe(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return h.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(o){var i=o.label,s=o.value;return["number","string"].includes(At(i))?i:s}).join(", ")),n.length>r?", ...":null)}var fOe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],hOe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],wM=function(e){return e==="tags"||e==="multiple"},pOe=h.forwardRef(function(t,e){var n,r=t.id,o=t.prefixCls,i=t.className,s=t.showSearch,a=t.tagRender,l=t.direction,c=t.omitDomProps,u=t.displayValues,d=t.onDisplayValuesChange,f=t.emptyOptions,m=t.notFoundContent,g=m===void 0?"Not Found":m,v=t.onClear,y=t.mode,b=t.disabled,x=t.loading,w=t.getInputElement,C=t.getRawInputElement,E=t.open,_=t.defaultOpen,S=t.onDropdownVisibleChange,T=t.activeValue,I=t.onActiveValueChange,P=t.activeDescendantId,M=t.searchValue,R=t.autoClearSearchValue,k=t.onSearch,D=t.onSearchSplit,A=t.tokenSeparators,N=t.allowClear,O=t.prefix,j=t.suffixIcon,L=t.clearIcon,z=t.OptionList,V=t.animation,W=t.transitionName,Y=t.dropdownStyle,U=t.dropdownClassName,q=t.dropdownMatchSelectWidth,K=t.dropdownRender,J=t.dropdownAlign,X=t.placement,ue=t.builtinPlacements,_e=t.getPopupContainer,Ce=t.showAction,pe=Ce===void 0?[]:Ce,ge=t.onFocus,F=t.onBlur,ce=t.onKeyUp,le=t.onKeyDown,Z=t.onMouseDown,Q=cn(t,fOe),ye=wM(y),fe=(s!==void 0?s:ye)||y==="combobox",ie=Se({},Q);hOe.forEach(function(Lt){delete ie[Lt]}),c==null||c.forEach(function(Lt){delete ie[Lt]});var re=h.useState(!1),ve=Fe(re,2),ee=ve[0],he=ve[1];h.useEffect(function(){he(qZ())},[]);var we=h.useRef(null),me=h.useRef(null),ke=h.useRef(null),Ie=h.useRef(null),Re=h.useRef(null),$e=h.useRef(!1),ne=wMe(),xe=Fe(ne,3),se=xe[0],ae=xe[1],Ee=xe[2];h.useImperativeHandle(e,function(){var Lt,Pt;return{focus:(Lt=Ie.current)===null||Lt===void 0?void 0:Lt.focus,blur:(Pt=Ie.current)===null||Pt===void 0?void 0:Pt.blur,scrollTo:function(Tn){var Un;return(Un=Re.current)===null||Un===void 0?void 0:Un.scrollTo(Tn)},nativeElement:we.current||me.current}});var Le=h.useMemo(function(){var Lt;if(y!=="combobox")return M;var Pt=(Lt=u[0])===null||Lt===void 0?void 0:Lt.value;return typeof Pt=="string"||typeof Pt=="number"?String(Pt):""},[M,y,u]),ze=y==="combobox"&&typeof w=="function"&&w()||null,We=typeof C=="function"&&C(),Ze=Cf(me,We==null||(n=We.props)===null||n===void 0?void 0:n.ref),dt=h.useState(!1),de=Fe(dt,2),je=de[0],Ve=de[1];nr(function(){Ve(!0)},[]);var tt=Wo(!1,{defaultValue:_,value:E}),Be=Fe(tt,2),lt=Be[0],st=Be[1],pt=je?lt:!1,Ct=!g&&f;(b||Ct&&pt&&y==="combobox")&&(pt=!1);var Pe=Ct?!1:pt,Te=h.useCallback(function(Lt){var Pt=Lt!==void 0?Lt:!pt;b||(st(Pt),pt!==Pt&&(S==null||S(Pt)))},[b,pt,st,S]),De=h.useMemo(function(){return(A||[]).some(function(Lt){return[`
`,`\r
`].includes(Lt)})},[A]),Oe=h.useContext(Tj)||{},He=Oe.maxCount,Ge=Oe.rawValues,ht=function(Pt,vn,Tn){if(!(ye&&bM(He)&&(Ge==null?void 0:Ge.size)>=He)){var Un=!0,rr=Pt;I==null||I(null);var yn=uOe(Pt,A,bM(He)?He-Ge.size:void 0),zr=Tn?null:yn;return y!=="combobox"&&zr&&(rr="",D==null||D(zr),Te(!1),Un=!1),k&&Le!==rr&&k(rr,{source:vn?"typing":"effect"}),Un}},Qe=function(Pt){!Pt||!Pt.trim()||k(Pt,{source:"submit"})};h.useEffect(function(){!pt&&!ye&&y!=="combobox"&&ht("",!1,!1)},[pt]),h.useEffect(function(){lt&&b&&st(!1),b&&!$e.current&&ae(!1)},[b]);var Xe=GZ(),nt=Fe(Xe,2),ft=nt[0],wt=nt[1],Tt=h.useRef(!1),en=function(Pt){var vn=ft(),Tn=Pt.key,Un=Tn==="Enter";if(Un&&(y!=="combobox"&&Pt.preventDefault(),pt||Te(!0)),wt(!!Le),Tn==="Backspace"&&!vn&&ye&&!Le&&u.length){for(var rr=at(u),yn=null,zr=rr.length-1;zr>=0;zr-=1){var Br=rr[zr];if(!Br.disabled){rr.splice(zr,1),yn=Br;break}}yn&&d(rr,{type:"remove",values:[yn]})}for(var Vr=arguments.length,qo=new Array(Vr>1?Vr-1:0),an=1;an<Vr;an++)qo[an-1]=arguments[an];if(pt&&(!Un||!Tt.current)){var ln;Un&&(Tt.current=!0),(ln=Re.current)===null||ln===void 0||ln.onKeyDown.apply(ln,[Pt].concat(qo))}le==null||le.apply(void 0,[Pt].concat(qo))},Wt=function(Pt){for(var vn=arguments.length,Tn=new Array(vn>1?vn-1:0),Un=1;Un<vn;Un++)Tn[Un-1]=arguments[Un];if(pt){var rr;(rr=Re.current)===null||rr===void 0||rr.onKeyUp.apply(rr,[Pt].concat(Tn))}Pt.key==="Enter"&&(Tt.current=!1),ce==null||ce.apply(void 0,[Pt].concat(Tn))},yt=function(Pt){var vn=u.filter(function(Tn){return Tn!==Pt});d(vn,{type:"remove",values:[Pt]})},Bt=function(){Tt.current=!1},bt=h.useRef(!1),It=function(){ae(!0),b||(ge&&!bt.current&&ge.apply(void 0,arguments),pe.includes("focus")&&Te(!0)),bt.current=!0},zt=function(){$e.current=!0,ae(!1,function(){bt.current=!1,$e.current=!1,Te(!1)}),!b&&(Le&&(y==="tags"?k(Le,{source:"submit"}):y==="multiple"&&k("",{source:"blur"})),F&&F.apply(void 0,arguments))},Qt=[];h.useEffect(function(){return function(){Qt.forEach(function(Lt){return clearTimeout(Lt)}),Qt.splice(0,Qt.length)}},[]);var gn=function(Pt){var vn,Tn=Pt.target,Un=(vn=ke.current)===null||vn===void 0?void 0:vn.getPopupElement();if(Un&&Un.contains(Tn)){var rr=setTimeout(function(){var Vr=Qt.indexOf(rr);if(Vr!==-1&&Qt.splice(Vr,1),Ee(),!ee&&!Un.contains(document.activeElement)){var qo;(qo=Ie.current)===null||qo===void 0||qo.focus()}});Qt.push(rr)}for(var yn=arguments.length,zr=new Array(yn>1?yn-1:0),Br=1;Br<yn;Br++)zr[Br-1]=arguments[Br];Z==null||Z.apply(void 0,[Pt].concat(zr))},Zn=h.useState({}),Dn=Fe(Zn,2),Mr=Dn[1];function Nt(){Mr({})}var Et;We&&(Et=function(Pt){Te(Pt)}),SMe(function(){var Lt;return[we.current,(Lt=ke.current)===null||Lt===void 0?void 0:Lt.getPopupElement()]},Pe,Te,!!We);var Vt=h.useMemo(function(){return Se(Se({},t),{},{notFoundContent:g,open:pt,triggerOpen:Pe,id:r,showSearch:fe,multiple:ye,toggleOpen:Te})},[t,g,Pe,pt,r,fe,ye,Te]),Wn=!!j||x,jr;Wn&&(jr=h.createElement(IT,{className:Me("".concat(o,"-arrow"),te({},"".concat(o,"-arrow-loading"),x)),customizeIcon:j,customizeIconProps:{loading:x,searchValue:Le,open:pt,focused:se,showSearch:fe}}));var An=function(){var Pt;v==null||v(),(Pt=Ie.current)===null||Pt===void 0||Pt.focus(),d([],{type:"clear",values:u}),ht("",!1,!1)},dr=bMe(o,An,u,N,L,b,Le,y),to=dr.allowClear,hi=dr.clearIcon,Ki=h.createElement(z,{ref:Re}),To=Me(o,i,te(te(te(te(te(te(te(te(te(te({},"".concat(o,"-focused"),se),"".concat(o,"-multiple"),ye),"".concat(o,"-single"),!ye),"".concat(o,"-allow-clear"),N),"".concat(o,"-show-arrow"),Wn),"".concat(o,"-disabled"),b),"".concat(o,"-loading"),x),"".concat(o,"-open"),pt),"".concat(o,"-customize-input"),ze),"".concat(o,"-show-search"),fe)),Gi=h.createElement(lOe,{ref:ke,disabled:b,prefixCls:o,visible:Pe,popupElement:Ki,animation:V,transitionName:W,dropdownStyle:Y,dropdownClassName:U,direction:l,dropdownMatchSelectWidth:q,dropdownRender:K,dropdownAlign:J,placement:X,builtinPlacements:ue,getPopupContainer:_e,empty:f,getTriggerDOMNode:function(Pt){return me.current||Pt},onPopupVisibleChange:Et,onPopupMouseEnter:Nt},We?h.cloneElement(We,{ref:Ze}):h.createElement(UMe,B({},t,{domRef:me,prefixCls:o,inputElement:ze,ref:Ie,id:r,prefix:O,showSearch:fe,autoClearSearchValue:R,mode:y,activeDescendantId:P,tagRender:a,values:u,open:pt,onToggleOpen:Te,activeValue:T,searchValue:Le,onSearch:ht,onSearchSubmit:Qe,onRemove:yt,tokenWithEnter:De,onInputBlur:Bt}))),Pn;return We?Pn=Gi:Pn=h.createElement("div",B({className:To},ie,{ref:we,onMouseDown:gn,onKeyDown:en,onKeyUp:Wt,onFocus:It,onBlur:zt}),h.createElement(dOe,{visible:se&&!pt,values:u}),Gi,jr,to&&hi),h.createElement(KZ.Provider,{value:Vt},Pn)}),Ij=function(){return null};Ij.isSelectOptGroup=!0;var Pj=function(){return null};Pj.isSelectOption=!0;var nee=h.forwardRef(function(t,e){var n=t.height,r=t.offsetY,o=t.offsetX,i=t.children,s=t.prefixCls,a=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,d={},f={display:"flex",flexDirection:"column"};return r!==void 0&&(d={height:n,position:"relative",overflow:"hidden"},f=Se(Se({},f),{},te(te(te(te(te({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:d},h.createElement(_l,{onResize:function(g){var v=g.offsetHeight;v&&a&&a()}},h.createElement("div",B({style:f,className:Me(te({},"".concat(s,"-holder-inner"),s)),ref:e},l),i,u)))});nee.displayName="Filler";function mOe(t){var e=t.children,n=t.setRef,r=h.useCallback(function(o){n(o)},[]);return h.cloneElement(e,{ref:r})}function gOe(t,e,n,r,o,i,s,a){var l=a.getKey;return t.slice(e,n+1).map(function(c,u){var d=e+u,f=s(c,d,{style:{width:r},offsetX:o}),m=l(c);return h.createElement(mOe,{key:m,setRef:function(v){return i(c,v)}},f)})}function vOe(t,e,n){var r=t.length,o=e.length,i,s;if(r===0&&o===0)return null;r<o?(i=t,s=e):(i=e,s=t);var a={__EMPTY_ITEM__:!0};function l(g){return g!==void 0?n(g):a}for(var c=null,u=Math.abs(r-o)!==1,d=0;d<s.length;d+=1){var f=l(i[d]),m=l(s[d]);if(f!==m){c=d,u=u||f!==l(s[d+1]);break}}return c===null?null:{index:c,multiple:u}}function yOe(t,e,n){var r=h.useState(t),o=Fe(r,2),i=o[0],s=o[1],a=h.useState(null),l=Fe(a,2),c=l[0],u=l[1];return h.useEffect(function(){var d=vOe(i||[],t||[],e);(d==null?void 0:d.index)!==void 0&&u(t[d.index]),s(t)},[t]),[c]}var o8=(typeof navigator>"u"?"undefined":At(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const ree=function(t,e,n,r){var o=h.useRef(!1),i=h.useRef(null);function s(){clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)}var a=h.useRef({top:t,bottom:e,left:n,right:r});return a.current.top=t,a.current.bottom=e,a.current.left=n,a.current.right=r,function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?c<0&&a.current.left||c>0&&a.current.right:c<0&&a.current.top||c>0&&a.current.bottom;return u&&d?(clearTimeout(i.current),o.current=!1):(!d||o.current)&&s(),!o.current&&d}};function bOe(t,e,n,r,o,i,s){var a=h.useRef(0),l=h.useRef(null),c=h.useRef(null),u=h.useRef(!1),d=ree(e,n,r,o);function f(x,w){if(qn.cancel(l.current),!d(!1,w)){var C=x;if(!C._virtualHandled)C._virtualHandled=!0;else return;a.current+=w,c.current=w,o8||C.preventDefault(),l.current=qn(function(){var E=u.current?10:1;s(a.current*E,!1),a.current=0})}}function m(x,w){s(w,!0),o8||x.preventDefault()}var g=h.useRef(null),v=h.useRef(null);function y(x){if(t){qn.cancel(v.current),v.current=qn(function(){g.current=null},2);var w=x.deltaX,C=x.deltaY,E=x.shiftKey,_=w,S=C;(g.current==="sx"||!g.current&&E&&C&&!w)&&(_=C,S=0,g.current="sx");var T=Math.abs(_),I=Math.abs(S);g.current===null&&(g.current=i&&T>I?"x":"y"),g.current==="y"?f(x,S):m(x,_)}}function b(x){t&&(u.current=x.detail===c.current)}return[y,b]}function xOe(t,e,n,r){var o=h.useMemo(function(){return[new Map,[]]},[t,n.id,r]),i=Fe(o,2),s=i[0],a=i[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,f=s.get(u),m=s.get(d);if(f===void 0||m===void 0)for(var g=t.length,v=a.length;v<g;v+=1){var y,b=t[v],x=e(b);s.set(x,v);var w=(y=n.get(x))!==null&&y!==void 0?y:r;if(a[v]=(a[v-1]||0)+w,x===u&&(f=v),x===d&&(m=v),f!==void 0&&m!==void 0)break}return{top:a[f-1]||0,bottom:a[m]}};return l}var wOe=function(){function t(){on(this,t),te(this,"maps",void 0),te(this,"id",0),te(this,"diffKeys",new Set),this.maps=Object.create(null)}return sn(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1,this.diffKeys.add(n)}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),t}();function i8(t){var e=parseFloat(t);return isNaN(e)?0:e}function SOe(t,e,n){var r=h.useState(0),o=Fe(r,2),i=o[0],s=o[1],a=h.useRef(new Map),l=h.useRef(new wOe),c=h.useRef(0);function u(){c.current+=1}function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var g=function(){var b=!1;a.current.forEach(function(x,w){if(x&&x.offsetParent){var C=x.offsetHeight,E=getComputedStyle(x),_=E.marginTop,S=E.marginBottom,T=i8(_),I=i8(S),P=C+T+I;l.current.get(w)!==P&&(l.current.set(w,P),b=!0)}}),b&&s(function(x){return x+1})};if(m)g();else{c.current+=1;var v=c.current;Promise.resolve().then(function(){v===c.current&&g()})}}function f(m,g){var v=t(m);a.current.get(v),g?(a.current.set(v,g),d()):a.current.delete(v)}return h.useEffect(function(){return u},[]),[f,d,l.current,i]}var s8=14/15;function COe(t,e,n){var r=h.useRef(!1),o=h.useRef(0),i=h.useRef(0),s=h.useRef(null),a=h.useRef(null),l,c=function(m){if(r.current){var g=Math.ceil(m.touches[0].pageX),v=Math.ceil(m.touches[0].pageY),y=o.current-g,b=i.current-v,x=Math.abs(y)>Math.abs(b);x?o.current=g:i.current=v;var w=n(x,x?y:b,!1,m);w&&m.preventDefault(),clearInterval(a.current),w&&(a.current=setInterval(function(){x?y*=s8:b*=s8;var C=Math.floor(x?y:b);(!n(x,C,!0)||Math.abs(C)<=.1)&&clearInterval(a.current)},16))}},u=function(){r.current=!1,l()},d=function(m){l(),m.touches.length===1&&!r.current&&(r.current=!0,o.current=Math.ceil(m.touches[0].pageX),i.current=Math.ceil(m.touches[0].pageY),s.current=m.target,s.current.addEventListener("touchmove",c,{passive:!1}),s.current.addEventListener("touchend",u,{passive:!0}))};l=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},nr(function(){return t&&e.current.addEventListener("touchstart",d,{passive:!0}),function(){var f;(f=e.current)===null||f===void 0||f.removeEventListener("touchstart",d),l(),clearInterval(a.current)}},[t])}function a8(t){return Math.floor(Math.pow(t,.5))}function SM(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]-window[e?"scrollX":"scrollY"]}function _Oe(t,e,n){h.useEffect(function(){var r=e.current;if(t&&r){var o=!1,i,s,a=function(){qn.cancel(i)},l=function f(){a(),i=qn(function(){n(s),f()})},c=function(m){if(!(m.target.draggable||m.button!==0)){var g=m;g._virtualHandled||(g._virtualHandled=!0,o=!0)}},u=function(){o=!1,a()},d=function(m){if(o){var g=SM(m,!1),v=r.getBoundingClientRect(),y=v.top,b=v.bottom;if(g<=y){var x=y-g;s=-a8(x),l()}else if(g>=b){var w=g-b;s=a8(w),l()}else a()}};return r.addEventListener("mousedown",c),r.ownerDocument.addEventListener("mouseup",u),r.ownerDocument.addEventListener("mousemove",d),function(){r.removeEventListener("mousedown",c),r.ownerDocument.removeEventListener("mouseup",u),r.ownerDocument.removeEventListener("mousemove",d),a()}}},[t])}var EOe=10;function TOe(t,e,n,r,o,i,s,a){var l=h.useRef(),c=h.useState(null),u=Fe(c,2),d=u[0],f=u[1];return nr(function(){if(d&&d.times<EOe){if(!t.current){f(function(L){return Se({},L)});return}i();var m=d.targetAlign,g=d.originAlign,v=d.index,y=d.offset,b=t.current.clientHeight,x=!1,w=m,C=null;if(b){for(var E=m||g,_=0,S=0,T=0,I=Math.min(e.length-1,v),P=0;P<=I;P+=1){var M=o(e[P]);S=_;var R=n.get(M);T=S+(R===void 0?r:R),_=T}for(var k=E==="top"?y:b-y,D=I;D>=0;D-=1){var A=o(e[D]),N=n.get(A);if(N===void 0){x=!0;break}if(k-=N,k<=0)break}switch(E){case"top":C=S-y;break;case"bottom":C=T-b+y;break;default:{var O=t.current.scrollTop,j=O+b;S<O?w="top":T>j&&(w="bottom")}}C!==null&&s(C),C!==d.lastTop&&(x=!0)}x&&f(Se(Se({},d),{},{times:d.times+1,targetAlign:w,lastTop:C}))}},[d,t.current]),function(m){if(m==null){a();return}if(qn.cancel(l.current),typeof m=="number")s(m);else if(m&&At(m)==="object"){var g,v=m.align;"index"in m?g=m.index:g=e.findIndex(function(x){return o(x)===m.key});var y=m.offset,b=y===void 0?0:y;f({times:0,index:g,offset:b,originAlign:v})}}}var l8=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,o=t.scrollOffset,i=t.scrollRange,s=t.onStartMove,a=t.onStopMove,l=t.onScroll,c=t.horizontal,u=t.spinSize,d=t.containerSize,f=t.style,m=t.thumbStyle,g=t.showScrollBar,v=h.useState(!1),y=Fe(v,2),b=y[0],x=y[1],w=h.useState(null),C=Fe(w,2),E=C[0],_=C[1],S=h.useState(null),T=Fe(S,2),I=T[0],P=T[1],M=!r,R=h.useRef(),k=h.useRef(),D=h.useState(g),A=Fe(D,2),N=A[0],O=A[1],j=h.useRef(),L=function(){g===!0||g===!1||(clearTimeout(j.current),O(!0),j.current=setTimeout(function(){O(!1)},3e3))},z=i-d||0,V=d-u||0,W=h.useMemo(function(){if(o===0||z===0)return 0;var Ce=o/z;return Ce*V},[o,z,V]),Y=function(pe){pe.stopPropagation(),pe.preventDefault()},U=h.useRef({top:W,dragging:b,pageY:E,startTop:I});U.current={top:W,dragging:b,pageY:E,startTop:I};var q=function(pe){x(!0),_(SM(pe,c)),P(U.current.top),s(),pe.stopPropagation(),pe.preventDefault()};h.useEffect(function(){var Ce=function(ce){ce.preventDefault()},pe=R.current,ge=k.current;return pe.addEventListener("touchstart",Ce,{passive:!1}),ge.addEventListener("touchstart",q,{passive:!1}),function(){pe.removeEventListener("touchstart",Ce),ge.removeEventListener("touchstart",q)}},[]);var K=h.useRef();K.current=z;var J=h.useRef();J.current=V,h.useEffect(function(){if(b){var Ce,pe=function(ce){var le=U.current,Z=le.dragging,Q=le.pageY,ye=le.startTop;qn.cancel(Ce);var fe=R.current.getBoundingClientRect(),ie=d/(c?fe.width:fe.height);if(Z){var re=(SM(ce,c)-Q)*ie,ve=ye;!M&&c?ve-=re:ve+=re;var ee=K.current,he=J.current,we=he?ve/he:0,me=Math.ceil(we*ee);me=Math.max(me,0),me=Math.min(me,ee),Ce=qn(function(){l(me,c)})}},ge=function(){x(!1),a()};return window.addEventListener("mousemove",pe,{passive:!0}),window.addEventListener("touchmove",pe,{passive:!0}),window.addEventListener("mouseup",ge,{passive:!0}),window.addEventListener("touchend",ge,{passive:!0}),function(){window.removeEventListener("mousemove",pe),window.removeEventListener("touchmove",pe),window.removeEventListener("mouseup",ge),window.removeEventListener("touchend",ge),qn.cancel(Ce)}}},[b]),h.useEffect(function(){return L(),function(){clearTimeout(j.current)}},[o]),h.useImperativeHandle(e,function(){return{delayHidden:L}});var X="".concat(n,"-scrollbar"),ue={position:"absolute",visibility:N?null:"hidden"},_e={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(ue.height=8,ue.left=0,ue.right=0,ue.bottom=0,_e.height="100%",_e.width=u,M?_e.left=W:_e.right=W):(ue.width=8,ue.top=0,ue.bottom=0,M?ue.right=0:ue.left=0,_e.width="100%",_e.height=u,_e.top=W),h.createElement("div",{ref:R,className:Me(X,te(te(te({},"".concat(X,"-horizontal"),c),"".concat(X,"-vertical"),!c),"".concat(X,"-visible"),N)),style:Se(Se({},ue),f),onMouseDown:Y,onMouseMove:L},h.createElement("div",{ref:k,className:Me("".concat(X,"-thumb"),te({},"".concat(X,"-thumb-moving"),b)),style:Se(Se({},_e),m),onMouseDown:q}))}),IOe=20;function c8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,IOe),Math.floor(n)}var POe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],ROe=[],kOe={overflowY:"auto",overflowAnchor:"none"};function DOe(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,o=t.className,i=t.height,s=t.itemHeight,a=t.fullHeight,l=a===void 0?!0:a,c=t.style,u=t.data,d=t.children,f=t.itemKey,m=t.virtual,g=t.direction,v=t.scrollWidth,y=t.component,b=y===void 0?"div":y,x=t.onScroll,w=t.onVirtualScroll,C=t.onVisibleChange,E=t.innerProps,_=t.extraRender,S=t.styles,T=t.showScrollBar,I=T===void 0?"optional":T,P=cn(t,POe),M=h.useCallback(function(bt){return typeof f=="function"?f(bt):bt==null?void 0:bt[f]},[f]),R=SOe(M),k=Fe(R,4),D=k[0],A=k[1],N=k[2],O=k[3],j=!!(m!==!1&&i&&s),L=h.useMemo(function(){return Object.values(N.maps).reduce(function(bt,It){return bt+It},0)},[N.id,N.maps]),z=j&&u&&(Math.max(s*u.length,L)>i||!!v),V=g==="rtl",W=Me(r,te({},"".concat(r,"-rtl"),V),o),Y=u||ROe,U=h.useRef(),q=h.useRef(),K=h.useRef(),J=h.useState(0),X=Fe(J,2),ue=X[0],_e=X[1],Ce=h.useState(0),pe=Fe(Ce,2),ge=pe[0],F=pe[1],ce=h.useState(!1),le=Fe(ce,2),Z=le[0],Q=le[1],ye=function(){Q(!0)},fe=function(){Q(!1)},ie={getKey:M};function re(bt){_e(function(It){var zt;typeof bt=="function"?zt=bt(It):zt=bt;var Qt=Ve(zt);return U.current.scrollTop=Qt,Qt})}var ve=h.useRef({start:0,end:Y.length}),ee=h.useRef(),he=yOe(Y,M),we=Fe(he,1),me=we[0];ee.current=me;var ke=h.useMemo(function(){if(!j)return{scrollHeight:void 0,start:0,end:Y.length-1,offset:void 0};if(!z){var bt;return{scrollHeight:((bt=q.current)===null||bt===void 0?void 0:bt.offsetHeight)||0,start:0,end:Y.length-1,offset:void 0}}for(var It=0,zt,Qt,gn,Zn=Y.length,Dn=0;Dn<Zn;Dn+=1){var Mr=Y[Dn],Nt=M(Mr),Et=N.get(Nt),Vt=It+(Et===void 0?s:Et);Vt>=ue&&zt===void 0&&(zt=Dn,Qt=It),Vt>ue+i&&gn===void 0&&(gn=Dn),It=Vt}return zt===void 0&&(zt=0,Qt=0,gn=Math.ceil(i/s)),gn===void 0&&(gn=Y.length-1),gn=Math.min(gn+1,Y.length-1),{scrollHeight:It,start:zt,end:gn,offset:Qt}},[z,j,ue,Y,O,i]),Ie=ke.scrollHeight,Re=ke.start,$e=ke.end,ne=ke.offset;ve.current.start=Re,ve.current.end=$e,h.useLayoutEffect(function(){var bt=N.getRecord();if(bt.size===1){var It=Array.from(bt)[0],zt=Y[Re];if(zt){var Qt=M(zt);if(Qt===It){var gn=N.get(It),Zn=gn-s;re(function(Dn){return Dn+Zn})}}}N.resetRecord()},[Ie]);var xe=h.useState({width:0,height:i}),se=Fe(xe,2),ae=se[0],Ee=se[1],Le=function(It){Ee({width:It.offsetWidth,height:It.offsetHeight})},ze=h.useRef(),We=h.useRef(),Ze=h.useMemo(function(){return c8(ae.width,v)},[ae.width,v]),dt=h.useMemo(function(){return c8(ae.height,Ie)},[ae.height,Ie]),de=Ie-i,je=h.useRef(de);je.current=de;function Ve(bt){var It=bt;return Number.isNaN(je.current)||(It=Math.min(It,je.current)),It=Math.max(It,0),It}var tt=ue<=0,Be=ue>=de,lt=ge<=0,st=ge>=v,pt=ree(tt,Be,lt,st),Ct=function(){return{x:V?-ge:ge,y:ue}},Pe=h.useRef(Ct()),Te=br(function(bt){if(w){var It=Se(Se({},Ct()),bt);(Pe.current.x!==It.x||Pe.current.y!==It.y)&&(w(It),Pe.current=It)}});function De(bt,It){var zt=bt;It?(sa.flushSync(function(){F(zt)}),Te()):re(zt)}function Oe(bt){var It=bt.currentTarget.scrollTop;It!==ue&&re(It),x==null||x(bt),Te()}var He=function(It){var zt=It,Qt=v?v-ae.width:0;return zt=Math.max(zt,0),zt=Math.min(zt,Qt),zt},Ge=br(function(bt,It){It?(sa.flushSync(function(){F(function(zt){var Qt=zt+(V?-bt:bt);return He(Qt)})}),Te()):re(function(zt){var Qt=zt+bt;return Qt})}),ht=bOe(j,tt,Be,lt,st,!!v,Ge),Qe=Fe(ht,2),Xe=Qe[0],nt=Qe[1];COe(j,U,function(bt,It,zt,Qt){var gn=Qt;return pt(bt,It,zt)?!1:!gn||!gn._virtualHandled?(gn&&(gn._virtualHandled=!0),Xe({preventDefault:function(){},deltaX:bt?It:0,deltaY:bt?0:It}),!0):!1}),_Oe(z,U,function(bt){re(function(It){return It+bt})}),nr(function(){function bt(zt){var Qt=tt&&zt.detail<0,gn=Be&&zt.detail>0;j&&!Qt&&!gn&&zt.preventDefault()}var It=U.current;return It.addEventListener("wheel",Xe,{passive:!1}),It.addEventListener("DOMMouseScroll",nt,{passive:!0}),It.addEventListener("MozMousePixelScroll",bt,{passive:!1}),function(){It.removeEventListener("wheel",Xe),It.removeEventListener("DOMMouseScroll",nt),It.removeEventListener("MozMousePixelScroll",bt)}},[j,tt,Be]),nr(function(){if(v){var bt=He(ge);F(bt),Te({x:bt})}},[ae.width,v]);var ft=function(){var It,zt;(It=ze.current)===null||It===void 0||It.delayHidden(),(zt=We.current)===null||zt===void 0||zt.delayHidden()},wt=TOe(U,Y,N,s,M,function(){return A(!0)},re,ft);h.useImperativeHandle(e,function(){return{nativeElement:K.current,getScrollInfo:Ct,scrollTo:function(It){function zt(Qt){return Qt&&At(Qt)==="object"&&("left"in Qt||"top"in Qt)}zt(It)?(It.left!==void 0&&F(He(It.left)),wt(It.top)):wt(It)}}}),nr(function(){if(C){var bt=Y.slice(Re,$e+1);C(bt,Y)}},[Re,$e,Y]);var Tt=xOe(Y,M,N,s),en=_==null?void 0:_({start:Re,end:$e,virtual:z,offsetX:ge,offsetY:ne,rtl:V,getSize:Tt}),Wt=gOe(Y,Re,$e,v,ge,D,d,ie),yt=null;i&&(yt=Se(te({},l?"height":"maxHeight",i),kOe),j&&(yt.overflowY="hidden",v&&(yt.overflowX="hidden"),Z&&(yt.pointerEvents="none")));var Bt={};return V&&(Bt.dir="rtl"),h.createElement("div",B({ref:K,style:Se(Se({},c),{},{position:"relative"}),className:W},Bt,P),h.createElement(_l,{onResize:Le},h.createElement(b,{className:"".concat(r,"-holder"),style:yt,ref:U,onScroll:Oe,onMouseEnter:ft},h.createElement(nee,{prefixCls:r,height:Ie,offsetX:ge,offsetY:ne,scrollWidth:v,onInnerResize:A,ref:q,innerProps:E,rtl:V,extra:en},Wt))),z&&Ie>i&&h.createElement(l8,{ref:ze,prefixCls:r,scrollOffset:ue,scrollRange:Ie,rtl:V,onScroll:De,onStartMove:ye,onStopMove:fe,spinSize:dt,containerSize:ae.height,style:S==null?void 0:S.verticalScrollBar,thumbStyle:S==null?void 0:S.verticalScrollBarThumb,showScrollBar:I}),z&&v>ae.width&&h.createElement(l8,{ref:We,prefixCls:r,scrollOffset:ge,scrollRange:v,rtl:V,onScroll:De,onStartMove:ye,onStopMove:fe,spinSize:Ze,containerSize:ae.width,horizontal:!0,style:S==null?void 0:S.horizontalScrollBar,thumbStyle:S==null?void 0:S.horizontalScrollBarThumb,showScrollBar:I}))}var RT=h.forwardRef(DOe);RT.displayName="List";function $Oe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var MOe=["disabled","title","children","style","className"];function u8(t){return typeof t=="string"||typeof t=="number"}var OOe=function(e,n){var r=xMe(),o=r.prefixCls,i=r.id,s=r.open,a=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,m=h.useContext(Tj),g=m.maxCount,v=m.flattenOptions,y=m.onActiveValue,b=m.defaultActiveFirstOption,x=m.onSelect,w=m.menuItemSelectedIcon,C=m.rawValues,E=m.fieldNames,_=m.virtual,S=m.direction,T=m.listHeight,I=m.listItemHeight,P=m.optionRender,M="".concat(o,"-item"),R=gp(function(){return v},[s,v],function(Ce,pe){return pe[0]&&Ce[1]!==pe[1]}),k=h.useRef(null),D=h.useMemo(function(){return a&&bM(g)&&(C==null?void 0:C.size)>=g},[a,g,C==null?void 0:C.size]),A=function(pe){pe.preventDefault()},N=function(pe){var ge;(ge=k.current)===null||ge===void 0||ge.scrollTo(typeof pe=="number"?{index:pe}:pe)},O=h.useCallback(function(Ce){return l==="combobox"?!1:C.has(Ce)},[l,at(C).toString(),C.size]),j=function(pe){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,F=R.length,ce=0;ce<F;ce+=1){var le=(pe+ce*ge+F)%F,Z=R[le]||{},Q=Z.group,ye=Z.data;if(!Q&&!(ye!=null&&ye.disabled)&&(O(ye.value)||!D))return le}return-1},L=h.useState(function(){return j(0)}),z=Fe(L,2),V=z[0],W=z[1],Y=function(pe){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;W(pe);var F={source:ge?"keyboard":"mouse"},ce=R[pe];if(!ce){y(null,-1,F);return}y(ce.value,pe,F)};h.useEffect(function(){Y(b!==!1?j(0):-1)},[R.length,c]);var U=h.useCallback(function(Ce){return l==="combobox"?String(Ce).toLowerCase()===c.toLowerCase():C.has(Ce)},[l,c,at(C).toString(),C.size]);h.useEffect(function(){var Ce=setTimeout(function(){if(!a&&s&&C.size===1){var ge=Array.from(C)[0],F=R.findIndex(function(ce){var le=ce.data;return le.value===ge});F!==-1&&(Y(F),N(F))}});if(s){var pe;(pe=k.current)===null||pe===void 0||pe.scrollTo(void 0)}return function(){return clearTimeout(Ce)}},[s,c]);var q=function(pe){pe!==void 0&&x(pe,{selected:!C.has(pe)}),a||u(!1)};if(h.useImperativeHandle(n,function(){return{onKeyDown:function(pe){var ge=pe.which,F=pe.ctrlKey;switch(ge){case $t.N:case $t.P:case $t.UP:case $t.DOWN:{var ce=0;if(ge===$t.UP?ce=-1:ge===$t.DOWN?ce=1:$Oe()&&F&&(ge===$t.N?ce=1:ge===$t.P&&(ce=-1)),ce!==0){var le=j(V+ce,ce);N(le),Y(le,!0)}break}case $t.TAB:case $t.ENTER:{var Z,Q=R[V];Q&&!(Q!=null&&(Z=Q.data)!==null&&Z!==void 0&&Z.disabled)&&!D?q(Q.value):q(void 0),s&&pe.preventDefault();break}case $t.ESC:u(!1),s&&pe.stopPropagation()}},onKeyUp:function(){},scrollTo:function(pe){N(pe)}}}),R.length===0)return h.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(M,"-empty"),onMouseDown:A},d);var K=Object.keys(E).map(function(Ce){return E[Ce]}),J=function(pe){return pe.label};function X(Ce,pe){var ge=Ce.group;return{role:ge?"presentation":"option",id:"".concat(i,"_list_").concat(pe)}}var ue=function(pe){var ge=R[pe];if(!ge)return null;var F=ge.data||{},ce=F.value,le=ge.group,Z=us(F,!0),Q=J(ge);return ge?h.createElement("div",B({"aria-label":typeof Q=="string"&&!le?Q:null},Z,{key:pe},X(ge,pe),{"aria-selected":U(ce)}),ce):null},_e={role:"listbox",id:"".concat(i,"_list")};return h.createElement(h.Fragment,null,_&&h.createElement("div",B({},_e,{style:{height:0,width:0,overflow:"hidden"}}),ue(V-1),ue(V),ue(V+1)),h.createElement(RT,{itemKey:"key",ref:k,data:R,height:T,itemHeight:I,fullHeight:!1,onMouseDown:A,onScroll:f,virtual:_,direction:S,innerProps:_?null:_e},function(Ce,pe){var ge=Ce.group,F=Ce.groupOption,ce=Ce.data,le=Ce.label,Z=Ce.value,Q=ce.key;if(ge){var ye,fe=(ye=ce.title)!==null&&ye!==void 0?ye:u8(le)?le.toString():void 0;return h.createElement("div",{className:Me(M,"".concat(M,"-group"),ce.className),title:fe},le!==void 0?le:Q)}var ie=ce.disabled,re=ce.title;ce.children;var ve=ce.style,ee=ce.className,he=cn(ce,MOe),we=ni(he,K),me=O(Z),ke=ie||!me&&D,Ie="".concat(M,"-option"),Re=Me(M,Ie,ee,te(te(te(te({},"".concat(Ie,"-grouped"),F),"".concat(Ie,"-active"),V===pe&&!ke),"".concat(Ie,"-disabled"),ke),"".concat(Ie,"-selected"),me)),$e=J(Ce),ne=!w||typeof w=="function"||me,xe=typeof $e=="number"?$e:$e||Z,se=u8(xe)?xe.toString():void 0;return re!==void 0&&(se=re),h.createElement("div",B({},us(we),_?{}:X(Ce,pe),{"aria-selected":U(Z),className:Re,title:se,onMouseMove:function(){V===pe||ke||Y(pe)},onClick:function(){ke||q(Z)},style:ve}),h.createElement("div",{className:"".concat(Ie,"-content")},typeof P=="function"?P(Ce,{index:pe}):xe),h.isValidElement(w)||me,ne&&h.createElement(IT,{className:"".concat(M,"-option-state"),customizeIcon:w,customizeIconProps:{value:Z,disabled:ke,isSelected:me}},me?"✓":null))}))},AOe=h.forwardRef(OOe);const NOe=function(t,e){var n=h.useRef({values:new Map,options:new Map}),r=h.useMemo(function(){var i=n.current,s=i.values,a=i.options,l=t.map(function(d){if(d.label===void 0){var f;return Se(Se({},d),{},{label:(f=s.get(d.value))===null||f===void 0?void 0:f.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,e.get(d.value)||a.get(d.value))}),n.current.values=c,n.current.options=u,l},[t,e]),o=h.useCallback(function(i){return e.get(i)||n.current.options.get(i)},[e]);return[r,o]};function jR(t,e){return ZZ(t).join("").toUpperCase().includes(e)}const jOe=function(t,e,n,r,o){return h.useMemo(function(){if(!n||r===!1)return t;var i=e.options,s=e.label,a=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(m,g){return o?jR(g[o],u):g[i]?jR(g[s!=="children"?s:"label"],u):jR(g[a],u)},f=c?function(m){return xM(m)}:function(m){return m};return t.forEach(function(m){if(m[i]){var g=d(n,f(m));if(g)l.push(m);else{var v=m[i].filter(function(y){return d(n,f(y))});v.length&&l.push(Se(Se({},m),{},te({},i,v)))}return}d(n,f(m))&&l.push(m)}),l},[t,r,o,n,e])};var d8=0,LOe=Ti();function FOe(){var t;return LOe?(t=d8,d8+=1):t="TEST_OR_SSR",t}function zOe(t){var e=h.useState(),n=Fe(e,2),r=n[0],o=n[1];return h.useEffect(function(){o("rc_select_".concat(FOe()))},[]),t||r}var BOe=["children","value"],VOe=["children"];function HOe(t){var e=t,n=e.key,r=e.props,o=r.children,i=r.value,s=cn(r,BOe);return Se({key:n,value:i!==void 0?i:n,children:o},s)}function oee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return vl(t).map(function(n,r){if(!h.isValidElement(n)||!n.type)return null;var o=n,i=o.type.isSelectOptGroup,s=o.key,a=o.props,l=a.children,c=cn(a,VOe);return e||!i?HOe(n):Se(Se({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},c),{},{options:oee(l)})}).filter(function(n){return n})}var WOe=function(e,n,r,o,i){return h.useMemo(function(){var s=e,a=!e;a&&(s=oee(n));var l=new Map,c=new Map,u=function(m,g,v){v&&typeof v=="string"&&m.set(g[v],g)},d=function f(m){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=0;v<m.length;v+=1){var y=m[v];!y[r.options]||g?(l.set(y[r.value],y),u(c,y,r.label),u(c,y,o),u(c,y,i)):f(y[r.options],!0)}};return d(s),{options:s,valueOptions:l,labelOptions:c}},[e,n,r,o,i])};function f8(t){var e=h.useRef();e.current=t;var n=h.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var UOe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],qOe=["inputValue"];function KOe(t){return!t||At(t)!=="object"}var GOe=h.forwardRef(function(t,e){var n=t.id,r=t.mode,o=t.prefixCls,i=o===void 0?"rc-select":o,s=t.backfill,a=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,f=d===void 0?!0:d,m=t.onSelect,g=t.onDeselect,v=t.dropdownMatchSelectWidth,y=v===void 0?!0:v,b=t.filterOption,x=t.filterSort,w=t.optionFilterProp,C=t.optionLabelProp,E=t.options,_=t.optionRender,S=t.children,T=t.defaultActiveFirstOption,I=t.menuItemSelectedIcon,P=t.virtual,M=t.direction,R=t.listHeight,k=R===void 0?200:R,D=t.listItemHeight,A=D===void 0?20:D,N=t.labelRender,O=t.value,j=t.defaultValue,L=t.labelInValue,z=t.onChange,V=t.maxCount,W=cn(t,UOe),Y=zOe(n),U=wM(r),q=!!(!E&&S),K=h.useMemo(function(){return b===void 0&&r==="combobox"?!1:b},[b,r]),J=h.useMemo(function(){return tee(a,q)},[JSON.stringify(a),q]),X=Wo("",{value:c!==void 0?c:l,postState:function(De){return De||""}}),ue=Fe(X,2),_e=ue[0],Ce=ue[1],pe=WOe(E,S,J,w,C),ge=pe.valueOptions,F=pe.labelOptions,ce=pe.options,le=h.useCallback(function(Te){var De=ZZ(Te);return De.map(function(Oe){var He,Ge,ht,Qe,Xe;if(KOe(Oe))He=Oe;else{var nt;ht=Oe.key,Ge=Oe.label,He=(nt=Oe.value)!==null&&nt!==void 0?nt:ht}var ft=ge.get(He);if(ft){var wt;Ge===void 0&&(Ge=ft==null?void 0:ft[C||J.label]),ht===void 0&&(ht=(wt=ft==null?void 0:ft.key)!==null&&wt!==void 0?wt:He),Qe=ft==null?void 0:ft.disabled,Xe=ft==null?void 0:ft.title}return{label:Ge,value:He,key:ht,disabled:Qe,title:Xe}})},[J,C,ge]),Z=Wo(j,{value:O}),Q=Fe(Z,2),ye=Q[0],fe=Q[1],ie=h.useMemo(function(){var Te,De=U&&ye===null?[]:ye,Oe=le(De);return r==="combobox"&&FMe((Te=Oe[0])===null||Te===void 0?void 0:Te.value)?[]:Oe},[ye,le,r,U]),re=NOe(ie,ge),ve=Fe(re,2),ee=ve[0],he=ve[1],we=h.useMemo(function(){if(!r&&ee.length===1){var Te=ee[0];if(Te.value===null&&(Te.label===null||Te.label===void 0))return[]}return ee.map(function(De){var Oe;return Se(Se({},De),{},{label:(Oe=typeof N=="function"?N(De):De.label)!==null&&Oe!==void 0?Oe:De.value})})},[r,ee,N]),me=h.useMemo(function(){return new Set(ee.map(function(Te){return Te.value}))},[ee]);h.useEffect(function(){if(r==="combobox"){var Te,De=(Te=ee[0])===null||Te===void 0?void 0:Te.value;Ce(LMe(De)?String(De):"")}},[ee]);var ke=f8(function(Te,De){var Oe=De??Te;return te(te({},J.value,Te),J.label,Oe)}),Ie=h.useMemo(function(){if(r!=="tags")return ce;var Te=at(ce),De=function(He){return ge.has(He)};return at(ee).sort(function(Oe,He){return Oe.value<He.value?-1:1}).forEach(function(Oe){var He=Oe.value;De(He)||Te.push(ke(He,Oe.label))}),Te},[ke,ce,ge,ee,r]),Re=jOe(Ie,J,_e,K,w),$e=h.useMemo(function(){return r!=="tags"||!_e||Re.some(function(Te){return Te[w||"value"]===_e})||Re.some(function(Te){return Te[J.value]===_e})?Re:[ke(_e)].concat(at(Re))},[ke,w,r,Re,_e,J]),ne=function Te(De){var Oe=at(De).sort(function(He,Ge){return x(He,Ge,{searchValue:_e})});return Oe.map(function(He){return Array.isArray(He.options)?Se(Se({},He),{},{options:He.options.length>0?Te(He.options):He.options}):He})},xe=h.useMemo(function(){return x?ne($e):$e},[$e,x,_e]),se=h.useMemo(function(){return cOe(xe,{fieldNames:J,childrenAsData:q})},[xe,J,q]),ae=function(De){var Oe=le(De);if(fe(Oe),z&&(Oe.length!==ee.length||Oe.some(function(ht,Qe){var Xe;return((Xe=ee[Qe])===null||Xe===void 0?void 0:Xe.value)!==(ht==null?void 0:ht.value)}))){var He=L?Oe:Oe.map(function(ht){return ht.value}),Ge=Oe.map(function(ht){return xM(he(ht.value))});z(U?He:He[0],U?Ge:Ge[0])}},Ee=h.useState(null),Le=Fe(Ee,2),ze=Le[0],We=Le[1],Ze=h.useState(0),dt=Fe(Ze,2),de=dt[0],je=dt[1],Ve=T!==void 0?T:r!=="combobox",tt=h.useCallback(function(Te,De){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},He=Oe.source,Ge=He===void 0?"keyboard":He;je(De),s&&r==="combobox"&&Te!==null&&Ge==="keyboard"&&We(String(Te))},[s,r]),Be=function(De,Oe,He){var Ge=function(){var yt,Bt=he(De);return[L?{label:Bt==null?void 0:Bt[J.label],value:De,key:(yt=Bt==null?void 0:Bt.key)!==null&&yt!==void 0?yt:De}:De,xM(Bt)]};if(Oe&&m){var ht=Ge(),Qe=Fe(ht,2),Xe=Qe[0],nt=Qe[1];m(Xe,nt)}else if(!Oe&&g&&He!=="clear"){var ft=Ge(),wt=Fe(ft,2),Tt=wt[0],en=wt[1];g(Tt,en)}},lt=f8(function(Te,De){var Oe,He=U?De.selected:!0;He?Oe=U?[].concat(at(ee),[Te]):[Te]:Oe=ee.filter(function(Ge){return Ge.value!==Te}),ae(Oe),Be(Te,He),r==="combobox"?We(""):(!wM||f)&&(Ce(""),We(""))}),st=function(De,Oe){ae(De);var He=Oe.type,Ge=Oe.values;(He==="remove"||He==="clear")&&Ge.forEach(function(ht){Be(ht.value,!1,He)})},pt=function(De,Oe){if(Ce(De),We(null),Oe.source==="submit"){var He=(De||"").trim();if(He){var Ge=Array.from(new Set([].concat(at(me),[He])));ae(Ge),Be(He,!0),Ce("")}return}Oe.source!=="blur"&&(r==="combobox"&&ae(De),u==null||u(De))},Ct=function(De){var Oe=De;r!=="tags"&&(Oe=De.map(function(Ge){var ht=F.get(Ge);return ht==null?void 0:ht.value}).filter(function(Ge){return Ge!==void 0}));var He=Array.from(new Set([].concat(at(me),at(Oe))));ae(He),He.forEach(function(Ge){Be(Ge,!0)})},Pe=h.useMemo(function(){var Te=P!==!1&&y!==!1;return Se(Se({},pe),{},{flattenOptions:se,onActiveValue:tt,defaultActiveFirstOption:Ve,onSelect:lt,menuItemSelectedIcon:I,rawValues:me,fieldNames:J,virtual:Te,direction:M,listHeight:k,listItemHeight:A,childrenAsData:q,maxCount:V,optionRender:_})},[V,pe,se,tt,Ve,lt,I,me,J,P,y,M,k,A,q,_]);return h.createElement(Tj.Provider,{value:Pe},h.createElement(pOe,B({},W,{id:Y,prefixCls:i,ref:e,omitDomProps:qOe,mode:r,displayValues:we,onDisplayValuesChange:st,direction:M,searchValue:_e,onSearch:pt,autoClearSearchValue:f,onSearchSplit:Ct,dropdownMatchSelectWidth:y,OptionList:AOe,emptyOptions:!se.length,activeValue:ze,activeDescendantId:"".concat(Y,"_list_").concat(de)})))}),Rj=GOe;Rj.Option=Pj;Rj.OptGroup=Ij;function aE(t,e,n){return Me({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const kT=(t,e)=>e||t,YOe=()=>{const[,t]=Pi(),[e]=bp("Empty"),r=new Fn(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return h.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},h.createElement("title",null,(e==null?void 0:e.description)||"Empty"),h.createElement("g",{fill:"none",fillRule:"evenodd"},h.createElement("g",{transform:"translate(24 31.67)"},h.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),h.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),h.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),h.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),h.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),h.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),h.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},h.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),h.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},XOe=()=>{const[,t]=Pi(),[e]=bp("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:o,colorBgContainer:i}=t,{borderColor:s,shadowColor:a,contentColor:l}=h.useMemo(()=>({borderColor:new Fn(n).onBackground(i).toHexString(),shadowColor:new Fn(r).onBackground(i).toHexString(),contentColor:new Fn(o).onBackground(i).toHexString()}),[n,r,o,i]);return h.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},h.createElement("title",null,(e==null?void 0:e.description)||"Empty"),h.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},h.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),h.createElement("g",{fillRule:"nonzero",stroke:s},h.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),h.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},QOe=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:o,fontSize:i,lineHeight:s}=t;return{[e]:{marginInline:r,fontSize:i,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:o,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},JOe=eo("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,o=Vn(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[QOe(o)]});var ZOe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const iee=h.createElement(YOe,null),see=h.createElement(XOe,null),qc=t=>{const{className:e,rootClassName:n,prefixCls:r,image:o=iee,description:i,children:s,imageStyle:a,style:l,classNames:c,styles:u}=t,d=ZOe(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:f,direction:m,className:g,style:v,classNames:y,styles:b}=Rc("empty"),x=f("empty",r),[w,C,E]=JOe(x),[_]=bp("Empty"),S=typeof i<"u"?i:_==null?void 0:_.description,T=typeof S=="string"?S:"empty";let I=null;return typeof o=="string"?I=h.createElement("img",{alt:T,src:o}):I=o,w(h.createElement("div",Object.assign({className:Me(C,E,x,g,{[`${x}-normal`]:o===see,[`${x}-rtl`]:m==="rtl"},e,n,y.root,c==null?void 0:c.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},b.root),v),u==null?void 0:u.root),l)},d),h.createElement("div",{className:Me(`${x}-image`,y.image,c==null?void 0:c.image),style:Object.assign(Object.assign(Object.assign({},a),b.image),u==null?void 0:u.image)},I),S&&h.createElement("div",{className:Me(`${x}-description`,y.description,c==null?void 0:c.description),style:Object.assign(Object.assign({},b.description),u==null?void 0:u.description)},S),s&&h.createElement("div",{className:Me(`${x}-footer`,y.footer,c==null?void 0:c.footer),style:Object.assign(Object.assign({},b.footer),u==null?void 0:u.footer)},s)))};qc.PRESENTED_IMAGE_DEFAULT=iee;qc.PRESENTED_IMAGE_SIMPLE=see;const aee=t=>{const{componentName:e}=t,{getPrefixCls:n}=h.useContext(pn),r=n("empty");switch(e){case"Table":case"List":return oe.createElement(qc,{image:qc.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return oe.createElement(qc,{image:qc.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return oe.createElement(qc,null)}},kj=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,o;const{variant:i,[t]:s}=h.useContext(pn),a=h.useContext(S$e),l=s==null?void 0:s.variant;let c;typeof e<"u"?c=e:n===!1?c="borderless":c=(o=(r=a??l)!==null&&r!==void 0?r:i)!==null&&o!==void 0?o:"outlined";const u=hIe.includes(c);return[c,u]},eAe=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function tAe(t,e){return t||eAe(e)}const h8=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:o}=t;return{position:"relative",display:"block",minHeight:e,padding:o,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},nAe=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,o=`&${e}-slide-up-enter${e}-slide-up-enter-active`,i=`&${e}-slide-up-appear${e}-slide-up-appear-active`,s=`&${e}-slide-up-leave${e}-slide-up-leave-active`,a=`${n}-dropdown-placement-`,l=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},ho(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${o}${a}bottomLeft,
          ${i}${a}bottomLeft
        `]:{animationName:yj},[`
          ${o}${a}topLeft,
          ${i}${a}topLeft,
          ${o}${a}topRight,
          ${i}${a}topRight
        `]:{animationName:xj},[`${s}${a}bottomLeft`]:{animationName:bj},[`
          ${s}${a}topLeft,
          ${s}${a}topRight
        `]:{animationName:wj},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},h8(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},sx),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},h8(t)),{color:t.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},Qg(t,"slide-up"),Qg(t,"slide-down"),rE(t,"move-up"),rE(t,"move-down")]},rAe=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:o}=t,i=t.max(t.calc(n).sub(r).equal(),0),s=t.max(t.calc(i).sub(o).equal(),0);return{basePadding:i,containerPadding:s,itemHeight:Ae(e),itemLineHeight:Ae(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},oAe=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},iAe=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:o,paddingXS:i,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:a,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${o}, line-height ${o}, height ${o}`,marginInlineEnd:t.calc(u).mul(2).equal(),paddingInlineStart:i,paddingInlineEnd:t.calc(i).div(2).equal(),[`${e}-disabled&`]:{color:s,borderColor:a,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(i).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},lw()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},sAe=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,o=`${n}-selection-overflow`,i=t.multipleSelectItemHeight,s=oAe(t),a=e?`${n}-${e}`:"",l=rAe(t);return{[`${n}-multiple${a}`]:Object.assign(Object.assign({},iAe(t)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Ae(r)} 0`,lineHeight:Ae(i),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:Ae(l.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Ae(i),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${o}-item + ${o}-item,
        ${n}-prefix + ${n}-selection-wrap
      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${o}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:t.fontFamily,lineHeight:Ae(i),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function LR(t,e){const{componentCls:n}=t,r=e?`${n}-${e}`:"",o={[`${n}-multiple${r}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[sAe(t,e),o]}const aAe=t=>{const{componentCls:e}=t,n=Vn(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=Vn(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[LR(t),LR(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},LR(r,"lg")]};function FR(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:o}=t,i=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),s=e?`${n}-${e}`:"";return{[`${n}-single${s}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},ho(t,!0)),{display:"flex",borderRadius:o,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:Ae(i)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:Ae(i),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-search,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Ae(r)}`,[`${n}-selection-search-input`]:{height:i,fontSize:t.fontSize},"&:after":{lineHeight:Ae(i)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Ae(r)}`,"&:after":{display:"none"}}}}}}}function lAe(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[FR(t),FR(Vn(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selector`]:{padding:`0 ${Ae(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},FR(Vn(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const cAe=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:o,controlHeightSM:i,controlHeightLG:s,paddingXXS:a,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:f,controlItemBgHover:m,colorBgContainer:g,colorFillSecondary:v,colorBgContainerDisabled:y,colorTextDisabled:b,colorPrimaryHover:x,colorPrimary:w,controlOutline:C}=t,E=a*2,_=r*2,S=Math.min(o-E,o-_),T=Math.min(i-E,i-_),I=Math.min(s-E,s-_);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:f,optionActiveBg:m,optionPadding:`${(o-e*n)/2}px ${l}px`,optionFontSize:e,optionLineHeight:n,optionHeight:o,selectorBg:g,clearBg:g,singleItemHeightLG:s,multipleItemBg:v,multipleItemBorderColor:"transparent",multipleItemHeight:S,multipleItemHeightSM:T,multipleItemHeightLG:I,multipleSelectorBgDisabled:y,multipleItemColorDisabled:b,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:x,activeBorderColor:w,activeOutlineColor:C,selectAffixPadding:a}},lee=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:o}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Ae(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${Ae(o)} ${e.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:e.color}}}},p8=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},lee(t,e))}),uAe=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},lee(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),p8(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),p8(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),cee=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${Ae(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},m8=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},cee(t,e))}),dAe=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},cee(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),m8(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),m8(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),fAe=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",border:`${Ae(t.lineWidth)} ${t.lineType} transparent`},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),uee=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${Ae(t.lineWidth)} 0`,borderStyle:`none none ${t.lineType} none`,borderColor:e.borderColor,background:t.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,outline:0},[`${n}-prefix`]:{color:e.color}}}},g8=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},uee(t,e))}),hAe=t=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},uee(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),g8(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),g8(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),pAe=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},uAe(t)),dAe(t)),fAe(t)),hAe(t))}),mAe=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},gAe=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},vAe=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:o}=t;return{[n]:Object.assign(Object.assign({},ho(t)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},mAe(t)),gAe(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},sx),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},sx),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},lw()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[o]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:t.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},[`&:hover ${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}}}},yAe=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},vAe(t),lAe(t),aAe(t),nAe(t),{[`${e}-rtl`]:{direction:"rtl"}},Cj(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},bAe=eo("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=Vn(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[yAe(r),pAe(r)]},cAe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var xAe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},wAe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:xAe}))},SAe=h.forwardRef(wAe),CAe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},_Ae=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:CAe}))},dee=h.forwardRef(_Ae),EAe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},TAe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:EAe}))},Dj=h.forwardRef(TAe);function IAe(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:o,loading:i,multiple:s,hasFeedback:a,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:f}=t;const m=n??h.createElement(uT,null),g=x=>e===null&&!a&&!d?null:h.createElement(h.Fragment,null,c!==!1&&x,a&&u);let v=null;if(e!==void 0)v=g(e);else if(i)v=g(h.createElement(dw,{spin:!0}));else{const x=`${l}-suffix`;v=w=>{let{open:C,showSearch:E}=w;return g(C&&E?h.createElement(Dj,{className:x}):h.createElement(dee,{className:x}))}}let y=null;r!==void 0?y=r:s?y=h.createElement(SAe,null):y=null;let b=null;return o!==void 0?b=o:b=h.createElement(uw,null),{clearIcon:m,suffixIcon:v,itemIcon:y,removeIcon:b}}function PAe(t,e){return e!==void 0?e:t!==null}var RAe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const fee="SECRET_COMBOBOX_MODE_DO_NOT_USE",kAe=(t,e)=>{var n;const{prefixCls:r,bordered:o,className:i,rootClassName:s,getPopupContainer:a,popupClassName:l,dropdownClassName:c,listHeight:u=256,placement:d,listItemHeight:f,size:m,disabled:g,notFoundContent:v,status:y,builtinPlacements:b,dropdownMatchSelectWidth:x,popupMatchSelectWidth:w,direction:C,style:E,allowClear:_,variant:S,dropdownStyle:T,transitionName:I,tagRender:P,maxCount:M,prefix:R}=t,k=RAe(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:D,getPrefixCls:A,renderEmpty:N,direction:O,virtual:j,popupMatchSelectWidth:L,popupOverflow:z}=h.useContext(pn),V=Rc("select"),[,W]=Pi(),Y=f??(W==null?void 0:W.controlHeight),U=A("select",r),q=A(),K=C??O,{compactSize:J,compactItemClassnames:X}=$v(U,K),[ue,_e]=kj("select",S,o),Ce=js(U),[pe,ge,F]=bAe(U,Ce),ce=h.useMemo(()=>{const{mode:ze}=t;if(ze!=="combobox")return ze===fee?"combobox":ze},[t.mode]),le=ce==="multiple"||ce==="tags",Z=PAe(t.suffixIcon,t.showArrow),Q=(n=w??x)!==null&&n!==void 0?n:L,{status:ye,hasFeedback:fe,isFormItemInput:ie,feedbackIcon:re}=h.useContext(bl),ve=kT(ye,y);let ee;v!==void 0?ee=v:ce==="combobox"?ee=null:ee=(N==null?void 0:N("Select"))||h.createElement(aee,{componentName:"Select"});const{suffixIcon:he,itemIcon:we,removeIcon:me,clearIcon:ke}=IAe(Object.assign(Object.assign({},k),{multiple:le,hasFeedback:fe,feedbackIcon:re,showSuffixIcon:Z,prefixCls:U,componentName:"Select"})),Ie=_===!0?{clearIcon:ke}:_,Re=ni(k,["suffixIcon","itemIcon"]),$e=Me(l||c,{[`${U}-dropdown-${K}`]:K==="rtl"},s,F,Ce,ge),ne=El(ze=>{var We;return(We=m??J)!==null&&We!==void 0?We:ze}),xe=h.useContext(yl),se=g??xe,ae=Me({[`${U}-lg`]:ne==="large",[`${U}-sm`]:ne==="small",[`${U}-rtl`]:K==="rtl",[`${U}-${ue}`]:_e,[`${U}-in-form-item`]:ie},aE(U,ve,fe),X,V.className,i,s,F,Ce,ge),Ee=h.useMemo(()=>d!==void 0?d:K==="rtl"?"bottomRight":"bottomLeft",[d,K]),[Le]=fw("SelectLike",T==null?void 0:T.zIndex);return pe(h.createElement(Rj,Object.assign({ref:e,virtual:j,showSearch:V.showSearch},Re,{style:Object.assign(Object.assign({},V.style),E),dropdownMatchSelectWidth:Q,transitionName:Xg(q,"slide-up",I),builtinPlacements:tAe(b,z),listHeight:u,listItemHeight:Y,mode:ce,prefixCls:U,placement:Ee,direction:K,prefix:R,suffixIcon:he,menuItemSelectedIcon:we,removeIcon:me,allowClear:Ie,notFoundContent:ee,className:ae,getPopupContainer:a||D,dropdownClassName:$e,disabled:se,dropdownStyle:Object.assign(Object.assign({},T),{zIndex:Le}),maxCount:le?M:void 0,tagRender:le?P:void 0})))},xl=h.forwardRef(kAe),DAe=UZ(xl,"dropdownAlign");xl.SECRET_COMBOBOX_MODE_DO_NOT_USE=fee;xl.Option=Pj;xl.OptGroup=Ij;xl._InternalPanelDoNotUseOrYouWillBeFired=DAe;const $Ae=["xxl","xl","lg","md","sm","xs"],MAe=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),OAe=t=>{const e=t,n=[].concat($Ae).reverse();return n.forEach((r,o)=>{const i=r.toUpperCase(),s=`screen${i}Min`,a=`screen${i}`;if(!(e[s]<=e[a]))throw new Error(`${s}<=${a} fails : !(${e[s]}<=${e[a]})`);if(o<n.length-1){const l=`screen${i}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const u=`screen${n[o+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),t};function AAe(){const[,t]=Pi(),e=MAe(OAe(t));return oe.useMemo(()=>{const n=new Map;let r=-1,o={};return{matchHandlers:{},dispatch(i){return o=i,n.forEach(s=>s(o)),n.size>=1},subscribe(i){return n.size||this.register(),r+=1,n.set(r,i),i(o),r},unsubscribe(i){n.delete(i),n.size||this.unregister()},unregister(){Object.keys(e).forEach(i=>{const s=e[i],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),n.clear()},register(){Object.keys(e).forEach(i=>{const s=e[i],a=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},o),{[i]:u}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},responsiveMap:e}},[t])}function hee(){const[,t]=h.useReducer(e=>e+1,0);return t}function pee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=h.useRef(e),r=hee(),o=AAe();return nr(()=>{const i=o.subscribe(s=>{n.current=s,t&&r()});return()=>o.unsubscribe(i)},[]),n.current}function mee(t){var e=t.children,n=t.prefixCls,r=t.id,o=t.overlayInnerStyle,i=t.bodyClassName,s=t.className,a=t.style;return h.createElement("div",{className:Me("".concat(n,"-content"),s),style:a},h.createElement("div",{className:Me("".concat(n,"-inner"),i),id:r,role:"tooltip",style:o},typeof e=="function"?e():e))}var Wp={shiftX:64,adjustY:1},Up={adjustX:1,shiftY:!0},ba=[0,0],NAe={left:{points:["cr","cl"],overflow:Up,offset:[-4,0],targetOffset:ba},right:{points:["cl","cr"],overflow:Up,offset:[4,0],targetOffset:ba},top:{points:["bc","tc"],overflow:Wp,offset:[0,-4],targetOffset:ba},bottom:{points:["tc","bc"],overflow:Wp,offset:[0,4],targetOffset:ba},topLeft:{points:["bl","tl"],overflow:Wp,offset:[0,-4],targetOffset:ba},leftTop:{points:["tr","tl"],overflow:Up,offset:[-4,0],targetOffset:ba},topRight:{points:["br","tr"],overflow:Wp,offset:[0,-4],targetOffset:ba},rightTop:{points:["tl","tr"],overflow:Up,offset:[4,0],targetOffset:ba},bottomRight:{points:["tr","br"],overflow:Wp,offset:[0,4],targetOffset:ba},rightBottom:{points:["bl","br"],overflow:Up,offset:[4,0],targetOffset:ba},bottomLeft:{points:["tl","bl"],overflow:Wp,offset:[0,4],targetOffset:ba},leftBottom:{points:["br","bl"],overflow:Up,offset:[-4,0],targetOffset:ba}},jAe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],LAe=function(e,n){var r=e.overlayClassName,o=e.trigger,i=o===void 0?["hover"]:o,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,m=e.children,g=e.onVisibleChange,v=e.afterVisibleChange,y=e.transitionName,b=e.animation,x=e.motion,w=e.placement,C=w===void 0?"right":w,E=e.align,_=E===void 0?{}:E,S=e.destroyTooltipOnHide,T=S===void 0?!1:S,I=e.defaultVisible,P=e.getTooltipContainer,M=e.overlayInnerStyle;e.arrowContent;var R=e.overlay,k=e.id,D=e.showArrow,A=D===void 0?!0:D,N=e.classNames,O=e.styles,j=cn(e,jAe),L=_T(k),z=h.useRef(null);h.useImperativeHandle(n,function(){return z.current});var V=Se({},j);"visible"in e&&(V.popupVisible=e.visible);var W=function(){return h.createElement(mee,{key:"content",prefixCls:f,id:L,bodyClassName:N==null?void 0:N.body,overlayInnerStyle:Se(Se({},M),O==null?void 0:O.body)},R)},Y=function(){var q=h.Children.only(m),K=(q==null?void 0:q.props)||{},J=Se(Se({},K),{},{"aria-describedby":R?L:null});return h.cloneElement(m,J)};return h.createElement(PT,B({popupClassName:Me(r,N==null?void 0:N.root),prefixCls:f,popup:W,action:i,builtinPlacements:NAe,popupPlacement:C,ref:z,popupAlign:_,getPopupContainer:P,onPopupVisibleChange:g,afterPopupVisibleChange:v,popupTransitionName:y,popupAnimation:b,popupMotion:x,defaultPopupVisible:I,autoDestroy:T,mouseLeaveDelay:c,popupStyle:Se(Se({},u),O==null?void 0:O.root),mouseEnterDelay:a,arrow:A},V),Y())};const FAe=h.forwardRef(LAe);function gee(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,o=e/2,i=0,s=o,a=r*1/Math.sqrt(2),l=o-r*(1-1/Math.sqrt(2)),c=o-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),d=2*o-c,f=u,m=2*o-a,g=l,v=2*o-i,y=s,b=o*Math.sqrt(2)+r*(Math.sqrt(2)-2),x=r*(Math.sqrt(2)-1),w=`polygon(${x}px 100%, 50% ${x}px, ${2*o-x}px 100%, ${x}px 100%)`,C=`path('M ${i} ${s} A ${r} ${r} 0 0 0 ${a} ${l} L ${c} ${u} A ${n} ${n} 0 0 1 ${d} ${f} L ${m} ${g} A ${r} ${r} 0 0 0 ${v} ${y} Z')`;return{arrowShadowWidth:b,arrowPath:C,arrowPolygon:w}}const zAe=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:o,arrowPath:i,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[o,i]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Ae(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},vee=8;function $j(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?vee:r}}function J1(t,e){return t?e:{}}function yee(t,e,n){const{componentCls:r,boxShadowPopoverArrow:o,arrowOffsetVertical:i,arrowOffsetHorizontal:s}=t,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},zAe(t,e,o)),{"&:before":{background:e}})]},J1(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Ae(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),J1(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Ae(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),J1(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:i},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:i}})),J1(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:i},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:i}}))}}function BAe(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const o=r&&typeof r=="object"?r:{},i={};switch(t){case"top":case"bottom":i.shiftX=e.arrowOffsetHorizontal*2+n,i.shiftY=!0,i.adjustY=!0;break;case"left":case"right":i.shiftY=e.arrowOffsetVertical*2+n,i.shiftX=!0,i.adjustX=!0;break}const s=Object.assign(Object.assign({},i),o);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const v8={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},VAe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},HAe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function bee(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:o,borderRadius:i,visibleFirst:s}=t,a=e/2,l={};return Object.keys(v8).forEach(c=>{const u=r&&VAe[c]||v8[c],d=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(l[c]=d,HAe.has(c)&&(d.autoArrow=!1),c){case"top":case"topLeft":case"topRight":d.offset[1]=-a-o;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=a+o;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-a-o;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=a+o;break}const f=$j({contentRadius:i,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":d.offset[0]=-f.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":d.offset[0]=f.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":d.offset[1]=-f.arrowOffsetHorizontal*2+a;break;case"leftBottom":case"rightBottom":d.offset[1]=f.arrowOffsetHorizontal*2-a;break}d.overflow=BAe(c,f,e,n),s&&(d.htmlRegion="visibleFirst")}),l}const WAe=t=>{const{calc:e,componentCls:n,tooltipMaxWidth:r,tooltipColor:o,tooltipBg:i,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:m}=t,g=e(s).add(m).add(f).equal(),v=e(s).mul(2).add(m).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${n}-inner`]:{minWidth:v,minHeight:l,padding:`${Ae(t.calc(u).div(2).equal())} ${Ae(d)}`,color:o,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:s,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:g},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:t.min(s,vee)}},[`${n}-content`]:{position:"relative"}}),TJ(t,(y,b)=>{let{darkColor:x}=b;return{[`&${n}-${y}`]:{[`${n}-inner`]:{backgroundColor:x},[`${n}-arrow`]:{"--antd-arrow-background-color":x}}}})),{"&-rtl":{direction:"rtl"}})},yee(t,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},UAe=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},$j({contentRadius:t.borderRadius,limitVerticalRadius:!0})),gee(Vn(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),xee=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return eo("Tooltip",r=>{const{borderRadius:o,colorTextLightSolid:i,colorBgSpotlight:s}=r,a=Vn(r,{tooltipMaxWidth:250,tooltipColor:i,tooltipBorderRadius:o,tooltipBg:s});return[WAe(a),vT(r,"zoom-big-fast")]},UAe,{resetStyle:!1,injectStyle:e})(t)},qAe=Qh.map(t=>`${t}-inverse`),KAe=["success","processing","error","default","warning"];function wee(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(at(qAe),at(Qh)).includes(t):Qh.includes(t)}function GAe(t){return KAe.includes(t)}function See(t,e){const n=wee(e),r=Me({[`${t}-${e}`]:e&&n}),o={},i={};return e&&!n&&(o.background=e,i["--antd-arrow-background-color"]=e),{className:r,overlayStyle:o,arrowStyle:i}}const YAe=t=>{const{prefixCls:e,className:n,placement:r="top",title:o,color:i,overlayInnerStyle:s}=t,{getPrefixCls:a}=h.useContext(pn),l=a("tooltip",e),[c,u,d]=xee(l),f=See(l,i),m=f.arrowStyle,g=Object.assign(Object.assign({},s),f.overlayStyle),v=Me(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,f.className);return c(h.createElement("div",{className:v,style:m},h.createElement("div",{className:`${l}-arrow`}),h.createElement(mee,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:g}),o)))};var XAe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const QAe=h.forwardRef((t,e)=>{var n,r;const{prefixCls:o,openClassName:i,getTooltipContainer:s,color:a,overlayInnerStyle:l,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:f,arrow:m=!0,title:g,overlay:v,builtinPlacements:y,arrowPointAtCenter:b=!1,autoAdjustOverflow:x=!0,motion:w,getPopupContainer:C,placement:E="top",mouseEnterDelay:_=.1,mouseLeaveDelay:S=.1,overlayStyle:T,rootClassName:I,overlayClassName:P,styles:M,classNames:R}=t,k=XAe(t,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),D=!!m,[,A]=Pi(),{getPopupContainer:N,getPrefixCls:O,direction:j,className:L,style:z,classNames:V,styles:W}=Rc("tooltip"),Y=yp(),U=h.useRef(null),q=()=>{var Re;(Re=U.current)===null||Re===void 0||Re.forceAlign()};h.useImperativeHandle(e,()=>{var Re,$e;return{forceAlign:q,forcePopupAlign:()=>{Y.deprecated(!1,"forcePopupAlign","forceAlign"),q()},nativeElement:(Re=U.current)===null||Re===void 0?void 0:Re.nativeElement,popupElement:($e=U.current)===null||$e===void 0?void 0:$e.popupElement}});const[K,J]=Wo(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),X=!g&&!v&&g!==0,ue=Re=>{var $e,ne;J(X?!1:Re),X||(($e=t.onOpenChange)===null||$e===void 0||$e.call(t,Re),(ne=t.onVisibleChange)===null||ne===void 0||ne.call(t,Re))},_e=h.useMemo(()=>{var Re,$e;let ne=b;return typeof m=="object"&&(ne=($e=(Re=m.pointAtCenter)!==null&&Re!==void 0?Re:m.arrowPointAtCenter)!==null&&$e!==void 0?$e:b),y||bee({arrowPointAtCenter:ne,autoAdjustOverflow:x,arrowWidth:D?A.sizePopupArrow:0,borderRadius:A.borderRadius,offset:A.marginXXS,visibleFirst:!0})},[b,m,y,A]),Ce=h.useMemo(()=>g===0?g:v||g||"",[v,g]),pe=h.createElement(cx,{space:!0},typeof Ce=="function"?Ce():Ce),ge=O("tooltip",o),F=O(),ce=t["data-popover-inject"];let le=K;!("open"in t)&&!("visible"in t)&&X&&(le=!1);const Z=h.isValidElement(c)&&!GJ(c)?c:h.createElement("span",null,c),Q=Z.props,ye=!Q.className||typeof Q.className=="string"?Me(Q.className,i||`${ge}-open`):Q.className,[fe,ie,re]=xee(ge,!ce),ve=See(ge,a),ee=ve.arrowStyle,he=Me(P,{[`${ge}-rtl`]:j==="rtl"},ve.className,I,ie,re,L,V.root,R==null?void 0:R.root),we=Me(V.body,R==null?void 0:R.body),[me,ke]=fw("Tooltip",k.zIndex),Ie=h.createElement(FAe,Object.assign({},k,{zIndex:me,showArrow:D,placement:E,mouseEnterDelay:_,mouseLeaveDelay:S,prefixCls:ge,classNames:{root:he,body:we},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ee),W.root),z),T),M==null?void 0:M.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},W.body),l),M==null?void 0:M.body),ve.overlayStyle)},getTooltipContainer:C||s||N,ref:U,builtinPlacements:_e,overlay:pe,visible:le,onVisibleChange:ue,afterVisibleChange:u??d,arrowContent:h.createElement("span",{className:`${ge}-arrow-content`}),motion:{motionName:Xg(F,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!f}),le?Ba(Z,{className:ye}):Z);return fe(h.createElement(dT.Provider,{value:ke},Ie))}),dx=QAe;dx._InternalPanelDoNotUseOrYouWillBeFired=YAe;var JAe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},ZAe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:JAe}))},CM=h.forwardRef(ZAe),eNe=$t.ESC,tNe=$t.TAB;function nNe(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,o=t.autoFocus,i=t.overlayRef,s=h.useRef(!1),a=function(){if(e){var d,f;(d=n.current)===null||d===void 0||(f=d.focus)===null||f===void 0||f.call(d),r==null||r(!1)}},l=function(){var d;return(d=i.current)!==null&&d!==void 0&&d.focus?(i.current.focus(),s.current=!0,!0):!1},c=function(d){switch(d.keyCode){case eNe:a();break;case tNe:{var f=!1;s.current||(f=l()),f?d.preventDefault():a();break}}};h.useEffect(function(){return e?(window.addEventListener("keydown",c),o&&qn(l,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}},[e])}var rNe=h.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,o=t.prefixCls,i=h.useMemo(function(){var a;return typeof n=="function"?a=n():a=n,a},[n]),s=Ka(e,vp(i));return oe.createElement(oe.Fragment,null,r&&oe.createElement("div",{className:"".concat(o,"-arrow")}),oe.cloneElement(i,{ref:bc(i)?s:void 0}))}),qp={adjustX:1,adjustY:1},Kp=[0,0],oNe={topLeft:{points:["bl","tl"],overflow:qp,offset:[0,-4],targetOffset:Kp},top:{points:["bc","tc"],overflow:qp,offset:[0,-4],targetOffset:Kp},topRight:{points:["br","tr"],overflow:qp,offset:[0,-4],targetOffset:Kp},bottomLeft:{points:["tl","bl"],overflow:qp,offset:[0,4],targetOffset:Kp},bottom:{points:["tc","bc"],overflow:qp,offset:[0,4],targetOffset:Kp},bottomRight:{points:["tr","br"],overflow:qp,offset:[0,4],targetOffset:Kp}},iNe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function sNe(t,e){var n,r=t.arrow,o=r===void 0?!1:r,i=t.prefixCls,s=i===void 0?"rc-dropdown":i,a=t.transitionName,l=t.animation,c=t.align,u=t.placement,d=u===void 0?"bottomLeft":u,f=t.placements,m=f===void 0?oNe:f,g=t.getPopupContainer,v=t.showAction,y=t.hideAction,b=t.overlayClassName,x=t.overlayStyle,w=t.visible,C=t.trigger,E=C===void 0?["hover"]:C,_=t.autoFocus,S=t.overlay,T=t.children,I=t.onVisibleChange,P=cn(t,iNe),M=oe.useState(),R=Fe(M,2),k=R[0],D=R[1],A="visible"in t?w:k,N=oe.useRef(null),O=oe.useRef(null),j=oe.useRef(null);oe.useImperativeHandle(e,function(){return N.current});var L=function(X){D(X),I==null||I(X)};nNe({visible:A,triggerRef:j,onVisibleChange:L,autoFocus:_,overlayRef:O});var z=function(X){var ue=t.onOverlayClick;D(!1),ue&&ue(X)},V=function(){return oe.createElement(rNe,{ref:O,overlay:S,prefixCls:s,arrow:o})},W=function(){return typeof S=="function"?V:V()},Y=function(){var X=t.minOverlayWidthMatchTrigger,ue=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?X:!ue},U=function(){var X=t.openClassName;return X!==void 0?X:"".concat(s,"-open")},q=oe.cloneElement(T,{className:Me((n=T.props)===null||n===void 0?void 0:n.className,A&&U()),ref:bc(T)?Ka(j,vp(T)):void 0}),K=y;return!K&&E.indexOf("contextMenu")!==-1&&(K=["click"]),oe.createElement(PT,B({builtinPlacements:m},P,{prefixCls:s,ref:N,popupClassName:Me(b,te({},"".concat(s,"-show-arrow"),o)),popupStyle:x,action:E,showAction:v,hideAction:K,popupPlacement:d,popupAlign:c,popupTransitionName:a,popupAnimation:l,popupVisible:A,stretch:Y()?"minWidth":"",popup:W(),onPopupVisibleChange:L,onPopupClick:z,getPopupContainer:g}),q)}const aNe=oe.forwardRef(sNe),lNe=t=>typeof t!="object"&&typeof t!="function"||t===null;var Cee=h.createContext(null);function _ee(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function Eee(t){var e=h.useContext(Cee);return _ee(e,t)}var cNe=["children","locked"],wl=h.createContext(null);function uNe(t,e){var n=Se({},t);return Object.keys(e).forEach(function(r){var o=e[r];o!==void 0&&(n[r]=o)}),n}function fx(t){var e=t.children,n=t.locked,r=cn(t,cNe),o=h.useContext(wl),i=gp(function(){return uNe(o,r)},[o,r],function(s,a){return!n&&(s[0]!==a[0]||!xc(s[1],a[1],!0))});return h.createElement(wl.Provider,{value:i},e)}var dNe=[],Tee=h.createContext(null);function DT(){return h.useContext(Tee)}var Iee=h.createContext(dNe);function Av(t){var e=h.useContext(Iee);return h.useMemo(function(){return t!==void 0?[].concat(at(e),[t]):e},[e,t])}var Pee=h.createContext(null),Mj=h.createContext({});function y8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(hT(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),o=t.getAttribute("tabindex"),i=Number(o),s=null;return o&&!Number.isNaN(i)?s=i:r&&s===null&&(s=0),r&&t.disabled&&(s=null),s!==null&&(s>=0||e&&s<0)}return!1}function fNe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=at(t.querySelectorAll("*")).filter(function(r){return y8(r,e)});return y8(t,e)&&n.unshift(t),n}var _M=$t.LEFT,EM=$t.RIGHT,TM=$t.UP,xC=$t.DOWN,wC=$t.ENTER,Ree=$t.ESC,ky=$t.HOME,Dy=$t.END,b8=[TM,xC,_M,EM];function hNe(t,e,n,r){var o,i="prev",s="next",a="children",l="parent";if(t==="inline"&&r===wC)return{inlineTrigger:!0};var c=te(te({},TM,i),xC,s),u=te(te(te(te({},_M,n?s:i),EM,n?i:s),xC,a),wC,a),d=te(te(te(te(te(te({},TM,i),xC,s),wC,a),Ree,l),_M,n?a:l),EM,n?l:a),f={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d},m=(o=f["".concat(t).concat(e?"":"Sub")])===null||o===void 0?void 0:o[r];switch(m){case i:return{offset:-1,sibling:!0};case s:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case a:return{offset:1,sibling:!1};default:return null}}function pNe(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function mNe(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function Oj(t,e){var n=fNe(t,!0);return n.filter(function(r){return e.has(r)})}function x8(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var o=Oj(t,e),i=o.length,s=o.findIndex(function(a){return n===a});return r<0?s===-1?s=i-1:s-=1:r>0&&(s+=1),s=(s+i)%i,o[s]}var IM=function(e,n){var r=new Set,o=new Map,i=new Map;return e.forEach(function(s){var a=document.querySelector("[data-menu-id='".concat(_ee(n,s),"']"));a&&(r.add(a),i.set(a,s),o.set(s,a))}),{elements:r,key2element:o,element2key:i}};function gNe(t,e,n,r,o,i,s,a,l,c){var u=h.useRef(),d=h.useRef();d.current=e;var f=function(){qn.cancel(u.current)};return h.useEffect(function(){return function(){f()}},[]),function(m){var g=m.which;if([].concat(b8,[wC,Ree,ky,Dy]).includes(g)){var v=i(),y=IM(v,r),b=y,x=b.elements,w=b.key2element,C=b.element2key,E=w.get(e),_=mNe(E,x),S=C.get(_),T=hNe(t,s(S,!0).length===1,n,g);if(!T&&g!==ky&&g!==Dy)return;(b8.includes(g)||[ky,Dy].includes(g))&&m.preventDefault();var I=function(O){if(O){var j=O,L=O.querySelector("a");L!=null&&L.getAttribute("href")&&(j=L);var z=C.get(O);a(z),f(),u.current=qn(function(){d.current===z&&j.focus()})}};if([ky,Dy].includes(g)||T.sibling||!_){var P;!_||t==="inline"?P=o.current:P=pNe(_);var M,R=Oj(P,x);g===ky?M=R[0]:g===Dy?M=R[R.length-1]:M=x8(P,x,_,T.offset),I(M)}else if(T.inlineTrigger)l(S);else if(T.offset>0)l(S,!0),f(),u.current=qn(function(){y=IM(v,r);var N=_.getAttribute("aria-controls"),O=document.getElementById(N),j=x8(O,y.elements);I(j)},5);else if(T.offset<0){var k=s(S,!0),D=k[k.length-2],A=w.get(D);l(D,!1),I(A)}}c==null||c(m)}}function vNe(t){Promise.resolve().then(t)}var Aj="__RC_UTIL_PATH_SPLIT__",w8=function(e){return e.join(Aj)},yNe=function(e){return e.split(Aj)},PM="rc-menu-more";function bNe(){var t=h.useState({}),e=Fe(t,2),n=e[1],r=h.useRef(new Map),o=h.useRef(new Map),i=h.useState([]),s=Fe(i,2),a=s[0],l=s[1],c=h.useRef(0),u=h.useRef(!1),d=function(){u.current||n({})},f=h.useCallback(function(w,C){var E=w8(C);o.current.set(E,w),r.current.set(w,E),c.current+=1;var _=c.current;vNe(function(){_===c.current&&d()})},[]),m=h.useCallback(function(w,C){var E=w8(C);o.current.delete(E),r.current.delete(w)},[]),g=h.useCallback(function(w){l(w)},[]),v=h.useCallback(function(w,C){var E=r.current.get(w)||"",_=yNe(E);return C&&a.includes(_[0])&&_.unshift(PM),_},[a]),y=h.useCallback(function(w,C){return w.filter(function(E){return E!==void 0}).some(function(E){var _=v(E,!0);return _.includes(C)})},[v]),b=function(){var C=at(r.current.keys());return a.length&&C.push(PM),C},x=h.useCallback(function(w){var C="".concat(r.current.get(w)).concat(Aj),E=new Set;return at(o.current.keys()).forEach(function(_){_.startsWith(C)&&E.add(o.current.get(_))}),E},[]);return h.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:f,unregisterPath:m,refreshOverflowKeys:g,isSubPathKey:y,getKeyPath:v,getKeys:b,getSubPathKeys:x}}function b0(t){var e=h.useRef(t);e.current=t;var n=h.useCallback(function(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(i))},[]);return t?n:void 0}var xNe=Math.random().toFixed(5).toString().slice(2),S8=0;function wNe(t){var e=Wo(t,{value:t}),n=Fe(e,2),r=n[0],o=n[1];return h.useEffect(function(){S8+=1;var i="".concat(xNe,"-").concat(S8);o("rc-menu-uuid-".concat(i))},[]),r}function kee(t,e,n,r){var o=h.useContext(wl),i=o.activeKey,s=o.onActive,a=o.onInactive,l={active:i===t};return e||(l.onMouseEnter=function(c){n==null||n({key:t,domEvent:c}),s(t)},l.onMouseLeave=function(c){r==null||r({key:t,domEvent:c}),a(t)}),l}function Dee(t){var e=h.useContext(wl),n=e.mode,r=e.rtl,o=e.inlineIndent;if(n!=="inline")return null;var i=t;return r?{paddingRight:i*o}:{paddingLeft:i*o}}function $ee(t){var e=t.icon,n=t.props,r=t.children,o;return e===null||e===!1?null:(typeof e=="function"?o=h.createElement(e,Se({},n)):typeof e!="boolean"&&(o=e),o||r||null)}var SNe=["item"];function lE(t){var e=t.item,n=cn(t,SNe);return Object.defineProperty(n,"item",{get:function(){return Jr(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var CNe=["title","attribute","elementRef"],_Ne=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],ENe=["active"],TNe=function(t){Sn(n,t);var e=Cn(n);function n(){return on(this,n),e.apply(this,arguments)}return sn(n,[{key:"render",value:function(){var o=this.props,i=o.title,s=o.attribute,a=o.elementRef,l=cn(o,CNe),c=ni(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return Jr(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),h.createElement(uc.Item,B({},s,{title:typeof i=="string"?i:void 0},c,{ref:a}))}}]),n}(h.Component),INe=h.forwardRef(function(t,e){var n=t.style,r=t.className,o=t.eventKey;t.warnKey;var i=t.disabled,s=t.itemIcon,a=t.children,l=t.role,c=t.onMouseEnter,u=t.onMouseLeave,d=t.onClick,f=t.onKeyDown,m=t.onFocus,g=cn(t,_Ne),v=Eee(o),y=h.useContext(wl),b=y.prefixCls,x=y.onItemClick,w=y.disabled,C=y.overflowDisabled,E=y.itemIcon,_=y.selectedKeys,S=y.onActive,T=h.useContext(Mj),I=T._internalRenderMenuItem,P="".concat(b,"-item"),M=h.useRef(),R=h.useRef(),k=w||i,D=Cf(e,R),A=Av(o),N=function(ue){return{key:o,keyPath:at(A).reverse(),item:M.current,domEvent:ue}},O=s||E,j=kee(o,k,c,u),L=j.active,z=cn(j,ENe),V=_.includes(o),W=Dee(A.length),Y=function(ue){if(!k){var _e=N(ue);d==null||d(lE(_e)),x(_e)}},U=function(ue){if(f==null||f(ue),ue.which===$t.ENTER){var _e=N(ue);d==null||d(lE(_e)),x(_e)}},q=function(ue){S(o),m==null||m(ue)},K={};t.role==="option"&&(K["aria-selected"]=V);var J=h.createElement(TNe,B({ref:M,elementRef:D,role:l===null?"none":l||"menuitem",tabIndex:i?null:-1,"data-menu-id":C&&v?null:v},ni(g,["extra"]),z,K,{component:"li","aria-disabled":i,style:Se(Se({},W),n),className:Me(P,te(te(te({},"".concat(P,"-active"),L),"".concat(P,"-selected"),V),"".concat(P,"-disabled"),k),r),onClick:Y,onKeyDown:U,onFocus:q}),a,h.createElement($ee,{props:Se(Se({},t),{},{isSelected:V}),icon:O}));return I&&(J=I(J,t,{selected:V})),J});function PNe(t,e){var n=t.eventKey,r=DT(),o=Av(n);return h.useEffect(function(){if(r)return r.registerPath(n,o),function(){r.unregisterPath(n,o)}},[o]),r?null:h.createElement(INe,B({},t,{ref:e}))}const $T=h.forwardRef(PNe);var RNe=["className","children"],kNe=function(e,n){var r=e.className,o=e.children,i=cn(e,RNe),s=h.useContext(wl),a=s.prefixCls,l=s.mode,c=s.rtl;return h.createElement("ul",B({className:Me(a,c&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},i,{"data-menu-list":!0,ref:n}),o)},Nj=h.forwardRef(kNe);Nj.displayName="SubMenuList";function jj(t,e){return vl(t).map(function(n,r){if(h.isValidElement(n)){var o,i,s=n.key,a=(o=(i=n.props)===null||i===void 0?void 0:i.eventKey)!==null&&o!==void 0?o:s,l=a==null;l&&(a="tmp_key-".concat([].concat(at(e),[r]).join("-")));var c={key:a,eventKey:a};return h.cloneElement(n,c)}return n})}var Li={adjustX:1,adjustY:1},DNe={topLeft:{points:["bl","tl"],overflow:Li},topRight:{points:["br","tr"],overflow:Li},bottomLeft:{points:["tl","bl"],overflow:Li},bottomRight:{points:["tr","br"],overflow:Li},leftTop:{points:["tr","tl"],overflow:Li},leftBottom:{points:["br","bl"],overflow:Li},rightTop:{points:["tl","tr"],overflow:Li},rightBottom:{points:["bl","br"],overflow:Li}},$Ne={topLeft:{points:["bl","tl"],overflow:Li},topRight:{points:["br","tr"],overflow:Li},bottomLeft:{points:["tl","bl"],overflow:Li},bottomRight:{points:["tr","br"],overflow:Li},rightTop:{points:["tr","tl"],overflow:Li},rightBottom:{points:["br","bl"],overflow:Li},leftTop:{points:["tl","tr"],overflow:Li},leftBottom:{points:["bl","br"],overflow:Li}};function Mee(t,e,n){if(e)return e;if(n)return n[t]||n.other}var MNe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ONe(t){var e=t.prefixCls,n=t.visible,r=t.children,o=t.popup,i=t.popupStyle,s=t.popupClassName,a=t.popupOffset,l=t.disabled,c=t.mode,u=t.onVisibleChange,d=h.useContext(wl),f=d.getPopupContainer,m=d.rtl,g=d.subMenuOpenDelay,v=d.subMenuCloseDelay,y=d.builtinPlacements,b=d.triggerSubMenuAction,x=d.forceSubMenuRender,w=d.rootClassName,C=d.motion,E=d.defaultMotions,_=h.useState(!1),S=Fe(_,2),T=S[0],I=S[1],P=Se(m?Se({},$Ne):Se({},DNe),y),M=MNe[c],R=Mee(c,C,E),k=h.useRef(R);c!=="inline"&&(k.current=R);var D=Se(Se({},k.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),A=h.useRef();return h.useEffect(function(){return A.current=qn(function(){I(n)}),function(){qn.cancel(A.current)}},[n]),h.createElement(PT,{prefixCls:e,popupClassName:Me("".concat(e,"-popup"),te({},"".concat(e,"-rtl"),m),s,w),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:f,builtinPlacements:P,popupPlacement:M,popupVisible:T,popup:o,popupStyle:i,popupAlign:a&&{offset:a},action:l?[]:[b],mouseEnterDelay:g,mouseLeaveDelay:v,onPopupVisibleChange:u,forceRender:x,popupMotion:D,fresh:!0},r)}function ANe(t){var e=t.id,n=t.open,r=t.keyPath,o=t.children,i="inline",s=h.useContext(wl),a=s.prefixCls,l=s.forceSubMenuRender,c=s.motion,u=s.defaultMotions,d=s.mode,f=h.useRef(!1);f.current=d===i;var m=h.useState(!f.current),g=Fe(m,2),v=g[0],y=g[1],b=f.current?n:!1;h.useEffect(function(){f.current&&y(!1)},[d]);var x=Se({},Mee(i,c,u));r.length>1&&(x.motionAppear=!1);var w=x.onVisibleChanged;return x.onVisibleChanged=function(C){return!f.current&&!C&&y(!0),w==null?void 0:w(C)},v?null:h.createElement(fx,{mode:i,locked:!f.current},h.createElement(Mu,B({visible:b},x,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(a,"-hidden")}),function(C){var E=C.className,_=C.style;return h.createElement(Nj,{id:e,className:E,style:_},o)}))}var NNe=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],jNe=["active"],LNe=h.forwardRef(function(t,e){var n=t.style,r=t.className,o=t.title,i=t.eventKey;t.warnKey;var s=t.disabled,a=t.internalPopupClose,l=t.children,c=t.itemIcon,u=t.expandIcon,d=t.popupClassName,f=t.popupOffset,m=t.popupStyle,g=t.onClick,v=t.onMouseEnter,y=t.onMouseLeave,b=t.onTitleClick,x=t.onTitleMouseEnter,w=t.onTitleMouseLeave,C=cn(t,NNe),E=Eee(i),_=h.useContext(wl),S=_.prefixCls,T=_.mode,I=_.openKeys,P=_.disabled,M=_.overflowDisabled,R=_.activeKey,k=_.selectedKeys,D=_.itemIcon,A=_.expandIcon,N=_.onItemClick,O=_.onOpenChange,j=_.onActive,L=h.useContext(Mj),z=L._internalRenderSubMenuItem,V=h.useContext(Pee),W=V.isSubPathKey,Y=Av(),U="".concat(S,"-submenu"),q=P||s,K=h.useRef(),J=h.useRef(),X=c??D,ue=u??A,_e=I.includes(i),Ce=!M&&_e,pe=W(k,i),ge=kee(i,q,x,w),F=ge.active,ce=cn(ge,jNe),le=h.useState(!1),Z=Fe(le,2),Q=Z[0],ye=Z[1],fe=function(Ee){q||ye(Ee)},ie=function(Ee){fe(!0),v==null||v({key:i,domEvent:Ee})},re=function(Ee){fe(!1),y==null||y({key:i,domEvent:Ee})},ve=h.useMemo(function(){return F||(T!=="inline"?Q||W([R],i):!1)},[T,F,R,Q,i,W]),ee=Dee(Y.length),he=function(Ee){q||(b==null||b({key:i,domEvent:Ee}),T==="inline"&&O(i,!_e))},we=b0(function(ae){g==null||g(lE(ae)),N(ae)}),me=function(Ee){T!=="inline"&&O(i,Ee)},ke=function(){j(i)},Ie=E&&"".concat(E,"-popup"),Re=h.useMemo(function(){return h.createElement($ee,{icon:T!=="horizontal"?ue:void 0,props:Se(Se({},t),{},{isOpen:Ce,isSubMenu:!0})},h.createElement("i",{className:"".concat(U,"-arrow")}))},[T,ue,t,Ce,U]),$e=h.createElement("div",B({role:"menuitem",style:ee,className:"".concat(U,"-title"),tabIndex:q?null:-1,ref:K,title:typeof o=="string"?o:null,"data-menu-id":M&&E?null:E,"aria-expanded":Ce,"aria-haspopup":!0,"aria-controls":Ie,"aria-disabled":q,onClick:he,onFocus:ke},ce),o,Re),ne=h.useRef(T);if(T!=="inline"&&Y.length>1?ne.current="vertical":ne.current=T,!M){var xe=ne.current;$e=h.createElement(ONe,{mode:xe,prefixCls:U,visible:!a&&Ce&&T!=="inline",popupClassName:d,popupOffset:f,popupStyle:m,popup:h.createElement(fx,{mode:xe==="horizontal"?"vertical":xe},h.createElement(Nj,{id:Ie,ref:J},l)),disabled:q,onVisibleChange:me},$e)}var se=h.createElement(uc.Item,B({ref:e,role:"none"},C,{component:"li",style:n,className:Me(U,"".concat(U,"-").concat(T),r,te(te(te(te({},"".concat(U,"-open"),Ce),"".concat(U,"-active"),ve),"".concat(U,"-selected"),pe),"".concat(U,"-disabled"),q)),onMouseEnter:ie,onMouseLeave:re}),$e,!M&&h.createElement(ANe,{id:Ie,open:Ce,keyPath:Y},l));return z&&(se=z(se,t,{selected:pe,active:ve,open:Ce,disabled:q})),h.createElement(fx,{onItemClick:we,mode:T==="horizontal"?"vertical":T,itemIcon:X,expandIcon:ue},se)}),MT=h.forwardRef(function(t,e){var n=t.eventKey,r=t.children,o=Av(n),i=jj(r,o),s=DT();h.useEffect(function(){if(s)return s.registerPath(n,o),function(){s.unregisterPath(n,o)}},[o]);var a;return s?a=i:a=h.createElement(LNe,B({ref:e},t),i),h.createElement(Iee.Provider,{value:o},a)});function Lj(t){var e=t.className,n=t.style,r=h.useContext(wl),o=r.prefixCls,i=DT();return i?null:h.createElement("li",{role:"separator",className:Me("".concat(o,"-item-divider"),e),style:n})}var FNe=["className","title","eventKey","children"],zNe=h.forwardRef(function(t,e){var n=t.className,r=t.title;t.eventKey;var o=t.children,i=cn(t,FNe),s=h.useContext(wl),a=s.prefixCls,l="".concat(a,"-item-group");return h.createElement("li",B({ref:e,role:"presentation"},i,{onClick:function(u){return u.stopPropagation()},className:Me(l,n)}),h.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),h.createElement("ul",{role:"group",className:"".concat(l,"-list")},o))}),Fj=h.forwardRef(function(t,e){var n=t.eventKey,r=t.children,o=Av(n),i=jj(r,o),s=DT();return s?i:h.createElement(zNe,B({ref:e},ni(t,["warnKey"])),i)}),BNe=["label","children","key","type","extra"];function RM(t,e,n){var r=e.item,o=e.group,i=e.submenu,s=e.divider;return(t||[]).map(function(a,l){if(a&&At(a)==="object"){var c=a,u=c.label,d=c.children,f=c.key,m=c.type,g=c.extra,v=cn(c,BNe),y=f??"tmp-".concat(l);return d||m==="group"?m==="group"?h.createElement(o,B({key:y},v,{title:u}),RM(d,e,n)):h.createElement(i,B({key:y},v,{title:u}),RM(d,e,n)):m==="divider"?h.createElement(s,B({key:y},v)):h.createElement(r,B({key:y},v,{extra:g}),u,(!!g||g===0)&&h.createElement("span",{className:"".concat(n,"-item-extra")},g))}return null}).filter(function(a){return a})}function C8(t,e,n,r,o){var i=t,s=Se({divider:Lj,item:$T,group:Fj,submenu:MT},r);return e&&(i=RM(e,s,o)),jj(i,n)}var VNe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],kf=[],HNe=h.forwardRef(function(t,e){var n,r=t,o=r.prefixCls,i=o===void 0?"rc-menu":o,s=r.rootClassName,a=r.style,l=r.className,c=r.tabIndex,u=c===void 0?0:c,d=r.items,f=r.children,m=r.direction,g=r.id,v=r.mode,y=v===void 0?"vertical":v,b=r.inlineCollapsed,x=r.disabled,w=r.disabledOverflow,C=r.subMenuOpenDelay,E=C===void 0?.1:C,_=r.subMenuCloseDelay,S=_===void 0?.1:_,T=r.forceSubMenuRender,I=r.defaultOpenKeys,P=r.openKeys,M=r.activeKey,R=r.defaultActiveFirst,k=r.selectable,D=k===void 0?!0:k,A=r.multiple,N=A===void 0?!1:A,O=r.defaultSelectedKeys,j=r.selectedKeys,L=r.onSelect,z=r.onDeselect,V=r.inlineIndent,W=V===void 0?24:V,Y=r.motion,U=r.defaultMotions,q=r.triggerSubMenuAction,K=q===void 0?"hover":q,J=r.builtinPlacements,X=r.itemIcon,ue=r.expandIcon,_e=r.overflowedIndicator,Ce=_e===void 0?"...":_e,pe=r.overflowedIndicatorPopupClassName,ge=r.getPopupContainer,F=r.onClick,ce=r.onOpenChange,le=r.onKeyDown;r.openAnimation,r.openTransitionName;var Z=r._internalRenderMenuItem,Q=r._internalRenderSubMenuItem,ye=r._internalComponents,fe=cn(r,VNe),ie=h.useMemo(function(){return[C8(f,d,kf,ye,i),C8(f,d,kf,{},i)]},[f,d,ye]),re=Fe(ie,2),ve=re[0],ee=re[1],he=h.useState(!1),we=Fe(he,2),me=we[0],ke=we[1],Ie=h.useRef(),Re=wNe(g),$e=m==="rtl",ne=Wo(I,{value:P,postState:function(Lt){return Lt||kf}}),xe=Fe(ne,2),se=xe[0],ae=xe[1],Ee=function(Lt){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function vn(){ae(Lt),ce==null||ce(Lt)}Pt?sa.flushSync(vn):vn()},Le=h.useState(se),ze=Fe(Le,2),We=ze[0],Ze=ze[1],dt=h.useRef(!1),de=h.useMemo(function(){return(y==="inline"||y==="vertical")&&b?["vertical",b]:[y,!1]},[y,b]),je=Fe(de,2),Ve=je[0],tt=je[1],Be=Ve==="inline",lt=h.useState(Ve),st=Fe(lt,2),pt=st[0],Ct=st[1],Pe=h.useState(tt),Te=Fe(Pe,2),De=Te[0],Oe=Te[1];h.useEffect(function(){Ct(Ve),Oe(tt),dt.current&&(Be?ae(We):Ee(kf))},[Ve,tt]);var He=h.useState(0),Ge=Fe(He,2),ht=Ge[0],Qe=Ge[1],Xe=ht>=ve.length-1||pt!=="horizontal"||w;h.useEffect(function(){Be&&Ze(se)},[se]),h.useEffect(function(){return dt.current=!0,function(){dt.current=!1}},[]);var nt=bNe(),ft=nt.registerPath,wt=nt.unregisterPath,Tt=nt.refreshOverflowKeys,en=nt.isSubPathKey,Wt=nt.getKeyPath,yt=nt.getKeys,Bt=nt.getSubPathKeys,bt=h.useMemo(function(){return{registerPath:ft,unregisterPath:wt}},[ft,wt]),It=h.useMemo(function(){return{isSubPathKey:en}},[en]);h.useEffect(function(){Tt(Xe?kf:ve.slice(ht+1).map(function(Pn){return Pn.key}))},[ht,Xe]);var zt=Wo(M||R&&((n=ve[0])===null||n===void 0?void 0:n.key),{value:M}),Qt=Fe(zt,2),gn=Qt[0],Zn=Qt[1],Dn=b0(function(Pn){Zn(Pn)}),Mr=b0(function(){Zn(void 0)});h.useImperativeHandle(e,function(){return{list:Ie.current,focus:function(Lt){var Pt,vn=yt(),Tn=IM(vn,Re),Un=Tn.elements,rr=Tn.key2element,yn=Tn.element2key,zr=Oj(Ie.current,Un),Br=gn??(zr[0]?yn.get(zr[0]):(Pt=ve.find(function(an){return!an.props.disabled}))===null||Pt===void 0?void 0:Pt.key),Vr=rr.get(Br);if(Br&&Vr){var qo;Vr==null||(qo=Vr.focus)===null||qo===void 0||qo.call(Vr,Lt)}}}});var Nt=Wo(O||[],{value:j,postState:function(Lt){return Array.isArray(Lt)?Lt:Lt==null?kf:[Lt]}}),Et=Fe(Nt,2),Vt=Et[0],Wn=Et[1],jr=function(Lt){if(D){var Pt=Lt.key,vn=Vt.includes(Pt),Tn;N?vn?Tn=Vt.filter(function(rr){return rr!==Pt}):Tn=[].concat(at(Vt),[Pt]):Tn=[Pt],Wn(Tn);var Un=Se(Se({},Lt),{},{selectedKeys:Tn});vn?z==null||z(Un):L==null||L(Un)}!N&&se.length&&pt!=="inline"&&Ee(kf)},An=b0(function(Pn){F==null||F(lE(Pn)),jr(Pn)}),dr=b0(function(Pn,Lt){var Pt=se.filter(function(Tn){return Tn!==Pn});if(Lt)Pt.push(Pn);else if(pt!=="inline"){var vn=Bt(Pn);Pt=Pt.filter(function(Tn){return!vn.has(Tn)})}xc(se,Pt,!0)||Ee(Pt,!0)}),to=function(Lt,Pt){var vn=Pt??!se.includes(Lt);dr(Lt,vn)},hi=gNe(pt,gn,$e,Re,Ie,yt,Wt,Zn,to,le);h.useEffect(function(){ke(!0)},[]);var Ki=h.useMemo(function(){return{_internalRenderMenuItem:Z,_internalRenderSubMenuItem:Q}},[Z,Q]),To=pt!=="horizontal"||w?ve:ve.map(function(Pn,Lt){return h.createElement(fx,{key:Pn.key,overflowDisabled:Lt>ht},Pn)}),Gi=h.createElement(uc,B({id:g,ref:Ie,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:$T,className:Me(i,"".concat(i,"-root"),"".concat(i,"-").concat(pt),l,te(te({},"".concat(i,"-inline-collapsed"),De),"".concat(i,"-rtl"),$e),s),dir:m,style:a,role:"menu",tabIndex:u,data:To,renderRawItem:function(Lt){return Lt},renderRawRest:function(Lt){var Pt=Lt.length,vn=Pt?ve.slice(-Pt):null;return h.createElement(MT,{eventKey:PM,title:Ce,disabled:Xe,internalPopupClose:Pt===0,popupClassName:pe},vn)},maxCount:pt!=="horizontal"||w?uc.INVALIDATE:uc.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Lt){Qe(Lt)},onKeyDown:hi},fe));return h.createElement(Mj.Provider,{value:Ki},h.createElement(Cee.Provider,{value:Re},h.createElement(fx,{prefixCls:i,rootClassName:s,mode:pt,openKeys:se,rtl:$e,disabled:x,motion:me?Y:null,defaultMotions:me?U:null,activeKey:gn,onActive:Dn,onInactive:Mr,selectedKeys:Vt,inlineIndent:W,subMenuOpenDelay:E,subMenuCloseDelay:S,forceSubMenuRender:T,builtinPlacements:J,triggerSubMenuAction:K,getPopupContainer:ge,itemIcon:X,expandIcon:ue,onItemClick:An,onOpenChange:dr},h.createElement(Pee.Provider,{value:It},Gi),h.createElement("div",{style:{display:"none"},"aria-hidden":!0},h.createElement(Tee.Provider,{value:bt},ee)))))}),xw=HNe;xw.Item=$T;xw.SubMenu=MT;xw.ItemGroup=Fj;xw.Divider=Lj;const Oee=h.createContext({});var WNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},UNe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:WNe}))},Aee=h.forwardRef(UNe);const cE=h.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var qNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Nee=t=>{const{prefixCls:e,className:n,dashed:r}=t,o=qNe(t,["prefixCls","className","dashed"]),{getPrefixCls:i}=h.useContext(pn),s=i("menu",e),a=Me({[`${s}-item-divider-dashed`]:!!r},n);return h.createElement(Lj,Object.assign({className:a},o))},jee=t=>{var e;const{className:n,children:r,icon:o,title:i,danger:s,extra:a}=t,{prefixCls:l,firstLevel:c,direction:u,disableMenuItemTitleTooltip:d,inlineCollapsed:f}=h.useContext(cE),m=w=>{const C=r==null?void 0:r[0],E=h.createElement("span",{className:Me(`${l}-title-content`,{[`${l}-title-content-with-extra`]:!!a||a===0})},r);return(!o||h.isValidElement(r)&&r.type==="span")&&r&&w&&c&&typeof C=="string"?h.createElement("div",{className:`${l}-inline-collapsed-noicon`},C.charAt(0)):E},{siderCollapsed:g}=h.useContext(Oee);let v=i;typeof i>"u"?v=c?r:"":i===!1&&(v="");const y={title:v};!g&&!f&&(y.title=null,y.open=!1);const b=vl(r).length;let x=h.createElement($T,Object.assign({},ni(t,["title","icon","danger"]),{className:Me({[`${l}-item-danger`]:s,[`${l}-item-only-child`]:(o?b+1:b)===1},n),title:typeof i=="string"?i:void 0}),Ba(o,{className:Me(h.isValidElement(o)?(e=o.props)===null||e===void 0?void 0:e.className:"",`${l}-item-icon`)}),m(f));return d||(x=h.createElement(dx,Object.assign({},y,{placement:u==="rtl"?"left":"right",classNames:{root:`${l}-inline-collapsed-tooltip`}}),x)),x};var KNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const uE=h.createContext(null),Lee=h.forwardRef((t,e)=>{const{children:n}=t,r=KNe(t,["children"]),o=h.useContext(uE),i=h.useMemo(()=>Object.assign(Object.assign({},o),r),[o,r.prefixCls,r.mode,r.selectable,r.rootClassName]),s=u2e(n),a=Cf(e,s?vp(n):null);return h.createElement(uE.Provider,{value:i},h.createElement(cx,{space:!0},s?h.cloneElement(n,{ref:a}):n))}),GNe=t=>{const{componentCls:e,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:o,lineWidth:i,lineType:s,itemPaddingInline:a}=t;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Ae(i)} ${s} ${o}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},YNe=t=>{let{componentCls:e,menuArrowOffset:n,calc:r}=t;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Ae(r(n).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Ae(n)})`}}}}},_8=t=>Object.assign({},lf(t)),E8=(t,e)=>{const{componentCls:n,itemColor:r,itemSelectedColor:o,subMenuItemSelectedColor:i,groupTitleColor:s,itemBg:a,subMenuItemBg:l,itemSelectedBg:c,activeBarHeight:u,activeBarWidth:d,activeBarBorderWidth:f,motionDurationSlow:m,motionEaseInOut:g,motionEaseOut:v,itemPaddingInline:y,motionDurationMid:b,itemHoverColor:x,lineType:w,colorSplit:C,itemDisabledColor:E,dangerItemColor:_,dangerItemHoverColor:S,dangerItemSelectedColor:T,dangerItemActiveBg:I,dangerItemSelectedBg:P,popupBg:M,itemHoverBg:R,itemActiveBg:k,menuSubMenuBg:D,horizontalItemSelectedColor:A,horizontalItemSelectedBg:N,horizontalItemBorderRadius:O,horizontalItemHoverBg:j}=t;return{[`${n}-${e}, ${n}-${e} > ${n}`]:{color:r,background:a,[`&${n}-root:focus-visible`]:Object.assign({},_8(t)),[`${n}-item`]:{"&-group-title, &-extra":{color:s}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:i},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},_8(t))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${E} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:x}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:R},"&:active":{backgroundColor:k}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:R},"&:active":{backgroundColor:k}}},[`${n}-item-danger`]:{color:_,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:S}},[`&${n}-item:active`]:{background:I}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:o,[`&${n}-item-danger`]:{color:T},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:c,[`&${n}-item-danger`]:{backgroundColor:P}},[`&${n}-submenu > ${n}`]:{backgroundColor:D},[`&${n}-popup > ${n}`]:{backgroundColor:M},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:M},[`&${n}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:f,marginTop:t.calc(f).mul(-1).equal(),marginBottom:0,borderRadius:O,"&::after":{position:"absolute",insetInline:y,bottom:0,borderBottom:`${Ae(u)} solid transparent`,transition:`border-color ${m} ${g}`,content:'""'},"&:hover, &-active, &-open":{background:j,"&::after":{borderBottomWidth:u,borderBottomColor:A}},"&-selected":{color:A,backgroundColor:N,"&:hover":{backgroundColor:N},"&::after":{borderBottomWidth:u,borderBottomColor:A}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${Ae(f)} ${w} ${C}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:l},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Ae(d)} solid ${o}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${v}`,`opacity ${b} ${v}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:T}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${g}`,`opacity ${b} ${g}`].join(",")}}}}}},T8=t=>{const{componentCls:e,itemHeight:n,itemMarginInline:r,padding:o,menuArrowSize:i,marginXS:s,itemMarginBlock:a,itemWidth:l,itemPaddingInline:c}=t,u=t.calc(i).add(o).add(s).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:n,lineHeight:Ae(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:a,width:l},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:n,lineHeight:Ae(n)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:u}}},XNe=t=>{const{componentCls:e,iconCls:n,itemHeight:r,colorTextLightSolid:o,dropdownWidth:i,controlHeightLG:s,motionEaseOut:a,paddingXL:l,itemMarginInline:c,fontSizeLG:u,motionDurationFast:d,motionDurationSlow:f,paddingXS:m,boxShadowSecondary:g,collapsedWidth:v,collapsedIconSize:y}=t,b={height:r,lineHeight:Ae(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},T8(t))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},T8(t)),{boxShadow:g})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:i,maxHeight:`calc(100vh - ${Ae(t.calc(s).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${f}`,`background ${f}`,`padding ${d} ${a}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:b,[`& ${e}-item-group-title`]:{paddingInlineStart:l}},[`${e}-item`]:b}},{[`${e}-inline-collapsed`]:{width:v,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Ae(t.calc(y).div(2).equal())} - ${Ae(c)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${n}`]:{margin:0,fontSize:y,lineHeight:Ae(r),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:o}},[`${e}-item-group-title`]:Object.assign(Object.assign({},sx),{paddingInline:m})}}]},I8=t=>{const{componentCls:e,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:o,motionEaseOut:i,iconCls:s,iconSize:a,iconMarginInlineEnd:l}=t;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${o}`].join(","),[`${e}-item-icon, ${s}`]:{minWidth:a,fontSize:a,transition:[`font-size ${r} ${i}`,`margin ${n} ${o}`,`color ${n}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${n} ${o}`,`margin ${n}`,`color ${n}`].join(",")}},[`${e}-item-icon`]:Object.assign({},lw()),[`&${e}-item-only-child`]:{[`> ${s}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},P8=t=>{const{componentCls:e,motionDurationSlow:n,motionEaseInOut:r,borderRadius:o,menuArrowSize:i,menuArrowOffset:s}=t;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:t.margin,width:i,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:t.calc(i).mul(.6).equal(),height:t.calc(i).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:o,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Ae(t.calc(s).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Ae(s)})`}}}}},QNe=t=>{const{antCls:e,componentCls:n,fontSize:r,motionDurationSlow:o,motionDurationMid:i,motionEaseInOut:s,paddingXS:a,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:f,subMenuItemBorderRadius:m,menuArrowSize:g,menuArrowOffset:v,lineType:y,groupTitleLineHeight:b,groupTitleFontSize:x}=t;return[{"":{[n]:Object.assign(Object.assign({},ax()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),ax()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${o} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:t.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${Ae(a)} ${Ae(l)}`,fontSize:x,lineHeight:b,transition:`all ${o}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${o} ${s}`,`background ${o} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${o} ${s}`,`background ${o} ${s}`,`padding ${i} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${o} ${s}`,`padding ${o} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${o}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:t.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:y,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),I8(t)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${Ae(t.calc(r).mul(2).equal())} ${Ae(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:f,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:f},I8(t)),P8(t)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:m},[`${n}-submenu-title::after`]:{transition:`transform ${o} ${s}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:t.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:t.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:t.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:t.paddingXS}}}),P8(t)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Ae(v)})`},"&::after":{transform:`rotate(45deg) translateX(${Ae(t.calc(v).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${Ae(t.calc(g).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Ae(t.calc(v).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Ae(v)})`}}})},{[`${e}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},JNe=t=>{var e,n,r;const{colorPrimary:o,colorError:i,colorTextDisabled:s,colorErrorBg:a,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:f,lineWidth:m,lineWidthBold:g,controlItemBgActive:v,colorBgTextHover:y,controlHeightLG:b,lineHeight:x,colorBgElevated:w,marginXXS:C,padding:E,fontSize:_,controlHeightSM:S,fontSizeLG:T,colorTextLightSolid:I,colorErrorHover:P}=t,M=(e=t.activeBarWidth)!==null&&e!==void 0?e:0,R=(n=t.activeBarBorderWidth)!==null&&n!==void 0?n:m,k=(r=t.itemMarginInline)!==null&&r!==void 0?r:t.marginXXS,D=new Fn(I).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:t.zIndexPopupBase+50,radiusItem:t.borderRadiusLG,itemBorderRadius:t.borderRadiusLG,radiusSubMenuItem:t.borderRadiusSM,subMenuItemBorderRadius:t.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:o,horizontalItemHoverColor:o,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:o,itemSelectedColor:o,subMenuItemSelectedColor:o,colorItemTextSelectedHorizontal:o,horizontalItemSelectedColor:o,colorItemBg:u,itemBg:u,colorItemBgHover:y,itemHoverBg:y,colorItemBgActive:f,itemActiveBg:v,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:v,itemSelectedBg:v,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:M,colorActiveBarHeight:g,activeBarHeight:g,colorActiveBarBorderSize:m,activeBarBorderWidth:R,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:i,dangerItemColor:i,colorDangerItemTextHover:i,dangerItemHoverColor:i,colorDangerItemTextSelected:i,dangerItemSelectedColor:i,colorDangerItemBgActive:a,dangerItemActiveBg:a,colorDangerItemBgSelected:a,dangerItemSelectedBg:a,itemMarginInline:k,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:b,groupTitleLineHeight:x,collapsedWidth:b*2,popupBg:w,itemMarginBlock:C,itemPaddingInline:E,horizontalLineHeight:`${b*1.15}px`,iconSize:_,iconMarginInlineEnd:S-_,collapsedIconSize:T,groupTitleFontSize:_,darkItemDisabledColor:new Fn(I).setA(.25).toRgbString(),darkItemColor:D,darkDangerItemColor:i,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:I,darkItemSelectedBg:o,darkDangerItemSelectedBg:i,darkItemHoverBg:"transparent",darkGroupTitleColor:D,darkItemHoverColor:I,darkDangerItemHoverColor:P,darkDangerItemSelectedColor:I,darkDangerItemActiveBg:i,itemWidth:M?`calc(100% + ${R}px)`:`calc(100% - ${k*2}px)`}},ZNe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return eo("Menu",o=>{const{colorBgElevated:i,controlHeightLG:s,fontSize:a,darkItemColor:l,darkDangerItemColor:c,darkItemBg:u,darkSubMenuItemBg:d,darkItemSelectedColor:f,darkItemSelectedBg:m,darkDangerItemSelectedBg:g,darkItemHoverBg:v,darkGroupTitleColor:y,darkItemHoverColor:b,darkItemDisabledColor:x,darkDangerItemHoverColor:w,darkDangerItemSelectedColor:C,darkDangerItemActiveBg:E,popupBg:_,darkPopupBg:S}=o,T=o.calc(a).div(7).mul(5).equal(),I=Vn(o,{menuArrowSize:T,menuHorizontalHeight:o.calc(s).mul(1.15).equal(),menuArrowOffset:o.calc(T).mul(.25).equal(),menuSubMenuBg:i,calc:o.calc,popupBg:_}),P=Vn(I,{itemColor:l,itemHoverColor:b,groupTitleColor:y,itemSelectedColor:f,subMenuItemSelectedColor:f,itemBg:u,popupBg:S,subMenuItemBg:d,itemActiveBg:"transparent",itemSelectedBg:m,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:v,itemDisabledColor:x,dangerItemColor:c,dangerItemHoverColor:w,dangerItemSelectedColor:C,dangerItemActiveBg:E,dangerItemSelectedBg:g,menuSubMenuBg:d,horizontalItemSelectedColor:f,horizontalItemSelectedBg:m});return[QNe(I),GNe(I),XNe(I),E8(I,"light"),E8(P,"dark"),YNe(I),lZ(I),Qg(I,"slide-up"),Qg(I,"slide-down"),vT(I,"zoom-big")]},JNe,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(t,e)},Fee=t=>{var e;const{popupClassName:n,icon:r,title:o,theme:i}=t,s=h.useContext(cE),{prefixCls:a,inlineCollapsed:l,theme:c}=s,u=Av();let d;if(!r)d=l&&!u.length&&o&&typeof o=="string"?h.createElement("div",{className:`${a}-inline-collapsed-noicon`},o.charAt(0)):h.createElement("span",{className:`${a}-title-content`},o);else{const g=h.isValidElement(o)&&o.type==="span";d=h.createElement(h.Fragment,null,Ba(r,{className:Me(h.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${a}-item-icon`)}),g?o:h.createElement("span",{className:`${a}-title-content`},o))}const f=h.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]),[m]=fw("Menu");return h.createElement(cE.Provider,{value:f},h.createElement(MT,Object.assign({},ni(t,["icon"]),{title:d,popupClassName:Me(a,n,`${a}-${i||c}`),popupStyle:Object.assign({zIndex:m},t.popupStyle)})))};var eje=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function zR(t){return t===null||t===!1}const tje={item:jee,submenu:Fee,divider:Nee},nje=h.forwardRef((t,e)=>{var n;const r=h.useContext(uE),o=r||{},{getPrefixCls:i,getPopupContainer:s,direction:a,menu:l}=h.useContext(pn),c=i(),{prefixCls:u,className:d,style:f,theme:m="light",expandIcon:g,_internalDisableMenuItemTitleTooltip:v,inlineCollapsed:y,siderCollapsed:b,rootClassName:x,mode:w,selectable:C,onClick:E,overflowedIndicatorPopupClassName:_}=t,S=eje(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),T=ni(S,["collapsedWidth"]);(n=o.validator)===null||n===void 0||n.call(o,{mode:w});const I=br(function(){var W;E==null||E.apply(void 0,arguments),(W=o.onClick)===null||W===void 0||W.call(o)}),P=o.mode||w,M=C??o.selectable,R=y??b,k={horizontal:{motionName:`${c}-slide-up`},inline:rZ(c),other:{motionName:`${c}-zoom-big`}},D=i("menu",u||o.prefixCls),A=js(D),[N,O,j]=ZNe(D,A,!r),L=Me(`${D}-${m}`,l==null?void 0:l.className,d),z=h.useMemo(()=>{var W,Y;if(typeof g=="function"||zR(g))return g||null;if(typeof o.expandIcon=="function"||zR(o.expandIcon))return o.expandIcon||null;if(typeof(l==null?void 0:l.expandIcon)=="function"||zR(l==null?void 0:l.expandIcon))return(l==null?void 0:l.expandIcon)||null;const U=(W=g??(o==null?void 0:o.expandIcon))!==null&&W!==void 0?W:l==null?void 0:l.expandIcon;return Ba(U,{className:Me(`${D}-submenu-expand-icon`,h.isValidElement(U)?(Y=U.props)===null||Y===void 0?void 0:Y.className:void 0)})},[g,o==null?void 0:o.expandIcon,l==null?void 0:l.expandIcon,D]),V=h.useMemo(()=>({prefixCls:D,inlineCollapsed:R||!1,direction:a,firstLevel:!0,theme:m,mode:P,disableMenuItemTitleTooltip:v}),[D,R,a,v,m]);return N(h.createElement(uE.Provider,{value:null},h.createElement(cE.Provider,{value:V},h.createElement(xw,Object.assign({getPopupContainer:s,overflowedIndicator:h.createElement(Aee,null),overflowedIndicatorPopupClassName:Me(D,`${D}-${m}`,_),mode:P,selectable:M,onClick:I},T,{inlineCollapsed:R,style:Object.assign(Object.assign({},l==null?void 0:l.style),f),className:L,prefixCls:D,direction:a,defaultMotions:k,expandIcon:z,ref:e,rootClassName:Me(x,O,o.rootClassName,j,A),_internalComponents:tje})))))}),Nv=h.forwardRef((t,e)=>{const n=h.useRef(null),r=h.useContext(Oee);return h.useImperativeHandle(e,()=>({menu:n.current,focus:o=>{var i;(i=n.current)===null||i===void 0||i.focus(o)}})),h.createElement(nje,Object.assign({ref:n},t,r))});Nv.Item=jee;Nv.SubMenu=Fee;Nv.Divider=Nee;Nv.ItemGroup=Fj;const rje=t=>{const{componentCls:e,menuCls:n,colorError:r,colorTextLightSolid:o}=t,i=`${n}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${n} ${i}`]:{[`&${i}-danger:not(${i}-disabled)`]:{color:r,"&:hover":{color:o,backgroundColor:r}}}}}},oje=t=>{const{componentCls:e,menuCls:n,zIndexPopup:r,dropdownArrowDistance:o,sizePopupArrow:i,antCls:s,iconCls:a,motionDurationMid:l,paddingBlock:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:f,fontSizeIcon:m,controlPaddingHorizontal:g,colorBgElevated:v}=t;return[{[e]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:t.calc(i).div(2).sub(o).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${s}-btn`]:{[`& > ${a}-down, & > ${s}-btn-icon > ${a}-down`]:{fontSize:m}},[`${e}-wrap`]:{position:"relative",[`${s}-btn > ${a}-down`]:{fontSize:m},[`${a}-down::before`]:{transition:`transform ${l}`}},[`${e}-wrap-open`]:{[`${a}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:yj},[`&${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topRight`]:{animationName:xj},[`&${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:bj},[`&${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topRight`]:{animationName:wj}}},yee(t,v,{arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:Object.assign(Object.assign({},ho(t)),{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:v,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},Jh(t)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${Ae(c)} ${Ae(g)}`,color:t.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:u,marginInlineEnd:t.marginXS,fontSize:t.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:t.padding,marginInlineStart:"auto",fontSize:t.fontSizeSM,color:t.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${Ae(c)} ${Ae(g)}`,color:t.colorText,fontWeight:"normal",fontSize:u,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:t.borderRadiusSM,"&:hover, &-active":{backgroundColor:t.controlItemBgHover}},Jh(t)),{"&-selected":{color:t.colorPrimary,backgroundColor:t.controlItemBgActive,"&:hover, &-active":{backgroundColor:t.controlItemBgActiveHover}},"&-disabled":{color:f,cursor:"not-allowed","&:hover":{color:f,backgroundColor:v,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${Ae(t.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:t.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:t.colorTextDescription,fontSize:m,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${Ae(t.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:t.calc(g).add(t.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:f,backgroundColor:v,cursor:"not-allowed"}},[`${n}-submenu-selected ${e}-menu-submenu-title`]:{color:t.colorPrimary}})})},[Qg(t,"slide-up"),Qg(t,"slide-down"),rE(t,"move-up"),rE(t,"move-down"),vT(t,"zoom-big")]]},ije=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+50,paddingBlock:(t.controlHeight-t.fontSize*t.lineHeight)/2},$j({contentRadius:t.borderRadiusLG,limitVerticalRadius:!0})),gee(t)),sje=eo("Dropdown",t=>{const{marginXXS:e,sizePopupArrow:n,paddingXXS:r,componentCls:o}=t,i=Vn(t,{menuCls:`${o}-menu`,dropdownArrowDistance:t.calc(n).div(2).add(e).equal(),dropdownEdgeChildPadding:r});return[oje(i),rje(i)]},ije,{resetStyle:!1}),OT=t=>{var e;const{menu:n,arrow:r,prefixCls:o,children:i,trigger:s,disabled:a,dropdownRender:l,getPopupContainer:c,overlayClassName:u,rootClassName:d,overlayStyle:f,open:m,onOpenChange:g,visible:v,onVisibleChange:y,mouseEnterDelay:b=.15,mouseLeaveDelay:x=.1,autoAdjustOverflow:w=!0,placement:C="",overlay:E,transitionName:_}=t,{getPopupContainer:S,getPrefixCls:T,direction:I,dropdown:P}=h.useContext(pn);yp();const M=h.useMemo(()=>{const ge=T();return _!==void 0?_:C.includes("top")?`${ge}-slide-down`:`${ge}-slide-up`},[T,C,_]),R=h.useMemo(()=>C?C.includes("Center")?C.slice(0,C.indexOf("Center")):C:I==="rtl"?"bottomRight":"bottomLeft",[C,I]),k=T("dropdown",o),D=js(k),[A,N,O]=sje(k,D),[,j]=Pi(),L=h.Children.only(lNe(i)?h.createElement("span",null,i):i),z=Ba(L,{className:Me(`${k}-trigger`,{[`${k}-rtl`]:I==="rtl"},L.props.className),disabled:(e=L.props.disabled)!==null&&e!==void 0?e:a}),V=a?[]:s,W=!!(V!=null&&V.includes("contextMenu")),[Y,U]=Wo(!1,{value:m??v}),q=br(ge=>{g==null||g(ge,{source:"trigger"}),y==null||y(ge),U(ge)}),K=Me(u,d,N,O,D,P==null?void 0:P.className,{[`${k}-rtl`]:I==="rtl"}),J=bee({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:w,offset:j.marginXXS,arrowWidth:r?j.sizePopupArrow:0,borderRadius:j.borderRadius}),X=h.useCallback(()=>{n!=null&&n.selectable&&(n!=null&&n.multiple)||(g==null||g(!1,{source:"menu"}),U(!1))},[n==null?void 0:n.selectable,n==null?void 0:n.multiple]),ue=()=>{let ge;return n!=null&&n.items?ge=h.createElement(Nv,Object.assign({},n)):typeof E=="function"?ge=E():ge=E,l&&(ge=l(ge)),ge=h.Children.only(typeof ge=="string"?h.createElement("span",null,ge):ge),h.createElement(Lee,{prefixCls:`${k}-menu`,rootClassName:Me(O,D),expandIcon:h.createElement("span",{className:`${k}-menu-submenu-arrow`},I==="rtl"?h.createElement(CM,{className:`${k}-menu-submenu-arrow-icon`}):h.createElement(oM,{className:`${k}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:X,validator:F=>{let{mode:ce}=F}},ge)},[_e,Ce]=fw("Dropdown",f==null?void 0:f.zIndex);let pe=h.createElement(aNe,Object.assign({alignPoint:W},ni(t,["rootClassName"]),{mouseEnterDelay:b,mouseLeaveDelay:x,visible:Y,builtinPlacements:J,arrow:!!r,overlayClassName:K,prefixCls:k,getPopupContainer:c||S,transitionName:M,trigger:V,overlay:ue,placement:R,onVisibleChange:q,overlayStyle:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.style),f),{zIndex:_e})}),z);return _e&&(pe=h.createElement(dT.Provider,{value:Ce},pe)),A(pe)},aje=UZ(OT,"align",void 0,"dropdown",t=>t),lje=t=>h.createElement(aje,Object.assign({},t),h.createElement("span",null));OT._InternalPanelDoNotUseOrYouWillBeFired=lje;const zee=h.createContext(null),cje=zee.Provider,Bee=h.createContext(null),uje=Bee.Provider;var dje=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Vee=h.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-checkbox":n,o=t.className,i=t.style,s=t.checked,a=t.disabled,l=t.defaultChecked,c=l===void 0?!1:l,u=t.type,d=u===void 0?"checkbox":u,f=t.title,m=t.onChange,g=cn(t,dje),v=h.useRef(null),y=h.useRef(null),b=Wo(c,{value:s}),x=Fe(b,2),w=x[0],C=x[1];h.useImperativeHandle(e,function(){return{focus:function(T){var I;(I=v.current)===null||I===void 0||I.focus(T)},blur:function(){var T;(T=v.current)===null||T===void 0||T.blur()},input:v.current,nativeElement:y.current}});var E=Me(r,o,te(te({},"".concat(r,"-checked"),w),"".concat(r,"-disabled"),a)),_=function(T){a||("checked"in t||C(T.target.checked),m==null||m({target:Se(Se({},t),{},{type:d,checked:T.target.checked}),stopPropagation:function(){T.stopPropagation()},preventDefault:function(){T.preventDefault()},nativeEvent:T.nativeEvent}))};return h.createElement("span",{className:E,title:f,style:i,ref:y},h.createElement("input",B({},g,{className:"".concat(r,"-input"),ref:v,onChange:_,disabled:a,checked:!!w,type:d})),h.createElement("span",{className:"".concat(r,"-inner")}))});function Hee(t){const e=oe.useRef(null),n=()=>{qn.cancel(e.current),e.current=null};return[()=>{n(),e.current=qn(()=>{e.current=null})},i=>{e.current&&(i.stopPropagation(),n()),t==null||t(i)}]}const fje=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-group`;return{[r]:Object.assign(Object.assign({},ho(t)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},hje=t=>{const{componentCls:e,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:o,motionDurationSlow:i,motionDurationMid:s,motionEaseInOutCirc:a,colorBgContainer:l,colorBorder:c,lineWidth:u,colorBgContainerDisabled:d,colorTextDisabled:f,paddingXS:m,dotColorDisabled:g,lineType:v,radioColor:y,radioBgColor:b,calc:x}=t,w=`${e}-inner`,E=x(o).sub(x(4).mul(2)),_=x(1).mul(o).equal({unit:!0});return{[`${e}-wrapper`]:Object.assign(Object.assign({},ho(t)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:t.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Ae(u)} ${v} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[e]:Object.assign(Object.assign({},ho(t)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${w}`]:{borderColor:r},[`${e}-input:focus-visible + ${w}`]:Object.assign({},lf(t)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:_,height:_,marginBlockStart:x(1).mul(o).div(-2).equal({unit:!0}),marginInlineStart:x(1).mul(o).div(-2).equal({unit:!0}),backgroundColor:y,borderBlockStart:0,borderInlineStart:0,borderRadius:_,transform:"scale(0)",opacity:0,transition:`all ${i} ${a}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:_,height:_,backgroundColor:l,borderColor:c,borderStyle:"solid",borderWidth:u,borderRadius:"50%",transition:`all ${s}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[w]:{borderColor:r,backgroundColor:b,"&::after":{transform:`scale(${t.calc(t.dotSize).div(o).equal()})`,opacity:1,transition:`all ${i} ${a}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[w]:{backgroundColor:d,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:g}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:f,cursor:"not-allowed"},[`&${e}-checked`]:{[w]:{"&::after":{transform:`scale(${x(E).div(o).equal()})`}}}},[`span${e} + *`]:{paddingInlineStart:m,paddingInlineEnd:m}})}},pje=t=>{const{buttonColor:e,controlHeight:n,componentCls:r,lineWidth:o,lineType:i,colorBorder:s,motionDurationSlow:a,motionDurationMid:l,buttonPaddingInline:c,fontSize:u,buttonBg:d,fontSizeLG:f,controlHeightLG:m,controlHeightSM:g,paddingXS:v,borderRadius:y,borderRadiusSM:b,borderRadiusLG:x,buttonCheckedBg:w,buttonSolidCheckedColor:C,colorTextDisabled:E,colorBgContainerDisabled:_,buttonCheckedBgDisabled:S,buttonCheckedColorDisabled:T,colorPrimary:I,colorPrimaryHover:P,colorPrimaryActive:M,buttonSolidCheckedBg:R,buttonSolidCheckedHoverBg:k,buttonSolidCheckedActiveBg:D,calc:A}=t;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:c,paddingBlock:0,color:e,fontSize:u,lineHeight:Ae(A(n).sub(A(o).mul(2)).equal()),background:d,border:`${Ae(o)} ${i} ${s}`,borderBlockStartWidth:A(o).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:o,cursor:"pointer",transition:[`color ${l}`,`background ${l}`,`box-shadow ${l}`].join(","),a:{color:e},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:A(o).mul(-1).equal(),insetInlineStart:A(o).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:o,paddingInline:0,backgroundColor:s,transition:`background-color ${a}`,content:'""'}},"&:first-child":{borderInlineStart:`${Ae(o)} ${i} ${s}`,borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y},"&:first-child:last-child":{borderRadius:y},[`${r}-group-large &`]:{height:m,fontSize:f,lineHeight:Ae(A(m).sub(A(o).mul(2)).equal()),"&:first-child":{borderStartStartRadius:x,borderEndStartRadius:x},"&:last-child":{borderStartEndRadius:x,borderEndEndRadius:x}},[`${r}-group-small &`]:{height:g,paddingInline:A(v).sub(o).equal(),paddingBlock:0,lineHeight:Ae(A(g).sub(A(o).mul(2)).equal()),"&:first-child":{borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b}},"&:hover":{position:"relative",color:I},"&:has(:focus-visible)":Object.assign({},lf(t)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:I,background:w,borderColor:I,"&::before":{backgroundColor:I},"&:first-child":{borderColor:I},"&:hover":{color:P,borderColor:P,"&::before":{backgroundColor:P}},"&:active":{color:M,borderColor:M,"&::before":{backgroundColor:M}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:C,background:R,borderColor:R,"&:hover":{color:C,background:k,borderColor:k},"&:active":{color:C,background:D,borderColor:D}},"&-disabled":{color:E,backgroundColor:_,borderColor:s,cursor:"not-allowed","&:first-child, &:hover":{color:E,backgroundColor:_,borderColor:s}},[`&-disabled${r}-button-wrapper-checked`]:{color:T,backgroundColor:S,borderColor:s,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},mje=t=>{const{wireframe:e,padding:n,marginXS:r,lineWidth:o,fontSizeLG:i,colorText:s,colorBgContainer:a,colorTextDisabled:l,controlItemBgActiveDisabled:c,colorTextLightSolid:u,colorPrimary:d,colorPrimaryHover:f,colorPrimaryActive:m,colorWhite:g}=t,v=4,y=i,b=e?y-v*2:y-(v+o)*2;return{radioSize:y,dotSize:b,dotColorDisabled:l,buttonSolidCheckedColor:u,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:f,buttonSolidCheckedActiveBg:m,buttonBg:a,buttonCheckedBg:a,buttonColor:s,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:l,buttonPaddingInline:n-o,wrapperMarginInlineEnd:r,radioColor:e?d:g,radioBgColor:e?a:d}},Wee=eo("Radio",t=>{const{controlOutline:e,controlOutlineWidth:n}=t,r=`0 0 0 ${Ae(n)} ${e}`,i=Vn(t,{radioFocusShadow:r,radioButtonFocusShadow:r});return[fje(i),hje(i),pje(i)]},mje,{unitless:{radioSize:!0,dotSize:!0}});var gje=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const vje=(t,e)=>{var n,r;const o=h.useContext(zee),i=h.useContext(Bee),{getPrefixCls:s,direction:a,radio:l}=h.useContext(pn),c=h.useRef(null),u=Ka(e,c),{isFormItemInput:d}=h.useContext(bl),f=N=>{var O,j;(O=t.onChange)===null||O===void 0||O.call(t,N),(j=o==null?void 0:o.onChange)===null||j===void 0||j.call(o,N)},{prefixCls:m,className:g,rootClassName:v,children:y,style:b,title:x}=t,w=gje(t,["prefixCls","className","rootClassName","children","style","title"]),C=s("radio",m),E=((o==null?void 0:o.optionType)||i)==="button",_=E?`${C}-button`:C,S=js(C),[T,I,P]=Wee(C,S),M=Object.assign({},w),R=h.useContext(yl);o&&(M.name=o.name,M.onChange=f,M.checked=t.value===o.value,M.disabled=(n=M.disabled)!==null&&n!==void 0?n:o.disabled),M.disabled=(r=M.disabled)!==null&&r!==void 0?r:R;const k=Me(`${_}-wrapper`,{[`${_}-wrapper-checked`]:M.checked,[`${_}-wrapper-disabled`]:M.disabled,[`${_}-wrapper-rtl`]:a==="rtl",[`${_}-wrapper-in-form-item`]:d,[`${_}-wrapper-block`]:!!(o!=null&&o.block)},l==null?void 0:l.className,g,v,I,P,S),[D,A]=Hee(M.onClick);return T(h.createElement(pw,{component:"Radio",disabled:M.disabled},h.createElement("label",{className:k,style:Object.assign(Object.assign({},l==null?void 0:l.style),b),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,title:x,onClick:D},h.createElement(Vee,Object.assign({},M,{className:Me(M.className,{[pT]:!E}),type:"radio",prefixCls:_,ref:u,onClick:A})),y!==void 0?h.createElement("span",{className:`${_}-label`},y):null)))},dE=h.forwardRef(vje),yje=h.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=h.useContext(pn),o=_T(),{prefixCls:i,className:s,rootClassName:a,options:l,buttonStyle:c="outline",disabled:u,children:d,size:f,style:m,id:g,optionType:v,name:y=o,defaultValue:b,value:x,block:w=!1,onChange:C,onMouseEnter:E,onMouseLeave:_,onFocus:S,onBlur:T}=t,[I,P]=Wo(b,{value:x}),M=h.useCallback(W=>{const Y=I,U=W.target.value;"value"in t||P(U),U!==Y&&(C==null||C(W))},[I,P,C]),R=n("radio",i),k=`${R}-group`,D=js(R),[A,N,O]=Wee(R,D);let j=d;l&&l.length>0&&(j=l.map(W=>typeof W=="string"||typeof W=="number"?h.createElement(dE,{key:W.toString(),prefixCls:R,disabled:u,value:W,checked:I===W},W):h.createElement(dE,{key:`radio-group-value-options-${W.value}`,prefixCls:R,disabled:W.disabled||u,value:W.value,checked:I===W.value,title:W.title,style:W.style,id:W.id,required:W.required},W.label)));const L=El(f),z=Me(k,`${k}-${c}`,{[`${k}-${L}`]:L,[`${k}-rtl`]:r==="rtl",[`${k}-block`]:w},s,a,N,O,D),V=h.useMemo(()=>({onChange:M,value:I,disabled:u,name:y,optionType:v,block:w}),[M,I,u,y,v,w]);return A(h.createElement("div",Object.assign({},us(t,{aria:!0,data:!0}),{className:z,style:m,onMouseEnter:E,onMouseLeave:_,onFocus:S,onBlur:T,id:g,ref:e}),h.createElement(cje,{value:V},j)))}),bje=h.memo(yje);var xje=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const wje=(t,e)=>{const{getPrefixCls:n}=h.useContext(pn),{prefixCls:r}=t,o=xje(t,["prefixCls"]),i=n("radio",r);return h.createElement(uje,{value:"button"},h.createElement(dE,Object.assign({prefixCls:i},o,{type:"radio",ref:e})))},Sje=h.forwardRef(wje),ww=dE;ww.Button=Sje;ww.Group=bje;ww.__ANT_RADIO=!0;function Sw(t){return Vn(t,{inputAffixPadding:t.paddingXXS})}const Cw=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:o,controlHeightSM:i,controlHeightLG:s,fontSizeLG:a,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:m,colorPrimary:g,controlOutlineWidth:v,controlOutline:y,colorErrorOutline:b,colorWarningOutline:x,colorBgContainer:w,inputFontSize:C,inputFontSizeLG:E,inputFontSizeSM:_}=t,S=C||n,T=_||S,I=E||a,P=Math.round((e-S*r)/2*10)/10-o,M=Math.round((i-T*r)/2*10)/10-o,R=Math.ceil((s-I*l)/2*10)/10-o;return{paddingBlock:Math.max(P,0),paddingBlockSM:Math.max(M,0),paddingBlockLG:Math.max(R,0),paddingInline:c-o,paddingInlineSM:u-o,paddingInlineLG:d-o,addonBg:f,activeBorderColor:g,hoverBorderColor:m,activeShadow:`0 0 0 ${v}px ${y}`,errorActiveShadow:`0 0 0 ${v}px ${b}`,warningActiveShadow:`0 0 0 ${v}px ${x}`,hoverBg:w,activeBg:w,inputFontSize:S,inputFontSizeLG:I,inputFontSizeSM:T}},Cje=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),AT=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},Cje(Vn(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),zj=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),R8=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},zj(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),_je=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},zj(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},AT(t))}),R8(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),R8(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),k8=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),Eje=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},k8(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),k8(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},AT(t))}})}),Tje=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},Uee=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),D8=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},Uee(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),Ije=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Uee(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},AT(t))}),D8(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),D8(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),$8=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),Pje=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary},[`${t.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}}},$8(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),$8(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),qee=(t,e)=>({background:t.colorBgContainer,borderWidth:`${Ae(t.lineWidth)} 0`,borderStyle:`${t.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.borderColor} transparent`,outline:0,backgroundColor:t.activeBg}}),M8=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},qee(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),Rje=(t,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qee(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:{color:t.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${t.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),M8(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),M8(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),kje=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),Kee=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:o}=t;return{padding:`${Ae(e)} ${Ae(o)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},Bj=t=>({padding:`${Ae(t.paddingBlockSM)} ${Ae(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),Vj=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Ae(t.paddingBlock)} ${Ae(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},kje(t.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},Kee(t)),"&-sm":Object.assign({},Bj(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Dje=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},Kee(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},Bj(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Ae(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Ae(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${Ae(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Ae(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${Ae(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},ax()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},$je=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:o}=t,s=o(n).sub(o(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),Vj(t)),_je(t)),Ije(t)),Tje(t)),Rje(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},Mje=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Ae(t.inputAffixPadding)}`}}}},Oje=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:o,colorIcon:i,colorIconHover:s,iconCls:a}=t,l=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},Vj(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),Mje(t)),{[`${a}${e}-password-icon`]:{color:i,cursor:"pointer",transition:`all ${o}`,"&:hover":{color:s}}}),[`${e}-underlined`]:{borderRadius:0},[c]:{[`${a}${e}-password-icon`]:{color:i,cursor:"not-allowed","&:hover":{color:i}}}}},Aje=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},ho(t)),Dje(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},Eje(t)),Pje(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},Nje=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:t.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},jje=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},Gee=eo(["Input","Shared"],t=>{const e=Vn(t,Sw(t));return[$je(e),Oje(e)]},Cw,{resetFont:!1}),Yee=eo(["Input","Component"],t=>{const e=Vn(t,Sw(t));return[Aje(e),Nje(e),jje(e),Cj(e)]},Cw,{resetFont:!1});function Lje(t,e,n){var r=n||{},o=r.noTrailing,i=o===void 0?!1:o,s=r.noLeading,a=s===void 0?!1:s,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,f=0;function m(){u&&clearTimeout(u)}function g(y){var b=y||{},x=b.upcomingOnly,w=x===void 0?!1:x;m(),d=!w}function v(){for(var y=arguments.length,b=new Array(y),x=0;x<y;x++)b[x]=arguments[x];var w=this,C=Date.now()-f;if(d)return;function E(){f=Date.now(),e.apply(w,b)}function _(){u=void 0}!a&&c&&!u&&E(),m(),c===void 0&&C>t?a?(f=Date.now(),i||(u=setTimeout(c?_:E,t))):E():i!==!0&&(u=setTimeout(c?_:E,c===void 0?t-C:t))}return v.cancel=g,v}function Fje(t,e,n){var r={},o=r.atBegin,i=o===void 0?!1:o;return Lje(t,e,{debounceMode:i!==!1})}function Ss(t,e){return t[e]}var zje=["children"];function Xee(t,e){return"".concat(t,"-").concat(e)}function Bje(t){return t&&t.type&&t.type.isTreeNode}function _w(t,e){return t??e}function Zg(t){var e=t||{},n=e.title,r=e._title,o=e.key,i=e.children,s=n||"title";return{title:s,_title:r||[s],key:o||"key",children:i||"children"}}function Qee(t){function e(n){var r=vl(n);return r.map(function(o){if(!Bje(o))return Jr(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var i=o.key,s=o.props,a=s.children,l=cn(s,zje),c=Se({key:i},l),u=e(a);return u.length&&(c.children=u),c}).filter(function(o){return o})}return e(t)}function BR(t,e,n){var r=Zg(n),o=r._title,i=r.key,s=r.children,a=new Set(e===!0?[]:e),l=[];function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map(function(f,m){for(var g=Xee(d?d.pos:"0",m),v=_w(f[i],g),y,b=0;b<o.length;b+=1){var x=o[b];if(f[x]!==void 0){y=f[x];break}}var w=Object.assign(ni(f,[].concat(at(o),[i,s])),{title:y,key:v,parent:d,pos:g,children:null,data:f,isStart:[].concat(at(d?d.isStart:[]),[m===0]),isEnd:[].concat(at(d?d.isEnd:[]),[m===u.length-1])});return l.push(w),e===!0||a.has(v)?w.children=c(f[s]||[],w):w.children=[],w})}return c(t),l}function Vje(t,e,n){var r={};At(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var o=r,i=o.childrenPropName,s=o.externalGetKey,a=o.fieldNames,l=Zg(a),c=l.key,u=l.children,d=i||u,f;s?typeof s=="string"?f=function(v){return v[s]}:typeof s=="function"&&(f=function(v){return s(v)}):f=function(v,y){return _w(v[c],y)};function m(g,v,y,b){var x=g?g[d]:t,w=g?Xee(y.pos,v):"0",C=g?[].concat(at(b),[g]):[];if(g){var E=f(g,w),_={node:g,index:v,pos:w,key:E,parentPos:y.node?y.pos:null,level:y.level+1,nodes:C};e(_)}x&&x.forEach(function(S,T){m(S,T,{node:g,pos:w,level:y?y.level+1:-1},C)})}m(null)}function Hj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.initWrapper,r=e.processEntity,o=e.onProcessFinished,i=e.externalGetKey,s=e.childrenPropName,a=e.fieldNames,l=arguments.length>2?arguments[2]:void 0,c=i||l,u={},d={},f={posEntities:u,keyEntities:d};return n&&(f=n(f)||f),Vje(t,function(m){var g=m.node,v=m.index,y=m.pos,b=m.key,x=m.parentPos,w=m.level,C=m.nodes,E={node:g,nodes:C,index:v,key:b,pos:y,level:w},_=_w(b,y);u[y]=E,d[_]=E,E.parent=u[x],E.parent&&(E.parent.children=E.parent.children||[],E.parent.children.push(E)),r&&r(E,f)},{externalGetKey:c,childrenPropName:s,fieldNames:a}),o&&o(f),f}function K0(t,e){var n=e.expandedKeys,r=e.selectedKeys,o=e.loadedKeys,i=e.loadingKeys,s=e.checkedKeys,a=e.halfCheckedKeys,l=e.dragOverNodeKey,c=e.dropPosition,u=e.keyEntities,d=Ss(u,t),f={eventKey:t,expanded:n.indexOf(t)!==-1,selected:r.indexOf(t)!==-1,loaded:o.indexOf(t)!==-1,loading:i.indexOf(t)!==-1,checked:s.indexOf(t)!==-1,halfChecked:a.indexOf(t)!==-1,pos:String(d?d.pos:""),dragOver:l===t&&c===0,dragOverGapTop:l===t&&c===-1,dragOverGapBottom:l===t&&c===1};return f}function Lo(t){var e=t.data,n=t.expanded,r=t.selected,o=t.checked,i=t.loaded,s=t.loading,a=t.halfChecked,l=t.dragOver,c=t.dragOverGapTop,u=t.dragOverGapBottom,d=t.pos,f=t.active,m=t.eventKey,g=Se(Se({},e),{},{expanded:n,selected:r,checked:o,loaded:i,loading:s,halfChecked:a,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:f,key:m});return"props"in g||Object.defineProperty(g,"props",{get:function(){return Jr(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),g}function Jee(t,e){var n=new Set;return t.forEach(function(r){e.has(r)||n.add(r)}),n}function Hje(t){var e=t||{},n=e.disabled,r=e.disableCheckbox,o=e.checkable;return!!(n||r)||o===!1}function Wje(t,e,n,r){for(var o=new Set(t),i=new Set,s=0;s<=n;s+=1){var a=e.get(s)||new Set;a.forEach(function(d){var f=d.key,m=d.node,g=d.children,v=g===void 0?[]:g;o.has(f)&&!r(m)&&v.filter(function(y){return!r(y.node)}).forEach(function(y){o.add(y.key)})})}for(var l=new Set,c=n;c>=0;c-=1){var u=e.get(c)||new Set;u.forEach(function(d){var f=d.parent,m=d.node;if(!(r(m)||!d.parent||l.has(d.parent.key))){if(r(d.parent.node)){l.add(f.key);return}var g=!0,v=!1;(f.children||[]).filter(function(y){return!r(y.node)}).forEach(function(y){var b=y.key,x=o.has(b);g&&!x&&(g=!1),!v&&(x||i.has(b))&&(v=!0)}),g&&o.add(f.key),v&&i.add(f.key),l.add(f.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Jee(i,o))}}function Uje(t,e,n,r,o){for(var i=new Set(t),s=new Set(e),a=0;a<=r;a+=1){var l=n.get(a)||new Set;l.forEach(function(f){var m=f.key,g=f.node,v=f.children,y=v===void 0?[]:v;!i.has(m)&&!s.has(m)&&!o(g)&&y.filter(function(b){return!o(b.node)}).forEach(function(b){i.delete(b.key)})})}s=new Set;for(var c=new Set,u=r;u>=0;u-=1){var d=n.get(u)||new Set;d.forEach(function(f){var m=f.parent,g=f.node;if(!(o(g)||!f.parent||c.has(f.parent.key))){if(o(f.parent.node)){c.add(m.key);return}var v=!0,y=!1;(m.children||[]).filter(function(b){return!o(b.node)}).forEach(function(b){var x=b.key,w=i.has(x);v&&!w&&(v=!1),!y&&(w||s.has(x))&&(y=!0)}),v||i.delete(m.key),y&&s.add(m.key),c.add(m.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(Jee(s,i))}}function ug(t,e,n,r){var o=[],i;r?i=r:i=Hje;var s=new Set(t.filter(function(u){var d=!!Ss(n,u);return d||o.push(u),d})),a=new Map,l=0;Object.keys(n).forEach(function(u){var d=n[u],f=d.level,m=a.get(f);m||(m=new Set,a.set(f,m)),m.add(d),l=Math.max(l,f)}),Jr(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(u){return"'".concat(u,"'")}).join(", ")));var c;return e===!0?c=Wje(s,a,l,i):c=Uje(s,e.halfCheckedKeys,a,l,i),c}const qje=t=>{const{checkboxCls:e}=t,n=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},ho(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},ho(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},ho(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},lf(t))},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:`${Ae(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:t.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${e}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:t.colorTextDisabled}}}]};function Zee(t,e){const n=Vn(e,{checkboxCls:`.${t}`,checkboxSize:e.controlInteractiveSize});return[qje(n)]}const ete=eo("Checkbox",(t,e)=>{let{prefixCls:n}=e;return[Zee(n,t)]}),tte=oe.createContext(null);var Kje=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Gje=(t,e)=>{var n;const{prefixCls:r,className:o,rootClassName:i,children:s,indeterminate:a=!1,style:l,onMouseEnter:c,onMouseLeave:u,skipGroup:d=!1,disabled:f}=t,m=Kje(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:g,direction:v,checkbox:y}=h.useContext(pn),b=h.useContext(tte),{isFormItemInput:x}=h.useContext(bl),w=h.useContext(yl),C=(n=(b==null?void 0:b.disabled)||f)!==null&&n!==void 0?n:w,E=h.useRef(m.value),_=h.useRef(null),S=Ka(e,_);h.useEffect(()=>{b==null||b.registerValue(m.value)},[]),h.useEffect(()=>{if(!d)return m.value!==E.current&&(b==null||b.cancelValue(E.current),b==null||b.registerValue(m.value),E.current=m.value),()=>b==null?void 0:b.cancelValue(m.value)},[m.value]),h.useEffect(()=>{var j;!((j=_.current)===null||j===void 0)&&j.input&&(_.current.input.indeterminate=a)},[a]);const T=g("checkbox",r),I=js(T),[P,M,R]=ete(T,I),k=Object.assign({},m);b&&!d&&(k.onChange=function(){m.onChange&&m.onChange.apply(m,arguments),b.toggleOption&&b.toggleOption({label:s,value:m.value})},k.name=b.name,k.checked=b.value.includes(m.value));const D=Me(`${T}-wrapper`,{[`${T}-rtl`]:v==="rtl",[`${T}-wrapper-checked`]:k.checked,[`${T}-wrapper-disabled`]:C,[`${T}-wrapper-in-form-item`]:x},y==null?void 0:y.className,o,i,R,I,M),A=Me({[`${T}-indeterminate`]:a},pT,M),[N,O]=Hee(k.onClick);return P(h.createElement(pw,{component:"Checkbox",disabled:C},h.createElement("label",{className:D,style:Object.assign(Object.assign({},y==null?void 0:y.style),l),onMouseEnter:c,onMouseLeave:u,onClick:N},h.createElement(Vee,Object.assign({},k,{onClick:O,prefixCls:T,className:A,disabled:C,ref:S})),s!==void 0&&h.createElement("span",{className:`${T}-label`},s))))},nte=h.forwardRef(Gje);var Yje=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Xje=h.forwardRef((t,e)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:i,className:s,rootClassName:a,style:l,onChange:c}=t,u=Yje(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:d,direction:f}=h.useContext(pn),[m,g]=h.useState(u.value||n||[]),[v,y]=h.useState([]);h.useEffect(()=>{"value"in u&&g(u.value||[])},[u.value]);const b=h.useMemo(()=>o.map(A=>typeof A=="string"||typeof A=="number"?{label:A,value:A}:A),[o]),x=A=>{y(N=>N.filter(O=>O!==A))},w=A=>{y(N=>[].concat(at(N),[A]))},C=A=>{const N=m.indexOf(A.value),O=at(m);N===-1?O.push(A.value):O.splice(N,1),"value"in u||g(O),c==null||c(O.filter(j=>v.includes(j)).sort((j,L)=>{const z=b.findIndex(W=>W.value===j),V=b.findIndex(W=>W.value===L);return z-V}))},E=d("checkbox",i),_=`${E}-group`,S=js(E),[T,I,P]=ete(E,S),M=ni(u,["value","disabled"]),R=o.length?b.map(A=>h.createElement(nte,{prefixCls:E,key:A.value.toString(),disabled:"disabled"in A?A.disabled:u.disabled,value:A.value,checked:m.includes(A.value),onChange:A.onChange,className:`${_}-item`,style:A.style,title:A.title,id:A.id,required:A.required},A.label)):r,k={toggleOption:C,value:m,disabled:u.disabled,name:u.name,registerValue:w,cancelValue:x},D=Me(_,{[`${_}-rtl`]:f==="rtl"},s,a,P,S,I);return T(h.createElement("div",Object.assign({className:D,style:l},M,{ref:e}),h.createElement(tte.Provider,{value:k},R)))}),cf=nte;cf.Group=Xje;cf.__ANT_CHECKBOX=!0;function Qje(t){return!!(t.addonBefore||t.addonAfter)}function Jje(t){return!!(t.prefix||t.suffix||t.allowClear)}function O8(t,e,n){var r=e.cloneNode(!0),o=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},o}function fE(t,e,n,r){if(n){var o=e;if(e.type==="click"){o=O8(e,t,""),n(o);return}if(t.type!=="file"&&r!==void 0){o=O8(e,t,r),n(o);return}n(o)}}function rte(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var o=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(o,o);break;default:t.setSelectionRange(0,o)}}}}var ote=oe.forwardRef(function(t,e){var n,r,o,i=t.inputElement,s=t.children,a=t.prefixCls,l=t.prefix,c=t.suffix,u=t.addonBefore,d=t.addonAfter,f=t.className,m=t.style,g=t.disabled,v=t.readOnly,y=t.focused,b=t.triggerFocus,x=t.allowClear,w=t.value,C=t.handleReset,E=t.hidden,_=t.classes,S=t.classNames,T=t.dataAttrs,I=t.styles,P=t.components,M=t.onClear,R=s??i,k=(P==null?void 0:P.affixWrapper)||"span",D=(P==null?void 0:P.groupWrapper)||"span",A=(P==null?void 0:P.wrapper)||"span",N=(P==null?void 0:P.groupAddon)||"span",O=h.useRef(null),j=function(ce){var le;(le=O.current)!==null&&le!==void 0&&le.contains(ce.target)&&(b==null||b())},L=Jje(t),z=h.cloneElement(R,{value:w,className:Me((n=R.props)===null||n===void 0?void 0:n.className,!L&&(S==null?void 0:S.variant))||null}),V=h.useRef(null);if(oe.useImperativeHandle(e,function(){return{nativeElement:V.current||O.current}}),L){var W=null;if(x){var Y=!g&&!v&&w,U="".concat(a,"-clear-icon"),q=At(x)==="object"&&x!==null&&x!==void 0&&x.clearIcon?x.clearIcon:"✖";W=oe.createElement("button",{type:"button",tabIndex:-1,onClick:function(ce){C==null||C(ce),M==null||M()},onMouseDown:function(ce){return ce.preventDefault()},className:Me(U,te(te({},"".concat(U,"-hidden"),!Y),"".concat(U,"-has-suffix"),!!c))},q)}var K="".concat(a,"-affix-wrapper"),J=Me(K,te(te(te(te(te({},"".concat(a,"-disabled"),g),"".concat(K,"-disabled"),g),"".concat(K,"-focused"),y),"".concat(K,"-readonly"),v),"".concat(K,"-input-with-clear-btn"),c&&x&&w),_==null?void 0:_.affixWrapper,S==null?void 0:S.affixWrapper,S==null?void 0:S.variant),X=(c||x)&&oe.createElement("span",{className:Me("".concat(a,"-suffix"),S==null?void 0:S.suffix),style:I==null?void 0:I.suffix},W,c);z=oe.createElement(k,B({className:J,style:I==null?void 0:I.affixWrapper,onClick:j},T==null?void 0:T.affixWrapper,{ref:O}),l&&oe.createElement("span",{className:Me("".concat(a,"-prefix"),S==null?void 0:S.prefix),style:I==null?void 0:I.prefix},l),z,X)}if(Qje(t)){var ue="".concat(a,"-group"),_e="".concat(ue,"-addon"),Ce="".concat(ue,"-wrapper"),pe=Me("".concat(a,"-wrapper"),ue,_==null?void 0:_.wrapper,S==null?void 0:S.wrapper),ge=Me(Ce,te({},"".concat(Ce,"-disabled"),g),_==null?void 0:_.group,S==null?void 0:S.groupWrapper);z=oe.createElement(D,{className:ge,ref:V},oe.createElement(A,{className:pe},u&&oe.createElement(N,{className:_e},u),z,d&&oe.createElement(N,{className:_e},d)))}return oe.cloneElement(z,{className:Me((r=z.props)===null||r===void 0?void 0:r.className,f)||null,style:Se(Se({},(o=z.props)===null||o===void 0?void 0:o.style),m),hidden:E})}),Zje=["show"];function ite(t,e){return h.useMemo(function(){var n={};e&&(n.show=At(e)==="object"&&e.formatter?e.formatter:!!e),n=Se(Se({},n),t);var r=n,o=r.show,i=cn(r,Zje);return Se(Se({},i),{},{show:!!o,showFormatter:typeof o=="function"?o:void 0,strategy:i.strategy||function(s){return s.length}})},[t,e])}var eLe=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],tLe=h.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,o=t.onFocus,i=t.onBlur,s=t.onPressEnter,a=t.onKeyDown,l=t.onKeyUp,c=t.prefixCls,u=c===void 0?"rc-input":c,d=t.disabled,f=t.htmlSize,m=t.className,g=t.maxLength,v=t.suffix,y=t.showCount,b=t.count,x=t.type,w=x===void 0?"text":x,C=t.classes,E=t.classNames,_=t.styles,S=t.onCompositionStart,T=t.onCompositionEnd,I=cn(t,eLe),P=h.useState(!1),M=Fe(P,2),R=M[0],k=M[1],D=h.useRef(!1),A=h.useRef(!1),N=h.useRef(null),O=h.useRef(null),j=function(ee){N.current&&rte(N.current,ee)},L=Wo(t.defaultValue,{value:t.value}),z=Fe(L,2),V=z[0],W=z[1],Y=V==null?"":String(V),U=h.useState(null),q=Fe(U,2),K=q[0],J=q[1],X=ite(b,y),ue=X.max||g,_e=X.strategy(Y),Ce=!!ue&&_e>ue;h.useImperativeHandle(e,function(){var ve;return{focus:j,blur:function(){var he;(he=N.current)===null||he===void 0||he.blur()},setSelectionRange:function(he,we,me){var ke;(ke=N.current)===null||ke===void 0||ke.setSelectionRange(he,we,me)},select:function(){var he;(he=N.current)===null||he===void 0||he.select()},input:N.current,nativeElement:((ve=O.current)===null||ve===void 0?void 0:ve.nativeElement)||N.current}}),h.useEffect(function(){A.current&&(A.current=!1),k(function(ve){return ve&&d?!1:ve})},[d]);var pe=function(ee,he,we){var me=he;if(!D.current&&X.exceedFormatter&&X.max&&X.strategy(he)>X.max){if(me=X.exceedFormatter(he,{max:X.max}),he!==me){var ke,Ie;J([((ke=N.current)===null||ke===void 0?void 0:ke.selectionStart)||0,((Ie=N.current)===null||Ie===void 0?void 0:Ie.selectionEnd)||0])}}else if(we.source==="compositionEnd")return;W(me),N.current&&fE(N.current,ee,r,me)};h.useEffect(function(){if(K){var ve;(ve=N.current)===null||ve===void 0||ve.setSelectionRange.apply(ve,at(K))}},[K]);var ge=function(ee){pe(ee,ee.target.value,{source:"change"})},F=function(ee){D.current=!1,pe(ee,ee.currentTarget.value,{source:"compositionEnd"}),T==null||T(ee)},ce=function(ee){s&&ee.key==="Enter"&&!A.current&&(A.current=!0,s(ee)),a==null||a(ee)},le=function(ee){ee.key==="Enter"&&(A.current=!1),l==null||l(ee)},Z=function(ee){k(!0),o==null||o(ee)},Q=function(ee){A.current&&(A.current=!1),k(!1),i==null||i(ee)},ye=function(ee){W(""),j(),N.current&&fE(N.current,ee,r)},fe=Ce&&"".concat(u,"-out-of-range"),ie=function(){var ee=ni(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return oe.createElement("input",B({autoComplete:n},ee,{onChange:ge,onFocus:Z,onBlur:Q,onKeyDown:ce,onKeyUp:le,className:Me(u,te({},"".concat(u,"-disabled"),d),E==null?void 0:E.input),style:_==null?void 0:_.input,ref:N,size:f,type:w,onCompositionStart:function(we){D.current=!0,S==null||S(we)},onCompositionEnd:F}))},re=function(){var ee=Number(ue)>0;if(v||X.show){var he=X.showFormatter?X.showFormatter({value:Y,count:_e,maxLength:ue}):"".concat(_e).concat(ee?" / ".concat(ue):"");return oe.createElement(oe.Fragment,null,X.show&&oe.createElement("span",{className:Me("".concat(u,"-show-count-suffix"),te({},"".concat(u,"-show-count-has-suffix"),!!v),E==null?void 0:E.count),style:Se({},_==null?void 0:_.count)},he),v)}return null};return oe.createElement(ote,B({},I,{prefixCls:u,className:Me(m,fe),handleReset:ye,value:Y,focused:R,triggerFocus:j,suffix:re(),disabled:d,classes:C,classNames:E,styles:_}),ie())});const ste=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:oe.createElement(uT,null)}),e};function ate(t,e){const n=h.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var o,i,s,a;!((o=t.current)===null||o===void 0)&&o.input&&((i=t.current)===null||i===void 0?void 0:i.input.getAttribute("type"))==="password"&&(!((s=t.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((a=t.current)===null||a===void 0||a.input.removeAttribute("value"))}))};return h.useEffect(()=>(e&&r(),()=>n.current.forEach(o=>{o&&clearTimeout(o)})),[]),r}function nLe(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var rLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Ew=h.forwardRef((t,e)=>{const{prefixCls:n,bordered:r=!0,status:o,size:i,disabled:s,onBlur:a,onFocus:l,suffix:c,allowClear:u,addonAfter:d,addonBefore:f,className:m,style:g,styles:v,rootClassName:y,onChange:b,classNames:x,variant:w}=t,C=rLe(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:E,direction:_,allowClear:S,autoComplete:T,className:I,style:P,classNames:M,styles:R}=Rc("input"),k=E("input",n),D=h.useRef(null),A=js(k),[N,O,j]=Gee(k,y),[L]=Yee(k,A),{compactSize:z,compactItemClassnames:V}=$v(k,_),W=El(Q=>{var ye;return(ye=i??z)!==null&&ye!==void 0?ye:Q}),Y=oe.useContext(yl),U=s??Y,{status:q,hasFeedback:K,feedbackIcon:J}=h.useContext(bl),X=kT(q,o),ue=nLe(t)||!!K;h.useRef(ue);const _e=ate(D,!0),Ce=Q=>{_e(),a==null||a(Q)},pe=Q=>{_e(),l==null||l(Q)},ge=Q=>{_e(),b==null||b(Q)},F=(K||c)&&oe.createElement(oe.Fragment,null,c,K&&J),ce=ste(u??S),[le,Z]=kj("input",w,r);return N(L(oe.createElement(tLe,Object.assign({ref:Ka(e,D),prefixCls:k,autoComplete:T},C,{disabled:U,onBlur:Ce,onFocus:pe,style:Object.assign(Object.assign({},P),g),styles:Object.assign(Object.assign({},R),v),suffix:F,allowClear:ce,className:Me(m,y,j,A,V,I),onChange:ge,addonBefore:f&&oe.createElement(cx,{form:!0,space:!0},f),addonAfter:d&&oe.createElement(cx,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},x),M),{input:Me({[`${k}-sm`]:W==="small",[`${k}-lg`]:W==="large",[`${k}-rtl`]:_==="rtl"},x==null?void 0:x.input,M.input,O),variant:Me({[`${k}-${le}`]:Z},aE(k,X)),affixWrapper:Me({[`${k}-affix-wrapper-sm`]:W==="small",[`${k}-affix-wrapper-lg`]:W==="large",[`${k}-affix-wrapper-rtl`]:_==="rtl"},O),wrapper:Me({[`${k}-group-rtl`]:_==="rtl"},O),groupWrapper:Me({[`${k}-group-wrapper-sm`]:W==="small",[`${k}-group-wrapper-lg`]:W==="large",[`${k}-group-wrapper-rtl`]:_==="rtl",[`${k}-group-wrapper-${le}`]:Z},aE(`${k}-group-wrapper`,X,K),O)})}))))});function A8(t){return["small","middle","large"].includes(t)}function N8(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const lte=oe.createContext({latestIndex:0}),oLe=lte.Provider,iLe=t=>{let{className:e,index:n,children:r,split:o,style:i}=t;const{latestIndex:s}=h.useContext(lte);return r==null?null:h.createElement(h.Fragment,null,h.createElement("div",{className:e,style:i},r),n<s&&o&&h.createElement("span",{className:`${e}-split`},o))};var sLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const aLe=h.forwardRef((t,e)=>{var n;const{getPrefixCls:r,direction:o,size:i,className:s,style:a,classNames:l,styles:c}=Rc("space"),{size:u=i??"small",align:d,className:f,rootClassName:m,children:g,direction:v="horizontal",prefixCls:y,split:b,style:x,wrap:w=!1,classNames:C,styles:E}=t,_=sLe(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[S,T]=Array.isArray(u)?u:[u,u],I=A8(T),P=A8(S),M=N8(T),R=N8(S),k=vl(g,{keepEmpty:!0}),D=d===void 0&&v==="horizontal"?"center":d,A=r("space",y),[N,O,j]=oZ(A),L=Me(A,s,O,`${A}-${v}`,{[`${A}-rtl`]:o==="rtl",[`${A}-align-${D}`]:D,[`${A}-gap-row-${T}`]:I,[`${A}-gap-col-${S}`]:P},f,m,j),z=Me(`${A}-item`,(n=C==null?void 0:C.item)!==null&&n!==void 0?n:l.item);let V=0;const W=k.map((q,K)=>{var J;q!=null&&(V=K);const X=(q==null?void 0:q.key)||`${z}-${K}`;return h.createElement(iLe,{className:z,key:X,index:K,split:b,style:(J=E==null?void 0:E.item)!==null&&J!==void 0?J:c.item},q)}),Y=h.useMemo(()=>({latestIndex:V}),[V]);if(k.length===0)return null;const U={};return w&&(U.flexWrap="wrap"),!P&&R&&(U.columnGap=S),!I&&M&&(U.rowGap=T),N(h.createElement("div",Object.assign({ref:e,className:L,style:Object.assign(Object.assign(Object.assign({},U),a),x)},_),h.createElement(oLe,{value:Y},W)))}),cte=aLe;cte.Compact=qRe;var lLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const ute=t=>{const{getPopupContainer:e,getPrefixCls:n,direction:r}=h.useContext(pn),{prefixCls:o,type:i="default",danger:s,disabled:a,loading:l,onClick:c,htmlType:u,children:d,className:f,menu:m,arrow:g,autoFocus:v,overlay:y,trigger:b,align:x,open:w,onOpenChange:C,placement:E,getPopupContainer:_,href:S,icon:T=h.createElement(Aee,null),title:I,buttonsRender:P=X=>X,mouseEnterDelay:M,mouseLeaveDelay:R,overlayClassName:k,overlayStyle:D,destroyPopupOnHide:A,dropdownRender:N}=t,O=lLe(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),j=n("dropdown",o),L=`${j}-button`,z={menu:m,arrow:g,autoFocus:v,align:x,disabled:a,trigger:a?[]:b,onOpenChange:C,getPopupContainer:_||e,mouseEnterDelay:M,mouseLeaveDelay:R,overlayClassName:k,overlayStyle:D,destroyPopupOnHide:A,dropdownRender:N},{compactSize:V,compactItemClassnames:W}=$v(j,r),Y=Me(L,W,f);"overlay"in t&&(z.overlay=y),"open"in t&&(z.open=w),"placement"in t?z.placement=E:z.placement=r==="rtl"?"bottomLeft":"bottomRight";const U=h.createElement(Va,{type:i,danger:s,disabled:a,loading:l,onClick:c,htmlType:u,href:S,title:I},d),q=h.createElement(Va,{type:i,danger:s,icon:T}),[K,J]=P([U,q]);return h.createElement(cte.Compact,Object.assign({className:Y,size:V,block:!0},O),K,h.createElement(OT,Object.assign({},z),J))};ute.__ANT_BUTTON=!0;const Wj=OT;Wj.Button=ute;var cLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},uLe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:cLe}))},dLe=h.forwardRef(uLe);function j8(t,e,n,r){var o=Xl.unstable_batchedUpdates?function(s){Xl.unstable_batchedUpdates(n,s)}:n;return t!=null&&t.addEventListener&&t.addEventListener(e,o,r),{remove:function(){t!=null&&t.removeEventListener&&t.removeEventListener(e,o,r)}}}const fLe=t=>{const{getPrefixCls:e,direction:n}=h.useContext(pn),{prefixCls:r,className:o}=t,i=e("input-group",r),s=e("input"),[a,l,c]=Yee(s),u=Me(i,c,{[`${i}-lg`]:t.size==="large",[`${i}-sm`]:t.size==="small",[`${i}-compact`]:t.compact,[`${i}-rtl`]:n==="rtl"},l,o),d=h.useContext(bl),f=h.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return a(h.createElement("span",{className:u,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},h.createElement(bl.Provider,{value:f},t.children)))},hLe=t=>{const{componentCls:e,paddingXS:n}=t;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},pLe=eo(["Input","OTP"],t=>{const e=Vn(t,Sw(t));return[hLe(e)]},Cw);var mLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const gLe=h.forwardRef((t,e)=>{const{value:n,onChange:r,onActiveChange:o,index:i,mask:s}=t,a=mLe(t,["value","onChange","onActiveChange","index","mask"]),l=n&&typeof s=="string"?s:n,c=g=>{r(i,g.target.value)},u=h.useRef(null);h.useImperativeHandle(e,()=>u.current);const d=()=>{qn(()=>{var g;const v=(g=u.current)===null||g===void 0?void 0:g.input;document.activeElement===v&&v&&v.select()})},f=g=>{const{key:v,ctrlKey:y,metaKey:b}=g;v==="ArrowLeft"?o(i-1):v==="ArrowRight"?o(i+1):v==="z"&&(y||b)&&g.preventDefault(),d()},m=g=>{g.key==="Backspace"&&!n&&o(i-1),d()};return h.createElement(Ew,Object.assign({type:s===!0?"password":"text"},a,{ref:u,value:l,onInput:c,onFocus:d,onKeyDown:f,onKeyUp:m,onMouseDown:d,onMouseUp:d}))});var vLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function Z1(t){return(t||"").split("")}const yLe=t=>{const{index:e,prefixCls:n,separator:r}=t,o=typeof r=="function"?r(e):r;return o?h.createElement("span",{className:`${n}-separator`},o):null},bLe=h.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:o,defaultValue:i,value:s,onChange:a,formatter:l,separator:c,variant:u,disabled:d,status:f,autoFocus:m,mask:g,type:v,onInput:y,inputMode:b}=t,x=vLe(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:w,direction:C}=h.useContext(pn),E=w("otp",n),_=us(x,{aria:!0,data:!0,attr:!0}),[S,T,I]=pLe(E),P=El(U=>o??U),M=h.useContext(bl),R=kT(M.status,f),k=h.useMemo(()=>Object.assign(Object.assign({},M),{status:R,hasFeedback:!1,feedbackIcon:null}),[M,R]),D=h.useRef(null),A=h.useRef({});h.useImperativeHandle(e,()=>({focus:()=>{var U;(U=A.current[0])===null||U===void 0||U.focus()},blur:()=>{var U;for(let q=0;q<r;q+=1)(U=A.current[q])===null||U===void 0||U.blur()},nativeElement:D.current}));const N=U=>l?l(U):U,[O,j]=h.useState(()=>Z1(N(i||"")));h.useEffect(()=>{s!==void 0&&j(Z1(s))},[s]);const L=br(U=>{j(U),y&&y(U),a&&U.length===r&&U.every(q=>q)&&U.some((q,K)=>O[K]!==q)&&a(U.join(""))}),z=br((U,q)=>{let K=at(O);for(let X=0;X<U;X+=1)K[X]||(K[X]="");q.length<=1?K[U]=q:K=K.slice(0,U).concat(Z1(q)),K=K.slice(0,r);for(let X=K.length-1;X>=0&&!K[X];X-=1)K.pop();const J=N(K.map(X=>X||" ").join(""));return K=Z1(J).map((X,ue)=>X===" "&&!K[ue]?K[ue]:X),K}),V=(U,q)=>{var K;const J=z(U,q),X=Math.min(U+q.length,r-1);X!==U&&J[U]!==void 0&&((K=A.current[X])===null||K===void 0||K.focus()),L(J)},W=U=>{var q;(q=A.current[U])===null||q===void 0||q.focus()},Y={variant:u,disabled:d,status:R,mask:g,type:v,inputMode:b};return S(h.createElement("div",Object.assign({},_,{ref:D,className:Me(E,{[`${E}-sm`]:P==="small",[`${E}-lg`]:P==="large",[`${E}-rtl`]:C==="rtl"},I,T)}),h.createElement(bl.Provider,{value:k},Array.from({length:r}).map((U,q)=>{const K=`otp-${q}`,J=O[q]||"";return h.createElement(h.Fragment,{key:K},h.createElement(gLe,Object.assign({ref:X=>{A.current[q]=X},index:q,size:P,htmlSize:1,className:`${E}-input`,onChange:V,value:J,onActiveChange:W,autoFocus:q===0&&m},Y)),q<r-1&&h.createElement(yLe,{separator:c,index:q,prefixCls:E}))}))))});var xLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},wLe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:xLe}))},SLe=h.forwardRef(wLe),CLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const _Le=t=>t?h.createElement(dLe,null):h.createElement(SLe,null),ELe={click:"onClick",hover:"onMouseOver"},TLe=h.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:o=!0,iconRender:i=_Le}=t,s=h.useContext(yl),a=n??s,l=typeof o=="object"&&o.visible!==void 0,[c,u]=h.useState(()=>l?o.visible:!1),d=h.useRef(null);h.useEffect(()=>{l&&u(o.visible)},[l,o]);const f=ate(d),m=()=>{var P;if(a)return;c&&f();const M=!c;u(M),typeof o=="object"&&((P=o.onVisibleChange)===null||P===void 0||P.call(o,M))},g=P=>{const M=ELe[r]||"",R=i(c),k={[M]:m,className:`${P}-icon`,key:"passwordIcon",onMouseDown:D=>{D.preventDefault()},onMouseUp:D=>{D.preventDefault()}};return h.cloneElement(h.isValidElement(R)?R:h.createElement("span",null,R),k)},{className:v,prefixCls:y,inputPrefixCls:b,size:x}=t,w=CLe(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:C}=h.useContext(pn),E=C("input",b),_=C("input-password",y),S=o&&g(_),T=Me(_,v,{[`${_}-${x}`]:!!x}),I=Object.assign(Object.assign({},ni(w,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:T,prefixCls:E,suffix:S});return x&&(I.size=x),h.createElement(Ew,Object.assign({ref:Ka(e,d)},I))});var ILe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const PLe=h.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:o,size:i,suffix:s,enterButton:a=!1,addonAfter:l,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:m,onCompositionEnd:g}=t,v=ILe(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:y,direction:b}=h.useContext(pn),x=h.useRef(!1),w=y("input-search",n),C=y("input",r),{compactSize:E}=$v(w,b),_=El(V=>{var W;return(W=i??E)!==null&&W!==void 0?W:V}),S=h.useRef(null),T=V=>{V!=null&&V.target&&V.type==="click"&&d&&d(V.target.value,V,{source:"clear"}),f==null||f(V)},I=V=>{var W;document.activeElement===((W=S.current)===null||W===void 0?void 0:W.input)&&V.preventDefault()},P=V=>{var W,Y;d&&d((Y=(W=S.current)===null||W===void 0?void 0:W.input)===null||Y===void 0?void 0:Y.value,V,{source:"input"})},M=V=>{x.current||c||P(V)},R=typeof a=="boolean"?h.createElement(Dj,null):null,k=`${w}-button`;let D;const A=a||{},N=A.type&&A.type.__ANT_BUTTON===!0;N||A.type==="button"?D=Ba(A,Object.assign({onMouseDown:I,onClick:V=>{var W,Y;(Y=(W=A==null?void 0:A.props)===null||W===void 0?void 0:W.onClick)===null||Y===void 0||Y.call(W,V),P(V)},key:"enterButton"},N?{className:k,size:_}:{})):D=h.createElement(Va,{className:k,type:a?"primary":void 0,size:_,disabled:u,key:"enterButton",onMouseDown:I,onClick:P,loading:c,icon:R},a),l&&(D=[D,Ba(l,{key:"addonAfter"})]);const O=Me(w,{[`${w}-rtl`]:b==="rtl",[`${w}-${_}`]:!!_,[`${w}-with-button`]:!!a},o),j=Object.assign(Object.assign({},v),{className:O,prefixCls:C,type:"search"}),L=V=>{x.current=!0,m==null||m(V)},z=V=>{x.current=!1,g==null||g(V)};return h.createElement(Ew,Object.assign({ref:Ka(S,e),onPressEnter:M},j,{size:_,onCompositionStart:L,onCompositionEnd:z,addonAfter:D,suffix:s,onChange:T,disabled:u}))});var RLe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,kLe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],VR={},Hs;function DLe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&VR[n])return VR[n];var r=window.getComputedStyle(t),o=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),i=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=kLe.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:a,paddingSize:i,borderSize:s,boxSizing:o};return e&&n&&(VR[n]=l),l}function $Le(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Hs||(Hs=document.createElement("textarea"),Hs.setAttribute("tab-index","-1"),Hs.setAttribute("aria-hidden","true"),Hs.setAttribute("name","hiddenTextarea"),document.body.appendChild(Hs)),t.getAttribute("wrap")?Hs.setAttribute("wrap",t.getAttribute("wrap")):Hs.removeAttribute("wrap");var o=DLe(t,e),i=o.paddingSize,s=o.borderSize,a=o.boxSizing,l=o.sizingStyle;Hs.setAttribute("style","".concat(l,";").concat(RLe)),Hs.value=t.value||t.placeholder||"";var c=void 0,u=void 0,d,f=Hs.scrollHeight;if(a==="border-box"?f+=s:a==="content-box"&&(f-=i),n!==null||r!==null){Hs.value=" ";var m=Hs.scrollHeight-i;n!==null&&(c=m*n,a==="border-box"&&(c=c+i+s),f=Math.max(c,f)),r!==null&&(u=m*r,a==="border-box"&&(u=u+i+s),d=f>u?"":"hidden",f=Math.min(u,f))}var g={height:f,overflowY:d,resize:"none"};return c&&(g.minHeight=c),u&&(g.maxHeight=u),g}var MLe=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],HR=0,WR=1,UR=2,OLe=h.forwardRef(function(t,e){var n=t,r=n.prefixCls,o=n.defaultValue,i=n.value,s=n.autoSize,a=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=cn(n,MLe),m=Wo(o,{value:i,postState:function(U){return U??""}}),g=Fe(m,2),v=g[0],y=g[1],b=function(U){y(U.target.value),d==null||d(U)},x=h.useRef();h.useImperativeHandle(e,function(){return{textArea:x.current}});var w=h.useMemo(function(){return s&&At(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),C=Fe(w,2),E=C[0],_=C[1],S=!!s,T=function(){try{if(document.activeElement===x.current){var U=x.current,q=U.selectionStart,K=U.selectionEnd,J=U.scrollTop;x.current.setSelectionRange(q,K),x.current.scrollTop=J}}catch{}},I=h.useState(UR),P=Fe(I,2),M=P[0],R=P[1],k=h.useState(),D=Fe(k,2),A=D[0],N=D[1],O=function(){R(HR)};nr(function(){S&&O()},[i,E,_,S]),nr(function(){if(M===HR)R(WR);else if(M===WR){var Y=$Le(x.current,!1,E,_);R(UR),N(Y)}else T()},[M]);var j=h.useRef(),L=function(){qn.cancel(j.current)},z=function(U){M===UR&&(a==null||a(U),s&&(L(),j.current=qn(function(){O()})))};h.useEffect(function(){return L},[]);var V=S?A:null,W=Se(Se({},c),V);return(M===HR||M===WR)&&(W.overflowY="hidden",W.overflowX="hidden"),h.createElement(_l,{onResize:z,disabled:!(s||a)},h.createElement("textarea",B({},f,{ref:x,style:W,className:Me(r,l,te({},"".concat(r,"-disabled"),u)),disabled:u,value:v,onChange:b})))}),ALe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],NLe=oe.forwardRef(function(t,e){var n,r=t.defaultValue,o=t.value,i=t.onFocus,s=t.onBlur,a=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,f=t.suffix,m=t.prefixCls,g=m===void 0?"rc-textarea":m,v=t.showCount,y=t.count,b=t.className,x=t.style,w=t.disabled,C=t.hidden,E=t.classNames,_=t.styles,S=t.onResize,T=t.onClear,I=t.onPressEnter,P=t.readOnly,M=t.autoSize,R=t.onKeyDown,k=cn(t,ALe),D=Wo(r,{value:o,defaultValue:r}),A=Fe(D,2),N=A[0],O=A[1],j=N==null?"":String(N),L=oe.useState(!1),z=Fe(L,2),V=z[0],W=z[1],Y=oe.useRef(!1),U=oe.useState(null),q=Fe(U,2),K=q[0],J=q[1],X=h.useRef(null),ue=h.useRef(null),_e=function(){var se;return(se=ue.current)===null||se===void 0?void 0:se.textArea},Ce=function(){_e().focus()};h.useImperativeHandle(e,function(){var xe;return{resizableTextArea:ue.current,focus:Ce,blur:function(){_e().blur()},nativeElement:((xe=X.current)===null||xe===void 0?void 0:xe.nativeElement)||_e()}}),h.useEffect(function(){W(function(xe){return!w&&xe})},[w]);var pe=oe.useState(null),ge=Fe(pe,2),F=ge[0],ce=ge[1];oe.useEffect(function(){if(F){var xe;(xe=_e()).setSelectionRange.apply(xe,at(F))}},[F]);var le=ite(y,v),Z=(n=le.max)!==null&&n!==void 0?n:c,Q=Number(Z)>0,ye=le.strategy(j),fe=!!Z&&ye>Z,ie=function(se,ae){var Ee=ae;!Y.current&&le.exceedFormatter&&le.max&&le.strategy(ae)>le.max&&(Ee=le.exceedFormatter(ae,{max:le.max}),ae!==Ee&&ce([_e().selectionStart||0,_e().selectionEnd||0])),O(Ee),fE(se.currentTarget,se,a,Ee)},re=function(se){Y.current=!0,u==null||u(se)},ve=function(se){Y.current=!1,ie(se,se.currentTarget.value),d==null||d(se)},ee=function(se){ie(se,se.target.value)},he=function(se){se.key==="Enter"&&I&&I(se),R==null||R(se)},we=function(se){W(!0),i==null||i(se)},me=function(se){W(!1),s==null||s(se)},ke=function(se){O(""),Ce(),fE(_e(),se,a)},Ie=f,Re;le.show&&(le.showFormatter?Re=le.showFormatter({value:j,count:ye,maxLength:Z}):Re="".concat(ye).concat(Q?" / ".concat(Z):""),Ie=oe.createElement(oe.Fragment,null,Ie,oe.createElement("span",{className:Me("".concat(g,"-data-count"),E==null?void 0:E.count),style:_==null?void 0:_.count},Re)));var $e=function(se){var ae;S==null||S(se),(ae=_e())!==null&&ae!==void 0&&ae.style.height&&J(!0)},ne=!M&&!v&&!l;return oe.createElement(ote,{ref:X,value:j,allowClear:l,handleReset:ke,suffix:Ie,prefixCls:g,classNames:Se(Se({},E),{},{affixWrapper:Me(E==null?void 0:E.affixWrapper,te(te({},"".concat(g,"-show-count"),v),"".concat(g,"-textarea-allow-clear"),l))}),disabled:w,focused:V,className:Me(b,fe&&"".concat(g,"-out-of-range")),style:Se(Se({},x),K&&!ne?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Re=="string"?Re:void 0}},hidden:C,readOnly:P,onClear:T},oe.createElement(OLe,B({},k,{autoSize:M,maxLength:c,onKeyDown:he,onChange:ee,onFocus:we,onBlur:me,onCompositionStart:re,onCompositionEnd:ve,className:Me(E==null?void 0:E.textarea),style:Se(Se({},_==null?void 0:_.textarea),{},{resize:x==null?void 0:x.resize}),disabled:w,prefixCls:g,onResize:$e,ref:ue,readOnly:P})))});const eS=2,jLe=(t,e)=>{e.offsetWidth-t<eS?e.style.width=`${t+eS}px`:e.offsetWidth-t>eS&&(e.style.width=`${t+eS}px`)},LLe=()=>oe.useCallback(e=>{if(e&&e.resizableTextArea.textArea.style.width.includes("px")){const n=Number.parseInt(e.resizableTextArea.textArea.style.width.replace(/px/,""));qn(()=>jLe(n,e.nativeElement))}},[]),FLe=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},zLe=eo(["Input","TextArea"],t=>{const e=Vn(t,Sw(t));return[FLe(e)]},Cw,{resetFont:!1});var BLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const VLe=h.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:o=!0,size:i,disabled:s,status:a,allowClear:l,classNames:c,rootClassName:u,className:d,style:f,styles:m,variant:g,showCount:v}=t,y=BLe(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount"]),{getPrefixCls:b,direction:x,allowClear:w,autoComplete:C,className:E,style:_,classNames:S,styles:T}=Rc("textArea"),I=h.useContext(yl),P=s??I,{status:M,hasFeedback:R,feedbackIcon:k}=h.useContext(bl),D=kT(M,a),A=h.useRef(null);h.useImperativeHandle(e,()=>{var ue;return{resizableTextArea:(ue=A.current)===null||ue===void 0?void 0:ue.resizableTextArea,focus:_e=>{var Ce,pe;rte((pe=(Ce=A.current)===null||Ce===void 0?void 0:Ce.resizableTextArea)===null||pe===void 0?void 0:pe.textArea,_e)},blur:()=>{var _e;return(_e=A.current)===null||_e===void 0?void 0:_e.blur()}}});const N=b("input",r),O=js(N),[j,L,z]=Gee(N,u),[V]=zLe(N,O),{compactSize:W,compactItemClassnames:Y}=$v(N,x),U=El(ue=>{var _e;return(_e=i??W)!==null&&_e!==void 0?_e:ue}),[q,K]=kj("textArea",g,o),J=ste(l??w),X=LLe();return j(V(h.createElement(NLe,Object.assign({autoComplete:C},y,{style:Object.assign(Object.assign({},_),f),styles:Object.assign(Object.assign({},T),m),disabled:P,allowClear:J,className:Me(z,O,d,u,Y,E),classNames:Object.assign(Object.assign(Object.assign({},c),S),{textarea:Me({[`${N}-sm`]:U==="small",[`${N}-lg`]:U==="large"},L,c==null?void 0:c.textarea,S.textarea),variant:Me({[`${N}-${q}`]:K},aE(N,D)),affixWrapper:Me(`${N}-textarea-affix-wrapper`,{[`${N}-affix-wrapper-rtl`]:x==="rtl",[`${N}-affix-wrapper-sm`]:U==="small",[`${N}-affix-wrapper-lg`]:U==="large",[`${N}-textarea-show-count`]:t.showCount||((n=t.count)===null||n===void 0?void 0:n.show)},L)}),prefixCls:N,suffix:R&&h.createElement("span",{className:`${N}-textarea-suffix`},k),showCount:v,ref:A,onResize:ue=>{var _e;(_e=y.onResize)===null||_e===void 0||_e.call(y,ue),v&&X(A.current)}}))))}),Wd=Ew;Wd.Group=fLe;Wd.Search=PLe;Wd.TextArea=VLe;Wd.Password=TLe;Wd.OTP=bLe;const dte=function(){const t=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];n&&Object.keys(n).forEach(r=>{const o=n[r];o!==void 0&&(t[r]=o)})}return t};var HLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},WLe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:HLe}))},L8=h.forwardRef(WLe),ULe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},qLe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:ULe}))},F8=h.forwardRef(qLe),KLe={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},GLe=[10,20,50,100],YLe=function(e){var n=e.pageSizeOptions,r=n===void 0?GLe:n,o=e.locale,i=e.changeSize,s=e.pageSize,a=e.goButton,l=e.quickGo,c=e.rootPrefixCls,u=e.disabled,d=e.buildOptionText,f=e.showSizeChanger,m=e.sizeChangerRender,g=oe.useState(""),v=Fe(g,2),y=v[0],b=v[1],x=function(){return!y||Number.isNaN(y)?void 0:Number(y)},w=typeof d=="function"?d:function(R){return"".concat(R," ").concat(o.items_per_page)},C=function(k){b(k.target.value)},E=function(k){a||y===""||(b(""),!(k.relatedTarget&&(k.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||k.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&(l==null||l(x())))},_=function(k){y!==""&&(k.keyCode===$t.ENTER||k.type==="click")&&(b(""),l==null||l(x()))},S=function(){return r.some(function(k){return k.toString()===s.toString()})?r:r.concat([s]).sort(function(k,D){var A=Number.isNaN(Number(k))?0:Number(k),N=Number.isNaN(Number(D))?0:Number(D);return A-N})},T="".concat(c,"-options");if(!f&&!l)return null;var I=null,P=null,M=null;return f&&m&&(I=m({disabled:u,size:s,onSizeChange:function(k){i==null||i(Number(k))},"aria-label":o.page_size,className:"".concat(T,"-size-changer"),options:S().map(function(R){return{label:w(R),value:R}})})),l&&(a&&(M=typeof a=="boolean"?oe.createElement("button",{type:"button",onClick:_,onKeyUp:_,disabled:u,className:"".concat(T,"-quick-jumper-button")},o.jump_to_confirm):oe.createElement("span",{onClick:_,onKeyUp:_},a)),P=oe.createElement("div",{className:"".concat(T,"-quick-jumper")},o.jump_to,oe.createElement("input",{disabled:u,type:"text",value:y,onChange:C,onKeyUp:_,onBlur:E,"aria-label":o.page}),o.page,M)),oe.createElement("li",{className:T},I,P)},$y=function(e){var n=e.rootPrefixCls,r=e.page,o=e.active,i=e.className,s=e.showTitle,a=e.onClick,l=e.onKeyPress,c=e.itemRender,u="".concat(n,"-item"),d=Me(u,"".concat(u,"-").concat(r),te(te({},"".concat(u,"-active"),o),"".concat(u,"-disabled"),!r),i),f=function(){a(r)},m=function(y){l(y,a,r)},g=c(r,"page",oe.createElement("a",{rel:"nofollow"},r));return g?oe.createElement("li",{title:s?String(r):null,className:d,onClick:f,onKeyDown:m,tabIndex:0},g):null},XLe=function(e,n,r){return r};function z8(){}function B8(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function Df(t,e,n){var r=typeof t>"u"?e:t;return Math.floor((n-1)/r)+1}var QLe=function(e){var n=e.prefixCls,r=n===void 0?"rc-pagination":n,o=e.selectPrefixCls,i=o===void 0?"rc-select":o,s=e.className,a=e.current,l=e.defaultCurrent,c=l===void 0?1:l,u=e.total,d=u===void 0?0:u,f=e.pageSize,m=e.defaultPageSize,g=m===void 0?10:m,v=e.onChange,y=v===void 0?z8:v,b=e.hideOnSinglePage,x=e.align,w=e.showPrevNextJumpers,C=w===void 0?!0:w,E=e.showQuickJumper,_=e.showLessItems,S=e.showTitle,T=S===void 0?!0:S,I=e.onShowSizeChange,P=I===void 0?z8:I,M=e.locale,R=M===void 0?KLe:M,k=e.style,D=e.totalBoundaryShowSizeChanger,A=D===void 0?50:D,N=e.disabled,O=e.simple,j=e.showTotal,L=e.showSizeChanger,z=L===void 0?d>A:L,V=e.sizeChangerRender,W=e.pageSizeOptions,Y=e.itemRender,U=Y===void 0?XLe:Y,q=e.jumpPrevIcon,K=e.jumpNextIcon,J=e.prevIcon,X=e.nextIcon,ue=oe.useRef(null),_e=Wo(10,{value:f,defaultValue:g}),Ce=Fe(_e,2),pe=Ce[0],ge=Ce[1],F=Wo(1,{value:a,defaultValue:c,postState:function(Et){return Math.max(1,Math.min(Et,Df(void 0,pe,d)))}}),ce=Fe(F,2),le=ce[0],Z=ce[1],Q=oe.useState(le),ye=Fe(Q,2),fe=ye[0],ie=ye[1];h.useEffect(function(){ie(le)},[le]);var re=Math.max(1,le-(_?3:5)),ve=Math.min(Df(void 0,pe,d),le+(_?3:5));function ee(Nt,Et){var Vt=Nt||oe.createElement("button",{type:"button","aria-label":Et,className:"".concat(r,"-item-link")});return typeof Nt=="function"&&(Vt=oe.createElement(Nt,Se({},e))),Vt}function he(Nt){var Et=Nt.target.value,Vt=Df(void 0,pe,d),Wn;return Et===""?Wn=Et:Number.isNaN(Number(Et))?Wn=fe:Et>=Vt?Wn=Vt:Wn=Number(Et),Wn}function we(Nt){return B8(Nt)&&Nt!==le&&B8(d)&&d>0}var me=d>pe?E:!1;function ke(Nt){(Nt.keyCode===$t.UP||Nt.keyCode===$t.DOWN)&&Nt.preventDefault()}function Ie(Nt){var Et=he(Nt);switch(Et!==fe&&ie(Et),Nt.keyCode){case $t.ENTER:ne(Et);break;case $t.UP:ne(Et-1);break;case $t.DOWN:ne(Et+1);break}}function Re(Nt){ne(he(Nt))}function $e(Nt){var Et=Df(Nt,pe,d),Vt=le>Et&&Et!==0?Et:le;ge(Nt),ie(Vt),P==null||P(le,Nt),Z(Vt),y==null||y(Vt,Nt)}function ne(Nt){if(we(Nt)&&!N){var Et=Df(void 0,pe,d),Vt=Nt;return Nt>Et?Vt=Et:Nt<1&&(Vt=1),Vt!==fe&&ie(Vt),Z(Vt),y==null||y(Vt,pe),Vt}return le}var xe=le>1,se=le<Df(void 0,pe,d);function ae(){xe&&ne(le-1)}function Ee(){se&&ne(le+1)}function Le(){ne(re)}function ze(){ne(ve)}function We(Nt,Et){if(Nt.key==="Enter"||Nt.charCode===$t.ENTER||Nt.keyCode===$t.ENTER){for(var Vt=arguments.length,Wn=new Array(Vt>2?Vt-2:0),jr=2;jr<Vt;jr++)Wn[jr-2]=arguments[jr];Et.apply(void 0,Wn)}}function Ze(Nt){We(Nt,ae)}function dt(Nt){We(Nt,Ee)}function de(Nt){We(Nt,Le)}function je(Nt){We(Nt,ze)}function Ve(Nt){var Et=U(Nt,"prev",ee(J,"prev page"));return oe.isValidElement(Et)?oe.cloneElement(Et,{disabled:!xe}):Et}function tt(Nt){var Et=U(Nt,"next",ee(X,"next page"));return oe.isValidElement(Et)?oe.cloneElement(Et,{disabled:!se}):Et}function Be(Nt){(Nt.type==="click"||Nt.keyCode===$t.ENTER)&&ne(fe)}var lt=null,st=us(e,{aria:!0,data:!0}),pt=j&&oe.createElement("li",{className:"".concat(r,"-total-text")},j(d,[d===0?0:(le-1)*pe+1,le*pe>d?d:le*pe])),Ct=null,Pe=Df(void 0,pe,d);if(b&&d<=pe)return null;var Te=[],De={rootPrefixCls:r,onClick:ne,onKeyPress:We,showTitle:T,itemRender:U,page:-1},Oe=le-1>0?le-1:0,He=le+1<Pe?le+1:Pe,Ge=E&&E.goButton,ht=At(O)==="object"?O.readOnly:!O,Qe=Ge,Xe=null;O&&(Ge&&(typeof Ge=="boolean"?Qe=oe.createElement("button",{type:"button",onClick:Be,onKeyUp:Be},R.jump_to_confirm):Qe=oe.createElement("span",{onClick:Be,onKeyUp:Be},Ge),Qe=oe.createElement("li",{title:T?"".concat(R.jump_to).concat(le,"/").concat(Pe):null,className:"".concat(r,"-simple-pager")},Qe)),Xe=oe.createElement("li",{title:T?"".concat(le,"/").concat(Pe):null,className:"".concat(r,"-simple-pager")},ht?fe:oe.createElement("input",{type:"text","aria-label":R.jump_to,value:fe,disabled:N,onKeyDown:ke,onKeyUp:Ie,onChange:Ie,onBlur:Re,size:3}),oe.createElement("span",{className:"".concat(r,"-slash")},"/"),Pe));var nt=_?1:2;if(Pe<=3+nt*2){Pe||Te.push(oe.createElement($y,B({},De,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var ft=1;ft<=Pe;ft+=1)Te.push(oe.createElement($y,B({},De,{key:ft,page:ft,active:le===ft})))}else{var wt=_?R.prev_3:R.prev_5,Tt=_?R.next_3:R.next_5,en=U(re,"jump-prev",ee(q,"prev page")),Wt=U(ve,"jump-next",ee(K,"next page"));C&&(lt=en?oe.createElement("li",{title:T?wt:null,key:"prev",onClick:Le,tabIndex:0,onKeyDown:de,className:Me("".concat(r,"-jump-prev"),te({},"".concat(r,"-jump-prev-custom-icon"),!!q))},en):null,Ct=Wt?oe.createElement("li",{title:T?Tt:null,key:"next",onClick:ze,tabIndex:0,onKeyDown:je,className:Me("".concat(r,"-jump-next"),te({},"".concat(r,"-jump-next-custom-icon"),!!K))},Wt):null);var yt=Math.max(1,le-nt),Bt=Math.min(le+nt,Pe);le-1<=nt&&(Bt=1+nt*2),Pe-le<=nt&&(yt=Pe-nt*2);for(var bt=yt;bt<=Bt;bt+=1)Te.push(oe.createElement($y,B({},De,{key:bt,page:bt,active:le===bt})));if(le-1>=nt*2&&le!==3&&(Te[0]=oe.cloneElement(Te[0],{className:Me("".concat(r,"-item-after-jump-prev"),Te[0].props.className)}),Te.unshift(lt)),Pe-le>=nt*2&&le!==Pe-2){var It=Te[Te.length-1];Te[Te.length-1]=oe.cloneElement(It,{className:Me("".concat(r,"-item-before-jump-next"),It.props.className)}),Te.push(Ct)}yt!==1&&Te.unshift(oe.createElement($y,B({},De,{key:1,page:1}))),Bt!==Pe&&Te.push(oe.createElement($y,B({},De,{key:Pe,page:Pe})))}var zt=Ve(Oe);if(zt){var Qt=!xe||!Pe;zt=oe.createElement("li",{title:T?R.prev_page:null,onClick:ae,tabIndex:Qt?null:0,onKeyDown:Ze,className:Me("".concat(r,"-prev"),te({},"".concat(r,"-disabled"),Qt)),"aria-disabled":Qt},zt)}var gn=tt(He);if(gn){var Zn,Dn;O?(Zn=!se,Dn=xe?0:null):(Zn=!se||!Pe,Dn=Zn?null:0),gn=oe.createElement("li",{title:T?R.next_page:null,onClick:Ee,tabIndex:Dn,onKeyDown:dt,className:Me("".concat(r,"-next"),te({},"".concat(r,"-disabled"),Zn)),"aria-disabled":Zn},gn)}var Mr=Me(r,s,te(te(te(te(te({},"".concat(r,"-start"),x==="start"),"".concat(r,"-center"),x==="center"),"".concat(r,"-end"),x==="end"),"".concat(r,"-simple"),O),"".concat(r,"-disabled"),N));return oe.createElement("ul",B({className:Mr,style:k,ref:ue},st),pt,zt,O?Xe:Te,gn,oe.createElement(YLe,{locale:R,rootPrefixCls:r,disabled:N,selectPrefixCls:i,changeSize:$e,pageSize:pe,pageSizeOptions:W,quickGo:me?ne:null,goButton:Qe,showSizeChanger:z,sizeChangerRender:V}))};const JLe=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},ZLe=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:Ae(t.itemSizeSM)},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:Ae(t.calc(t.itemSizeSM).sub(2).equal())},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:Ae(t.itemSizeSM)},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:Ae(t.itemSizeSM)}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:Ae(t.itemSizeSM)},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:Ae(t.itemSizeSM),input:Object.assign(Object.assign({},Bj(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},eFe=t=>{const{componentCls:e}=t;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:t.itemSizeSM,lineHeight:Ae(t.itemSizeSM),verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSizeSM,lineHeight:Ae(t.itemSizeSM)}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:t.itemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${Ae(t.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${Ae(t.inputOutlineOffset)} 0 ${Ae(t.controlOutlineWidth)} ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}}},tFe=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:Ae(t.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Ae(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:Ae(t.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},Vj(t)),zj(t,{borderColor:t.colorBorder,hoverBorderColor:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadow:t.activeShadow})),{"&[disabled]":Object.assign({},AT(t)),width:t.calc(t.controlHeightLG).mul(1.25).equal(),height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},nFe=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:Ae(t.calc(t.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:t.itemBg,border:`${Ae(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Ae(t.paginationItemPaddingInline)}`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}}}},rFe=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:Ae(t.calc(t.itemSize).sub(2).equal()),verticalAlign:"middle"}}),nFe(t)),tFe(t)),eFe(t)),ZLe(t)),JLe(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},oFe=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},Jh(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},lf(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},lf(t))}}}},fte=t=>Object.assign({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0},Cw(t)),hte=t=>Vn(t,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:t.calc(t.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:t.calc(t.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:t.calc(t.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:t.marginSM,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},Sw(t)),iFe=eo("Pagination",t=>{const e=hte(t);return[rFe(e),oFe(e)]},fte),sFe=t=>{const{componentCls:e}=t;return{[`${e}${e}-bordered${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}${e}-bordered:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},aFe=cw(["Pagination","bordered"],t=>{const e=hte(t);return[sFe(e)]},fte);function V8(t){return h.useMemo(()=>typeof t=="boolean"?[t,{}]:t&&typeof t=="object"?[!0,t]:[void 0,void 0],[t])}var lFe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const cFe=t=>{const{align:e,prefixCls:n,selectPrefixCls:r,className:o,rootClassName:i,style:s,size:a,locale:l,responsive:c,showSizeChanger:u,selectComponentClass:d,pageSizeOptions:f}=t,m=lFe(t,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:g}=pee(c),[,v]=Pi(),{getPrefixCls:y,direction:b,showSizeChanger:x,className:w,style:C}=Rc("pagination"),E=y("pagination",n),[_,S,T]=iFe(E),I=El(a),P=I==="small"||!!(g&&!I&&c),[M]=bp("Pagination",uJ),R=Object.assign(Object.assign({},M),l),[k,D]=V8(u),[A,N]=V8(x),O=k??A,j=D??N,L=d||xl,z=h.useMemo(()=>f?f.map(K=>Number(K)):void 0,[f]),V=K=>{var J;const{disabled:X,size:ue,onSizeChange:_e,"aria-label":Ce,className:pe,options:ge}=K,{className:F,onChange:ce}=j||{},le=(J=ge.find(Z=>String(Z.value)===String(ue)))===null||J===void 0?void 0:J.value;return h.createElement(L,Object.assign({disabled:X,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:Z=>Z.parentNode,"aria-label":Ce,options:ge},j,{value:le,onChange:(Z,Q)=>{_e==null||_e(Z),ce==null||ce(Z,Q)},size:P?"small":"middle",className:Me(pe,F)}))},W=h.useMemo(()=>{const K=h.createElement("span",{className:`${E}-item-ellipsis`},"•••"),J=h.createElement("button",{className:`${E}-item-link`,type:"button",tabIndex:-1},b==="rtl"?h.createElement(oM,null):h.createElement(CM,null)),X=h.createElement("button",{className:`${E}-item-link`,type:"button",tabIndex:-1},b==="rtl"?h.createElement(CM,null):h.createElement(oM,null)),ue=h.createElement("a",{className:`${E}-item-link`},h.createElement("div",{className:`${E}-item-container`},b==="rtl"?h.createElement(F8,{className:`${E}-item-link-icon`}):h.createElement(L8,{className:`${E}-item-link-icon`}),K)),_e=h.createElement("a",{className:`${E}-item-link`},h.createElement("div",{className:`${E}-item-container`},b==="rtl"?h.createElement(L8,{className:`${E}-item-link-icon`}):h.createElement(F8,{className:`${E}-item-link-icon`}),K));return{prevIcon:J,nextIcon:X,jumpPrevIcon:ue,jumpNextIcon:_e}},[b,E]),Y=y("select",r),U=Me({[`${E}-${e}`]:!!e,[`${E}-mini`]:P,[`${E}-rtl`]:b==="rtl",[`${E}-bordered`]:v.wireframe},w,o,i,S,T),q=Object.assign(Object.assign({},C),s);return _(h.createElement(h.Fragment,null,v.wireframe&&h.createElement(aFe,{prefixCls:E}),h.createElement(QLe,Object.assign({},W,m,{style:q,prefixCls:E,selectPrefixCls:Y,className:U,locale:R,pageSizeOptions:z,showSizeChanger:O,sizeChangerRender:V}))))},hE=100,pte=hE/5,mte=hE/2-pte/2,qR=mte*2*Math.PI,H8=50,W8=t=>{const{dotClassName:e,style:n,hasCircleCls:r}=t;return h.createElement("circle",{className:Me(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:mte,cx:H8,cy:H8,strokeWidth:pte,style:n})},uFe=t=>{let{percent:e,prefixCls:n}=t;const r=`${n}-dot`,o=`${r}-holder`,i=`${o}-hidden`,[s,a]=h.useState(!1);nr(()=>{e!==0&&a(!0)},[e!==0]);const l=Math.max(Math.min(e,100),0);if(!s)return null;const c={strokeDashoffset:`${qR/4}`,strokeDasharray:`${qR*l/100} ${qR*(100-l)/100}`};return h.createElement("span",{className:Me(o,`${r}-progress`,l<=0&&i)},h.createElement("svg",{viewBox:`0 0 ${hE} ${hE}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},h.createElement(W8,{dotClassName:r,hasCircleCls:!0}),h.createElement(W8,{dotClassName:r,style:c})))};function dFe(t){const{prefixCls:e,percent:n=0}=t,r=`${e}-dot`,o=`${r}-holder`,i=`${o}-hidden`;return h.createElement(h.Fragment,null,h.createElement("span",{className:Me(o,n>0&&i)},h.createElement("span",{className:Me(r,`${e}-dot-spin`)},[1,2,3,4].map(s=>h.createElement("i",{className:`${e}-dot-item`,key:s})))),h.createElement(uFe,{prefixCls:e,percent:n}))}function fFe(t){const{prefixCls:e,indicator:n,percent:r}=t,o=`${e}-dot`;return n&&h.isValidElement(n)?Ba(n,{className:Me(n.props.className,o),percent:r}):h.createElement(dFe,{prefixCls:e,percent:r})}const hFe=new Bn("antSpinMove",{to:{opacity:1}}),pFe=new Bn("antRotate",{to:{transform:"rotate(405deg)"}}),mFe=t=>{const{componentCls:e,calc:n}=t;return{[e]:Object.assign(Object.assign({},ho(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:t.colorWhite},[`${e}-text`]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:`transform ${t.motionDurationSlow} ease, opacity ${t.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:hFe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:pFe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${t.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},gFe=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},vFe=eo("Spin",t=>{const e=Vn(t,{spinDotDefault:t.colorTextDescription});return[mFe(e)]},gFe),yFe=200,U8=[[30,.05],[70,.03],[96,.01]];function bFe(t,e){const[n,r]=h.useState(0),o=h.useRef(null),i=e==="auto";return h.useEffect(()=>(i&&t&&(r(0),o.current=setInterval(()=>{r(s=>{const a=100-s;for(let l=0;l<U8.length;l+=1){const[c,u]=U8[l];if(s<=c)return s+a*u}return s})},yFe)),()=>{clearInterval(o.current)}),[i,t]),i?n:e}var xFe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};let gte;function wFe(t,e){return!!t&&!!e&&!Number.isNaN(Number(e))}const hx=t=>{var e;const{prefixCls:n,spinning:r=!0,delay:o=0,className:i,rootClassName:s,size:a="default",tip:l,wrapperClassName:c,style:u,children:d,fullscreen:f=!1,indicator:m,percent:g}=t,v=xFe(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:y,direction:b,className:x,style:w,indicator:C}=Rc("spin"),E=y("spin",n),[_,S,T]=vFe(E),[I,P]=h.useState(()=>r&&!wFe(r,o)),M=bFe(I,g);h.useEffect(()=>{if(r){const j=Fje(o,()=>{P(!0)});return j(),()=>{var L;(L=j==null?void 0:j.cancel)===null||L===void 0||L.call(j)}}P(!1)},[o,r]);const R=h.useMemo(()=>typeof d<"u"&&!f,[d,f]),k=Me(E,x,{[`${E}-sm`]:a==="small",[`${E}-lg`]:a==="large",[`${E}-spinning`]:I,[`${E}-show-text`]:!!l,[`${E}-rtl`]:b==="rtl"},i,!f&&s,S,T),D=Me(`${E}-container`,{[`${E}-blur`]:I}),A=(e=m??C)!==null&&e!==void 0?e:gte,N=Object.assign(Object.assign({},w),u),O=h.createElement("div",Object.assign({},v,{style:N,className:k,"aria-live":"polite","aria-busy":I}),h.createElement(fFe,{prefixCls:E,indicator:A,percent:M}),l&&(R||f)?h.createElement("div",{className:`${E}-text`},l):null);return _(R?h.createElement("div",Object.assign({},v,{className:Me(`${E}-nested-loading`,c,S,T)}),I&&h.createElement("div",{key:"loading"},O),h.createElement("div",{className:D,key:"container"},d)):f?h.createElement("div",{className:Me(`${E}-fullscreen`,{[`${E}-fullscreen-show`]:I},s,S,T)},O):O)};hx.setDefaultIndicator=t=>{gte=t};let wa=null,uh=t=>t(),px=[],mx={};function q8(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:o}=mx,i=(t==null?void 0:t())||document.body;return{getContainer:()=>i,duration:e,rtl:n,maxCount:r,top:o}}const SFe=oe.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:o}=h.useContext(pn),i=mx.prefixCls||o("message"),s=h.useContext(yMe),[a,l]=nZ(Object.assign(Object.assign(Object.assign({},n),{prefixCls:i}),s.message));return oe.useImperativeHandle(e,()=>{const c=Object.assign({},a);return Object.keys(c).forEach(u=>{c[u]=function(){return r(),a[u].apply(a,arguments)}}),{instance:c,sync:r}}),l}),CFe=oe.forwardRef((t,e)=>{const[n,r]=oe.useState(q8),o=()=>{r(q8)};oe.useEffect(o,[]);const i=zJ(),s=i.getRootPrefixCls(),a=i.getIconPrefixCls(),l=i.getTheme(),c=oe.createElement(SFe,{ref:e,sync:o,messageConfig:n});return oe.createElement(Ou,{prefixCls:s,iconPrefixCls:a,theme:l},i.holderRender?i.holderRender(c):c)});function NT(){if(!wa){const t=document.createDocumentFragment(),e={fragment:t};wa=e,uh(()=>{vj()(oe.createElement(CFe,{ref:r=>{const{instance:o,sync:i}=r||{};Promise.resolve().then(()=>{!e.instance&&o&&(e.instance=o,e.sync=i,NT())})}}),t)});return}wa.instance&&(px.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{uh(()=>{const r=wa.instance.open(Object.assign(Object.assign({},mx),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":uh(()=>{wa==null||wa.instance.destroy(t.key)});break;default:uh(()=>{var r;const o=(r=wa.instance)[e].apply(r,at(t.args));o==null||o.then(t.resolve),t.setCloseFn(o)})}}),px=[])}function _Fe(t){mx=Object.assign(Object.assign({},mx),t),uh(()=>{var e;(e=wa==null?void 0:wa.sync)===null||e===void 0||e.call(wa)})}function EFe(t){const e=gj(n=>{let r;const o={type:"open",config:t,resolve:n,setCloseFn:i=>{r=i}};return px.push(o),()=>{r?uh(()=>{r()}):o.skipped=!0}});return NT(),e}function TFe(t,e){const n=gj(r=>{let o;const i={type:t,args:e,resolve:r,setCloseFn:s=>{o=s}};return px.push(i),()=>{o?uh(()=>{o()}):i.skipped=!0}});return NT(),n}const IFe=t=>{px.push({type:"destroy",key:t}),NT()},PFe=["success","info","warning","error","loading"],RFe={open:EFe,destroy:IFe,config:_Fe,useMessage:wRe,_InternalPanelDoNotUseOrYouWillBeFired:hRe},SC=RFe;PFe.forEach(t=>{SC[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return TFe(t,n)}});var kFe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const DFe=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:o,type:i,title:s,children:a,footer:l}=t,c=kFe(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=h.useContext(pn),d=u(),f=e||u("modal"),m=js(d),[g,v,y]=MZ(f,m),b=`${f}-confirm`;let x={};return i?x={closable:o??!1,title:"",footer:"",children:h.createElement(AZ,Object.assign({},t,{prefixCls:f,confirmPrefixCls:b,rootPrefixCls:d,content:a}))}:x={closable:o??!0,title:s,footer:l!==null&&h.createElement(RZ,Object.assign({},t)),children:a},g(h.createElement(vZ,Object.assign({prefixCls:f,className:Me(v,`${f}-pure-panel`,i&&b,i&&`${b}-${i}`,n,y,m)},c,{closeIcon:PZ(f,r),closable:o},x)))},$Fe=WZ(DFe);function vte(t){return yw(FZ(t))}const Tl=OZ;Tl.useModal=vMe;Tl.info=function(e){return yw(zZ(e))};Tl.success=function(e){return yw(BZ(e))};Tl.error=function(e){return yw(VZ(e))};Tl.warning=vte;Tl.warn=vte;Tl.confirm=function(e){return yw(HZ(e))};Tl.destroyAll=function(){for(;ch.length;){const e=ch.pop();e&&e()}};Tl.config=fMe;Tl._InternalPanelDoNotUseOrYouWillBeFired=$Fe;function K8(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=iT(t))||e){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var c=n.next();return s=c.done,c},e:function(c){a=!0,i=c},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw i}}}}var MFe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},OFe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:MFe}))},AFe=h.forwardRef(OFe),NFe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},jFe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:NFe}))},LFe=h.forwardRef(jFe),FFe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},zFe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:FFe}))},BFe=h.forwardRef(zFe),VFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},HFe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:VFe}))},yte=h.forwardRef(HFe),WFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},UFe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:WFe}))},qFe=h.forwardRef(UFe),KFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},GFe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:KFe}))},YFe=h.forwardRef(GFe),XFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},QFe=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:XFe}))},JFe=h.forwardRef(QFe),ZFe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},e4e=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:ZFe}))},t4e=h.forwardRef(e4e),n4e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},r4e=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:n4e}))},o4e=h.forwardRef(r4e),i4e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},s4e=function(e,n){return h.createElement(Tr,B({},e,{ref:n,icon:i4e}))},a4e=h.forwardRef(s4e),l4e=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],bte=h.forwardRef(function(t,e){var n,r=t.prefixCls,o=r===void 0?"rc-switch":r,i=t.className,s=t.checked,a=t.defaultChecked,l=t.disabled,c=t.loadingIcon,u=t.checkedChildren,d=t.unCheckedChildren,f=t.onClick,m=t.onChange,g=t.onKeyDown,v=cn(t,l4e),y=Wo(!1,{value:s,defaultValue:a}),b=Fe(y,2),x=b[0],w=b[1];function C(T,I){var P=x;return l||(P=T,w(P),m==null||m(P,I)),P}function E(T){T.which===$t.LEFT?C(!1,T):T.which===$t.RIGHT&&C(!0,T),g==null||g(T)}function _(T){var I=C(!x,T);f==null||f(I,T)}var S=Me(o,i,(n={},te(n,"".concat(o,"-checked"),x),te(n,"".concat(o,"-disabled"),l),n));return h.createElement("button",B({},v,{type:"button",role:"switch","aria-checked":x,disabled:l,className:S,ref:e,onKeyDown:E,onClick:_}),c,h.createElement("span",{className:"".concat(o,"-inner")},h.createElement("span",{className:"".concat(o,"-inner-checked")},u),h.createElement("span",{className:"".concat(o,"-inner-unchecked")},d)))});bte.displayName="Switch";const c4e=t=>{const{componentCls:e,trackHeightSM:n,trackPadding:r,trackMinWidthSM:o,innerMinMarginSM:i,innerMaxMarginSM:s,handleSizeSM:a,calc:l}=t,c=`${e}-inner`,u=Ae(l(a).add(l(r).mul(2)).equal()),d=Ae(l(s).mul(2).equal());return{[e]:{[`&${e}-small`]:{minWidth:o,height:n,lineHeight:Ae(n),[`${e}-inner`]:{paddingInlineStart:s,paddingInlineEnd:i,[`${c}-checked, ${c}-unchecked`]:{minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${d})`,marginInlineEnd:`calc(100% - ${u} + ${d})`},[`${c}-unchecked`]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:a,height:a},[`${e}-loading-icon`]:{top:l(l(a).sub(t.switchLoadingIconSize)).div(2).equal(),fontSize:t.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:i,paddingInlineEnd:s,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${d})`,marginInlineEnd:`calc(-100% + ${u} - ${d})`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${Ae(l(a).add(r).equal())})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:l(t.marginXXS).div(2).equal(),marginInlineEnd:l(t.marginXXS).mul(-1).div(2).equal()}},[`&${e}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:l(t.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(t.marginXXS).div(2).equal()}}}}}}},u4e=t=>{const{componentCls:e,handleSize:n,calc:r}=t;return{[e]:{[`${e}-loading-icon${t.iconCls}`]:{position:"relative",top:r(r(n).sub(t.fontSize)).div(2).equal(),color:t.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:t.switchColor}}}},d4e=t=>{const{componentCls:e,trackPadding:n,handleBg:r,handleShadow:o,handleSize:i,calc:s}=t,a=`${e}-handle`;return{[e]:{[a]:{position:"absolute",top:n,insetInlineStart:n,width:i,height:i,transition:`all ${t.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:s(i).div(2).equal(),boxShadow:o,transition:`all ${t.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${a}`]:{insetInlineStart:`calc(100% - ${Ae(s(i).add(n).equal())})`},[`&:not(${e}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},f4e=t=>{const{componentCls:e,trackHeight:n,trackPadding:r,innerMinMargin:o,innerMaxMargin:i,handleSize:s,calc:a}=t,l=`${e}-inner`,c=Ae(a(s).add(a(r).mul(2)).equal()),u=Ae(a(i).mul(2).equal());return{[e]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:i,paddingInlineEnd:o,transition:`padding-inline-start ${t.switchDuration} ease-in-out, padding-inline-end ${t.switchDuration} ease-in-out`,[`${l}-checked, ${l}-unchecked`]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:`margin-inline-start ${t.switchDuration} ease-in-out, margin-inline-end ${t.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${u})`,marginInlineEnd:`calc(100% - ${c} + ${u})`},[`${l}-unchecked`]:{marginTop:a(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${l}`]:{paddingInlineStart:o,paddingInlineEnd:i,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${u})`,marginInlineEnd:`calc(-100% + ${c} - ${u})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:a(r).mul(2).equal(),marginInlineEnd:a(r).mul(-1).mul(2).equal()}},[`&${e}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:a(r).mul(-1).mul(2).equal(),marginInlineEnd:a(r).mul(2).equal()}}}}}},h4e=t=>{const{componentCls:e,trackHeight:n,trackMinWidth:r}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},ho(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:Ae(n),verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${t.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:t.colorTextTertiary}}),Jh(t)),{[`&${e}-checked`]:{background:t.switchColor,[`&:hover:not(${e}-disabled)`]:{background:t.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},p4e=t=>{const{fontSize:e,lineHeight:n,controlHeight:r,colorWhite:o}=t,i=e*n,s=r/2,a=2,l=i-a*2,c=s-a*2;return{trackHeight:i,trackHeightSM:s,trackMinWidth:l*2+a*4,trackMinWidthSM:c*2+a*2,trackPadding:a,handleBg:o,handleSize:l,handleSizeSM:c,handleShadow:`0 2px 4px 0 ${new Fn("#00230b").setA(.2).toRgbString()}`,innerMinMargin:l/2,innerMaxMargin:l+a+a*2,innerMinMarginSM:c/2,innerMaxMarginSM:c+a+a*2}},m4e=eo("Switch",t=>{const e=Vn(t,{switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchLoadingIconSize:t.calc(t.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${t.opacityLoading})`,switchHandleActiveInset:"-30%"});return[h4e(e),f4e(e),d4e(e),u4e(e),c4e(e)]},p4e);var g4e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const v4e=h.forwardRef((t,e)=>{const{prefixCls:n,size:r,disabled:o,loading:i,className:s,rootClassName:a,style:l,checked:c,value:u,defaultChecked:d,defaultValue:f,onChange:m}=t,g=g4e(t,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[v,y]=Wo(!1,{value:c??u,defaultValue:d??f}),{getPrefixCls:b,direction:x,switch:w}=h.useContext(pn),C=h.useContext(yl),E=(o??C)||i,_=b("switch",n),S=h.createElement("div",{className:`${_}-handle`},i&&h.createElement(dw,{className:`${_}-loading-icon`})),[T,I,P]=m4e(_),M=El(r),R=Me(w==null?void 0:w.className,{[`${_}-small`]:M==="small",[`${_}-loading`]:i,[`${_}-rtl`]:x==="rtl"},s,a,I,P),k=Object.assign(Object.assign({},w==null?void 0:w.style),l),D=function(){y(arguments.length<=0?void 0:arguments[0]),m==null||m.apply(void 0,arguments)};return T(h.createElement(pw,{component:"Switch"},h.createElement(bte,Object.assign({},g,{checked:v,onChange:D,prefixCls:_,className:R,style:k,disabled:E,ref:e,loadingIcon:S}))))}),xte=v4e;xte.__ANT_SWITCH=!0;var Bc={},Tw="rc-table-internal-hook";function Uj(t){var e=h.createContext(void 0),n=function(o){var i=o.value,s=o.children,a=h.useRef(i);a.current=i;var l=h.useState(function(){return{getValue:function(){return a.current},listeners:new Set}}),c=Fe(l,1),u=c[0];return nr(function(){sa.unstable_batchedUpdates(function(){u.listeners.forEach(function(d){d(i)})})},[i]),h.createElement(e.Provider,{value:u},s)};return{Context:e,Provider:n,defaultValue:t}}function Ii(t,e){var n=br(typeof e=="function"?e:function(d){if(e===void 0)return d;if(!Array.isArray(e))return d[e];var f={};return e.forEach(function(m){f[m]=d[m]}),f}),r=h.useContext(t==null?void 0:t.Context),o=r||{},i=o.listeners,s=o.getValue,a=h.useRef();a.current=n(r?s():t==null?void 0:t.defaultValue);var l=h.useState({}),c=Fe(l,2),u=c[1];return nr(function(){if(!r)return;function d(f){var m=n(f);xc(a.current,m,!0)||u({})}return i.add(d),function(){i.delete(d)}},[r]),a.current}function y4e(){var t=h.createContext(null);function e(){return h.useContext(t)}function n(o,i){var s=bc(o),a=function(c,u){var d=s?{ref:u}:{},f=h.useRef(0),m=h.useRef(c),g=e();return g!==null?h.createElement(o,B({},c,d)):((!i||i(m.current,c))&&(f.current+=1),m.current=c,h.createElement(t.Provider,{value:f.current},h.createElement(o,B({},c,d))))};return s?h.forwardRef(a):a}function r(o,i){var s=bc(o),a=function(c,u){var d=s?{ref:u}:{};return e(),h.createElement(o,B({},c,d))};return s?h.memo(h.forwardRef(a),i):h.memo(a,i)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:e}}var qj=y4e(),wte=qj.makeImmutable,jv=qj.responseImmutable,b4e=qj.useImmutableMark,ps=Uj(),Ste=h.createContext({renderWithProps:!1}),x4e="RC_TABLE_KEY";function w4e(t){return t==null?[]:Array.isArray(t)?t:[t]}function jT(t){var e=[],n={};return t.forEach(function(r){for(var o=r||{},i=o.key,s=o.dataIndex,a=i||w4e(s).join("-")||x4e;n[a];)a="".concat(a,"_next");n[a]=!0,e.push(a)}),e}function kM(t){return t!=null}function S4e(t){return typeof t=="number"&&!Number.isNaN(t)}function C4e(t){return t&&At(t)==="object"&&!Array.isArray(t)&&!h.isValidElement(t)}function _4e(t,e,n,r,o,i){var s=h.useContext(Ste),a=b4e(),l=gp(function(){if(kM(r))return[r];var c=e==null||e===""?[]:Array.isArray(e)?e:[e],u=Js(t,c),d=u,f=void 0;if(o){var m=o(u,t,n);C4e(m)?(d=m.children,f=m.props,s.renderWithProps=!0):d=m}return[d,f]},[a,t,r,e,o,n],function(c,u){if(i){var d=Fe(c,2),f=d[1],m=Fe(u,2),g=m[1];return i(g,f)}return s.renderWithProps?!0:!xc(c,u,!0)});return l}function E4e(t,e,n,r){var o=t+e-1;return t<=r&&o>=n}function T4e(t,e){return Ii(ps,function(n){var r=E4e(t,e||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var I4e=function(e){var n=e.ellipsis,r=e.rowType,o=e.children,i,s=n===!0?{showTitle:!0}:n;return s&&(s.showTitle||r==="header")&&(typeof o=="string"||typeof o=="number"?i=o.toString():h.isValidElement(o)&&typeof o.props.children=="string"&&(i=o.props.children)),i};function P4e(t){var e,n,r,o,i,s,a,l,c=t.component,u=t.children,d=t.ellipsis,f=t.scope,m=t.prefixCls,g=t.className,v=t.align,y=t.record,b=t.render,x=t.dataIndex,w=t.renderIndex,C=t.shouldCellUpdate,E=t.index,_=t.rowType,S=t.colSpan,T=t.rowSpan,I=t.fixLeft,P=t.fixRight,M=t.firstFixLeft,R=t.lastFixLeft,k=t.firstFixRight,D=t.lastFixRight,A=t.appendNode,N=t.additionalProps,O=N===void 0?{}:N,j=t.isSticky,L="".concat(m,"-cell"),z=Ii(ps,["supportSticky","allColumnsFixedLeft","rowHoverable"]),V=z.supportSticky,W=z.allColumnsFixedLeft,Y=z.rowHoverable,U=_4e(y,x,w,u,b,C),q=Fe(U,2),K=q[0],J=q[1],X={},ue=typeof I=="number"&&V,_e=typeof P=="number"&&V;ue&&(X.position="sticky",X.left=I),_e&&(X.position="sticky",X.right=P);var Ce=(e=(n=(r=J==null?void 0:J.colSpan)!==null&&r!==void 0?r:O.colSpan)!==null&&n!==void 0?n:S)!==null&&e!==void 0?e:1,pe=(o=(i=(s=J==null?void 0:J.rowSpan)!==null&&s!==void 0?s:O.rowSpan)!==null&&i!==void 0?i:T)!==null&&o!==void 0?o:1,ge=T4e(E,pe),F=Fe(ge,2),ce=F[0],le=F[1],Z=br(function(ee){var he;y&&le(E,E+pe-1),O==null||(he=O.onMouseEnter)===null||he===void 0||he.call(O,ee)}),Q=br(function(ee){var he;y&&le(-1,-1),O==null||(he=O.onMouseLeave)===null||he===void 0||he.call(O,ee)});if(Ce===0||pe===0)return null;var ye=(a=O.title)!==null&&a!==void 0?a:I4e({rowType:_,ellipsis:d,children:K}),fe=Me(L,g,(l={},te(te(te(te(te(te(te(te(te(te(l,"".concat(L,"-fix-left"),ue&&V),"".concat(L,"-fix-left-first"),M&&V),"".concat(L,"-fix-left-last"),R&&V),"".concat(L,"-fix-left-all"),R&&W&&V),"".concat(L,"-fix-right"),_e&&V),"".concat(L,"-fix-right-first"),k&&V),"".concat(L,"-fix-right-last"),D&&V),"".concat(L,"-ellipsis"),d),"".concat(L,"-with-append"),A),"".concat(L,"-fix-sticky"),(ue||_e)&&j&&V),te(l,"".concat(L,"-row-hover"),!J&&ce)),O.className,J==null?void 0:J.className),ie={};v&&(ie.textAlign=v);var re=Se(Se(Se(Se({},J==null?void 0:J.style),X),ie),O.style),ve=K;return At(ve)==="object"&&!Array.isArray(ve)&&!h.isValidElement(ve)&&(ve=null),d&&(R||k)&&(ve=h.createElement("span",{className:"".concat(L,"-content")},ve)),h.createElement(c,B({},J,O,{className:fe,style:re,title:ye,scope:f,onMouseEnter:Y?Z:void 0,onMouseLeave:Y?Q:void 0,colSpan:Ce!==1?Ce:null,rowSpan:pe!==1?pe:null}),A,ve)}const Lv=h.memo(P4e);function Kj(t,e,n,r,o){var i=n[t]||{},s=n[e]||{},a,l;i.fixed==="left"?a=r.left[o==="rtl"?e:t]:s.fixed==="right"&&(l=r.right[o==="rtl"?t:e]);var c=!1,u=!1,d=!1,f=!1,m=n[e+1],g=n[t-1],v=m&&!m.fixed||g&&!g.fixed||n.every(function(C){return C.fixed==="left"});if(o==="rtl"){if(a!==void 0){var y=g&&g.fixed==="left";f=!y&&v}else if(l!==void 0){var b=m&&m.fixed==="right";d=!b&&v}}else if(a!==void 0){var x=m&&m.fixed==="left";c=!x&&v}else if(l!==void 0){var w=g&&g.fixed==="right";u=!w&&v}return{fixLeft:a,fixRight:l,lastFixLeft:c,firstFixRight:u,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}var Cte=h.createContext({});function R4e(t){var e=t.className,n=t.index,r=t.children,o=t.colSpan,i=o===void 0?1:o,s=t.rowSpan,a=t.align,l=Ii(ps,["prefixCls","direction"]),c=l.prefixCls,u=l.direction,d=h.useContext(Cte),f=d.scrollColumnIndex,m=d.stickyOffsets,g=d.flattenColumns,v=n+i-1,y=v+1===f?i+1:i,b=Kj(n,n+y-1,g,m,u);return h.createElement(Lv,B({className:e,index:n,component:"td",prefixCls:c,record:null,dataIndex:null,align:a,colSpan:y,rowSpan:s,render:function(){return r}},b))}var k4e=["children"];function D4e(t){var e=t.children,n=cn(t,k4e);return h.createElement("tr",n,e)}function LT(t){var e=t.children;return e}LT.Row=D4e;LT.Cell=R4e;function $4e(t){var e=t.children,n=t.stickyOffsets,r=t.flattenColumns,o=Ii(ps,"prefixCls"),i=r.length-1,s=r[i],a=h.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:s!=null&&s.scrollbar?i:null}},[s,r,i,n]);return h.createElement(Cte.Provider,{value:a},h.createElement("tfoot",{className:"".concat(o,"-summary")},e))}const tS=jv($4e);var _te=LT;function M4e(t){return null}function O4e(t){return null}function Ete(t,e,n,r,o,i,s){t.push({record:e,indent:n,index:s});var a=i(e),l=o==null?void 0:o.has(a);if(e&&Array.isArray(e[r])&&l)for(var c=0;c<e[r].length;c+=1)Ete(t,e[r][c],n+1,r,o,i,c)}function Tte(t,e,n,r){var o=h.useMemo(function(){if(n!=null&&n.size){for(var i=[],s=0;s<(t==null?void 0:t.length);s+=1){var a=t[s];Ete(i,a,0,e,n,r,s)}return i}return t==null?void 0:t.map(function(l,c){return{record:l,indent:0,index:c}})},[t,e,n,r]);return o}function Ite(t,e,n,r){var o=Ii(ps,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=o.flattenColumns,s=o.expandableType,a=o.expandedKeys,l=o.childrenColumnName,c=o.onTriggerExpand,u=o.rowExpandable,d=o.onRow,f=o.expandRowByClick,m=o.rowClassName,g=s==="nest",v=s==="row"&&(!u||u(t)),y=v||g,b=a&&a.has(e),x=l&&t&&t[l],w=br(c),C=d==null?void 0:d(t,n),E=C==null?void 0:C.onClick,_=function(P){f&&y&&c(t,P);for(var M=arguments.length,R=new Array(M>1?M-1:0),k=1;k<M;k++)R[k-1]=arguments[k];E==null||E.apply(void 0,[P].concat(R))},S;typeof m=="string"?S=m:typeof m=="function"&&(S=m(t,n,r));var T=jT(i);return Se(Se({},o),{},{columnsKey:T,nestExpandable:g,expanded:b,hasNestChildren:x,record:t,onTriggerExpand:w,rowSupportExpand:v,expandable:y,rowProps:Se(Se({},C),{},{className:Me(S,C==null?void 0:C.className),onClick:_})})}function Pte(t){var e=t.prefixCls,n=t.children,r=t.component,o=t.cellComponent,i=t.className,s=t.expanded,a=t.colSpan,l=t.isEmpty,c=Ii(ps,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),u=c.scrollbarSize,d=c.fixHeader,f=c.fixColumn,m=c.componentWidth,g=c.horizonScroll,v=n;return(l?g&&m:f)&&(v=h.createElement("div",{style:{width:m-(d&&!l?u:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},v)),h.createElement(r,{className:i,style:{display:s?null:"none"}},h.createElement(Lv,{component:o,prefixCls:e,colSpan:a},v))}function A4e(t){var e=t.prefixCls,n=t.record,r=t.onExpand,o=t.expanded,i=t.expandable,s="".concat(e,"-row-expand-icon");if(!i)return h.createElement("span",{className:Me(s,"".concat(e,"-row-spaced"))});var a=function(c){r(n,c),c.stopPropagation()};return h.createElement("span",{className:Me(s,te(te({},"".concat(e,"-row-expanded"),o),"".concat(e,"-row-collapsed"),!o)),onClick:a})}function N4e(t,e,n){var r=[];function o(i){(i||[]).forEach(function(s,a){r.push(e(s,a)),o(s[n])})}return o(t),r}function Rte(t,e,n,r){return typeof t=="string"?t:typeof t=="function"?t(e,n,r):""}function kte(t,e,n,r,o){var i=t.record,s=t.prefixCls,a=t.columnsKey,l=t.fixedInfoList,c=t.expandIconColumnIndex,u=t.nestExpandable,d=t.indentSize,f=t.expandIcon,m=t.expanded,g=t.hasNestChildren,v=t.onTriggerExpand,y=a[n],b=l[n],x;n===(c||0)&&u&&(x=h.createElement(h.Fragment,null,h.createElement("span",{style:{paddingLeft:"".concat(d*r,"px")},className:"".concat(s,"-row-indent indent-level-").concat(r)}),f({prefixCls:s,expanded:m,expandable:g,record:i,onExpand:v})));var w;return e.onCell&&(w=e.onCell(i,o)),{key:y,fixedInfo:b,appendCellNode:x,additionalCellProps:w||{}}}function j4e(t){var e=t.className,n=t.style,r=t.record,o=t.index,i=t.renderIndex,s=t.rowKey,a=t.indent,l=a===void 0?0:a,c=t.rowComponent,u=t.cellComponent,d=t.scopeCellComponent,f=Ite(r,s,o,l),m=f.prefixCls,g=f.flattenColumns,v=f.expandedRowClassName,y=f.expandedRowRender,b=f.rowProps,x=f.expanded,w=f.rowSupportExpand,C=h.useRef(!1);C.current||(C.current=x);var E=Rte(v,r,o,l),_=h.createElement(c,B({},b,{"data-row-key":s,className:Me(e,"".concat(m,"-row"),"".concat(m,"-row-level-").concat(l),b==null?void 0:b.className,te({},E,l>=1)),style:Se(Se({},n),b==null?void 0:b.style)}),g.map(function(I,P){var M=I.render,R=I.dataIndex,k=I.className,D=kte(f,I,P,l,o),A=D.key,N=D.fixedInfo,O=D.appendCellNode,j=D.additionalCellProps;return h.createElement(Lv,B({className:k,ellipsis:I.ellipsis,align:I.align,scope:I.rowScope,component:I.rowScope?d:u,prefixCls:m,key:A,record:r,index:o,renderIndex:i,dataIndex:R,render:M,shouldCellUpdate:I.shouldCellUpdate},N,{appendNode:O,additionalProps:j}))})),S;if(w&&(C.current||x)){var T=y(r,o,l+1,x);S=h.createElement(Pte,{expanded:x,className:Me("".concat(m,"-expanded-row"),"".concat(m,"-expanded-row-level-").concat(l+1),E),prefixCls:m,component:c,cellComponent:u,colSpan:g.length,isEmpty:!1},T)}return h.createElement(h.Fragment,null,_,S)}const L4e=jv(j4e);function F4e(t){var e=t.columnKey,n=t.onColumnResize,r=h.useRef();return h.useEffect(function(){r.current&&n(e,r.current.offsetWidth)},[]),h.createElement(_l,{data:e},h.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},h.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function z4e(t){var e=t.prefixCls,n=t.columnsKey,r=t.onColumnResize;return h.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},h.createElement(_l.Collection,{onBatchResize:function(i){i.forEach(function(s){var a=s.data,l=s.size;r(a,l.offsetWidth)})}},n.map(function(o){return h.createElement(F4e,{key:o,columnKey:o,onColumnResize:r})})))}function B4e(t){var e=t.data,n=t.measureColumnWidth,r=Ii(ps,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),o=r.prefixCls,i=r.getComponent,s=r.onColumnResize,a=r.flattenColumns,l=r.getRowKey,c=r.expandedKeys,u=r.childrenColumnName,d=r.emptyNode,f=Tte(e,u,c,l),m=h.useRef({renderWithProps:!1}),g=i(["body","wrapper"],"tbody"),v=i(["body","row"],"tr"),y=i(["body","cell"],"td"),b=i(["body","cell"],"th"),x;e.length?x=f.map(function(C,E){var _=C.record,S=C.indent,T=C.index,I=l(_,E);return h.createElement(L4e,{key:I,rowKey:I,record:_,index:E,renderIndex:T,rowComponent:v,cellComponent:y,scopeCellComponent:b,indent:S})}):x=h.createElement(Pte,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:v,cellComponent:y,colSpan:a.length,isEmpty:!0},d);var w=jT(a);return h.createElement(Ste.Provider,{value:m.current},h.createElement(g,{className:"".concat(o,"-tbody")},n&&h.createElement(z4e,{prefixCls:o,columnsKey:w,onColumnResize:s}),x))}const V4e=jv(B4e);var H4e=["expandable"],G0="RC_TABLE_INTERNAL_COL_DEFINE";function W4e(t){var e=t.expandable,n=cn(t,H4e),r;return"expandable"in t?r=Se(Se({},n),e):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var U4e=["columnType"];function Dte(t){for(var e=t.colWidths,n=t.columns,r=t.columCount,o=Ii(ps,["tableLayout"]),i=o.tableLayout,s=[],a=r||n.length,l=!1,c=a-1;c>=0;c-=1){var u=e[c],d=n&&n[c],f=void 0,m=void 0;if(d&&(f=d[G0],i==="auto"&&(m=d.minWidth)),u||m||f||l){var g=f||{};g.columnType;var v=cn(g,U4e);s.unshift(h.createElement("col",B({key:c,style:{width:u,minWidth:m}},v))),l=!0}}return h.createElement("colgroup",null,s)}var q4e=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function K4e(t,e){return h.useMemo(function(){for(var n=[],r=0;r<e;r+=1){var o=t[r];if(o!==void 0)n[r]=o;else return null}return n},[t.join("_"),e])}var G4e=h.forwardRef(function(t,e){var n=t.className,r=t.noData,o=t.columns,i=t.flattenColumns,s=t.colWidths,a=t.columCount,l=t.stickyOffsets,c=t.direction,u=t.fixHeader,d=t.stickyTopOffset,f=t.stickyBottomOffset,m=t.stickyClassName,g=t.onScroll,v=t.maxContentScroll,y=t.children,b=cn(t,q4e),x=Ii(ps,["prefixCls","scrollbarSize","isSticky","getComponent"]),w=x.prefixCls,C=x.scrollbarSize,E=x.isSticky,_=x.getComponent,S=_(["header","table"],"table"),T=E&&!u?0:C,I=h.useRef(null),P=h.useCallback(function(j){Jb(e,j),Jb(I,j)},[]);h.useEffect(function(){var j;function L(z){var V=z,W=V.currentTarget,Y=V.deltaX;Y&&(g({currentTarget:W,scrollLeft:W.scrollLeft+Y}),z.preventDefault())}return(j=I.current)===null||j===void 0||j.addEventListener("wheel",L,{passive:!1}),function(){var z;(z=I.current)===null||z===void 0||z.removeEventListener("wheel",L)}},[]);var M=h.useMemo(function(){return i.every(function(j){return j.width})},[i]),R=i[i.length-1],k={fixed:R?R.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(w,"-cell-scrollbar")}}},D=h.useMemo(function(){return T?[].concat(at(o),[k]):o},[T,o]),A=h.useMemo(function(){return T?[].concat(at(i),[k]):i},[T,i]),N=h.useMemo(function(){var j=l.right,L=l.left;return Se(Se({},l),{},{left:c==="rtl"?[].concat(at(L.map(function(z){return z+T})),[0]):L,right:c==="rtl"?j:[].concat(at(j.map(function(z){return z+T})),[0]),isSticky:E})},[T,l,E]),O=K4e(s,a);return h.createElement("div",{style:Se({overflow:"hidden"},E?{top:d,bottom:f}:{}),ref:P,className:Me(n,te({},m,!!m))},h.createElement(S,{style:{tableLayout:"fixed",visibility:r||O?null:"hidden"}},(!r||!v||M)&&h.createElement(Dte,{colWidths:O?[].concat(at(O),[T]):[],columCount:a+1,columns:A}),y(Se(Se({},b),{},{stickyOffsets:N,columns:D,flattenColumns:A}))))});const G8=h.memo(G4e);var Y4e=function(e){var n=e.cells,r=e.stickyOffsets,o=e.flattenColumns,i=e.rowComponent,s=e.cellComponent,a=e.onHeaderRow,l=e.index,c=Ii(ps,["prefixCls","direction"]),u=c.prefixCls,d=c.direction,f;a&&(f=a(n.map(function(g){return g.column}),l));var m=jT(n.map(function(g){return g.column}));return h.createElement(i,f,n.map(function(g,v){var y=g.column,b=Kj(g.colStart,g.colEnd,o,r,d),x;return y&&y.onHeaderCell&&(x=g.column.onHeaderCell(y)),h.createElement(Lv,B({},g,{scope:y.title?g.colSpan>1?"colgroup":"col":null,ellipsis:y.ellipsis,align:y.align,component:s,prefixCls:u,key:m[v]},b,{additionalProps:x,rowType:"header"}))}))};function X4e(t){var e=[];function n(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[l]=e[l]||[];var c=a,u=s.filter(Boolean).map(function(d){var f={key:d.key,className:d.className||"",children:d.title,column:d,colStart:c},m=1,g=d.children;return g&&g.length>0&&(m=n(g,c,l+1).reduce(function(v,y){return v+y},0),f.hasSubColumns=!0),"colSpan"in d&&(m=d.colSpan),"rowSpan"in d&&(f.rowSpan=d.rowSpan),f.colSpan=m,f.colEnd=f.colStart+m-1,e[l].push(f),c+=m,m});return u}n(t,0);for(var r=e.length,o=function(a){e[a].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=r-a)})},i=0;i<r;i+=1)o(i);return e}var Q4e=function(e){var n=e.stickyOffsets,r=e.columns,o=e.flattenColumns,i=e.onHeaderRow,s=Ii(ps,["prefixCls","getComponent"]),a=s.prefixCls,l=s.getComponent,c=h.useMemo(function(){return X4e(r)},[r]),u=l(["header","wrapper"],"thead"),d=l(["header","row"],"tr"),f=l(["header","cell"],"th");return h.createElement(u,{className:"".concat(a,"-thead")},c.map(function(m,g){var v=h.createElement(Y4e,{key:g,flattenColumns:o,cells:m,stickyOffsets:n,rowComponent:d,cellComponent:f,onHeaderRow:i,index:g});return v}))};const Y8=jv(Q4e);function X8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof e=="number"?e:e.endsWith("%")?t*parseFloat(e)/100:null}function J4e(t,e,n){return h.useMemo(function(){if(e&&e>0){var r=0,o=0;t.forEach(function(f){var m=X8(e,f.width);m?r+=m:o+=1});var i=Math.max(e,n),s=Math.max(i-r,o),a=o,l=s/o,c=0,u=t.map(function(f){var m=Se({},f),g=X8(e,m.width);if(g)m.width=g;else{var v=Math.floor(l);m.width=a===1?s:v,s-=v,a-=1}return c+=m.width,m});if(c<i){var d=i/c;s=i,u.forEach(function(f,m){var g=Math.floor(f.width*d);f.width=m===u.length-1?s:g,s-=g})}return[u,Math.max(c,i)]}return[t,e]},[t,e,n])}var Z4e=["children"],e5e=["fixed"];function Gj(t){return vl(t).filter(function(e){return h.isValidElement(e)}).map(function(e){var n=e.key,r=e.props,o=r.children,i=cn(r,Z4e),s=Se({key:n},i);return o&&(s.children=Gj(o)),s})}function $te(t){return t.filter(function(e){return e&&At(e)==="object"&&!e.hidden}).map(function(e){var n=e.children;return n&&n.length>0?Se(Se({},e),{},{children:$te(n)}):e})}function DM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return t.filter(function(n){return n&&At(n)==="object"}).reduce(function(n,r,o){var i=r.fixed,s=i===!0?"left":i,a="".concat(e,"-").concat(o),l=r.children;return l&&l.length>0?[].concat(at(n),at(DM(l,a).map(function(c){return Se({fixed:s},c)}))):[].concat(at(n),[Se(Se({key:a},r),{},{fixed:s})])},[])}function t5e(t){return t.map(function(e){var n=e.fixed,r=cn(e,e5e),o=n;return n==="left"?o="right":n==="right"&&(o="left"),Se({fixed:o},r)})}function n5e(t,e){var n=t.prefixCls,r=t.columns,o=t.children,i=t.expandable,s=t.expandedKeys,a=t.columnTitle,l=t.getRowKey,c=t.onTriggerExpand,u=t.expandIcon,d=t.rowExpandable,f=t.expandIconColumnIndex,m=t.direction,g=t.expandRowByClick,v=t.columnWidth,y=t.fixed,b=t.scrollWidth,x=t.clientWidth,w=h.useMemo(function(){var R=r||Gj(o)||[];return $te(R.slice())},[r,o]),C=h.useMemo(function(){if(i){var R=w.slice();if(!R.includes(Bc)){var k=f||0;k>=0&&(k||y==="left"||!y)&&R.splice(k,0,Bc),y==="right"&&R.splice(w.length,0,Bc)}var D=R.indexOf(Bc);R=R.filter(function(j,L){return j!==Bc||L===D});var A=w[D],N;y?N=y:N=A?A.fixed:null;var O=te(te(te(te(te(te({},G0,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",a),"fixed",N),"className","".concat(n,"-row-expand-icon-cell")),"width",v),"render",function(L,z,V){var W=l(z,V),Y=s.has(W),U=d?d(z):!0,q=u({prefixCls:n,expanded:Y,expandable:U,record:z,onExpand:c});return g?h.createElement("span",{onClick:function(J){return J.stopPropagation()}},q):q});return R.map(function(j){return j===Bc?O:j})}return w.filter(function(j){return j!==Bc})},[i,w,l,s,u,m]),E=h.useMemo(function(){var R=C;return e&&(R=e(R)),R.length||(R=[{render:function(){return null}}]),R},[e,C,m]),_=h.useMemo(function(){return m==="rtl"?t5e(DM(E)):DM(E)},[E,m,b]),S=h.useMemo(function(){for(var R=-1,k=_.length-1;k>=0;k-=1){var D=_[k].fixed;if(D==="left"||D===!0){R=k;break}}if(R>=0)for(var A=0;A<=R;A+=1){var N=_[A].fixed;if(N!=="left"&&N!==!0)return!0}var O=_.findIndex(function(z){var V=z.fixed;return V==="right"});if(O>=0)for(var j=O;j<_.length;j+=1){var L=_[j].fixed;if(L!=="right")return!0}return!1},[_]),T=J4e(_,b,x),I=Fe(T,2),P=I[0],M=I[1];return[E,P,M,S]}function r5e(t,e,n){var r=W4e(t),o=r.expandIcon,i=r.expandedRowKeys,s=r.defaultExpandedRowKeys,a=r.defaultExpandAllRows,l=r.expandedRowRender,c=r.onExpand,u=r.onExpandedRowsChange,d=r.childrenColumnName,f=o||A4e,m=d||"children",g=h.useMemo(function(){return l?"row":t.expandable&&t.internalHooks===Tw&&t.expandable.__PARENT_RENDER_ICON__||e.some(function(E){return E&&At(E)==="object"&&E[m]})?"nest":!1},[!!l,e]),v=h.useState(function(){return s||(a?N4e(e,n,m):[])}),y=Fe(v,2),b=y[0],x=y[1],w=h.useMemo(function(){return new Set(i||b||[])},[i,b]),C=h.useCallback(function(E){var _=n(E,e.indexOf(E)),S,T=w.has(_);T?(w.delete(_),S=at(w)):S=[].concat(at(w),[_]),x(S),c&&c(!T,E),u&&u(S)},[n,w,e,c,u]);return[r,g,w,f,m,C]}function o5e(t,e,n){var r=t.map(function(o,i){return Kj(i,i,t,e,n)});return gp(function(){return r},[r],function(o,i){return!xc(o,i)})}function Mte(t){var e=h.useRef(t),n=h.useState({}),r=Fe(n,2),o=r[1],i=h.useRef(null),s=h.useRef([]);function a(l){s.current.push(l);var c=Promise.resolve();i.current=c,c.then(function(){if(i.current===c){var u=s.current,d=e.current;s.current=[],u.forEach(function(f){e.current=f(e.current)}),i.current=null,d!==e.current&&o({})}})}return h.useEffect(function(){return function(){i.current=null}},[]),[e.current,a]}function i5e(t){var e=h.useRef(null),n=h.useRef();function r(){window.clearTimeout(n.current)}function o(s){e.current=s,r(),n.current=window.setTimeout(function(){e.current=null,n.current=void 0},100)}function i(){return e.current}return h.useEffect(function(){return r},[]),[o,i]}function s5e(){var t=h.useState(-1),e=Fe(t,2),n=e[0],r=e[1],o=h.useState(-1),i=Fe(o,2),s=i[0],a=i[1],l=h.useCallback(function(c,u){r(c),a(u)},[]);return[n,s,l]}var Q8=Ti()?window:null;function a5e(t,e){var n=At(t)==="object"?t:{},r=n.offsetHeader,o=r===void 0?0:r,i=n.offsetSummary,s=i===void 0?0:i,a=n.offsetScroll,l=a===void 0?0:a,c=n.getContainer,u=c===void 0?function(){return Q8}:c,d=u()||Q8,f=!!t;return h.useMemo(function(){return{isSticky:f,stickyClassName:f?"".concat(e,"-sticky-holder"):"",offsetHeader:o,offsetSummary:s,offsetScroll:l,container:d}},[f,l,o,s,e,d])}function l5e(t,e,n){var r=h.useMemo(function(){var o=e.length,i=function(c,u,d){for(var f=[],m=0,g=c;g!==u;g+=d)f.push(m),e[g].fixed&&(m+=t[g]||0);return f},s=i(0,o,1),a=i(o-1,-1,-1).reverse();return n==="rtl"?{left:a,right:s}:{left:s,right:a}},[t,e,n]);return r}function J8(t){var e=t.className,n=t.children;return h.createElement("div",{className:e},n)}function Z8(t){var e=K2(t),n=e.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var c5e=function(e,n){var r,o,i=e.scrollBodyRef,s=e.onScroll,a=e.offsetScroll,l=e.container,c=e.direction,u=Ii(ps,"prefixCls"),d=((r=i.current)===null||r===void 0?void 0:r.scrollWidth)||0,f=((o=i.current)===null||o===void 0?void 0:o.clientWidth)||0,m=d&&f*(f/d),g=h.useRef(),v=Mte({scrollLeft:0,isHiddenScrollBar:!0}),y=Fe(v,2),b=y[0],x=y[1],w=h.useRef({delta:0,x:0}),C=h.useState(!1),E=Fe(C,2),_=E[0],S=E[1],T=h.useRef(null);h.useEffect(function(){return function(){qn.cancel(T.current)}},[]);var I=function(){S(!1)},P=function(A){A.persist(),w.current.delta=A.pageX-b.scrollLeft,w.current.x=0,S(!0),A.preventDefault()},M=function(A){var N,O=A||((N=window)===null||N===void 0?void 0:N.event),j=O.buttons;if(!_||j===0){_&&S(!1);return}var L=w.current.x+A.pageX-w.current.x-w.current.delta,z=c==="rtl";L=Math.max(z?m-f:0,Math.min(z?0:f-m,L));var V=!z||Math.abs(L)+Math.abs(m)<f;V&&(s({scrollLeft:L/f*(d+2)}),w.current.x=A.pageX)},R=function(){qn.cancel(T.current),T.current=qn(function(){if(i.current){var A=Z8(i.current).top,N=A+i.current.offsetHeight,O=l===window?document.documentElement.scrollTop+window.innerHeight:Z8(l).top+l.clientHeight;N-C6()<=O||A>=O-a?x(function(j){return Se(Se({},j),{},{isHiddenScrollBar:!0})}):x(function(j){return Se(Se({},j),{},{isHiddenScrollBar:!1})})}})},k=function(A){x(function(N){return Se(Se({},N),{},{scrollLeft:A/d*f||0})})};return h.useImperativeHandle(n,function(){return{setScrollLeft:k,checkScrollBarVisible:R}}),h.useEffect(function(){var D=j8(document.body,"mouseup",I,!1),A=j8(document.body,"mousemove",M,!1);return R(),function(){D.remove(),A.remove()}},[m,_]),h.useEffect(function(){if(i.current){for(var D=[],A=K2(i.current);A;)D.push(A),A=A.parentElement;return D.forEach(function(N){return N.addEventListener("scroll",R,!1)}),window.addEventListener("resize",R,!1),window.addEventListener("scroll",R,!1),l.addEventListener("scroll",R,!1),function(){D.forEach(function(N){return N.removeEventListener("scroll",R)}),window.removeEventListener("resize",R),window.removeEventListener("scroll",R),l.removeEventListener("scroll",R)}}},[l]),h.useEffect(function(){b.isHiddenScrollBar||x(function(D){var A=i.current;return A?Se(Se({},D),{},{scrollLeft:A.scrollLeft/A.scrollWidth*A.clientWidth}):D})},[b.isHiddenScrollBar]),d<=f||!m||b.isHiddenScrollBar?null:h.createElement("div",{style:{height:C6(),width:f,bottom:a},className:"".concat(u,"-sticky-scroll")},h.createElement("div",{onMouseDown:P,ref:g,className:Me("".concat(u,"-sticky-scroll-bar"),te({},"".concat(u,"-sticky-scroll-bar-active"),_)),style:{width:"".concat(m,"px"),transform:"translate3d(".concat(b.scrollLeft,"px, 0, 0)")}}))};const u5e=h.forwardRef(c5e);var Ote="rc-table",d5e=[],f5e={};function h5e(){return"No Data"}function p5e(t,e){var n=Se({rowKey:"key",prefixCls:Ote,emptyText:h5e},t),r=n.prefixCls,o=n.className,i=n.rowClassName,s=n.style,a=n.data,l=n.rowKey,c=n.scroll,u=n.tableLayout,d=n.direction,f=n.title,m=n.footer,g=n.summary,v=n.caption,y=n.id,b=n.showHeader,x=n.components,w=n.emptyText,C=n.onRow,E=n.onHeaderRow,_=n.onScroll,S=n.internalHooks,T=n.transformColumns,I=n.internalRefs,P=n.tailor,M=n.getContainerWidth,R=n.sticky,k=n.rowHoverable,D=k===void 0?!0:k,A=a||d5e,N=!!A.length,O=S===Tw,j=h.useCallback(function(an,ln){return Js(x,an)||ln},[x]),L=h.useMemo(function(){return typeof l=="function"?l:function(an){var ln=an&&an[l];return ln}},[l]),z=j(["body"]),V=s5e(),W=Fe(V,3),Y=W[0],U=W[1],q=W[2],K=r5e(n,A,L),J=Fe(K,6),X=J[0],ue=J[1],_e=J[2],Ce=J[3],pe=J[4],ge=J[5],F=c==null?void 0:c.x,ce=h.useState(0),le=Fe(ce,2),Z=le[0],Q=le[1],ye=n5e(Se(Se(Se({},n),X),{},{expandable:!!X.expandedRowRender,columnTitle:X.columnTitle,expandedKeys:_e,getRowKey:L,onTriggerExpand:ge,expandIcon:Ce,expandIconColumnIndex:X.expandIconColumnIndex,direction:d,scrollWidth:O&&P&&typeof F=="number"?F:null,clientWidth:Z}),O?T:null),fe=Fe(ye,4),ie=fe[0],re=fe[1],ve=fe[2],ee=fe[3],he=ve??F,we=h.useMemo(function(){return{columns:ie,flattenColumns:re}},[ie,re]),me=h.useRef(),ke=h.useRef(),Ie=h.useRef(),Re=h.useRef();h.useImperativeHandle(e,function(){return{nativeElement:me.current,scrollTo:function(ln){var no;if(Ie.current instanceof HTMLElement){var pi=ln.index,vo=ln.top,Pr=ln.key;if(S4e(vo)){var ro;(ro=Ie.current)===null||ro===void 0||ro.scrollTo({top:vo})}else{var mi,gi=Pr??L(A[pi]);(mi=Ie.current.querySelector('[data-row-key="'.concat(gi,'"]')))===null||mi===void 0||mi.scrollIntoView()}}else(no=Ie.current)!==null&&no!==void 0&&no.scrollTo&&Ie.current.scrollTo(ln)}}});var $e=h.useRef(),ne=h.useState(!1),xe=Fe(ne,2),se=xe[0],ae=xe[1],Ee=h.useState(!1),Le=Fe(Ee,2),ze=Le[0],We=Le[1],Ze=Mte(new Map),dt=Fe(Ze,2),de=dt[0],je=dt[1],Ve=jT(re),tt=Ve.map(function(an){return de.get(an)}),Be=h.useMemo(function(){return tt},[tt.join("_")]),lt=l5e(Be,re,d),st=c&&kM(c.y),pt=c&&kM(he)||!!X.fixed,Ct=pt&&re.some(function(an){var ln=an.fixed;return ln}),Pe=h.useRef(),Te=a5e(R,r),De=Te.isSticky,Oe=Te.offsetHeader,He=Te.offsetSummary,Ge=Te.offsetScroll,ht=Te.stickyClassName,Qe=Te.container,Xe=h.useMemo(function(){return g==null?void 0:g(A)},[g,A]),nt=(st||De)&&h.isValidElement(Xe)&&Xe.type===LT&&Xe.props.fixed,ft,wt,Tt;st&&(wt={overflowY:N?"scroll":"auto",maxHeight:c.y}),pt&&(ft={overflowX:"auto"},st||(wt={overflowY:"hidden"}),Tt={width:he===!0?"auto":he,minWidth:"100%"});var en=h.useCallback(function(an,ln){hT(me.current)&&je(function(no){if(no.get(an)!==ln){var pi=new Map(no);return pi.set(an,ln),pi}return no})},[]),Wt=i5e(),yt=Fe(Wt,2),Bt=yt[0],bt=yt[1];function It(an,ln){ln&&(typeof ln=="function"?ln(an):ln.scrollLeft!==an&&(ln.scrollLeft=an,ln.scrollLeft!==an&&setTimeout(function(){ln.scrollLeft=an},0)))}var zt=br(function(an){var ln=an.currentTarget,no=an.scrollLeft,pi=d==="rtl",vo=typeof no=="number"?no:ln.scrollLeft,Pr=ln||f5e;if(!bt()||bt()===Pr){var ro;Bt(Pr),It(vo,ke.current),It(vo,Ie.current),It(vo,$e.current),It(vo,(ro=Pe.current)===null||ro===void 0?void 0:ro.setScrollLeft)}var mi=ln||ke.current;if(mi){var gi=O&&P&&typeof he=="number"?he:mi.scrollWidth,Fs=mi.clientWidth;if(gi===Fs){ae(!1),We(!1);return}pi?(ae(-vo<gi-Fs),We(-vo>0)):(ae(vo>0),We(vo<gi-Fs))}}),Qt=br(function(an){zt(an),_==null||_(an)}),gn=function(){if(pt&&Ie.current){var ln;zt({currentTarget:K2(Ie.current),scrollLeft:(ln=Ie.current)===null||ln===void 0?void 0:ln.scrollLeft})}else ae(!1),We(!1)},Zn=function(ln){var no,pi=ln.width;(no=Pe.current)===null||no===void 0||no.checkScrollBarVisible();var vo=me.current?me.current.offsetWidth:pi;O&&M&&me.current&&(vo=M(me.current,vo)||vo),vo!==Z&&(gn(),Q(vo))},Dn=h.useRef(!1);h.useEffect(function(){Dn.current&&gn()},[pt,a,ie.length]),h.useEffect(function(){Dn.current=!0},[]);var Mr=h.useState(0),Nt=Fe(Mr,2),Et=Nt[0],Vt=Nt[1],Wn=h.useState(!0),jr=Fe(Wn,2),An=jr[0],dr=jr[1];h.useEffect(function(){(!P||!O)&&(Ie.current instanceof Element?Vt(iM(Ie.current).width):Vt(iM(Re.current).width)),dr(E$e("position","sticky"))},[]),h.useEffect(function(){O&&I&&(I.body.current=Ie.current)});var to=h.useCallback(function(an){return h.createElement(h.Fragment,null,h.createElement(Y8,an),nt==="top"&&h.createElement(tS,an,Xe))},[nt,Xe]),hi=h.useCallback(function(an){return h.createElement(tS,an,Xe)},[Xe]),Ki=j(["table"],"table"),To=h.useMemo(function(){return u||(Ct?he==="max-content"?"auto":"fixed":st||De||re.some(function(an){var ln=an.ellipsis;return ln})?"fixed":"auto")},[st,Ct,re,u,De]),Gi,Pn={colWidths:Be,columCount:re.length,stickyOffsets:lt,onHeaderRow:E,fixHeader:st,scroll:c},Lt=h.useMemo(function(){return N?null:typeof w=="function"?w():w},[N,w]),Pt=h.createElement(V4e,{data:A,measureColumnWidth:st||pt||De}),vn=h.createElement(Dte,{colWidths:re.map(function(an){var ln=an.width;return ln}),columns:re}),Tn=v!=null?h.createElement("caption",{className:"".concat(r,"-caption")},v):void 0,Un=us(n,{data:!0}),rr=us(n,{aria:!0});if(st||De){var yn;typeof z=="function"?(yn=z(A,{scrollbarSize:Et,ref:Ie,onScroll:zt}),Pn.colWidths=re.map(function(an,ln){var no=an.width,pi=ln===re.length-1?no-Et:no;return typeof pi=="number"&&!Number.isNaN(pi)?pi:0})):yn=h.createElement("div",{style:Se(Se({},ft),wt),onScroll:Qt,ref:Ie,className:Me("".concat(r,"-body"))},h.createElement(Ki,B({style:Se(Se({},Tt),{},{tableLayout:To})},rr),Tn,vn,Pt,!nt&&Xe&&h.createElement(tS,{stickyOffsets:lt,flattenColumns:re},Xe)));var zr=Se(Se(Se({noData:!A.length,maxContentScroll:pt&&he==="max-content"},Pn),we),{},{direction:d,stickyClassName:ht,onScroll:zt});Gi=h.createElement(h.Fragment,null,b!==!1&&h.createElement(G8,B({},zr,{stickyTopOffset:Oe,className:"".concat(r,"-header"),ref:ke}),to),yn,nt&&nt!=="top"&&h.createElement(G8,B({},zr,{stickyBottomOffset:He,className:"".concat(r,"-summary"),ref:$e}),hi),De&&Ie.current&&Ie.current instanceof Element&&h.createElement(u5e,{ref:Pe,offsetScroll:Ge,scrollBodyRef:Ie,onScroll:zt,container:Qe,direction:d}))}else Gi=h.createElement("div",{style:Se(Se({},ft),wt),className:Me("".concat(r,"-content")),onScroll:zt,ref:Ie},h.createElement(Ki,B({style:Se(Se({},Tt),{},{tableLayout:To})},rr),Tn,vn,b!==!1&&h.createElement(Y8,B({},Pn,we)),Pt,Xe&&h.createElement(tS,{stickyOffsets:lt,flattenColumns:re},Xe)));var Br=h.createElement("div",B({className:Me(r,o,te(te(te(te(te(te(te(te(te(te({},"".concat(r,"-rtl"),d==="rtl"),"".concat(r,"-ping-left"),se),"".concat(r,"-ping-right"),ze),"".concat(r,"-layout-fixed"),u==="fixed"),"".concat(r,"-fixed-header"),st),"".concat(r,"-fixed-column"),Ct),"".concat(r,"-fixed-column-gapped"),Ct&&ee),"".concat(r,"-scroll-horizontal"),pt),"".concat(r,"-has-fix-left"),re[0]&&re[0].fixed),"".concat(r,"-has-fix-right"),re[re.length-1]&&re[re.length-1].fixed==="right")),style:s,id:y,ref:me},Un),f&&h.createElement(J8,{className:"".concat(r,"-title")},f(A)),h.createElement("div",{ref:Re,className:"".concat(r,"-container")},Gi),m&&h.createElement(J8,{className:"".concat(r,"-footer")},m(A)));pt&&(Br=h.createElement(_l,{onResize:Zn},Br));var Vr=o5e(re,lt,d),qo=h.useMemo(function(){return{scrollX:he,prefixCls:r,getComponent:j,scrollbarSize:Et,direction:d,fixedInfoList:Vr,isSticky:De,supportSticky:An,componentWidth:Z,fixHeader:st,fixColumn:Ct,horizonScroll:pt,tableLayout:To,rowClassName:i,expandedRowClassName:X.expandedRowClassName,expandIcon:Ce,expandableType:ue,expandRowByClick:X.expandRowByClick,expandedRowRender:X.expandedRowRender,onTriggerExpand:ge,expandIconColumnIndex:X.expandIconColumnIndex,indentSize:X.indentSize,allColumnsFixedLeft:re.every(function(an){return an.fixed==="left"}),emptyNode:Lt,columns:ie,flattenColumns:re,onColumnResize:en,hoverStartRow:Y,hoverEndRow:U,onHover:q,rowExpandable:X.rowExpandable,onRow:C,getRowKey:L,expandedKeys:_e,childrenColumnName:pe,rowHoverable:D}},[he,r,j,Et,d,Vr,De,An,Z,st,Ct,pt,To,i,X.expandedRowClassName,Ce,ue,X.expandRowByClick,X.expandedRowRender,ge,X.expandIconColumnIndex,X.indentSize,Lt,ie,re,en,Y,U,q,X.rowExpandable,C,L,_e,pe,D]);return h.createElement(ps.Provider,{value:qo},Br)}var m5e=h.forwardRef(p5e);function Ate(t){return wte(m5e,t)}var Fv=Ate();Fv.EXPAND_COLUMN=Bc;Fv.INTERNAL_HOOKS=Tw;Fv.Column=M4e;Fv.ColumnGroup=O4e;Fv.Summary=_te;var Yj=Uj(null),Nte=Uj(null);function g5e(t,e,n){var r=e||1;return n[t+r]-(n[t]||0)}function v5e(t){var e=t.rowInfo,n=t.column,r=t.colIndex,o=t.indent,i=t.index,s=t.component,a=t.renderIndex,l=t.record,c=t.style,u=t.className,d=t.inverse,f=t.getHeight,m=n.render,g=n.dataIndex,v=n.className,y=n.width,b=Ii(Nte,["columnsOffset"]),x=b.columnsOffset,w=kte(e,n,r,o,i),C=w.key,E=w.fixedInfo,_=w.appendCellNode,S=w.additionalCellProps,T=S.style,I=S.colSpan,P=I===void 0?1:I,M=S.rowSpan,R=M===void 0?1:M,k=r-1,D=g5e(k,P,x),A=P>1?y-D:0,N=Se(Se(Se({},T),c),{},{flex:"0 0 ".concat(D,"px"),width:"".concat(D,"px"),marginRight:A,pointerEvents:"auto"}),O=h.useMemo(function(){return d?R<=1:P===0||R===0||R>1},[R,P,d]);O?N.visibility="hidden":d&&(N.height=f==null?void 0:f(R));var j=O?function(){return null}:m,L={};return(R===0||P===0)&&(L.rowSpan=1,L.colSpan=1),h.createElement(Lv,B({className:Me(v,u),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:s,prefixCls:e.prefixCls,key:C,record:l,index:i,renderIndex:a,dataIndex:g,render:j,shouldCellUpdate:n.shouldCellUpdate},E,{appendNode:_,additionalProps:Se(Se({},S),{},{style:N},L)}))}var y5e=["data","index","className","rowKey","style","extra","getHeight"],b5e=h.forwardRef(function(t,e){var n=t.data,r=t.index,o=t.className,i=t.rowKey,s=t.style,a=t.extra,l=t.getHeight,c=cn(t,y5e),u=n.record,d=n.indent,f=n.index,m=Ii(ps,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),g=m.scrollX,v=m.flattenColumns,y=m.prefixCls,b=m.fixColumn,x=m.componentWidth,w=Ii(Yj,["getComponent"]),C=w.getComponent,E=Ite(u,i,r,d),_=C(["body","row"],"div"),S=C(["body","cell"],"div"),T=E.rowSupportExpand,I=E.expanded,P=E.rowProps,M=E.expandedRowRender,R=E.expandedRowClassName,k;if(T&&I){var D=M(u,r,d+1,I),A=Rte(R,u,r,d),N={};b&&(N={style:te({},"--virtual-width","".concat(x,"px"))});var O="".concat(y,"-expanded-row-cell");k=h.createElement(_,{className:Me("".concat(y,"-expanded-row"),"".concat(y,"-expanded-row-level-").concat(d+1),A)},h.createElement(Lv,{component:S,prefixCls:y,className:Me(O,te({},"".concat(O,"-fixed"),b)),additionalProps:N},D))}var j=Se(Se({},s),{},{width:g});a&&(j.position="absolute",j.pointerEvents="none");var L=h.createElement(_,B({},P,c,{"data-row-key":i,ref:T?null:e,className:Me(o,"".concat(y,"-row"),P==null?void 0:P.className,te({},"".concat(y,"-row-extra"),a)),style:Se(Se({},j),P==null?void 0:P.style)}),v.map(function(z,V){return h.createElement(v5e,{key:V,component:S,rowInfo:E,column:z,colIndex:V,indent:d,index:r,renderIndex:f,record:u,inverse:a,getHeight:l})}));return T?h.createElement("div",{ref:e},L,k):L}),eH=jv(b5e),x5e=h.forwardRef(function(t,e){var n=t.data,r=t.onScroll,o=Ii(ps,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),i=o.flattenColumns,s=o.onColumnResize,a=o.getRowKey,l=o.expandedKeys,c=o.prefixCls,u=o.childrenColumnName,d=o.scrollX,f=o.direction,m=Ii(Yj),g=m.sticky,v=m.scrollY,y=m.listItemHeight,b=m.getComponent,x=m.onScroll,w=h.useRef(),C=Tte(n,u,l,a),E=h.useMemo(function(){var k=0;return i.map(function(D){var A=D.width,N=D.key;return k+=A,[N,A,k]})},[i]),_=h.useMemo(function(){return E.map(function(k){return k[2]})},[E]);h.useEffect(function(){E.forEach(function(k){var D=Fe(k,2),A=D[0],N=D[1];s(A,N)})},[E]),h.useImperativeHandle(e,function(){var k,D={scrollTo:function(N){var O;(O=w.current)===null||O===void 0||O.scrollTo(N)},nativeElement:(k=w.current)===null||k===void 0?void 0:k.nativeElement};return Object.defineProperty(D,"scrollLeft",{get:function(){var N;return((N=w.current)===null||N===void 0?void 0:N.getScrollInfo().x)||0},set:function(N){var O;(O=w.current)===null||O===void 0||O.scrollTo({left:N})}}),D});var S=function(D,A){var N,O=(N=C[A])===null||N===void 0?void 0:N.record,j=D.onCell;if(j){var L,z=j(O,A);return(L=z==null?void 0:z.rowSpan)!==null&&L!==void 0?L:1}return 1},T=function(D){var A=D.start,N=D.end,O=D.getSize,j=D.offsetY;if(N<0)return null;for(var L=i.filter(function(Ce){return S(Ce,A)===0}),z=A,V=function(pe){if(L=L.filter(function(ge){return S(ge,pe)===0}),!L.length)return z=pe,1},W=A;W>=0&&!V(W);W-=1);for(var Y=i.filter(function(Ce){return S(Ce,N)!==1}),U=N,q=function(pe){if(Y=Y.filter(function(ge){return S(ge,pe)!==1}),!Y.length)return U=Math.max(pe-1,N),1},K=N;K<C.length&&!q(K);K+=1);for(var J=[],X=function(pe){var ge=C[pe];if(!ge)return 1;i.some(function(F){return S(F,pe)>1})&&J.push(pe)},ue=z;ue<=U;ue+=1)X(ue);var _e=J.map(function(Ce){var pe=C[Ce],ge=a(pe.record,Ce),F=function(Z){var Q=Ce+Z-1,ye=a(C[Q].record,Q),fe=O(ge,ye);return fe.bottom-fe.top},ce=O(ge);return h.createElement(eH,{key:Ce,data:pe,rowKey:ge,index:Ce,style:{top:-j+ce.top},extra:!0,getHeight:F})});return _e},I=h.useMemo(function(){return{columnsOffset:_}},[_]),P="".concat(c,"-tbody"),M=b(["body","wrapper"]),R={};return g&&(R.position="sticky",R.bottom=0,At(g)==="object"&&g.offsetScroll&&(R.bottom=g.offsetScroll)),h.createElement(Nte.Provider,{value:I},h.createElement(RT,{fullHeight:!1,ref:w,prefixCls:"".concat(P,"-virtual"),styles:{horizontalScrollBar:R},className:P,height:v,itemHeight:y||24,data:C,itemKey:function(D){return a(D.record)},component:M,scrollWidth:d,direction:f,onVirtualScroll:function(D){var A,N=D.x;r({currentTarget:(A=w.current)===null||A===void 0?void 0:A.nativeElement,scrollLeft:N})},onScroll:x,extraRender:T},function(k,D,A){var N=a(k.record,D);return h.createElement(eH,{data:k,rowKey:N,index:D,style:A.style})}))}),w5e=jv(x5e),S5e=function(e,n){var r=n.ref,o=n.onScroll;return h.createElement(w5e,{ref:r,data:e,onScroll:o})};function C5e(t,e){var n=t.data,r=t.columns,o=t.scroll,i=t.sticky,s=t.prefixCls,a=s===void 0?Ote:s,l=t.className,c=t.listItemHeight,u=t.components,d=t.onScroll,f=o||{},m=f.x,g=f.y;typeof m!="number"&&(m=1),typeof g!="number"&&(g=500);var v=br(function(x,w){return Js(u,x)||w}),y=br(d),b=h.useMemo(function(){return{sticky:i,scrollY:g,listItemHeight:c,getComponent:v,onScroll:y}},[i,g,c,v,y]);return h.createElement(Yj.Provider,{value:b},h.createElement(Fv,B({},t,{className:Me(l,"".concat(a,"-virtual")),scroll:Se(Se({},o),{},{x:m}),components:Se(Se({},u),{},{body:n!=null&&n.length?S5e:void 0}),columns:r,internalHooks:Tw,tailor:!0,ref:e})))}var _5e=h.forwardRef(C5e);function jte(t){return wte(_5e,t)}jte();const E5e=t=>null,T5e=t=>null;var Xj=h.createContext(null),I5e=h.createContext({}),P5e=function(e){for(var n=e.prefixCls,r=e.level,o=e.isStart,i=e.isEnd,s="".concat(n,"-indent-unit"),a=[],l=0;l<r;l+=1)a.push(h.createElement("span",{key:l,className:Me(s,te(te({},"".concat(s,"-start"),o[l]),"".concat(s,"-end"),i[l]))}));return h.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},a)};const R5e=h.memo(P5e);var k5e=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],tH="open",nH="close",D5e="---",gx=function(e){var n,r,o,i=e.eventKey,s=e.className,a=e.style,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.isLeaf,f=e.isStart,m=e.isEnd,g=e.expanded,v=e.selected,y=e.checked,b=e.halfChecked,x=e.loading,w=e.domRef,C=e.active,E=e.data,_=e.onMouseMove,S=e.selectable,T=cn(e,k5e),I=oe.useContext(Xj),P=oe.useContext(I5e),M=oe.useRef(null),R=oe.useState(!1),k=Fe(R,2),D=k[0],A=k[1],N=!!(I.disabled||e.disabled||(n=P.nodeDisabled)!==null&&n!==void 0&&n.call(P,E)),O=oe.useMemo(function(){return!I.checkable||e.checkable===!1?!1:I.checkable},[I.checkable,e.checkable]),j=function(ne){N||I.onNodeSelect(ne,Lo(e))},L=function(ne){N||!O||e.disableCheckbox||I.onNodeCheck(ne,Lo(e),!y)},z=oe.useMemo(function(){return typeof S=="boolean"?S:I.selectable},[S,I.selectable]),V=function(ne){I.onNodeClick(ne,Lo(e)),z?j(ne):L(ne)},W=function(ne){I.onNodeDoubleClick(ne,Lo(e))},Y=function(ne){I.onNodeMouseEnter(ne,Lo(e))},U=function(ne){I.onNodeMouseLeave(ne,Lo(e))},q=function(ne){I.onNodeContextMenu(ne,Lo(e))},K=oe.useMemo(function(){return!!(I.draggable&&(!I.draggable.nodeDraggable||I.draggable.nodeDraggable(E)))},[I.draggable,E]),J=function(ne){ne.stopPropagation(),A(!0),I.onNodeDragStart(ne,e);try{ne.dataTransfer.setData("text/plain","")}catch{}},X=function(ne){ne.preventDefault(),ne.stopPropagation(),I.onNodeDragEnter(ne,e)},ue=function(ne){ne.preventDefault(),ne.stopPropagation(),I.onNodeDragOver(ne,e)},_e=function(ne){ne.stopPropagation(),I.onNodeDragLeave(ne,e)},Ce=function(ne){ne.stopPropagation(),A(!1),I.onNodeDragEnd(ne,e)},pe=function(ne){ne.preventDefault(),ne.stopPropagation(),A(!1),I.onNodeDrop(ne,e)},ge=function(ne){x||I.onNodeExpand(ne,Lo(e))},F=oe.useMemo(function(){var $e=Ss(I.keyEntities,i)||{},ne=$e.children;return!!(ne||[]).length},[I.keyEntities,i]),ce=oe.useMemo(function(){return d===!1?!1:d||!I.loadData&&!F||I.loadData&&e.loaded&&!F},[d,I.loadData,F,e.loaded]);oe.useEffect(function(){x||typeof I.loadData=="function"&&g&&!ce&&!e.loaded&&I.onNodeLoad(Lo(e))},[x,I.loadData,I.onNodeLoad,g,ce,e]);var le=oe.useMemo(function(){var $e;return($e=I.draggable)!==null&&$e!==void 0&&$e.icon?oe.createElement("span",{className:"".concat(I.prefixCls,"-draggable-icon")},I.draggable.icon):null},[I.draggable]),Z=function(ne){var xe=e.switcherIcon||I.switcherIcon;return typeof xe=="function"?xe(Se(Se({},e),{},{isLeaf:ne})):xe},Q=function(){if(ce){var ne=Z(!0);return ne!==!1?oe.createElement("span",{className:Me("".concat(I.prefixCls,"-switcher"),"".concat(I.prefixCls,"-switcher-noop"))},ne):null}var xe=Z(!1);return xe!==!1?oe.createElement("span",{onClick:ge,className:Me("".concat(I.prefixCls,"-switcher"),"".concat(I.prefixCls,"-switcher_").concat(g?tH:nH))},xe):null},ye=oe.useMemo(function(){if(!O)return null;var $e=typeof O!="boolean"?O:null;return oe.createElement("span",{className:Me("".concat(I.prefixCls,"-checkbox"),te(te(te({},"".concat(I.prefixCls,"-checkbox-checked"),y),"".concat(I.prefixCls,"-checkbox-indeterminate"),!y&&b),"".concat(I.prefixCls,"-checkbox-disabled"),N||e.disableCheckbox)),onClick:L,role:"checkbox","aria-checked":b?"mixed":y,"aria-disabled":N||e.disableCheckbox,"aria-label":"Select ".concat(typeof e.title=="string"?e.title:"tree node")},$e)},[O,y,b,N,e.disableCheckbox,e.title]),fe=oe.useMemo(function(){return ce?null:g?tH:nH},[ce,g]),ie=oe.useMemo(function(){return oe.createElement("span",{className:Me("".concat(I.prefixCls,"-iconEle"),"".concat(I.prefixCls,"-icon__").concat(fe||"docu"),te({},"".concat(I.prefixCls,"-icon_loading"),x))})},[I.prefixCls,fe,x]),re=oe.useMemo(function(){var $e=!!I.draggable,ne=!e.disabled&&$e&&I.dragOverNodeKey===i;return ne?I.dropIndicatorRender({dropPosition:I.dropPosition,dropLevelOffset:I.dropLevelOffset,indent:I.indent,prefixCls:I.prefixCls,direction:I.direction}):null},[I.dropPosition,I.dropLevelOffset,I.indent,I.prefixCls,I.direction,I.draggable,I.dragOverNodeKey,I.dropIndicatorRender]),ve=oe.useMemo(function(){var $e=e.title,ne=$e===void 0?D5e:$e,xe="".concat(I.prefixCls,"-node-content-wrapper"),se;if(I.showIcon){var ae=e.icon||I.icon;se=ae?oe.createElement("span",{className:Me("".concat(I.prefixCls,"-iconEle"),"".concat(I.prefixCls,"-icon__customize"))},typeof ae=="function"?ae(e):ae):ie}else I.loadData&&x&&(se=ie);var Ee;return typeof ne=="function"?Ee=ne(E):I.titleRender?Ee=I.titleRender(E):Ee=ne,oe.createElement("span",{ref:M,title:typeof ne=="string"?ne:"",className:Me(xe,"".concat(xe,"-").concat(fe||"normal"),te({},"".concat(I.prefixCls,"-node-selected"),!N&&(v||D))),onMouseEnter:Y,onMouseLeave:U,onContextMenu:q,onClick:V,onDoubleClick:W},se,oe.createElement("span",{className:"".concat(I.prefixCls,"-title")},Ee),re)},[I.prefixCls,I.showIcon,e,I.icon,ie,I.titleRender,E,fe,Y,U,q,V,W]),ee=us(T,{aria:!0,data:!0}),he=Ss(I.keyEntities,i)||{},we=he.level,me=m[m.length-1],ke=!N&&K,Ie=I.draggingNodeKey===i,Re=S!==void 0?{"aria-selected":!!S}:void 0;return oe.createElement("div",B({ref:w,role:"treeitem","aria-expanded":d?void 0:g,className:Me(s,"".concat(I.prefixCls,"-treenode"),(o={},te(te(te(te(te(te(te(te(te(te(o,"".concat(I.prefixCls,"-treenode-disabled"),N),"".concat(I.prefixCls,"-treenode-switcher-").concat(g?"open":"close"),!d),"".concat(I.prefixCls,"-treenode-checkbox-checked"),y),"".concat(I.prefixCls,"-treenode-checkbox-indeterminate"),b),"".concat(I.prefixCls,"-treenode-selected"),v),"".concat(I.prefixCls,"-treenode-loading"),x),"".concat(I.prefixCls,"-treenode-active"),C),"".concat(I.prefixCls,"-treenode-leaf-last"),me),"".concat(I.prefixCls,"-treenode-draggable"),K),"dragging",Ie),te(te(te(te(te(te(te(o,"drop-target",I.dropTargetKey===i),"drop-container",I.dropContainerKey===i),"drag-over",!N&&l),"drag-over-gap-top",!N&&c),"drag-over-gap-bottom",!N&&u),"filter-node",(r=I.filterTreeNode)===null||r===void 0?void 0:r.call(I,Lo(e))),"".concat(I.prefixCls,"-treenode-leaf"),ce))),style:a,draggable:ke,onDragStart:ke?J:void 0,onDragEnter:K?X:void 0,onDragOver:K?ue:void 0,onDragLeave:K?_e:void 0,onDrop:K?pe:void 0,onDragEnd:K?Ce:void 0,onMouseMove:_},Re,ee),oe.createElement(R5e,{prefixCls:I.prefixCls,level:we,isStart:f,isEnd:m}),le,Q(),ye,ve)};gx.isTreeNode=1;function Ml(t,e){if(!t)return[];var n=t.slice(),r=n.indexOf(e);return r>=0&&n.splice(r,1),n}function Fc(t,e){var n=(t||[]).slice();return n.indexOf(e)===-1&&n.push(e),n}function Qj(t){return t.split("-")}function $5e(t,e){var n=[],r=Ss(e,t);function o(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(function(s){var a=s.key,l=s.children;n.push(a),o(l)})}return o(r.children),n}function M5e(t){if(t.parent){var e=Qj(t.pos);return Number(e[e.length-1])===t.parent.children.length-1}return!1}function O5e(t){var e=Qj(t.pos);return Number(e[e.length-1])===0}function rH(t,e,n,r,o,i,s,a,l,c){var u,d=t.clientX,f=t.clientY,m=t.target.getBoundingClientRect(),g=m.top,v=m.height,y=(c==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-d),b=(y-12)/r,x=l.filter(function(N){var O;return(O=a[N])===null||O===void 0||(O=O.children)===null||O===void 0?void 0:O.length}),w=Ss(a,n.eventKey);if(f<g+v/2){var C=s.findIndex(function(N){return N.key===w.key}),E=C<=0?0:C-1,_=s[E].key;w=Ss(a,_)}var S=w.key,T=w,I=w.key,P=0,M=0;if(!x.includes(S))for(var R=0;R<b&&M5e(w);R+=1)w=w.parent,M+=1;var k=e.data,D=w.node,A=!0;return O5e(w)&&w.level===0&&f<g+v/2&&i({dragNode:k,dropNode:D,dropPosition:-1})&&w.key===n.eventKey?P=-1:(T.children||[]).length&&x.includes(I)?i({dragNode:k,dropNode:D,dropPosition:0})?P=0:A=!1:M===0?b>-1.5?i({dragNode:k,dropNode:D,dropPosition:1})?P=1:A=!1:i({dragNode:k,dropNode:D,dropPosition:0})?P=0:i({dragNode:k,dropNode:D,dropPosition:1})?P=1:A=!1:i({dragNode:k,dropNode:D,dropPosition:1})?P=1:A=!1,{dropPosition:P,dropLevelOffset:M,dropTargetKey:w.key,dropTargetPos:w.pos,dragOverNodeKey:I,dropContainerKey:P===0?null:((u=w.parent)===null||u===void 0?void 0:u.key)||null,dropAllowed:A}}function oH(t,e){if(t){var n=e.multiple;return n?t.slice():t.length?[t[0]]:t}}function KR(t){if(!t)return null;var e;if(Array.isArray(t))e={checkedKeys:t,halfCheckedKeys:void 0};else if(At(t)==="object")e={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return Jr(!1,"`checkedKeys` is not an array or an object"),null;return e}function $M(t,e){var n=new Set;function r(o){if(!n.has(o)){var i=Ss(e,o);if(i){n.add(o);var s=i.parent,a=i.node;a.disabled||s&&r(s.key)}}}return(t||[]).forEach(function(o){r(o)}),at(n)}function A5e(t){const[e,n]=h.useState(null);return[h.useCallback((i,s,a)=>{const l=e??i,c=Math.min(l||0,i),u=Math.max(l||0,i),d=s.slice(c,u+1).map(g=>t(g)),f=d.some(g=>!a.has(g)),m=[];return d.forEach(g=>{f?(a.has(g)||m.push(g),a.add(g)):(a.delete(g),m.push(g))}),n(f?u:null),m},[e]),i=>{n(i)}]}const rd={},MM="SELECT_ALL",OM="SELECT_INVERT",AM="SELECT_NONE",iH=[],Lte=(t,e)=>{let n=[];return(e||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&t in r&&(n=[].concat(at(n),at(Lte(t,r[t]))))}),n},N5e=(t,e)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:o,getCheckboxProps:i,onChange:s,onSelect:a,onSelectAll:l,onSelectInvert:c,onSelectNone:u,onSelectMultiple:d,columnWidth:f,type:m,selections:g,fixed:v,renderCell:y,hideSelectAll:b,checkStrictly:x=!0}=e||{},{prefixCls:w,data:C,pageData:E,getRecordByKey:_,getRowKey:S,expandType:T,childrenColumnName:I,locale:P,getPopupContainer:M}=t,R=yp(),[k,D]=A5e(Ce=>Ce),[A,N]=Wo(r||o||iH,{value:r}),O=h.useRef(new Map),j=h.useCallback(Ce=>{if(n){const pe=new Map;Ce.forEach(ge=>{let F=_(ge);!F&&O.current.has(ge)&&(F=O.current.get(ge)),pe.set(ge,F)}),O.current=pe}},[_,n]);h.useEffect(()=>{j(A)},[A]);const L=h.useMemo(()=>Lte(I,E),[I,E]),{keyEntities:z}=h.useMemo(()=>{if(x)return{keyEntities:null};let Ce=C;if(n){const pe=new Set(L.map((F,ce)=>S(F,ce))),ge=Array.from(O.current).reduce((F,ce)=>{let[le,Z]=ce;return pe.has(le)?F:F.concat(Z)},[]);Ce=[].concat(at(Ce),at(ge))}return Hj(Ce,{externalGetKey:S,childrenPropName:I})},[C,S,x,I,n,L]),V=h.useMemo(()=>{const Ce=new Map;return L.forEach((pe,ge)=>{const F=S(pe,ge),ce=(i?i(pe):null)||{};Ce.set(F,ce)}),Ce},[L,S,i]),W=h.useCallback(Ce=>{const pe=S(Ce);let ge;return V.has(pe)?ge=V.get(S(Ce)):ge=i?i(Ce):void 0,!!(ge!=null&&ge.disabled)},[V,S]),[Y,U]=h.useMemo(()=>{if(x)return[A||[],[]];const{checkedKeys:Ce,halfCheckedKeys:pe}=ug(A,!0,z,W);return[Ce||[],pe]},[A,x,z,W]),q=h.useMemo(()=>{const Ce=m==="radio"?Y.slice(0,1):Y;return new Set(Ce)},[Y,m]),K=h.useMemo(()=>m==="radio"?new Set:new Set(U),[U,m]);h.useEffect(()=>{e||N(iH)},[!!e]);const J=h.useCallback((Ce,pe)=>{let ge,F;j(Ce),n?(ge=Ce,F=Ce.map(ce=>O.current.get(ce))):(ge=[],F=[],Ce.forEach(ce=>{const le=_(ce);le!==void 0&&(ge.push(ce),F.push(le))})),N(ge),s==null||s(ge,F,{type:pe})},[N,_,s,n]),X=h.useCallback((Ce,pe,ge,F)=>{if(a){const ce=ge.map(le=>_(le));a(_(Ce),pe,ce,F)}J(ge,"single")},[a,_,J]),ue=h.useMemo(()=>!g||b?null:(g===!0?[MM,OM,AM]:g).map(pe=>pe===MM?{key:"all",text:P.selectionAll,onSelect(){J(C.map((ge,F)=>S(ge,F)).filter(ge=>{const F=V.get(ge);return!(F!=null&&F.disabled)||q.has(ge)}),"all")}}:pe===OM?{key:"invert",text:P.selectInvert,onSelect(){const ge=new Set(q);E.forEach((ce,le)=>{const Z=S(ce,le),Q=V.get(Z);Q!=null&&Q.disabled||(ge.has(Z)?ge.delete(Z):ge.add(Z))});const F=Array.from(ge);c&&(R.deprecated(!1,"onSelectInvert","onChange"),c(F)),J(F,"invert")}}:pe===AM?{key:"none",text:P.selectNone,onSelect(){u==null||u(),J(Array.from(q).filter(ge=>{const F=V.get(ge);return F==null?void 0:F.disabled}),"none")}}:pe).map(pe=>Object.assign(Object.assign({},pe),{onSelect:function(){for(var ge,F,ce=arguments.length,le=new Array(ce),Z=0;Z<ce;Z++)le[Z]=arguments[Z];(F=pe.onSelect)===null||F===void 0||(ge=F).call.apply(ge,[pe].concat(le)),D(null)}})),[g,q,E,S,c,J]);return[h.useCallback(Ce=>{var pe;if(!e)return Ce.filter(Re=>Re!==rd);let ge=at(Ce);const F=new Set(q),ce=L.map(S).filter(Re=>!V.get(Re).disabled),le=ce.every(Re=>F.has(Re)),Z=ce.some(Re=>F.has(Re)),Q=()=>{const Re=[];le?ce.forEach(ne=>{F.delete(ne),Re.push(ne)}):ce.forEach(ne=>{F.has(ne)||(F.add(ne),Re.push(ne))});const $e=Array.from(F);l==null||l(!le,$e.map(ne=>_(ne)),Re.map(ne=>_(ne))),J($e,"all"),D(null)};let ye,fe;if(m!=="radio"){let Re;if(ue){const ae={getPopupContainer:M,items:ue.map((Ee,Le)=>{const{key:ze,text:We,onSelect:Ze}=Ee;return{key:ze??Le,onClick:()=>{Ze==null||Ze(ce)},label:We}})};Re=h.createElement("div",{className:`${w}-selection-extra`},h.createElement(Wj,{menu:ae,getPopupContainer:M},h.createElement("span",null,h.createElement(dee,null))))}const $e=L.map((ae,Ee)=>{const Le=S(ae,Ee),ze=V.get(Le)||{};return Object.assign({checked:F.has(Le)},ze)}).filter(ae=>{let{disabled:Ee}=ae;return Ee}),ne=!!$e.length&&$e.length===L.length,xe=ne&&$e.every(ae=>{let{checked:Ee}=ae;return Ee}),se=ne&&$e.some(ae=>{let{checked:Ee}=ae;return Ee});fe=h.createElement(cf,{checked:ne?xe:!!L.length&&le,indeterminate:ne?!xe&&se:!le&&Z,onChange:Q,disabled:L.length===0||ne,"aria-label":Re?"Custom selection":"Select all",skipGroup:!0}),ye=!b&&h.createElement("div",{className:`${w}-selection`},fe,Re)}let ie;m==="radio"?ie=(Re,$e,ne)=>{const xe=S($e,ne),se=F.has(xe),ae=V.get(xe);return{node:h.createElement(ww,Object.assign({},ae,{checked:se,onClick:Ee=>{var Le;Ee.stopPropagation(),(Le=ae==null?void 0:ae.onClick)===null||Le===void 0||Le.call(ae,Ee)},onChange:Ee=>{var Le;F.has(xe)||X(xe,!0,[xe],Ee.nativeEvent),(Le=ae==null?void 0:ae.onChange)===null||Le===void 0||Le.call(ae,Ee)}})),checked:se}}:ie=(Re,$e,ne)=>{var xe;const se=S($e,ne),ae=F.has(se),Ee=K.has(se),Le=V.get(se);let ze;return T==="nest"?ze=Ee:ze=(xe=Le==null?void 0:Le.indeterminate)!==null&&xe!==void 0?xe:Ee,{node:h.createElement(cf,Object.assign({},Le,{indeterminate:ze,checked:ae,skipGroup:!0,onClick:We=>{var Ze;We.stopPropagation(),(Ze=Le==null?void 0:Le.onClick)===null||Ze===void 0||Ze.call(Le,We)},onChange:We=>{var Ze;const{nativeEvent:dt}=We,{shiftKey:de}=dt,je=ce.findIndex(tt=>tt===se),Ve=Y.some(tt=>ce.includes(tt));if(de&&x&&Ve){const tt=k(je,ce,F),Be=Array.from(F);d==null||d(!ae,Be.map(lt=>_(lt)),tt.map(lt=>_(lt))),J(Be,"multiple")}else{const tt=Y;if(x){const Be=ae?Ml(tt,se):Fc(tt,se);X(se,!ae,Be,dt)}else{const Be=ug([].concat(at(tt),[se]),!0,z,W),{checkedKeys:lt,halfCheckedKeys:st}=Be;let pt=lt;if(ae){const Ct=new Set(lt);Ct.delete(se),pt=ug(Array.from(Ct),{halfCheckedKeys:st},z,W).checkedKeys}X(se,!ae,pt,dt)}}D(ae?null:je),(Ze=Le==null?void 0:Le.onChange)===null||Ze===void 0||Ze.call(Le,We)}})),checked:ae}};const re=(Re,$e,ne)=>{const{node:xe,checked:se}=ie(Re,$e,ne);return y?y(se,$e,ne,xe):xe};if(!ge.includes(rd))if(ge.findIndex(Re=>{var $e;return(($e=Re[G0])===null||$e===void 0?void 0:$e.columnType)==="EXPAND_COLUMN"})===0){const[Re,...$e]=ge;ge=[Re,rd].concat(at($e))}else ge=[rd].concat(at(ge));const ve=ge.indexOf(rd);ge=ge.filter((Re,$e)=>Re!==rd||$e===ve);const ee=ge[ve-1],he=ge[ve+1];let we=v;we===void 0&&((he==null?void 0:he.fixed)!==void 0?we=he.fixed:(ee==null?void 0:ee.fixed)!==void 0&&(we=ee.fixed)),we&&ee&&((pe=ee[G0])===null||pe===void 0?void 0:pe.columnType)==="EXPAND_COLUMN"&&ee.fixed===void 0&&(ee.fixed=we);const me=Me(`${w}-selection-col`,{[`${w}-selection-col-with-dropdown`]:g&&m==="checkbox"}),ke=()=>e!=null&&e.columnTitle?typeof e.columnTitle=="function"?e.columnTitle(fe):e.columnTitle:ye,Ie={fixed:we,width:f,className:`${w}-selection-column`,title:ke(),render:re,onCell:e.onCell,[G0]:{className:me}};return ge.map(Re=>Re===rd?Ie:Re)},[S,L,e,Y,q,K,f,ue,T,V,d,X,W]),q]};function j5e(t,e){return t._antProxy=t._antProxy||{},Object.keys(e).forEach(n=>{if(!(n in t._antProxy)){const r=t[n];t._antProxy[n]=r,t[n]=e[n]}}),t}function L5e(t,e){return h.useImperativeHandle(t,()=>{const n=e(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(o,i){return n[i]?n[i]:Reflect.get(o,i)}}):j5e(r,n)})}function F5e(t){return e=>{const{prefixCls:n,onExpand:r,record:o,expanded:i,expandable:s}=e,a=`${n}-row-expand-icon`;return h.createElement("button",{type:"button",onClick:l=>{r(o,l),l.stopPropagation()},className:Me(a,{[`${a}-spaced`]:!s,[`${a}-expanded`]:s&&i,[`${a}-collapsed`]:s&&!i}),"aria-label":i?t.collapse:t.expand,"aria-expanded":i})}}function z5e(t){return(n,r)=>{const o=n.querySelector(`.${t}-container`);let i=r;if(o){const s=getComputedStyle(o),a=parseInt(s.borderLeftWidth,10),l=parseInt(s.borderRightWidth,10);i=r-a-l}return i}}const uf=(t,e)=>"key"in t&&t.key!==void 0&&t.key!==null?t.key:t.dataIndex?Array.isArray(t.dataIndex)?t.dataIndex.join("."):t.dataIndex:e;function zv(t,e){return e?`${e}-${t}`:`${t}`}const FT=(t,e)=>typeof t=="function"?t(e):t,B5e=(t,e)=>{const n=FT(t,e);return Object.prototype.toString.call(n)==="[object Object]"?"":n};function V5e(t){const e=h.useRef(t),n=hee();return[()=>e.current,r=>{e.current=r,n()}]}var H5e=function(e){var n=e.dropPosition,r=e.dropLevelOffset,o=e.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:i.top=0,i.left=-r*o;break;case 1:i.bottom=0,i.left=-r*o;break;case 0:i.bottom=0,i.left=o;break}return oe.createElement("div",{style:i})};function Fte(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function W5e(t,e){var n=h.useState(!1),r=Fe(n,2),o=r[0],i=r[1];nr(function(){if(o)return t(),function(){e()}},[o]),nr(function(){return i(!0),function(){i(!1)}},[])}var U5e=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],q5e=h.forwardRef(function(t,e){var n=t.className,r=t.style,o=t.motion,i=t.motionNodes,s=t.motionType,a=t.onMotionStart,l=t.onMotionEnd,c=t.active,u=t.treeNodeRequiredProps,d=cn(t,U5e),f=h.useState(!0),m=Fe(f,2),g=m[0],v=m[1],y=h.useContext(Xj),b=y.prefixCls,x=i&&s!=="hide";nr(function(){i&&x!==g&&v(x)},[i]);var w=function(){i&&a()},C=h.useRef(!1),E=function(){i&&!C.current&&(C.current=!0,l())};W5e(w,E);var _=function(T){x===T&&E()};return i?h.createElement(Mu,B({ref:e,visible:g},o,{motionAppear:s==="show",onVisibleChanged:_}),function(S,T){var I=S.className,P=S.style;return h.createElement("div",{ref:T,className:Me("".concat(b,"-treenode-motion"),I),style:P},i.map(function(M){var R=Object.assign({},(Fte(M.data),M.data)),k=M.title,D=M.key,A=M.isStart,N=M.isEnd;delete R.children;var O=K0(D,u);return h.createElement(gx,B({},R,O,{title:k,active:c,data:M.data,key:D,isStart:A,isEnd:N}))}))}):h.createElement(gx,B({domRef:e,className:n,style:r},d,{active:c}))});function K5e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.length,r=e.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function o(i,s){var a=new Map;i.forEach(function(c){a.set(c,!0)});var l=s.filter(function(c){return!a.has(c)});return l.length===1?l[0]:null}return n<r?{add:!0,key:o(t,e)}:{add:!1,key:o(e,t)}}function sH(t,e,n){var r=t.findIndex(function(a){return a.key===n}),o=t[r+1],i=e.findIndex(function(a){return a.key===n});if(o){var s=e.findIndex(function(a){return a.key===o.key});return e.slice(i+1,s)}return e.slice(i+1)}var G5e=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],aH={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Y5e=function(){},Zh="RC_TREE_MOTION_".concat(Math.random()),NM={key:Zh},zte={key:Zh,level:0,index:0,pos:"0",node:NM,nodes:[NM]},lH={parent:null,children:[],pos:zte.pos,data:NM,title:null,key:Zh,isStart:[],isEnd:[]};function cH(t,e,n,r){return e===!1||!n?t:t.slice(0,Math.ceil(n/r)+1)}function uH(t){var e=t.key,n=t.pos;return _w(e,n)}function X5e(t){for(var e=String(t.data.key),n=t;n.parent;)n=n.parent,e="".concat(n.data.key," > ").concat(e);return e}var Q5e=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.data;t.selectable,t.checkable;var o=t.expandedKeys,i=t.selectedKeys,s=t.checkedKeys,a=t.loadedKeys,l=t.loadingKeys,c=t.halfCheckedKeys,u=t.keyEntities,d=t.disabled,f=t.dragging,m=t.dragOverNodeKey,g=t.dropPosition,v=t.motion,y=t.height,b=t.itemHeight,x=t.virtual,w=t.scrollWidth,C=t.focusable,E=t.activeItem,_=t.focused,S=t.tabIndex,T=t.onKeyDown,I=t.onFocus,P=t.onBlur,M=t.onActiveChange,R=t.onListChangeStart,k=t.onListChangeEnd,D=cn(t,G5e),A=h.useRef(null),N=h.useRef(null);h.useImperativeHandle(e,function(){return{scrollTo:function(re){A.current.scrollTo(re)},getIndentWidth:function(){return N.current.offsetWidth}}});var O=h.useState(o),j=Fe(O,2),L=j[0],z=j[1],V=h.useState(r),W=Fe(V,2),Y=W[0],U=W[1],q=h.useState(r),K=Fe(q,2),J=K[0],X=K[1],ue=h.useState([]),_e=Fe(ue,2),Ce=_e[0],pe=_e[1],ge=h.useState(null),F=Fe(ge,2),ce=F[0],le=F[1],Z=h.useRef(r);Z.current=r;function Q(){var ie=Z.current;U(ie),X(ie),pe([]),le(null),k()}nr(function(){z(o);var ie=K5e(L,o);if(ie.key!==null)if(ie.add){var re=Y.findIndex(function(ke){var Ie=ke.key;return Ie===ie.key}),ve=cH(sH(Y,r,ie.key),x,y,b),ee=Y.slice();ee.splice(re+1,0,lH),X(ee),pe(ve),le("show")}else{var he=r.findIndex(function(ke){var Ie=ke.key;return Ie===ie.key}),we=cH(sH(r,Y,ie.key),x,y,b),me=r.slice();me.splice(he+1,0,lH),X(me),pe(we),le("hide")}else Y!==r&&(U(r),X(r))},[o,r]),h.useEffect(function(){f||Q()},[f]);var ye=v?J:r,fe={expandedKeys:o,selectedKeys:i,loadedKeys:a,loadingKeys:l,checkedKeys:s,halfCheckedKeys:c,dragOverNodeKey:m,dropPosition:g,keyEntities:u};return h.createElement(h.Fragment,null,_&&E&&h.createElement("span",{style:aH,"aria-live":"assertive"},X5e(E)),h.createElement("div",null,h.createElement("input",{style:aH,disabled:C===!1||d,tabIndex:C!==!1?S:null,onKeyDown:T,onFocus:I,onBlur:P,value:"",onChange:Y5e,"aria-label":"for screen reader"})),h.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},h.createElement("div",{className:"".concat(n,"-indent")},h.createElement("div",{ref:N,className:"".concat(n,"-indent-unit")}))),h.createElement(RT,B({},D,{data:ye,itemKey:uH,height:y,fullHeight:!1,virtual:x,itemHeight:b,scrollWidth:w,prefixCls:"".concat(n,"-list"),ref:A,role:"tree",onVisibleChange:function(re){re.every(function(ve){return uH(ve)!==Zh})&&Q()}}),function(ie){var re=ie.pos,ve=Object.assign({},(Fte(ie.data),ie.data)),ee=ie.title,he=ie.key,we=ie.isStart,me=ie.isEnd,ke=_w(he,re);delete ve.key,delete ve.children;var Ie=K0(ke,fe);return h.createElement(q5e,B({},ve,Ie,{title:ee,active:!!E&&he===E.key,pos:re,data:ie.data,isStart:we,isEnd:me,motion:v,motionNodes:he===Zh?Ce:null,motionType:ce,onMotionStart:R,onMotionEnd:Q,treeNodeRequiredProps:fe,onMouseMove:function(){M(null)}}))}))}),J5e=10,Jj=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"destroyed",!1),te(et(r),"delayedDragEnterLogic",void 0),te(et(r),"loadingRetryTimes",{}),te(et(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Zg()}),te(et(r),"dragStartMousePosition",null),te(et(r),"dragNodeProps",null),te(et(r),"currentMouseOverDroppableNodeKey",null),te(et(r),"listRef",h.createRef()),te(et(r),"onNodeDragStart",function(a,l){var c=r.state,u=c.expandedKeys,d=c.keyEntities,f=r.props.onDragStart,m=l.eventKey;r.dragNodeProps=l,r.dragStartMousePosition={x:a.clientX,y:a.clientY};var g=Ml(u,m);r.setState({draggingNodeKey:m,dragChildrenKeys:$5e(m,d),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(g),window.addEventListener("dragend",r.onWindowDragEnd),f==null||f({event:a,node:Lo(l)})}),te(et(r),"onNodeDragEnter",function(a,l){var c=r.state,u=c.expandedKeys,d=c.keyEntities,f=c.dragChildrenKeys,m=c.flattenNodes,g=c.indent,v=r.props,y=v.onDragEnter,b=v.onExpand,x=v.allowDrop,w=v.direction,C=l.pos,E=l.eventKey;if(r.currentMouseOverDroppableNodeKey!==E&&(r.currentMouseOverDroppableNodeKey=E),!r.dragNodeProps){r.resetDragState();return}var _=rH(a,r.dragNodeProps,l,g,r.dragStartMousePosition,x,m,d,u,w),S=_.dropPosition,T=_.dropLevelOffset,I=_.dropTargetKey,P=_.dropContainerKey,M=_.dropTargetPos,R=_.dropAllowed,k=_.dragOverNodeKey;if(f.includes(I)||!R){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(D){clearTimeout(r.delayedDragEnterLogic[D])}),r.dragNodeProps.eventKey!==l.eventKey&&(a.persist(),r.delayedDragEnterLogic[C]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var D=at(u),A=Ss(d,l.eventKey);A&&(A.children||[]).length&&(D=Fc(u,l.eventKey)),r.props.hasOwnProperty("expandedKeys")||r.setExpandedKeys(D),b==null||b(D,{node:Lo(l),expanded:!0,nativeEvent:a.nativeEvent})}},800)),r.dragNodeProps.eventKey===I&&T===0){r.resetDragState();return}r.setState({dragOverNodeKey:k,dropPosition:S,dropLevelOffset:T,dropTargetKey:I,dropContainerKey:P,dropTargetPos:M,dropAllowed:R}),y==null||y({event:a,node:Lo(l),expandedKeys:u})}),te(et(r),"onNodeDragOver",function(a,l){var c=r.state,u=c.dragChildrenKeys,d=c.flattenNodes,f=c.keyEntities,m=c.expandedKeys,g=c.indent,v=r.props,y=v.onDragOver,b=v.allowDrop,x=v.direction;if(r.dragNodeProps){var w=rH(a,r.dragNodeProps,l,g,r.dragStartMousePosition,b,d,f,m,x),C=w.dropPosition,E=w.dropLevelOffset,_=w.dropTargetKey,S=w.dropContainerKey,T=w.dropTargetPos,I=w.dropAllowed,P=w.dragOverNodeKey;u.includes(_)||!I||(r.dragNodeProps.eventKey===_&&E===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():C===r.state.dropPosition&&E===r.state.dropLevelOffset&&_===r.state.dropTargetKey&&S===r.state.dropContainerKey&&T===r.state.dropTargetPos&&I===r.state.dropAllowed&&P===r.state.dragOverNodeKey||r.setState({dropPosition:C,dropLevelOffset:E,dropTargetKey:_,dropContainerKey:S,dropTargetPos:T,dropAllowed:I,dragOverNodeKey:P}),y==null||y({event:a,node:Lo(l)}))}}),te(et(r),"onNodeDragLeave",function(a,l){r.currentMouseOverDroppableNodeKey===l.eventKey&&!a.currentTarget.contains(a.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var c=r.props.onDragLeave;c==null||c({event:a,node:Lo(l)})}),te(et(r),"onWindowDragEnd",function(a){r.onNodeDragEnd(a,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),te(et(r),"onNodeDragEnd",function(a,l){var c=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),c==null||c({event:a,node:Lo(l)}),r.dragNodeProps=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),te(et(r),"onNodeDrop",function(a,l){var c,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=r.state,f=d.dragChildrenKeys,m=d.dropPosition,g=d.dropTargetKey,v=d.dropTargetPos,y=d.dropAllowed;if(y){var b=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),g!==null){var x=Se(Se({},K0(g,r.getTreeNodeRequiredProps())),{},{active:((c=r.getActiveItem())===null||c===void 0?void 0:c.key)===g,data:Ss(r.state.keyEntities,g).node}),w=f.includes(g);Jr(!w,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var C=Qj(v),E={event:a,node:Lo(x),dragNode:r.dragNodeProps?Lo(r.dragNodeProps):null,dragNodesKeys:[r.dragNodeProps.eventKey].concat(f),dropToGap:m!==0,dropPosition:m+Number(C[C.length-1])};u||b==null||b(E),r.dragNodeProps=null}}}),te(et(r),"cleanDragState",function(){var a=r.state.draggingNodeKey;a!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),te(et(r),"triggerExpandActionExpand",function(a,l){var c=r.state,u=c.expandedKeys,d=c.flattenNodes,f=l.expanded,m=l.key,g=l.isLeaf;if(!(g||a.shiftKey||a.metaKey||a.ctrlKey)){var v=d.filter(function(b){return b.key===m})[0],y=Lo(Se(Se({},K0(m,r.getTreeNodeRequiredProps())),{},{data:v.data}));r.setExpandedKeys(f?Ml(u,m):Fc(u,m)),r.onNodeExpand(a,y)}}),te(et(r),"onNodeClick",function(a,l){var c=r.props,u=c.onClick,d=c.expandAction;d==="click"&&r.triggerExpandActionExpand(a,l),u==null||u(a,l)}),te(et(r),"onNodeDoubleClick",function(a,l){var c=r.props,u=c.onDoubleClick,d=c.expandAction;d==="doubleClick"&&r.triggerExpandActionExpand(a,l),u==null||u(a,l)}),te(et(r),"onNodeSelect",function(a,l){var c=r.state.selectedKeys,u=r.state,d=u.keyEntities,f=u.fieldNames,m=r.props,g=m.onSelect,v=m.multiple,y=l.selected,b=l[f.key],x=!y;x?v?c=Fc(c,b):c=[b]:c=Ml(c,b);var w=c.map(function(C){var E=Ss(d,C);return E?E.node:null}).filter(Boolean);r.setUncontrolledState({selectedKeys:c}),g==null||g(c,{event:"select",selected:x,node:l,selectedNodes:w,nativeEvent:a.nativeEvent})}),te(et(r),"onNodeCheck",function(a,l,c){var u=r.state,d=u.keyEntities,f=u.checkedKeys,m=u.halfCheckedKeys,g=r.props,v=g.checkStrictly,y=g.onCheck,b=l.key,x,w={event:"check",node:l,checked:c,nativeEvent:a.nativeEvent};if(v){var C=c?Fc(f,b):Ml(f,b),E=Ml(m,b);x={checked:C,halfChecked:E},w.checkedNodes=C.map(function(M){return Ss(d,M)}).filter(Boolean).map(function(M){return M.node}),r.setUncontrolledState({checkedKeys:C})}else{var _=ug([].concat(at(f),[b]),!0,d),S=_.checkedKeys,T=_.halfCheckedKeys;if(!c){var I=new Set(S);I.delete(b);var P=ug(Array.from(I),{halfCheckedKeys:T},d);S=P.checkedKeys,T=P.halfCheckedKeys}x=S,w.checkedNodes=[],w.checkedNodesPositions=[],w.halfCheckedKeys=T,S.forEach(function(M){var R=Ss(d,M);if(R){var k=R.node,D=R.pos;w.checkedNodes.push(k),w.checkedNodesPositions.push({node:k,pos:D})}}),r.setUncontrolledState({checkedKeys:S},!1,{halfCheckedKeys:T})}y==null||y(x,w)}),te(et(r),"onNodeLoad",function(a){var l,c=a.key,u=r.state.keyEntities,d=Ss(u,c);if(!(d!=null&&(l=d.children)!==null&&l!==void 0&&l.length)){var f=new Promise(function(m,g){r.setState(function(v){var y=v.loadedKeys,b=y===void 0?[]:y,x=v.loadingKeys,w=x===void 0?[]:x,C=r.props,E=C.loadData,_=C.onLoad;if(!E||b.includes(c)||w.includes(c))return null;var S=E(a);return S.then(function(){var T=r.state.loadedKeys,I=Fc(T,c);_==null||_(I,{event:"load",node:a}),r.setUncontrolledState({loadedKeys:I}),r.setState(function(P){return{loadingKeys:Ml(P.loadingKeys,c)}}),m()}).catch(function(T){if(r.setState(function(P){return{loadingKeys:Ml(P.loadingKeys,c)}}),r.loadingRetryTimes[c]=(r.loadingRetryTimes[c]||0)+1,r.loadingRetryTimes[c]>=J5e){var I=r.state.loadedKeys;Jr(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:Fc(I,c)}),m()}g(T)}),{loadingKeys:Fc(w,c)}})});return f.catch(function(){}),f}}),te(et(r),"onNodeMouseEnter",function(a,l){var c=r.props.onMouseEnter;c==null||c({event:a,node:l})}),te(et(r),"onNodeMouseLeave",function(a,l){var c=r.props.onMouseLeave;c==null||c({event:a,node:l})}),te(et(r),"onNodeContextMenu",function(a,l){var c=r.props.onRightClick;c&&(a.preventDefault(),c({event:a,node:l}))}),te(et(r),"onFocus",function(){var a=r.props.onFocus;r.setState({focused:!0});for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a==null||a.apply(void 0,c)}),te(et(r),"onBlur",function(){var a=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a==null||a.apply(void 0,c)}),te(et(r),"getTreeNodeRequiredProps",function(){var a=r.state,l=a.expandedKeys,c=a.selectedKeys,u=a.loadedKeys,d=a.loadingKeys,f=a.checkedKeys,m=a.halfCheckedKeys,g=a.dragOverNodeKey,v=a.dropPosition,y=a.keyEntities;return{expandedKeys:l||[],selectedKeys:c||[],loadedKeys:u||[],loadingKeys:d||[],checkedKeys:f||[],halfCheckedKeys:m||[],dragOverNodeKey:g,dropPosition:v,keyEntities:y}}),te(et(r),"setExpandedKeys",function(a){var l=r.state,c=l.treeData,u=l.fieldNames,d=BR(c,a,u);r.setUncontrolledState({expandedKeys:a,flattenNodes:d},!0)}),te(et(r),"onNodeExpand",function(a,l){var c=r.state.expandedKeys,u=r.state,d=u.listChanging,f=u.fieldNames,m=r.props,g=m.onExpand,v=m.loadData,y=l.expanded,b=l[f.key];if(!d){var x=c.includes(b),w=!y;if(Jr(y&&x||!y&&!x,"Expand state not sync with index check"),c=w?Fc(c,b):Ml(c,b),r.setExpandedKeys(c),g==null||g(c,{node:l,expanded:w,nativeEvent:a.nativeEvent}),w&&v){var C=r.onNodeLoad(l);C&&C.then(function(){var E=BR(r.state.treeData,c,f);r.setUncontrolledState({flattenNodes:E})}).catch(function(){var E=r.state.expandedKeys,_=Ml(E,b);r.setExpandedKeys(_)})}}}),te(et(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),te(et(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),te(et(r),"onActiveChange",function(a){var l=r.state.activeKey,c=r.props,u=c.onActiveChange,d=c.itemScrollOffset,f=d===void 0?0:d;l!==a&&(r.setState({activeKey:a}),a!==null&&r.scrollTo({key:a,offset:f}),u==null||u(a))}),te(et(r),"getActiveItem",function(){var a=r.state,l=a.activeKey,c=a.flattenNodes;return l===null?null:c.find(function(u){var d=u.key;return d===l})||null}),te(et(r),"offsetActiveKey",function(a){var l=r.state,c=l.flattenNodes,u=l.activeKey,d=c.findIndex(function(g){var v=g.key;return v===u});d===-1&&a<0&&(d=c.length),d=(d+a+c.length)%c.length;var f=c[d];if(f){var m=f.key;r.onActiveChange(m)}else r.onActiveChange(null)}),te(et(r),"onKeyDown",function(a){var l=r.state,c=l.activeKey,u=l.expandedKeys,d=l.checkedKeys,f=l.fieldNames,m=r.props,g=m.onKeyDown,v=m.checkable,y=m.selectable;switch(a.which){case $t.UP:{r.offsetActiveKey(-1),a.preventDefault();break}case $t.DOWN:{r.offsetActiveKey(1),a.preventDefault();break}}var b=r.getActiveItem();if(b&&b.data){var x=r.getTreeNodeRequiredProps(),w=b.data.isLeaf===!1||!!(b.data[f.children]||[]).length,C=Lo(Se(Se({},K0(c,x)),{},{data:b.data,active:!0}));switch(a.which){case $t.LEFT:{w&&u.includes(c)?r.onNodeExpand({},C):b.parent&&r.onActiveChange(b.parent.key),a.preventDefault();break}case $t.RIGHT:{w&&!u.includes(c)?r.onNodeExpand({},C):b.children&&b.children.length&&r.onActiveChange(b.children[0].key),a.preventDefault();break}case $t.ENTER:case $t.SPACE:{v&&!C.disabled&&C.checkable!==!1&&!C.disableCheckbox?r.onNodeCheck({},C,!d.includes(c)):!v&&y&&!C.disabled&&C.selectable!==!1&&r.onNodeSelect({},C);break}}}g==null||g(a)}),te(et(r),"setUncontrolledState",function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var u=!1,d=!0,f={};Object.keys(a).forEach(function(m){if(r.props.hasOwnProperty(m)){d=!1;return}u=!0,f[m]=a[m]}),u&&(!l||d)&&r.setState(Se(Se({},f),c))}}),te(et(r),"scrollTo",function(a){r.listRef.current.scrollTo(a)}),r}return sn(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props,i=o.activeKey,s=o.itemScrollOffset,a=s===void 0?0:s;i!==void 0&&i!==this.state.activeKey&&(this.setState({activeKey:i}),i!==null&&this.scrollTo({key:i,offset:a}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o=this.state,i=o.focused,s=o.flattenNodes,a=o.keyEntities,l=o.draggingNodeKey,c=o.activeKey,u=o.dropLevelOffset,d=o.dropContainerKey,f=o.dropTargetKey,m=o.dropPosition,g=o.dragOverNodeKey,v=o.indent,y=this.props,b=y.prefixCls,x=y.className,w=y.style,C=y.showLine,E=y.focusable,_=y.tabIndex,S=_===void 0?0:_,T=y.selectable,I=y.showIcon,P=y.icon,M=y.switcherIcon,R=y.draggable,k=y.checkable,D=y.checkStrictly,A=y.disabled,N=y.motion,O=y.loadData,j=y.filterTreeNode,L=y.height,z=y.itemHeight,V=y.scrollWidth,W=y.virtual,Y=y.titleRender,U=y.dropIndicatorRender,q=y.onContextMenu,K=y.onScroll,J=y.direction,X=y.rootClassName,ue=y.rootStyle,_e=us(this.props,{aria:!0,data:!0}),Ce;R&&(At(R)==="object"?Ce=R:typeof R=="function"?Ce={nodeDraggable:R}:Ce={});var pe={prefixCls:b,selectable:T,showIcon:I,icon:P,switcherIcon:M,draggable:Ce,draggingNodeKey:l,checkable:k,checkStrictly:D,disabled:A,keyEntities:a,dropLevelOffset:u,dropContainerKey:d,dropTargetKey:f,dropPosition:m,dragOverNodeKey:g,indent:v,direction:J,dropIndicatorRender:U,loadData:O,filterTreeNode:j,titleRender:Y,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return h.createElement(Xj.Provider,{value:pe},h.createElement("div",{className:Me(b,x,X,te(te(te({},"".concat(b,"-show-line"),C),"".concat(b,"-focused"),i),"".concat(b,"-active-focused"),c!==null)),style:ue},h.createElement(Q5e,B({ref:this.listRef,prefixCls:b,style:w,data:s,disabled:A,selectable:T,checkable:!!k,motion:N,dragging:l!==null,height:L,itemHeight:z,virtual:W,focusable:E,focused:i,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:q,onScroll:K,scrollWidth:V},this.getTreeNodeRequiredProps(),_e))))}}],[{key:"getDerivedStateFromProps",value:function(o,i){var s=i.prevProps,a={prevProps:o};function l(S){return!s&&o.hasOwnProperty(S)||s&&s[S]!==o[S]}var c,u=i.fieldNames;if(l("fieldNames")&&(u=Zg(o.fieldNames),a.fieldNames=u),l("treeData")?c=o.treeData:l("children")&&(Jr(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),c=Qee(o.children)),c){a.treeData=c;var d=Hj(c,{fieldNames:u});a.keyEntities=Se(te({},Zh,zte),d.keyEntities)}var f=a.keyEntities||i.keyEntities;if(l("expandedKeys")||s&&l("autoExpandParent"))a.expandedKeys=o.autoExpandParent||!s&&o.defaultExpandParent?$M(o.expandedKeys,f):o.expandedKeys;else if(!s&&o.defaultExpandAll){var m=Se({},f);delete m[Zh];var g=[];Object.keys(m).forEach(function(S){var T=m[S];T.children&&T.children.length&&g.push(T.key)}),a.expandedKeys=g}else!s&&o.defaultExpandedKeys&&(a.expandedKeys=o.autoExpandParent||o.defaultExpandParent?$M(o.defaultExpandedKeys,f):o.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,c||a.expandedKeys){var v=BR(c||i.treeData,a.expandedKeys||i.expandedKeys,u);a.flattenNodes=v}if(o.selectable&&(l("selectedKeys")?a.selectedKeys=oH(o.selectedKeys,o):!s&&o.defaultSelectedKeys&&(a.selectedKeys=oH(o.defaultSelectedKeys,o))),o.checkable){var y;if(l("checkedKeys")?y=KR(o.checkedKeys)||{}:!s&&o.defaultCheckedKeys?y=KR(o.defaultCheckedKeys)||{}:c&&(y=KR(o.checkedKeys)||{checkedKeys:i.checkedKeys,halfCheckedKeys:i.halfCheckedKeys}),y){var b=y,x=b.checkedKeys,w=x===void 0?[]:x,C=b.halfCheckedKeys,E=C===void 0?[]:C;if(!o.checkStrictly){var _=ug(w,!0,f);w=_.checkedKeys,E=_.halfCheckedKeys}a.checkedKeys=w,a.halfCheckedKeys=E}}return l("loadedKeys")&&(a.loadedKeys=o.loadedKeys),a}}]),n}(h.Component);te(Jj,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:H5e,allowDrop:function(){return!0},expandAction:!1});te(Jj,"TreeNode",gx);const Z5e=t=>{let{treeCls:e,treeNodeCls:n,directoryNodeSelectedBg:r,directoryNodeSelectedColor:o,motionDurationMid:i,borderRadius:s,controlItemBgHover:a}=t;return{[`${e}${e}-directory ${n}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${i}`,content:'""',borderRadius:s},"&:hover:before":{background:a}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{[`${e}-switcher, ${e}-draggable-icon`]:{color:o},[`${e}-node-content-wrapper`]:{color:o,background:"transparent","&:before, &:hover:before":{background:r}}}}}},e3e=new Bn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),t3e=(t,e)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),n3e=(t,e)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Ae(e.lineWidthBold)} solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),r3e=(t,e)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:o,titleHeight:i,indentSize:s,nodeSelectedBg:a,nodeHoverBg:l,colorTextQuaternary:c,controlItemBgActiveDisabled:u}=e;return{[n]:Object.assign(Object.assign({},ho(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},lf(e)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:e3e,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:e.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:o,lineHeight:Ae(i),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:o},[`&-disabled ${n}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:u},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:e.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:e.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:e.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:i,textAlign:"center",visibility:"visible",color:c},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:e.calc(e.calc(i).sub(e.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},t3e(t,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:i,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${e.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:i,height:i,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:e.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(i).div(2).equal(),bottom:e.calc(o).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:e.calc(e.calc(i).div(2).equal()).mul(.8).equal(),height:e.calc(i).div(2).equal(),borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:i,paddingBlock:0,paddingInline:e.paddingXS,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},n3e(t,e)),{"&:hover":{backgroundColor:l},[`&${n}-node-selected`]:{color:e.nodeSelectedColor,backgroundColor:a},[`${n}-iconEle`]:{display:"inline-block",width:i,height:i,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${e.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(i).div(2).equal(),bottom:e.calc(o).mul(-1).equal(),borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Ae(e.calc(i).div(2).equal())} !important`}})}},o3e=(t,e)=>{const n=`.${t}`,r=`${n}-treenode`,o=e.calc(e.paddingXS).div(2).equal(),i=Vn(e,{treeCls:n,treeNodeCls:r,treeNodePadding:o});return[r3e(t,i),Z5e(i)]},i3e=t=>{const{controlHeightSM:e,controlItemBgHover:n,controlItemBgActive:r}=t,o=e;return{titleHeight:o,indentSize:o,nodeHoverBg:n,nodeHoverColor:t.colorText,nodeSelectedBg:r,nodeSelectedColor:t.colorText}},s3e=t=>{const{colorTextLightSolid:e,colorPrimary:n}=t;return Object.assign(Object.assign({},i3e(t)),{directoryNodeSelectedColor:e,directoryNodeSelectedBg:n})},a3e=eo("Tree",(t,e)=>{let{prefixCls:n}=e;return[{[t.componentCls]:Zee(`${n}-checkbox`,t)},o3e(n,t),lZ(t)]},s3e),dH=4;function l3e(t){const{dropPosition:e,dropLevelOffset:n,prefixCls:r,indent:o,direction:i="ltr"}=t,s=i==="ltr"?"left":"right",a=i==="ltr"?"right":"left",l={[s]:-n*o+dH,[a]:0};switch(e){case-1:l.top=-3;break;case 1:l.bottom=-3;break;default:l.bottom=-3,l[s]=o+dH;break}return oe.createElement("div",{style:l,className:`${r}-drop-indicator`})}const c3e=t=>{const{prefixCls:e,switcherIcon:n,treeNodeProps:r,showLine:o,switcherLoadingIcon:i}=t,{isLeaf:s,expanded:a,loading:l}=r;if(l)return h.isValidElement(i)?i:h.createElement(dw,{className:`${e}-switcher-loading-icon`});let c;if(o&&typeof o=="object"&&(c=o.showLeafIcon),s){if(!o)return null;if(typeof c!="boolean"&&c){const f=typeof c=="function"?c(r):c,m=`${e}-switcher-line-custom-icon`;return h.isValidElement(f)?Ba(f,{className:Me(f.props.className||"",m)}):f}return c?h.createElement(yte,{className:`${e}-switcher-line-icon`}):h.createElement("span",{className:`${e}-switcher-leaf-line`})}const u=`${e}-switcher-icon`,d=typeof n=="function"?n(r):n;return h.isValidElement(d)?Ba(d,{className:Me(d.props.className||"",u)}):d!==void 0?d:o?a?h.createElement(o4e,{className:`${e}-switcher-line-icon`}):h.createElement(a4e,{className:`${e}-switcher-line-icon`}):h.createElement(AFe,{className:u})},Bte=oe.forwardRef((t,e)=>{var n;const{getPrefixCls:r,direction:o,virtual:i,tree:s}=oe.useContext(pn),{prefixCls:a,className:l,showIcon:c=!1,showLine:u,switcherIcon:d,switcherLoadingIcon:f,blockNode:m=!1,children:g,checkable:v=!1,selectable:y=!0,draggable:b,motion:x,style:w}=t,C=r("tree",a),E=r(),_=x??Object.assign(Object.assign({},rZ(E)),{motionAppear:!1}),S=Object.assign(Object.assign({},t),{checkable:v,selectable:y,showIcon:c,motion:_,blockNode:m,showLine:!!u,dropIndicatorRender:l3e}),[T,I,P]=a3e(C),[,M]=Pi(),R=M.paddingXS/2+(((n=M.Tree)===null||n===void 0?void 0:n.titleHeight)||M.controlHeightSM),k=oe.useMemo(()=>{if(!b)return!1;let A={};switch(typeof b){case"function":A.nodeDraggable=b;break;case"object":A=Object.assign({},b);break}return A.icon!==!1&&(A.icon=A.icon||oe.createElement(t4e,null)),A},[b]),D=A=>oe.createElement(c3e,{prefixCls:C,switcherIcon:d,switcherLoadingIcon:f,treeNodeProps:A,showLine:u});return T(oe.createElement(Jj,Object.assign({itemHeight:R,ref:e,virtual:i},S,{style:Object.assign(Object.assign({},s==null?void 0:s.style),w),prefixCls:C,className:Me({[`${C}-icon-hide`]:!c,[`${C}-block-node`]:m,[`${C}-unselectable`]:!y,[`${C}-rtl`]:o==="rtl"},s==null?void 0:s.className,l,I,P),direction:o,checkable:v&&oe.createElement("span",{className:`${C}-checkbox-inner`}),selectable:y,switcherIcon:D,draggable:k}),g))}),fH=0,GR=1,hH=2;function Zj(t,e,n){const{key:r,children:o}=n;function i(s){const a=s[r],l=s[o];e(a,s)!==!1&&Zj(l||[],e,n)}t.forEach(i)}function u3e(t){let{treeData:e,expandedKeys:n,startKey:r,endKey:o,fieldNames:i}=t;const s=[];let a=fH;if(r&&r===o)return[r];if(!r||!o)return[];function l(c){return c===r||c===o}return Zj(e,c=>{if(a===hH)return!1;if(l(c)){if(s.push(c),a===fH)a=GR;else if(a===GR)return a=hH,!1}else a===GR&&s.push(c);return n.includes(c)},Zg(i)),s}function YR(t,e,n){const r=at(e),o=[];return Zj(t,(i,s)=>{const a=r.indexOf(i);return a!==-1&&(o.push(s),r.splice(a,1)),!!r.length},Zg(n)),o}var pH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function d3e(t){const{isLeaf:e,expanded:n}=t;return e?h.createElement(yte,null):n?h.createElement(YFe,null):h.createElement(JFe,null)}function mH(t){let{treeData:e,children:n}=t;return e||Qee(n)}const f3e=(t,e)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:o}=t,i=pH(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const s=h.useRef(null),a=h.useRef(null),l=()=>{const{keyEntities:T}=Hj(mH(i));let I;return n?I=Object.keys(T):r?I=$M(i.expandedKeys||o||[],T):I=i.expandedKeys||o||[],I},[c,u]=h.useState(i.selectedKeys||i.defaultSelectedKeys||[]),[d,f]=h.useState(()=>l());h.useEffect(()=>{"selectedKeys"in i&&u(i.selectedKeys)},[i.selectedKeys]),h.useEffect(()=>{"expandedKeys"in i&&f(i.expandedKeys)},[i.expandedKeys]);const m=(T,I)=>{var P;return"expandedKeys"in i||f(T),(P=i.onExpand)===null||P===void 0?void 0:P.call(i,T,I)},g=(T,I)=>{var P;const{multiple:M,fieldNames:R}=i,{node:k,nativeEvent:D}=I,{key:A=""}=k,N=mH(i),O=Object.assign(Object.assign({},I),{selected:!0}),j=(D==null?void 0:D.ctrlKey)||(D==null?void 0:D.metaKey),L=D==null?void 0:D.shiftKey;let z;M&&j?(z=T,s.current=A,a.current=z,O.selectedNodes=YR(N,z,R)):M&&L?(z=Array.from(new Set([].concat(at(a.current||[]),at(u3e({treeData:N,expandedKeys:d,startKey:A,endKey:s.current,fieldNames:R}))))),O.selectedNodes=YR(N,z,R)):(z=[A],s.current=A,a.current=z,O.selectedNodes=YR(N,z,R)),(P=i.onSelect)===null||P===void 0||P.call(i,z,O),"selectedKeys"in i||u(z)},{getPrefixCls:v,direction:y}=h.useContext(pn),{prefixCls:b,className:x,showIcon:w=!0,expandAction:C="click"}=i,E=pH(i,["prefixCls","className","showIcon","expandAction"]),_=v("tree",b),S=Me(`${_}-directory`,{[`${_}-directory-rtl`]:y==="rtl"},x);return h.createElement(Bte,Object.assign({icon:d3e,ref:e,blockNode:!0},E,{showIcon:w,expandAction:C,prefixCls:_,className:S,expandedKeys:d,selectedKeys:c,onSelect:g,onExpand:m}))},h3e=h.forwardRef(f3e),eL=Bte;eL.DirectoryTree=h3e;eL.TreeNode=gx;const gH=t=>{const{value:e,filterSearch:n,tablePrefixCls:r,locale:o,onChange:i}=t;return n?h.createElement("div",{className:`${r}-filter-dropdown-search`},h.createElement(Ew,{prefix:h.createElement(Dj,null),placeholder:o.filterSearchPlaceholder,onChange:i,value:e,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},p3e=t=>{const{keyCode:e}=t;e===$t.ENTER&&t.stopPropagation()},m3e=h.forwardRef((t,e)=>h.createElement("div",{className:t.className,onClick:n=>n.stopPropagation(),onKeyDown:p3e,ref:e},t.children));function dg(t){let e=[];return(t||[]).forEach(n=>{let{value:r,children:o}=n;e.push(r),o&&(e=[].concat(at(e),at(dg(o))))}),e}function g3e(t){return t.some(e=>{let{children:n}=e;return n})}function Vte(t,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(t.trim().toLowerCase()):!1}function Hte(t){let{filters:e,prefixCls:n,filteredKeys:r,filterMultiple:o,searchValue:i,filterSearch:s}=t;return e.map((a,l)=>{const c=String(a.value);if(a.children)return{key:c||l,label:a.text,popupClassName:`${n}-dropdown-submenu`,children:Hte({filters:a.children,prefixCls:n,filteredKeys:r,filterMultiple:o,searchValue:i,filterSearch:s})};const u=o?cf:ww,d={key:a.value!==void 0?c:l,label:h.createElement(h.Fragment,null,h.createElement(u,{checked:r.includes(c)}),h.createElement("span",null,a.text))};return i.trim()?typeof s=="function"?s(i,a)?d:null:Vte(i,a.text)?d:null:d})}function XR(t){return t||[]}const v3e=t=>{var e,n,r,o;const{tablePrefixCls:i,prefixCls:s,column:a,dropdownPrefixCls:l,columnKey:c,filterOnClose:u,filterMultiple:d,filterMode:f="menu",filterSearch:m=!1,filterState:g,triggerFilter:v,locale:y,children:b,getPopupContainer:x,rootClassName:w}=t,{filterResetToDefaultFilteredValue:C,defaultFilteredValue:E,filterDropdownProps:_={},filterDropdownOpen:S,filterDropdownVisible:T,onFilterDropdownVisibleChange:I,onFilterDropdownOpenChange:P}=a,[M,R]=h.useState(!1),k=!!(g&&(!((e=g.filteredKeys)===null||e===void 0)&&e.length||g.forceFiltered)),D=ie=>{var re;R(ie),(re=_.onOpenChange)===null||re===void 0||re.call(_,ie),P==null||P(ie),I==null||I(ie)},A=(o=(r=(n=_.open)!==null&&n!==void 0?n:S)!==null&&r!==void 0?r:T)!==null&&o!==void 0?o:M,N=g==null?void 0:g.filteredKeys,[O,j]=V5e(XR(N)),L=ie=>{let{selectedKeys:re}=ie;j(re)},z=(ie,re)=>{let{node:ve,checked:ee}=re;L(d?{selectedKeys:ie}:{selectedKeys:ee&&ve.key?[ve.key]:[]})};h.useEffect(()=>{M&&L({selectedKeys:XR(N)})},[N]);const[V,W]=h.useState([]),Y=ie=>{W(ie)},[U,q]=h.useState(""),K=ie=>{const{value:re}=ie.target;q(re)};h.useEffect(()=>{M||q("")},[M]);const J=ie=>{const re=ie!=null&&ie.length?ie:null;if(re===null&&(!g||!g.filteredKeys)||xc(re,g==null?void 0:g.filteredKeys,!0))return null;v({column:a,key:c,filteredKeys:re})},X=()=>{D(!1),J(O())},ue=function(){let{confirm:ie,closeDropdown:re}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};ie&&J([]),re&&D(!1),q(""),j(C?(E||[]).map(ve=>String(ve)):[])},_e=function(){let{closeDropdown:ie}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};ie&&D(!1),J(O())},Ce=(ie,re)=>{re.source==="trigger"&&(ie&&N!==void 0&&j(XR(N)),D(ie),!ie&&!a.filterDropdown&&u&&X())},pe=Me({[`${l}-menu-without-submenu`]:!g3e(a.filters||[])}),ge=ie=>{if(ie.target.checked){const re=dg(a==null?void 0:a.filters).map(ve=>String(ve));j(re)}else j([])},F=ie=>{let{filters:re}=ie;return(re||[]).map((ve,ee)=>{const he=String(ve.value),we={title:ve.text,key:ve.value!==void 0?he:String(ee)};return ve.children&&(we.children=F({filters:ve.children})),we})},ce=ie=>{var re;return Object.assign(Object.assign({},ie),{text:ie.title,value:ie.key,children:((re=ie.children)===null||re===void 0?void 0:re.map(ve=>ce(ve)))||[]})};let le;const{direction:Z,renderEmpty:Q}=h.useContext(pn);if(typeof a.filterDropdown=="function")le=a.filterDropdown({prefixCls:`${l}-custom`,setSelectedKeys:ie=>L({selectedKeys:ie}),selectedKeys:O(),confirm:_e,clearFilters:ue,filters:a.filters,visible:A,close:()=>{D(!1)}});else if(a.filterDropdown)le=a.filterDropdown;else{const ie=O()||[],re=()=>{var ee,he;const we=(ee=Q==null?void 0:Q("Table.filter"))!==null&&ee!==void 0?ee:h.createElement(qc,{image:qc.PRESENTED_IMAGE_SIMPLE,description:y.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((a.filters||[]).length===0)return we;if(f==="tree")return h.createElement(h.Fragment,null,h.createElement(gH,{filterSearch:m,value:U,onChange:K,tablePrefixCls:i,locale:y}),h.createElement("div",{className:`${i}-filter-dropdown-tree`},d?h.createElement(cf,{checked:ie.length===dg(a.filters).length,indeterminate:ie.length>0&&ie.length<dg(a.filters).length,className:`${i}-filter-dropdown-checkall`,onChange:ge},(he=y==null?void 0:y.filterCheckall)!==null&&he!==void 0?he:y==null?void 0:y.filterCheckAll):null,h.createElement(eL,{checkable:!0,selectable:!1,blockNode:!0,multiple:d,checkStrictly:!d,className:`${l}-menu`,onCheck:z,checkedKeys:ie,selectedKeys:ie,showIcon:!1,treeData:F({filters:a.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:U.trim()?Ie=>typeof m=="function"?m(U,ce(Ie)):Vte(U,Ie.title):void 0})));const me=Hte({filters:a.filters||[],filterSearch:m,prefixCls:s,filteredKeys:O(),filterMultiple:d,searchValue:U}),ke=me.every(Ie=>Ie===null);return h.createElement(h.Fragment,null,h.createElement(gH,{filterSearch:m,value:U,onChange:K,tablePrefixCls:i,locale:y}),ke?we:h.createElement(Nv,{selectable:!0,multiple:d,prefixCls:`${l}-menu`,className:pe,onSelect:L,onDeselect:L,selectedKeys:ie,getPopupContainer:x,openKeys:V,onOpenChange:Y,items:me}))},ve=()=>C?xc((E||[]).map(ee=>String(ee)),ie,!0):ie.length===0;le=h.createElement(h.Fragment,null,re(),h.createElement("div",{className:`${s}-dropdown-btns`},h.createElement(Va,{type:"link",size:"small",disabled:ve(),onClick:()=>ue()},y.filterReset),h.createElement(Va,{type:"primary",size:"small",onClick:X},y.filterConfirm)))}a.filterDropdown&&(le=h.createElement(Lee,{selectable:void 0},le)),le=h.createElement(m3e,{className:`${s}-dropdown`},le);const fe=dte({trigger:["click"],placement:Z==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let ie;return typeof a.filterIcon=="function"?ie=a.filterIcon(k):a.filterIcon?ie=a.filterIcon:ie=h.createElement(qFe,null),h.createElement("span",{role:"button",tabIndex:-1,className:Me(`${s}-trigger`,{active:k}),onClick:re=>{re.stopPropagation()}},ie)})(),getPopupContainer:x},Object.assign(Object.assign({},_),{rootClassName:Me(w,_.rootClassName),open:A,onOpenChange:Ce,dropdownRender:()=>typeof(_==null?void 0:_.dropdownRender)=="function"?_.dropdownRender(le):le}));return h.createElement("div",{className:`${s}-column`},h.createElement("span",{className:`${i}-column-title`},b),h.createElement(Wj,Object.assign({},fe)))},jM=(t,e,n)=>{let r=[];return(t||[]).forEach((o,i)=>{var s;const a=zv(i,n);if(o.filters||"filterDropdown"in o||"onFilter"in o)if("filteredValue"in o){let l=o.filteredValue;"filterDropdown"in o||(l=(s=l==null?void 0:l.map(String))!==null&&s!==void 0?s:l),r.push({column:o,key:uf(o,a),filteredKeys:l,forceFiltered:o.filtered})}else r.push({column:o,key:uf(o,a),filteredKeys:e&&o.defaultFilteredValue?o.defaultFilteredValue:void 0,forceFiltered:o.filtered});"children"in o&&(r=[].concat(at(r),at(jM(o.children,e,a))))}),r};function Wte(t,e,n,r,o,i,s,a,l){return n.map((c,u)=>{const d=zv(u,a),{filterOnClose:f=!0,filterMultiple:m=!0,filterMode:g,filterSearch:v}=c;let y=c;if(y.filters||y.filterDropdown){const b=uf(y,d),x=r.find(w=>{let{key:C}=w;return b===C});y=Object.assign(Object.assign({},y),{title:w=>h.createElement(v3e,{tablePrefixCls:t,prefixCls:`${t}-filter`,dropdownPrefixCls:e,column:y,columnKey:b,filterState:x,filterOnClose:f,filterMultiple:m,filterMode:g,filterSearch:v,triggerFilter:i,locale:o,getPopupContainer:s,rootClassName:l},FT(c.title,w))})}return"children"in y&&(y=Object.assign(Object.assign({},y),{children:Wte(t,e,y.children,r,o,i,s,d,l)})),y})}const vH=t=>{const e={};return t.forEach(n=>{let{key:r,filteredKeys:o,column:i}=n;const s=r,{filters:a,filterDropdown:l}=i;if(l)e[s]=o||null;else if(Array.isArray(o)){const c=dg(a);e[s]=c.filter(u=>o.includes(String(u)))}else e[s]=null}),e},LM=(t,e,n)=>e.reduce((o,i)=>{const{column:{onFilter:s,filters:a},filteredKeys:l}=i;return s&&l&&l.length?o.map(c=>Object.assign({},c)).filter(c=>l.some(u=>{const d=dg(a),f=d.findIndex(g=>String(g)===String(u)),m=f!==-1?d[f]:u;return c[n]&&(c[n]=LM(c[n],e,n)),s(m,c)})):o},t),Ute=t=>t.flatMap(e=>"children"in e?[e].concat(at(Ute(e.children||[]))):[e]),y3e=t=>{const{prefixCls:e,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:o,getPopupContainer:i,locale:s,rootClassName:a}=t;yp();const l=h.useMemo(()=>Ute(r||[]),[r]),[c,u]=h.useState(()=>jM(l,!0)),d=h.useMemo(()=>{const v=jM(l,!1);if(v.length===0)return v;let y=!0;if(v.forEach(b=>{let{filteredKeys:x}=b;x!==void 0&&(y=!1)}),y){const b=(l||[]).map((x,w)=>uf(x,zv(w)));return c.filter(x=>{let{key:w}=x;return b.includes(w)}).map(x=>{const w=l[b.findIndex(C=>C===x.key)];return Object.assign(Object.assign({},x),{column:Object.assign(Object.assign({},x.column),w),forceFiltered:w.filtered})})}return v},[l,c]),f=h.useMemo(()=>vH(d),[d]),m=v=>{const y=d.filter(b=>{let{key:x}=b;return x!==v.key});y.push(v),u(y),o(vH(y),y)};return[v=>Wte(e,n,v,d,s,m,i,void 0,a),d,f]},b3e=(t,e,n)=>{const r=h.useRef({});function o(i){var s;if(!r.current||r.current.data!==t||r.current.childrenColumnName!==e||r.current.getRowKey!==n){let c=function(u){u.forEach((d,f)=>{const m=n(d,f);l.set(m,d),d&&typeof d=="object"&&e in d&&c(d[e]||[])})};var a=c;const l=new Map;c(t),r.current={data:t,childrenColumnName:e,kvMap:l,getRowKey:n}}return(s=r.current.kvMap)===null||s===void 0?void 0:s.get(i)}return[o]};var x3e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const qte=10;function w3e(t,e){const n={current:t.current,pageSize:t.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(o=>{const i=t[o];typeof i!="function"&&(n[o]=i)}),n}function S3e(t,e,n){const r=n&&typeof n=="object"?n:{},{total:o=0}=r,i=x3e(r,["total"]),[s,a]=h.useState(()=>({current:"defaultCurrent"in i?i.defaultCurrent:1,pageSize:"defaultPageSize"in i?i.defaultPageSize:qte})),l=dte(s,i,{total:o>0?o:t}),c=Math.ceil((o||t)/l.pageSize);l.current>c&&(l.current=c||1);const u=(f,m)=>{a({current:f??1,pageSize:m||l.pageSize})},d=(f,m)=>{var g;n&&((g=n.onChange)===null||g===void 0||g.call(n,f,m)),u(f,m),e(f,m||(l==null?void 0:l.pageSize))};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},l),{onChange:d}),u]}const CC="ascend",QR="descend",pE=t=>typeof t.sorter=="object"&&typeof t.sorter.multiple=="number"?t.sorter.multiple:!1,yH=t=>typeof t=="function"?t:t&&typeof t=="object"&&t.compare?t.compare:!1,C3e=(t,e)=>e?t[t.indexOf(e)+1]:t[0],FM=(t,e,n)=>{let r=[];const o=(i,s)=>{r.push({column:i,key:uf(i,s),multiplePriority:pE(i),sortOrder:i.sortOrder})};return(t||[]).forEach((i,s)=>{const a=zv(s,n);i.children?("sortOrder"in i&&o(i,a),r=[].concat(at(r),at(FM(i.children,e,a)))):i.sorter&&("sortOrder"in i?o(i,a):e&&i.defaultSortOrder&&r.push({column:i,key:uf(i,a),multiplePriority:pE(i),sortOrder:i.defaultSortOrder}))}),r},Kte=(t,e,n,r,o,i,s,a)=>(e||[]).map((c,u)=>{const d=zv(u,a);let f=c;if(f.sorter){const m=f.sortDirections||o,g=f.showSorterTooltip===void 0?s:f.showSorterTooltip,v=uf(f,d),y=n.find(I=>{let{key:P}=I;return P===v}),b=y?y.sortOrder:null,x=C3e(m,b);let w;if(c.sortIcon)w=c.sortIcon({sortOrder:b});else{const I=m.includes(CC)&&h.createElement(BFe,{className:Me(`${t}-column-sorter-up`,{active:b===CC})}),P=m.includes(QR)&&h.createElement(LFe,{className:Me(`${t}-column-sorter-down`,{active:b===QR})});w=h.createElement("span",{className:Me(`${t}-column-sorter`,{[`${t}-column-sorter-full`]:!!(I&&P)})},h.createElement("span",{className:`${t}-column-sorter-inner`,"aria-hidden":"true"},I,P))}const{cancelSort:C,triggerAsc:E,triggerDesc:_}=i||{};let S=C;x===QR?S=_:x===CC&&(S=E);const T=typeof g=="object"?Object.assign({title:S},g):{title:S};f=Object.assign(Object.assign({},f),{className:Me(f.className,{[`${t}-column-sort`]:b}),title:I=>{const P=`${t}-column-sorters`,M=h.createElement("span",{className:`${t}-column-title`},FT(c.title,I)),R=h.createElement("div",{className:P},M,w);return g?typeof g!="boolean"&&(g==null?void 0:g.target)==="sorter-icon"?h.createElement("div",{className:`${P} ${t}-column-sorters-tooltip-target-sorter`},M,h.createElement(dx,Object.assign({},T),w)):h.createElement(dx,Object.assign({},T),R):R},onHeaderCell:I=>{var P;const M=((P=c.onHeaderCell)===null||P===void 0?void 0:P.call(c,I))||{},R=M.onClick,k=M.onKeyDown;M.onClick=N=>{r({column:c,key:v,sortOrder:x,multiplePriority:pE(c)}),R==null||R(N)},M.onKeyDown=N=>{N.keyCode===$t.ENTER&&(r({column:c,key:v,sortOrder:x,multiplePriority:pE(c)}),k==null||k(N))};const D=B5e(c.title,{}),A=D==null?void 0:D.toString();return b&&(M["aria-sort"]=b==="ascend"?"ascending":"descending"),M["aria-label"]=A||"",M.className=Me(M.className,`${t}-column-has-sorters`),M.tabIndex=0,c.ellipsis&&(M.title=(D??"").toString()),M}})}return"children"in f&&(f=Object.assign(Object.assign({},f),{children:Kte(t,f.children,n,r,o,i,s,d)})),f}),bH=t=>{const{column:e,sortOrder:n}=t;return{column:e,order:n,field:e.dataIndex,columnKey:e.key}},xH=t=>{const e=t.filter(n=>{let{sortOrder:r}=n;return r}).map(bH);if(e.length===0&&t.length){const n=t.length-1;return Object.assign(Object.assign({},bH(t[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return e.length<=1?e[0]||{}:e},zM=(t,e,n)=>{const r=e.slice().sort((s,a)=>a.multiplePriority-s.multiplePriority),o=t.slice(),i=r.filter(s=>{let{column:{sorter:a},sortOrder:l}=s;return yH(a)&&l});return i.length?o.sort((s,a)=>{for(let l=0;l<i.length;l+=1){const c=i[l],{column:{sorter:u},sortOrder:d}=c,f=yH(u);if(f&&d){const m=f(s,a,d);if(m!==0)return d===CC?m:-m}}return 0}).map(s=>{const a=s[n];return a?Object.assign(Object.assign({},s),{[n]:zM(a,e,n)}):s}):o},_3e=t=>{const{prefixCls:e,mergedColumns:n,sortDirections:r,tableLocale:o,showSorterTooltip:i,onSorterChange:s}=t,[a,l]=h.useState(FM(n,!0)),c=(v,y)=>{const b=[];return v.forEach((x,w)=>{const C=zv(w,y);if(b.push(uf(x,C)),Array.isArray(x.children)){const E=c(x.children,C);b.push.apply(b,at(E))}}),b},u=h.useMemo(()=>{let v=!0;const y=FM(n,!1);if(!y.length){const C=c(n);return a.filter(E=>{let{key:_}=E;return C.includes(_)})}const b=[];function x(C){v?b.push(C):b.push(Object.assign(Object.assign({},C),{sortOrder:null}))}let w=null;return y.forEach(C=>{w===null?(x(C),C.sortOrder&&(C.multiplePriority===!1?v=!1:w=!0)):(w&&C.multiplePriority!==!1||(v=!1),x(C))}),b},[n,a]),d=h.useMemo(()=>{var v,y;const b=u.map(x=>{let{column:w,sortOrder:C}=x;return{column:w,order:C}});return{sortColumns:b,sortColumn:(v=b[0])===null||v===void 0?void 0:v.column,sortOrder:(y=b[0])===null||y===void 0?void 0:y.order}},[u]),f=v=>{let y;v.multiplePriority===!1||!u.length||u[0].multiplePriority===!1?y=[v]:y=[].concat(at(u.filter(b=>{let{key:x}=b;return x!==v.key})),[v]),l(y),s(xH(y),y)};return[v=>Kte(e,v,u,f,r,o,i),u,d,()=>xH(u)]},Gte=(t,e)=>t.map(r=>{const o=Object.assign({},r);return o.title=FT(r.title,e),"children"in o&&(o.children=Gte(o.children,e)),o}),E3e=t=>[h.useCallback(n=>Gte(n,t),[t])],T3e=Ate((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),I3e=jte((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),P3e=t=>{const{componentCls:e,lineWidth:n,lineType:r,tableBorderColor:o,tableHeaderBg:i,tablePaddingVertical:s,tablePaddingHorizontal:a,calc:l}=t,c=`${Ae(n)} ${r} ${o}`,u=(d,f,m)=>({[`&${e}-${d}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${e}-expanded-row-fixed`]:{margin:`${Ae(l(f).mul(-1).equal())}
              ${Ae(l(l(m).add(n)).mul(-1).equal())}`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${e}-title`]:{border:c,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:c,borderTop:c,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${e}-expanded-row-fixed`]:{margin:`${Ae(l(s).mul(-1).equal())} ${Ae(l(l(a).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},u("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle)),u("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:c,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${Ae(n)} 0 ${Ae(n)} ${i}`}},[`${e}-bordered ${e}-cell-scrollbar`]:{borderInlineEnd:c}}}},R3e=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:Object.assign(Object.assign({},sx),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},k3e=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:t.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:t.colorBgContainer}}}}},D3e=t=>{const{componentCls:e,antCls:n,motionDurationSlow:r,lineWidth:o,paddingXS:i,lineType:s,tableBorderColor:a,tableExpandIconBg:l,tableExpandColumnWidth:c,borderRadius:u,tablePaddingVertical:d,tablePaddingHorizontal:f,tableExpandedRowBg:m,paddingXXS:g,expandIconMarginTop:v,expandIconSize:y,expandIconHalfInner:b,expandIconScale:x,calc:w}=t,C=`${Ae(o)} ${s} ${a}`,E=w(g).sub(o).equal();return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:c},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:Object.assign(Object.assign({},LIe(t)),{position:"relative",float:"left",width:y,height:y,color:"inherit",lineHeight:Ae(y),background:l,border:C,borderRadius:u,transform:`scale(${x})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:b,insetInlineEnd:E,insetInlineStart:E,height:o},"&::after":{top:E,bottom:E,insetInlineStart:b,width:o,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:v,marginInlineEnd:i},[`tr${e}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:m}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`${Ae(w(d).mul(-1).equal())} ${Ae(w(f).mul(-1).equal())}`,padding:`${Ae(d)} ${Ae(f)}`}}}},$3e=t=>{const{componentCls:e,antCls:n,iconCls:r,tableFilterDropdownWidth:o,tableFilterDropdownSearchWidth:i,paddingXXS:s,paddingXS:a,colorText:l,lineWidth:c,lineType:u,tableBorderColor:d,headerIconColor:f,fontSizeSM:m,tablePaddingHorizontal:g,borderRadius:v,motionDurationSlow:y,colorTextDescription:b,colorPrimary:x,tableHeaderFilterActiveBg:w,colorTextDisabled:C,tableFilterDropdownBg:E,tableFilterDropdownHeight:_,controlItemBgHover:S,controlItemBgActive:T,boxShadowSecondary:I,filterDropdownMenuBg:P,calc:M}=t,R=`${n}-dropdown`,k=`${e}-filter-dropdown`,D=`${n}-tree`,A=`${Ae(c)} ${u} ${d}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:M(s).mul(-1).equal(),marginInline:`${Ae(s)} ${Ae(M(g).div(2).mul(-1).equal())}`,padding:`0 ${Ae(s)}`,color:f,fontSize:m,borderRadius:v,cursor:"pointer",transition:`all ${y}`,"&:hover":{color:b,background:w},"&.active":{color:x}}}},{[`${n}-dropdown`]:{[k]:Object.assign(Object.assign({},ho(t)),{minWidth:o,backgroundColor:E,borderRadius:v,boxShadow:I,overflow:"hidden",[`${R}-menu`]:{maxHeight:_,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:P,"&:empty::after":{display:"block",padding:`${Ae(a)} 0`,color:C,fontSize:m,textAlign:"center",content:'"Not Found"'}},[`${k}-tree`]:{paddingBlock:`${Ae(a)} 0`,paddingInline:a,[D]:{padding:0},[`${D}-treenode ${D}-node-content-wrapper:hover`]:{backgroundColor:S},[`${D}-treenode-checkbox-checked ${D}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:T}}},[`${k}-search`]:{padding:a,borderBottom:A,"&-input":{input:{minWidth:i},[r]:{color:C}}},[`${k}-checkall`]:{width:"100%",marginBottom:s,marginInlineStart:s},[`${k}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${Ae(M(a).sub(c).equal())} ${Ae(a)}`,overflow:"hidden",borderTop:A}})}},{[`${n}-dropdown ${k}, ${k}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:a,color:l},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},M3e=t=>{const{componentCls:e,lineWidth:n,colorSplit:r,motionDurationSlow:o,zIndexTableFixed:i,tableBg:s,zIndexTableSticky:a,calc:l}=t,c=r;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:i,background:s},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:l(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:l(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l(a).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${e}-fixed-column-gapped`]:{[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after,
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},O3e=t=>{const{componentCls:e,antCls:n,margin:r}=t;return{[`${e}-wrapper`]:{[`${e}-pagination${n}-pagination`]:{margin:`${Ae(r)} 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:t.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},A3e=t=>{const{componentCls:e,tableRadius:n}=t;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${Ae(n)} ${Ae(n)} 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${e}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${Ae(n)} ${Ae(n)}`}}}}},N3e=t=>{const{componentCls:e}=t;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${e}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${e}-row-indent`]:{float:"right"}}}}},j3e=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSizeIcon:o,padding:i,paddingXS:s,headerIconColor:a,headerIconHoverColor:l,tableSelectionColumnWidth:c,tableSelectedRowBg:u,tableSelectedRowHoverBg:d,tableRowHoverBg:f,tablePaddingHorizontal:m,calc:g}=t;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:c,[`&${e}-selection-col-with-dropdown`]:{width:g(c).add(o).add(g(i).div(4)).equal()}},[`${e}-bordered ${e}-selection-col`]:{width:g(c).add(g(s).mul(2)).equal(),[`&${e}-selection-col-with-dropdown`]:{width:g(c).add(o).add(g(i).div(4)).add(g(s).mul(2)).equal()}},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column,
        ${e}-selection-column
      `]:{paddingInlineEnd:t.paddingXS,paddingInlineStart:t.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:g(t.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:Ae(g(m).div(4).equal()),[r]:{color:a,fontSize:o,verticalAlign:"baseline","&:hover":{color:l}}},[`${e}-tbody`]:{[`${e}-row`]:{[`&${e}-row-selected`]:{[`> ${e}-cell`]:{background:u,"&-row-hover":{background:d}}},[`> ${e}-cell-row-hover`]:{background:f}}}}}},L3e=t=>{const{componentCls:e,tableExpandColumnWidth:n,calc:r}=t,o=(i,s,a,l)=>({[`${e}${e}-${i}`]:{fontSize:l,[`
        ${e}-title,
        ${e}-footer,
        ${e}-cell,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${Ae(s)} ${Ae(a)}`},[`${e}-filter-trigger`]:{marginInlineEnd:Ae(r(a).div(2).mul(-1).equal())},[`${e}-expanded-row-fixed`]:{margin:`${Ae(r(s).mul(-1).equal())} ${Ae(r(a).mul(-1).equal())}`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:Ae(r(s).mul(-1).equal()),marginInline:`${Ae(r(n).sub(a).equal())} ${Ae(r(a).mul(-1).equal())}`}},[`${e}-selection-extra`]:{paddingInlineStart:Ae(r(a).div(4).equal())}}});return{[`${e}-wrapper`]:Object.assign(Object.assign({},o("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle,t.tableFontSizeMiddle)),o("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall,t.tableFontSizeSmall))}},F3e=t=>{const{componentCls:e,marginXXS:n,fontSizeIcon:r,headerIconColor:o,headerIconHoverColor:i}=t;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}, left 0s`,"&:hover":{background:t.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:t.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:t.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:t.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:t.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${e}-column-sorter`]:{marginInlineStart:n,color:o,fontSize:0,transition:`color ${t.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:t.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:i}}}},z3e=t=>{const{componentCls:e,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:o,tableScrollThumbSize:i,tableScrollBg:s,zIndexTableSticky:a,stickyScrollBarBorderRadius:l,lineWidth:c,lineType:u,tableBorderColor:d}=t,f=`${Ae(c)} ${u} ${d}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:a,background:t.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${Ae(i)} !important`,zIndex:a,display:"flex",alignItems:"center",background:s,borderTop:f,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:i,backgroundColor:r,borderRadius:l,transition:`all ${t.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:o}}}}}}},wH=t=>{const{componentCls:e,lineWidth:n,tableBorderColor:r,calc:o}=t,i=`${Ae(n)} ${t.lineType} ${r}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:t.zIndexTableFixed,background:t.tableBg,"> tr":{"> th, > td":{borderBottom:i}}},[`div${e}-summary`]:{boxShadow:`0 ${Ae(o(n).mul(-1).equal())} 0 ${r}`}}}},B3e=t=>{const{componentCls:e,motionDurationMid:n,lineWidth:r,lineType:o,tableBorderColor:i,calc:s}=t,a=`${Ae(r)} ${o} ${i}`,l=`${e}-expanded-row-cell`;return{[`${e}-wrapper`]:{[`${e}-tbody-virtual`]:{[`${e}-tbody-virtual-holder-inner`]:{[`
            & > ${e}-row, 
            & > div:not(${e}-row) > ${e}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${e}-cell`]:{borderBottom:a,transition:`background ${n}`},[`${e}-expanded-row`]:{[`${l}${l}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${Ae(r)})`,borderInlineEnd:"none"}}},[`${e}-bordered`]:{[`${e}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:a,position:"absolute"},[`${e}-cell`]:{borderInlineEnd:a,[`&${e}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:s(r).mul(-1).equal(),borderInlineStart:a}}},[`&${e}-virtual`]:{[`${e}-placeholder ${e}-cell`]:{borderInlineEnd:a,borderBottom:a}}}}}},V3e=t=>{const{componentCls:e,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:o,tableExpandColumnWidth:i,lineWidth:s,lineType:a,tableBorderColor:l,tableFontSize:c,tableBg:u,tableRadius:d,tableHeaderTextColor:f,motionDurationMid:m,tableHeaderBg:g,tableHeaderCellSplitColor:v,tableFooterTextColor:y,tableFooterBg:b,calc:x}=t,w=`${Ae(s)} ${a} ${l}`;return{[`${e}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},ax()),{[e]:Object.assign(Object.assign({},ho(t)),{fontSize:c,background:u,borderRadius:`${Ae(d)} ${Ae(d)} 0 0`,scrollbarColor:`${t.tableScrollThumbBg} ${t.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${Ae(d)} ${Ae(d)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-cell,
          ${e}-thead > tr > th,
          ${e}-tbody > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${Ae(r)} ${Ae(o)}`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${Ae(r)} ${Ae(o)}`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:g,borderBottom:w,transition:`background ${m} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:v,transform:"translateY(-50%)",transition:`background-color ${m}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${m}, border-color ${m}`,borderBottom:w,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:Ae(x(r).mul(-1).equal()),marginInline:`${Ae(x(i).sub(o).equal())}
                ${Ae(x(o).mul(-1).equal())}`,[`${e}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:g,borderBottom:w,transition:`background ${m} ease`}}},[`${e}-footer`]:{padding:`${Ae(r)} ${Ae(o)}`,color:y,background:b}})}},H3e=t=>{const{colorFillAlter:e,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:o,colorFillContent:i,controlItemBgActive:s,controlItemBgActiveHover:a,padding:l,paddingSM:c,paddingXS:u,colorBorderSecondary:d,borderRadiusLG:f,controlHeight:m,colorTextPlaceholder:g,fontSize:v,fontSizeSM:y,lineHeight:b,lineWidth:x,colorIcon:w,colorIconHover:C,opacityLoading:E,controlInteractiveSize:_}=t,S=new Fn(o).onBackground(n).toHexString(),T=new Fn(i).onBackground(n).toHexString(),I=new Fn(e).onBackground(n).toHexString(),P=new Fn(w),M=new Fn(C),R=_/2-x,k=R*2+x*3;return{headerBg:I,headerColor:r,headerSortActiveBg:S,headerSortHoverBg:T,bodySortBg:I,rowHoverBg:I,rowSelectedBg:s,rowSelectedHoverBg:a,rowExpandedBg:e,cellPaddingBlock:l,cellPaddingInline:l,cellPaddingBlockMD:c,cellPaddingInlineMD:u,cellPaddingBlockSM:u,cellPaddingInlineSM:u,borderColor:d,headerBorderRadius:f,footerBg:I,footerColor:r,cellFontSize:v,cellFontSizeMD:v,cellFontSizeSM:v,headerSplitColor:d,fixedHeaderSortActiveBg:S,headerFilterHoverBg:i,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:m,stickyScrollBarBg:g,stickyScrollBarBorderRadius:100,expandIconMarginTop:(v*b-x*3)/2-Math.ceil((y*1.4-x*3)/2),headerIconColor:P.clone().setA(P.a*E).toRgbString(),headerIconHoverColor:M.clone().setA(M.a*E).toRgbString(),expandIconHalfInner:R,expandIconSize:k,expandIconScale:_/k}},SH=2,W3e=eo("Table",t=>{const{colorTextHeading:e,colorSplit:n,colorBgContainer:r,controlInteractiveSize:o,headerBg:i,headerColor:s,headerSortActiveBg:a,headerSortHoverBg:l,bodySortBg:c,rowHoverBg:u,rowSelectedBg:d,rowSelectedHoverBg:f,rowExpandedBg:m,cellPaddingBlock:g,cellPaddingInline:v,cellPaddingBlockMD:y,cellPaddingInlineMD:b,cellPaddingBlockSM:x,cellPaddingInlineSM:w,borderColor:C,footerBg:E,footerColor:_,headerBorderRadius:S,cellFontSize:T,cellFontSizeMD:I,cellFontSizeSM:P,headerSplitColor:M,fixedHeaderSortActiveBg:R,headerFilterHoverBg:k,filterDropdownBg:D,expandIconBg:A,selectionColumnWidth:N,stickyScrollBarBg:O,calc:j}=t,L=Vn(t,{tableFontSize:T,tableBg:r,tableRadius:S,tablePaddingVertical:g,tablePaddingHorizontal:v,tablePaddingVerticalMiddle:y,tablePaddingHorizontalMiddle:b,tablePaddingVerticalSmall:x,tablePaddingHorizontalSmall:w,tableBorderColor:C,tableHeaderTextColor:s,tableHeaderBg:i,tableFooterTextColor:_,tableFooterBg:E,tableHeaderCellSplitColor:M,tableHeaderSortBg:a,tableHeaderSortHoverBg:l,tableBodySortBg:c,tableFixedHeaderSortActiveBg:R,tableHeaderFilterActiveBg:k,tableFilterDropdownBg:D,tableRowHoverBg:u,tableSelectedRowBg:d,tableSelectedRowHoverBg:f,zIndexTableFixed:SH,zIndexTableSticky:j(SH).add(1).equal({unit:!1}),tableFontSizeMiddle:I,tableFontSizeSmall:P,tableSelectionColumnWidth:N,tableExpandIconBg:A,tableExpandColumnWidth:j(o).add(j(t.padding).mul(2)).equal(),tableExpandedRowBg:m,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:O,tableScrollThumbBgHover:e,tableScrollBg:n});return[V3e(L),O3e(L),wH(L),F3e(L),$3e(L),P3e(L),A3e(L),D3e(L),wH(L),k3e(L),j3e(L),M3e(L),z3e(L),R3e(L),L3e(L),N3e(L),B3e(L)]},H3e,{unitless:{expandIconScale:!0}}),U3e=[],q3e=(t,e)=>{var n,r;const{prefixCls:o,className:i,rootClassName:s,style:a,size:l,bordered:c,dropdownPrefixCls:u,dataSource:d,pagination:f,rowSelection:m,rowKey:g="key",rowClassName:v,columns:y,children:b,childrenColumnName:x,onChange:w,getPopupContainer:C,loading:E,expandIcon:_,expandable:S,expandedRowRender:T,expandIconColumnIndex:I,indentSize:P,scroll:M,sortDirections:R,locale:k,showSorterTooltip:D={target:"full-header"},virtual:A}=t;yp();const N=h.useMemo(()=>y||Gj(b),[y,b]),O=h.useMemo(()=>N.some(Qe=>Qe.responsive),[N]),j=pee(O),L=h.useMemo(()=>{const Qe=new Set(Object.keys(j).filter(Xe=>j[Xe]));return N.filter(Xe=>!Xe.responsive||Xe.responsive.some(nt=>Qe.has(nt)))},[N,j]),z=ni(t,["className","style","columns"]),{locale:V=af,direction:W,table:Y,renderEmpty:U,getPrefixCls:q,getPopupContainer:K}=h.useContext(pn),J=El(l),X=Object.assign(Object.assign({},V.Table),k),ue=d||U3e,_e=q("table",o),Ce=q("dropdown",u),[,pe]=Pi(),ge=js(_e),[F,ce,le]=W3e(_e,ge),Z=Object.assign(Object.assign({childrenColumnName:x,expandIconColumnIndex:I},S),{expandIcon:(n=S==null?void 0:S.expandIcon)!==null&&n!==void 0?n:(r=Y==null?void 0:Y.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:Q="children"}=Z,ye=h.useMemo(()=>ue.some(Qe=>Qe==null?void 0:Qe[Q])?"nest":T||S!=null&&S.expandedRowRender?"row":null,[ue]),fe={body:h.useRef(null)},ie=z5e(_e),re=h.useRef(null),ve=h.useRef(null);L5e(e,()=>Object.assign(Object.assign({},ve.current),{nativeElement:re.current}));const ee=h.useMemo(()=>typeof g=="function"?g:Qe=>Qe==null?void 0:Qe[g],[g]),[he]=b3e(ue,Q,ee),we={},me=function(Qe,Xe){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var ft,wt,Tt,en;const Wt=Object.assign(Object.assign({},we),Qe);nt&&((ft=we.resetPagination)===null||ft===void 0||ft.call(we),!((wt=Wt.pagination)===null||wt===void 0)&&wt.current&&(Wt.pagination.current=1),f&&((Tt=f.onChange)===null||Tt===void 0||Tt.call(f,1,(en=Wt.pagination)===null||en===void 0?void 0:en.pageSize))),M&&M.scrollToFirstRowOnChange!==!1&&fe.body.current&&GPe(0,{getContainer:()=>fe.body.current}),w==null||w(Wt.pagination,Wt.filters,Wt.sorter,{currentDataSource:LM(zM(ue,Wt.sorterStates,Q),Wt.filterStates,Q),action:Xe})},ke=(Qe,Xe)=>{me({sorter:Qe,sorterStates:Xe},"sort",!1)},[Ie,Re,$e,ne]=_3e({prefixCls:_e,mergedColumns:L,onSorterChange:ke,sortDirections:R||["ascend","descend"],tableLocale:X,showSorterTooltip:D}),xe=h.useMemo(()=>zM(ue,Re,Q),[ue,Re]);we.sorter=ne(),we.sorterStates=Re;const se=(Qe,Xe)=>{me({filters:Qe,filterStates:Xe},"filter",!0)},[ae,Ee,Le]=y3e({prefixCls:_e,locale:X,dropdownPrefixCls:Ce,mergedColumns:L,onFilterChange:se,getPopupContainer:C||K,rootClassName:Me(s,ge)}),ze=LM(xe,Ee,Q);we.filters=Le,we.filterStates=Ee;const We=h.useMemo(()=>{const Qe={};return Object.keys(Le).forEach(Xe=>{Le[Xe]!==null&&(Qe[Xe]=Le[Xe])}),Object.assign(Object.assign({},$e),{filters:Qe})},[$e,Le]),[Ze]=E3e(We),dt=(Qe,Xe)=>{me({pagination:Object.assign(Object.assign({},we.pagination),{current:Qe,pageSize:Xe})},"paginate")},[de,je]=S3e(ze.length,dt,f);we.pagination=f===!1?{}:w3e(de,f),we.resetPagination=je;const Ve=h.useMemo(()=>{if(f===!1||!de.pageSize)return ze;const{current:Qe=1,total:Xe,pageSize:nt=qte}=de;return ze.length<Xe?ze.length>nt?ze.slice((Qe-1)*nt,Qe*nt):ze:ze.slice((Qe-1)*nt,Qe*nt)},[!!f,ze,de==null?void 0:de.current,de==null?void 0:de.pageSize,de==null?void 0:de.total]),[tt,Be]=N5e({prefixCls:_e,data:ze,pageData:Ve,getRowKey:ee,getRecordByKey:he,expandType:ye,childrenColumnName:Q,locale:X,getPopupContainer:C||K},m),lt=(Qe,Xe,nt)=>{let ft;return typeof v=="function"?ft=Me(v(Qe,Xe,nt)):ft=Me(v),Me({[`${_e}-row-selected`]:Be.has(ee(Qe,Xe))},ft)};Z.__PARENT_RENDER_ICON__=Z.expandIcon,Z.expandIcon=Z.expandIcon||_||F5e(X),ye==="nest"&&Z.expandIconColumnIndex===void 0?Z.expandIconColumnIndex=m?1:0:Z.expandIconColumnIndex>0&&m&&(Z.expandIconColumnIndex-=1),typeof Z.indentSize!="number"&&(Z.indentSize=typeof P=="number"?P:15);const st=h.useCallback(Qe=>Ze(tt(ae(Ie(Qe)))),[Ie,ae,tt]);let pt,Ct;if(f!==!1&&(de!=null&&de.total)){let Qe;de.size?Qe=de.size:Qe=J==="small"||J==="middle"?"small":void 0;const Xe=wt=>h.createElement(cFe,Object.assign({},de,{className:Me(`${_e}-pagination ${_e}-pagination-${wt}`,de.className),size:Qe})),nt=W==="rtl"?"left":"right",{position:ft}=de;if(ft!==null&&Array.isArray(ft)){const wt=ft.find(Wt=>Wt.includes("top")),Tt=ft.find(Wt=>Wt.includes("bottom")),en=ft.every(Wt=>`${Wt}`=="none");!wt&&!Tt&&!en&&(Ct=Xe(nt)),wt&&(pt=Xe(wt.toLowerCase().replace("top",""))),Tt&&(Ct=Xe(Tt.toLowerCase().replace("bottom","")))}else Ct=Xe(nt)}let Pe;typeof E=="boolean"?Pe={spinning:E}:typeof E=="object"&&(Pe=Object.assign({spinning:!0},E));const Te=Me(le,ge,`${_e}-wrapper`,Y==null?void 0:Y.className,{[`${_e}-wrapper-rtl`]:W==="rtl"},i,s,ce),De=Object.assign(Object.assign({},Y==null?void 0:Y.style),a),Oe=typeof(k==null?void 0:k.emptyText)<"u"?k.emptyText:(U==null?void 0:U("Table"))||h.createElement(aee,{componentName:"Table"}),He=A?I3e:T3e,Ge={},ht=h.useMemo(()=>{const{fontSize:Qe,lineHeight:Xe,lineWidth:nt,padding:ft,paddingXS:wt,paddingSM:Tt}=pe,en=Math.floor(Qe*Xe);switch(J){case"middle":return Tt*2+en+nt;case"small":return wt*2+en+nt;default:return ft*2+en+nt}},[pe,J]);return A&&(Ge.listItemHeight=ht),F(h.createElement("div",{ref:re,className:Te,style:De},h.createElement(hx,Object.assign({spinning:!1},Pe),pt,h.createElement(He,Object.assign({},Ge,z,{ref:ve,columns:L,direction:W,expandable:Z,prefixCls:_e,className:Me({[`${_e}-middle`]:J==="middle",[`${_e}-small`]:J==="small",[`${_e}-bordered`]:c,[`${_e}-empty`]:ue.length===0},le,ge,ce),data:Ve,rowKey:ee,rowClassName:lt,emptyText:Oe,internalHooks:Tw,internalRefs:fe,transformColumns:st,getContainerWidth:ie})),Ct)))},K3e=h.forwardRef(q3e),G3e=(t,e)=>{const n=h.useRef(0);return n.current+=1,h.createElement(K3e,Object.assign({},t,{ref:e,_renderTimes:n.current}))},Au=h.forwardRef(G3e);Au.SELECTION_COLUMN=rd;Au.EXPAND_COLUMN=Bc;Au.SELECTION_ALL=MM;Au.SELECTION_INVERT=OM;Au.SELECTION_NONE=AM;Au.Column=E5e;Au.ColumnGroup=T5e;Au.Summary=_te;const Y3e=t=>{const{paddingXXS:e,lineWidth:n,tagPaddingHorizontal:r,componentCls:o,calc:i}=t,s=i(r).sub(n).equal(),a=i(e).sub(n).equal();return{[o]:Object.assign(Object.assign({},ho(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:s,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${Ae(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${o}-close-icon`]:{marginInlineStart:a,fontSize:t.tagIconSize,color:t.colorTextDescription,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:s}}),[`${o}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},tL=t=>{const{lineWidth:e,fontSizeIcon:n,calc:r}=t,o=t.fontSizeSM;return Vn(t,{tagFontSize:o,tagLineHeight:Ae(r(t.lineHeightSM).mul(o).equal()),tagIconSize:r(n).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},nL=t=>({defaultBg:new Fn(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText}),Yte=eo("Tag",t=>{const e=tL(t);return Y3e(e)},nL);var X3e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Q3e=h.forwardRef((t,e)=>{const{prefixCls:n,style:r,className:o,checked:i,onChange:s,onClick:a}=t,l=X3e(t,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:c,tag:u}=h.useContext(pn),d=b=>{s==null||s(!i),a==null||a(b)},f=c("tag",n),[m,g,v]=Yte(f),y=Me(f,`${f}-checkable`,{[`${f}-checkable-checked`]:i},u==null?void 0:u.className,o,g,v);return m(h.createElement("span",Object.assign({},l,{ref:e,style:Object.assign(Object.assign({},r),u==null?void 0:u.style),className:y,onClick:d})))}),J3e=t=>TJ(t,(e,n)=>{let{textColor:r,lightBorderColor:o,lightColor:i,darkColor:s}=n;return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:r,background:i,borderColor:o,"&-inverse":{color:t.colorTextLightSolid,background:s,borderColor:s},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Z3e=cw(["Tag","preset"],t=>{const e=tL(t);return J3e(e)},nL);function eze(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const nS=(t,e,n)=>{const r=eze(n);return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:t[`color${n}`],background:t[`color${r}Bg`],borderColor:t[`color${r}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}},tze=cw(["Tag","status"],t=>{const e=tL(t);return[nS(e,"success","Success"),nS(e,"processing","Info"),nS(e,"error","Error"),nS(e,"warning","Warning")]},nL);var nze=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const rze=h.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:o,style:i,children:s,icon:a,color:l,onClose:c,bordered:u=!0,visible:d}=t,f=nze(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:m,direction:g,tag:v}=h.useContext(pn),[y,b]=h.useState(!0),x=ni(f,["closeIcon","closable"]);h.useEffect(()=>{d!==void 0&&b(d)},[d]);const w=wee(l),C=GAe(l),E=w||C,_=Object.assign(Object.assign({backgroundColor:l&&!E?l:void 0},v==null?void 0:v.style),i),S=m("tag",n),[T,I,P]=Yte(S),M=Me(S,v==null?void 0:v.className,{[`${S}-${l}`]:E,[`${S}-has-color`]:l&&!E,[`${S}-hidden`]:!y,[`${S}-rtl`]:g==="rtl",[`${S}-borderless`]:!u},r,o,I,P),R=j=>{j.stopPropagation(),c==null||c(j),!j.defaultPrevented&&b(!1)},[,k]=TZ(iE(t),iE(v),{closable:!1,closeIconRender:j=>{const L=h.createElement("span",{className:`${S}-close-icon`,onClick:R},j);return YJ(j,L,z=>({onClick:V=>{var W;(W=z==null?void 0:z.onClick)===null||W===void 0||W.call(z,V),R(V)},className:Me(z==null?void 0:z.className,`${S}-close-icon`)}))}}),D=typeof f.onClick=="function"||s&&s.type==="a",A=a||null,N=A?h.createElement(h.Fragment,null,A,s&&h.createElement("span",null,s)):s,O=h.createElement("span",Object.assign({},x,{ref:e,className:M,style:_}),N,k,w&&h.createElement(Z3e,{key:"preset",prefixCls:S}),C&&h.createElement(tze,{key:"status",prefixCls:S}));return T(D?h.createElement(pw,{component:"Tag"},O):O)}),Xte=rze;Xte.CheckableTag=Q3e;const{Option:oze}=xl,mE=({value:t,onChange:e,placeholder:n="Sélectionner un pôle",style:r,disabled:o=!1,allowClear:i=!0,showSearch:s=!0,className:a,required:l=!1,filterBySelas:c=!1,currentSelasId:u=null,useIdAsValue:d=!0,title:f})=>{const{poles:m,loading:g,error:v}=Rv(),[y,b]=h.useState([]);h.useEffect(()=>{b(c&&u?m.filter(w=>w.selasId===u||!w.selasId):m)},[m,c,u]);const x=w=>{e&&e(w)};return v?(console.error("Erreur lors du chargement des pôles:",v),p.jsx(xl,{className:a,style:r,disabled:!0,placeholder:"Erreur de chargement",title:f})):p.jsx(xl,{className:a,value:t,onChange:x,placeholder:n,style:{width:200,...r},disabled:o||g,allowClear:i,showSearch:s,filterOption:(w,C)=>{var E;return((E=C==null?void 0:C.children)==null?void 0:E.toString().toLowerCase().indexOf(w.toLowerCase()))>=0},notFoundContent:g?p.jsx(hx,{size:"small"}):"Aucun pôle trouvé",title:f,children:y.map(w=>p.jsx(oze,{value:d?w.id:w.nom,children:w.nom},w.id))})},vx={black:"#000",white:"#fff"},Gp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Yp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Xp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Qp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Jp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},My={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ize={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Cu(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const sze=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"})),Iw="$$material";function aze(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lze(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var cze=function(){function t(n){var r=this;this._insertTag=function(o){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,i),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lze(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=aze(o);try{i.insertRule(r,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ai="-ms-",gE="-moz-",or="-webkit-",Qte="comm",rL="rule",oL="decl",uze="@import",Jte="@keyframes",dze="@layer",fze=Math.abs,zT=String.fromCharCode,hze=Object.assign;function pze(t,e){return wi(t,0)^45?(((e<<2^wi(t,0))<<2^wi(t,1))<<2^wi(t,2))<<2^wi(t,3):0}function Zte(t){return t.trim()}function mze(t,e){return(t=e.exec(t))?t[0]:t}function ir(t,e,n){return t.replace(e,n)}function BM(t,e){return t.indexOf(e)}function wi(t,e){return t.charCodeAt(e)|0}function yx(t,e,n){return t.slice(e,n)}function Bl(t){return t.length}function iL(t){return t.length}function rS(t,e){return e.push(t),t}function gze(t,e){return t.map(e).join("")}var BT=1,ev=1,ene=0,Os=0,zo=0,Bv="";function VT(t,e,n,r,o,i,s){return{value:t,root:e,parent:n,type:r,props:o,children:i,line:BT,column:ev,length:s,return:""}}function Oy(t,e){return hze(VT("",null,null,"",null,null,0),t,{length:-t.length},e)}function vze(){return zo}function yze(){return zo=Os>0?wi(Bv,--Os):0,ev--,zo===10&&(ev=1,BT--),zo}function ra(){return zo=Os<ene?wi(Bv,Os++):0,ev++,zo===10&&(ev=1,BT++),zo}function dc(){return wi(Bv,Os)}function _C(){return Os}function Pw(t,e){return yx(Bv,t,e)}function bx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tne(t){return BT=ev=1,ene=Bl(Bv=t),Os=0,[]}function nne(t){return Bv="",t}function EC(t){return Zte(Pw(Os-1,VM(t===91?t+2:t===40?t+1:t)))}function bze(t){for(;(zo=dc())&&zo<33;)ra();return bx(t)>2||bx(zo)>3?"":" "}function xze(t,e){for(;--e&&ra()&&!(zo<48||zo>102||zo>57&&zo<65||zo>70&&zo<97););return Pw(t,_C()+(e<6&&dc()==32&&ra()==32))}function VM(t){for(;ra();)switch(zo){case t:return Os;case 34:case 39:t!==34&&t!==39&&VM(zo);break;case 40:t===41&&VM(t);break;case 92:ra();break}return Os}function wze(t,e){for(;ra()&&t+zo!==57;)if(t+zo===84&&dc()===47)break;return"/*"+Pw(e,Os-1)+"*"+zT(t===47?t:ra())}function Sze(t){for(;!bx(dc());)ra();return Pw(t,Os)}function Cze(t){return nne(TC("",null,null,null,[""],t=tne(t),0,[0],t))}function TC(t,e,n,r,o,i,s,a,l){for(var c=0,u=0,d=s,f=0,m=0,g=0,v=1,y=1,b=1,x=0,w="",C=o,E=i,_=r,S=w;y;)switch(g=x,x=ra()){case 40:if(g!=108&&wi(S,d-1)==58){BM(S+=ir(EC(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=EC(x);break;case 9:case 10:case 13:case 32:S+=bze(g);break;case 92:S+=xze(_C()-1,7);continue;case 47:switch(dc()){case 42:case 47:rS(_ze(wze(ra(),_C()),e,n),l);break;default:S+="/"}break;case 123*v:a[c++]=Bl(S)*b;case 125*v:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+u:b==-1&&(S=ir(S,/\f/g,"")),m>0&&Bl(S)-d&&rS(m>32?_H(S+";",r,n,d-1):_H(ir(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(rS(_=CH(S,e,n,c,u,o,a,w,C=[],E=[],d),i),x===123)if(u===0)TC(S,e,_,_,C,i,d,a,E);else switch(f===99&&wi(S,3)===110?100:f){case 100:case 108:case 109:case 115:TC(t,_,_,r&&rS(CH(t,_,_,0,0,o,a,w,o,C=[],d),E),o,E,d,a,r?C:E);break;default:TC(S,_,_,_,[""],E,0,a,E)}}c=u=m=0,v=b=1,w=S="",d=s;break;case 58:d=1+Bl(S),m=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&yze()==125)continue}switch(S+=zT(x),x*v){case 38:b=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Bl(S)-1)*b,b=1;break;case 64:dc()===45&&(S+=EC(ra())),f=dc(),u=d=Bl(w=S+=Sze(_C())),x++;break;case 45:g===45&&Bl(S)==2&&(v=0)}}return i}function CH(t,e,n,r,o,i,s,a,l,c,u){for(var d=o-1,f=o===0?i:[""],m=iL(f),g=0,v=0,y=0;g<r;++g)for(var b=0,x=yx(t,d+1,d=fze(v=s[g])),w=t;b<m;++b)(w=Zte(v>0?f[b]+" "+x:ir(x,/&\f/g,f[b])))&&(l[y++]=w);return VT(t,e,n,o===0?rL:a,l,c,u)}function _ze(t,e,n){return VT(t,e,n,Qte,zT(vze()),yx(t,2,-2),0)}function _H(t,e,n,r){return VT(t,e,n,oL,yx(t,0,r),yx(t,r+1,-1),r)}function fg(t,e){for(var n="",r=iL(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function Eze(t,e,n,r){switch(t.type){case dze:if(t.children.length)break;case uze:case oL:return t.return=t.return||t.value;case Qte:return"";case Jte:return t.return=t.value+"{"+fg(t.children,r)+"}";case rL:t.value=t.props.join(",")}return Bl(n=fg(t.children,r))?t.return=t.value+"{"+n+"}":""}function Tze(t){var e=iL(t);return function(n,r,o,i){for(var s="",a=0;a<e;a++)s+=t[a](n,r,o,i)||"";return s}}function Ize(t){return function(e){e.root||(e=e.return)&&t(e)}}function rne(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Pze=function(e,n,r){for(var o=0,i=0;o=i,i=dc(),o===38&&i===12&&(n[r]=1),!bx(i);)ra();return Pw(e,Os)},Rze=function(e,n){var r=-1,o=44;do switch(bx(o)){case 0:o===38&&dc()===12&&(n[r]=1),e[r]+=Pze(Os-1,n,r);break;case 2:e[r]+=EC(o);break;case 4:if(o===44){e[++r]=dc()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=zT(o)}while(o=ra());return e},kze=function(e,n){return nne(Rze(tne(e),n))},EH=new WeakMap,Dze=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!EH.get(r))&&!o){EH.set(e,!0);for(var i=[],s=kze(n,i),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=i[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},$ze=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function one(t,e){switch(pze(t,e)){case 5103:return or+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return or+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return or+t+gE+t+Ai+t+t;case 6828:case 4268:return or+t+Ai+t+t;case 6165:return or+t+Ai+"flex-"+t+t;case 5187:return or+t+ir(t,/(\w+).+(:[^]+)/,or+"box-$1$2"+Ai+"flex-$1$2")+t;case 5443:return or+t+Ai+"flex-item-"+ir(t,/flex-|-self/,"")+t;case 4675:return or+t+Ai+"flex-line-pack"+ir(t,/align-content|flex-|-self/,"")+t;case 5548:return or+t+Ai+ir(t,"shrink","negative")+t;case 5292:return or+t+Ai+ir(t,"basis","preferred-size")+t;case 6060:return or+"box-"+ir(t,"-grow","")+or+t+Ai+ir(t,"grow","positive")+t;case 4554:return or+ir(t,/([^-])(transform)/g,"$1"+or+"$2")+t;case 6187:return ir(ir(ir(t,/(zoom-|grab)/,or+"$1"),/(image-set)/,or+"$1"),t,"")+t;case 5495:case 3959:return ir(t,/(image-set\([^]*)/,or+"$1$`$1");case 4968:return ir(ir(t,/(.+:)(flex-)?(.*)/,or+"box-pack:$3"+Ai+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+or+t+t;case 4095:case 3583:case 4068:case 2532:return ir(t,/(.+)-inline(.+)/,or+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bl(t)-1-e>6)switch(wi(t,e+1)){case 109:if(wi(t,e+4)!==45)break;case 102:return ir(t,/(.+:)(.+)-([^]+)/,"$1"+or+"$2-$3$1"+gE+(wi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~BM(t,"stretch")?one(ir(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wi(t,e+1)!==115)break;case 6444:switch(wi(t,Bl(t)-3-(~BM(t,"!important")&&10))){case 107:return ir(t,":",":"+or)+t;case 101:return ir(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+or+(wi(t,14)===45?"inline-":"")+"box$3$1"+or+"$2$3$1"+Ai+"$2box$3")+t}break;case 5936:switch(wi(t,e+11)){case 114:return or+t+Ai+ir(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return or+t+Ai+ir(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return or+t+Ai+ir(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return or+t+Ai+t+t}return t}var Mze=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case oL:e.return=one(e.value,e.length);break;case Jte:return fg([Oy(e,{value:ir(e.value,"@","@"+or)})],o);case rL:if(e.length)return gze(e.props,function(i){switch(mze(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fg([Oy(e,{props:[ir(i,/:(read-\w+)/,":"+gE+"$1")]})],o);case"::placeholder":return fg([Oy(e,{props:[ir(i,/:(plac\w+)/,":"+or+"input-$1")]}),Oy(e,{props:[ir(i,/:(plac\w+)/,":"+gE+"$1")]}),Oy(e,{props:[ir(i,/:(plac\w+)/,Ai+"input-$1")]})],o)}return""})}},Oze=[Mze],ine=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var o=e.stylisPlugins||Oze,i={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),b=1;b<y.length;b++)i[y[b]]=!0;a.push(v)});var l,c=[Dze,$ze];{var u,d=[Eze,Ize(function(v){u.insert(v)})],f=Tze(c.concat(o,d)),m=function(y){return fg(Cze(y),f)};l=function(y,b,x,w){u=x,m(y?y+"{"+b.styles+"}":b.styles),w&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new cze({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(a),g},sne={exports:{}},Ir={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=typeof Symbol=="function"&&Symbol.for,sL=ui?Symbol.for("react.element"):60103,aL=ui?Symbol.for("react.portal"):60106,HT=ui?Symbol.for("react.fragment"):60107,WT=ui?Symbol.for("react.strict_mode"):60108,UT=ui?Symbol.for("react.profiler"):60114,qT=ui?Symbol.for("react.provider"):60109,KT=ui?Symbol.for("react.context"):60110,lL=ui?Symbol.for("react.async_mode"):60111,GT=ui?Symbol.for("react.concurrent_mode"):60111,YT=ui?Symbol.for("react.forward_ref"):60112,XT=ui?Symbol.for("react.suspense"):60113,Aze=ui?Symbol.for("react.suspense_list"):60120,QT=ui?Symbol.for("react.memo"):60115,JT=ui?Symbol.for("react.lazy"):60116,Nze=ui?Symbol.for("react.block"):60121,jze=ui?Symbol.for("react.fundamental"):60117,Lze=ui?Symbol.for("react.responder"):60118,Fze=ui?Symbol.for("react.scope"):60119;function ha(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sL:switch(t=t.type,t){case lL:case GT:case HT:case UT:case WT:case XT:return t;default:switch(t=t&&t.$$typeof,t){case KT:case YT:case JT:case QT:case qT:return t;default:return e}}case aL:return e}}}function ane(t){return ha(t)===GT}Ir.AsyncMode=lL;Ir.ConcurrentMode=GT;Ir.ContextConsumer=KT;Ir.ContextProvider=qT;Ir.Element=sL;Ir.ForwardRef=YT;Ir.Fragment=HT;Ir.Lazy=JT;Ir.Memo=QT;Ir.Portal=aL;Ir.Profiler=UT;Ir.StrictMode=WT;Ir.Suspense=XT;Ir.isAsyncMode=function(t){return ane(t)||ha(t)===lL};Ir.isConcurrentMode=ane;Ir.isContextConsumer=function(t){return ha(t)===KT};Ir.isContextProvider=function(t){return ha(t)===qT};Ir.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sL};Ir.isForwardRef=function(t){return ha(t)===YT};Ir.isFragment=function(t){return ha(t)===HT};Ir.isLazy=function(t){return ha(t)===JT};Ir.isMemo=function(t){return ha(t)===QT};Ir.isPortal=function(t){return ha(t)===aL};Ir.isProfiler=function(t){return ha(t)===UT};Ir.isStrictMode=function(t){return ha(t)===WT};Ir.isSuspense=function(t){return ha(t)===XT};Ir.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===HT||t===GT||t===UT||t===WT||t===XT||t===Aze||typeof t=="object"&&t!==null&&(t.$$typeof===JT||t.$$typeof===QT||t.$$typeof===qT||t.$$typeof===KT||t.$$typeof===YT||t.$$typeof===jze||t.$$typeof===Lze||t.$$typeof===Fze||t.$$typeof===Nze)};Ir.typeOf=ha;sne.exports=Ir;var zze=sne.exports,lne=zze,Bze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vze={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cne={};cne[lne.ForwardRef]=Bze;cne[lne.Memo]=Vze;var Hze=!0;function une(t,e,n){var r="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):o&&(r+=o+" ")}),r}var cL=function(e,n,r){var o=e.key+"-"+n.name;(r===!1||Hze===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles)},uL=function(e,n,r){cL(e,n,r);var o=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+o:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Wze(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Uze={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qze=/[A-Z]|^ms/g,Kze=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dne=function(e){return e.charCodeAt(1)===45},TH=function(e){return e!=null&&typeof e!="boolean"},JR=rne(function(t){return dne(t)?t:t.replace(qze,"-$&").toLowerCase()}),IH=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Kze,function(r,o,i){return Vl={name:o,styles:i,next:Vl},o})}return Uze[e]!==1&&!dne(e)&&typeof n=="number"&&n!==0?n+"px":n};function xx(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return Vl={name:o.name,styles:o.styles,next:Vl},o.name;var i=n;if(i.styles!==void 0){var s=i.next;if(s!==void 0)for(;s!==void 0;)Vl={name:s.name,styles:s.styles,next:Vl},s=s.next;var a=i.styles+";";return a}return Gze(t,e,n)}case"function":{if(t!==void 0){var l=Vl,c=n(t);return Vl=l,xx(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function Gze(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=xx(t,e,n[o])+";";else for(var i in n){var s=n[i];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":TH(a)&&(r+=JR(i)+":"+IH(i,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)TH(s[l])&&(r+=JR(i)+":"+IH(i,s[l])+";");else{var c=xx(t,e,s);switch(i){case"animation":case"animationName":{r+=JR(i)+":"+c+";";break}default:r+=i+"{"+c+"}"}}}return r}var PH=/label:\s*([^\s;{]+)\s*(;|$)/g,Vl;function ZT(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,o="";Vl=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,o+=xx(n,e,i);else{var s=i;o+=s[0]}for(var a=1;a<t.length;a++)if(o+=xx(n,e,t[a]),r){var l=i;o+=l[a]}PH.lastIndex=0;for(var c="",u;(u=PH.exec(o))!==null;)c+="-"+u[1];var d=Wze(o)+c;return{name:d,styles:o,next:Vl}}var Yze=function(e){return e()},fne=mc.useInsertionEffect?mc.useInsertionEffect:!1,hne=fne||Yze,RH=fne||h.useLayoutEffect,pne=h.createContext(typeof HTMLElement<"u"?ine({key:"css"}):null),Xze=pne.Provider,dL=function(e){return h.forwardRef(function(n,r){var o=h.useContext(pne);return e(n,o,r)})},Rw=h.createContext({}),fL={}.hasOwnProperty,HM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Qze=function(e,n){var r={};for(var o in n)fL.call(n,o)&&(r[o]=n[o]);return r[HM]=e,r},Jze=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return cL(n,r,o),hne(function(){return uL(n,r,o)}),null},Zze=dL(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=t[HM],i=[r],s="";typeof t.className=="string"?s=une(e.registered,i,t.className):t.className!=null&&(s=t.className+" ");var a=ZT(i,void 0,h.useContext(Rw));s+=e.key+"-"+a.name;var l={};for(var c in t)fL.call(t,c)&&c!=="css"&&c!==HM&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),h.createElement(h.Fragment,null,h.createElement(Jze,{cache:e,serialized:a,isStringTag:typeof o=="string"}),h.createElement(o,l))}),eBe=Zze,ZR={exports:{}},kH;function mne(){return kH||(kH=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)({}).hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(ZR)),ZR.exports}mne();var DH=function(e,n){var r=arguments;if(n==null||!fL.call(n,"css"))return h.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=eBe,i[1]=Qze(e,n);for(var s=2;s<o;s++)i[s]=r[s];return h.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(DH||(DH={}));var tBe=dL(function(t,e){var n=t.styles,r=ZT([n],void 0,h.useContext(Rw)),o=h.useRef();return RH(function(){var i=e.key+"-global",s=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),s.hydrate([l])),o.current=[s,a],function(){s.flush()}},[e]),RH(function(){var i=o.current,s=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&uL(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function eI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ZT(e)}function Vv(){var t=eI.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var nBe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rBe=rne(function(t){return nBe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),oBe=rBe,iBe=function(e){return e!=="theme"},$H=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?oBe:iBe},MH=function(e,n,r){var o;if(n){var i=n.shouldForwardProp;o=e.__emotion_forwardProp&&i?function(s){return e.__emotion_forwardProp(s)&&i(s)}:i}return typeof o!="function"&&r&&(o=e.__emotion_forwardProp),o},sBe=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return cL(n,r,o),hne(function(){return uL(n,r,o)}),null},aBe=function t(e,n){var r=e.__emotion_real===e,o=r&&e.__emotion_base||e,i,s;n!==void 0&&(i=n.label,s=n.target);var a=MH(e,n,r),l=a||$H(o),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&d.push("label:"+i+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var m=u.length,g=1;g<m;g++)d.push(u[g],f[g])}var v=dL(function(y,b,x){var w=c&&y.as||o,C="",E=[],_=y;if(y.theme==null){_={};for(var S in y)_[S]=y[S];_.theme=h.useContext(Rw)}typeof y.className=="string"?C=une(b.registered,E,y.className):y.className!=null&&(C=y.className+" ");var T=ZT(d.concat(E),b.registered,_);C+=b.key+"-"+T.name,s!==void 0&&(C+=" "+s);var I=c&&a===void 0?$H(w):l,P={};for(var M in y)c&&M==="as"||I(M)&&(P[M]=y[M]);return P.className=C,x&&(P.ref=x),h.createElement(h.Fragment,null,h.createElement(sBe,{cache:b,serialized:T,isStringTag:typeof w=="string"}),h.createElement(w,P))});return v.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=o,v.__emotion_styles=d,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+s}}),v.withComponent=function(y,b){var x=t(y,B({},n,b,{shouldForwardProp:MH(v,b,!0)}));return x.apply(void 0,d)},v}},lBe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],WM=aBe.bind(null);lBe.forEach(function(t){WM[t]=WM(t)});var gne={exports:{}},cBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uBe=cBe,dBe=uBe;function vne(){}function yne(){}yne.resetWarningCache=vne;var fBe=function(){function t(r,o,i,s,a,l){if(l!==dBe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yne,resetWarningCache:vne};return n.PropTypes=n,n};gne.exports=fBe();var hBe=gne.exports;const qe=pv(hBe);let UM;typeof document=="object"&&(UM=ine({key:"css",prepend:!0}));function pBe(t){const{injectFirst:e,children:n}=t;return e&&UM?p.jsx(Xze,{value:UM,children:n}):n}function mBe(t){return t==null||Object.keys(t).length===0}function bne(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?o=>e(mBe(o)?n:o):e;return p.jsx(tBe,{styles:r})}function hL(t,e){return WM(t,e)}const xne=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},gBe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:bne,StyledEngineProvider:pBe,ThemeContext:Rw,css:eI,default:hL,internal_processStyles:xne,keyframes:Vv},Symbol.toStringTag,{value:"Module"}));function Kc(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wne(t){if(h.isValidElement(t)||!Kc(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=wne(t[n])}),e}function is(t,e,n={clone:!0}){const r=n.clone?B({},t):t;return Kc(t)&&Kc(e)&&Object.keys(e).forEach(o=>{h.isValidElement(e[o])?r[o]=e[o]:Kc(e[o])&&Object.prototype.hasOwnProperty.call(t,o)&&Kc(t[o])?r[o]=is(t[o],e[o],n):n.clone?r[o]=Kc(e[o])?wne(e[o]):e[o]:r[o]=e[o]}),r}const vBe=Object.freeze(Object.defineProperty({__proto__:null,default:is,isPlainObject:Kc},Symbol.toStringTag,{value:"Module"})),yBe=["values","unit","step"],bBe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>B({},n,{[r.key]:r.val}),{})};function Sne(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,o=ct(t,yBe),i=bBe(e),s=Object.keys(i);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,m){const g=s.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:m)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function d(f){const m=s.indexOf(f);return m===0?a(s[1]):m===s.length-1?l(s[m]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return B({keys:s,values:i,up:a,down:l,between:c,only:u,not:d,unit:n},o)}const xBe={borderRadius:4};function Y0(t,e){return e?is(t,e,{clone:!1}):t}const pL={xs:0,sm:600,md:900,lg:1200,xl:1536},OH={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${pL[t]}px)`};function As(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||OH;return e.reduce((s,a,l)=>(s[i.up(i.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const i=r.breakpoints||OH;return Object.keys(e).reduce((s,a)=>{if(Object.keys(i.values||pL).indexOf(a)!==-1){const l=i.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function Cne(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,o)=>{const i=t.up(o);return r[i]={},r},{}))||{}}function _ne(t,e){return t.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},e)}function wBe(t,...e){const n=Cne(t),r=[n,...e].reduce((o,i)=>is(o,i),{});return _ne(Object.keys(n),r)}function SBe(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((o,i)=>{i<t.length&&(n[o]=!0)}):r.forEach(o=>{t[o]!=null&&(n[o]=!0)}),n}function _h({values:t,breakpoints:e,base:n}){const r=n||SBe(t,e),o=Object.keys(r);if(o.length===0)return t;let i;return o.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[i],i=a):s[a]=t,s),{})}function gt(t){if(typeof t!="string")throw new Error(Cu(7));return t.charAt(0).toUpperCase()+t.slice(1)}const CBe=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"}));function tI(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,t)}function vE(t,e,n,r=n){let o;return typeof t=="function"?o=t(n):Array.isArray(t)?o=t[n]||r:o=tI(t,n)||r,e&&(o=e(o,r,t)),o}function Oo(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:o}=t,i=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=tI(l,r)||{};return As(s,a,d=>{let f=vE(c,o,d);return d===f&&typeof d=="string"&&(f=vE(c,o,`${e}${d==="default"?"":gt(d)}`,d)),n===!1?f:{[n]:f}})};return i.propTypes={},i.filterProps=[e],i}function _Be(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const EBe={m:"margin",p:"padding"},TBe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},AH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},IBe=_Be(t=>{if(t.length>2)if(AH[t])t=AH[t];else return[t];const[e,n]=t.split(""),r=EBe[e],o=TBe[n]||"";return Array.isArray(o)?o.map(i=>r+i):[r+o]}),mL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...mL,...gL];function kw(t,e,n,r){var o;const i=(o=tI(t,e,!1))!=null?o:n;return typeof i=="number"?s=>typeof s=="string"?s:i*s:Array.isArray(i)?s=>typeof s=="string"?s:i[s]:typeof i=="function"?i:()=>{}}function vL(t){return kw(t,"spacing",8)}function ep(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function PBe(t,e){return n=>t.reduce((r,o)=>(r[o]=ep(e,n),r),{})}function RBe(t,e,n,r){if(e.indexOf(n)===-1)return null;const o=IBe(n),i=PBe(o,r),s=t[n];return As(t,s,i)}function Ene(t,e){const n=vL(t.theme);return Object.keys(t).map(r=>RBe(t,e,r,n)).reduce(Y0,{})}function bo(t){return Ene(t,mL)}bo.propTypes={};bo.filterProps=mL;function xo(t){return Ene(t,gL)}xo.propTypes={};xo.filterProps=gL;function kBe(t=8){if(t.mui)return t;const e=vL({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(i=>{const s=e(i);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function nI(...t){const e=t.reduce((r,o)=>(o.filterProps.forEach(i=>{r[i]=o}),r),{}),n=r=>Object.keys(r).reduce((o,i)=>e[i]?Y0(o,e[i](r)):o,{});return n.propTypes={},n.filterProps=t.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Ra(t){return typeof t!="number"?t:`${t}px solid`}function Ga(t,e){return Oo({prop:t,themeKey:"borders",transform:e})}const DBe=Ga("border",Ra),$Be=Ga("borderTop",Ra),MBe=Ga("borderRight",Ra),OBe=Ga("borderBottom",Ra),ABe=Ga("borderLeft",Ra),NBe=Ga("borderColor"),jBe=Ga("borderTopColor"),LBe=Ga("borderRightColor"),FBe=Ga("borderBottomColor"),zBe=Ga("borderLeftColor"),BBe=Ga("outline",Ra),VBe=Ga("outlineColor"),rI=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=kw(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ep(e,r)});return As(t,t.borderRadius,n)}return null};rI.propTypes={};rI.filterProps=["borderRadius"];nI(DBe,$Be,MBe,OBe,ABe,NBe,jBe,LBe,FBe,zBe,rI,BBe,VBe);const oI=t=>{if(t.gap!==void 0&&t.gap!==null){const e=kw(t.theme,"spacing",8),n=r=>({gap:ep(e,r)});return As(t,t.gap,n)}return null};oI.propTypes={};oI.filterProps=["gap"];const iI=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=kw(t.theme,"spacing",8),n=r=>({columnGap:ep(e,r)});return As(t,t.columnGap,n)}return null};iI.propTypes={};iI.filterProps=["columnGap"];const sI=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=kw(t.theme,"spacing",8),n=r=>({rowGap:ep(e,r)});return As(t,t.rowGap,n)}return null};sI.propTypes={};sI.filterProps=["rowGap"];const HBe=Oo({prop:"gridColumn"}),WBe=Oo({prop:"gridRow"}),UBe=Oo({prop:"gridAutoFlow"}),qBe=Oo({prop:"gridAutoColumns"}),KBe=Oo({prop:"gridAutoRows"}),GBe=Oo({prop:"gridTemplateColumns"}),YBe=Oo({prop:"gridTemplateRows"}),XBe=Oo({prop:"gridTemplateAreas"}),QBe=Oo({prop:"gridArea"});nI(oI,iI,sI,HBe,WBe,UBe,qBe,KBe,GBe,YBe,XBe,QBe);function hg(t,e){return e==="grey"?e:t}const JBe=Oo({prop:"color",themeKey:"palette",transform:hg}),ZBe=Oo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:hg}),eVe=Oo({prop:"backgroundColor",themeKey:"palette",transform:hg});nI(JBe,ZBe,eVe);function Gs(t){return t<=1&&t!==0?`${t*100}%`:t}const tVe=Oo({prop:"width",transform:Gs}),yL=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,o;const i=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||pL[n];return i?((o=t.theme)==null||(o=o.breakpoints)==null?void 0:o.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Gs(n)}};return As(t,t.maxWidth,e)}return null};yL.filterProps=["maxWidth"];const nVe=Oo({prop:"minWidth",transform:Gs}),rVe=Oo({prop:"height",transform:Gs}),oVe=Oo({prop:"maxHeight",transform:Gs}),iVe=Oo({prop:"minHeight",transform:Gs});Oo({prop:"size",cssProperty:"width",transform:Gs});Oo({prop:"size",cssProperty:"height",transform:Gs});const sVe=Oo({prop:"boxSizing"});nI(tVe,yL,nVe,rVe,oVe,iVe,sVe);const Dw={border:{themeKey:"borders",transform:Ra},borderTop:{themeKey:"borders",transform:Ra},borderRight:{themeKey:"borders",transform:Ra},borderBottom:{themeKey:"borders",transform:Ra},borderLeft:{themeKey:"borders",transform:Ra},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ra},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rI},color:{themeKey:"palette",transform:hg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:hg},backgroundColor:{themeKey:"palette",transform:hg},p:{style:xo},pt:{style:xo},pr:{style:xo},pb:{style:xo},pl:{style:xo},px:{style:xo},py:{style:xo},padding:{style:xo},paddingTop:{style:xo},paddingRight:{style:xo},paddingBottom:{style:xo},paddingLeft:{style:xo},paddingX:{style:xo},paddingY:{style:xo},paddingInline:{style:xo},paddingInlineStart:{style:xo},paddingInlineEnd:{style:xo},paddingBlock:{style:xo},paddingBlockStart:{style:xo},paddingBlockEnd:{style:xo},m:{style:bo},mt:{style:bo},mr:{style:bo},mb:{style:bo},ml:{style:bo},mx:{style:bo},my:{style:bo},margin:{style:bo},marginTop:{style:bo},marginRight:{style:bo},marginBottom:{style:bo},marginLeft:{style:bo},marginX:{style:bo},marginY:{style:bo},marginInline:{style:bo},marginInlineStart:{style:bo},marginInlineEnd:{style:bo},marginBlock:{style:bo},marginBlockStart:{style:bo},marginBlockEnd:{style:bo},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:oI},rowGap:{style:sI},columnGap:{style:iI},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Gs},maxWidth:{style:yL},minWidth:{transform:Gs},height:{transform:Gs},maxHeight:{transform:Gs},minHeight:{transform:Gs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function aVe(...t){const e=t.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function lVe(t,e){return typeof t=="function"?t(e):t}function Tne(){function t(n,r,o,i){const s={[n]:r,theme:o},a=i[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=tI(o,c)||{};return d?d(s):As(s,r,g=>{let v=vE(f,u,g);return g===v&&typeof g=="string"&&(v=vE(f,u,`${n}${g==="default"?"":gt(g)}`,g)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:o,theme:i={}}=n||{};if(!o)return null;const s=(r=i.unstable_sxConfig)!=null?r:Dw;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const u=Cne(i.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(m=>{const g=lVe(c[m],i);if(g!=null)if(typeof g=="object")if(s[m])f=Y0(f,t(m,g,i,s));else{const v=As({theme:i},g,y=>({[m]:y}));aVe(v,g)?f[m]=e({sx:g,theme:i}):f=Y0(f,v)}else f=Y0(f,t(m,g,i,s))}),_ne(d,f)}return Array.isArray(o)?o.map(a):a(o)}return e}const Hv=Tne();Hv.filterProps=["sx"];function Ine(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const cVe=["breakpoints","palette","spacing","shape"];function Wv(t={},...e){const{breakpoints:n={},palette:r={},spacing:o,shape:i={}}=t,s=ct(t,cVe),a=Sne(n),l=kBe(o);let c=is({breakpoints:a,direction:"ltr",components:{},palette:B({mode:"light"},r),spacing:l,shape:B({},xBe,i)},s);return c.applyStyles=Ine,c=e.reduce((u,d)=>is(u,d),c),c.unstable_sxConfig=B({},Dw,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Hv({sx:d,theme:this})},c}const uVe=Object.freeze(Object.defineProperty({__proto__:null,default:Wv,private_createBreakpoints:Sne,unstable_applyStyles:Ine},Symbol.toStringTag,{value:"Module"}));function dVe(t){return Object.keys(t).length===0}function Pne(t=null){const e=h.useContext(Rw);return!e||dVe(e)?t:e}const fVe=Wv();function aI(t=fVe){return Pne(t)}function hVe({styles:t,themeId:e,defaultTheme:n={}}){const r=aI(n),o=typeof t=="function"?t(e&&r[e]||r):t;return p.jsx(bne,{styles:o})}const pVe=["sx"],mVe=t=>{var e,n;const r={systemProps:{},otherProps:{}},o=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Dw;return Object.keys(t).forEach(i=>{o[i]?r.systemProps[i]=t[i]:r.otherProps[i]=t[i]}),r};function $w(t){const{sx:e}=t,n=ct(t,pVe),{systemProps:r,otherProps:o}=mVe(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...s)=>{const a=e(...s);return Kc(a)?B({},r,a):r}:i=B({},r,e),B({},o,{sx:i})}const gVe=Object.freeze(Object.defineProperty({__proto__:null,default:Hv,extendSxProp:$w,unstable_createStyleFunctionSx:Tne,unstable_defaultSxConfig:Dw},Symbol.toStringTag,{value:"Module"})),NH=t=>t,vVe=()=>{let t=NH;return{configure(e){t=e},generate(e){return t(e)},reset(){t=NH}}},bL=vVe(),yVe=["className","component"];function bVe(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=t,i=hL("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Hv);return h.forwardRef(function(l,c){const u=aI(n),d=$w(l),{className:f,component:m="div"}=d,g=ct(d,yVe);return p.jsx(i,B({as:m,ref:c,className:it(f,o?o(r):r),theme:e&&u[e]||u},g))})}const xVe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Kt(t,e,n="Mui"){const r=xVe[e];return r?`${n}-${r}`:`${bL.generate(t)}-${e}`}function Gt(t,e,n="Mui"){const r={};return e.forEach(o=>{r[o]=Kt(t,o,n)}),r}var Rne={exports:{}},Nr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xL=Symbol.for("react.transitional.element"),wL=Symbol.for("react.portal"),lI=Symbol.for("react.fragment"),cI=Symbol.for("react.strict_mode"),uI=Symbol.for("react.profiler"),dI=Symbol.for("react.consumer"),fI=Symbol.for("react.context"),hI=Symbol.for("react.forward_ref"),pI=Symbol.for("react.suspense"),mI=Symbol.for("react.suspense_list"),gI=Symbol.for("react.memo"),vI=Symbol.for("react.lazy"),wVe=Symbol.for("react.offscreen"),SVe=Symbol.for("react.client.reference");function Ya(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case xL:switch(t=t.type,t){case lI:case uI:case cI:case pI:case mI:return t;default:switch(t=t&&t.$$typeof,t){case fI:case hI:case vI:case gI:return t;case dI:return t;default:return e}}case wL:return e}}}Nr.ContextConsumer=dI;Nr.ContextProvider=fI;Nr.Element=xL;Nr.ForwardRef=hI;Nr.Fragment=lI;Nr.Lazy=vI;Nr.Memo=gI;Nr.Portal=wL;Nr.Profiler=uI;Nr.StrictMode=cI;Nr.Suspense=pI;Nr.SuspenseList=mI;Nr.isContextConsumer=function(t){return Ya(t)===dI};Nr.isContextProvider=function(t){return Ya(t)===fI};Nr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===xL};Nr.isForwardRef=function(t){return Ya(t)===hI};Nr.isFragment=function(t){return Ya(t)===lI};Nr.isLazy=function(t){return Ya(t)===vI};Nr.isMemo=function(t){return Ya(t)===gI};Nr.isPortal=function(t){return Ya(t)===wL};Nr.isProfiler=function(t){return Ya(t)===uI};Nr.isStrictMode=function(t){return Ya(t)===cI};Nr.isSuspense=function(t){return Ya(t)===pI};Nr.isSuspenseList=function(t){return Ya(t)===mI};Nr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lI||t===uI||t===cI||t===pI||t===mI||t===wVe||typeof t=="object"&&t!==null&&(t.$$typeof===vI||t.$$typeof===gI||t.$$typeof===fI||t.$$typeof===dI||t.$$typeof===hI||t.$$typeof===SVe||t.getModuleId!==void 0)};Nr.typeOf=Ya;Rne.exports=Nr;var jH=Rne.exports;const CVe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function kne(t){const e=`${t}`.match(CVe);return e&&e[1]||""}function Dne(t,e=""){return t.displayName||t.name||kne(t)||e}function LH(t,e,n){const r=Dne(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function _Ve(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return Dne(t,"Component");if(typeof t=="object")switch(t.$$typeof){case jH.ForwardRef:return LH(t,t.render,"ForwardRef");case jH.Memo:return LH(t,t.type,"memo");default:return}}}const EVe=Object.freeze(Object.defineProperty({__proto__:null,default:_Ve,getFunctionName:kne},Symbol.toStringTag,{value:"Module"})),TVe=["ownerState"],IVe=["variants"],PVe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function RVe(t){return Object.keys(t).length===0}function kVe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function ek(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const DVe=Wv(),$Ve=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function oS({defaultTheme:t,theme:e,themeId:n}){return RVe(e)?t:e[n]||e}function MVe(t){return t?(e,n)=>n[t]:null}function IC(t,e){let{ownerState:n}=e,r=ct(e,TVe);const o=typeof t=="function"?t(B({ownerState:n},r)):t;if(Array.isArray(o))return o.flatMap(i=>IC(i,B({ownerState:n},r)));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:i=[]}=o;let a=ct(o,IVe);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(B({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(B({ownerState:n},r,n)):l.style))}),a}return o}function OVe(t={}){const{themeId:e,defaultTheme:n=DVe,rootShouldForwardProp:r=ek,slotShouldForwardProp:o=ek}=t,i=s=>Hv(B({},s,{theme:oS(B({},s,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(s,a={})=>{xne(s,E=>E.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=MVe($Ve(c))}=a,m=ct(a,PVe),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=d||!1;let y,b=ek;c==="Root"||c==="root"?b=r:c?b=o:kVe(s)&&(b=void 0);const x=hL(s,B({shouldForwardProp:b,label:y},m)),w=E=>typeof E=="function"&&E.__emotion_real!==E||Kc(E)?_=>IC(E,B({},_,{theme:oS({theme:_.theme,defaultTheme:n,themeId:e})})):E,C=(E,..._)=>{let S=w(E);const T=_?_.map(w):[];l&&f&&T.push(M=>{const R=oS(B({},M,{defaultTheme:n,themeId:e}));if(!R.components||!R.components[l]||!R.components[l].styleOverrides)return null;const k=R.components[l].styleOverrides,D={};return Object.entries(k).forEach(([A,N])=>{D[A]=IC(N,B({},M,{theme:R}))}),f(M,D)}),l&&!g&&T.push(M=>{var R;const k=oS(B({},M,{defaultTheme:n,themeId:e})),D=k==null||(R=k.components)==null||(R=R[l])==null?void 0:R.variants;return IC({variants:D},B({},M,{theme:k}))}),v||T.push(i);const I=T.length-_.length;if(Array.isArray(E)&&I>0){const M=new Array(I).fill("");S=[...E,...M],S.raw=[...E.raw,...M]}const P=x(S,...T);return s.muiName&&(P.muiName=s.muiName),P};return x.withConfig&&(C.withConfig=x.withConfig),C}}const $ne=OVe();function wx(t,e){const n=B({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=B({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=t[r]||{},i=e[r];n[r]={},!i||!Object.keys(i)?n[r]=o:!o||!Object.keys(o)?n[r]=i:(n[r]=B({},i),Object.keys(o).forEach(s=>{n[r][s]=wx(o[s],i[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Mne(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:wx(e.components[n].defaultProps,r)}function SL({props:t,name:e,defaultTheme:n,themeId:r}){let o=aI(n);return r&&(o=o[r]||o),Mne({theme:o,name:e,props:t})}const Ns=typeof window<"u"?h.useLayoutEffect:h.useEffect;function AVe(t,e,n,r,o){const[i,s]=h.useState(()=>o&&n?n(t).matches:r?r(t).matches:e);return Ns(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&s(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),i}const One=h.useSyncExternalStore;function NVe(t,e,n,r,o){const i=h.useCallback(()=>e,[e]),s=h.useMemo(()=>{if(o&&n)return()=>n(t).matches;if(r!==null){const{matches:u}=r(t);return()=>u}return i},[i,t,r,o,n]),[a,l]=h.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const u=n(t);return[()=>u.matches,d=>(u.addListener(d),()=>{u.removeListener(d)})]},[i,n,t]);return One(l,a,s)}function Ane(t,e={}){const n=Pne(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:i=r?window.matchMedia:null,ssrMatchMedia:s=null,noSsr:a=!1}=Mne({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(One!==void 0?NVe:AVe)(l,o,i,s,a)}function Nne(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const jVe=Object.freeze(Object.defineProperty({__proto__:null,default:Nne},Symbol.toStringTag,{value:"Module"}));function LVe(t,e=0,n=1){return Nne(t,e,n)}function FVe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function jne(t){if(t.type)return t;if(t.charAt(0)==="#")return jne(FVe(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Cu(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(Cu(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}function zVe(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function yE(t,e){return t=jne(t),e=LVe(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,zVe(t)}function qM(...t){return t.reduce((e,n)=>n==null?e:function(...o){e.apply(this,o),n.apply(this,o)},()=>{})}function Mw(t,e=166){let n;function r(...o){const i=()=>{t.apply(this,o)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function BVe(t,e){return()=>null}function X0(t,e){var n,r;return h.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function _i(t){return t&&t.ownerDocument||document}function Sc(t){return _i(t).defaultView||window}function VVe(t,e){return()=>null}function bE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let FH=0;function HVe(t){const[e,n]=h.useState(t),r=t||e;return h.useEffect(()=>{e==null&&(FH+=1,n(`mui-${FH}`))},[e]),r}const zH=mc.useId;function Ow(t){if(zH!==void 0){const e=zH();return t??e}return HVe(t)}function WVe(t,e,n,r,o){return null}function tv({controlled:t,default:e,name:n,state:r="value"}){const{current:o}=h.useRef(t!==void 0),[i,s]=h.useState(e),a=o?t:i,l=h.useCallback(c=>{o||s(c)},[]);return[a,l]}function ea(t){const e=h.useRef(t);return Ns(()=>{e.current=t}),h.useRef((...n)=>(0,e.current)(...n)).current}function mo(...t){return h.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{bE(n,e)})},t)}const BH={};function UVe(t,e){const n=h.useRef(BH);return n.current===BH&&(n.current=t(e)),n}const qVe=[];function KVe(t){h.useEffect(t,qVe)}class Aw{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Aw}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function dh(){const t=UVe(Aw.create).current;return KVe(t.disposeEffect),t}let yI=!0,KM=!1;const GVe=new Aw,YVe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function XVe(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&YVe[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function QVe(t){t.metaKey||t.altKey||t.ctrlKey||(yI=!0)}function tk(){yI=!1}function JVe(){this.visibilityState==="hidden"&&KM&&(yI=!0)}function ZVe(t){t.addEventListener("keydown",QVe,!0),t.addEventListener("mousedown",tk,!0),t.addEventListener("pointerdown",tk,!0),t.addEventListener("touchstart",tk,!0),t.addEventListener("visibilitychange",JVe,!0)}function e6e(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return yI||XVe(e)}function CL(){const t=h.useCallback(o=>{o!=null&&ZVe(o.ownerDocument)},[]),e=h.useRef(!1);function n(){return e.current?(KM=!0,GVe.start(100,()=>{KM=!1}),e.current=!1,!0):!1}function r(o){return e6e(o)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Lne(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let Zp;function Fne(){if(Zp)return Zp;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),Zp="reverse",t.scrollLeft>0?Zp="default":(t.scrollLeft=1,t.scrollLeft===0&&(Zp="negative")),document.body.removeChild(t),Zp}function t6e(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(Fne()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}const zne=t=>{const e=h.useRef({});return h.useEffect(()=>{e.current=t}),e.current};function Yt(t,e,n=void 0){const r={};return Object.keys(t).forEach(o=>{r[o]=t[o].reduce((i,s)=>{if(s){const a=e(s);a!==""&&i.push(a),n&&n[s]&&i.push(n[s])}return i},[]).join(" ")}),r}function nv(t){return typeof t=="string"}function Nm(t,e,n){return t===void 0||nv(t)?e:B({},e,{ownerState:B({},e.ownerState,n)})}function Bne(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function VH(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Vne(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=t;if(!e){const m=it(n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),g=B({},n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),v=B({},n,o,r);return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const s=Bne(B({},o,r)),a=VH(r),l=VH(o),c=e(s),u=it(c==null?void 0:c.className,n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),d=B({},c==null?void 0:c.style,n==null?void 0:n.style,o==null?void 0:o.style,r==null?void 0:r.style),f=B({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function Hne(t,e,n){return typeof t=="function"?t(e,n):t}const n6e=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function la(t){var e;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=t,s=ct(t,n6e),a=i?{}:Hne(r,o),{props:l,internalRef:c}=Vne(B({},s,{externalSlotProps:a})),u=mo(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Nm(n,B({},l,{ref:u}),o)}function Uv(t){if(parseInt(h.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const r6e=h.createContext(),bI=()=>{const t=h.useContext(r6e);return t??!1},o6e=h.createContext(void 0);function i6e(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const o=e.components[n];return o.defaultProps?wx(o.defaultProps,r):!o.styleOverrides&&!o.variants?wx(o,r):r}function s6e({props:t,name:e}){const n=h.useContext(o6e);return i6e({props:t,name:e,theme:{components:n}})}const a6e=["className","component","disableGutters","fixed","maxWidth","classes"],l6e=Wv(),c6e=$ne("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${gt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),u6e=t=>SL({props:t,name:"MuiContainer",defaultTheme:l6e}),d6e=(t,e)=>{const n=l=>Kt(e,l),{classes:r,fixed:o,disableGutters:i,maxWidth:s}=t,a={root:["root",s&&`maxWidth${gt(String(s))}`,o&&"fixed",i&&"disableGutters"]};return Yt(a,n,r)};function f6e(t={}){const{createStyledComponent:e=c6e,useThemeProps:n=u6e,componentName:r="MuiContainer"}=t,o=e(({theme:s,ownerState:a})=>B({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>B({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return h.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:f=!1,fixed:m=!1,maxWidth:g="lg"}=c,v=ct(c,a6e),y=B({},c,{component:d,disableGutters:f,fixed:m,maxWidth:g}),b=d6e(y,r);return p.jsx(o,B({as:d,ownerState:y,className:it(b.root,u),ref:l},v))})}const h6e=["component","direction","spacing","divider","children","className","useFlexGap"],p6e=Wv(),m6e=$ne("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function g6e(t){return SL({props:t,name:"MuiStack",defaultTheme:p6e})}function v6e(t,e){const n=h.Children.toArray(t).filter(Boolean);return n.reduce((r,o,i)=>(r.push(o),i<n.length-1&&r.push(h.cloneElement(e,{key:`separator-${i}`})),r),[])}const y6e=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],b6e=({ownerState:t,theme:e})=>{let n=B({display:"flex",flexDirection:"column"},As({theme:e},_h({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=vL(e),o=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),i=_h({values:t.direction,base:o}),s=_h({values:t.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((l,c,u)=>{if(!i[l]){const f=c>0?i[u[c-1]]:"column";i[l]=f}}),n=is(n,As({theme:e},s,(l,c)=>t.useFlexGap?{gap:ep(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${y6e(c?i[c]:t.direction)}`]:ep(r,l)}}))}return n=wBe(e.breakpoints,n),n};function x6e(t={}){const{createStyledComponent:e=m6e,useThemeProps:n=g6e,componentName:r="MuiStack"}=t,o=()=>Yt({root:["root"]},l=>Kt(r,l),{}),i=e(b6e);return h.forwardRef(function(l,c){const u=n(l),d=$w(u),{component:f="div",direction:m="column",spacing:g=0,divider:v,children:y,className:b,useFlexGap:x=!1}=d,w=ct(d,h6e),C={direction:m,spacing:g,useFlexGap:x},E=o();return p.jsx(i,B({as:f,ownerState:C,ref:c,className:it(E.root,b)},w,{children:v?v6e(y,v):y}))})}function w6e(t,e){return B({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Ao={},Wne={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Wne);var pa=Wne.exports;const S6e=Eu(sze),C6e=Eu(jVe);var Une=pa;Object.defineProperty(Ao,"__esModule",{value:!0});var Gn=Ao.alpha=Yne;Ao.blend=O6e;Ao.colorChannel=void 0;var xE=Ao.darken=EL;Ao.decomposeColor=Ha;Ao.emphasize=Xne;var _6e=Ao.getContrastRatio=R6e;Ao.getLuminance=SE;Ao.hexToRgb=qne;Ao.hslToRgb=Gne;var wE=Ao.lighten=TL;Ao.private_safeAlpha=k6e;Ao.private_safeColorChannel=void 0;Ao.private_safeDarken=D6e;Ao.private_safeEmphasize=M6e;Ao.private_safeLighten=$6e;Ao.recomposeColor=qv;Ao.rgbToHex=P6e;var HH=Une(S6e),E6e=Une(C6e);function _L(t,e=0,n=1){return(0,E6e.default)(t,e,n)}function qne(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function T6e(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Ha(t){if(t.type)return t;if(t.charAt(0)==="#")return Ha(qne(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,HH.default)(9,t));let r=t.substring(e+1,t.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error((0,HH.default)(10,o))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:o}}const Kne=t=>{const e=Ha(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Ao.colorChannel=Kne;const I6e=(t,e)=>{try{return Kne(t)}catch{return t}};Ao.private_safeColorChannel=I6e;function qv(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function P6e(t){if(t.indexOf("#")===0)return t;const{values:e}=Ha(t);return`#${e.map((n,r)=>T6e(r===3?Math.round(255*n):n)).join("")}`}function Gne(t){t=Ha(t);const{values:e}=t,n=e[0],r=e[1]/100,o=e[2]/100,i=r*Math.min(o,1-o),s=(c,u=(c+n/30)%12)=>o-i*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),qv({type:a,values:l})}function SE(t){t=Ha(t);let e=t.type==="hsl"||t.type==="hsla"?Ha(Gne(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function R6e(t,e){const n=SE(t),r=SE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Yne(t,e){return t=Ha(t),e=_L(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,qv(t)}function k6e(t,e,n){try{return Yne(t,e)}catch{return t}}function EL(t,e){if(t=Ha(t),e=_L(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return qv(t)}function D6e(t,e,n){try{return EL(t,e)}catch{return t}}function TL(t,e){if(t=Ha(t),e=_L(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return qv(t)}function $6e(t,e,n){try{return TL(t,e)}catch{return t}}function Xne(t,e=.15){return SE(t)>.5?EL(t,e):TL(t,e)}function M6e(t,e,n){try{return Xne(t,e)}catch{return t}}function O6e(t,e,n,r=1){const o=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),i=Ha(t),s=Ha(e),a=[o(i.values[0],s.values[0]),o(i.values[1],s.values[1]),o(i.values[2],s.values[2])];return qv({type:"rgb",values:a})}const A6e=["mode","contrastThreshold","tonalOffset"],WH={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vx.white,default:vx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nk={text:{primary:vx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function UH(t,e,n,r){const o=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=wE(t.main,o):e==="dark"&&(t.dark=xE(t.main,i)))}function N6e(t="light"){return t==="dark"?{main:Xp[200],light:Xp[50],dark:Xp[400]}:{main:Xp[700],light:Xp[400],dark:Xp[800]}}function j6e(t="light"){return t==="dark"?{main:Yp[200],light:Yp[50],dark:Yp[400]}:{main:Yp[500],light:Yp[300],dark:Yp[700]}}function L6e(t="light"){return t==="dark"?{main:Gp[500],light:Gp[300],dark:Gp[700]}:{main:Gp[700],light:Gp[400],dark:Gp[800]}}function F6e(t="light"){return t==="dark"?{main:Qp[400],light:Qp[300],dark:Qp[700]}:{main:Qp[700],light:Qp[500],dark:Qp[900]}}function z6e(t="light"){return t==="dark"?{main:Jp[400],light:Jp[300],dark:Jp[700]}:{main:Jp[800],light:Jp[500],dark:Jp[900]}}function B6e(t="light"){return t==="dark"?{main:My[400],light:My[300],dark:My[700]}:{main:"#ed6c02",light:My[500],dark:My[900]}}function V6e(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,o=ct(t,A6e),i=t.primary||N6e(e),s=t.secondary||j6e(e),a=t.error||L6e(e),l=t.info||F6e(e),c=t.success||z6e(e),u=t.warning||B6e(e);function d(v){return _6e(v,nk.text.primary)>=n?nk.text.primary:WH.text.primary}const f=({color:v,name:y,mainShade:b=500,lightShade:x=300,darkShade:w=700})=>{if(v=B({},v),!v.main&&v[b]&&(v.main=v[b]),!v.hasOwnProperty("main"))throw new Error(Cu(11,y?` (${y})`:"",b));if(typeof v.main!="string")throw new Error(Cu(12,y?` (${y})`:"",JSON.stringify(v.main)));return UH(v,"light",x,r),UH(v,"dark",w,r),v.contrastText||(v.contrastText=d(v.main)),v},m={dark:nk,light:WH};return is(B({common:B({},vx),mode:e,primary:f({color:i,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:ize,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},m[e]),o)}const H6e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function W6e(t){return Math.round(t*1e5)/1e5}const qH={textTransform:"uppercase"},KH='"Roboto", "Helvetica", "Arial", sans-serif';function U6e(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=KH,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=ct(n,H6e),m=o/14,g=d||(b=>`${b/c*m}rem`),v=(b,x,w,C,E)=>B({fontFamily:r,fontWeight:b,fontSize:g(x),lineHeight:w},r===KH?{letterSpacing:`${W6e(C/x)}em`}:{},E,u),y={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,qH),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,qH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return is(B({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},y),f,{clone:!1})}const q6e=.2,K6e=.14,G6e=.12;function Kr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${q6e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${K6e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${G6e})`].join(",")}const Y6e=["none",Kr(0,2,1,-1,0,1,1,0,0,1,3,0),Kr(0,3,1,-2,0,2,2,0,0,1,5,0),Kr(0,3,3,-2,0,3,4,0,0,1,8,0),Kr(0,2,4,-1,0,4,5,0,0,1,10,0),Kr(0,3,5,-1,0,5,8,0,0,1,14,0),Kr(0,3,5,-1,0,6,10,0,0,1,18,0),Kr(0,4,5,-2,0,7,10,1,0,2,16,1),Kr(0,5,5,-3,0,8,10,1,0,3,14,2),Kr(0,5,6,-3,0,9,12,1,0,3,16,2),Kr(0,6,6,-3,0,10,14,1,0,4,18,3),Kr(0,6,7,-4,0,11,15,1,0,4,20,3),Kr(0,7,8,-4,0,12,17,2,0,5,22,4),Kr(0,7,8,-4,0,13,19,2,0,5,24,4),Kr(0,7,9,-4,0,14,21,2,0,5,26,4),Kr(0,8,9,-5,0,15,22,2,0,6,28,5),Kr(0,8,10,-5,0,16,24,2,0,6,30,5),Kr(0,8,11,-5,0,17,26,2,0,6,32,5),Kr(0,9,11,-5,0,18,28,2,0,7,34,6),Kr(0,9,12,-6,0,19,29,2,0,7,36,6),Kr(0,10,13,-6,0,20,31,3,0,8,38,7),Kr(0,10,13,-6,0,21,33,3,0,8,40,7),Kr(0,10,14,-6,0,22,35,3,0,8,42,7),Kr(0,11,14,-7,0,23,36,3,0,9,44,8),Kr(0,11,15,-7,0,24,38,3,0,9,46,8)],X6e=["duration","easing","delay"],Q6e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Qne={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GH(t){return`${Math.round(t)}ms`}function J6e(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Z6e(t){const e=B({},Q6e,t.easing),n=B({},Qne,t.duration);return B({getAutoHeightDuration:J6e,create:(o=["all"],i={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=i;return ct(i,X6e),(Array.isArray(o)?o:[o]).map(c=>`${c} ${typeof s=="string"?s:GH(s)} ${a} ${typeof l=="string"?l:GH(l)}`).join(",")}},t,{easing:e,duration:n})}const e8e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},t8e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Jne(t={},...e){const{mixins:n={},palette:r={},transitions:o={},typography:i={}}=t,s=ct(t,t8e);if(t.vars&&t.generateCssVars===void 0)throw new Error(Cu(18));const a=V6e(r),l=Wv(t);let c=is(l,{mixins:w6e(l.breakpoints,n),palette:a,shadows:Y6e.slice(),typography:U6e(a,i),transitions:Z6e(o),zIndex:B({},e8e)});return c=is(c,s),c=e.reduce((u,d)=>is(u,d),c),c.unstable_sxConfig=B({},Dw,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Hv({sx:d,theme:this})},c}const xI=Jne();function Xa(){const t=aI(xI);return t[Iw]||t}function di({props:t,name:e}){return SL({props:t,name:e,defaultTheme:xI,themeId:Iw})}var Nw={},rk={exports:{}},YH;function n8e(){return YH||(YH=1,function(t){function e(n,r){if(n==null)return{};var o={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(r.indexOf(i)!==-1)continue;o[i]=n[i]}return o}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(rk)),rk.exports}const Zne=Eu(gBe),r8e=Eu(vBe),o8e=Eu(CBe),i8e=Eu(EVe),s8e=Eu(uVe),a8e=Eu(gVe);var Kv=pa;Object.defineProperty(Nw,"__esModule",{value:!0});var l8e=Nw.default=w8e;Nw.shouldForwardProp=PC;Nw.systemDefaultTheme=void 0;var Sa=Kv(mne()),GM=Kv(n8e()),XH=m8e(Zne),c8e=r8e;Kv(o8e);Kv(i8e);var u8e=Kv(s8e),d8e=Kv(a8e);const f8e=["ownerState"],h8e=["variants"],p8e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ere(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(ere=function(r){return r?n:e})(t)}function m8e(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=ere(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function g8e(t){return Object.keys(t).length===0}function v8e(t){return typeof t=="string"&&t.charCodeAt(0)>96}function PC(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const y8e=Nw.systemDefaultTheme=(0,u8e.default)(),b8e=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function iS({defaultTheme:t,theme:e,themeId:n}){return g8e(e)?t:e[n]||e}function x8e(t){return t?(e,n)=>n[t]:null}function RC(t,e){let{ownerState:n}=e,r=(0,GM.default)(e,f8e);const o=typeof t=="function"?t((0,Sa.default)({ownerState:n},r)):t;if(Array.isArray(o))return o.flatMap(i=>RC(i,(0,Sa.default)({ownerState:n},r)));if(o&&typeof o=="object"&&Array.isArray(o.variants)){const{variants:i=[]}=o;let a=(0,GM.default)(o,h8e);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Sa.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Sa.default)({ownerState:n},r,n)):l.style))}),a}return o}function w8e(t={}){const{themeId:e,defaultTheme:n=y8e,rootShouldForwardProp:r=PC,slotShouldForwardProp:o=PC}=t,i=s=>(0,d8e.default)((0,Sa.default)({},s,{theme:iS((0,Sa.default)({},s,{defaultTheme:n,themeId:e}))}));return i.__mui_systemSx=!0,(s,a={})=>{(0,XH.internal_processStyles)(s,E=>E.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=x8e(b8e(c))}=a,m=(0,GM.default)(a,p8e),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,v=d||!1;let y,b=PC;c==="Root"||c==="root"?b=r:c?b=o:v8e(s)&&(b=void 0);const x=(0,XH.default)(s,(0,Sa.default)({shouldForwardProp:b,label:y},m)),w=E=>typeof E=="function"&&E.__emotion_real!==E||(0,c8e.isPlainObject)(E)?_=>RC(E,(0,Sa.default)({},_,{theme:iS({theme:_.theme,defaultTheme:n,themeId:e})})):E,C=(E,..._)=>{let S=w(E);const T=_?_.map(w):[];l&&f&&T.push(M=>{const R=iS((0,Sa.default)({},M,{defaultTheme:n,themeId:e}));if(!R.components||!R.components[l]||!R.components[l].styleOverrides)return null;const k=R.components[l].styleOverrides,D={};return Object.entries(k).forEach(([A,N])=>{D[A]=RC(N,(0,Sa.default)({},M,{theme:R}))}),f(M,D)}),l&&!g&&T.push(M=>{var R;const k=iS((0,Sa.default)({},M,{defaultTheme:n,themeId:e})),D=k==null||(R=k.components)==null||(R=R[l])==null?void 0:R.variants;return RC({variants:D},(0,Sa.default)({},M,{theme:k}))}),v||T.push(i);const I=T.length-_.length;if(Array.isArray(E)&&I>0){const M=new Array(I).fill("");S=[...E,...M],S.raw=[...E.raw,...M]}const P=x(S,...T);return s.muiName&&(P.muiName=s.muiName),P};return x.withConfig&&(C.withConfig=x.withConfig),C}}function tre(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ms=t=>tre(t)&&t!=="classes",Je=l8e({themeId:Iw,defaultTheme:xI,rootShouldForwardProp:ms}),QH=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Xt(t){return s6e(t)}function S8e(t){return Kt("MuiSvgIcon",t)}Gt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const C8e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_8e=t=>{const{color:e,fontSize:n,classes:r}=t,o={root:["root",e!=="inherit"&&`color${gt(e)}`,`fontSize${gt(n)}`]};return Yt(o,S8e,r)},E8e=Je("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${gt(n.color)}`],e[`fontSize${gt(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,o,i,s,a,l,c,u,d,f,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(o=t.transitions)==null||(o=o.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(s=i.pxToRem)==null?void 0:s.call(i,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),YM=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,m=ct(r,C8e),g=h.isValidElement(o)&&o.type==="svg",v=B({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:g}),y={};u||(y.viewBox=f);const b=_8e(v);return p.jsxs(E8e,B({as:a,className:it(b.root,i),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},y,m,g&&o.props,{ownerState:v,children:[g?o.props.children:o,d?p.jsx("title",{children:d}):null]}))});YM.muiName="SvgIcon";function Ft(t,e){function n(r,o){return p.jsx(YM,B({"data-testid":`${e}Icon`,ref:o},r,{children:t}))}return n.muiName=YM.muiName,h.memo(h.forwardRef(n))}const T8e={configure:t=>{bL.configure(t)}},I8e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:gt,createChainedFunction:qM,createSvgIcon:Ft,debounce:Mw,deprecatedPropType:BVe,isMuiElement:X0,ownerDocument:_i,ownerWindow:Sc,requirePropFactory:VVe,setRef:bE,unstable_ClassNameGenerator:T8e,unstable_useEnhancedEffect:Ns,unstable_useId:Ow,unsupportedProp:WVe,useControlled:tv,useEventCallback:ea,useForkRef:mo,useIsFocusVisible:CL},Symbol.toStringTag,{value:"Module"}));function nre(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wg(t,e)}const JH={disabled:!1},CE=oe.createContext(null);var P8e=function(e){return e.scrollTop},x0="unmounted",Bf="exited",Vf="entering",vm="entered",XM="exiting",Il=function(t){nre(e,t);function e(r,o){var i;i=t.call(this,r,o)||this;var s=o,a=s&&!s.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?a?(l=Bf,i.appearStatus=Vf):l=vm:r.unmountOnExit||r.mountOnEnter?l=x0:l=Bf,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===x0?{status:Bf}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==Vf&&s!==vm&&(i=Vf):(s===Vf||s===vm)&&(i=XM)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,a;return i=s=a=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,a=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:a}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===Vf){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Xl.findDOMNode(this);s&&P8e(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bf&&this.setState({status:x0})},n.performEnter=function(o){var i=this,s=this.props.enter,a=this.context?this.context.isMounting:o,l=this.props.nodeRef?[a]:[Xl.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!o&&!s||JH.disabled){this.safeSetState({status:vm},function(){i.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Vf},function(){i.props.onEntering(c,u),i.onTransitionEnd(f,function(){i.safeSetState({status:vm},function(){i.props.onEntered(c,u)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Xl.findDOMNode(this);if(!i||JH.disabled){this.safeSetState({status:Bf},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:XM},function(){o.props.onExiting(a),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:Bf},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,i.nextCallback=null,o(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Xl.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===x0)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=ct(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return oe.createElement(CE.Provider,{value:null},typeof s=="function"?s(o,a):oe.cloneElement(oe.Children.only(s),a))},e}(oe.Component);Il.contextType=CE;Il.propTypes={};function em(){}Il.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:em,onEntering:em,onEntered:em,onExit:em,onExiting:em,onExited:em};Il.UNMOUNTED=x0;Il.EXITED=Bf;Il.ENTERING=Vf;Il.ENTERED=vm;Il.EXITING=XM;function IL(t,e){var n=function(i){return e&&h.isValidElement(i)?e(i):i},r=Object.create(null);return t&&h.Children.map(t,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function R8e(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),o=[];for(var i in t)i in e?o.length&&(r[i]=o,o=[]):o.push(i);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<o.length;s++)a[o[s]]=n(o[s]);return a}function fh(t,e,n){return n[e]!=null?n[e]:t.props[e]}function k8e(t,e){return IL(t.children,function(n){return h.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:fh(n,"appear",t),enter:fh(n,"enter",t),exit:fh(n,"exit",t)})})}function D8e(t,e,n){var r=IL(t.children),o=R8e(e,r);return Object.keys(o).forEach(function(i){var s=o[i];if(h.isValidElement(s)){var a=i in e,l=i in r,c=e[i],u=h.isValidElement(c)&&!c.props.in;l&&(!a||u)?o[i]=h.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:fh(s,"exit",t),enter:fh(s,"enter",t)}):!l&&a&&!u?o[i]=h.cloneElement(s,{in:!1}):l&&a&&h.isValidElement(c)&&(o[i]=h.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:fh(s,"exit",t),enter:fh(s,"enter",t)}))}}),o}var $8e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},M8e={component:"div",childFactory:function(e){return e}},PL=function(t){nre(e,t);function e(r,o){var i;i=t.call(this,r,o)||this;var s=i.handleExited.bind(et(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,i){var s=i.children,a=i.handleExited,l=i.firstRender;return{children:l?k8e(o,a):D8e(o,s,a),firstRender:!1}},n.handleExited=function(o,i){var s=IL(this.props.children);o.key in s||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(a){var l=B({},a.children);return delete l[o.key],{children:l}}))},n.render=function(){var o=this.props,i=o.component,s=o.childFactory,a=ct(o,["component","childFactory"]),l=this.state.contextValue,c=$8e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,i===null?oe.createElement(CE.Provider,{value:l},c):oe.createElement(CE.Provider,{value:l},oe.createElement(i,a,c))},e}(oe.Component);PL.propTypes={};PL.defaultProps=M8e;const rre=t=>t.scrollTop;function rv(t,e){var n,r;const{timeout:o,easing:i,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof o=="number"?o:o[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof i=="object"?i[e.mode]:i,delay:s.transitionDelay}}function O8e(t){return Kt("MuiCollapse",t)}Gt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const A8e=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],N8e=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Yt(r,O8e,n)},j8e=Je("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>B({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&B({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),L8e=Je("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>B({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),F8e=Je("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>B({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),ore=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiCollapse"}),{addEndListener:o,children:i,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:m,onExit:g,onExited:v,onExiting:y,orientation:b="vertical",style:x,timeout:w=Qne.standard,TransitionComponent:C=Il}=r,E=ct(r,A8e),_=B({},r,{orientation:b,collapsedSize:a}),S=N8e(_),T=Xa(),I=dh(),P=h.useRef(null),M=h.useRef(),R=typeof a=="number"?`${a}px`:a,k=b==="horizontal",D=k?"width":"height",A=h.useRef(null),N=mo(n,A),O=K=>J=>{if(K){const X=A.current;J===void 0?K(X):K(X,J)}},j=()=>P.current?P.current[k?"clientWidth":"clientHeight"]:0,L=O((K,J)=>{P.current&&k&&(P.current.style.position="absolute"),K.style[D]=R,d&&d(K,J)}),z=O((K,J)=>{const X=j();P.current&&k&&(P.current.style.position="");const{duration:ue,easing:_e}=rv({style:x,timeout:w,easing:c},{mode:"enter"});if(w==="auto"){const Ce=T.transitions.getAutoHeightDuration(X);K.style.transitionDuration=`${Ce}ms`,M.current=Ce}else K.style.transitionDuration=typeof ue=="string"?ue:`${ue}ms`;K.style[D]=`${X}px`,K.style.transitionTimingFunction=_e,m&&m(K,J)}),V=O((K,J)=>{K.style[D]="auto",f&&f(K,J)}),W=O(K=>{K.style[D]=`${j()}px`,g&&g(K)}),Y=O(v),U=O(K=>{const J=j(),{duration:X,easing:ue}=rv({style:x,timeout:w,easing:c},{mode:"exit"});if(w==="auto"){const _e=T.transitions.getAutoHeightDuration(J);K.style.transitionDuration=`${_e}ms`,M.current=_e}else K.style.transitionDuration=typeof X=="string"?X:`${X}ms`;K.style[D]=R,K.style.transitionTimingFunction=ue,y&&y(K)}),q=K=>{w==="auto"&&I.start(M.current||0,K),o&&o(A.current,K)};return p.jsx(C,B({in:u,onEnter:L,onEntered:V,onEntering:z,onExit:W,onExited:Y,onExiting:U,addEndListener:q,nodeRef:A,timeout:w==="auto"?null:w},E,{children:(K,J)=>p.jsx(j8e,B({as:l,className:it(S.root,s,{entered:S.entered,exited:!u&&R==="0px"&&S.hidden}[K]),style:B({[k?"minWidth":"minHeight"]:R},x),ref:N},J,{ownerState:B({},_,{state:K}),children:p.jsx(L8e,{ownerState:B({},_,{state:K}),className:S.wrapper,ref:P,children:p.jsx(F8e,{ownerState:B({},_,{state:K}),className:S.wrapperInner,children:i})})}))}))});ore.muiSupportAuto=!0;function z8e(t){return Kt("MuiPaper",t)}Gt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const B8e=["className","component","elevation","square","variant"],V8e=t=>{const{square:e,elevation:n,variant:r,classes:o}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Yt(i,z8e,o)},H8e=Je("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return B({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&B({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Gn("#fff",QH(e.elevation))}, ${Gn("#fff",QH(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),bn=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiPaper"}),{className:o,component:i="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=ct(r,B8e),u=B({},r,{component:i,elevation:s,square:a,variant:l}),d=V8e(u);return p.jsx(H8e,B({as:i,ownerState:u,className:it(d.root,o),ref:n},c))}),ire=h.createContext({}),W8e=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],U8e=["component","slots","slotProps"],q8e=["component"];function _E(t,e){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,getSlotOwnerState:s,internalForwardedProps:a}=e,l=ct(e,W8e),{component:c,slots:u={[t]:void 0},slotProps:d={[t]:void 0}}=i,f=ct(i,U8e),m=u[t]||r,g=Hne(d[t],o),v=Vne(B({className:n},l,{externalForwardedProps:t==="root"?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:b}=v,x=ct(v.props,q8e),w=mo(b,g==null?void 0:g.ref,e.ref),C=s?s(x):{},E=B({},o,C),_=t==="root"?y||c:y,S=Nm(m,B({},t==="root"&&!c&&!u[t]&&a,t!=="root"&&!u[t]&&a,x,_&&{as:_},{ref:w}),E);return Object.keys(C).forEach(T=>{delete S[T]}),[m,S]}function K8e(t){return Kt("MuiAccordion",t)}const sS=Gt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),G8e=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Y8e=t=>{const{classes:e,square:n,expanded:r,disabled:o,disableGutters:i}=t;return Yt({root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!i&&"gutters"],region:["region"]},K8e,e)},X8e=Je(bn,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${sS.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${sS.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${sS.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${sS.expanded}`]:{margin:"16px 0"}}}]})),jm=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiAccordion"}),{children:o,className:i,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:f={},slotProps:m={},TransitionComponent:g,TransitionProps:v}=r,y=ct(r,G8e),[b,x]=tv({controlled:c,default:s,name:"Accordion",state:"expanded"}),w=h.useCallback(k=>{x(!b),u&&u(k,!b)},[b,u,x]),[C,...E]=h.Children.toArray(o),_=h.useMemo(()=>({expanded:b,disabled:a,disableGutters:l,toggle:w}),[b,a,l,w]),S=B({},r,{square:d,disabled:a,disableGutters:l,expanded:b}),T=Y8e(S),I=B({transition:g},f),P=B({transition:v},m),[M,R]=_E("transition",{elementType:ore,externalForwardedProps:{slots:I,slotProps:P},ownerState:S});return p.jsxs(X8e,B({className:it(T.root,i),ref:n,ownerState:S,square:d},y,{children:[p.jsx(ire.Provider,{value:_,children:C}),p.jsx(M,B({in:b,timeout:"auto"},R,{children:p.jsx("div",{"aria-labelledby":C.props.id,id:C.props["aria-controls"],role:"region",className:T.region,children:E})}))]}))});function Q8e(t){return Kt("MuiAccordionDetails",t)}Gt("MuiAccordionDetails",["root"]);const J8e=["className"],Z8e=t=>{const{classes:e}=t;return Yt({root:["root"]},Q8e,e)},eHe=Je("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),Lm=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiAccordionDetails"}),{className:o}=r,i=ct(r,J8e),s=r,a=Z8e(s);return p.jsx(eHe,B({className:it(a.root,o),ref:n,ownerState:s},i))});function tHe(t){const{className:e,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,d]=h.useState(!1),f=it(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),m={width:s,height:s,top:-(s/2)+i,left:-(s/2)+o},g=it(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),h.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),p.jsx("span",{className:f,style:m,children:p.jsx("span",{className:g})})}const Ea=Gt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),nHe=["center","classes","className"];let wI=t=>t,ZH,e9,t9,n9;const QM=550,rHe=80,oHe=Vv(ZH||(ZH=wI`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),iHe=Vv(e9||(e9=wI`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),sHe=Vv(t9||(t9=wI`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),aHe=Je("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),lHe=Je(tHe,{name:"MuiTouchRipple",slot:"Ripple"})(n9||(n9=wI`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ea.rippleVisible,oHe,QM,({theme:t})=>t.transitions.easing.easeInOut,Ea.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ea.child,Ea.childLeaving,iHe,QM,({theme:t})=>t.transitions.easing.easeInOut,Ea.childPulsate,sHe,({theme:t})=>t.transitions.easing.easeInOut),cHe=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:s}=r,a=ct(r,nHe),[l,c]=h.useState([]),u=h.useRef(0),d=h.useRef(null);h.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=h.useRef(!1),m=dh(),g=h.useRef(null),v=h.useRef(null),y=h.useCallback(C=>{const{pulsate:E,rippleX:_,rippleY:S,rippleSize:T,cb:I}=C;c(P=>[...P,p.jsx(lHe,{classes:{ripple:it(i.ripple,Ea.ripple),rippleVisible:it(i.rippleVisible,Ea.rippleVisible),ripplePulsate:it(i.ripplePulsate,Ea.ripplePulsate),child:it(i.child,Ea.child),childLeaving:it(i.childLeaving,Ea.childLeaving),childPulsate:it(i.childPulsate,Ea.childPulsate)},timeout:QM,pulsate:E,rippleX:_,rippleY:S,rippleSize:T},u.current)]),u.current+=1,d.current=I},[i]),b=h.useCallback((C={},E={},_=()=>{})=>{const{pulsate:S=!1,center:T=o||E.pulsate,fakeElement:I=!1}=E;if((C==null?void 0:C.type)==="mousedown"&&f.current){f.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(f.current=!0);const P=I?null:v.current,M=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let R,k,D;if(T||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)R=Math.round(M.width/2),k=Math.round(M.height/2);else{const{clientX:A,clientY:N}=C.touches&&C.touches.length>0?C.touches[0]:C;R=Math.round(A-M.left),k=Math.round(N-M.top)}if(T)D=Math.sqrt((2*M.width**2+M.height**2)/3),D%2===0&&(D+=1);else{const A=Math.max(Math.abs((P?P.clientWidth:0)-R),R)*2+2,N=Math.max(Math.abs((P?P.clientHeight:0)-k),k)*2+2;D=Math.sqrt(A**2+N**2)}C!=null&&C.touches?g.current===null&&(g.current=()=>{y({pulsate:S,rippleX:R,rippleY:k,rippleSize:D,cb:_})},m.start(rHe,()=>{g.current&&(g.current(),g.current=null)})):y({pulsate:S,rippleX:R,rippleY:k,rippleSize:D,cb:_})},[o,y,m]),x=h.useCallback(()=>{b({},{pulsate:!0})},[b]),w=h.useCallback((C,E)=>{if(m.clear(),(C==null?void 0:C.type)==="touchend"&&g.current){g.current(),g.current=null,m.start(0,()=>{w(C,E)});return}g.current=null,c(_=>_.length>0?_.slice(1):_),d.current=E},[m]);return h.useImperativeHandle(n,()=>({pulsate:x,start:b,stop:w}),[x,b,w]),p.jsx(aHe,B({className:it(Ea.root,i.root,s),ref:v},a,{children:p.jsx(PL,{component:null,exit:!0,children:l})}))});function uHe(t){return Kt("MuiButtonBase",t)}const dHe=Gt("MuiButtonBase",["root","disabled","focusVisible"]),fHe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],hHe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:o}=t,s=Yt({root:["root",e&&"disabled",n&&"focusVisible"]},uHe,o);return n&&r&&(s.root+=` ${r}`),s},pHe=Je("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dHe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Cc=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:m="a",onBlur:g,onClick:v,onContextMenu:y,onDragLeave:b,onFocus:x,onFocusVisible:w,onKeyDown:C,onKeyUp:E,onMouseDown:_,onMouseLeave:S,onMouseUp:T,onTouchEnd:I,onTouchMove:P,onTouchStart:M,tabIndex:R=0,TouchRippleProps:k,touchRippleRef:D,type:A}=r,N=ct(r,fHe),O=h.useRef(null),j=h.useRef(null),L=mo(j,D),{isFocusVisibleRef:z,onFocus:V,onBlur:W,ref:Y}=CL(),[U,q]=h.useState(!1);c&&U&&q(!1),h.useImperativeHandle(o,()=>({focusVisible:()=>{q(!0),O.current.focus()}}),[]);const[K,J]=h.useState(!1);h.useEffect(()=>{J(!0)},[]);const X=K&&!u&&!c;h.useEffect(()=>{U&&f&&!u&&K&&j.current.pulsate()},[u,f,U,K]);function ue(Ie,Re,$e=d){return ea(ne=>(Re&&Re(ne),!$e&&j.current&&j.current[Ie](ne),!0))}const _e=ue("start",_),Ce=ue("stop",y),pe=ue("stop",b),ge=ue("stop",T),F=ue("stop",Ie=>{U&&Ie.preventDefault(),S&&S(Ie)}),ce=ue("start",M),le=ue("stop",I),Z=ue("stop",P),Q=ue("stop",Ie=>{W(Ie),z.current===!1&&q(!1),g&&g(Ie)},!1),ye=ea(Ie=>{O.current||(O.current=Ie.currentTarget),V(Ie),z.current===!0&&(q(!0),w&&w(Ie)),x&&x(Ie)}),fe=()=>{const Ie=O.current;return l&&l!=="button"&&!(Ie.tagName==="A"&&Ie.href)},ie=h.useRef(!1),re=ea(Ie=>{f&&!ie.current&&U&&j.current&&Ie.key===" "&&(ie.current=!0,j.current.stop(Ie,()=>{j.current.start(Ie)})),Ie.target===Ie.currentTarget&&fe()&&Ie.key===" "&&Ie.preventDefault(),C&&C(Ie),Ie.target===Ie.currentTarget&&fe()&&Ie.key==="Enter"&&!c&&(Ie.preventDefault(),v&&v(Ie))}),ve=ea(Ie=>{f&&Ie.key===" "&&j.current&&U&&!Ie.defaultPrevented&&(ie.current=!1,j.current.stop(Ie,()=>{j.current.pulsate(Ie)})),E&&E(Ie),v&&Ie.target===Ie.currentTarget&&fe()&&Ie.key===" "&&!Ie.defaultPrevented&&v(Ie)});let ee=l;ee==="button"&&(N.href||N.to)&&(ee=m);const he={};ee==="button"?(he.type=A===void 0?"button":A,he.disabled=c):(!N.href&&!N.to&&(he.role="button"),c&&(he["aria-disabled"]=c));const we=mo(n,Y,O),me=B({},r,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:R,focusVisible:U}),ke=hHe(me);return p.jsxs(pHe,B({as:ee,className:it(ke.root,a),ownerState:me,onBlur:Q,onClick:v,onContextMenu:Ce,onFocus:ye,onKeyDown:re,onKeyUp:ve,onMouseDown:_e,onMouseLeave:F,onMouseUp:ge,onDragLeave:pe,onTouchEnd:le,onTouchMove:Z,onTouchStart:ce,ref:we,tabIndex:c?-1:R,type:A},he,N,{children:[s,X?p.jsx(cHe,B({ref:L,center:i},k)):null]}))});function mHe(t){return Kt("MuiAccordionSummary",t)}const Fm=Gt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),gHe=["children","className","expandIcon","focusVisibleClassName","onClick"],vHe=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:o}=t;return Yt({root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},mHe,e)},yHe=Je(Cc,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${Fm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Fm.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${Fm.expanded}`]:{minHeight:64}}}]}}),bHe=Je("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Fm.expanded}`]:{margin:"20px 0"}}}]})),xHe=Je("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Fm.expanded}`]:{transform:"rotate(180deg)"}})),zm=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiAccordionSummary"}),{children:o,className:i,expandIcon:s,focusVisibleClassName:a,onClick:l}=r,c=ct(r,gHe),{disabled:u=!1,disableGutters:d,expanded:f,toggle:m}=h.useContext(ire),g=b=>{m&&m(b),l&&l(b)},v=B({},r,{expanded:f,disabled:u,disableGutters:d}),y=vHe(v);return p.jsxs(yHe,B({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:it(y.root,i),focusVisibleClassName:it(y.focusVisible,a),onClick:g,ref:n,ownerState:v},c,{children:[p.jsx(bHe,{className:y.content,ownerState:v,children:o}),s&&p.jsx(xHe,{className:y.expandIconWrapper,ownerState:v,children:s})]}))});function wHe(t){return Kt("MuiAlert",t)}const r9=Gt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function SHe(t){return Kt("MuiIconButton",t)}const CHe=Gt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_He=["edge","children","className","color","disabled","disableFocusRipple","size"],EHe=t=>{const{classes:e,disabled:n,color:r,edge:o,size:i}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${gt(r)}`,o&&`edge${gt(o)}`,`size${gt(i)}`]};return Yt(s,SHe,e)},THe=Je(Cc,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${gt(n.color)}`],n.edge&&e[`edge${gt(n.edge)}`],e[`size${gt(n.size)}`]]}})(({theme:t,ownerState:e})=>B({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Gn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return B({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&B({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":B({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Gn(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${CHe.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),wr=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiIconButton"}),{edge:o=!1,children:i,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=ct(r,_He),f=B({},r,{edge:o,color:a,disabled:l,disableFocusRipple:c,size:u}),m=EHe(f);return p.jsx(THe,B({className:it(m.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:f,children:i}))}),IHe=Ft(p.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),PHe=Ft(p.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),RHe=Ft(p.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),kHe=Ft(p.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),DHe=Ft(p.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),$He=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],MHe=t=>{const{variant:e,color:n,severity:r,classes:o}=t,i={root:["root",`color${gt(n||r)}`,`${e}${gt(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Yt(i,wHe,o)},OHe=Je(bn,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${gt(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?xE:wE,n=t.palette.mode==="light"?wE:xE;return B({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${r9.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${r9.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:B({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),AHe=Je("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),NHe=Je("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),o9=Je("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),i9={success:p.jsx(IHe,{fontSize:"inherit"}),warning:p.jsx(PHe,{fontSize:"inherit"}),error:p.jsx(RHe,{fontSize:"inherit"}),info:p.jsx(kHe,{fontSize:"inherit"})},gr=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiAlert"}),{action:o,children:i,className:s,closeText:a="Close",color:l,components:c={},componentsProps:u={},icon:d,iconMapping:f=i9,onClose:m,role:g="alert",severity:v="success",slotProps:y={},slots:b={},variant:x="standard"}=r,w=ct(r,$He),C=B({},r,{color:l,severity:v,variant:x,colorSeverity:l||v}),E=MHe(C),_={slots:B({closeButton:c.CloseButton,closeIcon:c.CloseIcon},b),slotProps:B({},u,y)},[S,T]=_E("closeButton",{elementType:wr,externalForwardedProps:_,ownerState:C}),[I,P]=_E("closeIcon",{elementType:DHe,externalForwardedProps:_,ownerState:C});return p.jsxs(OHe,B({role:g,elevation:0,ownerState:C,className:it(E.root,s),ref:n},w,{children:[d!==!1?p.jsx(AHe,{ownerState:C,className:E.icon,children:d||f[v]||i9[v]}):null,p.jsx(NHe,{ownerState:C,className:E.message,children:i}),o!=null?p.jsx(o9,{ownerState:C,className:E.action,children:o}):null,o==null&&m?p.jsx(o9,{ownerState:C,className:E.action,children:p.jsx(S,B({size:"small","aria-label":a,title:a,color:"inherit",onClick:m},T,{children:p.jsx(I,B({fontSize:"small"},P))}))}):null]}))});function jHe(t){return Kt("MuiTypography",t)}Gt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const LHe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],FHe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:s}=t,a={root:["root",i,t.align!=="inherit"&&`align${gt(e)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return Yt(a,jHe,s)},zHe=Je("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${gt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>B({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),s9={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},BHe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},VHe=t=>BHe[t]||t,Ne=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTypography"}),o=VHe(r.color),i=$w(B({},r,{color:o})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:m=s9}=i,g=ct(i,LHe),v=B({},i,{align:s,color:o,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:m}),y=l||(d?"p":m[f]||s9[f])||"span",b=FHe(v);return p.jsx(zHe,B({as:y,ref:n,ownerState:v,className:it(b.root,a)},g))});var RL={};Object.defineProperty(RL,"__esModule",{value:!0});var sre=RL.default=void 0,HHe=UHe(h),WHe=Zne;function are(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(are=function(r){return r?n:e})(t)}function UHe(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=are(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=o?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i]}return r.default=t,n&&n.set(t,r),r}function qHe(t){return Object.keys(t).length===0}function KHe(t=null){const e=HHe.useContext(WHe.ThemeContext);return!e||qHe(e)?t:e}sre=RL.default=KHe;var Rs="top",Wa="bottom",Ua="right",ks="left",kL="auto",jw=[Rs,Wa,Ua,ks],ov="start",Sx="end",GHe="clippingParents",lre="viewport",Ay="popper",YHe="reference",a9=jw.reduce(function(t,e){return t.concat([e+"-"+ov,e+"-"+Sx])},[]),cre=[].concat(jw,[kL]).reduce(function(t,e){return t.concat([e,e+"-"+ov,e+"-"+Sx])},[]),XHe="beforeRead",QHe="read",JHe="afterRead",ZHe="beforeMain",e9e="main",t9e="afterMain",n9e="beforeWrite",r9e="write",o9e="afterWrite",i9e=[XHe,QHe,JHe,ZHe,e9e,t9e,n9e,r9e,o9e];function _c(t){return t?(t.nodeName||"").toLowerCase():null}function ca(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function tp(t){var e=ca(t).Element;return t instanceof e||t instanceof Element}function Aa(t){var e=ca(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function DL(t){if(typeof ShadowRoot>"u")return!1;var e=ca(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function s9e(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},o=e.attributes[n]||{},i=e.elements[n];!Aa(i)||!_c(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(s){var a=o[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function a9e(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var o=e.elements[r],i=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Aa(o)||!_c(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(l){o.removeAttribute(l)}))})}}const l9e={name:"applyStyles",enabled:!0,phase:"write",fn:s9e,effect:a9e,requires:["computeStyles"]};function fc(t){return t.split("-")[0]}var Eh=Math.max,EE=Math.min,iv=Math.round;function JM(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ure(){return!/^((?!chrome|android).)*safari/i.test(JM())}function sv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),o=1,i=1;e&&Aa(t)&&(o=t.offsetWidth>0&&iv(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&iv(r.height)/t.offsetHeight||1);var s=tp(t)?ca(t):window,a=s.visualViewport,l=!ure()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/o,u=(r.top+(l&&a?a.offsetTop:0))/i,d=r.width/o,f=r.height/i;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function $L(t){var e=sv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function dre(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&DL(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _u(t){return ca(t).getComputedStyle(t)}function c9e(t){return["table","td","th"].indexOf(_c(t))>=0}function _f(t){return((tp(t)?t.ownerDocument:t.document)||window.document).documentElement}function SI(t){return _c(t)==="html"?t:t.assignedSlot||t.parentNode||(DL(t)?t.host:null)||_f(t)}function l9(t){return!Aa(t)||_u(t).position==="fixed"?null:t.offsetParent}function u9e(t){var e=/firefox/i.test(JM()),n=/Trident/i.test(JM());if(n&&Aa(t)){var r=_u(t);if(r.position==="fixed")return null}var o=SI(t);for(DL(o)&&(o=o.host);Aa(o)&&["html","body"].indexOf(_c(o))<0;){var i=_u(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Lw(t){for(var e=ca(t),n=l9(t);n&&c9e(n)&&_u(n).position==="static";)n=l9(n);return n&&(_c(n)==="html"||_c(n)==="body"&&_u(n).position==="static")?e:n||u9e(t)||e}function ML(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Q0(t,e,n){return Eh(t,EE(e,n))}function d9e(t,e,n){var r=Q0(t,e,n);return r>n?n:r}function fre(){return{top:0,right:0,bottom:0,left:0}}function hre(t){return Object.assign({},fre(),t)}function pre(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var f9e=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,hre(typeof e!="number"?e:pre(e,jw))};function h9e(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=fc(n.placement),l=ML(a),c=[ks,Ua].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!s)){var d=f9e(o.padding,n),f=$L(i),m=l==="y"?Rs:ks,g=l==="y"?Wa:Ua,v=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],b=Lw(i),x=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,w=v/2-y/2,C=d[m],E=x-f[u]-d[g],_=x/2-f[u]/2+w,S=Q0(C,_,E),T=l;n.modifiersData[r]=(e={},e[T]=S,e.centerOffset=S-_,e)}}function p9e(t){var e=t.state,n=t.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||dre(e.elements.popper,o)&&(e.elements.arrow=o))}const m9e={name:"arrow",enabled:!0,phase:"main",fn:h9e,effect:p9e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function av(t){return t.split("-")[1]}var g9e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function v9e(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:iv(n*o)/o||0,y:iv(r*o)/o||0}}function c9(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=s.x,m=f===void 0?0:f,g=s.y,v=g===void 0?0:g,y=typeof u=="function"?u({x:m,y:v}):{x:m,y:v};m=y.x,v=y.y;var b=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),w=ks,C=Rs,E=window;if(c){var _=Lw(n),S="clientHeight",T="clientWidth";if(_===ca(n)&&(_=_f(n),_u(_).position!=="static"&&a==="absolute"&&(S="scrollHeight",T="scrollWidth")),_=_,o===Rs||(o===ks||o===Ua)&&i===Sx){C=Wa;var I=d&&_===E&&E.visualViewport?E.visualViewport.height:_[S];v-=I-r.height,v*=l?1:-1}if(o===ks||(o===Rs||o===Wa)&&i===Sx){w=Ua;var P=d&&_===E&&E.visualViewport?E.visualViewport.width:_[T];m-=P-r.width,m*=l?1:-1}}var M=Object.assign({position:a},c&&g9e),R=u===!0?v9e({x:m,y:v},ca(n)):{x:m,y:v};if(m=R.x,v=R.y,l){var k;return Object.assign({},M,(k={},k[C]=x?"0":"",k[w]=b?"0":"",k.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",k))}return Object.assign({},M,(e={},e[C]=x?v+"px":"",e[w]=b?m+"px":"",e.transform="",e))}function y9e(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:fc(e.placement),variation:av(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,c9(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,c9(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const b9e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:y9e,data:{}};var aS={passive:!0};function x9e(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,a=s===void 0?!0:s,l=ca(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,aS)}),a&&l.addEventListener("resize",n.update,aS),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,aS)}),a&&l.removeEventListener("resize",n.update,aS)}}const w9e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:x9e,data:{}};var S9e={left:"right",right:"left",bottom:"top",top:"bottom"};function kC(t){return t.replace(/left|right|bottom|top/g,function(e){return S9e[e]})}var C9e={start:"end",end:"start"};function u9(t){return t.replace(/start|end/g,function(e){return C9e[e]})}function OL(t){var e=ca(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function AL(t){return sv(_f(t)).left+OL(t).scrollLeft}function _9e(t,e){var n=ca(t),r=_f(t),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var c=ure();(c||!c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+AL(t),y:l}}function E9e(t){var e,n=_f(t),r=OL(t),o=(e=t.ownerDocument)==null?void 0:e.body,i=Eh(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Eh(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+AL(t),l=-r.scrollTop;return _u(o||n).direction==="rtl"&&(a+=Eh(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}function NL(t){var e=_u(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function mre(t){return["html","body","#document"].indexOf(_c(t))>=0?t.ownerDocument.body:Aa(t)&&NL(t)?t:mre(SI(t))}function J0(t,e){var n;e===void 0&&(e=[]);var r=mre(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=ca(r),s=o?[i].concat(i.visualViewport||[],NL(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(J0(SI(s)))}function ZM(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function T9e(t,e){var n=sv(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function d9(t,e,n){return e===lre?ZM(_9e(t,n)):tp(e)?T9e(e,n):ZM(E9e(_f(t)))}function I9e(t){var e=J0(SI(t)),n=["absolute","fixed"].indexOf(_u(t).position)>=0,r=n&&Aa(t)?Lw(t):t;return tp(r)?e.filter(function(o){return tp(o)&&dre(o,r)&&_c(o)!=="body"}):[]}function P9e(t,e,n,r){var o=e==="clippingParents"?I9e(t):[].concat(e),i=[].concat(o,[n]),s=i[0],a=i.reduce(function(l,c){var u=d9(t,c,r);return l.top=Eh(u.top,l.top),l.right=EE(u.right,l.right),l.bottom=EE(u.bottom,l.bottom),l.left=Eh(u.left,l.left),l},d9(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function gre(t){var e=t.reference,n=t.element,r=t.placement,o=r?fc(r):null,i=r?av(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(o){case Rs:l={x:s,y:e.y-n.height};break;case Wa:l={x:s,y:e.y+e.height};break;case Ua:l={x:e.x+e.width,y:a};break;case ks:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?ML(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case ov:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Sx:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Cx(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=r===void 0?t.placement:r,i=n.strategy,s=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?GHe:a,c=n.rootBoundary,u=c===void 0?lre:c,d=n.elementContext,f=d===void 0?Ay:d,m=n.altBoundary,g=m===void 0?!1:m,v=n.padding,y=v===void 0?0:v,b=hre(typeof y!="number"?y:pre(y,jw)),x=f===Ay?YHe:Ay,w=t.rects.popper,C=t.elements[g?x:f],E=P9e(tp(C)?C:C.contextElement||_f(t.elements.popper),l,u,s),_=sv(t.elements.reference),S=gre({reference:_,element:w,placement:o}),T=ZM(Object.assign({},w,S)),I=f===Ay?T:_,P={top:E.top-I.top+b.top,bottom:I.bottom-E.bottom+b.bottom,left:E.left-I.left+b.left,right:I.right-E.right+b.right},M=t.modifiersData.offset;if(f===Ay&&M){var R=M[o];Object.keys(P).forEach(function(k){var D=[Ua,Wa].indexOf(k)>=0?1:-1,A=[Rs,Wa].indexOf(k)>=0?"y":"x";P[k]+=R[A]*D})}return P}function R9e(t,e){e===void 0&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?cre:l,u=av(r),d=u?a?a9:a9.filter(function(g){return av(g)===u}):jw,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var m=f.reduce(function(g,v){return g[v]=Cx(t,{placement:v,boundary:o,rootBoundary:i,padding:s})[fc(v)],g},{});return Object.keys(m).sort(function(g,v){return m[g]-m[v]})}function k9e(t){if(fc(t)===kL)return[];var e=kC(t);return[u9(t),e,u9(e)]}function D9e(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,v=n.allowedAutoPlacements,y=e.options.placement,b=fc(y),x=b===y,w=l||(x||!g?[kC(y)]:k9e(y)),C=[y].concat(w).reduce(function(U,q){return U.concat(fc(q)===kL?R9e(e,{placement:q,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:v}):q)},[]),E=e.rects.reference,_=e.rects.popper,S=new Map,T=!0,I=C[0],P=0;P<C.length;P++){var M=C[P],R=fc(M),k=av(M)===ov,D=[Rs,Wa].indexOf(R)>=0,A=D?"width":"height",N=Cx(e,{placement:M,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),O=D?k?Ua:ks:k?Wa:Rs;E[A]>_[A]&&(O=kC(O));var j=kC(O),L=[];if(i&&L.push(N[R]<=0),a&&L.push(N[O]<=0,N[j]<=0),L.every(function(U){return U})){I=M,T=!1;break}S.set(M,L)}if(T)for(var z=g?3:1,V=function(q){var K=C.find(function(J){var X=S.get(J);if(X)return X.slice(0,q).every(function(ue){return ue})});if(K)return I=K,"break"},W=z;W>0;W--){var Y=V(W);if(Y==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const $9e={name:"flip",enabled:!0,phase:"main",fn:D9e,requiresIfExists:["offset"],data:{_skip:!1}};function f9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function h9(t){return[Rs,Ua,Wa,ks].some(function(e){return t[e]>=0})}function M9e(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=Cx(e,{elementContext:"reference"}),a=Cx(e,{altBoundary:!0}),l=f9(s,r),c=f9(a,o,i),u=h9(l),d=h9(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const O9e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:M9e};function A9e(t,e,n){var r=fc(t),o=[ks,Rs].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[ks,Ua].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function N9e(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=o===void 0?[0,0]:o,s=cre.reduce(function(u,d){return u[d]=A9e(d,e.rects,i),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const j9e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:N9e};function L9e(t){var e=t.state,n=t.name;e.modifiersData[n]=gre({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const F9e={name:"popperOffsets",enabled:!0,phase:"read",fn:L9e,data:{}};function z9e(t){return t==="x"?"y":"x"}function B9e(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,m=f===void 0?!0:f,g=n.tetherOffset,v=g===void 0?0:g,y=Cx(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=fc(e.placement),x=av(e.placement),w=!x,C=ML(b),E=z9e(C),_=e.modifiersData.popperOffsets,S=e.rects.reference,T=e.rects.popper,I=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,P=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(_){if(i){var k,D=C==="y"?Rs:ks,A=C==="y"?Wa:Ua,N=C==="y"?"height":"width",O=_[C],j=O+y[D],L=O-y[A],z=m?-T[N]/2:0,V=x===ov?S[N]:T[N],W=x===ov?-T[N]:-S[N],Y=e.elements.arrow,U=m&&Y?$L(Y):{width:0,height:0},q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:fre(),K=q[D],J=q[A],X=Q0(0,S[N],U[N]),ue=w?S[N]/2-z-X-K-P.mainAxis:V-X-K-P.mainAxis,_e=w?-S[N]/2+z+X+J+P.mainAxis:W+X+J+P.mainAxis,Ce=e.elements.arrow&&Lw(e.elements.arrow),pe=Ce?C==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,ge=(k=M==null?void 0:M[C])!=null?k:0,F=O+ue-ge-pe,ce=O+_e-ge,le=Q0(m?EE(j,F):j,O,m?Eh(L,ce):L);_[C]=le,R[C]=le-O}if(a){var Z,Q=C==="x"?Rs:ks,ye=C==="x"?Wa:Ua,fe=_[E],ie=E==="y"?"height":"width",re=fe+y[Q],ve=fe-y[ye],ee=[Rs,ks].indexOf(b)!==-1,he=(Z=M==null?void 0:M[E])!=null?Z:0,we=ee?re:fe-S[ie]-T[ie]-he+P.altAxis,me=ee?fe+S[ie]+T[ie]-he-P.altAxis:ve,ke=m&&ee?d9e(we,fe,me):Q0(m?we:re,fe,m?me:ve);_[E]=ke,R[E]=ke-fe}e.modifiersData[r]=R}}const V9e={name:"preventOverflow",enabled:!0,phase:"main",fn:B9e,requiresIfExists:["offset"]};function H9e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function W9e(t){return t===ca(t)||!Aa(t)?OL(t):H9e(t)}function U9e(t){var e=t.getBoundingClientRect(),n=iv(e.width)/t.offsetWidth||1,r=iv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function q9e(t,e,n){n===void 0&&(n=!1);var r=Aa(e),o=Aa(e)&&U9e(e),i=_f(e),s=sv(t,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((_c(e)!=="body"||NL(i))&&(a=W9e(e)),Aa(e)?(l=sv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=AL(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function K9e(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&o(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||o(i)}),r}function G9e(t){var e=K9e(t);return i9e.reduce(function(n,r){return n.concat(e.filter(function(o){return o.phase===r}))},[])}function Y9e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function X9e(t){var e=t.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var p9={placement:"bottom",modifiers:[],strategy:"absolute"};function m9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Q9e(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,o=e.defaultOptions,i=o===void 0?p9:o;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},p9,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,m={state:u,setOptions:function(b){var x=typeof b=="function"?b(u.options):b;v(),u.options=Object.assign({},i,u.options,x),u.scrollParents={reference:tp(a)?J0(a):a.contextElement?J0(a.contextElement):[],popper:J0(l)};var w=G9e(X9e([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(C){return C.enabled}),g(),m.update()},forceUpdate:function(){if(!f){var b=u.elements,x=b.reference,w=b.popper;if(m9(x,w)){u.rects={reference:q9e(x,Lw(w),u.options.strategy==="fixed"),popper:$L(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var E=u.orderedModifiers[C],_=E.fn,S=E.options,T=S===void 0?{}:S,I=E.name;typeof _=="function"&&(u=_({state:u,options:T,name:I,instance:m})||u)}}}},update:Y9e(function(){return new Promise(function(y){m.forceUpdate(),y(u)})}),destroy:function(){v(),f=!0}};if(!m9(a,l))return m;m.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function g(){u.orderedModifiers.forEach(function(y){var b=y.name,x=y.options,w=x===void 0?{}:x,C=y.effect;if(typeof C=="function"){var E=C({state:u,name:b,instance:m,options:w}),_=function(){};d.push(E||_)}})}function v(){d.forEach(function(y){return y()}),d=[]}return m}}var J9e=[w9e,F9e,b9e,l9e,j9e,$9e,V9e,m9e,O9e],Z9e=Q9e({defaultModifiers:J9e});function eWe(t){return typeof t=="function"?t():t}const vre=h.forwardRef(function(e,n){const{children:r,container:o,disablePortal:i=!1}=e,[s,a]=h.useState(null),l=mo(h.isValidElement(r)?Uv(r):null,n);if(Ns(()=>{i||a(eWe(o)||document.body)},[o,i]),Ns(()=>{if(s&&!i)return bE(n,s),()=>{bE(n,null)}},[n,s,i]),i){if(h.isValidElement(r)){const c={ref:l};return h.cloneElement(r,c)}return p.jsx(h.Fragment,{children:r})}return p.jsx(h.Fragment,{children:s&&sa.createPortal(r,s)})});function tWe(t){return Kt("MuiPopper",t)}Gt("MuiPopper",["root"]);const nWe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],rWe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function oWe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function eO(t){return typeof t=="function"?t():t}function iWe(t){return t.nodeType!==void 0}const sWe=t=>{const{classes:e}=t;return Yt({root:["root"]},tWe,e)},aWe={},lWe=h.forwardRef(function(e,n){var r;const{anchorEl:o,children:i,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:f,slotProps:m={},slots:g={},TransitionProps:v}=e,y=ct(e,nWe),b=h.useRef(null),x=mo(b,n),w=h.useRef(null),C=mo(w,f),E=h.useRef(C);Ns(()=>{E.current=C},[C]),h.useImperativeHandle(f,()=>w.current,[]);const _=oWe(u,s),[S,T]=h.useState(_),[I,P]=h.useState(eO(o));h.useEffect(()=>{w.current&&w.current.forceUpdate()}),h.useEffect(()=>{o&&P(eO(o))},[o]),Ns(()=>{if(!I||!c)return;const A=j=>{T(j.placement)};let N=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:j})=>{A(j)}}];l!=null&&(N=N.concat(l)),d&&d.modifiers!=null&&(N=N.concat(d.modifiers));const O=Z9e(I,b.current,B({placement:_},d,{modifiers:N}));return E.current(O),()=>{O.destroy(),E.current(null)}},[I,a,l,c,d,_]);const M={placement:S};v!==null&&(M.TransitionProps=v);const R=sWe(e),k=(r=g.root)!=null?r:"div",D=la({elementType:k,externalSlotProps:m.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:R.root});return p.jsx(k,B({},D,{children:typeof i=="function"?i(M):i}))}),cWe=h.forwardRef(function(e,n){const{anchorEl:r,children:o,container:i,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=aWe,popperRef:m,style:g,transition:v=!1,slotProps:y={},slots:b={}}=e,x=ct(e,rWe),[w,C]=h.useState(!0),E=()=>{C(!1)},_=()=>{C(!0)};if(!l&&!u&&(!v||w))return null;let S;if(i)S=i;else if(r){const P=eO(r);S=P&&iWe(P)?_i(P).body:_i(null).body}const T=!u&&l&&(!v||w)?"none":void 0,I=v?{in:u,onEnter:E,onExited:_}:void 0;return p.jsx(vre,{disablePortal:a,container:S,children:p.jsx(lWe,B({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:v?!w:u,placement:d,popperOptions:f,popperRef:m,slotProps:y,slots:b},x,{style:B({position:"fixed",top:0,left:0,display:T},g),TransitionProps:I,children:o}))})}),uWe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],dWe=Je(cWe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),jL=h.forwardRef(function(e,n){var r;const o=sre(),i=Xt({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:f,modifiers:m,open:g,placement:v,popperOptions:y,popperRef:b,transition:x,slots:w,slotProps:C}=i,E=ct(i,uWe),_=(r=w==null?void 0:w.root)!=null?r:l==null?void 0:l.Root,S=B({anchorEl:s,container:u,disablePortal:d,keepMounted:f,modifiers:m,open:g,placement:v,popperOptions:y,popperRef:b,transition:x},E);return p.jsx(dWe,B({as:a,direction:o==null?void 0:o.direction,slots:{root:_},slotProps:C??c},S,{ref:n}))}),fWe=Ft(p.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function hWe(t){return Kt("MuiChip",t)}const tr=Gt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),pWe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],mWe=t=>{const{classes:e,disabled:n,size:r,color:o,iconColor:i,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${gt(r)}`,`color${gt(o)}`,a&&"clickable",a&&`clickableColor${gt(o)}`,s&&"deletable",s&&`deletableColor${gt(o)}`,`${l}${gt(o)}`],label:["label",`label${gt(r)}`],avatar:["avatar",`avatar${gt(r)}`,`avatarColor${gt(o)}`],icon:["icon",`icon${gt(r)}`,`iconColor${gt(i)}`],deleteIcon:["deleteIcon",`deleteIcon${gt(r)}`,`deleteIconColor${gt(o)}`,`deleteIcon${gt(l)}Color${gt(o)}`]};return Yt(c,hWe,e)},gWe=Je("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:o,clickable:i,onDelete:s,size:a,variant:l}=n;return[{[`& .${tr.avatar}`]:e.avatar},{[`& .${tr.avatar}`]:e[`avatar${gt(a)}`]},{[`& .${tr.avatar}`]:e[`avatarColor${gt(r)}`]},{[`& .${tr.icon}`]:e.icon},{[`& .${tr.icon}`]:e[`icon${gt(a)}`]},{[`& .${tr.icon}`]:e[`iconColor${gt(o)}`]},{[`& .${tr.deleteIcon}`]:e.deleteIcon},{[`& .${tr.deleteIcon}`]:e[`deleteIcon${gt(a)}`]},{[`& .${tr.deleteIcon}`]:e[`deleteIconColor${gt(r)}`]},{[`& .${tr.deleteIcon}`]:e[`deleteIcon${gt(l)}Color${gt(r)}`]},e.root,e[`size${gt(a)}`],e[`color${gt(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${gt(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${gt(r)}`],e[l],e[`${l}${gt(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return B({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${tr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${tr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${tr.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${tr.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${tr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${tr.icon}`]:B({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&B({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${tr.deleteIcon}`]:B({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Gn(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Gn(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:Gn(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${tr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Gn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${tr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>B({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Gn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${tr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Gn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${tr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>B({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${tr.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${tr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${tr.avatar}`]:{marginLeft:4},[`& .${tr.avatarSmall}`]:{marginLeft:2},[`& .${tr.icon}`]:{marginLeft:4},[`& .${tr.iconSmall}`]:{marginLeft:2},[`& .${tr.deleteIcon}`]:{marginRight:5},[`& .${tr.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Gn(t.palette[e.color].main,.7)}`,[`&.${tr.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Gn(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${tr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Gn(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${tr.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:Gn(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),vWe=Je("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${gt(r)}`]]}})(({ownerState:t})=>B({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function g9(t){return t.key==="Backspace"||t.key==="Delete"}const so=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiChip"}),{avatar:o,className:i,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:m,onDelete:g,onKeyDown:v,onKeyUp:y,size:b="medium",variant:x="filled",tabIndex:w,skipFocusWhenDisabled:C=!1}=r,E=ct(r,pWe),_=h.useRef(null),S=mo(_,n),T=L=>{L.stopPropagation(),g&&g(L)},I=L=>{L.currentTarget===L.target&&g9(L)&&L.preventDefault(),v&&v(L)},P=L=>{L.currentTarget===L.target&&(g&&g9(L)?g(L):L.key==="Escape"&&_.current&&_.current.blur()),y&&y(L)},M=s!==!1&&m?!0:s,R=M||g?Cc:l||"div",k=B({},r,{component:R,disabled:u,size:b,color:a,iconColor:h.isValidElement(d)&&d.props.color||a,onDelete:!!g,clickable:M,variant:x}),D=mWe(k),A=R===Cc?B({component:l||"div",focusVisibleClassName:D.focusVisible},g&&{disableRipple:!0}):{};let N=null;g&&(N=c&&h.isValidElement(c)?h.cloneElement(c,{className:it(c.props.className,D.deleteIcon),onClick:T}):p.jsx(fWe,{className:it(D.deleteIcon),onClick:T}));let O=null;o&&h.isValidElement(o)&&(O=h.cloneElement(o,{className:it(D.avatar,o.props.className)}));let j=null;return d&&h.isValidElement(d)&&(j=h.cloneElement(d,{className:it(D.icon,d.props.className)})),p.jsxs(gWe,B({as:R,className:it(D.root,i),disabled:M&&u?!0:void 0,onClick:m,onKeyDown:I,onKeyUp:P,ref:S,tabIndex:C&&u?-1:w,ownerState:k},A,E,{children:[O||j,p.jsx(vWe,{className:it(D.label),ownerState:k,children:f}),N]}))}),yWe=["onChange","maxRows","minRows","style","value"];function lS(t){return parseInt(t,10)||0}const bWe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function xWe(t){for(const e in t)return!1;return!0}function v9(t){return xWe(t)||t.outerHeightStyle===0&&!t.overflowing}const wWe=h.forwardRef(function(e,n){const{onChange:r,maxRows:o,minRows:i=1,style:s,value:a}=e,l=ct(e,yWe),{current:c}=h.useRef(a!=null),u=h.useRef(null),d=mo(n,u),f=h.useRef(null),m=h.useRef(null),g=h.useCallback(()=>{const w=u.current,C=m.current;if(!w||!C)return;const _=Sc(w).getComputedStyle(w);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=_.width,C.value=w.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const S=_.boxSizing,T=lS(_.paddingBottom)+lS(_.paddingTop),I=lS(_.borderBottomWidth)+lS(_.borderTopWidth),P=C.scrollHeight;C.value="x";const M=C.scrollHeight;let R=P;i&&(R=Math.max(Number(i)*M,R)),o&&(R=Math.min(Number(o)*M,R)),R=Math.max(R,M);const k=R+(S==="border-box"?T+I:0),D=Math.abs(R-P)<=1;return{outerHeightStyle:k,overflowing:D}},[o,i,e.placeholder]),v=ea(()=>{const w=u.current,C=g();if(!w||!C||v9(C))return!1;const E=C.outerHeightStyle;return f.current!=null&&f.current!==E}),y=h.useCallback(()=>{const w=u.current,C=g();if(!w||!C||v9(C))return;const E=C.outerHeightStyle;f.current!==E&&(f.current=E,w.style.height=`${E}px`),w.style.overflow=C.overflowing?"hidden":""},[g]),b=h.useRef(-1);Ns(()=>{const w=Mw(y),C=u==null?void 0:u.current;if(!C)return;const E=Sc(C);E.addEventListener("resize",w);let _;return typeof ResizeObserver<"u"&&(_=new ResizeObserver(()=>{v()&&(_.unobserve(C),cancelAnimationFrame(b.current),y(),b.current=requestAnimationFrame(()=>{_.observe(C)}))}),_.observe(C)),()=>{w.clear(),cancelAnimationFrame(b.current),E.removeEventListener("resize",w),_&&_.disconnect()}},[g,y,v]),Ns(()=>{y()});const x=w=>{c||y(),r&&r(w)};return p.jsxs(h.Fragment,{children:[p.jsx("textarea",B({value:a,onChange:x,ref:d,rows:i,style:s},l)),p.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:B({},bWe.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function wp({props:t,states:e,muiFormControl:n}){return e.reduce((r,o)=>(r[o]=t[o],n&&typeof t[o]>"u"&&(r[o]=n[o]),r),{})}const CI=h.createContext(void 0);function Nu(){return h.useContext(CI)}function SWe(t){return p.jsx(hVe,B({},t,{defaultTheme:xI,themeId:Iw}))}function y9(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function TE(t,e=!1){return t&&(y9(t.value)&&t.value!==""||e&&y9(t.defaultValue)&&t.defaultValue!=="")}function CWe(t){return t.startAdornment}function _We(t){return Kt("MuiInputBase",t)}const lv=Gt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),EWe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],_I=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${gt(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},EI=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},TWe=t=>{const{classes:e,color:n,disabled:r,error:o,endAdornment:i,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:m,type:g}=t,v={root:["root",`color${gt(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${gt(f)}`,u&&"multiline",m&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",m&&"inputAdornedStart",i&&"inputAdornedEnd",d&&"readOnly"]};return Yt(v,_We,e)},TI=Je("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_I})(({theme:t,ownerState:e})=>B({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${lv.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&B({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),II=Je("input",{name:"MuiInputBase",slot:"Input",overridesResolver:EI})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=B({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return B({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${lv.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${lv.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),IWe=p.jsx(SWe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),LL=h.forwardRef(function(e,n){var r;const o=Xt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:m,endAdornment:g,fullWidth:v=!1,id:y,inputComponent:b="input",inputProps:x={},inputRef:w,maxRows:C,minRows:E,multiline:_=!1,name:S,onBlur:T,onChange:I,onClick:P,onFocus:M,onKeyDown:R,onKeyUp:k,placeholder:D,readOnly:A,renderSuffix:N,rows:O,slotProps:j={},slots:L={},startAdornment:z,type:V="text",value:W}=o,Y=ct(o,EWe),U=x.value!=null?x.value:W,{current:q}=h.useRef(U!=null),K=h.useRef(),J=h.useCallback(ke=>{},[]),X=mo(K,w,x.ref,J),[ue,_e]=h.useState(!1),Ce=Nu(),pe=wp({props:o,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});pe.focused=Ce?Ce.focused:ue,h.useEffect(()=>{!Ce&&f&&ue&&(_e(!1),T&&T())},[Ce,f,ue,T]);const ge=Ce&&Ce.onFilled,F=Ce&&Ce.onEmpty,ce=h.useCallback(ke=>{TE(ke)?ge&&ge():F&&F()},[ge,F]);Ns(()=>{q&&ce({value:U})},[U,ce,q]);const le=ke=>{if(pe.disabled){ke.stopPropagation();return}M&&M(ke),x.onFocus&&x.onFocus(ke),Ce&&Ce.onFocus?Ce.onFocus(ke):_e(!0)},Z=ke=>{T&&T(ke),x.onBlur&&x.onBlur(ke),Ce&&Ce.onBlur?Ce.onBlur(ke):_e(!1)},Q=(ke,...Ie)=>{if(!q){const Re=ke.target||K.current;if(Re==null)throw new Error(Cu(1));ce({value:Re.value})}x.onChange&&x.onChange(ke,...Ie),I&&I(ke,...Ie)};h.useEffect(()=>{ce(K.current)},[]);const ye=ke=>{K.current&&ke.currentTarget===ke.target&&K.current.focus(),P&&P(ke)};let fe=b,ie=x;_&&fe==="input"&&(O?ie=B({type:void 0,minRows:O,maxRows:O},ie):ie=B({type:void 0,maxRows:C,minRows:E},ie),fe=wWe);const re=ke=>{ce(ke.animationName==="mui-auto-fill-cancel"?K.current:{value:"x"})};h.useEffect(()=>{Ce&&Ce.setAdornedStart(!!z)},[Ce,z]);const ve=B({},o,{color:pe.color||"primary",disabled:pe.disabled,endAdornment:g,error:pe.error,focused:pe.focused,formControl:Ce,fullWidth:v,hiddenLabel:pe.hiddenLabel,multiline:_,size:pe.size,startAdornment:z,type:V}),ee=TWe(ve),he=L.root||c.Root||TI,we=j.root||u.root||{},me=L.input||c.Input||II;return ie=B({},ie,(r=j.input)!=null?r:u.input),p.jsxs(h.Fragment,{children:[!m&&IWe,p.jsxs(he,B({},we,!nv(he)&&{ownerState:B({},ve,we.ownerState)},{ref:n,onClick:ye},Y,{className:it(ee.root,we.className,l,A&&"MuiInputBase-readOnly"),children:[z,p.jsx(CI.Provider,{value:null,children:p.jsx(me,B({ownerState:ve,"aria-invalid":pe.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:d,disabled:pe.disabled,id:y,onAnimationStart:re,name:S,placeholder:D,readOnly:A,required:pe.required,rows:O,value:U,onKeyDown:R,onKeyUp:k,type:V},ie,!nv(me)&&{as:fe,ownerState:B({},ve,ie.ownerState)},{ref:X,className:it(ee.input,ie.className,A&&"MuiInputBase-readOnly"),onBlur:Z,onChange:Q,onFocus:le}))}),g,N?N(B({},pe,{startAdornment:z})):null]}))]})});function PWe(t){return Kt("MuiInput",t)}const Ny=B({},lv,Gt("MuiInput",["root","underline","input"]));function RWe(t){return Kt("MuiOutlinedInput",t)}const qu=B({},lv,Gt("MuiOutlinedInput",["root","notchedOutline","input"]));function kWe(t){return Kt("MuiFilledInput",t)}const $f=B({},lv,Gt("MuiFilledInput",["root","underline","input"])),DWe=Ft(p.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),$We=Ft(p.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function MWe(t){return Kt("MuiAvatar",t)}Gt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const OWe=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],AWe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Yt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},MWe,e)},NWe=Je("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:B({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:B({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),jWe=Je("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),LWe=Je($We,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function FWe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[o,i]=h.useState(!1);return h.useEffect(()=>{if(!n&&!r)return;i(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&i("loaded")},a.onerror=()=>{s&&i("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),o}const yre=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiAvatar"}),{alt:o,children:i,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:f,srcSet:m,variant:g="circular"}=r,v=ct(r,OWe);let y=null;const b=FWe(B({},u,{src:f,srcSet:m})),x=f||m,w=x&&b!=="error",C=B({},r,{colorDefault:!w,component:a,variant:g}),E=AWe(C),[_,S]=_E("img",{className:E.img,elementType:jWe,externalForwardedProps:{slots:l,slotProps:{img:B({},u,c.img)}},additionalProps:{alt:o,src:f,srcSet:m,sizes:d},ownerState:C});return w?y=p.jsx(_,B({},S)):i||i===0?y=i:x&&o?y=o[0]:y=p.jsx(LWe,{ownerState:C,className:E.fallback}),p.jsx(NWe,B({as:a,ownerState:C,className:it(E.root,s),ref:n},v,{children:y}))}),zWe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],BWe={entering:{opacity:1},entered:{opacity:1}},PI=h.forwardRef(function(e,n){const r=Xa(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:b=o,TransitionComponent:x=Il}=e,w=ct(e,zWe),C=h.useRef(null),E=mo(C,Uv(a),n),_=D=>A=>{if(D){const N=C.current;A===void 0?D(N):D(N,A)}},S=_(f),T=_((D,A)=>{rre(D);const N=rv({style:y,timeout:b,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",N),D.style.transition=r.transitions.create("opacity",N),u&&u(D,A)}),I=_(d),P=_(v),M=_(D=>{const A=rv({style:y,timeout:b,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",A),D.style.transition=r.transitions.create("opacity",A),m&&m(D)}),R=_(g),k=D=>{i&&i(C.current,D)};return p.jsx(x,B({appear:s,in:c,nodeRef:C,onEnter:T,onEntered:I,onEntering:S,onExit:M,onExited:R,onExiting:P,addEndListener:k,timeout:b},w,{children:(D,A)=>h.cloneElement(a,B({style:B({opacity:0,visibility:D==="exited"&&!c?"hidden":void 0},BWe[D],y,a.props.style),ref:E},A))}))});function VWe(t){return Kt("MuiBackdrop",t)}Gt("MuiBackdrop",["root","invisible"]);const HWe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],WWe=t=>{const{classes:e,invisible:n}=t;return Yt({root:["root",n&&"invisible"]},VWe,e)},UWe=Je("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>B({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),bre=h.forwardRef(function(e,n){var r,o,i;const s=Xt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:m,slotProps:g={},slots:v={},TransitionComponent:y=PI,transitionDuration:b}=s,x=ct(s,HWe),w=B({},s,{component:c,invisible:f}),C=WWe(w),E=(r=g.root)!=null?r:d.root;return p.jsx(y,B({in:m,timeout:b},x,{children:p.jsx(UWe,B({"aria-hidden":!0},E,{as:(o=(i=v.root)!=null?i:u.Root)!=null?o:c,className:it(C.root,l,E==null?void 0:E.className),ownerState:B({},w,E==null?void 0:E.ownerState),classes:C,ref:n,children:a}))}))});function qWe(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:o=!1}=t,i=zne({badgeContent:e,max:r});let s=n;n===!1&&e===0&&!o&&(s=!0);const{badgeContent:a,max:l=r}=s?i:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:c}}function KWe(t){return Kt("MuiBadge",t)}const Ku=Gt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),GWe=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],ok=10,ik=4,YWe=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:o,variant:i,classes:s={}}=t,a={root:["root"],badge:["badge",i,r&&"invisible",`anchorOrigin${gt(n.vertical)}${gt(n.horizontal)}`,`anchorOrigin${gt(n.vertical)}${gt(n.horizontal)}${gt(o)}`,`overlap${gt(o)}`,e!=="default"&&`color${gt(e)}`]};return Yt(a,KWe,s)},XWe=Je("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),QWe=Je("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${gt(n.anchorOrigin.vertical)}${gt(n.anchorOrigin.horizontal)}${gt(n.overlap)}`],n.color!=="default"&&e[`color${gt(n.color)}`],n.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:ok*2,lineHeight:1,padding:"0 6px",height:ok*2,borderRadius:ok,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(n=>{var r,o;return((r=t.vars)!=null?r:t).palette[n].main&&((o=t.vars)!=null?o:t).palette[n].contrastText}).map(n=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText}})),{props:{variant:"dot"},style:{borderRadius:ik,height:ik*2,minWidth:ik*2,padding:0}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="right"&&n.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="top"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:n})=>n.anchorOrigin.vertical==="bottom"&&n.anchorOrigin.horizontal==="left"&&n.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ku.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),JWe=h.forwardRef(function(e,n){var r,o,i,s,a,l;const c=Xt({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:f,components:m={},componentsProps:g={},children:v,overlap:y="rectangular",color:b="default",invisible:x=!1,max:w=99,badgeContent:C,slots:E,slotProps:_,showZero:S=!1,variant:T="standard"}=c,I=ct(c,GWe),{badgeContent:P,invisible:M,max:R,displayValue:k}=qWe({max:w,invisible:x,badgeContent:C,showZero:S}),D=zne({anchorOrigin:u,color:b,overlap:y,variant:T,badgeContent:C}),A=M||P==null&&T!=="dot",{color:N=b,overlap:O=y,anchorOrigin:j=u,variant:L=T}=A?D:c,z=L!=="dot"?k:void 0,V=B({},c,{badgeContent:P,invisible:A,max:R,displayValue:z,showZero:S,anchorOrigin:j,color:N,overlap:O,variant:L}),W=YWe(V),Y=(r=(o=E==null?void 0:E.root)!=null?o:m.Root)!=null?r:XWe,U=(i=(s=E==null?void 0:E.badge)!=null?s:m.Badge)!=null?i:QWe,q=(a=_==null?void 0:_.root)!=null?a:g.root,K=(l=_==null?void 0:_.badge)!=null?l:g.badge,J=la({elementType:Y,externalSlotProps:q,externalForwardedProps:I,additionalProps:{ref:n,as:f},ownerState:V,className:it(q==null?void 0:q.className,W.root,d)}),X=la({elementType:U,externalSlotProps:K,ownerState:V,className:it(W.badge,K==null?void 0:K.className)});return p.jsxs(Y,B({},J,{children:[v,p.jsx(U,B({},X,{children:z}))]}))}),ZWe=Gt("MuiBox",["root"]),eUe=Jne(),vt=bVe({themeId:Iw,defaultTheme:eUe,defaultClassName:ZWe.root,generateClassName:bL.generate});function tUe(t){return Kt("MuiButton",t)}const cS=Gt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),nUe=h.createContext({}),rUe=h.createContext(void 0),oUe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],iUe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:o,variant:i,classes:s}=t,a={root:["root",i,`${i}${gt(e)}`,`size${gt(o)}`,`${i}Size${gt(o)}`,`color${gt(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${gt(o)}`],endIcon:["icon","endIcon",`iconSize${gt(o)}`]},l=Yt(a,tUe,s);return B({},s,l)},xre=t=>B({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),sUe=Je(Cc,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${gt(n.color)}`],e[`size${gt(n.size)}`],e[`${n.variant}Size${gt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const o=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return B({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":B({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Gn(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Gn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Gn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${cS.focusVisible}`]:B({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${cS.disabled}`]:B({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Gn(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cS.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cS.disabled}`]:{boxShadow:"none"}}),aUe=Je("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${gt(n.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},xre(t))),lUe=Je("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${gt(n.size)}`]]}})(({ownerState:t})=>B({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},xre(t))),Mt=h.forwardRef(function(e,n){const r=h.useContext(nUe),o=h.useContext(rUe),i=wx(r,e),s=Xt({props:i,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:v,fullWidth:y=!1,size:b="medium",startIcon:x,type:w,variant:C="text"}=s,E=ct(s,oUe),_=B({},s,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:m,fullWidth:y,size:b,type:w,variant:C}),S=iUe(_),T=x&&p.jsx(aUe,{className:S.startIcon,ownerState:_,children:x}),I=g&&p.jsx(lUe,{className:S.endIcon,ownerState:_,children:g}),P=o||"";return p.jsxs(sUe,B({ownerState:_,className:it(r.className,S.root,u,P),component:c,disabled:d,focusRipple:!m,focusVisibleClassName:it(S.focusVisible,v),ref:n,type:w},E,{classes:S,children:[T,a,I]}))});function cUe(t){return Kt("MuiCard",t)}Gt("MuiCard",["root"]);const uUe=["className","raised"],dUe=t=>{const{classes:e}=t;return Yt({root:["root"]},cUe,e)},fUe=Je(bn,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),Bm=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiCard"}),{className:o,raised:i=!1}=r,s=ct(r,uUe),a=B({},r,{raised:i}),l=dUe(a);return p.jsx(fUe,B({className:it(l.root,o),elevation:i?8:void 0,ref:n,ownerState:a},s))});function hUe(t){return Kt("MuiCardActions",t)}Gt("MuiCardActions",["root","spacing"]);const pUe=["disableSpacing","className"],mUe=t=>{const{classes:e,disableSpacing:n}=t;return Yt({root:["root",!n&&"spacing"]},hUe,e)},gUe=Je("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>B({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),vUe=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiCardActions"}),{disableSpacing:o=!1,className:i}=r,s=ct(r,pUe),a=B({},r,{disableSpacing:o}),l=mUe(a);return p.jsx(gUe,B({className:it(l.root,i),ownerState:a,ref:n},s))});function yUe(t){return Kt("MuiCardContent",t)}Gt("MuiCardContent",["root"]);const bUe=["className","component"],xUe=t=>{const{classes:e}=t;return Yt({root:["root"]},yUe,e)},wUe=Je("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Vm=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiCardContent"}),{className:o,component:i="div"}=r,s=ct(r,bUe),a=B({},r,{component:i}),l=xUe(a);return p.jsx(wUe,B({as:i,className:it(l.root,o),ownerState:a,ref:n},s))});function SUe(t){return Kt("MuiCardMedia",t)}Gt("MuiCardMedia",["root","media","img"]);const CUe=["children","className","component","image","src","style"],_Ue=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return Yt({root:["root",n&&"media",r&&"img"]},SUe,e)},EUe=Je("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:o}=n;return[e.root,r&&e.media,o&&e.img]}})(({ownerState:t})=>B({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),TUe=["video","audio","picture","iframe","img"],IUe=["picture","img"],PUe=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiCardMedia"}),{children:o,className:i,component:s="div",image:a,src:l,style:c}=r,u=ct(r,CUe),d=TUe.indexOf(s)!==-1,f=!d&&a?B({backgroundImage:`url("${a}")`},c):c,m=B({},r,{component:s,isMediaComponent:d,isImageComponent:IUe.indexOf(s)!==-1}),g=_Ue(m);return p.jsx(EUe,B({className:it(g.root,i),as:s,role:!d&&a?"img":void 0,ref:n,style:f,ownerState:m,src:d?a||l:void 0},u,{children:o}))});function RUe(t){return Kt("PrivateSwitchBase",t)}Gt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const kUe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],DUe=t=>{const{classes:e,checked:n,disabled:r,edge:o}=t,i={root:["root",n&&"checked",r&&"disabled",o&&`edge${gt(o)}`],input:["input"]};return Yt(i,RUe,e)},$Ue=Je(Cc)(({ownerState:t})=>B({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),MUe=Je("input",{shouldForwardProp:ms})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),OUe=h.forwardRef(function(e,n){const{autoFocus:r,checked:o,checkedIcon:i,className:s,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:f,inputProps:m,inputRef:g,name:v,onBlur:y,onChange:b,onFocus:x,readOnly:w,required:C=!1,tabIndex:E,type:_,value:S}=e,T=ct(e,kUe),[I,P]=tv({controlled:o,default:!!a,name:"SwitchBase",state:"checked"}),M=Nu(),R=L=>{x&&x(L),M&&M.onFocus&&M.onFocus(L)},k=L=>{y&&y(L),M&&M.onBlur&&M.onBlur(L)},D=L=>{if(L.nativeEvent.defaultPrevented)return;const z=L.target.checked;P(z),b&&b(L,z)};let A=l;M&&typeof A>"u"&&(A=M.disabled);const N=_==="checkbox"||_==="radio",O=B({},e,{checked:I,disabled:A,disableFocusRipple:c,edge:u}),j=DUe(O);return p.jsxs($Ue,B({component:"span",className:it(j.root,s),centerRipple:!0,focusRipple:!c,disabled:A,tabIndex:null,role:void 0,onFocus:R,onBlur:k,ownerState:O,ref:n},T,{children:[p.jsx(MUe,B({autoFocus:r,checked:o,defaultChecked:a,className:j.input,disabled:A,id:N?f:void 0,name:v,onChange:D,readOnly:w,ref:g,required:C,ownerState:O,tabIndex:E,type:_},_==="checkbox"&&S===void 0?{}:{value:S},m)),I?i:d]}))}),AUe=Ft(p.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),NUe=Ft(p.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),jUe=Ft(p.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function LUe(t){return Kt("MuiCheckbox",t)}const sk=Gt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),FUe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],zUe=t=>{const{classes:e,indeterminate:n,color:r,size:o}=t,i={root:["root",n&&"indeterminate",`color${gt(r)}`,`size${gt(o)}`]},s=Yt(i,LUe,e);return B({},e,s)},BUe=Je(OUe,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${gt(n.size)}`],n.color!=="default"&&e[`color${gt(n.color)}`]]}})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Gn(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${sk.checked}, &.${sk.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${sk.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),VUe=p.jsx(NUe,{}),HUe=p.jsx(AUe,{}),WUe=p.jsx(jUe,{}),_x=h.forwardRef(function(e,n){var r,o;const i=Xt({props:e,name:"MuiCheckbox"}),{checkedIcon:s=VUe,color:a="primary",icon:l=HUe,indeterminate:c=!1,indeterminateIcon:u=WUe,inputProps:d,size:f="medium",className:m}=i,g=ct(i,FUe),v=c?u:l,y=c?u:s,b=B({},i,{color:a,indeterminate:c,size:f}),x=zUe(b);return p.jsx(BUe,B({type:"checkbox",inputProps:B({"data-indeterminate":c},d),icon:h.cloneElement(v,{fontSize:(r=v.props.fontSize)!=null?r:f}),checkedIcon:h.cloneElement(y,{fontSize:(o=y.props.fontSize)!=null?o:f}),ownerState:b,ref:n,className:it(x.root,m)},g,{classes:x}))});function UUe(t){return Kt("MuiCircularProgress",t)}Gt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const qUe=["className","color","disableShrink","size","style","thickness","value","variant"];let RI=t=>t,b9,x9,w9,S9;const Gu=44,KUe=Vv(b9||(b9=RI`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),GUe=Vv(x9||(x9=RI`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),YUe=t=>{const{classes:e,variant:n,color:r,disableShrink:o}=t,i={root:["root",n,`color${gt(r)}`],svg:["svg"],circle:["circle",`circle${gt(n)}`,o&&"circleDisableShrink"]};return Yt(i,UUe,e)},XUe=Je("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${gt(n.color)}`]]}})(({ownerState:t,theme:e})=>B({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&eI(w9||(w9=RI`
      animation: ${0} 1.4s linear infinite;
    `),KUe)),QUe=Je("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),JUe=Je("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${gt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>B({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&eI(S9||(S9=RI`
      animation: ${0} 1.4s ease-in-out infinite;
    `),GUe)),Hi=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=ct(r,qUe),m=B({},r,{color:i,disableShrink:s,size:a,thickness:c,value:u,variant:d}),g=YUe(m),v={},y={},b={};if(d==="determinate"){const x=2*Math.PI*((Gu-c)/2);v.strokeDasharray=x.toFixed(3),b["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*x).toFixed(3)}px`,y.transform="rotate(-90deg)"}return p.jsx(XUe,B({className:it(g.root,o),style:B({width:a,height:a},y,l),ownerState:m,ref:n,role:"progressbar"},b,f,{children:p.jsx(QUe,{className:g.svg,ownerState:m,viewBox:`${Gu/2} ${Gu/2} ${Gu} ${Gu}`,children:p.jsx(JUe,{className:g.circle,style:v,ownerState:m,cx:Gu,cy:Gu,r:(Gu-c)/2,fill:"none",strokeWidth:c})})}))}),Ud=f6e({createStyledComponent:Je("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${gt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Xt({props:t,name:"MuiContainer"})});function ZUe(t){const e=_i(t);return e.body===t?Sc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Z0(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function C9(t){return parseInt(Sc(t).getComputedStyle(t).paddingRight,10)||0}function e7e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function _9(t,e,n,r,o){const i=[e,n,...r];[].forEach.call(t.children,s=>{const a=i.indexOf(s)===-1,l=!e7e(s);a&&l&&Z0(s,o)})}function ak(t,e){let n=-1;return t.some((r,o)=>e(r)?(n=o,!0):!1),n}function t7e(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(ZUe(r)){const s=Lne(_i(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${C9(r)+s}px`;const a=_i(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${C9(l)+s}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=_i(r).body;else{const s=r.parentElement,a=Sc(r);i=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:s,property:a})=>{i?s.style.setProperty(a,i):s.style.removeProperty(a)})}}function n7e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class r7e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Z0(e.modalRef,!1);const o=n7e(n);_9(n,e.mount,e.modalRef,o,!0);const i=ak(this.containers,s=>s.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:o}),r)}mount(e,n){const r=ak(this.containers,i=>i.modals.indexOf(e)!==-1),o=this.containers[r];o.restore||(o.restore=t7e(o,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const o=ak(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Z0(e.modalRef,n),_9(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&Z0(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const o7e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function i7e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function s7e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function a7e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||s7e(t))}function l7e(t){const e=[],n=[];return Array.from(t.querySelectorAll(o7e)).forEach((r,o)=>{const i=i7e(r);i===-1||!a7e(r)||(i===0?e.push(r):n.push({documentOrder:o,tabIndex:i,node:r}))}),n.sort((r,o)=>r.tabIndex===o.tabIndex?r.documentOrder-o.documentOrder:r.tabIndex-o.tabIndex).map(r=>r.node).concat(e)}function c7e(){return!0}function wre(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=l7e,isEnabled:s=c7e,open:a}=t,l=h.useRef(!1),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),m=h.useRef(!1),g=h.useRef(null),v=mo(Uv(e),g),y=h.useRef(null);h.useEffect(()=>{!a||!g.current||(m.current=!n)},[n,a]),h.useEffect(()=>{if(!a||!g.current)return;const w=_i(g.current);return g.current.contains(w.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),m.current&&g.current.focus()),()=>{o||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),h.useEffect(()=>{if(!a||!g.current)return;const w=_i(g.current),C=S=>{y.current=S,!(r||!s()||S.key!=="Tab")&&w.activeElement===g.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())},E=()=>{const S=g.current;if(S===null)return;if(!w.hasFocus()||!s()||l.current){l.current=!1;return}if(S.contains(w.activeElement)||r&&w.activeElement!==c.current&&w.activeElement!==u.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!m.current)return;let T=[];if((w.activeElement===c.current||w.activeElement===u.current)&&(T=i(g.current)),T.length>0){var I,P;const M=!!((I=y.current)!=null&&I.shiftKey&&((P=y.current)==null?void 0:P.key)==="Tab"),R=T[0],k=T[T.length-1];typeof R!="string"&&typeof k!="string"&&(M?k.focus():R.focus())}else S.focus()};w.addEventListener("focusin",E),w.addEventListener("keydown",C,!0);const _=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(_),w.removeEventListener("focusin",E),w.removeEventListener("keydown",C,!0)}},[n,r,o,s,a,i]);const b=w=>{d.current===null&&(d.current=w.relatedTarget),m.current=!0,f.current=w.target;const C=e.props.onFocus;C&&C(w)},x=w=>{d.current===null&&(d.current=w.relatedTarget),m.current=!0};return p.jsxs(h.Fragment,{children:[p.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),h.cloneElement(e,{ref:v,onFocus:b}),p.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}function u7e(t){return typeof t=="function"?t():t}function d7e(t){return t?t.props.hasOwnProperty("in"):!1}const f7e=new r7e;function h7e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:o=f7e,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=h.useRef({}),m=h.useRef(null),g=h.useRef(null),v=mo(g,d),[y,b]=h.useState(!u),x=d7e(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const C=()=>_i(m.current),E=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),_=()=>{o.mount(E(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},S=ea(()=>{const N=u7e(e)||C().body;o.add(E(),N),g.current&&_()}),T=h.useCallback(()=>o.isTopModal(E()),[o]),I=ea(N=>{m.current=N,N&&(u&&T()?_():g.current&&Z0(g.current,w))}),P=h.useCallback(()=>{o.remove(E(),w)},[w,o]);h.useEffect(()=>()=>{P()},[P]),h.useEffect(()=>{u?S():(!x||!i)&&P()},[u,P,x,i,S]);const M=N=>O=>{var j;(j=N.onKeyDown)==null||j.call(N,O),!(O.key!=="Escape"||O.which===229||!T())&&(n||(O.stopPropagation(),c&&c(O,"escapeKeyDown")))},R=N=>O=>{var j;(j=N.onClick)==null||j.call(N,O),O.target===O.currentTarget&&c&&c(O,"backdropClick")};return{getRootProps:(N={})=>{const O=Bne(t);delete O.onTransitionEnter,delete O.onTransitionExited;const j=B({},O,N);return B({role:"presentation"},j,{onKeyDown:M(j),ref:v})},getBackdropProps:(N={})=>{const O=N;return B({"aria-hidden":!0},O,{onClick:R(O),open:u})},getTransitionProps:()=>{const N=()=>{b(!1),s&&s()},O=()=>{b(!0),a&&a(),i&&P()};return{onEnter:qM(N,l==null?void 0:l.props.onEnter),onExited:qM(O,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:I,isTopModal:T,exited:y,hasTransition:x}}function p7e(t){return Kt("MuiModal",t)}Gt("MuiModal",["root","hidden","backdrop"]);const m7e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],g7e=t=>{const{open:e,exited:n,classes:r}=t;return Yt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},p7e,r)},v7e=Je("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>B({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),y7e=Je(bre,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Sre=h.forwardRef(function(e,n){var r,o,i,s,a,l;const c=Xt({name:"MuiModal",props:e}),{BackdropComponent:u=y7e,BackdropProps:d,className:f,closeAfterTransition:m=!1,children:g,container:v,component:y,components:b={},componentsProps:x={},disableAutoFocus:w=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:E=!1,disablePortal:_=!1,disableRestoreFocus:S=!1,disableScrollLock:T=!1,hideBackdrop:I=!1,keepMounted:P=!1,onBackdropClick:M,open:R,slotProps:k,slots:D}=c,A=ct(c,m7e),N=B({},c,{closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:C,disableEscapeKeyDown:E,disablePortal:_,disableRestoreFocus:S,disableScrollLock:T,hideBackdrop:I,keepMounted:P}),{getRootProps:O,getBackdropProps:j,getTransitionProps:L,portalRef:z,isTopModal:V,exited:W,hasTransition:Y}=h7e(B({},N,{rootRef:n})),U=B({},N,{exited:W}),q=g7e(U),K={};if(g.props.tabIndex===void 0&&(K.tabIndex="-1"),Y){const{onEnter:ge,onExited:F}=L();K.onEnter=ge,K.onExited=F}const J=(r=(o=D==null?void 0:D.root)!=null?o:b.Root)!=null?r:v7e,X=(i=(s=D==null?void 0:D.backdrop)!=null?s:b.Backdrop)!=null?i:u,ue=(a=k==null?void 0:k.root)!=null?a:x.root,_e=(l=k==null?void 0:k.backdrop)!=null?l:x.backdrop,Ce=la({elementType:J,externalSlotProps:ue,externalForwardedProps:A,getSlotProps:O,additionalProps:{ref:n,as:y},ownerState:U,className:it(f,ue==null?void 0:ue.className,q==null?void 0:q.root,!U.open&&U.exited&&(q==null?void 0:q.hidden))}),pe=la({elementType:X,externalSlotProps:_e,additionalProps:d,getSlotProps:ge=>j(B({},ge,{onClick:F=>{M&&M(F),ge!=null&&ge.onClick&&ge.onClick(F)}})),className:it(_e==null?void 0:_e.className,d==null?void 0:d.className,q==null?void 0:q.backdrop),ownerState:U});return!P&&!R&&(!Y||W)?null:p.jsx(vre,{ref:z,container:v,disablePortal:_,children:p.jsxs(J,B({},Ce,{children:[!I&&u?p.jsx(X,B({},pe)):null,p.jsx(wre,{disableEnforceFocus:C,disableAutoFocus:w,disableRestoreFocus:S,isEnabled:V,open:R,children:h.cloneElement(g,K)})]}))})});function b7e(t){return Kt("MuiDialog",t)}const eb=Gt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Cre=h.createContext({}),x7e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],w7e=Je(bre,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),S7e=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=t,s={root:["root"],container:["container",`scroll${gt(n)}`],paper:["paper",`paperScroll${gt(n)}`,`paperWidth${gt(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return Yt(s,b7e,e)},C7e=Je(Sre,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),_7e=Je("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${gt(n.scroll)}`]]}})(({ownerState:t})=>B({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),E7e=Je(bn,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${gt(n.scroll)}`],e[`paperWidth${gt(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>B({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${eb.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${eb.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${eb.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),ss=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiDialog"}),o=Xa(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:m=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:y,onClick:b,onClose:x,open:w,PaperComponent:C=bn,PaperProps:E={},scroll:_="paper",TransitionComponent:S=PI,transitionDuration:T=i,TransitionProps:I}=r,P=ct(r,x7e),M=B({},r,{disableEscapeKeyDown:f,fullScreen:m,fullWidth:g,maxWidth:v,scroll:_}),R=S7e(M),k=h.useRef(),D=j=>{k.current=j.target===j.currentTarget},A=j=>{b&&b(j),k.current&&(k.current=null,y&&y(j),x&&x(j,"backdropClick"))},N=Ow(a),O=h.useMemo(()=>({titleId:N}),[N]);return p.jsx(C7e,B({className:it(R.root,d),closeAfterTransition:!0,components:{Backdrop:w7e},componentsProps:{backdrop:B({transitionDuration:T,as:l},c)},disableEscapeKeyDown:f,onClose:x,open:w,ref:n,onClick:A,ownerState:M},P,{children:p.jsx(S,B({appear:!0,in:w,timeout:T,role:"presentation"},I,{children:p.jsx(_7e,{className:it(R.container),onMouseDown:D,ownerState:M,children:p.jsx(E7e,B({as:C,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":N},E,{className:it(R.paper,E.className),ownerState:M,children:p.jsx(Cre.Provider,{value:O,children:u})}))})}))}))});function T7e(t){return Kt("MuiDialogActions",t)}Gt("MuiDialogActions",["root","spacing"]);const I7e=["className","disableSpacing"],P7e=t=>{const{classes:e,disableSpacing:n}=t;return Yt({root:["root",!n&&"spacing"]},T7e,e)},R7e=Je("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>B({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),as=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1}=r,s=ct(r,I7e),a=B({},r,{disableSpacing:i}),l=P7e(a);return p.jsx(R7e,B({className:it(l.root,o),ownerState:a,ref:n},s))});function k7e(t){return Kt("MuiDialogContent",t)}Gt("MuiDialogContent",["root","dividers"]);function D7e(t){return Kt("MuiDialogTitle",t)}const $7e=Gt("MuiDialogTitle",["root"]),M7e=["className","dividers"],O7e=t=>{const{classes:e,dividers:n}=t;return Yt({root:["root",n&&"dividers"]},k7e,e)},A7e=Je("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>B({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${$7e.root} + &`]:{paddingTop:0}})),ls=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiDialogContent"}),{className:o,dividers:i=!1}=r,s=ct(r,M7e),a=B({},r,{dividers:i}),l=O7e(a);return p.jsx(A7e,B({className:it(l.root,o),ownerState:a,ref:n},s))});function N7e(t){return Kt("MuiDialogContentText",t)}Gt("MuiDialogContentText",["root"]);const j7e=["children","className"],L7e=t=>{const{classes:e}=t,r=Yt({root:["root"]},N7e,e);return B({},e,r)},F7e=Je(Ne,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),DC=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiDialogContentText"}),{className:o}=r,i=ct(r,j7e),s=L7e(i);return p.jsx(F7e,B({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i,className:it(s.root,o)},r,{classes:s}))}),z7e=["className","id"],B7e=t=>{const{classes:e}=t;return Yt({root:["root"]},D7e,e)},V7e=Je(Ne,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Ds=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiDialogTitle"}),{className:o,id:i}=r,s=ct(r,z7e),a=r,l=B7e(a),{titleId:c=i}=h.useContext(Cre);return p.jsx(V7e,B({component:"h2",className:it(l.root,o),ownerState:a,ref:n,variant:"h6",id:i??c},s))});function H7e(t){return Kt("MuiDivider",t)}const E9=Gt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),W7e=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],U7e=t=>{const{absolute:e,children:n,classes:r,flexItem:o,light:i,orientation:s,textAlign:a,variant:l}=t;return Yt({root:["root",e&&"absolute",l,i&&"light",s==="vertical"&&"vertical",o&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},H7e,r)},q7e=Je("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>B({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Gn(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>B({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>B({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>B({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),K7e=Je("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>B({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),ua=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiDivider"}),{absolute:o=!1,children:i,className:s,component:a=i?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:f="center",variant:m="fullWidth"}=r,g=ct(r,W7e),v=B({},r,{absolute:o,component:a,flexItem:l,light:c,orientation:u,role:d,textAlign:f,variant:m}),y=U7e(v);return p.jsx(q7e,B({as:a,className:it(y.root,s),role:d,ref:n,ownerState:v},g,{children:i?p.jsx(K7e,{className:y.wrapper,ownerState:v,children:i}):null}))});ua.muiSkipListHighlight=!0;const G7e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Y7e=t=>{const{classes:e,disableUnderline:n}=t,o=Yt({root:["root",!n&&"underline"],input:["input"]},kWe,e);return B({},e,o)},X7e=Je(TI,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[..._I(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",o=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return B({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${$f.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${$f.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$f.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$f.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$f.disabled}, .${$f.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${$f.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&B({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Q7e=Je(II,{name:"MuiFilledInput",slot:"Input",overridesResolver:EI})(({theme:t,ownerState:e})=>B({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FL=h.forwardRef(function(e,n){var r,o,i,s;const a=Xt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:m,slots:g={},type:v="text"}=a,y=ct(a,G7e),b=B({},a,{fullWidth:u,inputComponent:d,multiline:f,type:v}),x=Y7e(a),w={root:{ownerState:b},input:{ownerState:b}},C=m??c?is(w,m??c):w,E=(r=(o=g.root)!=null?o:l.Root)!=null?r:X7e,_=(i=(s=g.input)!=null?s:l.Input)!=null?i:Q7e;return p.jsx(LL,B({slots:{root:E,input:_},componentsProps:C,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:v},y,{classes:x}))});FL.muiName="Input";function J7e(t){return Kt("MuiFormControl",t)}Gt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Z7e=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],eqe=t=>{const{classes:e,margin:n,fullWidth:r}=t,o={root:["root",n!=="none"&&`margin${gt(n)}`,r&&"fullWidth"]};return Yt(o,J7e,e)},tqe=Je("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>B({},e.root,e[`margin${gt(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>B({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),qd=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiFormControl"}),{children:o,className:i,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:m="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,b=ct(r,Z7e),x=B({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:m,required:g,size:v,variant:y}),w=eqe(x),[C,E]=h.useState(()=>{let k=!1;return o&&h.Children.forEach(o,D=>{if(!X0(D,["Input","Select"]))return;const A=X0(D,["Select"])?D.props.input:D;A&&CWe(A.props)&&(k=!0)}),k}),[_,S]=h.useState(()=>{let k=!1;return o&&h.Children.forEach(o,D=>{X0(D,["Input","Select"])&&(TE(D.props,!0)||TE(D.props.inputProps,!0))&&(k=!0)}),k}),[T,I]=h.useState(!1);l&&T&&I(!1);const P=u!==void 0&&!l?u:T;let M;const R=h.useMemo(()=>({adornedStart:C,setAdornedStart:E,color:s,disabled:l,error:c,filled:_,focused:P,fullWidth:d,hiddenLabel:f,size:v,onBlur:()=>{I(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{I(!0)},registerEffect:M,required:g,variant:y}),[C,s,l,c,_,P,d,f,M,g,v,y]);return p.jsx(CI.Provider,{value:R,children:p.jsx(tqe,B({as:a,ownerState:x,className:it(w.root,i),ref:n},b,{children:o}))})}),nu=x6e({createStyledComponent:Je("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Xt({props:t,name:"MuiStack"})});function nqe(t){return Kt("MuiFormControlLabel",t)}const w0=Gt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),rqe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],oqe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:o,required:i}=t,s={root:["root",n&&"disabled",`labelPlacement${gt(r)}`,o&&"error",i&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return Yt(s,nqe,e)},iqe=Je("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${w0.label}`]:e.label},e.root,e[`labelPlacement${gt(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>B({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${w0.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${w0.label}`]:{[`&.${w0.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),sqe=Je("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${w0.error}`]:{color:(t.vars||t).palette.error.main}})),T9=h.forwardRef(function(e,n){var r,o;const i=Xt({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:f="end",required:m,slotProps:g={}}=i,v=ct(i,rqe),y=Nu(),b=(r=c??l.props.disabled)!=null?r:y==null?void 0:y.disabled,x=m??l.props.required,w={disabled:b,required:x};["checked","name","onChange","value","inputRef"].forEach(I=>{typeof l.props[I]>"u"&&typeof i[I]<"u"&&(w[I]=i[I])});const C=wp({props:i,muiFormControl:y,states:["error"]}),E=B({},i,{disabled:b,labelPlacement:f,required:x,error:C.error}),_=oqe(E),S=(o=g.typography)!=null?o:a.typography;let T=d;return T!=null&&T.type!==Ne&&!u&&(T=p.jsx(Ne,B({component:"span"},S,{className:it(_.label,S==null?void 0:S.className),children:T}))),p.jsxs(iqe,B({className:it(_.root,s),ownerState:E,ref:n},v,{children:[h.cloneElement(l,w),x?p.jsxs(nu,{display:"block",children:[T,p.jsxs(sqe,{ownerState:E,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]}):T]}))});function aqe(t){return Kt("MuiFormHelperText",t)}const I9=Gt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var P9;const lqe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],cqe=t=>{const{classes:e,contained:n,size:r,disabled:o,error:i,filled:s,focused:a,required:l}=t,c={root:["root",o&&"disabled",i&&"error",r&&`size${gt(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Yt(c,aqe,e)},uqe=Je("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${gt(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${I9.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${I9.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),dqe=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiFormHelperText"}),{children:o,className:i,component:s="p"}=r,a=ct(r,lqe),l=Nu(),c=wp({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=B({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=cqe(u);return p.jsx(uqe,B({as:s,ownerState:u,className:it(d.root,i),ref:n},a,{children:o===" "?P9||(P9=p.jsx("span",{className:"notranslate",children:"​"})):o}))});function fqe(t){return Kt("MuiFormLabel",t)}const tb=Gt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),hqe=["children","className","color","component","disabled","error","filled","focused","required"],pqe=t=>{const{classes:e,color:n,focused:r,disabled:o,error:i,filled:s,required:a}=t,l={root:["root",`color${gt(n)}`,o&&"disabled",i&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",i&&"error"]};return Yt(l,fqe,e)},mqe=Je("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>B({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>B({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${tb.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${tb.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${tb.error}`]:{color:(t.vars||t).palette.error.main}})),gqe=Je("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${tb.error}`]:{color:(t.vars||t).palette.error.main}})),vqe=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiFormLabel"}),{children:o,className:i,component:s="label"}=r,a=ct(r,hqe),l=Nu(),c=wp({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=B({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=pqe(u);return p.jsxs(mqe,B({as:s,ownerState:u,className:it(d.root,i),ref:n},a,{children:[o,c.required&&p.jsxs(gqe,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),R9=h.createContext();function yqe(t){return Kt("MuiGrid",t)}const bqe=[0,1,2,3,4,5,6,7,8,9,10],xqe=["column-reverse","column","row-reverse","row"],wqe=["nowrap","wrap-reverse","wrap"],jy=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ex=Gt("MuiGrid",["root","container","item","zeroMinWidth",...bqe.map(t=>`spacing-xs-${t}`),...xqe.map(t=>`direction-xs-${t}`),...wqe.map(t=>`wrap-xs-${t}`),...jy.map(t=>`grid-xs-${t}`),...jy.map(t=>`grid-sm-${t}`),...jy.map(t=>`grid-md-${t}`),...jy.map(t=>`grid-lg-${t}`),...jy.map(t=>`grid-xl-${t}`)]),Sqe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function pg(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function Cqe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,o)=>{let i={};if(e[o]&&(n=e[o]),!n)return r;if(n===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=_h({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[o]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${pg(u)})`;c={flexBasis:d,maxWidth:d}}}i=B({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[o]===0?Object.assign(r,i):r[t.breakpoints.up(o)]=i,r},{})}function _qe({theme:t,ownerState:e}){const n=_h({values:e.direction,breakpoints:t.breakpoints.values});return As({theme:t},n,r=>{const o={flexDirection:r};return r.indexOf("column")===0&&(o[`& > .${Ex.item}`]={maxWidth:"none"}),o})}function _re({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(o=>{n===""&&e[o]!==0&&(n=o)});const r=Object.keys(t).sort((o,i)=>t[o]-t[i]);return r.slice(0,r.indexOf(n))}function Eqe({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let o={};if(n&&r!==0){const i=_h({values:r,breakpoints:t.breakpoints.values});let s;typeof i=="object"&&(s=_re({breakpoints:t.breakpoints.values,values:i})),o=As({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${pg(u)}`,[`& > .${Ex.item}`]:{paddingTop:pg(u)}}:(c=s)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Ex.item}`]:{paddingTop:0}}})}return o}function Tqe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let o={};if(n&&r!==0){const i=_h({values:r,breakpoints:t.breakpoints.values});let s;typeof i=="object"&&(s=_re({breakpoints:t.breakpoints.values,values:i})),o=As({theme:t},i,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${pg(u)})`,marginLeft:`-${pg(u)}`,[`& > .${Ex.item}`]:{paddingLeft:pg(u)}}:(c=s)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Ex.item}`]:{paddingLeft:0}}})}return o}function Iqe(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(o=>{const i=t[o];Number(i)>0&&r.push(n[`spacing-${o}-${String(i)}`])}),r}const Pqe=Je("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:o,item:i,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=Iqe(s,c,e));const d=[];return c.forEach(f=>{const m=n[f];m&&d.push(e[`grid-${f}-${String(m)}`])}),[e.root,r&&e.container,i&&e.item,l&&e.zeroMinWidth,...u,o!=="row"&&e[`direction-xs-${String(o)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>B({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),_qe,Eqe,Tqe,Cqe);function Rqe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const o=t[r];if(Number(o)>0){const i=`spacing-${r}-${String(o)}`;n.push(i)}}),n}const kqe=t=>{const{classes:e,container:n,direction:r,item:o,spacing:i,wrap:s,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=Rqe(i,l));const u=[];l.forEach(f=>{const m=t[f];m&&u.push(`grid-${f}-${String(m)}`)});const d={root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return Yt(d,yqe,e)},ut=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiGrid"}),{breakpoints:o}=Xa(),i=$w(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:m,spacing:g=0,wrap:v="wrap",zeroMinWidth:y=!1}=i,b=ct(i,Sqe),x=m||g,w=l||g,C=h.useContext(R9),E=u?a||12:C,_={},S=B({},b);o.keys.forEach(P=>{b[P]!=null&&(_[P]=b[P],delete S[P])});const T=B({},i,{columns:E,container:u,direction:d,item:f,rowSpacing:x,columnSpacing:w,wrap:v,zeroMinWidth:y,spacing:g},_,{breakpoints:o.keys}),I=kqe(T);return p.jsx(R9.Provider,{value:E,children:p.jsx(Pqe,B({ownerState:T,className:it(I.root,s),as:c,ref:n},S))})}),Dqe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tO(t){return`scale(${t}, ${t**2})`}const $qe={entering:{opacity:1,transform:tO(1)},entered:{opacity:1,transform:"none"}},lk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Tx=h.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:i,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=Il}=e,b=ct(e,Dqe),x=dh(),w=h.useRef(),C=Xa(),E=h.useRef(null),_=mo(E,Uv(i),n),S=A=>N=>{if(A){const O=E.current;N===void 0?A(O):A(O,N)}},T=S(u),I=S((A,N)=>{rre(A);const{duration:O,delay:j,easing:L}=rv({style:g,timeout:v,easing:s},{mode:"enter"});let z;v==="auto"?(z=C.transitions.getAutoHeightDuration(A.clientHeight),w.current=z):z=O,A.style.transition=[C.transitions.create("opacity",{duration:z,delay:j}),C.transitions.create("transform",{duration:lk?z:z*.666,delay:j,easing:L})].join(","),l&&l(A,N)}),P=S(c),M=S(m),R=S(A=>{const{duration:N,delay:O,easing:j}=rv({style:g,timeout:v,easing:s},{mode:"exit"});let L;v==="auto"?(L=C.transitions.getAutoHeightDuration(A.clientHeight),w.current=L):L=N,A.style.transition=[C.transitions.create("opacity",{duration:L,delay:O}),C.transitions.create("transform",{duration:lk?L:L*.666,delay:lk?O:O||L*.333,easing:j})].join(","),A.style.opacity=0,A.style.transform=tO(.75),d&&d(A)}),k=S(f),D=A=>{v==="auto"&&x.start(w.current||0,A),r&&r(E.current,A)};return p.jsx(y,B({appear:o,in:a,nodeRef:E,onEnter:I,onEntered:P,onEntering:T,onExit:R,onExited:k,onExiting:M,addEndListener:D,timeout:v==="auto"?null:v},b,{children:(A,N)=>h.cloneElement(i,B({style:B({opacity:0,transform:tO(.75),visibility:A==="exited"&&!a?"hidden":void 0},$qe[A],g,i.props.style),ref:_},N))}))});Tx.muiSupportAuto=!0;const Mqe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Oqe=t=>{const{classes:e,disableUnderline:n}=t,o=Yt({root:["root",!n&&"underline"],input:["input"]},PWe,e);return B({},e,o)},Aqe=Je(TI,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[..._I(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),B({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ny.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ny.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ny.disabled}, .${Ny.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Ny.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Nqe=Je(II,{name:"MuiInput",slot:"Input",overridesResolver:EI})({}),zL=h.forwardRef(function(e,n){var r,o,i,s;const a=Xt({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:v={},type:y="text"}=a,b=ct(a,Mqe),x=Oqe(a),C={root:{ownerState:{disableUnderline:l}}},E=g??u?is(g??u,C):C,_=(r=(o=v.root)!=null?o:c.Root)!=null?r:Aqe,S=(i=(s=v.input)!=null?s:c.Input)!=null?i:Nqe;return p.jsx(LL,B({slots:{root:_,input:S},slotProps:E,fullWidth:d,inputComponent:f,multiline:m,ref:n,type:y},b,{classes:x}))});zL.muiName="Input";function jqe(t){return Kt("MuiInputAdornment",t)}const k9=Gt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var D9;const Lqe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Fqe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${gt(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},zqe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:o,size:i,variant:s}=t,a={root:["root",n&&"disablePointerEvents",o&&`position${gt(o)}`,s,r&&"hiddenLabel",i&&`size${gt(i)}`]};return Yt(a,jqe,e)},Bqe=Je("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Fqe})(({theme:t,ownerState:e})=>B({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${k9.positionStart}&:not(.${k9.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),kI=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiInputAdornment"}),{children:o,className:i,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=ct(r,Lqe),f=Nu()||{};let m=u;u&&f.variant,f&&!m&&(m=f.variant);const g=B({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:c,variant:m}),v=zqe(g);return p.jsx(CI.Provider,{value:null,children:p.jsx(Bqe,B({as:s,ownerState:g,className:it(v.root,i),ref:n},d,{children:typeof o=="string"&&!l?p.jsx(Ne,{color:"text.secondary",children:o}):p.jsxs(h.Fragment,{children:[c==="start"?D9||(D9=p.jsx("span",{className:"notranslate",children:"​"})):null,o]})}))})});function Vqe(t){return Kt("MuiInputLabel",t)}Gt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Hqe=["disableAnimation","margin","shrink","variant","className"],Wqe=t=>{const{classes:e,formControl:n,size:r,shrink:o,disableAnimation:i,variant:s,required:a}=t,l={root:["root",n&&"formControl",!i&&"animated",o&&"shrink",r&&r!=="normal"&&`size${gt(r)}`,s],asterisk:[a&&"asterisk"]},c=Yt(l,Vqe,e);return B({},e,c)},Uqe=Je(vqe,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${tb.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>B({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&B({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&B({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&B({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Kd=h.forwardRef(function(e,n){const r=Xt({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,shrink:i,className:s}=r,a=ct(r,Hqe),l=Nu();let c=i;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=wp({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=B({},r,{disableAnimation:o,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=Wqe(d);return p.jsx(Uqe,B({"data-shrink":c,ownerState:d,ref:n,className:it(f.root,s)},a,{classes:f}))}),hc=h.createContext({});function qqe(t){return Kt("MuiList",t)}Gt("MuiList",["root","padding","dense","subheader"]);const Kqe=["children","className","component","dense","disablePadding","subheader"],Gqe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:o}=t;return Yt({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},qqe,e)},Yqe=Je("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>B({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),cs=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiList"}),{children:o,className:i,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=ct(r,Kqe),d=h.useMemo(()=>({dense:a}),[a]),f=B({},r,{component:s,dense:a,disablePadding:l}),m=Gqe(f);return p.jsx(hc.Provider,{value:d,children:p.jsxs(Yqe,B({as:s,className:it(m.root,i),ref:n,ownerState:f},u,{children:[c,o]}))})});function Xqe(t){return Kt("MuiListItem",t)}const ym=Gt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Qqe=Gt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Jqe(t){return Kt("MuiListItemSecondaryAction",t)}Gt("MuiListItemSecondaryAction",["root","disableGutters"]);const Zqe=["className"],eKe=t=>{const{disableGutters:e,classes:n}=t;return Yt({root:["root",e&&"disableGutters"]},Jqe,n)},tKe=Je("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>B({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),Ere=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=r,i=ct(r,Zqe),s=h.useContext(hc),a=B({},r,{disableGutters:s.disableGutters}),l=eKe(a);return p.jsx(tKe,B({className:it(l.root,o),ownerState:a,ref:n},i))});Ere.muiName="ListItemSecondaryAction";const nKe=["className"],rKe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],oKe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},iKe=t=>{const{alignItems:e,button:n,classes:r,dense:o,disabled:i,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return Yt({root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",i&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Xqe,r)},sKe=Je("div",{name:"MuiListItem",slot:"Root",overridesResolver:oKe})(({theme:t,ownerState:e})=>B({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&B({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Qqe.root}`]:{paddingRight:48}},{[`&.${ym.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ym.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ym.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ym.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ym.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),aKe=Je("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),$s=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:i=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:m}={},dense:g=!1,disabled:v=!1,disableGutters:y=!1,disablePadding:b=!1,divider:x=!1,focusVisibleClassName:w,secondaryAction:C,selected:E=!1,slotProps:_={},slots:S={}}=r,T=ct(r.ContainerProps,nKe),I=ct(r,rKe),P=h.useContext(hc),M=h.useMemo(()=>({dense:g||P.dense||!1,alignItems:o,disableGutters:y}),[o,P.dense,g,y]),R=h.useRef(null);Ns(()=>{i&&R.current&&R.current.focus()},[i]);const k=h.Children.toArray(a),D=k.length&&X0(k[k.length-1],["ListItemSecondaryAction"]),A=B({},r,{alignItems:o,autoFocus:i,button:s,dense:M.dense,disabled:v,disableGutters:y,disablePadding:b,divider:x,hasSecondaryAction:D,selected:E}),N=iKe(A),O=mo(R,n),j=S.root||u.Root||sKe,L=_.root||d.root||{},z=B({className:it(N.root,L.className,l),disabled:v},I);let V=c||"li";return s&&(z.component=c||"div",z.focusVisibleClassName=it(ym.focusVisible,w),V=Cc),D?(V=!z.component&&!c?"div":V,f==="li"&&(V==="li"?V="div":z.component==="li"&&(z.component="div")),p.jsx(hc.Provider,{value:M,children:p.jsxs(aKe,B({as:f,className:it(N.container,m),ref:O,ownerState:A},T,{children:[p.jsx(j,B({},L,!nv(j)&&{as:V,ownerState:B({},A,L.ownerState)},z,{children:k})),k.pop()]}))})):p.jsx(hc.Provider,{value:M,children:p.jsxs(j,B({},L,{as:V,ref:O},!nv(j)&&{ownerState:B({},A,L.ownerState)},z,{children:[k,C&&p.jsx(Ere,{children:C})]}))})});function lKe(t){return Kt("MuiListItemAvatar",t)}Gt("MuiListItemAvatar",["root","alignItemsFlexStart"]);const cKe=["className"],uKe=t=>{const{alignItems:e,classes:n}=t;return Yt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},lKe,n)},dKe=Je("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>B({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),fKe=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiListItemAvatar"}),{className:o}=r,i=ct(r,cKe),s=h.useContext(hc),a=B({},r,{alignItems:s.alignItems}),l=uKe(a);return p.jsx(dKe,B({className:it(l.root,o),ownerState:a,ref:n},i))});function hKe(t){return Kt("MuiListItemIcon",t)}const $9=Gt("MuiListItemIcon",["root","alignItemsFlexStart"]),pKe=["className"],mKe=t=>{const{alignItems:e,classes:n}=t;return Yt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},hKe,n)},gKe=Je("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>B({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Gd=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiListItemIcon"}),{className:o}=r,i=ct(r,pKe),s=h.useContext(hc),a=B({},r,{alignItems:s.alignItems}),l=mKe(a);return p.jsx(gKe,B({className:it(l.root,o),ownerState:a,ref:n},i))});function vKe(t){return Kt("MuiListItemText",t)}const IE=Gt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),yKe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bKe=t=>{const{classes:e,inset:n,primary:r,secondary:o,dense:i}=t;return Yt({root:["root",n&&"inset",i&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},vKe,e)},xKe=Je("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${IE.primary}`]:e.primary},{[`& .${IE.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>B({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),hl=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiListItemText"}),{children:o,className:i,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,f=ct(r,yKe),{dense:m}=h.useContext(hc);let g=l??o,v=u;const y=B({},r,{disableTypography:s,inset:a,primary:!!g,secondary:!!v,dense:m}),b=bKe(y);return g!=null&&g.type!==Ne&&!s&&(g=p.jsx(Ne,B({variant:m?"body2":"body1",className:b.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:g}))),v!=null&&v.type!==Ne&&!s&&(v=p.jsx(Ne,B({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},d,{children:v}))),p.jsxs(xKe,B({className:it(b.root,i),ownerState:y,ref:n},f,{children:[g,v]}))}),wKe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ck(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function M9(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Tre(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Ly(t,e,n,r,o,i){let s=!1,a=o(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Tre(a,i)||l)a=o(t,a,n);else return a.focus(),!0}return!1}const BL=h.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:i=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=ct(e,wKe),m=h.useRef(null),g=h.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ns(()=>{o&&m.current.focus()},[o]),h.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:C})=>{const E=!m.current.style.width;if(w.clientHeight<m.current.clientHeight&&E){const _=`${Lne(_i(w))}px`;m.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=_,m.current.style.width=`calc(100% + ${_})`}return m.current}}),[]);const v=w=>{const C=m.current,E=w.key,_=_i(C).activeElement;if(E==="ArrowDown")w.preventDefault(),Ly(C,_,c,l,ck);else if(E==="ArrowUp")w.preventDefault(),Ly(C,_,c,l,M9);else if(E==="Home")w.preventDefault(),Ly(C,null,c,l,ck);else if(E==="End")w.preventDefault(),Ly(C,null,c,l,M9);else if(E.length===1){const S=g.current,T=E.toLowerCase(),I=performance.now();S.keys.length>0&&(I-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&T!==S.keys[0]&&(S.repeating=!1)),S.lastTime=I,S.keys.push(T);const P=_&&!S.repeating&&Tre(_,S);S.previousKeyMatched&&(P||Ly(C,_,!1,l,ck,S))?w.preventDefault():S.previousKeyMatched=!1}u&&u(w)},y=mo(m,n);let b=-1;h.Children.forEach(s,(w,C)=>{if(!h.isValidElement(w)){b===C&&(b+=1,b>=s.length&&(b=-1));return}w.props.disabled||(d==="selectedMenu"&&w.props.selected||b===-1)&&(b=C),b===C&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(b+=1,b>=s.length&&(b=-1))});const x=h.Children.map(s,(w,C)=>{if(C===b){const E={};return i&&(E.autoFocus=!0),w.props.tabIndex===void 0&&d==="selectedMenu"&&(E.tabIndex=0),h.cloneElement(w,E)}return w});return p.jsx(cs,B({role:"menu",ref:y,className:a,onKeyDown:v,tabIndex:o?0:-1},f,{children:x}))});function SKe(t){return Kt("MuiPopover",t)}Gt("MuiPopover",["root","paper"]);const CKe=["onEntering"],_Ke=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],EKe=["slotProps"];function O9(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function A9(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function N9(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function uk(t){return typeof t=="function"?t():t}const TKe=t=>{const{classes:e}=t;return Yt({root:["root"],paper:["paper"]},SKe,e)},IKe=Je(Sre,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ire=Je(bn,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),PKe=h.forwardRef(function(e,n){var r,o,i;const s=Xt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:m,container:g,elevation:v=8,marginThreshold:y=16,open:b,PaperProps:x={},slots:w,slotProps:C,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:_=Tx,transitionDuration:S="auto",TransitionProps:{onEntering:T}={},disableScrollLock:I=!1}=s,P=ct(s.TransitionProps,CKe),M=ct(s,_Ke),R=(r=C==null?void 0:C.paper)!=null?r:x,k=h.useRef(),D=mo(k,R.ref),A=B({},s,{anchorOrigin:c,anchorReference:d,elevation:v,marginThreshold:y,externalPaperSlotProps:R,transformOrigin:E,TransitionComponent:_,transitionDuration:S,TransitionProps:P}),N=TKe(A),O=h.useCallback(()=>{if(d==="anchorPosition")return u;const ge=uk(l),ce=(ge&&ge.nodeType===1?ge:_i(k.current).body).getBoundingClientRect();return{top:ce.top+O9(ce,c.vertical),left:ce.left+A9(ce,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),j=h.useCallback(ge=>({vertical:O9(ge,E.vertical),horizontal:A9(ge,E.horizontal)}),[E.horizontal,E.vertical]),L=h.useCallback(ge=>{const F={width:ge.offsetWidth,height:ge.offsetHeight},ce=j(F);if(d==="none")return{top:null,left:null,transformOrigin:N9(ce)};const le=O();let Z=le.top-ce.vertical,Q=le.left-ce.horizontal;const ye=Z+F.height,fe=Q+F.width,ie=Sc(uk(l)),re=ie.innerHeight-y,ve=ie.innerWidth-y;if(y!==null&&Z<y){const ee=Z-y;Z-=ee,ce.vertical+=ee}else if(y!==null&&ye>re){const ee=ye-re;Z-=ee,ce.vertical+=ee}if(y!==null&&Q<y){const ee=Q-y;Q-=ee,ce.horizontal+=ee}else if(fe>ve){const ee=fe-ve;Q-=ee,ce.horizontal+=ee}return{top:`${Math.round(Z)}px`,left:`${Math.round(Q)}px`,transformOrigin:N9(ce)}},[l,d,O,j,y]),[z,V]=h.useState(b),W=h.useCallback(()=>{const ge=k.current;if(!ge)return;const F=L(ge);F.top!==null&&(ge.style.top=F.top),F.left!==null&&(ge.style.left=F.left),ge.style.transformOrigin=F.transformOrigin,V(!0)},[L]);h.useEffect(()=>(I&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,I,W]);const Y=(ge,F)=>{T&&T(ge,F),W()},U=()=>{V(!1)};h.useEffect(()=>{b&&W()}),h.useImperativeHandle(a,()=>b?{updatePosition:()=>{W()}}:null,[b,W]),h.useEffect(()=>{if(!b)return;const ge=Mw(()=>{W()}),F=Sc(l);return F.addEventListener("resize",ge),()=>{ge.clear(),F.removeEventListener("resize",ge)}},[l,b,W]);let q=S;S==="auto"&&!_.muiSupportAuto&&(q=void 0);const K=g||(l?_i(uk(l)).body:void 0),J=(o=w==null?void 0:w.root)!=null?o:IKe,X=(i=w==null?void 0:w.paper)!=null?i:Ire,ue=la({elementType:X,externalSlotProps:B({},R,{style:z?R.style:B({},R.style,{opacity:0})}),additionalProps:{elevation:v,ref:D},ownerState:A,className:it(N.paper,R==null?void 0:R.className)}),_e=la({elementType:J,externalSlotProps:(C==null?void 0:C.root)||{},externalForwardedProps:M,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:K,open:b},ownerState:A,className:it(N.root,m)}),{slotProps:Ce}=_e,pe=ct(_e,EKe);return p.jsx(J,B({},pe,!nv(J)&&{slotProps:Ce,disableScrollLock:I},{children:p.jsx(_,B({appear:!0,in:b,onEntering:Y,onExited:U,timeout:q},P,{children:p.jsx(X,B({},ue,{children:f}))}))}))});function RKe(t){return Kt("MuiMenu",t)}Gt("MuiMenu",["root","paper","list"]);const kKe=["onEntering"],DKe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],$Ke={vertical:"top",horizontal:"right"},MKe={vertical:"top",horizontal:"left"},OKe=t=>{const{classes:e}=t;return Yt({root:["root"],paper:["paper"],list:["list"]},RKe,e)},AKe=Je(PKe,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),NKe=Je(Ire,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),jKe=Je(BL,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),LKe=h.forwardRef(function(e,n){var r,o;const i=Xt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:m={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y}={},variant:b="selectedMenu",slots:x={},slotProps:w={}}=i,C=ct(i.TransitionProps,kKe),E=ct(i,DKe),_=bI(),S=B({},i,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:y,PaperProps:m,transitionDuration:v,TransitionProps:C,variant:b}),T=OKe(S),I=s&&!c&&f,P=h.useRef(null),M=(j,L)=>{P.current&&P.current.adjustStyleForScrollbar(j,{direction:_?"rtl":"ltr"}),y&&y(j,L)},R=j=>{j.key==="Tab"&&(j.preventDefault(),d&&d(j,"tabKeyDown"))};let k=-1;h.Children.map(a,(j,L)=>{h.isValidElement(j)&&(j.props.disabled||(b==="selectedMenu"&&j.props.selected||k===-1)&&(k=L))});const D=(r=x.paper)!=null?r:NKe,A=(o=w.paper)!=null?o:m,N=la({elementType:x.root,externalSlotProps:w.root,ownerState:S,className:[T.root,l]}),O=la({elementType:D,externalSlotProps:A,ownerState:S,className:T.paper});return p.jsx(AKe,B({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?$Ke:MKe,slots:{paper:D,root:x.root},slotProps:{root:N,paper:O},open:f,ref:n,transitionDuration:v,TransitionProps:B({onEntering:M},C),ownerState:S},E,{classes:g,children:p.jsx(jKe,B({onKeyDown:R,actions:P,autoFocus:s&&(k===-1||c),autoFocusItem:I,variant:b},u,{className:it(T.list,u.className),children:a}))}))});function FKe(t){return Kt("MuiMenuItem",t)}const Fy=Gt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zKe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],BKe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},VKe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:o,selected:i,classes:s}=t,l=Yt({root:["root",n&&"dense",e&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},FKe,s);return B({},s,l)},HKe=Je(Cc,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:BKe})(({theme:t,ownerState:e})=>B({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Fy.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Fy.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Fy.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Fy.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Fy.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${E9.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${E9.inset}`]:{marginLeft:52},[`& .${IE.root}`]:{marginTop:0,marginBottom:0},[`& .${IE.inset}`]:{paddingLeft:36},[`& .${$9.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&B({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${$9.root} svg`]:{fontSize:"1.25rem"}}))),vr=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,m=ct(r,zKe),g=h.useContext(hc),v=h.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),y=h.useRef(null);Ns(()=>{o&&y.current&&y.current.focus()},[o]);const b=B({},r,{dense:v.dense,divider:a,disableGutters:l}),x=VKe(r),w=mo(y,n);let C;return r.disabled||(C=d!==void 0?d:-1),p.jsx(hc.Provider,{value:v,children:p.jsx(HKe,B({ref:w,role:u,tabIndex:C,component:i,focusVisibleClassName:it(x.focusVisible,c),className:it(x.root,f)},m,{ownerState:b,classes:x}))})});function WKe(t){return Kt("MuiNativeSelect",t)}const VL=Gt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),UKe=["className","disabled","error","IconComponent","inputRef","variant"],qKe=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:i,error:s}=t,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${gt(n)}`,i&&"iconOpen",r&&"disabled"]};return Yt(a,WKe,e)},Pre=({ownerState:t,theme:e})=>B({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":B({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${VL.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),KKe=Je("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ms,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${VL.multiple}`]:e.multiple}]}})(Pre),Rre=({ownerState:t,theme:e})=>B({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${VL.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),GKe=Je("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${gt(n.variant)}`],n.open&&e.iconOpen]}})(Rre),YKe=h.forwardRef(function(e,n){const{className:r,disabled:o,error:i,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=ct(e,UKe),u=B({},e,{disabled:o,variant:l,error:i}),d=qKe(u);return p.jsxs(h.Fragment,{children:[p.jsx(KKe,B({ownerState:u,className:it(d.select,r),disabled:o,ref:a||n},c)),e.multiple?null:p.jsx(GKe,{as:s,ownerState:u,className:d.icon})]})});var j9;const XKe=["children","classes","className","label","notched"],QKe=Je("fieldset",{shouldForwardProp:ms})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),JKe=Je("legend",{shouldForwardProp:ms})(({ownerState:t,theme:e})=>B({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&B({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function ZKe(t){const{className:e,label:n,notched:r}=t,o=ct(t,XKe),i=n!=null&&n!=="",s=B({},t,{notched:r,withLabel:i});return p.jsx(QKe,B({"aria-hidden":!0,className:e,ownerState:s},o,{children:p.jsx(JKe,{ownerState:s,children:i?p.jsx("span",{children:n}):j9||(j9=p.jsx("span",{className:"notranslate",children:"​"}))})}))}const eGe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],tGe=t=>{const{classes:e}=t,r=Yt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},RWe,e);return B({},e,r)},nGe=Je(TI,{shouldForwardProp:t=>ms(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:_I})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return B({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${qu.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${qu.focused} .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${qu.error} .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${qu.disabled} .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&B({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),rGe=Je(ZKe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),oGe=Je(II,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:EI})(({theme:t,ownerState:e})=>B({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),HL=h.forwardRef(function(e,n){var r,o,i,s,a;const l=Xt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:m=!1,notched:g,slots:v={},type:y="text"}=l,b=ct(l,eGe),x=tGe(l),w=Nu(),C=wp({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E=B({},l,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:w,fullWidth:u,hiddenLabel:C.hiddenLabel,multiline:m,size:C.size,type:y}),_=(r=(o=v.root)!=null?o:c.Root)!=null?r:nGe,S=(i=(s=v.input)!=null?s:c.Input)!=null?i:oGe;return p.jsx(LL,B({slots:{root:_,input:S},renderSuffix:T=>p.jsx(rGe,{ownerState:E,className:x.notchedOutline,label:f!=null&&f!==""&&C.required?a||(a=p.jsxs(h.Fragment,{children:[f," ","*"]})):f,notched:typeof g<"u"?g:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:u,inputComponent:d,multiline:m,ref:n,type:y},b,{classes:B({},x,{notchedOutline:null})}))});HL.muiName="Input";function iGe(t){return Kt("MuiSelect",t)}const zy=Gt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var L9;const sGe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],aGe=Je("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${zy.select}`]:e.select},{[`&.${zy.select}`]:e[n.variant]},{[`&.${zy.error}`]:e.error},{[`&.${zy.multiple}`]:e.multiple}]}})(Pre,{[`&.${zy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lGe=Je("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${gt(n.variant)}`],n.open&&e.iconOpen]}})(Rre),cGe=Je("input",{shouldForwardProp:t=>tre(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function F9(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function uGe(t){return t==null||typeof t=="string"&&!t.trim()}const dGe=t=>{const{classes:e,variant:n,disabled:r,multiple:o,open:i,error:s}=t,a={select:["select",n,r&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${gt(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Yt(a,iGe,e)},fGe=h.forwardRef(function(e,n){var r;const{"aria-describedby":o,"aria-label":i,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:m,error:g=!1,IconComponent:v,inputRef:y,labelId:b,MenuProps:x={},multiple:w,name:C,onBlur:E,onChange:_,onClose:S,onFocus:T,onOpen:I,open:P,readOnly:M,renderValue:R,SelectDisplayProps:k={},tabIndex:D,value:A,variant:N="standard"}=e,O=ct(e,sGe),[j,L]=tv({controlled:A,default:d,name:"Select"}),[z,V]=tv({controlled:P,default:u,name:"Select"}),W=h.useRef(null),Y=h.useRef(null),[U,q]=h.useState(null),{current:K}=h.useRef(P!=null),[J,X]=h.useState(),ue=mo(n,y),_e=h.useCallback(xe=>{Y.current=xe,xe&&q(xe)},[]),Ce=U==null?void 0:U.parentNode;h.useImperativeHandle(ue,()=>({focus:()=>{Y.current.focus()},node:W.current,value:j}),[j]),h.useEffect(()=>{u&&z&&U&&!K&&(X(a?null:Ce.clientWidth),Y.current.focus())},[U,a]),h.useEffect(()=>{s&&Y.current.focus()},[s]),h.useEffect(()=>{if(!b)return;const xe=_i(Y.current).getElementById(b);if(xe){const se=()=>{getSelection().isCollapsed&&Y.current.focus()};return xe.addEventListener("click",se),()=>{xe.removeEventListener("click",se)}}},[b]);const pe=(xe,se)=>{xe?I&&I(se):S&&S(se),K||(X(a?null:Ce.clientWidth),V(xe))},ge=xe=>{xe.button===0&&(xe.preventDefault(),Y.current.focus(),pe(!0,xe))},F=xe=>{pe(!1,xe)},ce=h.Children.toArray(l),le=xe=>{const se=ce.find(ae=>ae.props.value===xe.target.value);se!==void 0&&(L(se.props.value),_&&_(xe,se))},Z=xe=>se=>{let ae;if(se.currentTarget.hasAttribute("tabindex")){if(w){ae=Array.isArray(j)?j.slice():[];const Ee=j.indexOf(xe.props.value);Ee===-1?ae.push(xe.props.value):ae.splice(Ee,1)}else ae=xe.props.value;if(xe.props.onClick&&xe.props.onClick(se),j!==ae&&(L(ae),_)){const Ee=se.nativeEvent||se,Le=new Ee.constructor(Ee.type,Ee);Object.defineProperty(Le,"target",{writable:!0,value:{value:ae,name:C}}),_(Le,xe)}w||pe(!1,se)}},Q=xe=>{M||[" ","ArrowUp","ArrowDown","Enter"].indexOf(xe.key)!==-1&&(xe.preventDefault(),pe(!0,xe))},ye=U!==null&&z,fe=xe=>{!ye&&E&&(Object.defineProperty(xe,"target",{writable:!0,value:{value:j,name:C}}),E(xe))};delete O["aria-invalid"];let ie,re;const ve=[];let ee=!1;(TE({value:j})||m)&&(R?ie=R(j):ee=!0);const he=ce.map(xe=>{if(!h.isValidElement(xe))return null;let se;if(w){if(!Array.isArray(j))throw new Error(Cu(2));se=j.some(ae=>F9(ae,xe.props.value)),se&&ee&&ve.push(xe.props.children)}else se=F9(j,xe.props.value),se&&ee&&(re=xe.props.children);return h.cloneElement(xe,{"aria-selected":se?"true":"false",onClick:Z(xe),onKeyUp:ae=>{ae.key===" "&&ae.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(ae)},role:"option",selected:se,value:void 0,"data-value":xe.props.value})});ee&&(w?ve.length===0?ie=null:ie=ve.reduce((xe,se,ae)=>(xe.push(se),ae<ve.length-1&&xe.push(", "),xe),[]):ie=re);let we=J;!a&&K&&U&&(we=Ce.clientWidth);let me;typeof D<"u"?me=D:me=f?null:0;const ke=k.id||(C?`mui-component-select-${C}`:void 0),Ie=B({},e,{variant:N,value:j,open:ye,error:g}),Re=dGe(Ie),$e=B({},x.PaperProps,(r=x.slotProps)==null?void 0:r.paper),ne=Ow();return p.jsxs(h.Fragment,{children:[p.jsx(aGe,B({ref:_e,tabIndex:me,role:"combobox","aria-controls":ne,"aria-disabled":f?"true":void 0,"aria-expanded":ye?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,ke].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:Q,onMouseDown:f||M?null:ge,onBlur:fe,onFocus:T},k,{ownerState:Ie,className:it(k.className,Re.select,c),id:ke,children:uGe(ie)?L9||(L9=p.jsx("span",{className:"notranslate",children:"​"})):ie})),p.jsx(cGe,B({"aria-invalid":g,value:Array.isArray(j)?j.join(","):j,name:C,ref:W,"aria-hidden":!0,onChange:le,tabIndex:-1,disabled:f,className:Re.nativeInput,autoFocus:s,ownerState:Ie},O)),p.jsx(lGe,{as:v,className:Re.icon,ownerState:Ie}),p.jsx(LKe,B({id:`menu-${C||""}`,anchorEl:Ce,open:ye,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:B({"aria-labelledby":b,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ne},x.MenuListProps),slotProps:B({},x.slotProps,{paper:B({},$e,{style:B({minWidth:we},$e!=null?$e.style:null)})}),children:he}))]})}),hGe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],pGe=["root"],mGe=t=>{const{classes:e}=t;return e},WL={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ms(t)&&t!=="variant",slot:"Root"},gGe=Je(zL,WL)(""),vGe=Je(HL,WL)(""),yGe=Je(FL,WL)(""),hu=h.forwardRef(function(e,n){const r=Xt({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:i,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=DWe,id:d,input:f,inputProps:m,label:g,labelId:v,MenuProps:y,multiple:b=!1,native:x=!1,onClose:w,onOpen:C,open:E,renderValue:_,SelectDisplayProps:S,variant:T="outlined"}=r,I=ct(r,hGe),P=x?YKe:fGe,M=Nu(),R=wp({props:r,muiFormControl:M,states:["variant","error"]}),k=R.variant||T,D=B({},r,{variant:k,classes:s}),A=mGe(D),N=ct(A,pGe),O=f||{standard:p.jsx(gGe,{ownerState:D}),outlined:p.jsx(vGe,{label:g,ownerState:D}),filled:p.jsx(yGe,{ownerState:D})}[k],j=mo(n,Uv(O));return p.jsx(h.Fragment,{children:h.cloneElement(O,B({inputComponent:P,inputProps:B({children:i,error:R.error,IconComponent:u,variant:k,type:void 0,multiple:b},x?{id:d}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:v,MenuProps:y,onClose:w,onOpen:C,open:E,renderValue:_,SelectDisplayProps:B({id:d},S)},m,{classes:m?is(N,m.classes):N},f?f.props.inputProps:{})},(b&&x||c)&&k==="outlined"?{notched:!0}:{},{ref:j,className:it(O.props.className,a,A.root)},!f&&{variant:k},I))})});hu.muiName="Select";function bGe(t){return Kt("MuiTooltip",t)}const Id=Gt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),xGe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function wGe(t){return Math.round(t*1e5)/1e5}const SGe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:o,placement:i}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${gt(i.split("-")[0])}`],arrow:["arrow"]};return Yt(s,bGe,e)},CGe=Je(jL,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>B({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Id.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Id.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Id.arrow}`]:B({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Id.arrow}`]:B({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),_Ge=Je("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${gt(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>B({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Gn(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${wGe(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Id.popper}[data-popper-placement*="left"] &`]:B({transformOrigin:"right center"},e.isRtl?B({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):B({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Id.popper}[data-popper-placement*="right"] &`]:B({transformOrigin:"left center"},e.isRtl?B({marginRight:"14px"},e.touch&&{marginRight:"24px"}):B({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Id.popper}[data-popper-placement*="top"] &`]:B({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Id.popper}[data-popper-placement*="bottom"] &`]:B({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),EGe=Je("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Gn(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let uS=!1;const z9=new Aw;let By={x:0,y:0};function dS(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const mg=h.forwardRef(function(e,n){var r,o,i,s,a,l,c,u,d,f,m,g,v,y,b,x,w,C,E;const _=Xt({props:e,name:"MuiTooltip"}),{arrow:S=!1,children:T,components:I={},componentsProps:P={},describeChild:M=!1,disableFocusListener:R=!1,disableHoverListener:k=!1,disableInteractive:D=!1,disableTouchListener:A=!1,enterDelay:N=100,enterNextDelay:O=0,enterTouchDelay:j=700,followCursor:L=!1,id:z,leaveDelay:V=0,leaveTouchDelay:W=1500,onClose:Y,onOpen:U,open:q,placement:K="bottom",PopperComponent:J,PopperProps:X={},slotProps:ue={},slots:_e={},title:Ce,TransitionComponent:pe=Tx,TransitionProps:ge}=_,F=ct(_,xGe),ce=h.isValidElement(T)?T:p.jsx("span",{children:T}),le=Xa(),Z=bI(),[Q,ye]=h.useState(),[fe,ie]=h.useState(null),re=h.useRef(!1),ve=D||L,ee=dh(),he=dh(),we=dh(),me=dh(),[ke,Ie]=tv({controlled:q,default:!1,name:"Tooltip",state:"open"});let Re=ke;const $e=Ow(z),ne=h.useRef(),xe=ea(()=>{ne.current!==void 0&&(document.body.style.WebkitUserSelect=ne.current,ne.current=void 0),me.clear()});h.useEffect(()=>xe,[xe]);const se=yt=>{z9.clear(),uS=!0,Ie(!0),U&&!Re&&U(yt)},ae=ea(yt=>{z9.start(800+V,()=>{uS=!1}),Ie(!1),Y&&Re&&Y(yt),ee.start(le.transitions.duration.shortest,()=>{re.current=!1})}),Ee=yt=>{re.current&&yt.type!=="touchstart"||(Q&&Q.removeAttribute("title"),he.clear(),we.clear(),N||uS&&O?he.start(uS?O:N,()=>{se(yt)}):se(yt))},Le=yt=>{he.clear(),we.start(V,()=>{ae(yt)})},{isFocusVisibleRef:ze,onBlur:We,onFocus:Ze,ref:dt}=CL(),[,de]=h.useState(!1),je=yt=>{We(yt),ze.current===!1&&(de(!1),Le(yt))},Ve=yt=>{Q||ye(yt.currentTarget),Ze(yt),ze.current===!0&&(de(!0),Ee(yt))},tt=yt=>{re.current=!0;const Bt=ce.props;Bt.onTouchStart&&Bt.onTouchStart(yt)},Be=yt=>{tt(yt),we.clear(),ee.clear(),xe(),ne.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",me.start(j,()=>{document.body.style.WebkitUserSelect=ne.current,Ee(yt)})},lt=yt=>{ce.props.onTouchEnd&&ce.props.onTouchEnd(yt),xe(),we.start(W,()=>{ae(yt)})};h.useEffect(()=>{if(!Re)return;function yt(Bt){(Bt.key==="Escape"||Bt.key==="Esc")&&ae(Bt)}return document.addEventListener("keydown",yt),()=>{document.removeEventListener("keydown",yt)}},[ae,Re]);const st=mo(Uv(ce),dt,ye,n);!Ce&&Ce!==0&&(Re=!1);const pt=h.useRef(),Ct=yt=>{const Bt=ce.props;Bt.onMouseMove&&Bt.onMouseMove(yt),By={x:yt.clientX,y:yt.clientY},pt.current&&pt.current.update()},Pe={},Te=typeof Ce=="string";M?(Pe.title=!Re&&Te&&!k?Ce:null,Pe["aria-describedby"]=Re?$e:null):(Pe["aria-label"]=Te?Ce:null,Pe["aria-labelledby"]=Re&&!Te?$e:null);const De=B({},Pe,F,ce.props,{className:it(F.className,ce.props.className),onTouchStart:tt,ref:st},L?{onMouseMove:Ct}:{}),Oe={};A||(De.onTouchStart=Be,De.onTouchEnd=lt),k||(De.onMouseOver=dS(Ee,De.onMouseOver),De.onMouseLeave=dS(Le,De.onMouseLeave),ve||(Oe.onMouseOver=Ee,Oe.onMouseLeave=Le)),R||(De.onFocus=dS(Ve,De.onFocus),De.onBlur=dS(je,De.onBlur),ve||(Oe.onFocus=Ve,Oe.onBlur=je));const He=h.useMemo(()=>{var yt;let Bt=[{name:"arrow",enabled:!!fe,options:{element:fe,padding:4}}];return(yt=X.popperOptions)!=null&&yt.modifiers&&(Bt=Bt.concat(X.popperOptions.modifiers)),B({},X.popperOptions,{modifiers:Bt})},[fe,X]),Ge=B({},_,{isRtl:Z,arrow:S,disableInteractive:ve,placement:K,PopperComponentProp:J,touch:re.current}),ht=SGe(Ge),Qe=(r=(o=_e.popper)!=null?o:I.Popper)!=null?r:CGe,Xe=(i=(s=(a=_e.transition)!=null?a:I.Transition)!=null?s:pe)!=null?i:Tx,nt=(l=(c=_e.tooltip)!=null?c:I.Tooltip)!=null?l:_Ge,ft=(u=(d=_e.arrow)!=null?d:I.Arrow)!=null?u:EGe,wt=Nm(Qe,B({},X,(f=ue.popper)!=null?f:P.popper,{className:it(ht.popper,X==null?void 0:X.className,(m=(g=ue.popper)!=null?g:P.popper)==null?void 0:m.className)}),Ge),Tt=Nm(Xe,B({},ge,(v=ue.transition)!=null?v:P.transition),Ge),en=Nm(nt,B({},(y=ue.tooltip)!=null?y:P.tooltip,{className:it(ht.tooltip,(b=(x=ue.tooltip)!=null?x:P.tooltip)==null?void 0:b.className)}),Ge),Wt=Nm(ft,B({},(w=ue.arrow)!=null?w:P.arrow,{className:it(ht.arrow,(C=(E=ue.arrow)!=null?E:P.arrow)==null?void 0:C.className)}),Ge);return p.jsxs(h.Fragment,{children:[h.cloneElement(ce,De),p.jsx(Qe,B({as:J??jL,placement:K,anchorEl:L?{getBoundingClientRect:()=>({top:By.y,left:By.x,right:By.x,bottom:By.y,width:0,height:0})}:Q,popperRef:pt,open:Q?Re:!1,id:$e,transition:!0},Oe,wt,{popperOptions:He,children:({TransitionProps:yt})=>p.jsx(Xe,B({timeout:le.transitions.duration.shorter},yt,Tt,{children:p.jsxs(nt,B({},en,{children:[Ce,S?p.jsx(ft,B({},Wt,{ref:ie})):null]}))}))}))]})});function TGe(t){return Kt("MuiTab",t)}const Yu=Gt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),IGe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],PGe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:o,icon:i,label:s,selected:a,disabled:l}=t,c={root:["root",i&&s&&"labelIcon",`textColor${gt(n)}`,r&&"fullWidth",o&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return Yt(c,TGe,e)},RGe=Je(Cc,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${gt(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Yu.iconWrapper}`]:e.iconWrapper}]}})(({theme:t,ownerState:e})=>B({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Yu.iconWrapper}`]:B({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Yu.selected}`]:{opacity:1},[`&.${Yu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Yu.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Yu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Yu.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Yu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),yr=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTab"}),{className:o,disabled:i=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:m,onFocus:g,selected:v,selectionFollowsFocus:y,textColor:b="inherit",value:x,wrapped:w=!1}=r,C=ct(r,IGe),E=B({},r,{disabled:i,disableFocusRipple:s,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:b,wrapped:w}),_=PGe(E),S=l&&d&&h.isValidElement(l)?h.cloneElement(l,{className:it(_.iconWrapper,l.props.className)}):l,T=P=>{!v&&f&&f(P,x),m&&m(P)},I=P=>{y&&!v&&f&&f(P,x),g&&g(P)};return p.jsxs(RGe,B({focusRipple:!s,className:it(_.root,o),ref:n,role:"tab","aria-selected":v,disabled:i,onClick:T,onFocus:I,ownerState:E,tabIndex:v?0:-1},C,{children:[c==="top"||c==="start"?p.jsxs(h.Fragment,{children:[S,d]}):p.jsxs(h.Fragment,{children:[d,S]}),u]}))}),kre=h.createContext();function kGe(t){return Kt("MuiTable",t)}Gt("MuiTable",["root","stickyHeader"]);const DGe=["className","component","padding","size","stickyHeader"],$Ge=t=>{const{classes:e,stickyHeader:n}=t;return Yt({root:["root",n&&"stickyHeader"]},kGe,e)},MGe=Je("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>B({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":B({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),B9="table",DI=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTable"}),{className:o,component:i=B9,padding:s="normal",size:a="medium",stickyHeader:l=!1}=r,c=ct(r,DGe),u=B({},r,{component:i,padding:s,size:a,stickyHeader:l}),d=$Ge(u),f=h.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return p.jsx(kre.Provider,{value:f,children:p.jsx(MGe,B({as:i,role:i===B9?null:"table",ref:n,className:it(d.root,o),ownerState:u},c))})}),$I=h.createContext();function OGe(t){return Kt("MuiTableBody",t)}Gt("MuiTableBody",["root"]);const AGe=["className","component"],NGe=t=>{const{classes:e}=t;return Yt({root:["root"]},OGe,e)},jGe=Je("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),LGe={variant:"body"},V9="tbody",MI=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTableBody"}),{className:o,component:i=V9}=r,s=ct(r,AGe),a=B({},r,{component:i}),l=NGe(a);return p.jsx($I.Provider,{value:LGe,children:p.jsx(jGe,B({className:it(l.root,o),as:i,ref:n,role:i===V9?null:"rowgroup",ownerState:a},s))})});function FGe(t){return Kt("MuiTableCell",t)}const zGe=Gt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),BGe=["align","className","component","padding","scope","size","sortDirection","variant"],VGe=t=>{const{classes:e,variant:n,align:r,padding:o,size:i,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${gt(r)}`,o!=="normal"&&`padding${gt(o)}`,`size${gt(i)}`]};return Yt(a,FGe,e)},HGe=Je("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${gt(n.size)}`],n.padding!=="normal"&&e[`padding${gt(n.padding)}`],n.align!=="inherit"&&e[`align${gt(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>B({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?wE(Gn(t.palette.divider,1),.88):xE(Gn(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${zGe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),hn=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTableCell"}),{align:o="inherit",className:i,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,f=ct(r,BGe),m=h.useContext(kre),g=h.useContext($I),v=g&&g.variant==="head";let y;s?y=s:y=v?"th":"td";let b=l;y==="td"?b=void 0:!b&&v&&(b="col");const x=d||g&&g.variant,w=B({},r,{align:o,component:y,padding:a||(m&&m.padding?m.padding:"normal"),size:c||(m&&m.size?m.size:"medium"),sortDirection:u,stickyHeader:x==="head"&&m&&m.stickyHeader,variant:x}),C=VGe(w);let E=null;return u&&(E=u==="asc"?"ascending":"descending"),p.jsx(HGe,B({as:y,ref:n,className:it(C.root,i),"aria-sort":E,scope:b,ownerState:w},f))});function WGe(t){return Kt("MuiTableContainer",t)}Gt("MuiTableContainer",["root"]);const UGe=["className","component"],qGe=t=>{const{classes:e}=t;return Yt({root:["root"]},WGe,e)},KGe=Je("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),OI=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTableContainer"}),{className:o,component:i="div"}=r,s=ct(r,UGe),a=B({},r,{component:i}),l=qGe(a);return p.jsx(KGe,B({ref:n,as:i,className:it(l.root,o),ownerState:a},s))});function GGe(t){return Kt("MuiTableHead",t)}Gt("MuiTableHead",["root"]);const YGe=["className","component"],XGe=t=>{const{classes:e}=t;return Yt({root:["root"]},GGe,e)},QGe=Je("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),JGe={variant:"head"},H9="thead",AI=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTableHead"}),{className:o,component:i=H9}=r,s=ct(r,YGe),a=B({},r,{component:i}),l=XGe(a);return p.jsx($I.Provider,{value:JGe,children:p.jsx(QGe,B({as:i,className:it(l.root,o),ref:n,role:i===H9?null:"rowgroup",ownerState:a},s))})}),ZGe=Ft(p.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),eYe=Ft(p.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function tYe(t){return Kt("MuiTableRow",t)}const W9=Gt("MuiTableRow",["root","selected","hover","head","footer"]),nYe=["className","component","hover","selected"],rYe=t=>{const{classes:e,selected:n,hover:r,head:o,footer:i}=t;return Yt({root:["root",n&&"selected",r&&"hover",o&&"head",i&&"footer"]},tYe,e)},oYe=Je("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${W9.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${W9.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Gn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),U9="tr",pu=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTableRow"}),{className:o,component:i=U9,hover:s=!1,selected:a=!1}=r,l=ct(r,nYe),c=h.useContext($I),u=B({},r,{component:i,hover:s,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=rYe(u);return p.jsx(oYe,B({as:i,ref:n,className:it(d.root,o),role:i===U9?null:"row",ownerState:u},l))});function iYe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function sYe(t,e,n,r={},o=()=>{}){const{ease:i=iYe,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=f=>{if(c){o(new Error("Animation cancelled"));return}a===null&&(a=f);const m=Math.min(1,(f-a)/s);if(e[t]=i(m)*(n-l)+l,m>=1){requestAnimationFrame(()=>{o(null)});return}requestAnimationFrame(d)};return l===n?(o(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const aYe=["onChange"],lYe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function cYe(t){const{onChange:e}=t,n=ct(t,aYe),r=h.useRef(),o=h.useRef(null),i=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return Ns(()=>{const s=Mw(()=>{const l=r.current;i(),l!==r.current&&e(r.current)}),a=Sc(o.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),h.useEffect(()=>{i(),e(r.current)},[e]),p.jsx("div",B({style:lYe},n,{ref:o}))}function uYe(t){return Kt("MuiTabScrollButton",t)}const dYe=Gt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),fYe=["className","slots","slotProps","direction","orientation","disabled"],hYe=t=>{const{classes:e,orientation:n,disabled:r}=t;return Yt({root:["root",n,r&&"disabled"]},uYe,e)},pYe=Je(Cc,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>B({width:40,flexShrink:0,opacity:.8,[`&.${dYe.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),mYe=h.forwardRef(function(e,n){var r,o;const i=Xt({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:l={},direction:c}=i,u=ct(i,fYe),d=bI(),f=B({isRtl:d},i),m=hYe(f),g=(r=a.StartScrollButtonIcon)!=null?r:ZGe,v=(o=a.EndScrollButtonIcon)!=null?o:eYe,y=la({elementType:g,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),b=la({elementType:v,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return p.jsx(pYe,B({component:"div",className:it(m.root,s),ref:n,role:null,ownerState:f,tabIndex:null},u,{children:c==="left"?p.jsx(g,B({},y)):p.jsx(v,B({},b))}))});function gYe(t){return Kt("MuiTabs",t)}const dk=Gt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),vYe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],q9=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,K9=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,fS=(t,e,n)=>{let r=!1,o=n(t,e);for(;o;){if(o===t.firstChild){if(r)return;r=!0}const i=o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||i)o=n(t,o);else{o.focus();return}}},yYe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:i,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return Yt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},gYe,l)},bYe=Je("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${dk.scrollButtons}`]:e.scrollButtons},{[`& .${dk.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>B({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${dk.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),xYe=Je("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>B({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),wYe=Je("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>B({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),SYe=Je("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>B({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),CYe=Je(cYe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),G9={},Gv=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTabs"}),o=Xa(),i=bI(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:m=!1,indicatorColor:g="primary",onChange:v,orientation:y="horizontal",ScrollButtonComponent:b=mYe,scrollButtons:x="auto",selectionFollowsFocus:w,slots:C={},slotProps:E={},TabIndicatorProps:_={},TabScrollButtonProps:S={},textColor:T="primary",value:I,variant:P="standard",visibleScrollbar:M=!1}=r,R=ct(r,vYe),k=P==="scrollable",D=y==="vertical",A=D?"scrollTop":"scrollLeft",N=D?"top":"left",O=D?"bottom":"right",j=D?"clientHeight":"clientWidth",L=D?"height":"width",z=B({},r,{component:f,allowScrollButtonsMobile:m,indicatorColor:g,orientation:y,vertical:D,scrollButtons:x,textColor:T,variant:P,visibleScrollbar:M,fixed:!k,hideScrollbar:k&&!M,scrollableX:k&&!D,scrollableY:k&&D,centered:c&&!k,scrollButtonsHideMobile:!m}),V=yYe(z),W=la({elementType:C.StartScrollButtonIcon,externalSlotProps:E.startScrollButtonIcon,ownerState:z}),Y=la({elementType:C.EndScrollButtonIcon,externalSlotProps:E.endScrollButtonIcon,ownerState:z}),[U,q]=h.useState(!1),[K,J]=h.useState(G9),[X,ue]=h.useState(!1),[_e,Ce]=h.useState(!1),[pe,ge]=h.useState(!1),[F,ce]=h.useState({overflow:"hidden",scrollbarWidth:0}),le=new Map,Z=h.useRef(null),Q=h.useRef(null),ye=()=>{const ae=Z.current;let Ee;if(ae){const ze=ae.getBoundingClientRect();Ee={clientWidth:ae.clientWidth,scrollLeft:ae.scrollLeft,scrollTop:ae.scrollTop,scrollLeftNormalized:t6e(ae,i?"rtl":"ltr"),scrollWidth:ae.scrollWidth,top:ze.top,bottom:ze.bottom,left:ze.left,right:ze.right}}let Le;if(ae&&I!==!1){const ze=Q.current.children;if(ze.length>0){const We=ze[le.get(I)];Le=We?We.getBoundingClientRect():null}}return{tabsMeta:Ee,tabMeta:Le}},fe=ea(()=>{const{tabsMeta:ae,tabMeta:Ee}=ye();let Le=0,ze;if(D)ze="top",Ee&&ae&&(Le=Ee.top-ae.top+ae.scrollTop);else if(ze=i?"right":"left",Ee&&ae){const Ze=i?ae.scrollLeftNormalized+ae.clientWidth-ae.scrollWidth:ae.scrollLeft;Le=(i?-1:1)*(Ee[ze]-ae[ze]+Ze)}const We={[ze]:Le,[L]:Ee?Ee[L]:0};if(isNaN(K[ze])||isNaN(K[L]))J(We);else{const Ze=Math.abs(K[ze]-We[ze]),dt=Math.abs(K[L]-We[L]);(Ze>=1||dt>=1)&&J(We)}}),ie=(ae,{animation:Ee=!0}={})=>{Ee?sYe(A,Z.current,ae,{duration:o.transitions.duration.standard}):Z.current[A]=ae},re=ae=>{let Ee=Z.current[A];D?Ee+=ae:(Ee+=ae*(i?-1:1),Ee*=i&&Fne()==="reverse"?-1:1),ie(Ee)},ve=()=>{const ae=Z.current[j];let Ee=0;const Le=Array.from(Q.current.children);for(let ze=0;ze<Le.length;ze+=1){const We=Le[ze];if(Ee+We[j]>ae){ze===0&&(Ee=ae);break}Ee+=We[j]}return Ee},ee=()=>{re(-1*ve())},he=()=>{re(ve())},we=h.useCallback(ae=>{ce({overflow:null,scrollbarWidth:ae})},[]),me=()=>{const ae={};ae.scrollbarSizeListener=k?p.jsx(CYe,{onChange:we,className:it(V.scrollableX,V.hideScrollbar)}):null;const Le=k&&(x==="auto"&&(X||_e)||x===!0);return ae.scrollButtonStart=Le?p.jsx(b,B({slots:{StartScrollButtonIcon:C.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:W},orientation:y,direction:i?"right":"left",onClick:ee,disabled:!X},S,{className:it(V.scrollButtons,S.className)})):null,ae.scrollButtonEnd=Le?p.jsx(b,B({slots:{EndScrollButtonIcon:C.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Y},orientation:y,direction:i?"left":"right",onClick:he,disabled:!_e},S,{className:it(V.scrollButtons,S.className)})):null,ae},ke=ea(ae=>{const{tabsMeta:Ee,tabMeta:Le}=ye();if(!(!Le||!Ee)){if(Le[N]<Ee[N]){const ze=Ee[A]+(Le[N]-Ee[N]);ie(ze,{animation:ae})}else if(Le[O]>Ee[O]){const ze=Ee[A]+(Le[O]-Ee[O]);ie(ze,{animation:ae})}}}),Ie=ea(()=>{k&&x!==!1&&ge(!pe)});h.useEffect(()=>{const ae=Mw(()=>{Z.current&&fe()});let Ee;const Le=Ze=>{Ze.forEach(dt=>{dt.removedNodes.forEach(de=>{var je;(je=Ee)==null||je.unobserve(de)}),dt.addedNodes.forEach(de=>{var je;(je=Ee)==null||je.observe(de)})}),ae(),Ie()},ze=Sc(Z.current);ze.addEventListener("resize",ae);let We;return typeof ResizeObserver<"u"&&(Ee=new ResizeObserver(ae),Array.from(Q.current.children).forEach(Ze=>{Ee.observe(Ze)})),typeof MutationObserver<"u"&&(We=new MutationObserver(Le),We.observe(Q.current,{childList:!0})),()=>{var Ze,dt;ae.clear(),ze.removeEventListener("resize",ae),(Ze=We)==null||Ze.disconnect(),(dt=Ee)==null||dt.disconnect()}},[fe,Ie]),h.useEffect(()=>{const ae=Array.from(Q.current.children),Ee=ae.length;if(typeof IntersectionObserver<"u"&&Ee>0&&k&&x!==!1){const Le=ae[0],ze=ae[Ee-1],We={root:Z.current,threshold:.99},Ze=Ve=>{ue(!Ve[0].isIntersecting)},dt=new IntersectionObserver(Ze,We);dt.observe(Le);const de=Ve=>{Ce(!Ve[0].isIntersecting)},je=new IntersectionObserver(de,We);return je.observe(ze),()=>{dt.disconnect(),je.disconnect()}}},[k,x,pe,u==null?void 0:u.length]),h.useEffect(()=>{q(!0)},[]),h.useEffect(()=>{fe()}),h.useEffect(()=>{ke(G9!==K)},[ke,K]),h.useImperativeHandle(l,()=>({updateIndicator:fe,updateScrollButtons:Ie}),[fe,Ie]);const Re=p.jsx(SYe,B({},_,{className:it(V.indicator,_.className),ownerState:z,style:B({},K,_.style)}));let $e=0;const ne=h.Children.map(u,ae=>{if(!h.isValidElement(ae))return null;const Ee=ae.props.value===void 0?$e:ae.props.value;le.set(Ee,$e);const Le=Ee===I;return $e+=1,h.cloneElement(ae,B({fullWidth:P==="fullWidth",indicator:Le&&!U&&Re,selected:Le,selectionFollowsFocus:w,onChange:v,textColor:T,value:Ee},$e===1&&I===!1&&!ae.props.tabIndex?{tabIndex:0}:{}))}),xe=ae=>{const Ee=Q.current,Le=_i(Ee).activeElement;if(Le.getAttribute("role")!=="tab")return;let We=y==="horizontal"?"ArrowLeft":"ArrowUp",Ze=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&i&&(We="ArrowRight",Ze="ArrowLeft"),ae.key){case We:ae.preventDefault(),fS(Ee,Le,K9);break;case Ze:ae.preventDefault(),fS(Ee,Le,q9);break;case"Home":ae.preventDefault(),fS(Ee,null,q9);break;case"End":ae.preventDefault(),fS(Ee,null,K9);break}},se=me();return p.jsxs(bYe,B({className:it(V.root,d),ownerState:z,ref:n,as:f},R,{children:[se.scrollButtonStart,se.scrollbarSizeListener,p.jsxs(xYe,{className:V.scroller,ownerState:z,style:{overflow:F.overflow,[D?`margin${i?"Left":"Right"}`:"marginBottom"]:M?void 0:-F.scrollbarWidth},ref:Z,children:[p.jsx(wYe,{"aria-label":s,"aria-labelledby":a,"aria-orientation":y==="vertical"?"vertical":null,className:V.flexContainer,ownerState:z,onKeyDown:xe,ref:Q,role:"tablist",children:ne}),U&&Re]}),se.scrollButtonEnd]}))});function _Ye(t){return Kt("MuiTextField",t)}Gt("MuiTextField",["root"]);const EYe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],TYe={standard:zL,filled:FL,outlined:HL},IYe=t=>{const{classes:e}=t;return Yt({root:["root"]},_Ye,e)},PYe=Je(qd,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_n=h.forwardRef(function(e,n){const r=Xt({props:e,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:m=!1,helperText:g,id:v,InputLabelProps:y,inputProps:b,InputProps:x,inputRef:w,label:C,maxRows:E,minRows:_,multiline:S=!1,name:T,onBlur:I,onChange:P,onFocus:M,placeholder:R,required:k=!1,rows:D,select:A=!1,SelectProps:N,type:O,value:j,variant:L="outlined"}=r,z=ct(r,EYe),V=B({},r,{autoFocus:i,color:l,disabled:u,error:d,fullWidth:m,multiline:S,required:k,select:A,variant:L}),W=IYe(V),Y={};L==="outlined"&&(y&&typeof y.shrink<"u"&&(Y.notched=y.shrink),Y.label=C),A&&((!N||!N.native)&&(Y.id=void 0),Y["aria-describedby"]=void 0);const U=Ow(v),q=g&&U?`${U}-helper-text`:void 0,K=C&&U?`${U}-label`:void 0,J=TYe[L],X=p.jsx(J,B({"aria-describedby":q,autoComplete:o,autoFocus:i,defaultValue:c,fullWidth:m,multiline:S,name:T,rows:D,maxRows:E,minRows:_,type:O,value:j,id:U,inputRef:w,onBlur:I,onChange:P,onFocus:M,placeholder:R,inputProps:b},Y,x));return p.jsxs(PYe,B({className:it(W.root,a),disabled:u,error:d,fullWidth:m,ref:n,required:k,color:l,variant:L,ownerState:V},z,{children:[C!=null&&C!==""&&p.jsx(Kd,B({htmlFor:U,id:K},y,{children:C})),A?p.jsx(hu,B({"aria-describedby":q,id:U,labelId:K,value:j,input:X},N,{children:s})):X,g&&p.jsx(dqe,B({id:q},f,{children:g}))]}))});M_e("fr",sw);const RYe=`
  .react-datepicker {
    font-family: 'Roboto', sans-serif;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    border: 1px solid #e0e0e0;
    z-index: 1000;
  }
  
  .react-datepicker-popper {
    z-index: 1000;
  }
  
  .react-datepicker__header {
    background-color: #1976d2;
    border-bottom: none;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    padding-top: 10px;
  }
  
  .react-datepicker__current-month {
    color: white;
    font-weight: 500;
    font-size: 1rem;
    padding-bottom: 5px;
  }
  
  .react-datepicker__day-name {
    color: white;
    font-weight: 500;
  }
  
  .react-datepicker__day--selected {
    background-color: #1976d2;
    border-radius: 50%;
  }
  
  .react-datepicker__day:hover {
    background-color: #e8f0fe;
    border-radius: 50%;
  }
  
  .react-datepicker__day--keyboard-selected {
    background-color: #e8f0fe;
    color: #1976d2;
    border-radius: 50%;
  }
  
  .react-datepicker__navigation {
    top: 12px;
  }
  
  .react-datepicker__navigation-icon::before {
    border-color: white;
  }
  
  .react-datepicker__day--today {
    font-weight: bold;
    color: #1976d2;
  }
  
  .custom-datepicker-input {
    width: 160px;
    padding: 10px 12px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 14px;
    cursor: pointer;
    background-color: white;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .custom-datepicker-input:focus {
    outline: none;
    border-color: #1976d2;
    box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
  }
  
  .custom-datepicker-input::placeholder {
    color: #aaa;
  }
  
  .custom-datepicker-wrapper {
    position: relative;
  }
  
  .custom-datepicker-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #666;
    pointer-events: none;
  }
`,Y9=[{id:"pole",label:"Pôle",visible:!0,width:"80px"},{id:"siteDepart",label:"Site de départ",visible:!0,width:"150px"},{id:"date",label:"Date",visible:!0,width:"100px"},{id:"heure",label:"Heure",visible:!0,width:"80px"},{id:"statut",label:"Statut",visible:!0,width:"100px"},{id:"siteFin",label:"Site d'arrivée",visible:!0,width:"150px"},{id:"vehicule",label:"Véhicule",visible:!0,width:"120px"},{id:"coursier",label:"Coursier",visible:!0,width:"120px"},{id:"commentaire",label:"Commentaire",visible:!0,width:"150px"}],X9=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[o,i]=h.useState([]),[s,a]=h.useState(!1),[l,c]=h.useState(!0),[u,d]=h.useState(null),[f,m]=h.useState([]),[g,v]=h.useState([]),[y,b]=h.useState([]),[x,w]=h.useState(""),[C,E]=h.useState(""),[_,S]=h.useState(""),[T,I]=h.useState(""),[P,M]=h.useState(""),[R,k]=h.useState(""),[D,A]=h.useState(""),[N,O]=h.useState(""),[j,L]=h.useState([]),[z,V]=h.useState(""),[W,Y]=h.useState(!1),[U,q]=h.useState([]),[K,J]=h.useState({}),{poles:X}=Rv(),[ue,_e]=h.useState(!1),[Ce,pe]=h.useState(()=>{try{const de=localStorage.getItem("passagesColumns");if(de)return JSON.parse(de)}catch(de){console.error("Erreur lors du chargement des colonnes:",de)}return Y9}),[ge,F]=h.useState(!1),ce=oe.useRef(null),le=h.useCallback(de=>{ce.current&&!ce.current.contains(de.target)&&F(!1)},[]);h.useEffect(()=>(document.addEventListener("mousedown",le),()=>{document.removeEventListener("mousedown",le)}),[le]),h.useEffect(()=>{fe(),ie(),re(),ve(),document.documentElement.lang="fr";const de=document.createElement("style");return de.textContent=RYe,document.head.appendChild(de),()=>{document.documentElement.lang="",document.head.removeChild(de)}},[]),h.useEffect(()=>{L(t)},[t]),h.useEffect(()=>{let de=t;if(z&&(de=de.filter(je=>je.pole===z)),N.trim()){const je=N.toLowerCase().trim();de=de.filter(Ve=>he(Ve.siteDepart).toLowerCase().includes(je)||he(Ve.siteFin||"").toLowerCase().includes(je)||Ve.idColis.toLowerCase().includes(je)||Ve.statut.toLowerCase().includes(je)||(Ve.coursierChargement||"").toLowerCase().includes(je)||(Ve.coursierLivraison||"").toLowerCase().includes(je)||ee(Ve.tourneeId).toLowerCase().includes(je)||we(Ve.vehiculeId).toLowerCase().includes(je)||me(Z(Ve.dateHeureDepart)).includes(je))}L(de)},[N,t,z]);const Z=de=>de?de instanceof Date?de:de&&typeof de.toDate=="function"?de.toDate():de&&"seconds"in de&&"nanoseconds"in de?new Date(de.seconds*1e3+de.nanoseconds/1e6):typeof de=="number"?new Date(de):typeof de=="string"?new Date(de):(console.error("Format de timestamp non reconnu:",de),null):null,Q=(de,je)=>{if(!de||!je)return!1;const Ve=new Date(de.getFullYear(),de.getMonth(),de.getDate()),tt=new Date(je.getFullYear(),je.getMonth(),je.getDate());return Ve.getTime()>=tt.getTime()},ye=(de,je)=>{if(!de||!je)return!1;const Ve=new Date(de.getFullYear(),de.getMonth(),de.getDate()),tt=new Date(je.getFullYear(),je.getMonth(),je.getDate());return Ve.getTime()<=tt.getTime()},fe=h.useCallback(async()=>{c(!0),d(null);try{const de=Ht(mt,"passages"),Ve=(await Jt(de)).docs.map(tt=>({id:tt.id,...tt.data()}));r(Ve),e(Ve),i(Ve)}catch(de){console.error("Erreur lors de la récupération des passages:",de),d("Erreur lors du chargement des passages. Veuillez réessayer.")}finally{c(!1)}},[]),ie=async()=>{try{const de=Ht(mt,"tournees"),je=await Jt(de);if(je.empty){console.log("Aucune tournée trouvée dans Firebase");const Ve=[{id:"1",nom:"Matin",date:En.fromDate(new Date),heureDepart:"07:00",heureFinPrevue:"12:00",coursier:"Sébastien Lherlier",vehicule:"GE-695-RT",nombreColis:15,statut:"en_attente",siteDepart:"Laboratoire Central"},{id:"2",nom:"Jour",date:En.fromDate(new Date),heureDepart:"12:00",heureFinPrevue:"17:00",coursier:"Guillaume Sage",vehicule:"GI-456-AD",nombreColis:12,statut:"en_attente",siteDepart:"Laboratoire Purpan"},{id:"3",nom:"Soir",date:En.fromDate(new Date),heureDepart:"17:00",heureFinPrevue:"22:00",coursier:"Sébastien Lherlier",vehicule:"GE-695-RT",nombreColis:10,statut:"en_attente",siteDepart:"Laboratoire Central"}];m(Ve)}else{const Ve=je.docs.map(tt=>{const Be=tt.data();return{id:tt.id,nom:Be.nom||"",date:Be.date||En.fromDate(new Date),heureDepart:Be.heureDepart||"",heureFinPrevue:Be.heureFinPrevue||"",heureFinReelle:Be.heureFinReelle||"",coursier:Be.coursier||"",vehicule:Be.vehicule||"",nombreColis:Be.nombreColis||0,statut:Be.statut||"en_attente",siteDepart:Be.siteDepart||""}});m(Ve)}}catch(de){console.error("Erreur lors de la récupération des tournées:",de)}},re=async()=>{try{const de=Ht(mt,"sites"),je=await Jt(de);if(je.empty)console.log("Aucun site trouvé dans Firebase"),v([{id:"1",nom:"Laboratoire Central",adresse:"15 rue des Sciences",ville:"Toulouse",codePostal:"31000",telephone:"05.61.XX.XX.XX",email:"contact@labo-central.fr",type:"Laboratoire",statut:"actif"},{id:"2",nom:"Laboratoire Purpan",adresse:"330 avenue de Grande Bretagne",ville:"Toulouse",codePostal:"31300",telephone:"05.61.XX.XX.XX",email:"contact@labo-purpan.fr",type:"Laboratoire",statut:"actif"}]);else{const Ve=je.docs.map(tt=>{const Be=tt.data();return{id:tt.id,nom:Be.nom||"",adresse:Be.adresse||"",ville:Be.ville||"",codePostal:Be.codePostal||"",telephone:Be.telephone||"",email:Be.email||"",type:Be.type||"",statut:Be.statut||"actif"}});v(Ve)}}catch(de){console.error("Erreur lors de la récupération des sites:",de)}},ve=async()=>{try{const de=Ht(mt,"vehicules"),je=await Jt(de);if(je.empty)console.log("Aucun véhicule trouvé dans Firebase"),b([{id:"1",immatriculation:"GE-695-RT",marque:"Renault",modele:"Kangoo",type:"Utilitaire",annee:2020,statut:"actif",dernierEntretien:"2023-01-15",coursierAssigne:"Sébastien Lherlier",kilometrage:45e3},{id:"2",immatriculation:"GI-456-AD",marque:"Citroën",modele:"Berlingo",type:"Utilitaire",annee:2021,statut:"actif",dernierEntretien:"2023-02-10",coursierAssigne:"Guillaume Sage",kilometrage:32500}]);else{const Ve=je.docs.map(tt=>{const Be=tt.data();return{id:tt.id,immatriculation:Be.immatriculation||"",marque:Be.marque||"",modele:Be.modele||"",type:Be.type||"",annee:Be.annee||2023,statut:Be.statut||"actif",dernierEntretien:Be.dernierEntretien||"",coursierAssigne:Be.coursierAssigne||"",kilometrage:Be.kilometrage||0}});b(Ve)}}catch(de){console.error("Erreur lors de la récupération des véhicules:",de)}},ee=de=>{if(!de)return"";const je=f.find(Ve=>Ve.id===de);return je?je.nom:de},he=de=>{if(!de)return"";const je=g.find(Ve=>Ve.id===de);return je?je.nom:de},we=de=>{if(!de)return"";const je=y.find(Ve=>Ve.id===de);return je?je.immatriculation:de},me=de=>{if(!de)return"";const je=de.getDate().toString().padStart(2,"0"),Ve=(de.getMonth()+1).toString().padStart(2,"0"),tt=de.getFullYear();return`${je}/${Ve}/${tt}`},ke=de=>{if(!de)return"-";const je=X.find(Ve=>Ve.id===de);return je?je.nom:de},Ie=()=>{a(!0);let de=[...n];N&&(de=de.filter(je=>{var tt,Be,lt,st,pt,Ct;const Ve=N.toLowerCase();return((tt=je.siteDepart)==null?void 0:tt.toLowerCase().includes(Ve))||((Be=je.siteFin)==null?void 0:Be.toLowerCase().includes(Ve))||((lt=je.courrier)==null?void 0:lt.toLowerCase().includes(Ve))||((st=je.vehicule)==null?void 0:st.toLowerCase().includes(Ve))||((pt=je.idColis)==null?void 0:pt.toLowerCase().includes(Ve))||((Ct=je.commentaire)==null?void 0:Ct.toLowerCase().includes(Ve))})),z&&(de=de.filter(je=>je.pole===z)),x&&(de=de.filter(je=>{const Ve=Z(je.dateHeureDepart);return Ve&&Q(Ve,new Date(x))})),C&&(de=de.filter(je=>{const Ve=Z(je.dateHeureDepart);return Ve&&ye(Ve,new Date(C))})),_&&(de=de.filter(je=>je.tourneeId===_)),T&&(de=de.filter(je=>je.statut===T)),P&&(de=de.filter(je=>je.siteDepart===P||je.siteFin===P)),R&&(de=de.filter(je=>je.vehiculeId===R)),D&&(de=de.filter(je=>je.idColis&&je.idColis.toLowerCase().includes(D.toLowerCase()))),i(de),console.log(`Filtres appliqués: ${de.length} passages trouvés`)},Re=()=>{w(""),E(""),S(""),I(""),M(""),k(""),A(""),O(""),V(""),L(t)},$e=()=>{if(W)window.confirm("Voulez-vous enregistrer les modifications ?")?(console.log("Sauvegarde des modifications avant de quitter le mode édition"),ne().then(()=>{q([]),Y(!1)}).catch(de=>{console.error("Erreur lors de la sauvegarde:",de),alert("Une erreur est survenue lors de la sauvegarde. Veuillez réessayer.")})):(console.log("Annulation des modifications et sortie du mode édition"),J({}),q([]),Y(!1));else{console.log("Entrée en mode édition");const de={};t.forEach(je=>{de[je.id]={...je}}),J(de),Y(!0)}},ne=async()=>{try{console.log("Début de la sauvegarde des modifications..."),console.log("Passages à mettre à jour:",Object.keys(K).length);const de=Object.entries(K).map(async([Be,lt])=>{try{console.log(`Mise à jour du passage ${Be}:`,lt);const st={};return lt.siteDepart!==void 0&&(st.siteDepart=lt.siteDepart),lt.dateHeureDepart!==void 0&&(st.dateHeureDepart=lt.dateHeureDepart),lt.idColis!==void 0&&(st.idColis=lt.idColis),lt.statut!==void 0&&(st.statut=lt.statut),lt.siteFin!==void 0&&(st.siteFin=lt.siteFin),lt.dateHeureFin!==void 0&&(st.dateHeureFin=lt.dateHeureFin),lt.coursierChargement!==void 0&&(st.coursierChargement=lt.coursierChargement),lt.coursierLivraison!==void 0&&(st.coursierLivraison=lt.coursierLivraison),lt.vehiculeId!==void 0&&(st.vehiculeId=lt.vehiculeId),lt.tourneeId!==void 0&&(st.tourneeId=lt.tourneeId),lt.pole!==void 0&&(st.pole=lt.pole),await Yo(un(mt,"passages",Be),st),console.log(`Passage ${Be} mis à jour avec succès`),Be}catch(st){throw console.error(`Erreur lors de la mise à jour du passage ${Be}:`,st),st}}),je=await Promise.allSettled(de),Ve=je.filter(Be=>Be.status==="fulfilled").length,tt=je.filter(Be=>Be.status==="rejected").length;return console.log(`Opérations terminées: ${Ve} réussies, ${tt} échouées`),tt>0&&console.warn("Certaines opérations ont échoué. Voir les erreurs ci-dessus."),e(t.map(Be=>K[Be.id]?K[Be.id]:Be)),await fe(),J({}),tt>0?alert(`Modifications partiellement enregistrées. ${tt} opérations ont échoué.`):alert("Modifications enregistrées avec succès"),console.log("Toutes les modifications ont été enregistrées avec succès"),!0}catch(de){throw console.error("Erreur lors de la sauvegarde des modifications:",de),alert("Erreur lors de la sauvegarde des modifications. Veuillez réessayer."),de}},xe=(de,je,Ve)=>{J({...K,[de]:{...K[de],[je]:Ve}})},se=de=>{if(!de)return"";const je=de.getFullYear(),Ve=(de.getMonth()+1).toString().padStart(2,"0"),tt=de.getDate().toString().padStart(2,"0");return`${je}-${Ve}-${tt}`},ae=de=>{const je=Z(de);if(!je)return"";const Ve=je.getHours().toString().padStart(2,"0"),tt=je.getMinutes().toString().padStart(2,"0");return`${Ve}:${tt}`},Ee=de=>{U.includes(de)?q(U.filter(je=>je!==de)):q([...U,de])},Le=()=>{try{localStorage.setItem("passagesColumns",JSON.stringify(Ce))}catch(de){console.error("Erreur lors de la sauvegarde des colonnes:",de)}_e(!1)},ze=de=>{pe(je=>{const Ve=je.map(tt=>tt.id===de?{...tt,visible:!tt.visible}:tt);try{localStorage.setItem("passagesColumns",JSON.stringify(Ve))}catch(tt){console.error("Erreur lors de la sauvegarde des colonnes:",tt)}return Ve})},We=()=>{const de=Y9.map(je=>({...je}));pe(de);try{localStorage.setItem("passagesColumns",JSON.stringify(de))}catch(je){console.error("Erreur lors de la sauvegarde des colonnes:",je)}},Ze=de=>{pe(je=>{const Ve=je.map(tt=>({...tt,visible:de}));try{localStorage.setItem("passagesColumns",JSON.stringify(Ve))}catch(tt){console.error("Erreur lors de la sauvegarde des colonnes:",tt)}return Ve})},dt=()=>{Object.keys(K).length>0&&ne(),$e()};return l?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Chargement des passages..."})]}):u?p.jsxs("div",{className:"error-container",children:[p.jsx("p",{className:"error-message",children:u}),p.jsx("button",{className:"button",onClick:fe,children:"Réessayer"})]}):p.jsxs("div",{className:"passages-page",children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"Traçabilité"})}),p.jsxs("div",{className:"sticky-header-top",children:[p.jsx("div",{className:"action-buttons-group",children:W?p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"button button-warning",onClick:$e,children:[p.jsx("i",{className:"fas fa-times"})," Annuler"]}),p.jsxs("button",{className:"button button-success",onClick:dt,children:[p.jsx("i",{className:"fas fa-save"})," Enregistrer"]})]}):p.jsx(p.Fragment,{children:p.jsxs("button",{className:"button button-primary",onClick:$e,children:[p.jsx("i",{className:"fas fa-edit"})," Modifier"]})})}),p.jsxs("div",{className:"quick-search-container",children:[p.jsx("input",{type:"text",className:"quick-search-input",placeholder:"Recherche rapide...",value:N,onChange:de=>O(de.target.value)}),p.jsxs("select",{className:"pole-filter",value:z,onChange:de=>V(de.target.value),children:[p.jsx("option",{value:"",children:"Filtrer par pôle"}),X.map(de=>p.jsx("option",{value:de.id,children:de.nom},de.id))]})]})]}),p.jsxs("div",{className:"search-filters-container",children:[p.jsxs("div",{className:"search-filters",style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:[p.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[p.jsx("label",{children:"Date début:"}),p.jsxs("div",{className:"custom-datepicker-wrapper",children:[p.jsx(bV,{selected:x?new Date(x):null,onChange:de=>w(de?de.toISOString().split("T")[0]:""),locale:"fr",dateFormat:"dd/MM/yyyy",placeholderText:"JJ/MM/AAAA",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:de=>de}],showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!0}),p.jsx("span",{className:"custom-datepicker-icon",children:"📅"})]})]}),p.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[p.jsx("label",{children:"Date fin:"}),p.jsxs("div",{className:"custom-datepicker-wrapper",children:[p.jsx(bV,{selected:C?new Date(C):null,onChange:de=>E(de?de.toISOString().split("T")[0]:""),locale:"fr",dateFormat:"dd/MM/yyyy",placeholderText:"JJ/MM/AAAA",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:de=>de}],showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!0}),p.jsx("span",{className:"custom-datepicker-icon",children:"📅"})]})]}),p.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[p.jsx("label",{children:"Sites:"}),p.jsxs("select",{className:"select-input",value:P||"",onChange:de=>M(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par site",children:[p.jsx("option",{value:"",children:"Tous"}),g.map(de=>p.jsx("option",{value:de.id,children:de.nom},de.id))]})]}),p.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[p.jsx("label",{children:"Tournées:"}),p.jsxs("select",{className:"select-input",value:_||"",onChange:de=>S(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par tournée",children:[p.jsx("option",{value:"",children:"Toutes"}),f.map(de=>p.jsx("option",{value:de.id,children:de.nom},de.id))]})]}),p.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[p.jsx("label",{children:"Véhicules:"}),p.jsxs("select",{className:"select-input",value:R||"",onChange:de=>k(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par véhicule",children:[p.jsx("option",{value:"",children:"Tous"}),y.map(de=>p.jsx("option",{value:de.id,children:de.immatriculation},de.id))]})]}),p.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[p.jsx("label",{children:"Statut:"}),p.jsxs("select",{className:"select-input",value:T||"",onChange:de=>I(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par statut",children:[p.jsx("option",{value:"",children:"Tous"}),p.jsx("option",{value:"Livré",children:"Livré"}),p.jsx("option",{value:"En cours",children:"En cours"})]})]}),p.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[p.jsx("label",{children:"ID Colis:"}),p.jsx("input",{type:"text",className:"text-input",placeholder:"ID Colis",value:D||"",onChange:de=>A(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px"},title:"Filtrer par ID de colis"})]})]}),p.jsxs("div",{className:"search-buttons",style:{display:"flex",justifyContent:"flex-start",marginTop:"15px"},children:[p.jsxs("button",{className:"search-button",onClick:Ie,style:{backgroundColor:"#1976d2",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px"},onMouseOver:de=>de.currentTarget.style.backgroundColor="#1565c0",onMouseOut:de=>de.currentTarget.style.backgroundColor="#1976d2",children:[p.jsx("i",{className:"fas fa-search",style:{marginRight:"8px"}})," Rechercher"]}),p.jsxs("button",{className:"reset-button",onClick:Re,style:{backgroundColor:"#f5f5f5",color:"#333",padding:"10px 20px",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:de=>de.currentTarget.style.backgroundColor="#e0e0e0",onMouseOut:de=>de.currentTarget.style.backgroundColor="#f5f5f5",children:[p.jsx("i",{className:"fas fa-undo",style:{marginRight:"8px"}})," Réinitialiser"]})]})]}),p.jsxs("div",{className:"passages-table-container",style:{overflowX:"auto",marginTop:"20px"},children:[p.jsxs("div",{className:"results-info",children:[s?o.length:t.length," résultat(s) trouvé(s)"]}),p.jsx("div",{className:"table-container",children:p.jsxs("table",{className:"sites-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[W&&p.jsx("th",{className:"select-all-column",children:p.jsx("input",{type:"checkbox",checked:U.length===j.length,onChange:de=>{de.target.checked?q(j.map(je=>je.id)):q([])},title:"Sélectionner/Désélectionner tous les passages","aria-label":"Sélectionner tous les passages"})}),Ce.filter(de=>de.visible).map(de=>p.jsx("th",{style:{width:de.width},children:de.label},de.id))]})}),p.jsx("tbody",{children:(s?o:t).map(de=>p.jsxs("tr",{className:U.includes(de.id)?"selected-row":"",onClick:()=>W&&Ee(de.id),children:[W&&p.jsx("td",{className:"checkbox-cell",children:p.jsx("input",{type:"checkbox",checked:U.includes(de.id),onChange:()=>Ee(de.id),title:`Sélectionner le passage ${de.id}`,"aria-label":`Sélectionner le passage ${de.id}`,onClick:je=>je.stopPropagation()})}),Ce.filter(je=>je.visible).map(je=>{var Ve,tt,Be,lt,st,pt,Ct,Pe,Te,De;switch(je.id){case"pole":return p.jsx("td",{children:W?p.jsx(mE,{value:((Ve=K[de.id])==null?void 0:Ve.pole)||de.pole||"",onChange:Oe=>xe(de.id,"pole",Oe),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0}):ke(de.pole)},je.id);case"siteDepart":return p.jsx("td",{children:W?p.jsxs("select",{value:((tt=K[de.id])==null?void 0:tt.siteDepart)||de.siteDepart,onChange:Oe=>xe(de.id,"siteDepart",Oe.target.value),className:"inline-edit-select",title:"Sélectionner un site de départ","aria-label":"Site de départ",children:[p.jsx("option",{value:"",children:"Sélectionner un site"}),g.map(Oe=>p.jsx("option",{value:Oe.id,children:Oe.nom},Oe.id))]}):he(de.siteDepart)},je.id);case"date":return p.jsx("td",{children:W?p.jsx("input",{type:"date",value:se(Z(((Be=K[de.id])==null?void 0:Be.dateHeureDepart)||de.dateHeureDepart)),onChange:Oe=>{const He=new Date(Oe.target.value);xe(de.id,"dateHeureDepart",En.fromDate(He))},className:"inline-edit-input",onClick:Oe=>Oe.stopPropagation()}):me(Z(de.dateHeureDepart))},je.id);case"heure":return p.jsx("td",{children:W?p.jsx("input",{type:"time",value:ae(((lt=K[de.id])==null?void 0:lt.dateHeureDepart)||de.dateHeureDepart),onChange:Oe=>{var Ge;const He=Z(((Ge=K[de.id])==null?void 0:Ge.dateHeureDepart)||de.dateHeureDepart);if(He){const[ht,Qe]=Oe.target.value.split(":").map(Number);He.setHours(ht,Qe),xe(de.id,"dateHeureDepart",En.fromDate(He))}},className:"inline-edit-input",onClick:Oe=>Oe.stopPropagation()}):de.dateHeureDepart?(st=Z(de.dateHeureDepart))==null?void 0:st.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):""},je.id);case"statut":return p.jsx("td",{children:W?p.jsxs("select",{value:((pt=K[de.id])==null?void 0:pt.statut)||de.statut,onChange:Oe=>xe(de.id,"statut",Oe.target.value),className:"inline-edit-select",children:[p.jsx("option",{value:"Livré",children:"Livré"}),p.jsx("option",{value:"En cours",children:"En cours"})]}):p.jsx("span",{className:de.statut==="Livré"?"livré":"en-cours",children:de.statut})},je.id);case"siteFin":return p.jsx("td",{children:W?p.jsxs("select",{value:((Ct=K[de.id])==null?void 0:Ct.siteFin)||de.siteFin,onChange:Oe=>xe(de.id,"siteFin",Oe.target.value),className:"inline-edit-select",children:[p.jsx("option",{value:"",children:"Sélectionner un site"}),g.map(Oe=>p.jsx("option",{value:Oe.nom,children:Oe.nom},Oe.id))]}):he(de.siteFin)},je.id);case"vehicule":return p.jsx("td",{children:W?p.jsxs("select",{value:((Pe=K[de.id])==null?void 0:Pe.vehiculeId)||de.vehiculeId,onChange:Oe=>xe(de.id,"vehiculeId",Oe.target.value),className:"inline-edit-select",children:[p.jsx("option",{value:"",children:"Sélectionner un véhicule"}),y.map(Oe=>p.jsx("option",{value:Oe.id,children:Oe.immatriculation},Oe.id))]}):we(de.vehiculeId)},je.id);case"coursier":return p.jsx("td",{children:W?p.jsx("input",{type:"text",value:((Te=K[de.id])==null?void 0:Te.coursierChargement)||de.coursierChargement||"",onChange:Oe=>xe(de.id,"coursierChargement",Oe.target.value),className:"inline-edit-input"}):de.coursierChargement||"-"},je.id);case"commentaire":return p.jsx("td",{children:W?p.jsxs("select",{value:((De=K[de.id])==null?void 0:De.tourneeId)||de.tourneeId,onChange:Oe=>xe(de.id,"tourneeId",Oe.target.value),className:"inline-edit-select",children:[p.jsx("option",{value:"",children:"Sélectionner une tournée"}),f.map(Oe=>p.jsx("option",{value:Oe.id,children:Oe.nom},Oe.id))]}):ee(de.tourneeId)},je.id);default:return p.jsx("td",{children:"-"},je.id)}})]},de.id))})]})})]}),p.jsxs(ss,{open:ue,onClose:Le,maxWidth:"sm",fullWidth:!0,children:[p.jsx(Ds,{children:p.jsx(Ne,{variant:"h6",children:"Configuration des colonnes"})}),p.jsx(ua,{}),p.jsxs(ls,{children:[p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap"},children:[p.jsx(Mt,{variant:"contained",color:"primary",onClick:()=>Ze(!0),size:"small",children:"Tout sélectionner"}),p.jsx(Mt,{variant:"outlined",onClick:()=>Ze(!1),size:"small",children:"Tout désélectionner"}),p.jsx(Mt,{variant:"outlined",onClick:We,size:"small",children:"Réinitialiser"})]}),p.jsx(cs,{children:Ce.map(de=>p.jsxs($s,{dense:!0,button:!0,onClick:()=>ze(de.id),className:de.visible?"column-visible":"column-hidden",children:[p.jsx(_x,{checked:de.visible,onChange:()=>ze(de.id),color:"primary"}),p.jsx(hl,{primary:de.label})]},de.id))})]}),p.jsx(ua,{}),p.jsx(as,{children:p.jsx(Mt,{onClick:Le,variant:"contained",color:"primary",children:"Fermer"})})]})]})},kYe="AIzaSyBjkPBFOhFOOmYJUzz1Fpa4sz4sG7t6XGE",oa={async calculateDistance(t,e,n,r){var o,i,s,a;try{if(t===n&&e===r)return console.log("Points identiques, distance = 0"),0;if(!((i=(o=window.google)==null?void 0:o.maps)!=null&&i.DistanceMatrixService))throw new Error("API Google Maps non chargée");const l=new google.maps.DistanceMatrixService;console.log(`Calcul de la distance entre (${t}, ${e}) et (${n}, ${r})`);const c=await new Promise((f,m)=>{l.getDistanceMatrix({origins:[{lat:t,lng:e}],destinations:[{lat:n,lng:r}],travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}},(g,v)=>{v===google.maps.DistanceMatrixStatus.OK&&g?f(g):m(new Error(`Échec Distance Matrix: ${v}`))})});if(!c.rows||c.rows.length===0)throw console.error("Réponse Distance Matrix vide:",c),new Error("Réponse Distance Matrix vide");const u=(s=c.rows[0])==null?void 0:s.elements[0];if(!u)throw console.error("Élément de distance non trouvé dans la réponse:",c),new Error("Élément de distance non trouvé dans la réponse");if(u.status!==google.maps.DistanceMatrixElementStatus.OK)throw console.error(`Statut de l'élément non OK: ${u.status}`),new Error(`Statut de l'élément non OK: ${u.status}`);if(!((a=u.distance)!=null&&a.value))throw console.error("Distance non disponible dans l'élément:",u),new Error("Distance non disponible dans l'élément");const d=u.distance.value/1e3;return console.log(`Distance calculée: ${d.toFixed(1)} km`),d}catch(l){throw console.error("Erreur lors du calcul de la distance:",l),l}},deg2rad(t){return t*(Math.PI/180)},async estimateTravelTime(t,e,n=new Date){var a,l,c,u,d,f;const r=Number(t.latitude),o=Number(t.longitude),i=Number(e.latitude),s=Number(e.longitude);if(isNaN(r)||isNaN(o)||isNaN(i)||isNaN(s))throw new Error("Coordonnées invalides");try{if(!((l=(a=window.google)==null?void 0:a.maps)!=null&&l.DirectionsService))throw new Error("API Google Maps non chargée");const m=new google.maps.DirectionsService,g=new Date(Math.max(n.getTime(),Date.now())),v=await new Promise((y,b)=>{m.route({origin:{lat:r,lng:o},destination:{lat:i,lng:s},travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:g,trafficModel:google.maps.TrafficModel.BEST_GUESS}},(x,w)=>{w===google.maps.DirectionsStatus.OK&&x?y(x):b(new Error(`Échec directions: ${w}`))})});if((d=(u=(c=v==null?void 0:v.routes)==null?void 0:c[0])==null?void 0:u.legs)!=null&&d[0]){const y=v.routes[0].legs[0],b=y.duration.value,x=((f=y.duration_in_traffic)==null?void 0:f.value)||b,w=x/b;if(w>1.1){const C=w>1.3?"congestionné":"chargé";console.log(`Trafic détecté sur ${t.nom} → ${e.nom}: ${b/60} min → ${x/60} min (${C})`)}return x}throw new Error("Données d'itinéraire invalides")}catch(m){throw console.error("Erreur lors de l'estimation du temps de trajet:",m),m}},estimateTimeFromDistance(t){return t/50*3600},calculateOptimalRoute(t){if(t.length<=2)return t.map(o=>o.id);const e=[],n=new Set(t.map(o=>o.id));let r=t[0].id;for(e.push(r),n.delete(r);n.size>0;){const o=t.find(a=>a.id===r);let i=1/0,s=null;for(const a of n){const l=t.find(u=>u.id===a),c=this.calculateDistance(o.latitude,o.longitude,l.latitude,l.longitude);c<i&&(i=c,s=a)}s&&(e.push(s),n.delete(s),r=s)}return e},getMarkerColor(t,e){if(t===0)return"#00796B";if(t===e-1)return"#D32F2F";const n=t/(e-1),r=Math.round(25+n*210),o=Math.round(118-n*40),i=Math.round(210-n*160);return`#${r.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`},async calculateRoute(t){var o;if(t.length<2)return{distance:0,duration:0,routes:[]};const e=[];let n=0,r=0;try{await this.loadGoogleMapsAPI();for(let i=0;i<t.length-1;i++){const s=t[i].site,a=t[i+1].site;if(!s||!a||!s.latitude||!s.longitude||!a.latitude||!a.longitude){console.warn(`Coordonnées manquantes pour le segment ${i} -> ${i+1}`);continue}console.log(`Calcul d'itinéraire Google Maps entre ${s.nom} et ${a.nom}`);try{const l={lat:Number(s.latitude),lng:Number(s.longitude)},c={lat:Number(a.latitude),lng:Number(a.longitude)};if(isNaN(l.lat)||isNaN(l.lng)||isNaN(c.lat)||isNaN(c.lng))throw new Error("Coordonnées invalides");let u=t[i].heureArrivee;u instanceof Date||(u=new Date(u)),isNaN(u.getTime())&&(console.warn("Heure de départ invalide, utilisation de l'heure actuelle"),u=new Date);const d=t[i].dureeVisite||5;u=new Date(u.getTime()+d*60*1e3),console.log(`Heure de départ pour le segment ${i}: ${u.toLocaleTimeString()} (après ${d} min d'arrêt)`);let f;const m=await this.getDirections(l,c,u);if(m&&m.routes&&m.routes.length>0){const g=m.routes[0],v=g.legs[0],y=v.distance.value,b=v.duration.value,x=((o=v.duration_in_traffic)==null?void 0:o.value)||b;let w="fluide";v.duration_in_traffic&&v.duration_in_traffic.value/v.duration.value>1&&(w="charge"),console.log(`État du trafic pour le trajet ${s.nom} → ${a.nom}:`,{duréeNormale:Math.round(b/60)+" min",duréeAvecTrafic:Math.round(x/60)+" min",heureDépart:u.toLocaleTimeString()});let C=[],E=!1;try{if(g.overview_polyline&&g.overview_polyline.points&&(console.log("Décodage du polyline...",g.overview_polyline.points.slice(0,20)+"..."),console.log("Type de polyline:",typeof g.overview_polyline.points),console.log("Existe et non vide:",!!g.overview_polyline.points&&g.overview_polyline.points.length>0),C=this.decodePolyline(g.overview_polyline.points),console.log(`Polyline décodé avec succès: ${C.length} points`),C.length>=2&&(E=!0,console.log("Utilisation du polyline Google Maps pour le tracé routier"))),!E){console.log("Obtention du chemin précis via DirectionsRenderer");try{const S=g.legs[0];if(S&&S.steps&&S.steps.length>0){C=[];for(const T of S.steps)if(T.path&&T.path.length>0)for(const I of T.path)C.push({lat:I.lat(),lng:I.lng()});else if(T.polyline&&T.polyline.points){const I=this.decodePolyline(T.polyline.points);I.length>0&&C.push(...I)}else T.start_location&&T.end_location&&(C.push({lat:T.start_location.lat(),lng:T.start_location.lng()}),C.push({lat:T.end_location.lat(),lng:T.end_location.lng()}));C.length>=2&&(console.log(`Points extraits des étapes: ${C.length}`),E=!0)}}catch(S){console.error("Erreur lors de l'utilisation de DirectionsRenderer:",S)}}if(!E){console.log("Polyline manquant dans la réponse - Tentative alternative avec l'API Google Maps Directions");const S=await this.getDirectionsAlternative(l,c,u);if(S.routes&&S.routes.length>0&&S.routes[0].overview_polyline&&S.routes[0].overview_polyline.points&&S.routes[0].overview_polyline.points.length>0){const T=this.decodePolyline(S.routes[0].overview_polyline.points);if(T.length>=2)C=T,E=!0,console.log(`Points obtenus directement de l'API: ${C.length}`);else throw new Error("API Directions - Pas assez de points pour tracer l'itinéraire")}else throw new Error("API Directions - Polyline manquant dans la réponse alternative")}}catch(S){throw console.error("Erreur lors du décodage du polyline:",S),new Error("Impossible d'obtenir un tracé routier valide")}let _="#2196F3";w==="charge"&&(_="#FF9800"),n+=y,r+=x,f={origin:l,destination:c,distance:y,duration:x,points:C,trafficStatus:w,trafficColor:_,startTime:u,endTime:new Date(u.getTime()+x*1e3),originalResponse:m}}else throw new Error("Pas de route trouvée dans la réponse Google Maps");if(e.push(f),i+1<t.length&&f){const g=new Date(u.getTime()+f.duration*1e3);console.log(`Heure d'arrivée estimée à ${a.nom}: ${g.toLocaleTimeString()}`)}}catch(l){throw console.error(`Erreur lors du traitement du segment ${i}:`,l),new Error(`Impossible de calculer l'itinéraire pour le segment ${i}: ${l.message}`)}}return console.log(`Calcul d'itinéraire terminé: ${e.length} segments, ${(n/1e3).toFixed(1)} km, ${Math.round(r/60)} min`),{distance:n,duration:r,routes:e}}catch(i){throw console.error("Erreur globale lors du calcul d'itinéraire:",i),new Error(`Impossible de calculer l'itinéraire complet: ${i.message}`)}},loadGoogleMapsAPI:()=>(console.log("Démarrage du chargement de l'API Google Maps"),new Promise((t,e)=>{if(window.google&&window.google.maps&&window.google.maps.places){console.log("L'API Google Maps est déjà chargée (avec la bibliothèque Places)"),window.__googleMapsInitialized=!0,window.dispatchEvent(new Event("google-maps-initialized")),t();return}else window.google&&window.google.maps&&!window.google.maps.places&&console.log("L'API Google Maps est chargée mais sans la bibliothèque Places, rechargement...");const n=document.getElementById("google-maps-script");if(n){console.log("Le script Google Maps est déjà en cours de chargement");const o=()=>{if(console.log("L'API Google Maps a été chargée (via le script existant)"),window.google&&window.google.maps&&window.google.maps.places)window.__googleMapsInitialized=!0,window.dispatchEvent(new Event("google-maps-initialized")),t();else{const s=new Error("L'API Google Maps n'a pas été chargée correctement ou la bibliothèque Places est manquante");console.error(s),e(s)}},i=()=>{const s=new Error("Erreur lors du chargement de l'API Google Maps");console.error(s),e(s)};n.addEventListener("load",o),n.addEventListener("error",i);return}console.log("Création d'un nouveau script pour charger l'API Google Maps avec Places");const r=document.createElement("script");r.id="google-maps-script",r.src=`https://maps.googleapis.com/maps/api/js?key=${kYe}&libraries=places,geometry`,r.async=!0,r.defer=!0,r.addEventListener("load",()=>{if(console.log("L'API Google Maps a été chargée avec succès"),window.google&&window.google.maps)console.log("L'objet google.maps est disponible"),window.google.maps.places?console.log("La bibliothèque Places est disponible"):console.warn("La bibliothèque Places n'est pas disponible !"),window.__googleMapsInitialized=!0,window.dispatchEvent(new Event("google-maps-initialized")),setTimeout(()=>{console.log("Confirmation finale de l'initialisation de Google Maps"),window.dispatchEvent(new Event("google-maps-initialized")),t()},500);else{const o=new Error("L'API Google Maps n'a pas été chargée correctement (objets manquants)");console.error(o),e(o)}}),r.addEventListener("error",o=>{console.error("Erreur lors du chargement du script Google Maps:",o),e(new Error("Impossible de charger l'API Google Maps"))}),document.head.appendChild(r)})),getDirections(t,e,n){return this.getDirectionsAlternative(t,e,n).then(r=>{const o=this.convertRESTToDirectionsResult(r,t,e,n);if(o.routes&&o.routes.length>0){const s=o.routes[0].legs[0];if(s.duration_in_traffic){const a=s.duration.value,l=s.duration_in_traffic.value,c=l/a,u=c>1.2?"congestionné":c>1.05?"chargé":"fluide";console.log(`Trafic sur l'itinéraire: ${a/60} min → ${l/60} min (${u}, ratio: ${c.toFixed(2)})`)}}return o})},convertRESTToDirectionsResult(t,e,n,r){const o={geocoded_waypoints:t.geocoded_waypoints,routes:[],request:{origin:e,destination:n,travelMode:"DRIVING",drivingOptions:{departureTime:r}}};if(t.routes&&t.routes.length>0){const i=t.routes[0],s=i.legs.map(a=>{const l=a.steps.map(f=>({distance:f.distance,duration:f.duration,end_location:new google.maps.LatLng(f.end_location.lat,f.end_location.lng),start_location:new google.maps.LatLng(f.start_location.lat,f.start_location.lng),instructions:f.html_instructions,travel_mode:f.travel_mode,polyline:f.polyline,path:f.polyline?this.decodePolyline(f.polyline.points):[]})),c=a.duration_in_traffic||a.duration,d=c.value/a.duration.value>1?"chargé":"fluide";return console.log(`Trafic sur le trajet: ${a.duration.value/60} min → ${c.value/60} min (${d})`),{distance:a.distance,duration:a.duration,duration_in_traffic:c,end_address:a.end_address,end_location:new google.maps.LatLng(a.end_location.lat,a.end_location.lng),start_address:a.start_address,start_location:new google.maps.LatLng(a.start_location.lat,a.start_location.lng),steps:l}});o.routes=[{legs:s,overview_polyline:i.overview_polyline,summary:i.summary,warnings:i.warnings,bounds:i.bounds,copyrights:i.copyrights}]}return o},async calculateFallbackRoute(t,e,n){console.error("Solution de repli désactivée - Tentative directe avec l'API");try{if(!t.latitude||!t.longitude||!e.latitude||!e.longitude)throw new Error("Coordonnées manquantes pour le calcul d'itinéraire");const r={lat:t.latitude,lng:t.longitude},o={lat:e.latitude,lng:e.longitude},i=await this.getDirectionsAlternative(r,o,n);if(i&&i.routes&&i.routes.length>0){const s=i.routes[0],a=s.legs[0],l=a.distance.value,c=a.duration.value;let u=[];if(s.overview_polyline&&s.overview_polyline.points&&(u=this.decodePolyline(s.overview_polyline.points)),u.length<2)throw new Error("Pas assez de points pour tracer l'itinéraire");return{origin:r,destination:o,distance:l,duration:c,points:u,trafficStatus:"fluide",trafficColor:"#4CAF50"}}throw new Error("Aucun itinéraire trouvé")}catch(r){throw console.error("Échec complet du calcul d'itinéraire:",r),new Error("Impossible de calculer un itinéraire entre les points")}},decodePolylineWithGoogle(t){if(!t||typeof t!="string")return console.warn("Polyline invalide reçu:",t),[];try{if(!window.google||!window.google.maps||!window.google.maps.geometry)return console.warn("Bibliothèque geometry non disponible pour décoder le polyline"),this.decodePolyline(t);console.log("Décodage du polyline avec l'API Google Maps geometry");const n=google.maps.geometry.encoding.decodePath(t).map(r=>({lat:r.lat(),lng:r.lng()}));return console.log(`Polyline décodé avec geometry.encoding.decodePath: ${n.length} points`),n}catch(e){return console.error("Erreur lors du décodage du polyline avec Google API:",e),this.decodePolyline(t)}},decodePolyline(t){const e=[],n={i:0},r=t.length;let o=0,i=0;try{for(;n.i<r;){let s,a=0,l=0;do s=t.charCodeAt(n.i++)-63,l|=(s&31)<<a,a+=5;while(s>=32);const c=l&1?~(l>>1):l>>1;o+=c,a=0,l=0;do s=t.charCodeAt(n.i++)-63,l|=(s&31)<<a,a+=5;while(s>=32);const u=l&1?~(l>>1):l>>1;i+=u,e.push({lat:o*1e-5,lng:i*1e-5})}}catch(s){return console.error("Erreur dans le décodage du polyline:",s),console.error("Polyline problématique:",t),[]}return e},decodePolylineAlternative(t){if(!t||typeof t!="string")return[];try{let e=0,n=0,r=0;const o=[],i=t.length;if(i<2)return[];for(;e<i;){let s=0,a=0;do{if(e>=i)return o;const u=t.charCodeAt(e)-63;e++,a|=(u&31)<<s,s+=5}while(a&32);const l=a&1?~(a>>1):a>>1;n+=l,s=0,a=0;do{if(e>=i)return o;const u=t.charCodeAt(e)-63;e++,a|=(u&31)<<s,s+=5}while(a&32);const c=a&1?~(a>>1):a>>1;r+=c,o.push({lat:n*1e-5,lng:r*1e-5})}return o}catch(e){return console.error("Erreur dans l'implémentation alternative de décodage:",e),[]}},calculateSimpleRoute(t){throw console.error("Solution de repli par lignes droites désactivée"),new Error("Le calcul d'itinéraire simplifié est désactivé. Seuls les tracés routiers réels sont acceptés.")},generateRoutePoints(t,e,n){throw console.error("Génération de points intermédiaires désactivée - Seuls les tracés routiers réels sont acceptés"),new Error("La génération de points intermédiaires est désactivée. Seuls les tracés routiers réels sont acceptés.")},async optimizeTour(t,e){if(t.length<=1)return{sitesOrder:t.map(n=>n.id),totalDistance:0,totalDuration:0,arrivalTimes:{}};try{console.log(`Optimisation de l'itinéraire pour ${t.length} sites avec heure de départ: ${e.toLocaleString()}`);const n=t[0],r=t[t.length-1],o=t.slice(1,t.length-1);if(o.length===0){const _=await this.calculateDistance(n.latitude,n.longitude,r.latitude,r.longitude),S=await this.estimateTravelTime(n,r,e);return{sitesOrder:t.map(T=>T.id),totalDistance:_*1e3,totalDuration:S,arrivalTimes:{[n.id]:e,[r.id]:new Date(e.getTime()+S*1e3)}}}const i=o.filter(_=>{const S=Number(_.latitude),T=Number(_.longitude);return!isNaN(S)&&!isNaN(T)&&_.id});if(i.length===0)throw new Error("Aucun site intermédiaire avec des coordonnées valides");console.log("Calcul des temps de trajet entre les sites...");const s=[n,...i,r],a=s.length,l=[],c=[];let u=new Date(e);for(let _=0;_<a;_++){l[_]=[],c[_]=[];for(let S=0;S<a;S++)if(_===S)l[_][S]=0,c[_][S]=0;else{const T=_===0?new Date(e):new Date(u),I=await this.estimateTravelTime(s[_],s[S],T),P=await this.calculateDistance(s[_].latitude,s[_].longitude,s[S].latitude,s[S].longitude);l[_][S]=I,c[_][S]=P,(_===0||S===a-1)&&console.log(`Trajet ${s[_].nom} → ${s[S].nom}: ${Math.round(I/60)} min, ${P.toFixed(1)} km (départ à ${T.toLocaleTimeString()})`)}}if(console.log("Matrice des temps de trajet et distances calculée avec trafic réel"),i.length<=1){const _=[n.id];i.length===1&&_.push(i[0].id),r.id!==n.id&&_.push(r.id);const S={[n.id]:new Date(e)};let T=new Date(e);T=new Date(T.getTime()+5*60*1e3);for(let M=1;M<_.length;M++){const R=s.find(A=>A.id===_[M-1]),k=s.find(A=>A.id===_[M]),D=await this.estimateTravelTime(R,k,T);T=new Date(T.getTime()+D*1e3),S[k.id]=new Date(T),M<_.length-1&&(T=new Date(T.getTime()+5*60*1e3))}let I=0,P=0;for(let M=0;M<_.length-1;M++){const R=s.find(O=>O.id===_[M]),k=s.find(O=>O.id===_[M+1]),D=this.calculateDistance(R.latitude,R.longitude,k.latitude,k.longitude);I+=D;const A=s.findIndex(O=>O.id===R.id),N=s.findIndex(O=>O.id===k.id);P+=l[A][N]}return{sitesOrder:_,totalDistance:I*1e3,totalDuration:P,arrivalTimes:S}}console.log("Optimisation des sites intermédiaires...");const d=Array.from({length:i.length},(_,S)=>S+1),f=0,m=a-1,g=[f],v=new Set(d);let y=f;for(;v.size>0;){let _=1/0,S=-1;for(const T of v){const I=l[y][T];I<_&&(_=I,S=T)}if(S!==-1)g.push(S),v.delete(S),y=S;else{console.error("Erreur d'optimisation: aucun site suivant trouvé");break}}g.push(m);const b=g.map(_=>s[_].id);console.log("Calcul des heures d'arrivée avec trafic réel...");const x={};let w=new Date(e);x[n.id]=new Date(w);for(let _=0;_<g.length-1;_++){const S=g[_],T=g[_+1],I=s[S],P=s[T];_<g.length-2&&(w=new Date(w.getTime()+5*60*1e3));const M=await this.estimateTravelTime(I,P,w);w=new Date(w.getTime()+M*1e3),x[P.id]=new Date(w),(_===0||_===g.length-2)&&console.log(`Arrivée à ${P.nom} à ${w.toLocaleTimeString()} (trajet: ${Math.round(M/60)} min)`)}let C=0,E=0;for(let _=0;_<g.length-1;_++){const S=g[_],T=g[_+1];C+=c[S][T],E+=l[S][T]}return console.log(`Optimisation terminée - ${b.length} sites, ${C.toFixed(1)} km, ${Math.round(E/60)} min`),(b[0]!==n.id||b[b.length-1]!==r.id)&&console.error("Erreur: les sites de départ et d'arrivée ne sont pas préservés dans l'ordre optimisé"),{sitesOrder:b,totalDistance:C*1e3,totalDuration:E,arrivalTimes:x}}catch(n){console.error("Erreur lors de l'optimisation de l'itinéraire:",n),console.log("Utilisation de l'algorithme de secours sans données de trafic");const r=t[0],o=t[t.length-1];return this.calculateOptimalRouteWithFixedEnds(t,e,r.id,o.id)}},calculateOptimalRouteWithFixedEnds(t,e,n,r){if(t.length<=2){const g=t.map(y=>y.id),v={[t[0].id]:new Date(e)};if(t.length>1){const y=this.estimateTimeFromDistance(this.calculateDistance(t[0].latitude,t[0].longitude,t[1].latitude,t[1].longitude)),b=new Date(e.getTime()+y*1e3);v[t[1].id]=b}return{sitesOrder:g,totalDistance:t.length>1?this.calculateDistance(t[0].latitude,t[0].longitude,t[1].latitude,t[1].longitude)*1e3:0,totalDuration:t.length>1?this.estimateTimeFromDistance(this.calculateDistance(t[0].latitude,t[0].longitude,t[1].latitude,t[1].longitude)):0,arrivalTimes:v}}const o=t.find(g=>g.id===n)||t[0],i=t.find(g=>g.id===r)||t[t.length-1],s=t.filter(g=>g.id!==o.id&&g.id!==i.id),a=[o.id],l=new Set(s.map(g=>g.id));let c=o,u=new Date(e);const d={[o.id]:new Date(e)};for(;l.size>0;){let g=1/0,v=null;for(const y of l){const b=t.find(w=>w.id===y);if(!b)continue;const x=this.calculateDistance(c.latitude,c.longitude,b.latitude,b.longitude);x<g&&(g=x,v=y)}if(v){a.push(v),l.delete(v),c=t.find(b=>b.id===v),u=new Date(u.getTime()+5*60*1e3);const y=this.estimateTimeFromDistance(g);u=new Date(u.getTime()+y*1e3),d[v]=new Date(u)}else break}if(i.id!==a[a.length-1]){a.push(i.id);const g=this.calculateDistance(c.latitude,c.longitude,i.latitude,i.longitude);u=new Date(u.getTime()+5*60*1e3);const v=this.estimateTimeFromDistance(g);u=new Date(u.getTime()+v*1e3),d[i.id]=new Date(u)}let f=0,m=0;for(let g=0;g<a.length-1;g++){const v=t.find(w=>w.id===a[g]),y=t.find(w=>w.id===a[g+1]),b=this.calculateDistance(v.latitude,v.longitude,y.latitude,y.longitude);f+=b;const x=this.estimateTimeFromDistance(b);m+=x}return{sitesOrder:a,totalDistance:f*1e3,totalDuration:m,arrivalTimes:d}},async getDirectionsAlternative(t,e,n){try{return console.log("Obtention des directions via DirectionsService"),new Promise((r,o)=>{if(!window.google||!window.google.maps||!window.google.maps.DirectionsService)return console.error("API Google Maps non chargée pour getDirectionsAlternative"),o(new Error("API Google Maps non chargée"));const i=new google.maps.DirectionsService;if(!isFinite(t.lat)||!isFinite(t.lng)||!isFinite(e.lat)||!isFinite(e.lng)||t.lat<-90||t.lat>90||t.lng<-180||t.lng>180||e.lat<-90||e.lat>90||e.lng<-180||e.lng>180)return console.error("Coordonnées invalides pour le calcul d'itinéraire"),o(new Error("Coordonnées invalides"));const s=new Date,a=n<s?s:n;console.log(`Calcul d'itinéraire avec départ à ${a.toLocaleString()}`);const l={origin:t,destination:e,travelMode:google.maps.TravelMode.DRIVING,drivingOptions:{departureTime:a,trafficModel:google.maps.TrafficModel.BEST_GUESS},provideRouteAlternatives:!1,avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1};i.route(l,(c,u)=>{if(u===google.maps.DirectionsStatus.OK){if(c.routes&&c.routes.length>0){const f=c.routes[0].legs[0];if(f.duration_in_traffic){const m=f.duration.value,g=f.duration_in_traffic.value,y=g/m>1?"chargé":"fluide";console.log(`Trafic sur l'itinéraire: ${m/60} min → ${g/60} min (${y})`)}}r(c)}else o(new Error(`Erreur de direction: ${u}`))})})}catch(r){throw console.error("Erreur lors de l'obtention des directions:",r),r}},convertDirectionsResultToREST(t){var r,o,i,s;if(!t||!t.routes||t.routes.length===0)return{status:"ZERO_RESULTS",routes:[]};const e=t.routes[0];return{status:"OK",geocoded_waypoints:t.geocoded_waypoints||[],routes:[{summary:e.summary||"",legs:e.legs.map(a=>({distance:a.distance,duration:a.duration,duration_in_traffic:a.duration_in_traffic,end_address:a.end_address,end_location:{lat:a.end_location.lat(),lng:a.end_location.lng()},start_address:a.start_address,start_location:{lat:a.start_location.lat(),lng:a.start_location.lng()},steps:a.steps.map(l=>({distance:l.distance,duration:l.duration,end_location:{lat:l.end_location.lat(),lng:l.end_location.lng()},start_location:{lat:l.start_location.lat(),lng:l.start_location.lng()},html_instructions:l.instructions,travel_mode:l.travel_mode,polyline:l.polyline||{points:""}}))})),overview_polyline:e.overview_polyline||{points:""},warnings:e.warnings||[],bounds:{northeast:{lat:((r=e.bounds)==null?void 0:r.getNorthEast().lat())||0,lng:((o=e.bounds)==null?void 0:o.getNorthEast().lng())||0},southwest:{lat:((i=e.bounds)==null?void 0:i.getSouthWest().lat())||0,lng:((s=e.bounds)==null?void 0:s.getSouthWest().lng())||0}},copyrights:e.copyrights||""}]}}},tm={},DYe=(t,e,n)=>{if(!(t!=null&&t.trim())||!(e!=null&&e.trim())||!(n!=null&&n.trim()))return!1;const r=["END","UNDEFINED","NULL","N/A","RDC",""];return![t.toUpperCase(),e.toUpperCase(),n.toUpperCase()].some(i=>{const s=i.split(/[,\s]+/).map(a=>a.trim());return s.length===0||s.every(a=>r.includes(a))})},$Ye=t=>t?t.replace(/\b(rdc|rez[- ]de[- ]chauss[ée]e)\b/gi,"").replace(/\b(bat|bât|batiment|bâtiment)\b\.?\s*([0-9a-z])/gi,"Bâtiment $2").replace(/\b(apt|appt|appartement)\b\.?\s*([0-9a-z])/gi,"Appartement $2").replace(/\s+/g," ").trim():"",Q9=async t=>{try{if(console.log("Tentative de géocodage avec Google Maps pour:",t),await oa.loadGoogleMapsAPI(),!window.google||!window.google.maps||!window.google.maps.Geocoder)return console.error("API de géocodage Google Maps non disponible"),null;const e=new window.google.maps.Geocoder;return await new Promise(r=>{e.geocode({address:t,region:"fr"},(o,i)=>{if(i===window.google.maps.GeocoderStatus.OK&&o&&o.length>0){const s=o[0].geometry.location,a=s.lat(),l=s.lng();if(isNaN(a)||isNaN(l)){console.warn("Coordonnées invalides pour Google Maps:",{fullAddress:t,rawData:o[0],latitude:a,longitude:l}),r(null);return}if(a<41||a>51||l<-5||l>9){console.warn("Coordonnées hors de la zone France pour Google Maps:",{fullAddress:t,latitude:a,longitude:l}),r(null);return}console.log("Géocodage réussi avec Google Maps pour:",{fullAddress:t,latitude:a,longitude:l,precision:o[0].types?o[0].types[0]:"inconnu"}),r({latitude:a,longitude:l})}else console.log(`Géocodage échoué avec Google Maps pour: ${t}, status: ${i}`),r(null)})})}catch(e){return console.error("Erreur lors du géocodage avec Google Maps:",e),null}},Dre=async(t,e,n,r)=>{try{const o=$Ye(e),i=n==null?void 0:n.trim(),s=r==null?void 0:r.trim();if(!DYe(o,i,s))return console.warn("Géocodage impossible - Données d'adresse invalides:",{name:t,address:o,city:i,postalCode:s}),null;const a=[o,i,s,"France"].filter(d=>d&&typeof d=="string"&&d.trim()!==""),l=a.join(", ");console.log("Détails du géocodage:",{originalAddress:e,cleanedAddress:o,originalCity:n,cleanedCity:i,originalPostalCode:r,cleanedPostalCode:s,fullAddress:l,addressParts:a});const c=l.toLowerCase();if(tm[c]!==void 0){console.log("Utilisation du cache pour:",l);const d=tm[c];return d&&{...d,fromCache:!0}}let u=await Q9(l);if(!u){console.log("Tentative avec adresse simplifiée...");const d=[i,s,"France"].filter(m=>m&&typeof m=="string"&&m.trim()!=="").join(", ");console.log("Adresse simplifiée:",d);const f=d.toLowerCase();tm[f]!==void 0?(console.log("Utilisation du cache pour adresse simplifiée:",d),u=tm[f]):(u=await Q9(d),u&&(tm[f]=u))}return u?tm[c]=u:console.warn("Géocodage impossible pour le site:",{name:t,fullAddress:l,address:o,city:i,postalCode:s}),u}catch(o){return console.error("Erreur lors du géocodage:",o),null}},MYe=async()=>{try{await gpe(mt),console.log("Réseau temporairement désactivé pour configuration"),await mpe(mt),console.log("Réseau réactivé avec optimisations de performance")}catch(t){console.error("Erreur lors de l'optimisation de Firestore:",t)}};MYe();const OYe=["Laboratoire","Clinique","Plateau technique","Point de collecte","Etablissement de santé","Ehpad","Vétérinaire"],J9=[{id:"pole",label:"Pôle",visible:!0,width:"80px"},{id:"type",label:"Type",visible:!0,width:"150px"},{id:"nom",label:"Nom",visible:!0,width:"180px"},{id:"adresse",label:"Adresse",visible:!0,width:"180px"},{id:"complementAdresse",label:"Complément",visible:!0,width:"120px"},{id:"ville",label:"Ville",visible:!0,width:"100px"},{id:"codePostal",label:"Code Postal",visible:!0,width:"100px"},{id:"tournees",label:"Tournées",visible:!0,width:"120px"},{id:"horairesLV",label:"Horaires L-V",visible:!0,width:"120px"},{id:"horairesSamedi",label:"Horaires Samedi",visible:!0,width:"120px"},{id:"codeBarres",label:"Code-Barre",visible:!0,width:"100px"},{id:"latitude",label:"Latitude",visible:!0,width:"90px"},{id:"longitude",label:"Longitude",visible:!0,width:"90px"},{id:"statut",label:"Statut",visible:!0,width:"80px"}],AYe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(!0),[o,i]=h.useState(null),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState([]),[f,m]=h.useState({}),[g,v]=h.useState(!1),[y,b]=h.useState([]),[x,w]=h.useState(""),[C,E]=h.useState([]),[_,S]=h.useState(""),[T,I]=h.useState(1),[P,M]=h.useState(20),[R,k]=h.useState(!1),D=[20,30,50,100,"Tous"],[A,N]=h.useState(!1),[O,j]=h.useState(()=>{try{const se=localStorage.getItem("sitesColumns");if(se)return JSON.parse(se)}catch(se){console.error("Erreur lors du chargement des colonnes:",se)}return J9}),L=h.useRef(null),[z,V]=h.useState(null),{poles:W}=Rv(),[Y,U]=h.useState([]),q=se=>{if(!se)return"";const ae=W.find(Ee=>Ee.id===se);return ae?ae.nom:se},K=()=>{k(!1)};h.useEffect(()=>(R?document.addEventListener("click",K):document.removeEventListener("click",K),()=>{document.removeEventListener("click",K)}),[R]),h.useEffect(()=>{pe()},[]),h.useEffect(()=>{g?d(t.map(se=>se.id)):u.length===t.length&&d([])},[g]),h.useEffect(()=>{E(t)},[t]),h.useEffect(()=>{if(!x.trim()&&!_){E(t);return}let se=t;if(_&&(se=se.filter(ae=>ae.pole===_)),x.trim()){const ae=x.toLowerCase().trim();se=se.filter(Ee=>(Ee.nom||"").toLowerCase().includes(ae)||(Ee.adresse||"").toLowerCase().includes(ae)||(Ee.ville||"").toLowerCase().includes(ae)||(Ee.codePostal||"").toLowerCase().includes(ae)||(Ee.telephone||"").toLowerCase().includes(ae)||(Ee.email||"").toLowerCase().includes(ae)||(Ee.type||"").toLowerCase().includes(ae)||(Ee.statut||"").toLowerCase().includes(ae)||(Ee.codeBarres||"").toLowerCase().includes(ae))}E(se)},[x,t,_]);const J=h.useMemo(()=>{const se=C;if(P===Number.MAX_SAFE_INTEGER)return se;const ae=(T-1)*P,Ee=Math.min(ae+P,se.length);if(l&&y.length>0){const Le=Math.min(ae,se.length),ze=Math.max(0,P-y.length),We=Math.min(Le+ze,se.length);return se.slice(Le,We)}return se.slice(ae,Ee)},[C,T,P,l,y.length]),X=Math.ceil(C.length/P),ue=se=>{I(se)},_e=se=>{M(se==="Tous"?Number.MAX_SAFE_INTEGER:Number(se)),I(1)},Ce=()=>p.jsxs("div",{className:"pagination-container",children:[p.jsxs("div",{className:"items-per-page",children:[p.jsx("label",{children:"Éléments par page : "}),p.jsx("select",{value:P===Number.MAX_SAFE_INTEGER?"Tous":P,onChange:se=>_e(se.target.value),title:"Nombre d'éléments par page","aria-label":"Nombre d'éléments par page",children:D.map(se=>p.jsx("option",{value:se,children:se},se))})]}),p.jsxs("div",{className:"pagination-controls",children:[p.jsx("button",{onClick:()=>ue(T-1),disabled:T===1||P===Number.MAX_SAFE_INTEGER,children:"Précédent"}),p.jsx("span",{className:"page-info",children:P===Number.MAX_SAFE_INTEGER?"Tous les éléments affichés":`Page ${T} sur ${X}`}),p.jsx("button",{onClick:()=>ue(T+1),disabled:T===X||P===Number.MAX_SAFE_INTEGER,children:"Suivant"})]}),p.jsxs("div",{className:"total-results",children:["Total : ",C.length," résultat(s)"]})]}),pe=async()=>{try{r(!0),i(null),a("Chargement des sites..."),console.log("Récupération des sites depuis Firestore avec optimisations");const se=Ht(mt,"sites"),ae=250;let Ee=null,Le=[],ze=!0,We=0;for(;ze;){let Ze;Ee?Ze=wn(se,w_("nom"),Spe(Ee),N0(ae)):Ze=wn(se,w_("nom"),N0(ae));const dt=await Tpe(Ze);if(dt.empty){ze=!1;break}const de=dt.docs.map(je=>{const Ve=je.data();return{id:je.id,...Ve}});Le=[...Le,...de],We+=de.length,(We%250===0||dt.docs.length<ae)&&a(`Chargement des sites... ${We} chargés`),Ee=dt.docs[dt.docs.length-1],dt.docs.length<ae&&(ze=!1)}console.log(`${Le.length} sites chargés depuis Firestore`),e(Le),setTimeout(()=>{a(null)},1e3),r(!1)}catch(se){console.error("Erreur lors de la récupération des sites:",se),i("Erreur lors de la récupération des données"),e([]),a(null),r(!1)}},ge=async()=>{try{if(r(!0),a("Géocodage en cours..."),u.length===0){alert("Veuillez sélectionner au moins un site à géocoder"),r(!1),a(null);return}console.log(`Géocodage de ${u.length} sites...`);let se=0,ae=0,Ee=0;const Le={...f};let ze=0;for(const We of u){ze++,a(`Géocodage en cours (${ze}/${u.length})...`);const Ze=f[We];if(Ze){console.log(`Géocodage du site: ${Ze.nom||"Sans nom"}`);const dt=await Dre(Ze.nom||"",Ze.adresse||"",Ze.ville||"",Ze.codePostal||"");if(dt){dt.fromCache&&(console.log(`Résultat récupéré depuis le cache pour "${Ze.nom}"`),Ee++);const de={...Ze,latitude:dt.latitude,longitude:dt.longitude};Le[We]=de,se++,console.log(`Géocodage réussi pour "${Ze.nom}": Lat=${dt.latitude}, Lon=${dt.longitude}`)}else ae++,console.warn(`Échec du géocodage pour le site: ${Ze.nom||"Sans nom"}`)}else ae++,console.warn(`Site non trouvé pour l'ID: ${We}`);ze<u.length&&await new Promise(dt=>setTimeout(dt,500))}if(m(Le),a(`Géocodage terminé : ${se} réussis (dont ${Ee} depuis le cache), ${ae} échoués. Enregistrement en cours...`),se>0){console.log("Enregistrement automatique après géocodage...");const We={};for(let je=0;je<u.length;je++)We[u[je]]=!0;let Ze=0,dt=0;for(let je=0;je<u.length;je++){const Ve=u[je],tt=Le[Ve];if(!tt){console.log(`Site ${Ve} non trouvé dans editingSites, ignoré`);continue}try{const Be=String(Ve);console.log(`Sauvegarde des coordonnées pour le site ${Be} (${tt.nom})...`);const lt=un(mt,"sites",Be),st=await si(lt),{id:pt,...Ct}=tt;st.exists()?(await Yo(lt,Ct),console.log(`Coordonnées du site ${Be} (${tt.nom}) enregistrées avec succès`),Ze++):(console.log(`Le site ${Be} n'existe pas, création avec coordonnées...`),await jb(lt,Ct),console.log(`Site ${Be} créé avec coordonnées`),Ze++)}catch(Be){console.error(`Erreur lors de la sauvegarde des coordonnées du site ${Ve}:`,Be),dt++}}const de=[];for(let je=0;je<t.length;je++){const Ve=t[je],tt=Ve.id;We[tt]&&Le[tt]?de.push({...Le[tt]}):de.push(Ve)}e(de),E(de),a(`Géocodage et enregistrement terminés : ${se} sites géocodés, ${Ze} sites enregistrés, ${dt} erreurs`)}setTimeout(()=>{a(null)},5e3)}catch(se){console.error("Erreur lors du géocodage:",se),a(`Erreur lors du géocodage: ${se}`),setTimeout(()=>{a(null)},5e3)}finally{r(!1)}},F=()=>{if(l)d([]),m({}),v(!1),b([]),pe();else{const se={};C.forEach(ae=>{se[ae.id]={...ae}}),m(se)}c(!l),w(""),S("")},ce=async()=>{if(u.length===0&&y.length===0){alert("Veuillez sélectionner au moins un site à enregistrer ou créer un nouveau site");return}try{r(!0),i(null),console.log("Début de la sauvegarde..."),console.log("Sites sélectionnés:",u),console.log("Nouveaux sites à créer:",y.length);const se={};for(let We=0;We<u.length;We++)se[u[We]]=!0;let ae=0,Ee=0,Le=0;for(let We=0;We<u.length;We++){const Ze=u[We],dt=f[Ze];if(!dt){console.log(`Site ${Ze} non trouvé dans editingSites, ignoré`);continue}try{const de=String(Ze);console.log(`Conversion de l'ID ${Ze} (${typeof Ze}) en chaîne: ${de} (${typeof de})`);const je=un(mt,"sites",de),Ve=await si(je),{id:tt,...Be}=dt;Ve.exists()?(console.log(`Mise à jour du site ${de}...`),await Yo(je,Be),console.log(`Site ${de} mis à jour avec succès`)):(console.log(`Le site ${de} n'existe pas, création...`),await jb(je,Be),console.log(`Site ${de} créé avec succès`)),ae++}catch(de){console.error(`Erreur lors de la mise à jour du site ${Ze}:`,de),Ee++}}for(let We=0;We<y.length;We++){const Ze=y[We];if(!Ze.nom||Ze.nom.trim()===""){console.log(`Nouveau site #${We+1} sans nom, ignoré`);continue}try{const{id:dt,...de}=Ze;console.log(`Ajout du nouveau site "${Ze.nom}"...`);const je=Ht(mt,"sites"),Ve=await os(je,de);console.log(`Nouveau site "${Ze.nom}" ajouté avec l'ID: ${Ve.id}`);const tt={id:Ve.id,...de};t.push(tt),Le++,ae++}catch(dt){console.error(`Erreur lors de l'ajout du nouveau site "${Ze.nom}":`,dt),Ee++}}console.log(`Sauvegarde terminée: ${ae} succès (dont ${Le} nouveaux sites), ${Ee} erreurs`);const ze=[];for(let We=0;We<t.length;We++){const Ze=t[We],dt=Ze.id;se[dt]&&f[dt]?ze.push({...f[dt]}):ze.push(Ze)}e(ze),E(ze),alert(`${ae} sites mis à jour avec succès${Le>0?`, ${Le} nouveaux sites ajoutés`:""}${Ee>0?`, ${Ee} erreurs`:""}`),c(!1),d([]),m({}),b([]),v(!1)}catch(se){console.error("Erreur globale lors de la sauvegarde:",se),alert("Une erreur est survenue lors de la sauvegarde")}finally{r(!1),a(null)}},le=async()=>{if(u.length!==0)try{r(!0),i(null),console.log(`Tentative de suppression de ${u.length} sites:`,u);const se=t.filter(Ee=>u.includes(Ee.id));if(console.log("Sites à supprimer (détails complets):",se),se.length===0){console.warn("Aucun site trouvé pour les IDs sélectionnés"),r(!1);return}const ae=se.find(Ee=>Ee.nom==="SITE 000 TEST"||Ee.nom.includes("TEST")||Ee.nom.includes("Périphérique")||Ee.pole==="Périphérique");ae&&(console.log("Site TEST/Périphérique trouvé pour suppression:",ae),await Z());for(const Ee of se)try{if(Ee.nom.includes("TEST")||Ee.nom.includes("Périphérique")||Ee.pole==="Périphérique"){console.log(`Site ${Ee.nom} traité séparément, ignoré dans la boucle principale`);continue}console.log("Traitement de la suppression pour le site:",Ee);const Le=String(Ee.id);console.log(`Conversion de l'ID ${Ee.id} (${typeof Ee.id}) en chaîne: ${Le} (${typeof Le})`);const ze=un(mt,"sites",Le);if((await si(ze)).exists())console.log(`Site ${Le} (${Ee.nom}) trouvé dans Firestore, suppression...`),await Go(ze),console.log(`Site ${Le} (${Ee.nom}) supprimé avec succès`);else{console.warn(`Site ${Le} (${Ee.nom}) non trouvé dans Firestore avec cet ID`),console.log(`Recherche du site "${Ee.nom}" par nom dans Firestore...`);const Ze=Ht(mt,"sites"),dt=wn(Ze,Dr("nom","==",Ee.nom)),de=await Jt(dt);if(de.empty){console.warn(`Aucun site trouvé avec le nom "${Ee.nom}" dans Firestore`);continue}let je=0;for(const Ve of de.docs){const tt=Ve.id;console.log(`Site trouvé avec l'ID Firestore: ${tt}, suppression...`),await Go(Ve.ref),console.log(`Site "${Ee.nom}" (ID Firestore: ${tt}) supprimé avec succès`),je++}console.log(`${je} document(s) supprimé(s) pour le site "${Ee.nom}"`)}}catch(Le){console.error(`Erreur lors de la suppression du site "${Ee.nom}":`,Le)}console.log("Rechargement des sites depuis Firestore..."),await pe(),c(!1),d([]),m({}),v(!1)}catch(se){console.error("Erreur lors de la suppression:",se)}finally{r(!1),a(null)}},Z=async()=>{try{console.log("Recherche spécifique du site problématique 'Périphérique TEST'...");const se=Ht(mt,"sites");console.log("Recherche par pole 'Périphérique'...");const ae=wn(se,Dr("pole","==","Périphérique")),Ee=await Jt(ae);if(Ee.empty)console.log("Aucun site avec pole 'Périphérique' trouvé");else{console.log(`${Ee.size} sites avec pole 'Périphérique' trouvés`);for(const Ve of Ee.docs){const tt=Ve.data();console.log(`Site trouvé: ID=${Ve.id}, Nom=${tt.nom}, Pole=${tt.pole}`),tt.nom&&(tt.nom.includes("TEST")||tt.nom==="SITE 000 TEST")&&(console.log(`Suppression du site problématique: ${Ve.id} (${tt.nom})`),await Go(Ve.ref),console.log(`Site problématique ${Ve.id} (${tt.nom}) supprimé avec succès`))}}console.log("Recherche par nom contenant 'TEST'...");const Le=wn(se,Dr("nom",">=","TEST"),Dr("nom","<=","TEST")),ze=await Jt(Le);if(ze.empty)console.log("Aucun site avec 'TEST' dans le nom trouvé");else{console.log(`${ze.size} sites contenant 'TEST' dans le nom trouvés`);for(const Ve of ze.docs){const tt=Ve.data();console.log(`Site TEST trouvé: ID=${Ve.id}, Nom=${tt.nom}`),console.log(`Suppression du site TEST: ${Ve.id} (${tt.nom})`),await Go(Ve.ref),console.log(`Site TEST ${Ve.id} (${tt.nom}) supprimé avec succès`)}}console.log("Recherche par nom exact 'SITE 000 TEST'...");const We=wn(se,Dr("nom","==","SITE 000 TEST")),Ze=await Jt(We);if(Ze.empty)console.log("Aucun site avec nom exact 'SITE 000 TEST' trouvé");else{console.log(`${Ze.size} sites avec nom exact 'SITE 000 TEST' trouvés`);for(const Ve of Ze.docs)console.log(`Suppression du site exact: ${Ve.id} (SITE 000 TEST)`),await Go(Ve.ref),console.log(`Site exact ${Ve.id} (SITE 000 TEST) supprimé avec succès`)}console.log("Recherche manuelle de tous les sites...");const dt=wn(se,N0(1e3)),de=await Jt(dt);let je=!1;for(const Ve of de.docs){const tt=Ve.data();(tt.pole==="Périphérique"||tt.pole==="TEST")&&tt.nom&&(tt.nom.includes("TEST")||tt.nom==="SITE 000 TEST")&&(je=!0,console.log(`Site problématique trouvé par recherche manuelle: ID=${Ve.id}, Nom=${tt.nom}, Pole=${tt.pole}`),console.log(`Suppression du site problématique: ${Ve.id}`),await Go(Ve.ref),console.log(`Site problématique ${Ve.id} supprimé avec succès`))}return je||console.log("Aucun site problématique trouvé par recherche manuelle"),!0}catch(se){return console.error("Erreur lors de la suppression spécifique du site problématique:",se),!1}},Q=(se,ae,Ee)=>{m(Le=>{const ze=Le[se]||t.find(We=>We.id===se)||{};return{...Le,[se]:{...ze,[ae]:Ee}}})},ye=()=>{l||c(!0);const se={id:`temp-${Date.now()}`,nom:"",pole:"",type:"",adresse:"",ville:"",codePostal:"",telephone:"",email:"",codeBarres:"",tournees:[],codesPorte:"",coordonnees:"",statut:"actif"};b(ae=>[se,...ae]),I(1),setTimeout(()=>{const ae=document.querySelector(".sites-table-container .new-site-row input");ae&&ae.focus()},100)},fe=(se,ae,Ee)=>{b(Le=>{const ze=[...Le];return ze[se]={...ze[se],[ae]:Ee},ze})},ie=se=>{S(se)},re=()=>{N(!0)},ve=()=>{try{localStorage.setItem("sitesColumns",JSON.stringify(O))}catch(se){console.error("Erreur lors de la sauvegarde des colonnes:",se)}N(!1)},ee=se=>{j(ae=>{const Ee=ae.map(Le=>Le.id===se?{...Le,visible:!Le.visible}:Le);try{localStorage.setItem("sitesColumns",JSON.stringify(Ee))}catch(Le){console.error("Erreur lors de la sauvegarde des colonnes:",Le)}return Ee})},he=()=>{const se=J9.map(ae=>({...ae}));j(se);try{localStorage.setItem("sitesColumns",JSON.stringify(se))}catch(ae){console.error("Erreur lors de la sauvegarde des colonnes:",ae)}},we=se=>{j(ae=>{const Ee=ae.map(Le=>({...Le,visible:se}));try{localStorage.setItem("sitesColumns",JSON.stringify(Ee))}catch(Le){console.error("Erreur lors de la sauvegarde des colonnes:",Le)}return Ee})},me=(se,ae)=>{if(!L.current)return;const Ee=L.current.querySelectorAll("thead th");if(ae>=Ee.length)return;const ze=Ee[ae].getBoundingClientRect().width;V({index:ae,startX:se.clientX,startWidth:ze}),se.currentTarget.classList.add("active"),L.current&&L.current.classList.add("resizing"),document.addEventListener("mousemove",ke),document.addEventListener("mouseup",Ie),se.preventDefault(),se.stopPropagation()},ke=h.useCallback(se=>{if(!z||!L.current)return;const Ee=L.current.querySelectorAll("thead th")[z.index],Le=se.clientX-z.startX,ze=Math.max(50,z.startWidth+Le);Ee.style.width=`${ze}px`},[z]),Ie=h.useCallback(()=>{if(!z||!L.current)return;document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",Ie);const se=L.current.querySelectorAll(".column-resizer")[z.index];se&&se.classList.remove("active"),L.current.classList.remove("resizing");const ae=L.current.querySelectorAll("thead th"),Ee=O.filter(ze=>ze.visible).map(ze=>ze.id),Le=O.map((ze,We)=>{if(!ze.visible)return ze;const Ze=Ee.indexOf(ze.id);if(Ze===-1||Ze>=ae.length||ze.id==="select")return ze;const de=ae[Ze].getBoundingClientRect().width;return{...ze,width:`${Math.round(de)}px`}});j(Le);try{localStorage.setItem("sitesColumns",JSON.stringify(Le))}catch(ze){console.error("Erreur lors de la sauvegarde des colonnes:",ze)}V(null)},[z,O,ke]);h.useEffect(()=>()=>{document.removeEventListener("mousemove",ke),document.removeEventListener("mouseup",Ie)},[ke,Ie]);const Re=(se,ae)=>{switch(ae){case"pole":return q(se.pole);case"latitude":case"longitude":const Ee=se[ae];return typeof Ee=="number"?Ee.toFixed(6):"-";case"tournees":return Array.isArray(se.tournees)?se.tournees.join(", "):"";case"statut":return se.statut==="inactif"?"Inactif":"Actif";default:return se[ae]||"-"}},$e=(se,ae,Ee,Le=!1)=>{var Ze;const ze=Le?se[ae]:((Ze=f[Ee])==null?void 0:Ze[ae])!==void 0?f[Ee][ae]:se[ae],We=dt=>{if(Le){const de=parseInt(Ee.split("-")[1],10);fe(de,ae,dt)}else Q(Ee,ae,dt)};switch(ae){case"pole":return p.jsx(mE,{value:ze||"",onChange:We,placeholder:"Sélectionner un pôle",showSearch:!0,allowClear:!0,title:"Pôle du site",useIdAsValue:!1});case"type":return p.jsxs("select",{value:ze||"",onChange:dt=>We(dt.target.value),className:"inline-edit-select",title:"Type de site",children:[p.jsx("option",{value:"",children:"Sélectionner un type"}),OYe.map(dt=>p.jsx("option",{value:dt,children:dt},dt))]});case"tournees":return p.jsx("input",{type:"text",value:Array.isArray(ze)?ze.join(", "):"",onChange:dt=>We(dt.target.value.split(",").map(de=>de.trim())),className:"inline-edit-input",title:"Tournées (séparées par des virgules)"});case"statut":return p.jsxs("select",{value:ze||"actif",onChange:dt=>We(dt.target.value),className:"inline-edit-select",title:"Statut du site",children:[p.jsx("option",{value:"actif",children:"Actif"}),p.jsx("option",{value:"inactif",children:"Inactif"})]});case"latitude":case"longitude":return p.jsx("input",{type:"number",step:"0.000001",value:ze||"",onChange:dt=>We(parseFloat(dt.target.value)),className:"inline-edit-input",title:ae==="latitude"?"Latitude":"Longitude"});default:return p.jsx("input",{type:"text",value:ze||"",onChange:dt=>We(dt.target.value),className:"inline-edit-input",title:ae})}},ne=se=>{l&&(u.includes(se)?d(u.filter(ae=>ae!==se)):d([...u,se]))},xe=se=>{u.includes(se)?d(u.filter(ae=>ae!==se)):d([...u,se])};return n?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Chargement des sites..."})]}):p.jsxs("div",{className:"sites-container",children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"Gestion des sites"})}),o&&p.jsx("div",{className:"error-message",children:o}),s&&p.jsx("div",{className:"geocoding-status",children:s}),p.jsxs("div",{className:"sticky-header-top",children:[p.jsx("div",{className:"action-buttons-group",children:l?p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"button button-success",onClick:ce,disabled:n,children:[p.jsx("i",{className:"fas fa-save"})," Enregistrer"]}),p.jsxs("button",{className:"button button-warning",onClick:()=>{window.confirm("Êtes-vous sûr de vouloir annuler toutes les modifications ?")&&(m({}),d([]),c(!1))},disabled:n,children:[p.jsx("i",{className:"fas fa-times"})," Annuler"]}),p.jsxs("button",{className:"button button-info",onClick:ye,disabled:n,children:[p.jsx("i",{className:"fas fa-plus"})," Ajouter"]}),p.jsxs("button",{className:"button button-danger",onClick:le,disabled:u.length===0||n,children:[p.jsx("i",{className:"fas fa-trash-alt"})," Supprimer (",u.length,")"]}),p.jsxs("button",{className:"button button-info",onClick:re,children:[p.jsx("i",{className:"fas fa-columns"})," Colonnes"]}),p.jsxs("button",{className:"button button-secondary",onClick:ge,disabled:n,children:[p.jsx("i",{className:"fas fa-map-marker-alt"})," Géocoder"]})]}):p.jsx(p.Fragment,{children:p.jsxs("button",{className:"button button-primary",onClick:F,children:[p.jsx("i",{className:"fas fa-edit"})," Modifier"]})})}),p.jsxs("div",{className:"quick-search-container",children:[p.jsx("input",{type:"text",className:"quick-search-input",placeholder:"Recherche rapide...",value:x,onChange:se=>w(se.target.value),disabled:n}),p.jsxs("select",{className:"pole-filter",value:_,onChange:se=>ie(se.target.value),disabled:n,children:[p.jsx("option",{value:"",children:"Filtrer par pôle"}),p.jsx("option",{value:"CENTRE",children:"CENTRE"}),p.jsx("option",{value:"EST",children:"EST"}),p.jsx("option",{value:"OUEST",children:"OUEST"})]})]})]}),p.jsxs("div",{className:"sites-table-container",style:{overflowX:"auto"},children:[p.jsx("div",{className:"results-info",children:p.jsxs("p",{children:[C.length," résultat(s) trouvé(s)",x?` pour la recherche "${x}"`:""]})}),p.jsxs("table",{ref:L,className:`sites-table ${z?"resizing":""}`,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[l&&p.jsx("th",{className:"select-all-column",children:p.jsx("input",{type:"checkbox",checked:g,onChange:()=>v(!g),title:g?"Désélectionner tout":"Sélectionner tout"})}),O.filter(se=>se.visible).map((se,ae)=>p.jsxs("th",{style:{width:se.width,position:"relative"},children:[se.label,p.jsx("div",{className:"column-resizer",onMouseDown:Ee=>me(Ee,ae)})]},se.id))]})}),p.jsxs("tbody",{children:[l&&y.map((se,ae)=>p.jsxs("tr",{className:"new-site-row",children:[p.jsxs("td",{className:"checkbox-cell",children:[p.jsx("input",{type:"checkbox",checked:!1,disabled:!0,style:{visibility:"hidden",width:"20px",height:"20px"}}),ae===0&&p.jsx("span",{className:"new-tag",children:"Nouveau"})]}),O.filter(Ee=>Ee.visible).map(Ee=>p.jsx("td",{style:{width:Ee.width},children:$e(se,Ee.id,`new-${ae}`,!0)},Ee.id))]},`new-${ae}`)),J.map(se=>{const ae=u.includes(se.id);return p.jsxs("tr",{className:ae?"selected-row":"",onClick:()=>l&&ne(se.id),children:[l&&p.jsx("td",{className:"checkbox-cell",children:p.jsx("input",{type:"checkbox",checked:ae,onChange:()=>xe(se.id),onClick:Ee=>Ee.stopPropagation()})}),O.filter(Ee=>Ee.visible).map(Ee=>p.jsx("td",{children:l?$e(se,Ee.id,se.id):Re(se,Ee.id)},Ee.id))]},se.id)})]})]}),Ce()]}),p.jsxs(ss,{open:A,onClose:ve,maxWidth:"sm",fullWidth:!0,children:[p.jsx(Ds,{children:p.jsx(Ne,{variant:"h6",children:"Configuration des colonnes"})}),p.jsx(ua,{}),p.jsxs(ls,{children:[p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap"},children:[p.jsx(Mt,{variant:"contained",color:"primary",onClick:()=>we(!0),size:"small",children:"Tout sélectionner"}),p.jsx(Mt,{variant:"outlined",onClick:()=>we(!1),size:"small",children:"Tout désélectionner"}),p.jsx(Mt,{variant:"outlined",onClick:he,size:"small",children:"Réinitialiser"})]}),p.jsx(cs,{children:O.map(se=>p.jsxs($s,{dense:!0,button:!0,onClick:()=>ee(se.id),className:se.visible?"column-visible":"column-hidden",children:[p.jsx(_x,{checked:se.visible,onChange:()=>ee(se.id),color:"primary"}),p.jsx(hl,{primary:se.label})]},se.id.toString()))})]}),p.jsx(ua,{}),p.jsx(as,{children:p.jsx(Mt,{onClick:ve,variant:"contained",color:"primary",children:"Fermer"})})]})]})},NYe=Ft([p.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),p.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),df=Ft(p.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),jYe=Ft([p.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),p.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),LYe=Ft(p.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),FYe=Ft(p.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),zYe=Ft(p.jsx("path",{d:"M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26"}),"Autorenew"),Vy=Ft(p.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"Backup"),$re=Ft(p.jsx("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4M11 20v-5.5H9L13 7v5.5h2z"}),"BatteryChargingFull"),BYe=Ft(p.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),Ix=Ft(p.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build"),Mre=Ft(p.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),VYe=Ft(p.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),HYe=Ft(p.jsx("path",{d:"m9.4 10.5 4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2M8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15zm11.27 0-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35z"}),"Camera"),Z9=Ft(p.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),np=Ft(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),WYe=Ft(p.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload"),UYe=Ft(p.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),qYe=Ft(p.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),rp=Ft(p.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Ca=Ft(p.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Wc=Ft(p.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 11l1.5-4.5h11L19 11z"}),"DirectionsCar"),eW=Ft(p.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),KYe=Ft(p.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator"),Yv=Ft(p.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),nb=Ft(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Ore=Ft(p.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),GYe=Ft(p.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),UL=Ft(p.jsx("path",{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5z"}),"HealthAndSafety"),YYe=Ft(p.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),XYe=Ft(p.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),QYe=Ft(p.jsx("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77M12 10H6V5h6zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"LocalGasStation"),JYe=Ft(p.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),ZYe=Ft(p.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}),"Map"),eXe=Ft(p.jsx("path",{d:"M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M10 4h4v2h-4zm6 11h-3v3h-2v-3H8v-2h3v-3h2v3h3z"}),"MedicalServices"),tXe=Ft(p.jsx("path",{d:"M20 13c.55 0 1-.45 1-1s-.45-1-1-1h-1V5h1c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1h1v6H4c-.55 0-1 .45-1 1s.45 1 1 1h1v6H4c-.55 0-1 .45-1 1s.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1h-1v-6zm-8 3c-1.66 0-3-1.32-3-2.95 0-1.3.52-1.67 3-4.55 2.47 2.86 3 3.24 3 4.55 0 1.63-1.34 2.95-3 2.95"}),"OilBarrel"),nXe=Ft(p.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),rXe=Ft(p.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),PE=Ft(p.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),qL=Ft(p.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),oXe=Ft(p.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed"),iXe=Ft(p.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),sXe=Ft(p.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"}),"Straighten"),aXe=Ft(p.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync"),Are=Ft(p.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),Nre=Ft([p.jsx("path",{d:"M18 7c0 .55.45 1 1 1 .28 0 .53-.11.71-.29.4-.4 1.04-2.46 1.04-2.46s-2.06.64-2.46 1.04c-.18.18-.29.43-.29.71"},"0"),p.jsx("path",{d:"M19 2c-2.76 0-5 2.24-5 5 0 2.05 1.23 3.81 3 4.58V13h1v5c0 .55-.45 1-1 1s-1-.45-1-1v-2c0-1.65-1.35-3-3-3-.35 0-.69.06-1 .17V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-.55.45-1 1-1s1 .45 1 1v2c0 1.65 1.35 3 3 3s3-1.35 3-3v-5h1v-1.42c1.77-.77 3-2.53 3-4.58 0-2.76-2.24-5-5-5M6 19.5l-2-2v-2.83l2 2zm0-5-2-2V9.67l2 2zm0-5-2-2V4.67l2 2zm4 8-2 2v-2.83l2-2zm0-5-2 2v-2.83l2-2zm0-5-2 2V6.67l2-2zm9 2.5c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3"},"1")],"TireRepair"),RE=Ft(p.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),ff=Ft(p.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),lXe=Ft(p.jsx("path",{d:"M18.5 8C19.88 8 21 6.88 21 5.5 21 3.83 18.5 1 18.5 1S16 3.83 16 5.5C16 6.88 17.12 8 18.5 8m-5 1c.83 0 1.5-.67 1.5-1.5 0-.84-1.5-2.5-1.5-2.5S12 6.66 12 7.5c0 .83.67 1.5 1.5 1.5M9.12 5l-7.18 6.79c-.6.56-.94 1.35-.94 2.18V20c0 1.66 1.34 3 3 3h13.75c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25H12v-1h7.75c.69 0 1.25-.56 1.25-1.25S20.44 17 19.75 17H12v-1h8.75c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25H12v-1h6.75c.69 0 1.25-.56 1.25-1.25S19.44 10 18.75 10H8.86c.64-1.11 1.48-2.58 1.49-2.61.09-.16.14-.33.14-.53 0-.26-.09-.5-.26-.7C10.22 6.12 9.12 5 9.12 5"}),"Wash"),jre=qe.oneOfType([qe.func,qe.object]);function fk(t){return t&&t.ownerDocument||document}function cXe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const cv=typeof window<"u"?h.useLayoutEffect:h.useEffect;let tW=0;function uXe(t){const[e,n]=h.useState(t),r=e;return h.useEffect(()=>{e==null&&(tW+=1,n(`mui-${tW}`))},[e]),r}const nW=mc.useId;function KL(t){return nW!==void 0?nW():uXe(t)}function Px({controlled:t,default:e,name:n,state:r="value"}){const{current:o}=h.useRef(t!==void 0),[i,s]=h.useState(e),a=o?t:i,l=h.useCallback(c=>{o||s(c)},[]);return[a,l]}function Mn(t){const e=h.useRef(t);return cv(()=>{e.current=t}),h.useRef((...n)=>(0,e.current)(...n)).current}function op(...t){return h.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{cXe(n,e)})},t)}function gs(t,e,n=void 0){const r={};return Object.keys(t).forEach(o=>{r[o]=t[o].reduce((i,s)=>{if(s){const a=e(s);a!==""&&i.push(a),n&&n[s]&&i.push(n[s])}return i},[]).join(" ")}),r}const rW=t=>t,dXe=()=>{let t=rW;return{configure(e){t=e},generate(e){return t(e)},reset(){t=rW}}},fXe=dXe(),hXe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ls(t,e,n="Mui"){const r=hXe[e];return r?`${n}-${r}`:`${fXe.generate(t)}-${e}`}function ma(t,e,n="Mui"){const r={};return e.forEach(o=>{r[o]=Ls(t,o,n)}),r}const pXe=["localeText"],nO=h.createContext(null),NI=function(e){var n;const{localeText:r}=e,o=ct(e,pXe),{utils:i,localeText:s}=(n=h.useContext(nO))!=null?n:{utils:void 0,localeText:void 0},a=di({props:o,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:c,dateFormats:u,dateLibInstance:d,adapterLocale:f,localeText:m}=a,g=h.useMemo(()=>B({},m,s,r),[m,s,r]),v=h.useMemo(()=>{if(!c)return i||null;const x=new c({locale:f,formats:u,instance:d});if(!x.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return x},[c,f,u,d,i]),y=h.useMemo(()=>v?{minDate:v.date("1900-01-01T00:00:00.000"),maxDate:v.date("2099-12-31T00:00:00.000")}:null,[v]),b=h.useMemo(()=>({utils:v,defaultDates:y,localeText:g}),[y,v,g]);return p.jsx(nO.Provider,{value:b,children:l})},mXe=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:B({},t)}}}}),Lre={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n)=>`Select ${t}. ${e===null?"No time selected":`Selected time is ${n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose date, selected date is ${e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e)=>t!==null&&e.isValid(t)?`Choose time, selected time is ${e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},gXe=Lre;mXe(Lre);const Fw=()=>{const t=h.useContext(nO);if(t===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=h.useMemo(()=>B({},gXe,t.localeText),[t.localeText]);return h.useMemo(()=>B({},t,{localeText:e}),[t,e])},fi=()=>Fw().utils,kc=()=>Fw().localeText,GL=t=>{const e=fi(),n=h.useRef();return n.current===void 0&&(n.current=e.dateWithTimezone(void 0,t)),n.current};function vXe(t){return typeof t=="string"}function yXe(t,e,n){return t===void 0||vXe(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function bXe(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function YL(t,e,n){return typeof t=="function"?t(e,n):t}function xXe(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function wXe(...t){return h.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{xXe(n,e)})},t)}function oW(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function SXe(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=t;if(!e){const m=it(n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),g={...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},v={...n,...o,...r};return m.length>0&&(v.className=m),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const s=bXe({...o,...r}),a=oW(r),l=oW(o),c=e(s),u=it(c==null?void 0:c.className,n==null?void 0:n.className,i,o==null?void 0:o.className,r==null?void 0:r.className),d={...c==null?void 0:c.style,...n==null?void 0:n.style,...o==null?void 0:o.style,...r==null?void 0:r.style},f={...c,...n,...l,...a};return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function Si(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:o=!1,...i}=t,s=o?{}:YL(n,r),{props:a,internalRef:l}=SXe({...i,externalSlotProps:s}),c=wXe(l,s==null?void 0:s.ref,(d=t.additionalProps)==null?void 0:d.ref);return yXe(e,{...a,ref:c},r)}Ft(p.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");const CXe=Ft(p.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),_Xe=Ft(p.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight");Ft(p.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");const EXe=Ft(p.jsxs(h.Fragment,{children:[p.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),p.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Ft(p.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Ft(p.jsxs(h.Fragment,{children:[p.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),p.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const TXe=Ft(p.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function IXe(t){return Ls("MuiPickersArrowSwitcher",t)}ma("MuiPickersArrowSwitcher",["root","spacer","button"]);const PXe=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],RXe=["ownerState"],kXe=["ownerState"],DXe=Je("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),$Xe=Je("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),iW=Je(wr,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})(({ownerState:t})=>B({},t.hidden&&{visibility:"hidden"})),MXe=t=>{const{classes:e}=t;return gs({root:["root"],spacer:["spacer"],button:["button"]},IXe,e)},OXe=h.forwardRef(function(e,n){var r,o,i,s;const l=Xa().direction==="rtl",c=di({props:e,name:"MuiPickersArrowSwitcher"}),{children:u,className:d,slots:f,slotProps:m,isNextDisabled:g,isNextHidden:v,onGoToNext:y,nextLabel:b,isPreviousDisabled:x,isPreviousHidden:w,onGoToPrevious:C,previousLabel:E}=c,_=ct(c,PXe),S=c,T=MXe(S),I={isDisabled:g,isHidden:v,goTo:y,label:b},P={isDisabled:x,isHidden:w,goTo:C,label:E},M=(r=f==null?void 0:f.previousIconButton)!=null?r:iW,R=Si({elementType:M,externalSlotProps:m==null?void 0:m.previousIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"end",onClick:P.goTo},ownerState:B({},S,{hidden:P.isHidden}),className:T.button}),k=(o=f==null?void 0:f.nextIconButton)!=null?o:iW,D=Si({elementType:k,externalSlotProps:m==null?void 0:m.nextIconButton,additionalProps:{size:"medium",title:I.label,"aria-label":I.label,disabled:I.isDisabled,edge:"start",onClick:I.goTo},ownerState:B({},S,{hidden:I.isHidden}),className:T.button}),A=(i=f==null?void 0:f.leftArrowIcon)!=null?i:CXe,N=Si({elementType:A,externalSlotProps:m==null?void 0:m.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),O=ct(N,RXe),j=(s=f==null?void 0:f.rightArrowIcon)!=null?s:_Xe,L=Si({elementType:j,externalSlotProps:m==null?void 0:m.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),z=ct(L,kXe);return p.jsxs(DXe,B({ref:n,className:it(T.root,d),ownerState:S},_,{children:[p.jsx(M,B({},R,{children:l?p.jsx(j,B({},z)):p.jsx(A,B({},O))})),u?p.jsx(Ne,{variant:"subtitle1",component:"span",children:u}):p.jsx($Xe,{className:T.spacer,ownerState:S}),p.jsx(k,B({},D,{children:l?p.jsx(A,B({},O)):p.jsx(j,B({},z))}))]}))}),Hy=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),AXe=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const o=n??r;let i;if(t!=null)i=t;else if(o.includes(e))i=e;else if(o.length>0)i=o[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:o,openTo:i}},Fre=["hours","minutes","seconds"],Rx=t=>Fre.includes(t),NXe=t=>Fre.includes(t)||t==="meridiem",jXe=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,kx=(t,e,n)=>n&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,LXe=(t,e,n,r)=>{const o=kx(r.getHours(t),e,n);return r.setHours(t,o)},sW=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),zw=(t,e)=>(n,r)=>t?e.isAfter(n,r):sW(n,e)>sW(r,e),zre=(t,{format:e,views:n,ampm:r})=>{if(e!=null)return e;const o=t.formats;return Hy(n,["hours"])?r?`${o.hours12h} ${o.meridiem}`:o.hours24h:Hy(n,["minutes"])?o.minutes:Hy(n,["seconds"])?o.seconds:Hy(n,["minutes","seconds"])?`${o.minutes}:${o.seconds}`:Hy(n,["hours","minutes","seconds"])?r?`${o.hours12h}:${o.minutes}:${o.seconds} ${o.meridiem}`:`${o.hours24h}:${o.minutes}:${o.seconds}`:r?`${o.hours12h}:${o.minutes} ${o.meridiem}`:`${o.hours24h}:${o.minutes}`};function jI({onChange:t,onViewChange:e,openTo:n,view:r,views:o,autoFocus:i,focusedView:s,onFocusedViewChange:a}){var l,c;const u=h.useRef(n),d=h.useRef(o),f=h.useRef(o.includes(n)?n:o[0]),[m,g]=Px({name:"useViews",state:"view",controlled:r,default:f.current}),v=h.useRef(i?m:null),[y,b]=Px({name:"useViews",state:"focusedView",controlled:s,default:v.current});h.useEffect(()=>{(u.current&&u.current!==n||d.current&&d.current.some(P=>!o.includes(P)))&&(g(o.includes(n)?n:o[0]),d.current=o,u.current=n)},[n,g,m,o]);const x=o.indexOf(m),w=(l=o[x-1])!=null?l:null,C=(c=o[x+1])!=null?c:null,E=Mn((P,M)=>{b(M?P:R=>P===R?null:R),a==null||a(P,M)}),_=Mn(P=>{P!==m&&(g(P),E(P,!0),e&&e(P))}),S=Mn(()=>{C&&_(C),E(C,!0)}),T=Mn((P,M,R)=>{const k=M==="finish",D=R?o.indexOf(R)<o.length-1:!!C;t(P,k&&D?"partial":M),k&&S()}),I=Mn((P,M,R)=>{t(P,M?"partial":"finish",R),M&&(_(M),E(M,!0))});return{view:m,setView:_,focusedView:y,setFocusedView:E,nextView:C,previousView:w,defaultView:o.includes(n)?n:o[0],goToNextView:S,setValueAndGoToNextView:T,setValueAndGoToView:I}}function XL(t,e,n,r){const o=fi(),i=jXe(t,o),s=h.useCallback(a=>{const l=t==null?null:LXe(t,a,!!e,o);n(l,r??"partial")},[e,t,n,r,o]);return{meridiemMode:i,handleMeridiemChange:s}}const Bre=320,Vre=334,Hre=232,FXe=48,QL=Je("div")({overflow:"hidden",width:Bre,maxHeight:Vre,display:"flex",flexDirection:"column",margin:"0 auto"});function zXe(t){return Ls("MuiTimeClock",t)}ma("MuiTimeClock",["root","arrowSwitcher"]);const uv=220,pc=36,Dx={x:uv/2,y:uv/2},Wre={x:Dx.x,y:0},BXe=Wre.x-Dx.x,VXe=Wre.y-Dx.y,HXe=t=>t*(180/Math.PI),Ure=(t,e,n)=>{const r=e-Dx.x,o=n-Dx.y,i=Math.atan2(BXe,VXe)-Math.atan2(r,o);let s=HXe(i);s=Math.round(s/t)*t,s%=360;const a=Math.floor(s/t)||0,l=r**2+o**2,c=Math.sqrt(l);return{value:a,distance:c}},WXe=(t,e,n=1)=>{const r=n*6;let{value:o}=Ure(r,t,e);return o=o*n%60,o},UXe=(t,e,n)=>{const{value:r,distance:o}=Ure(30,t,e);let i=r||12;return n?i%=12:o<uv/2-pc&&(i+=12,i%=24),i};function qXe(t){return Ls("MuiClockPointer",t)}ma("MuiClockPointer",["root","thumb"]);const KXe=["className","hasSelected","isInner","type","viewValue"],GXe=t=>{const{classes:e}=t;return gs({root:["root"],thumb:["thumb"]},qXe,e)},YXe=Je("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>B({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},e.shouldAnimate&&{transition:t.transitions.create(["transform","height"])})),XXe=Je("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t,ownerState:e})=>B({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${pc/2}px)`,border:`${(pc-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box"},e.hasSelected&&{backgroundColor:(t.vars||t).palette.primary.main}));function QXe(t){const e=di({props:t,name:"MuiClockPointer"}),{className:n,isInner:r,type:o,viewValue:i}=e,s=ct(e,KXe),a=h.useRef(o);h.useEffect(()=>{a.current=o},[o]);const l=B({},e,{shouldAnimate:a.current!==o}),c=GXe(l),u=()=>{let f=360/(o==="hours"?12:60)*i;return o==="hours"&&i>12&&(f-=360),{height:Math.round((r?.26:.4)*uv),transform:`rotateZ(${f}deg)`}};return p.jsx(YXe,B({style:u(),className:it(n,c.root),ownerState:l},s,{children:p.jsx(XXe,{ownerState:l,className:c.thumb})}))}function JXe(t){return Ls("MuiClock",t)}ma("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]);const ZXe=(t,e)=>e==null||!t.isValid(e)?null:e,eQe=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),qre=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const o=r[r.length-1];r.push(t.addMonths(o,1))}return r},aW=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r},JL=(t,e,n)=>n==="date"?t.startOfDay(t.dateWithTimezone(void 0,e)):t.dateWithTimezone(void 0,e),Pd=(t,e)=>{const n=t.setHours(t.date(),e==="am"?2:14);return t.format(n,"meridiem")},tQe=t=>{const{classes:e}=t;return gs({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]},JXe,e)},nQe=Je("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),rQe=Je("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),oQe=Je("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({"&:focus":{outline:"none"}}),iQe=Je("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,e)=>e.squareMask})(({ownerState:t})=>B({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},t.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),sQe=Je("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,e)=>e.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),aQe=Je(wr,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,e)=>e.amButton})(({theme:t,ownerState:e})=>B({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:pc},e.meridiemMode==="am"&&{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}})),lQe=Je(wr,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,e)=>e.pmButton})(({theme:t,ownerState:e})=>B({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:pc},e.meridiemMode==="pm"&&{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}})),lW=Je(Ne,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function cQe(t){const e=di({props:t,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:o,children:i,value:s,handleMeridiemChange:a,isTimeDisabled:l,meridiemMode:c,minutesStep:u=1,onChange:d,selectedId:f,type:m,viewValue:g,disabled:v,readOnly:y,className:b}=e,x=e,w=fi(),C=kc(),E=h.useRef(!1),_=tQe(x),S=l(g,m),T=!n&&m==="hours"&&(g<1||g>12),I=(L,z)=>{v||y||l(L,m)||d(L,z)},P=(L,z)=>{let{offsetX:V,offsetY:W}=L;if(V===void 0){const U=L.target.getBoundingClientRect();V=L.changedTouches[0].clientX-U.left,W=L.changedTouches[0].clientY-U.top}const Y=m==="seconds"||m==="minutes"?WXe(V,W,u):UXe(V,W,!!n);I(Y,z)},M=L=>{E.current=!0,P(L,"shallow")},R=L=>{E.current&&(P(L,"finish"),E.current=!1)},k=L=>{L.buttons>0&&P(L.nativeEvent,"shallow")},D=L=>{E.current&&(E.current=!1),P(L.nativeEvent,"finish")},A=h.useMemo(()=>m==="hours"?!0:g%5===0,[m,g]),N=m==="minutes"?u:1,O=h.useRef(null);cv(()=>{o&&O.current.focus()},[o]);const j=L=>{if(!E.current)switch(L.key){case"Home":I(0,"partial"),L.preventDefault();break;case"End":I(m==="minutes"?59:23,"partial"),L.preventDefault();break;case"ArrowUp":I(g+N,"partial"),L.preventDefault();break;case"ArrowDown":I(g-N,"partial"),L.preventDefault();break}};return p.jsxs(nQe,{className:it(b,_.root),children:[p.jsxs(rQe,{className:_.clock,children:[p.jsx(iQe,{onTouchMove:M,onTouchEnd:R,onMouseUp:D,onMouseMove:k,ownerState:{disabled:v},className:_.squareMask}),!S&&p.jsxs(h.Fragment,{children:[p.jsx(sQe,{className:_.pin}),s!=null&&p.jsx(QXe,{type:m,viewValue:g,isInner:T,hasSelected:A})]}),p.jsx(oQe,{"aria-activedescendant":f,"aria-label":C.clockLabelText(m,s,w),ref:O,role:"listbox",onKeyDown:j,tabIndex:0,className:_.wrapper,children:i})]}),n&&r&&p.jsxs(h.Fragment,{children:[p.jsx(aQe,{onClick:y?void 0:()=>a("am"),disabled:v||c===null,ownerState:x,className:_.amButton,title:Pd(w,"am"),children:p.jsx(lW,{variant:"caption",className:_.meridiemText,children:Pd(w,"am")})}),p.jsx(lQe,{disabled:v||c===null,onClick:y?void 0:()=>a("pm"),ownerState:x,className:_.pmButton,title:Pd(w,"pm"),children:p.jsx(lW,{variant:"caption",className:_.meridiemText,children:Pd(w,"pm")})})]})]})}function uQe(t){return Ls("MuiClockNumber",t)}const hS=ma("MuiClockNumber",["root","selected","disabled"]),dQe=["className","disabled","index","inner","label","selected"],fQe=t=>{const{classes:e,selected:n,disabled:r}=t;return gs({root:["root",n&&"selected",r&&"disabled"]},uQe,e)},hQe=Je("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${hS.disabled}`]:e.disabled},{[`&.${hS.selected}`]:e.selected}]})(({theme:t,ownerState:e})=>B({height:pc,width:pc,position:"absolute",left:`calc((100% - ${pc}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${hS.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${hS.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled}},e.inner&&B({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})));function Kre(t){const e=di({props:t,name:"MuiClockNumber"}),{className:n,disabled:r,index:o,inner:i,label:s,selected:a}=e,l=ct(e,dQe),c=e,u=fQe(c),d=o%12/12*Math.PI*2-Math.PI/2,f=(uv-pc-2)/2*(i?.65:1),m=Math.round(Math.cos(d)*f),g=Math.round(Math.sin(d)*f);return p.jsx(hQe,B({className:it(n,u.root),"aria-disabled":r?!0:void 0,"aria-selected":a?!0:void 0,role:"option",style:{transform:`translate(${m}px, ${g+(uv-pc)/2}px`},ownerState:c},l,{children:s}))}const pQe=({ampm:t,value:e,getClockNumberText:n,isDisabled:r,selectedId:o,utils:i})=>{const s=e?i.getHours(e):null,a=[],l=t?1:0,c=t?12:23,u=d=>s===null?!1:t?d===12?s===12||s===0:s===d||s-12===d:s===d;for(let d=l;d<=c;d+=1){let f=d.toString();d===0&&(f="00");const m=!t&&(d===0||d>12);f=i.formatNumber(f);const g=u(d);a.push(p.jsx(Kre,{id:g?o:void 0,index:d,inner:m,selected:g,disabled:r(d),label:f,"aria-label":n(f)},d))}return a},cW=({utils:t,value:e,isDisabled:n,getClockNumberText:r,selectedId:o})=>{const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([s,a],l)=>{const c=s===e;return p.jsx(Kre,{label:a,id:c?o:void 0,index:l+1,inner:!1,disabled:n(s),selected:c,"aria-label":r(a)},s)})},ZL=({timezone:t,value:e,defaultValue:n,onChange:r,valueManager:o})=>{var i,s;const a=fi(),l=h.useRef(n),c=(i=e??l.current)!=null?i:o.emptyValue,u=h.useMemo(()=>o.getTimezone(a,c),[a,o,c]),d=Mn(v=>u==null?v:o.setTimezone(a,u,v)),f=(s=t??u)!=null?s:"default",m=h.useMemo(()=>o.setTimezone(a,f,c),[o,a,f,c]),g=Mn((v,...y)=>{const b=d(v);r==null||r(b,...y)});return{value:m,handleValueChange:g,timezone:f}},eF=({name:t,timezone:e,value:n,defaultValue:r,onChange:o,valueManager:i})=>{const[s,a]=Px({name:t,state:"value",controlled:n,default:r??i.emptyValue}),l=Mn((c,...u)=>{a(c),o==null||o(c,...u)});return ZL({timezone:e,value:s,defaultValue:void 0,onChange:l,valueManager:i})},sd={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},mQe=t=>Math.max(...t.map(e=>{var n;return(n=sd[e.type])!=null?n:1})),Wy=(t,e,n)=>{if(e===sd.year)return t.startOfYear(n);if(e===sd.month)return t.startOfMonth(n);if(e===sd.day)return t.startOfDay(n);let r=n;return e<sd.minutes&&(r=t.setMinutes(r,0)),e<sd.seconds&&(r=t.setSeconds(r,0)),e<sd.milliseconds&&(r=t.setMilliseconds(r,0)),r},gQe=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:o})=>{var i;let s=o?o():Wy(e,n,JL(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,s)&&(s=Wy(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,s)&&(s=Wy(e,n,t.maxDate));const a=zw((i=t.disableIgnoringDatePartForTimeValidation)!=null?i:!1,e);return t.minTime!=null&&a(t.minTime,s)&&(s=Wy(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:aW(e,s,t.minTime))),t.maxTime!=null&&a(s,t.maxTime)&&(s=Wy(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:aW(e,s,t.maxTime))),s},Gre=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},vQe=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},LI=(t,e,n)=>{const r=[],o=t.dateWithTimezone(void 0,e),i=t.startOfWeek(o),s=t.endOfWeek(o);let a=i;for(;t.isBefore(a,s);)r.push(a),a=t.addDays(a,1);return r.map(l=>t.formatByString(l,n))},Yre=(t,e,n,r)=>{switch(n){case"month":return qre(t,t.dateWithTimezone(void 0,e)).map(o=>t.formatByString(o,r));case"weekDay":return LI(t,e,r);case"meridiem":{const o=t.dateWithTimezone(void 0,e);return[t.startOfDay(o),t.endOfDay(o)].map(i=>t.formatByString(i,r))}default:return[]}},Xre=(t,e,n)=>{let r=e;for(r=Number(r).toString();r.length<n;)r=`0${r}`;return r},Qre=(t,e,n,r,o)=>{if(o.type==="day"&&o.contentType==="digit-with-letter"){const s=t.setDate(r.longestMonth,n);return t.formatByString(s,o.format)}const i=n.toString();return o.hasLeadingZerosInInput?Xre(t,i,o.maxLength):i},yQe=(t,e,n,r,o,i,s)=>{const a=vQe(r),l=r==="Home",c=r==="End",u=n.value===""||l||c,d=()=>{const m=o[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),g=x=>Qre(t,e,x,m,n),v=n.type==="minutes"&&s!=null&&s.minutesStep?s.minutesStep:1;let b=parseInt(n.value,10)+a*v;if(u){if(n.type==="year"&&!c&&!l)return t.formatByString(t.dateWithTimezone(void 0,e),n.format);a>0||l?b=m.minimum:b=m.maximum}return b%v!==0&&((a<0||l)&&(b+=v-(v+b)%v),(a>0||c)&&(b-=b%v)),b>m.maximum?g(m.minimum+(b-m.maximum-1)%(m.maximum-m.minimum+1)):b<m.minimum?g(m.maximum-(m.minimum-b-1)%(m.maximum-m.minimum+1)):g(b)},f=()=>{const m=Yre(t,e,n.type,n.format);if(m.length===0)return n.value;if(u)return a>0||l?m[0]:m[m.length-1];const v=(m.indexOf(n.value)+m.length+a)%m.length;return m[v]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?d():f()},tF=(t,e)=>{let n=t.value||t.placeholder;const r=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(n=Number(n).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!r&&n.length===1&&(n=`${n}‎`),e==="input-rtl"&&(n=`⁨${n}⁩`),n},Hm=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),Jre=(t,e)=>{let n=0,r=e?1:0;const o=[];for(let i=0;i<t.length;i+=1){const s=t[i],a=tF(s,e?"input-rtl":"input-ltr"),l=`${s.startSeparator}${a}${s.endSeparator}`,c=Hm(l).length,u=l.length,d=Hm(a),f=r+a.indexOf(d[0])+s.startSeparator.length,m=f+d.length;o.push(B({},s,{start:n,end:n+c,startInInput:f,endInInput:m})),n+=c,r+=u}return o},bQe=(t,e,n,r,o)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:t.formatByString(t.dateWithTimezone(void 0,e),o).length,format:o});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:o});case"day":return n.fieldDayPlaceholder({format:o});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:o});case"hours":return n.fieldHoursPlaceholder({format:o});case"minutes":return n.fieldMinutesPlaceholder({format:o});case"seconds":return n.fieldSecondsPlaceholder({format:o});case"meridiem":return n.fieldMeridiemPlaceholder({format:o});default:return o}},uW=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),Zre=(t,e,n)=>t.formatByString(t.dateWithTimezone(void 0,e),n).length===4,eoe=(t,e,n,r,o)=>{if(n!=="digit")return!1;const i=t.dateWithTimezone(void 0,e);switch(r){case"year":return Zre(t,e,o)?t.formatByString(t.setYear(i,1),o)==="0001":t.formatByString(t.setYear(i,2001),o)==="01";case"month":return t.formatByString(t.startOfYear(i),o).length>1;case"day":return t.formatByString(t.startOfMonth(i),o).length>1;case"weekDay":return t.formatByString(t.startOfWeek(i),o).length>1;case"hours":return t.formatByString(t.setHours(i,1),o).length>1;case"minutes":return t.formatByString(t.setMinutes(i,1),o).length>1;case"seconds":return t.formatByString(t.setSeconds(i,1),o).length>1;default:throw new Error("Invalid section type")}},xQe=(t,e)=>{const n=[],{start:r,end:o}=t.escapedCharacters,i=new RegExp(`(\\${r}[^\\${o}]*\\${o})+`,"g");let s=null;for(;s=i.exec(e);)n.push({start:s.index,end:i.lastIndex-1});return n},dW=(t,e,n,r,o,i,s,a)=>{let l="";const c=[],u=t.date(),d=w=>{if(w==="")return null;const C=Gre(t,w),E=eoe(t,e,C.contentType,C.type,w),_=s?E:C.contentType==="digit",S=o!=null&&t.isValid(o);let T=S?t.formatByString(o,w):"",I=null;if(_)if(E)I=T===""?t.formatByString(u,w).length:T.length;else{if(C.maxLength==null)throw new Error(`MUI: The token ${w} should have a 'maxDigitNumber' property on it's adapter`);I=C.maxLength,S&&(T=Xre(t,T,I))}return c.push(B({},C,{format:w,maxLength:I,value:T,placeholder:bQe(t,e,n,C,w),hasLeadingZeros:E,hasLeadingZerosInFormat:E,hasLeadingZerosInInput:_,startSeparator:c.length===0?l:"",endSeparator:"",modified:!1})),null};let f=10,m=r,g=t.expandFormat(r);for(;g!==m;)if(m=g,g=t.expandFormat(m),f-=1,f<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const v=g,y=xQe(t,v),b=new RegExp(`^(${Object.keys(t.formatTokenMap).sort((w,C)=>C.length-w.length).join("|")})`,"g");let x="";for(let w=0;w<v.length;w+=1){const C=y.find(I=>I.start<=w&&I.end>=w),E=v[w],_=C!=null,S=`${x}${v.slice(w)}`,T=b.test(S);!_&&E.match(/([A-Za-z]+)/)&&T?(x=S.slice(0,b.lastIndex),w+=b.lastIndex-1):_&&(C==null?void 0:C.start)===w||(C==null?void 0:C.end)===w||(d(x),x="",c.length===0?l+=E:c[c.length-1].endSeparator+=E)}return d(x),c.map(w=>{const C=E=>{let _=E;return a&&_!==null&&_.includes(" ")&&(_=`⁩${_}⁦`),i==="spacious"&&["/",".","-"].includes(_)&&(_=` ${_} `),_};return w.startSeparator=C(w.startSeparator),w.endSeparator=C(w.endSeparator),w})},wQe=(t,e)=>{const n=e.some(a=>a.type==="day"),r=[],o=[];for(let a=0;a<e.length;a+=1){const l=e[a];n&&l.type==="weekDay"||(r.push(l.format),o.push(tF(l,"non-input")))}const i=r.join(" "),s=o.join(" ");return t.parse(s,i)},SQe=(t,e)=>{const r=t.map(o=>{const i=tF(o,e?"input-rtl":"input-ltr");return`${o.startSeparator}${i}${o.endSeparator}`}).join("");return e?`⁦${r}⁩`:r},CQe=(t,e)=>{const n=t.dateWithTimezone(void 0,e),r=t.endOfYear(n),o=t.endOfDay(n),{maxDaysInMonth:i,longestMonth:s}=qre(t,n).reduce((a,l)=>{const c=t.getDaysInMonth(l);return c>a.maxDaysInMonth?{maxDaysInMonth:c,longestMonth:l}:a},{maxDaysInMonth:0,longestMonth:null});return{year:({format:a})=>({minimum:0,maximum:Zre(t,e,a)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(r)+1}),day:({currentDate:a})=>({minimum:1,maximum:a!=null&&t.isValid(a)?t.getDaysInMonth(a):i,longestMonth:s}),weekDay:({format:a,contentType:l})=>{if(l==="digit"){const c=LI(t,e,a).map(Number);return{minimum:Math.min(...c),maximum:Math.max(...c)}}return{minimum:1,maximum:7}},hours:({format:a})=>{const l=t.getHours(o);return t.formatByString(t.endOfDay(n),a)!==l.toString()?{minimum:1,maximum:Number(t.formatByString(t.startOfDay(n),a))}:{minimum:0,maximum:l}},minutes:()=>({minimum:0,maximum:t.getMinutes(o)}),seconds:()=>({minimum:0,maximum:t.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:0})}},_Qe=(t,e,n,r,o)=>{switch(n.type){case"year":return t.setYear(o,t.getYear(r));case"month":return t.setMonth(o,t.getMonth(r));case"weekDay":{const i=LI(t,e,n.format),s=t.formatByString(r,n.format),a=i.indexOf(s),c=i.indexOf(n.value)-a;return t.addDays(r,c)}case"day":return t.setDate(o,t.getDate(r));case"meridiem":{const i=t.getHours(r)<12,s=t.getHours(o);return i&&s>=12?t.addHours(o,-12):!i&&s<12?t.addHours(o,12):o}case"hours":return t.setHours(o,t.getHours(r));case"minutes":return t.setMinutes(o,t.getMinutes(r));case"seconds":return t.setSeconds(o,t.getSeconds(r));default:return o}},fW={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},hW=(t,e,n,r,o,i)=>[...r].sort((s,a)=>fW[s.type]-fW[a.type]).reduce((s,a)=>!i||a.modified?_Qe(t,e,a,n,s):s,o),EQe=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,TQe=(t,e)=>{const n={};if(!e)return t.forEach((l,c)=>{const u=c===0?null:c-1,d=c===t.length-1?null:c+1;n[c]={leftIndex:u,rightIndex:d}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},o={};let i=0,s=0,a=t.length-1;for(;a>=0;){s=t.findIndex((l,c)=>{var u;return c>=i&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),s===-1&&(s=t.length-1);for(let l=s;l>=i;l-=1)o[l]=a,r[a]=l,a-=1;i=s+1}return t.forEach((l,c)=>{const u=o[c],d=u===0?null:r[u-1],f=u===t.length-1?null:r[u+1];n[c]={leftIndex:d,rightIndex:f}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},IQe=["value","referenceDate"],Sp={emptyValue:null,getTodayValue:JL,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=ct(t,IQe);return e!=null&&r.utils.isValid(e)?e:n??gQe(r)},cleanValue:ZXe,areValuesEqual:eQe,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},PQe={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r,o)=>!t.isValid(e)&&!!n?n:Jre(o(e),r),getValueStrFromSections:SQe,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)},nF=t=>{if(t!==void 0)return Object.keys(t).reduce((e,n)=>B({},e,{[`${n.slice(0,1).toLowerCase()}${n.slice(1)}`]:t[n]}),{})},rF=({value:t,referenceDate:e,utils:n,props:r,timezone:o})=>{const i=h.useMemo(()=>Sp.getInitialReferenceValue({value:t,utils:n,props:r,referenceDate:e,granularity:sd.day,timezone:o,getTodayDate:()=>JL(n,o,"date")}),[]);return t??i},RQe=["ampm","ampmInClock","autoFocus","components","componentsProps","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],kQe=t=>{const{classes:e}=t;return gs({root:["root"],arrowSwitcher:["arrowSwitcher"]},zXe,e)},DQe=Je(QL,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),$Qe=Je(OXe,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),MQe=["hours","minutes"],OQe=h.forwardRef(function(e,n){const r=fi(),o=di({props:e,name:"MuiTimeClock"}),{ampm:i=r.is12HourCycleInCurrentLocale(),ampmInClock:s=!1,autoFocus:a,components:l,componentsProps:c,slots:u,slotProps:d,value:f,defaultValue:m,referenceDate:g,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:y,minTime:b,disableFuture:x,disablePast:w,minutesStep:C=1,shouldDisableClock:E,shouldDisableTime:_,showViewSwitcher:S,onChange:T,view:I,views:P=MQe,openTo:M,onViewChange:R,focusedView:k,onFocusedViewChange:D,className:A,disabled:N,readOnly:O,timezone:j}=o,L=ct(o,RQe),z=u??nF(l),V=d??c,{value:W,handleValueChange:Y,timezone:U}=eF({name:"TimeClock",timezone:j,value:f,defaultValue:m,onChange:T,valueManager:Sp}),q=rF({value:W,referenceDate:g,utils:r,props:o,timezone:U}),K=kc(),J=GL(U),{view:X,setView:ue,previousView:_e,nextView:Ce,setValueAndGoToNextView:pe}=jI({view:I,views:P,openTo:M,onViewChange:R,onChange:Y,focusedView:k,onFocusedViewChange:D}),{meridiemMode:ge,handleMeridiemChange:F}=XL(q,i,pe),ce=h.useCallback((fe,ie)=>{const re=zw(v,r),ve=ie==="hours"||ie==="minutes"&&P.includes("seconds"),ee=({start:we,end:me})=>!(b&&re(b,me)||y&&re(we,y)||x&&re(we,J)||w&&re(J,ve?me:we)),he=(we,me=1)=>{if(we%me!==0||E!=null&&E(we,ie))return!1;if(_)switch(ie){case"hours":return!_(r.setHours(q,we),"hours");case"minutes":return!_(r.setMinutes(q,we),"minutes");case"seconds":return!_(r.setSeconds(q,we),"seconds");default:return!1}return!0};switch(ie){case"hours":{const we=kx(fe,ge,i),me=r.setHours(q,we),ke=r.setSeconds(r.setMinutes(me,0),0),Ie=r.setSeconds(r.setMinutes(me,59),59);return!ee({start:ke,end:Ie})||!he(we)}case"minutes":{const we=r.setMinutes(q,fe),me=r.setSeconds(we,0),ke=r.setSeconds(we,59);return!ee({start:me,end:ke})||!he(fe,C)}case"seconds":{const we=r.setSeconds(q,fe);return!ee({start:we,end:we})||!he(fe)}default:throw new Error("not supported")}},[i,q,v,y,ge,b,C,E,_,r,x,w,J,P]),le=KL(),Z=h.useMemo(()=>{switch(X){case"hours":return{onChange:(ie,re)=>{const ve=kx(ie,ge,i);pe(r.setHours(q,ve),re)},viewValue:r.getHours(q),children:pQe({value:W,utils:r,ampm:i,getClockNumberText:K.hoursClockNumberText,isDisabled:ie=>N||ce(ie,"hours"),selectedId:le})};case"minutes":{const fe=r.getMinutes(q);return{viewValue:fe,onChange:(re,ve)=>{pe(r.setMinutes(q,re),ve)},children:cW({utils:r,value:fe,getClockNumberText:K.minutesClockNumberText,isDisabled:re=>N||ce(re,"minutes"),selectedId:le})}}case"seconds":{const fe=r.getSeconds(q);return{viewValue:fe,onChange:(re,ve)=>{pe(r.setSeconds(q,re),ve)},children:cW({utils:r,value:fe,getClockNumberText:K.secondsClockNumberText,isDisabled:re=>N||ce(re,"seconds"),selectedId:le})}}default:throw new Error("You must provide the type for ClockView")}},[X,r,W,i,K.hoursClockNumberText,K.minutesClockNumberText,K.secondsClockNumberText,ge,pe,q,ce,le,N]),Q=o,ye=kQe(Q);return p.jsxs(DQe,B({ref:n,className:it(ye.root,A),ownerState:Q},L,{children:[p.jsx(cQe,B({autoFocus:a??!!k,ampmInClock:s&&P.includes("hours"),value:W,type:X,ampm:i,minutesStep:C,isTimeDisabled:ce,meridiemMode:ge,handleMeridiemChange:F,selectedId:le,disabled:N,readOnly:O},Z)),S&&p.jsx($Qe,{className:ye.arrowSwitcher,slots:z,slotProps:V,onGoToPrevious:()=>ue(_e),isPreviousDisabled:!_e,previousLabel:K.openPreviousView,onGoToNext:()=>ue(Ce),isNextDisabled:!Ce,nextLabel:K.openNextView,ownerState:Q})]}))});function AQe(t){return Ls("MuiDigitalClock",t)}ma("MuiDigitalClock",["root","list","item"]);const NQe=["ampm","timeStep","autoFocus","components","componentsProps","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],jQe=t=>{const{classes:e}=t;return gs({root:["root"],list:["list"],item:["item"]},AQe,e)},LQe=Je(QL,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:t.alreadyRendered?"smooth":"auto"},maxHeight:Hre})),FQe=Je(BL,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,e)=>e.list})({padding:0}),zQe=Je(vr,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:yE(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:yE(t.palette.primary.main,t.palette.action.focusOpacity)}})),BQe=h.forwardRef(function(e,n){var r,o,i;const s=fi(),a=h.useRef(null),l=op(n,a),c=di({props:e,name:"MuiDigitalClock"}),{ampm:u=s.is12HourCycleInCurrentLocale(),timeStep:d=30,autoFocus:f,components:m,componentsProps:g,slots:v,slotProps:y,value:b,defaultValue:x,referenceDate:w,disableIgnoringDatePartForTimeValidation:C=!1,maxTime:E,minTime:_,disableFuture:S,disablePast:T,minutesStep:I=1,shouldDisableClock:P,shouldDisableTime:M,onChange:R,view:k,openTo:D,onViewChange:A,focusedView:N,onFocusedViewChange:O,className:j,disabled:L,readOnly:z,views:V=["hours"],skipDisabled:W=!1,timezone:Y}=c,U=ct(c,NQe),{value:q,handleValueChange:K,timezone:J}=eF({name:"DigitalClock",timezone:Y,value:b,defaultValue:x,onChange:R,valueManager:Sp}),X=kc(),ue=GL(J),_e=h.useMemo(()=>B({},c,{alreadyRendered:!!a.current}),[c]),Ce=jQe(_e),pe=(r=(o=v==null?void 0:v.digitalClockItem)!=null?o:m==null?void 0:m.DigitalClockItem)!=null?r:zQe,ge=Si({elementType:pe,externalSlotProps:(i=y==null?void 0:y.digitalClockItem)!=null?i:g==null?void 0:g.digitalClockItem,ownerState:{},className:Ce.item}),F=rF({value:q,referenceDate:w,utils:s,props:c,timezone:J}),ce=Mn(fe=>K(fe,"finish","hours")),{setValueAndGoToNextView:le}=jI({view:k,views:V,openTo:D,onViewChange:A,onChange:ce,focusedView:N,onFocusedViewChange:O}),Z=Mn(fe=>{le(fe,"finish")});h.useEffect(()=>{if(a.current===null)return;const fe=a.current.querySelector('[role="listbox"] [role="option"][aria-selected="true"]');if(!fe)return;const ie=fe.offsetTop;a.current.scrollTop=ie-4});const Q=h.useCallback(fe=>{const ie=zw(C,s),re=()=>!(_&&ie(_,fe)||E&&ie(fe,E)||S&&ie(fe,ue)||T&&ie(ue,fe)),ve=()=>s.getMinutes(fe)%I!==0||P!=null&&P(s.toJsDate(fe).getTime(),"hours")?!1:M?!M(fe,"hours"):!0;return!re()||!ve()},[C,s,_,E,S,ue,T,I,P,M]),ye=h.useMemo(()=>{const fe=s.startOfDay(F);return[fe,...Array.from({length:Math.ceil(24*60/d)-1},(ie,re)=>s.addMinutes(fe,d*(re+1)))]},[F,d,s]);return p.jsx(LQe,B({ref:l,className:it(Ce.root,j),ownerState:_e},U,{children:p.jsx(FQe,{autoFocusItem:f||!!N,role:"listbox","aria-label":X.timePickerToolbarTitle,className:Ce.list,children:ye.map(fe=>{if(W&&Q(fe))return null;const ie=s.isEqual(fe,q);return p.jsx(pe,B({onClick:()=>!z&&Z(fe),selected:ie,disabled:L||Q(fe),disableRipple:z,role:"option","aria-disabled":z,"aria-selected":ie},ge,{children:s.format(fe,u?"fullTime12h":"fullTime24h")}),s.toISO(fe))})})}))});function VQe(t){return Ls("MuiMultiSectionDigitalClock",t)}ma("MuiMultiSectionDigitalClock",["root"]);function HQe(t){return Ls("MuiMultiSectionDigitalClockSection",t)}ma("MuiMultiSectionDigitalClockSection",["root","item"]);const WQe=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],UQe=t=>{const{classes:e}=t;return gs({root:["root"],item:["item"]},HQe,e)},qQe=Je(BL,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>({maxHeight:Hre,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:e.alreadyRendered?"smooth":"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&:after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"}})),KQe=Je(vr,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:FXe,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:yE(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:yE(t.palette.primary.main,t.palette.action.focusOpacity)}})),GQe=h.forwardRef(function(e,n){var r;const o=h.useRef(null),i=op(n,o),s=h.useRef(null),a=di({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:l,onChange:c,className:u,disabled:d,readOnly:f,items:m,active:g,slots:v,slotProps:y,skipDisabled:b}=a,x=ct(a,WQe),w=h.useMemo(()=>B({},a,{alreadyRendered:!!o.current}),[a]),C=UQe(w),E=(r=v==null?void 0:v.digitalClockSectionItem)!=null?r:KQe;return h.useEffect(()=>{if(o.current===null)return;const _=o.current.querySelector('[role="option"][aria-selected="true"]');if(!_||s.current===_){s.current!==_&&(s.current=_);return}s.current=_,g&&l&&_.focus();const S=_.offsetTop;o.current.scrollTop=S-4}),p.jsx(qQe,B({ref:i,className:it(C.root,u),ownerState:w,autoFocusItem:l&&g,role:"listbox"},x,{children:m.map(_=>{var S,T;if(b&&(S=_.isDisabled)!=null&&S.call(_,_.value))return null;const I=_.isSelected(_.value);return p.jsx(E,B({onClick:()=>!f&&c(_.value),selected:I,disabled:d||((T=_.isDisabled)==null?void 0:T.call(_,_.value)),disableRipple:f,role:"option","aria-disabled":f,"aria-label":_.ariaLabel,"aria-selected":I,className:C.item},y==null?void 0:y.digitalClockSectionItem,{children:_.label}),_.label)})}))}),YQe=({now:t,value:e,utils:n,ampm:r,isDisabled:o,resolveAriaLabel:i,timeStep:s})=>{const a=e?n.getHours(e):null,l=[],c=d=>a===null?!1:r?d===12?a===12||a===0:a===d||a-12===d:a===d,u=r?11:23;for(let d=0;d<=u;d+=s){let f=n.format(n.setHours(t,d),r?"hours12h":"hours24h");const m=i(parseInt(f,10).toString());f=n.formatNumber(f),l.push({value:d,label:f,isSelected:c,isDisabled:o,ariaLabel:m})}return l},pW=({value:t,utils:e,isDisabled:n,timeStep:r,resolveLabel:o,resolveAriaLabel:i,hasValue:s=!0})=>{const a=l=>t===null?!1:s&&t===l;return[...Array.from({length:Math.ceil(60/r)},(l,c)=>{const u=r*c;return{value:u,label:e.formatNumber(o(u)),isDisabled:n,isSelected:a,ariaLabel:i(u.toString())}})]},XQe=["ampm","timeSteps","autoFocus","components","componentsProps","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],QQe=t=>{const{classes:e}=t;return gs({root:["root"]},VQe,e)},JQe=Je(QL,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),ZQe=h.forwardRef(function(e,n){const r=fi(),o=di({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:i=r.is12HourCycleInCurrentLocale(),timeSteps:s,autoFocus:a,components:l,componentsProps:c,slots:u,slotProps:d,value:f,defaultValue:m,referenceDate:g,disableIgnoringDatePartForTimeValidation:v=!1,maxTime:y,minTime:b,disableFuture:x,disablePast:w,minutesStep:C=1,shouldDisableClock:E,shouldDisableTime:_,onChange:S,view:T,views:I=["hours","minutes"],openTo:P,onViewChange:M,focusedView:R,onFocusedViewChange:k,className:D,disabled:A,readOnly:N,skipDisabled:O=!1,timezone:j}=o,L=ct(o,XQe),{value:z,handleValueChange:V,timezone:W}=eF({name:"MultiSectionDigitalClock",timezone:j,value:f,defaultValue:m,onChange:S,valueManager:Sp}),Y=kc(),U=GL(W),q=h.useMemo(()=>B({hours:1,minutes:5,seconds:5},s),[s]),K=rF({value:z,referenceDate:g,utils:r,props:o,timezone:W}),J=Mn((ie,re,ve)=>V(ie,re,ve)),X=h.useMemo(()=>!i||!I.includes("hours")||I.includes("meridiem")?I:[...I,"meridiem"],[i,I]),{view:ue,setValueAndGoToView:_e,focusedView:Ce}=jI({view:T,views:X,openTo:P,onViewChange:M,onChange:J,focusedView:R,onFocusedViewChange:k}),pe=Mn(ie=>{_e(ie,null,"meridiem")}),{meridiemMode:ge,handleMeridiemChange:F}=XL(K,i,pe,"finish"),ce=h.useCallback((ie,re)=>{const ve=zw(v,r),ee=re==="hours"||re==="minutes"&&X.includes("seconds"),he=({start:me,end:ke})=>!(b&&ve(b,ke)||y&&ve(me,y)||x&&ve(me,U)||w&&ve(U,ee?ke:me)),we=(me,ke=1)=>{if(me%ke!==0||E!=null&&E(me,re))return!1;if(_)switch(re){case"hours":return!_(r.setHours(K,me),"hours");case"minutes":return!_(r.setMinutes(K,me),"minutes");case"seconds":return!_(r.setSeconds(K,me),"seconds");default:return!1}return!0};switch(re){case"hours":{const me=kx(ie,ge,i),ke=r.setHours(K,me),Ie=r.setSeconds(r.setMinutes(ke,0),0),Re=r.setSeconds(r.setMinutes(ke,59),59);return!he({start:Ie,end:Re})||!we(me)}case"minutes":{const me=r.setMinutes(K,ie),ke=r.setSeconds(me,0),Ie=r.setSeconds(me,59);return!he({start:ke,end:Ie})||!we(ie,C)}case"seconds":{const me=r.setSeconds(K,ie);return!he({start:me,end:me})||!we(ie)}default:throw new Error("not supported")}},[i,K,v,y,ge,b,C,E,_,r,x,w,U,X]),le=Mn((ie,re)=>{const ve=X.indexOf(ie),ee=X[ve+1];_e(re,ee,ie)}),Z=h.useCallback(ie=>{switch(ie){case"hours":return{onChange:re=>{const ve=kx(re,ge,i);le("hours",r.setHours(K,ve))},items:YQe({now:U,value:z,ampm:i,utils:r,isDisabled:re=>A||ce(re,"hours"),timeStep:q.hours,resolveAriaLabel:Y.hoursClockNumberText})};case"minutes":return{onChange:re=>{le("minutes",r.setMinutes(K,re))},items:pW({value:r.getMinutes(K),utils:r,isDisabled:re=>A||ce(re,"minutes"),resolveLabel:re=>r.format(r.setMinutes(U,re),"minutes"),timeStep:q.minutes,hasValue:!!z,resolveAriaLabel:Y.minutesClockNumberText})};case"seconds":return{onChange:re=>{le("seconds",r.setSeconds(K,re))},items:pW({value:r.getSeconds(K),utils:r,isDisabled:re=>A||ce(re,"seconds"),resolveLabel:re=>r.format(r.setSeconds(U,re),"seconds"),timeStep:q.seconds,hasValue:!!z,resolveAriaLabel:Y.secondsClockNumberText})};case"meridiem":{const re=Pd(r,"am"),ve=Pd(r,"pm");return{onChange:F,items:[{value:"am",label:re,isSelected:()=>!!z&&ge==="am",ariaLabel:re},{value:"pm",label:ve,isSelected:()=>!!z&&ge==="pm",ariaLabel:ve}]}}default:throw new Error(`Unknown view: ${ie} found.`)}},[U,z,i,r,q.hours,q.minutes,q.seconds,Y.hoursClockNumberText,Y.minutesClockNumberText,Y.secondsClockNumberText,ge,le,K,A,ce,F]),Q=h.useMemo(()=>X.reduce((ie,re)=>B({},ie,{[re]:Z(re)}),{}),[X,Z]),ye=o,fe=QQe(ye);return p.jsx(JQe,B({ref:n,className:it(fe.root,D),ownerState:ye,role:"group"},L,{children:Object.entries(Q).map(([ie,re])=>p.jsx(GQe,{items:re.items,onChange:re.onChange,active:ue===ie,autoFocus:a??Ce===ie,disabled:A,readOnly:N,slots:u??l,slotProps:d??c,skipDisabled:O,"aria-label":Y.selectViewText(ie)},ie))}))});function toe(t,e,n,r){const{value:o,onError:i}=t,s=Fw(),a=h.useRef(r),l=e({adapter:s,value:o,props:t});return h.useEffect(()=>{i&&!n(l,a.current)&&i(l,o),a.current=l},[n,i,a,l,o]),l}const eJe=t=>{const e=fi(),n=kc(),r=Fw(),i=Xa().direction==="rtl",{valueManager:s,fieldValueManager:a,validator:l,internalProps:c,internalProps:{value:u,defaultValue:d,referenceDate:f,onChange:m,format:g,formatDensity:v="dense",selectedSections:y,onSelectedSectionsChange:b,shouldRespectLeadingZeros:x=!1,timezone:w}}=t,{timezone:C,value:E,handleValueChange:_}=ZL({timezone:w,value:u,defaultValue:d,onChange:m,valueManager:s}),S=h.useMemo(()=>CQe(e,C),[e,C]),T=h.useCallback((Y,U=null)=>a.getSectionsFromValue(e,Y,U,i,q=>dW(e,C,n,g,q,v,x,i)),[a,g,n,i,x,e,v,C]),I=h.useMemo(()=>a.getValueStrFromSections(T(s.emptyValue),i),[a,T,s.emptyValue,i]),[P,M]=h.useState(()=>{const Y=T(E),U={sections:Y,value:E,referenceValue:s.emptyValue,tempValueStrAndroid:null},q=mQe(Y),K=s.getInitialReferenceValue({referenceDate:f,value:E,utils:e,props:c,granularity:q,timezone:C});return B({},U,{referenceValue:K})}),[R,k]=Px({controlled:y,default:null,name:"useField",state:"selectedSectionIndexes"}),D=Y=>{k(Y),b==null||b(Y),M(U=>B({},U,{selectedSectionQuery:null}))},A=h.useMemo(()=>{if(R==null)return null;if(R==="all")return{startIndex:0,endIndex:P.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof R=="number")return{startIndex:R,endIndex:R};if(typeof R=="string"){const Y=P.sections.findIndex(U=>U.type===R);return{startIndex:Y,endIndex:Y}}return R},[R,P.sections]),N=({value:Y,referenceValue:U,sections:q})=>{if(M(J=>B({},J,{sections:q,value:Y,referenceValue:U,tempValueStrAndroid:null})),s.areValuesEqual(e,P.value,Y))return;const K={validationError:l({adapter:r,value:Y,props:B({},c,{value:Y,timezone:C})})};_(Y,K)},O=(Y,U)=>{const q=[...P.sections];return q[Y]=B({},q[Y],{value:U,modified:!0}),Jre(q,i)},j=()=>{N({value:s.emptyValue,referenceValue:P.referenceValue,sections:T(s.emptyValue)})},L=()=>{if(A==null)return;const Y=P.sections[A.startIndex],U=a.getActiveDateManager(e,P,Y),K=U.getSections(P.sections).filter(_e=>_e.value!=="").length===(Y.value===""?0:1),J=O(A.startIndex,""),X=K?null:e.date(new Date("")),ue=U.getNewValuesFromNewActiveDate(X);(X!=null&&!e.isValid(X))!=(U.date!=null&&!e.isValid(U.date))?N(B({},ue,{sections:J})):M(_e=>B({},_e,ue,{sections:J,tempValueStrAndroid:null}))},z=Y=>{const U=(J,X)=>{const ue=e.parse(J,g);if(ue==null||!e.isValid(ue))return null;const _e=dW(e,C,n,g,ue,v,x,i);return hW(e,C,ue,_e,X,!1)},q=a.parseValueStr(Y,P.referenceValue,U),K=a.updateReferenceValue(e,q,P.referenceValue);N({value:q,referenceValue:K,sections:T(q,P.sections)})},V=({activeSection:Y,newSectionValue:U,shouldGoToNextSection:q})=>{q&&A&&A.startIndex<P.sections.length-1?D(A.startIndex+1):A&&A.startIndex!==A.endIndex&&D(A.startIndex);const K=a.getActiveDateManager(e,P,Y),J=O(A.startIndex,U),X=K.getSections(J),ue=wQe(e,X);let _e,Ce;if(ue!=null&&e.isValid(ue)){const pe=hW(e,C,ue,X,K.referenceDate,!0);_e=K.getNewValuesFromNewActiveDate(pe),Ce=!0}else _e=K.getNewValuesFromNewActiveDate(ue),Ce=(ue!=null&&!e.isValid(ue))!=(K.date!=null&&!e.isValid(K.date));return Ce?N(B({},_e,{sections:J})):M(pe=>B({},pe,_e,{sections:J,tempValueStrAndroid:null}))},W=Y=>M(U=>B({},U,{tempValueStrAndroid:Y}));return h.useEffect(()=>{const Y=T(P.value);M(U=>B({},U,{sections:Y}))},[g,e.locale]),h.useEffect(()=>{let Y=!1;s.areValuesEqual(e,P.value,E)?Y=s.getTimezone(e,P.value)!==s.getTimezone(e,E):Y=!0,Y&&M(U=>B({},U,{value:E,referenceValue:a.updateReferenceValue(e,E,U.referenceValue),sections:T(E)}))},[E]),{state:P,selectedSectionIndexes:A,setSelectedSections:D,clearValue:j,clearActiveSection:L,updateSectionValue:V,updateValueFromValueStr:z,setTempAndroidValueStr:W,sectionsValueBoundaries:S,placeholder:I,timezone:C}},tJe=5e3,nm=t=>t.saveQuery!=null,nJe=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,setTempAndroidValueStr:r,timezone:o})=>{const i=fi(),[s,a]=h.useState(null),l=Mn(()=>a(null));h.useEffect(()=>{var m;s!=null&&((m=t[s.sectionIndex])==null?void 0:m.type)!==s.sectionType&&l()},[t,s,l]),h.useEffect(()=>{if(s!=null){const m=setTimeout(()=>l(),tJe);return()=>{window.clearTimeout(m)}}return()=>{}},[s,l]);const c=({keyPressed:m,sectionIndex:g},v,y)=>{const b=m.toLowerCase(),x=t[g];if(s!=null&&(!y||y(s.value))&&s.sectionIndex===g){const C=`${s.value}${b}`,E=v(C,x);if(!nm(E))return a({sectionIndex:g,value:C,sectionType:x.type}),E}const w=v(b,x);return nm(w)&&!w.saveQuery?(l(),null):(a({sectionIndex:g,value:b,sectionType:x.type}),nm(w)?null:w)},u=m=>{const g=(b,x,w)=>{const C=x.filter(E=>E.toLowerCase().startsWith(w));return C.length===0?{saveQuery:!1}:{sectionValue:C[0],shouldGoToNextSection:C.length===1}},v=(b,x,w,C)=>{const E=_=>Yre(i,o,x.type,_);if(x.contentType==="letter")return g(x.format,E(x.format),b);if(w&&C!=null&&Gre(i,w).contentType==="letter"){const _=E(w),S=g(w,_,b);return nm(S)?{saveQuery:!1}:B({},S,{sectionValue:C(S.sectionValue,_)})}return{saveQuery:!1}};return c(m,(b,x)=>{switch(x.type){case"month":{const w=C=>uW(i,C,i.formats.month,x.format);return v(b,x,i.formats.month,w)}case"weekDay":{const w=(C,E)=>E.indexOf(C).toString();return v(b,x,i.formats.weekday,w)}case"meridiem":return v(b,x);default:return{saveQuery:!1}}})},d=m=>{const g=(y,b)=>{const x=+`${y}`,w=n[b.type]({currentDate:null,format:b.format,contentType:b.contentType});if(x>w.maximum)return{saveQuery:!1};if(x<w.minimum)return{saveQuery:!0};const C=+`${y}0`>w.maximum||y.length===w.maximum.toString().length;return{sectionValue:Qre(i,o,x,w,b),shouldGoToNextSection:C}};return c(m,(y,b)=>{if(b.contentType==="digit"||b.contentType==="digit-with-letter")return g(y,b);if(b.type==="month"){eoe(i,o,"digit","month","MM");const x=g(y,{type:b.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(nm(x))return x;const w=uW(i,x.sectionValue,"MM",b.format);return B({},x,{sectionValue:w})}if(b.type==="weekDay"){const x=g(y,b);if(nm(x))return x;const w=LI(i,o,b.format)[Number(x.sectionValue)-1];return B({},x,{sectionValue:w})}return{saveQuery:!1}},y=>!Number.isNaN(Number(y)))};return{applyCharacterEditing:Mn(m=>{const g=t[m.sectionIndex],y=!Number.isNaN(Number(m.keyPressed))?d(m):u(m);y==null?r(null):e({activeSection:g,newSectionValue:y.sectionValue,shouldGoToNextSection:y.shouldGoToNextSection})}),resetCharacterQuery:l}};function bm(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const rJe=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation())},kE=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?kE(e.shadowRoot):e:null},oJe="@media (pointer: fine)",iJe=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],sJe=t=>{const e=fi(),{state:n,selectedSectionIndexes:r,setSelectedSections:o,clearValue:i,clearActiveSection:s,updateSectionValue:a,updateValueFromValueStr:l,setTempAndroidValueStr:c,sectionsValueBoundaries:u,placeholder:d,timezone:f}=eJe(t),{inputRef:m,internalProps:g,internalProps:{readOnly:v=!1,unstableFieldRef:y,minutesStep:b},forwardedProps:{onClick:x,onKeyDown:w,onFocus:C,onBlur:E,onMouseUp:_,onPaste:S,error:T,clearable:I,onClear:P,disabled:M},fieldValueManager:R,valueManager:k,validator:D}=t,A=ct(t.forwardedProps,iJe),{applyCharacterEditing:N,resetCharacterQuery:O}=nJe({sections:n.sections,updateSectionValue:a,sectionsValueBoundaries:u,setTempAndroidValueStr:c,timezone:f}),j=h.useRef(null),L=op(m,j),z=h.useRef(void 0),W=Xa().direction==="rtl",Y=h.useMemo(()=>TQe(n.sections,W),[n.sections,W]),U=()=>{var fe;if(v){o(null);return}const ie=(fe=j.current.selectionStart)!=null?fe:0;let re;ie<=n.sections[0].startInInput||ie>=n.sections[n.sections.length-1].endInInput?re=1:re=n.sections.findIndex(ee=>ee.startInInput-ee.startSeparator.length>ie);const ve=re===-1?n.sections.length-1:re-1;o(ve)},q=Mn((fe,...ie)=>{fe.isDefaultPrevented()||(x==null||x(fe,...ie),U())}),K=Mn(fe=>{_==null||_(fe),fe.preventDefault()}),J=Mn((...fe)=>{C==null||C(...fe);const ie=j.current;window.clearTimeout(z.current),z.current=setTimeout(()=>{!ie||ie!==j.current||r!=null||v||(ie.value.length&&Number(ie.selectionEnd)-Number(ie.selectionStart)===ie.value.length?o("all"):U())})}),X=Mn((...fe)=>{E==null||E(...fe),o(null)}),ue=Mn(fe=>{if(S==null||S(fe),v){fe.preventDefault();return}const ie=fe.clipboardData.getData("text");if(r&&r.startIndex===r.endIndex){const re=n.sections[r.startIndex],ve=/^[a-zA-Z]+$/.test(ie),ee=/^[0-9]+$/.test(ie),he=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ie);if(re.contentType==="letter"&&ve||re.contentType==="digit"&&ee||re.contentType==="digit-with-letter"&&he){O(),a({activeSection:re,newSectionValue:ie,shouldGoToNextSection:!0}),fe.preventDefault();return}if(ve||ee){fe.preventDefault();return}}fe.preventDefault(),O(),l(ie)}),_e=Mn(fe=>{if(v)return;const ie=fe.target.value;if(ie===""){O(),i();return}const re=fe.nativeEvent.data,ve=re&&re.length>1,ee=ve?re:ie,he=Hm(ee);if(r==null||ve){l(ve?re:he);return}let we;if(r.startIndex===0&&r.endIndex===n.sections.length-1&&he.length===1)we=he;else{const me=Hm(R.getValueStrFromSections(n.sections,W));let ke=-1,Ie=-1;for(let xe=0;xe<me.length;xe+=1)ke===-1&&me[xe]!==he[xe]&&(ke=xe),Ie===-1&&me[me.length-xe-1]!==he[he.length-xe-1]&&(Ie=xe);const Re=n.sections[r.startIndex];if(ke<Re.start||me.length-Ie-1>Re.end)return;const ne=he.length-me.length+Re.end-Hm(Re.endSeparator||"").length;we=he.slice(Re.start+Hm(Re.startSeparator||"").length,ne)}if(we.length===0){EQe()?c(ee):(O(),s());return}N({keyPressed:we,sectionIndex:r.startIndex})}),Ce=Mn(fe=>{switch(w==null||w(fe),!0){case(fe.key==="a"&&(fe.ctrlKey||fe.metaKey)):{fe.preventDefault(),o("all");break}case fe.key==="ArrowRight":{if(fe.preventDefault(),r==null)o(Y.startIndex);else if(r.startIndex!==r.endIndex)o(r.endIndex);else{const ie=Y.neighbors[r.startIndex].rightIndex;ie!==null&&o(ie)}break}case fe.key==="ArrowLeft":{if(fe.preventDefault(),r==null)o(Y.endIndex);else if(r.startIndex!==r.endIndex)o(r.startIndex);else{const ie=Y.neighbors[r.startIndex].leftIndex;ie!==null&&o(ie)}break}case fe.key==="Delete":{if(fe.preventDefault(),v)break;r==null||r.startIndex===0&&r.endIndex===n.sections.length-1?i():s(),O();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(fe.key):{if(fe.preventDefault(),v||r==null)break;const ie=n.sections[r.startIndex],re=R.getActiveDateManager(e,n,ie),ve=yQe(e,f,ie,fe.key,u,re.date,{minutesStep:b});a({activeSection:ie,newSectionValue:ve,shouldGoToNextSection:!1});break}}});cv(()=>{if(!j.current)return;if(r==null){j.current.scrollLeft&&(j.current.scrollLeft=0);return}const fe=n.sections[r.startIndex],ie=n.sections[r.endIndex];let re=fe.startInInput,ve=ie.endInInput;if(r.shouldSelectBoundarySelectors&&(re-=fe.startSeparator.length,ve+=ie.endSeparator.length),re!==j.current.selectionStart||ve!==j.current.selectionEnd){const ee=j.current.scrollTop;j.current===kE(document)&&j.current.setSelectionRange(re,ve),j.current.scrollTop=ee}});const pe=toe(B({},g,{value:n.value,timezone:f}),D,k.isSameError,k.defaultErrorState),ge=h.useMemo(()=>T!==void 0?T:k.hasError(pe),[k,pe,T]);h.useEffect(()=>{!ge&&!r&&O()},[n.referenceValue,r,ge]),h.useEffect(()=>(j.current&&j.current===document.activeElement&&o("all"),()=>window.clearTimeout(z.current)),[]),h.useEffect(()=>{n.tempValueStrAndroid!=null&&r!=null&&(O(),s())},[n.tempValueStrAndroid]);const F=h.useMemo(()=>{var fe;return(fe=n.tempValueStrAndroid)!=null?fe:R.getValueStrFromSections(n.sections,W)},[n.sections,R,n.tempValueStrAndroid,W]),ce=h.useMemo(()=>r==null||n.sections[r.startIndex].contentType==="letter"?"text":"numeric",[r,n.sections]),le=j.current&&j.current===kE(document),Z=k.areValuesEqual(e,n.value,k.emptyValue),Q=!le&&Z;h.useImperativeHandle(y,()=>({getSections:()=>n.sections,getActiveSectionIndex:()=>{var fe,ie;const re=(fe=j.current.selectionStart)!=null?fe:0,ve=(ie=j.current.selectionEnd)!=null?ie:0;if(re===0&&ve===0)return null;const ee=re<=n.sections[0].startInInput?1:n.sections.findIndex(he=>he.startInInput-he.startSeparator.length>re);return ee===-1?n.sections.length-1:ee-1},setSelectedSections:fe=>o(fe)}));const ye=Mn((fe,...ie)=>{var re;fe.preventDefault(),P==null||P(fe,...ie),i(),j==null||(re=j.current)==null||re.focus(),o(0)});return B({placeholder:d,autoComplete:"off",disabled:!!M},A,{value:Q?"":F,inputMode:ce,readOnly:v,onClick:q,onFocus:J,onBlur:X,onPaste:ue,onChange:_e,onKeyDown:Ce,onMouseUp:K,onClear:ye,error:ge,ref:L,clearable:!!(I&&!Z&&!v&&!M)})},aJe=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],noe=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],lJe=["minDateTime","maxDateTime"],cJe=[...aJe,...noe,...lJe],roe=t=>cJe.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{}),uJe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],dJe=(t,e)=>{const n=B({},t),r={},o=i=>{n.hasOwnProperty(i)&&(r[i]=n[i],delete n[i])};return uJe.forEach(o),noe.forEach(o),{forwardedProps:n,internalProps:r}},fJe=Je(ss)({[`& .${eb.container}`]:{outline:0},[`& .${eb.paper}`]:{outline:0,minWidth:Bre}}),hJe=Je(ls)({"&:first-of-type":{padding:0}});function pJe(t){var e,n;const{children:r,onDismiss:o,open:i,slots:s,slotProps:a}=t,l=(e=s==null?void 0:s.dialog)!=null?e:fJe,c=(n=s==null?void 0:s.mobileTransition)!=null?n:PI;return p.jsx(l,B({open:i,onClose:o},a==null?void 0:a.dialog,{TransitionComponent:c,TransitionProps:a==null?void 0:a.mobileTransition,PaperComponent:s==null?void 0:s.mobilePaper,PaperProps:a==null?void 0:a.mobilePaper,children:p.jsx(hJe,{children:r})}))}function mJe(t){return Ls("MuiPickersPopper",t)}ma("MuiPickersPopper",["root","paper"]);const gJe="@media (prefers-reduced-motion: reduce)",gg=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),mW=gg&&gg[1]?parseInt(gg[1],10):null,gW=gg&&gg[2]?parseInt(gg[2],10):null,vJe=mW&&mW<10||gW&&gW<13||!1,yJe=()=>Ane(gJe,{defaultMatches:!1})||vJe,bJe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],xJe=t=>{const{classes:e}=t;return gs({root:["root"],paper:["paper"]},mJe,e)},wJe=Je(jL,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),SJe=Je(bn,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({ownerState:t})=>B({outline:0,transformOrigin:"top center"},t.placement.includes("top")&&{transformOrigin:"bottom center"}));function CJe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function _Je(t,e){const n=h.useRef(!1),r=h.useRef(!1),o=h.useRef(null),i=h.useRef(!1);h.useEffect(()=>{if(!t)return;function l(){i.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),i.current=!1}},[t]);const s=Mn(l=>{if(!i.current)return;const c=r.current;r.current=!1;const u=fk(o.current);if(!o.current||"clientX"in l&&CJe(l,u))return;if(n.current){n.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(o.current)>-1:d=!u.documentElement.contains(l.target)||o.current.contains(l.target),!d&&!c&&e(l)}),a=()=>{r.current=!0};return h.useEffect(()=>{if(t){const l=fk(o.current),c=()=>{n.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",c),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",c)}}},[t,s]),h.useEffect(()=>{if(t){const l=fk(o.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[t,s]),[o,a,a]}const EJe=h.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:i,paperSlotProps:s,paperClasses:a,onPaperClick:l,onPaperTouchStart:c}=t,u=ct(t,bJe),d=B({},o,{placement:r}),f=Si({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:a,ownerState:d});return p.jsx(n,B({},u,f,{onClick:m=>{var g;l(m),(g=f.onClick)==null||g.call(f,m)},onTouchStart:m=>{var g;c(m),(g=f.onTouchStart)==null||g.call(f,m)},ownerState:d,children:i}))});function TJe(t){var e,n,r,o;const i=di({props:t,name:"MuiPickersPopper"}),{anchorEl:s,children:a,containerRef:l=null,shouldRestoreFocus:c,onBlur:u,onDismiss:d,open:f,role:m,placement:g,slots:v,slotProps:y,reduceAnimations:b}=i;h.useEffect(()=>{function L(z){f&&(z.key==="Escape"||z.key==="Esc")&&d()}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[d,f]);const x=h.useRef(null);h.useEffect(()=>{m==="tooltip"||c&&!c()||(f?x.current=kE(document):x.current&&x.current instanceof HTMLElement&&setTimeout(()=>{x.current instanceof HTMLElement&&x.current.focus()}))},[f,m,c]);const[w,C,E]=_Je(f,u??d),_=h.useRef(null),S=op(_,l),T=op(S,w),I=i,P=xJe(I),M=yJe(),R=b??M,k=L=>{L.key==="Escape"&&(L.stopPropagation(),d())},D=((e=v==null?void 0:v.desktopTransition)!=null?e:R)?PI:Tx,A=(n=v==null?void 0:v.desktopTrapFocus)!=null?n:wre,N=(r=v==null?void 0:v.desktopPaper)!=null?r:SJe,O=(o=v==null?void 0:v.popper)!=null?o:wJe,j=Si({elementType:O,externalSlotProps:y==null?void 0:y.popper,additionalProps:{transition:!0,role:m,open:f,anchorEl:s,placement:g,onKeyDown:k},className:P.root,ownerState:i});return p.jsx(O,B({},j,{children:({TransitionProps:L,placement:z})=>p.jsx(A,B({open:f,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:m==="tooltip",isEnabled:()=>!0},y==null?void 0:y.desktopTrapFocus,{children:p.jsx(D,B({},L,y==null?void 0:y.desktopTransition,{children:p.jsx(EJe,{PaperComponent:N,ownerState:I,popperPlacement:z,ref:T,onPaperClick:C,onPaperTouchStart:E,paperClasses:P.paper,paperSlotProps:y==null?void 0:y.desktopPaper,children:a})}))}))}))}function ooe(t){return Ls("MuiPickersToolbar",t)}ma("MuiPickersToolbar",["root","content"]);const IJe=t=>{const{classes:e,isLandscape:n}=t;return gs({root:["root"],content:["content"],penIconButton:["penIconButton",n&&"penIconButtonLandscape"]},ooe,e)},PJe=Je("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>B({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3)},e.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),RJe=Je("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})(({ownerState:t})=>{var e;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:t.isLandscape?"flex-start":"space-between",flexDirection:t.isLandscape?(e=t.landscapeDirection)!=null?e:"column":"row",flex:1,alignItems:t.isLandscape?"flex-start":"center"}}),kJe=h.forwardRef(function(e,n){const r=di({props:e,name:"MuiPickersToolbar"}),{children:o,className:i,toolbarTitle:s,hidden:a,titleId:l}=r,c=r,u=IJe(c);return a?null:p.jsxs(PJe,{ref:n,className:it(u.root,i),ownerState:c,children:[p.jsx(Ne,{color:"text.secondary",variant:"overline",id:l,children:s}),p.jsx(RJe,{className:u.content,ownerState:c,children:o})]})});function DJe(t){return Ls("MuiPickersToolbarText",t)}const vW=ma("MuiPickersToolbarText",["root","selected"]),$Je=["className","selected","value"],MJe=t=>{const{classes:e,selected:n}=t;return gs({root:["root",n&&"selected"]},DJe,e)},OJe=Je(Ne,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${vW.selected}`]:e.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${vW.selected}`]:{color:(t.vars||t).palette.text.primary}})),ioe=h.forwardRef(function(e,n){const r=di({props:e,name:"MuiPickersToolbarText"}),{className:o,value:i}=r,s=ct(r,$Je),a=MJe(r);return p.jsx(OJe,B({ref:n,className:it(o,a.root),component:"span"},s,{children:i}))}),AJe=["align","className","selected","typographyClassName","value","variant","width"],NJe=t=>{const{classes:e}=t;return gs({root:["root"]},ooe,e)},jJe=Je(Mt,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),Uy=h.forwardRef(function(e,n){const r=di({props:e,name:"MuiPickersToolbarButton"}),{align:o,className:i,selected:s,typographyClassName:a,value:l,variant:c,width:u}=r,d=ct(r,AJe),f=NJe(r);return p.jsx(jJe,B({variant:"text",ref:n,className:it(i,f.root)},u?{sx:{width:u}}:{},d,{children:p.jsx(ioe,{align:o,className:a,variant:c,value:l,selected:s})}))}),LJe=({open:t,onOpen:e,onClose:n})=>{const r=h.useRef(typeof t=="boolean").current,[o,i]=h.useState(!1);h.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(t)}},[r,t]);const s=h.useCallback(a=>{r||i(a),a&&e&&e(),!a&&n&&n()},[r,e,n]);return{isOpen:o,setIsOpen:s}},FJe=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o}=t,i=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?i&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?i?!0:n(r.lastPublishedValue):!1},zJe=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:i}=t,s=!o&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&i?s?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},BJe=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},VJe=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:o})=>{const{onAccept:i,onChange:s,value:a,defaultValue:l,closeOnSelect:c=r==="desktop",selectedSections:u,onSelectedSectionsChange:d,timezone:f}=t,{current:m}=h.useRef(l),{current:g}=h.useRef(a!==void 0),v=fi(),y=Fw(),[b,x]=Px({controlled:u,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:w,setIsOpen:C}=LJe(t),[E,_]=h.useState(()=>{let J;return a!==void 0?J=a:m!==void 0?J=m:J=e.emptyValue,{draft:J,lastPublishedValue:J,lastCommittedValue:J,lastControlledValue:a,hasBeenModifiedSinceMount:!1}}),{timezone:S,handleValueChange:T}=ZL({timezone:f,value:a,defaultValue:m,onChange:s,valueManager:e});toe(B({},t,{value:E.draft,timezone:S}),o,e.isSameError,e.defaultErrorState);const I=Mn(J=>{const X={action:J,dateState:E,hasChanged:pe=>!e.areValuesEqual(v,J.value,pe),isControlled:g,closeOnSelect:c},ue=FJe(X),_e=zJe(X),Ce=BJe(X);if(_(pe=>B({},pe,{draft:J.value,lastPublishedValue:ue?J.value:pe.lastPublishedValue,lastCommittedValue:_e?J.value:pe.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ue){const ge={validationError:J.name==="setValueFromField"?J.context.validationError:o({adapter:y,value:J.value,props:B({},t,{value:J.value,timezone:S})})};J.name==="setValueFromShortcut"&&J.shortcut!=null&&(ge.shortcut=J.shortcut),T(J.value,ge)}_e&&i&&i(J.value),Ce&&C(!1)});if(a!==void 0&&(E.lastControlledValue===void 0||!e.areValuesEqual(v,E.lastControlledValue,a))){const J=e.areValuesEqual(v,E.draft,a);_(X=>B({},X,{lastControlledValue:a},J?{}:{lastCommittedValue:a,lastPublishedValue:a,draft:a,hasBeenModifiedSinceMount:!0}))}const P=Mn(()=>{I({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),M=Mn(()=>{I({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),R=Mn(()=>{I({value:E.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),k=Mn(()=>{I({value:E.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),D=Mn(()=>{I({value:e.getTodayValue(v,S,n),name:"setValueFromAction",pickerAction:"today"})}),A=Mn(()=>C(!0)),N=Mn(()=>C(!1)),O=Mn((J,X="partial")=>I({name:"setValueFromView",value:J,selectionState:X})),j=Mn((J,X,ue)=>I({name:"setValueFromShortcut",value:J,changeImportance:X??"accept",shortcut:ue})),L=Mn((J,X)=>I({name:"setValueFromField",value:J,context:X})),z=Mn(J=>{x(J),d==null||d(J)}),V={onClear:P,onAccept:M,onDismiss:R,onCancel:k,onSetToday:D,onOpen:A,onClose:N},W={value:E.draft,onChange:L,selectedSections:b,onSelectedSectionsChange:z},Y=h.useMemo(()=>e.cleanValue(v,E.draft),[v,e,E.draft]),U={value:Y,onChange:O,onClose:N,open:w,onSelectedSectionsChange:z},K=B({},V,{value:Y,onChange:O,onSelectShortcut:j,isValid:J=>{const X=o({adapter:y,value:J,props:B({},t,{value:J,timezone:S})});return!e.hasError(X)}});return{open:w,fieldProps:W,viewProps:U,layoutProps:K,actions:V}},HJe=["className","sx"],WJe=({props:t,propsFromPickerValue:e,additionalViewProps:n,inputRef:r,autoFocusView:o})=>{const{onChange:i,open:s,onSelectedSectionsChange:a,onClose:l}=e,{views:c,openTo:u,onViewChange:d,disableOpenPicker:f,viewRenderers:m,timezone:g}=t,v=ct(t,HJe),{view:y,setView:b,defaultView:x,focusedView:w,setFocusedView:C,setValueAndGoToNextView:E}=jI({view:void 0,views:c,openTo:u,onChange:i,onViewChange:d,autoFocus:o}),{hasUIView:_,viewModeLookup:S}=h.useMemo(()=>c.reduce((D,A)=>{let N;return f?N="field":m[A]!=null?N="UI":N="field",D.viewModeLookup[A]=N,N==="UI"&&(D.hasUIView=!0),D},{hasUIView:!1,viewModeLookup:{}}),[f,m,c]),T=h.useMemo(()=>c.reduce((D,A)=>m[A]!=null&&Rx(A)?D+1:D,0),[m,c]),I=S[y],P=Mn(()=>I==="UI"),[M,R]=h.useState(I==="UI"?y:null);return M!==y&&S[y]==="UI"&&R(y),cv(()=>{I==="field"&&s&&(l(),setTimeout(()=>{r==null||r.current.focus(),a(y)}))},[y]),cv(()=>{if(!s)return;let D=y;I==="field"&&M!=null&&(D=M),D!==x&&S[D]==="UI"&&S[x]==="UI"&&(D=x),D!==y&&b(D),C(D,!0)},[s]),{hasUIView:_,shouldRestoreFocus:P,layoutProps:{views:c,view:M,onViewChange:b},renderCurrentView:()=>{if(M==null)return null;const D=m[M];return D==null?null:D(B({},v,n,e,{views:c,timezone:g,onChange:E,view:M,onViewChange:b,focusedView:w,onFocusedViewChange:C,showViewSwitcher:T>1,timeViewsCount:T}))}}};function yW(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const UJe=(t,e)=>{const[n,r]=h.useState(yW);return cv(()=>{const i=()=>{r(yW())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),bm(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},qJe=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:o}=t,i=UJe(n.views,o);return{layoutProps:B({},n,e,{isLandscape:i,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}},soe=({props:t,valueManager:e,valueType:n,wrapperVariant:r,inputRef:o,additionalViewProps:i,validator:s,autoFocusView:a})=>{const l=VJe({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:s}),c=WJe({props:t,inputRef:o,additionalViewProps:i,autoFocusView:a,propsFromPickerValue:l.viewProps}),u=qJe({props:t,wrapperVariant:r,propsFromPickerValue:l.layoutProps,propsFromPickerViews:c.layoutProps});return{open:l.open,actions:l.actions,fieldProps:l.fieldProps,renderCurrentView:c.renderCurrentView,hasUIView:c.hasUIView,shouldRestoreFocus:c.shouldRestoreFocus,layoutProps:u.layoutProps}};function aoe(t){return Ls("MuiPickersLayout",t)}const hk=ma("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","shortcuts"]),KJe=["onAccept","onClear","onCancel","onSetToday","actions"];function GJe(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:o,actions:i}=t,s=ct(t,KJe),a=kc();if(i==null||i.length===0)return null;const l=i==null?void 0:i.map(c=>{switch(c){case"clear":return p.jsx(Mt,{onClick:n,children:a.clearButtonLabel},c);case"cancel":return p.jsx(Mt,{onClick:r,children:a.cancelButtonLabel},c);case"accept":return p.jsx(Mt,{onClick:e,children:a.okButtonLabel},c);case"today":return p.jsx(Mt,{onClick:o,children:a.todayButtonLabel},c);default:return null}});return p.jsx(as,B({},s,{children:l}))}const YJe=["items","changeImportance","isLandscape","onChange","isValid"],XJe=["getValue"];function QJe(t){const{items:e,changeImportance:n,onChange:r,isValid:o}=t,i=ct(t,YJe);if(e==null||e.length===0)return null;const s=e.map(a=>{let{getValue:l}=a,c=ct(a,XJe);const u=l({isValid:o});return{label:c.label,onClick:()=>{r(u,n,c)},disabled:!o(u)}});return p.jsx(cs,B({dense:!0,sx:[{maxHeight:Vre,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:s.map(a=>p.jsx($s,{children:p.jsx(so,B({},a))},a.label))}))}function JJe(t){return t.view!==null}const ZJe=t=>{const{classes:e,isLandscape:n}=t;return gs({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},aoe,e)},eZe=t=>{var e,n;const{wrapperVariant:r,onAccept:o,onClear:i,onCancel:s,onSetToday:a,view:l,views:c,onViewChange:u,value:d,onChange:f,onSelectShortcut:m,isValid:g,isLandscape:v,disabled:y,readOnly:b,children:x,components:w,componentsProps:C,slots:E,slotProps:_}=t,S=E??nF(w),T=_??C,I=ZJe(t),P=(e=S==null?void 0:S.actionBar)!=null?e:GJe,M=Si({elementType:P,externalSlotProps:T==null?void 0:T.actionBar,additionalProps:{onAccept:o,onClear:i,onCancel:s,onSetToday:a,actions:r==="desktop"?[]:["cancel","accept"],className:I.actionBar},ownerState:B({},t,{wrapperVariant:r})}),R=p.jsx(P,B({},M)),k=S==null?void 0:S.toolbar,D=Si({elementType:k,externalSlotProps:T==null?void 0:T.toolbar,additionalProps:{isLandscape:v,onChange:f,value:d,view:l,onViewChange:u,views:c,disabled:y,readOnly:b,className:I.toolbar},ownerState:B({},t,{wrapperVariant:r})}),A=JJe(D)&&k?p.jsx(k,B({},D)):null,N=x,O=S==null?void 0:S.tabs,j=l&&O?p.jsx(O,B({view:l,onViewChange:u},T==null?void 0:T.tabs)):null,L=(n=S==null?void 0:S.shortcuts)!=null?n:QJe,z=Si({elementType:L,externalSlotProps:T==null?void 0:T.shortcuts,additionalProps:{isValid:g,isLandscape:v,onChange:m,className:I.shortcuts},ownerState:{isValid:g,isLandscape:v,onChange:m,className:I.shortcuts,wrapperVariant:r}}),V=l&&L?p.jsx(L,B({},z)):null;return{toolbar:A,content:N,tabs:j,actionBar:R,shortcuts:V}},tZe=t=>{const{isLandscape:e,classes:n}=t;return gs({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},aoe,n)},loe=Je("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${hk.toolbar}`]:e.isLandscape?{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${hk.shortcuts}`]:e.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:t.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${hk.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));loe.propTypes={as:qe.elementType,ownerState:qe.shape({isLandscape:qe.bool.isRequired}).isRequired,sx:qe.oneOfType([qe.arrayOf(qe.oneOfType([qe.func,qe.object,qe.bool])),qe.func,qe.object])};const nZe=Je("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),coe=function(e){const n=di({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:o,tabs:i,actionBar:s,shortcuts:a}=eZe(n),{sx:l,className:c,isLandscape:u,ref:d,wrapperVariant:f}=n,m=n,g=tZe(m);return p.jsxs(loe,{ref:d,sx:l,className:it(c,g.root),ownerState:m,children:[u?a:r,u?r:a,p.jsx(nZe,{className:g.contentWrapper,children:f==="desktop"?p.jsxs(h.Fragment,{children:[o,i]}):p.jsxs(h.Fragment,{children:[i,o]})}),s]})},oF=({adapter:t,value:e,props:n})=>{if(e===null)return null;const{minTime:r,maxTime:o,minutesStep:i,shouldDisableClock:s,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:l=!1,disablePast:c,disableFuture:u,timezone:d}=n,f=t.utils.dateWithTimezone(void 0,d),m=zw(l,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(r&&m(r,e)):return"minTime";case!!(o&&m(e,o)):return"maxTime";case!!(u&&t.utils.isAfter(e,f)):return"disableFuture";case!!(c&&t.utils.isBefore(e,f)):return"disablePast";case!!(a&&a(e,"hours")):return"shouldDisableTime-hours";case!!(a&&a(e,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&s(t.utils.getHours(e),"hours")):return"shouldDisableClock-hours";case!!(s&&s(t.utils.getMinutes(e),"minutes")):return"shouldDisableClock-minutes";case!!(s&&s(t.utils.getSeconds(e),"seconds")):return"shouldDisableClock-seconds";case!!(i&&t.utils.getMinutes(e)%i!==0):return"minutesStep";default:return null}},rZe=["ownerState"],oZe=({clearable:t,fieldProps:e,InputProps:n,onClear:r,slots:o,slotProps:i,components:s,componentsProps:a})=>{var l,c,u,d,f,m;const g=kc(),v=(l=(c=o==null?void 0:o.clearButton)!=null?c:s==null?void 0:s.ClearButton)!=null?l:wr,y=Si({elementType:v,externalSlotProps:(u=i==null?void 0:i.clearButton)!=null?u:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:g.fieldClearLabel}}),b=ct(y,rZe),x=(d=(f=o==null?void 0:o.clearIcon)!=null?f:s==null?void 0:s.ClearIcon)!=null?d:TXe,w=Si({elementType:x,externalSlotProps:(m=i==null?void 0:i.clearIcon)!=null?m:a==null?void 0:a.clearIcon,ownerState:{}}),C=B({},n,{endAdornment:t?p.jsxs(h.Fragment,{children:[p.jsx(kI,{position:"end",sx:{marginRight:n!=null&&n.endAdornment?-1:-1.5},children:p.jsx(v,B({},b,{onClick:r,children:p.jsx(x,B({fontSize:"small"},w))}))}),n==null?void 0:n.endAdornment]}):n==null?void 0:n.endAdornment}),E=B({},e,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(e.sx)?e.sx:[e.sx]]});return{InputProps:C,fieldProps:E}},iZe=t=>{var e,n,r,o;const i=fi(),a=((e=t.ampm)!=null?e:i.is12HourCycleInCurrentLocale())?i.formats.fullTime12h:i.formats.fullTime24h;return B({},t,{disablePast:(n=t.disablePast)!=null?n:!1,disableFuture:(r=t.disableFuture)!=null?r:!1,format:(o=t.format)!=null?o:a})},sZe=({props:t,inputRef:e})=>{const n=iZe(t),{forwardedProps:r,internalProps:o}=dJe(n);return sJe({inputRef:e,forwardedProps:r,internalProps:o,valueManager:Sp,fieldValueManager:PQe,validator:oF})},aZe=["slots","slotProps","components","componentsProps","InputProps","inputProps"],lZe=["inputRef"],cZe=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],uoe=h.forwardRef(function(e,n){var r,o,i;const s=di({props:e,name:"MuiTimeField"}),{slots:a,slotProps:l,components:c,componentsProps:u,InputProps:d,inputProps:f}=s,m=ct(s,aZe),g=s,v=(r=(o=a==null?void 0:a.textField)!=null?o:c==null?void 0:c.TextField)!=null?r:_n,y=Si({elementType:v,externalSlotProps:(i=l==null?void 0:l.textField)!=null?i:u==null?void 0:u.textField,externalForwardedProps:m,ownerState:g}),{inputRef:b}=y,x=ct(y,lZe);x.inputProps=B({},f,x.inputProps),x.InputProps=B({},d,x.InputProps);const w=sZe({props:x,inputRef:b}),{ref:C,onPaste:E,onKeyDown:_,inputMode:S,readOnly:T,clearable:I,onClear:P}=w,M=ct(w,cZe),{InputProps:R,fieldProps:k}=oZe({onClear:P,clearable:I,fieldProps:M,InputProps:M.InputProps,slots:a,slotProps:l,components:c,componentsProps:u});return p.jsx(v,B({ref:n},k,{InputProps:B({},R,{readOnly:T}),inputProps:B({},M.inputProps,{inputMode:S,onPaste:E,onKeyDown:_,ref:C})}))}),uZe=["props","getOpenDialogAriaText"],dZe=["ownerState"],fZe=["ownerState"],hZe=t=>{var e,n,r,o,i;let{props:s,getOpenDialogAriaText:a}=t,l=ct(t,uZe);const{slots:c,slotProps:u,className:d,sx:f,format:m,formatDensity:g,timezone:v,name:y,label:b,inputRef:x,readOnly:w,disabled:C,autoFocus:E,localeText:_,reduceAnimations:S}=s,T=fi(),I=h.useRef(null),P=h.useRef(null),M=KL(),R=(e=u==null||(n=u.toolbar)==null?void 0:n.hidden)!=null?e:!1,{open:k,actions:D,hasUIView:A,layoutProps:N,renderCurrentView:O,shouldRestoreFocus:j,fieldProps:L}=soe(B({},l,{props:s,inputRef:I,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),z=(r=c.inputAdornment)!=null?r:kI,V=Si({elementType:z,externalSlotProps:u==null?void 0:u.inputAdornment,additionalProps:{position:"end"},ownerState:s}),W=ct(V,dZe),Y=(o=c.openPickerButton)!=null?o:wr,U=Si({elementType:Y,externalSlotProps:u==null?void 0:u.openPickerButton,additionalProps:{disabled:C||w,onClick:k?D.onClose:D.onOpen,"aria-label":a(L.value,T),edge:W.position},ownerState:s}),q=ct(U,fZe),K=c.openPickerIcon,J=c.field,X=Si({elementType:J,externalSlotProps:u==null?void 0:u.field,additionalProps:B({},L,R&&{id:M},{readOnly:w,disabled:C,className:d,sx:f,format:m,formatDensity:g,timezone:v,label:b,name:y,autoFocus:E&&!s.open,focused:k?!0:void 0}),ownerState:s});A&&(X.InputProps=B({},X.InputProps,{ref:P,[`${W.position}Adornment`]:p.jsx(z,B({},W,{children:p.jsx(Y,B({},q,{children:p.jsx(K,B({},u==null?void 0:u.openPickerIcon))}))}))}));const ue=B({textField:c.textField,clearIcon:c.clearIcon,clearButton:c.clearButton},X.slots),_e=(i=c.layout)!=null?i:coe,Ce=op(I,X.inputRef,x);let pe=M;R&&(b?pe=`${M}-label`:pe=void 0);const ge=B({},u,{toolbar:B({},u==null?void 0:u.toolbar,{titleId:M}),popper:B({"aria-labelledby":pe},u==null?void 0:u.popper)});return{renderPicker:()=>p.jsxs(NI,{localeText:_,children:[p.jsx(J,B({},X,{slots:ue,slotProps:ge,inputRef:Ce})),p.jsx(TJe,B({role:"dialog",placement:"bottom-start",anchorEl:P.current},D,{open:k,slots:c,slotProps:ge,shouldRestoreFocus:j,reduceAnimations:S,children:p.jsx(_e,B({},N,ge==null?void 0:ge.layout,{slots:c,slotProps:ge,children:O()}))}))]})}},pZe=["props","getOpenDialogAriaText"],mZe=t=>{var e,n,r;let{props:o,getOpenDialogAriaText:i}=t,s=ct(t,pZe);const{slots:a,slotProps:l,className:c,sx:u,format:d,formatDensity:f,timezone:m,name:g,label:v,inputRef:y,readOnly:b,disabled:x,localeText:w}=o,C=fi(),E=h.useRef(null),_=KL(),S=(e=l==null||(n=l.toolbar)==null?void 0:n.hidden)!=null?e:!1,{open:T,actions:I,layoutProps:P,renderCurrentView:M,fieldProps:R}=soe(B({},s,{props:o,inputRef:E,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),k=a.field,D=Si({elementType:k,externalSlotProps:l==null?void 0:l.field,additionalProps:B({},R,S&&{id:_},!(x||b)&&{onClick:I.onOpen,onKeyDown:rJe(I.onOpen)},{readOnly:b??!0,disabled:x,className:c,sx:u,format:d,formatDensity:f,timezone:m,label:v,name:g}),ownerState:o});D.inputProps=B({},D.inputProps,{"aria-label":i(R.value,C)});const A=B({textField:a.textField},D.slots),N=(r=a.layout)!=null?r:coe,O=op(E,D.inputRef,y);let j=_;S&&(v?j=`${_}-label`:j=void 0);const L=B({},l,{toolbar:B({},l==null?void 0:l.toolbar,{titleId:_}),mobilePaper:B({"aria-labelledby":j},l==null?void 0:l.mobilePaper)});return{renderPicker:()=>p.jsxs(NI,{localeText:w,children:[p.jsx(k,B({},D,{slots:A,slotProps:L,inputRef:O})),p.jsx(pJe,B({},I,{open:T,slots:a,slotProps:L,children:p.jsx(N,B({},P,L==null?void 0:L.layout,{slots:a,slotProps:L,children:M()}))}))]})}};function gZe(t){return Ls("MuiTimePickerToolbar",t)}const rb=ma("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),vZe=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly"],yZe=t=>{const{theme:e,isLandscape:n,classes:r}=t,o={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n&&"hourMinuteLabelLandscape",e.direction==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return gs(o,gZe,r)},bZe=Je(kJe,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xZe=Je(ioe,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),doe=Je("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${rb.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${rb.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})(({theme:t,ownerState:e})=>B({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},e.isLandscape&&{marginTop:"auto"},t.direction==="rtl"&&{flexDirection:"row-reverse"}));doe.propTypes={as:qe.elementType,ownerState:qe.object.isRequired,sx:qe.oneOfType([qe.arrayOf(qe.oneOfType([qe.func,qe.object,qe.bool])),qe.func,qe.object])};const foe=Je("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${rb.ampmLabel}`]:e.ampmLabel},{[`&.${rb.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})(({ownerState:t})=>B({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},t.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},{[`& .${rb.ampmLabel}`]:{fontSize:17}}));foe.propTypes={as:qe.elementType,ownerState:qe.object.isRequired,sx:qe.oneOfType([qe.arrayOf(qe.oneOfType([qe.func,qe.object,qe.bool])),qe.func,qe.object])};function wZe(t){const e=di({props:t,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:o,isLandscape:i,onChange:s,view:a,onViewChange:l,views:c,disabled:u,readOnly:d}=e,f=ct(e,vZe),m=fi(),g=kc(),v=Xa(),y=!!(n&&!r&&c.includes("hours")),{meridiemMode:b,handleMeridiemChange:x}=XL(o,n,s),w=S=>n?m.format(S,"hours12h"):m.format(S,"hours24h"),C=e,E=yZe(B({},C,{theme:v})),_=p.jsx(xZe,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:E.separator});return p.jsxs(bZe,B({landscapeDirection:"row",toolbarTitle:g.timePickerToolbarTitle,isLandscape:i,ownerState:C,className:E.root},f,{children:[p.jsxs(doe,{className:E.hourMinuteLabel,ownerState:C,children:[bm(c,"hours")&&p.jsx(Uy,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:a==="hours",value:o?w(o):"--"}),bm(c,["hours","minutes"])&&_,bm(c,"minutes")&&p.jsx(Uy,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:a==="minutes",value:o?m.format(o,"minutes"):"--"}),bm(c,["minutes","seconds"])&&_,bm(c,"seconds")&&p.jsx(Uy,{variant:"h3",onClick:()=>l("seconds"),selected:a==="seconds",value:o?m.format(o,"seconds"):"--"})]}),y&&p.jsxs(foe,{className:E.ampmSelection,ownerState:C,children:[p.jsx(Uy,{disableRipple:!0,variant:"subtitle2",selected:b==="am",typographyClassName:E.ampmLabel,value:Pd(m,"am"),onClick:d?void 0:()=>x("am"),disabled:u}),p.jsx(Uy,{disableRipple:!0,variant:"subtitle2",selected:b==="pm",typographyClassName:E.ampmLabel,value:Pd(m,"pm"),onClick:d?void 0:()=>x("pm"),disabled:u})]})]}))}function hoe(t,e){var n,r,o,i,s;const a=fi(),l=di({props:t,name:e}),c=(n=l.ampm)!=null?n:a.is12HourCycleInCurrentLocale(),u=h.useMemo(()=>{var m;return((m=l.localeText)==null?void 0:m.toolbarTitle)==null?l.localeText:B({},l.localeText,{timePickerToolbarTitle:l.localeText.toolbarTitle})},[l.localeText]),d=(r=l.slots)!=null?r:nF(l.components),f=(o=l.slotProps)!=null?o:l.componentsProps;return B({},l,{ampm:c,localeText:u},AXe({views:l.views,openTo:l.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:(i=l.disableFuture)!=null?i:!1,disablePast:(s=l.disablePast)!=null?s:!1,slots:B({toolbar:wZe},d),slotProps:B({},f,{toolbar:B({ampm:c,ampmInClock:l.ampmInClock},f==null?void 0:f.toolbar)})})}const pk=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:o,value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:v,shouldDisableClock:y,minutesStep:b,ampm:x,ampmInClock:w,components:C,componentsProps:E,slots:_,slotProps:S,readOnly:T,disabled:I,sx:P,autoFocus:M,showViewSwitcher:R,disableIgnoringDatePartForTimeValidation:k,timezone:D})=>p.jsx(OQe,{view:t,onViewChange:e,focusedView:n&&Rx(n)?n:null,onFocusedViewChange:r,views:o.filter(Rx),value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:v,shouldDisableClock:y,minutesStep:b,ampm:x,ampmInClock:w,components:C,componentsProps:E,slots:_,slotProps:S,readOnly:T,disabled:I,sx:P,autoFocus:M,showViewSwitcher:R,disableIgnoringDatePartForTimeValidation:k,timezone:D}),SZe=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:o,value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:v,shouldDisableClock:y,minutesStep:b,ampm:x,components:w,componentsProps:C,slots:E,slotProps:_,readOnly:S,disabled:T,sx:I,autoFocus:P,disableIgnoringDatePartForTimeValidation:M,timeSteps:R,skipDisabled:k,timezone:D})=>p.jsx(BQe,{view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:o.filter(Rx),value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:v,shouldDisableClock:y,minutesStep:b,ampm:x,components:w,componentsProps:C,slots:E,slotProps:_,readOnly:S,disabled:T,sx:I,autoFocus:P,disableIgnoringDatePartForTimeValidation:M,timeStep:R==null?void 0:R.minutes,skipDisabled:k,timezone:D}),bW=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:o,value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:v,shouldDisableClock:y,minutesStep:b,ampm:x,components:w,componentsProps:C,slots:E,slotProps:_,readOnly:S,disabled:T,sx:I,autoFocus:P,disableIgnoringDatePartForTimeValidation:M,timeSteps:R,skipDisabled:k,timezone:D})=>p.jsx(ZQe,{view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:o.filter(Rx),value:i,defaultValue:s,referenceDate:a,onChange:l,className:c,classes:u,disableFuture:d,disablePast:f,minTime:m,maxTime:g,shouldDisableTime:v,shouldDisableClock:y,minutesStep:b,ampm:x,components:w,componentsProps:C,slots:E,slotProps:_,readOnly:S,disabled:T,sx:I,autoFocus:P,disableIgnoringDatePartForTimeValidation:M,timeSteps:R,skipDisabled:k,timezone:D}),CZe=(t,e,n)=>n?e.filter(r=>!NXe(r)||r==="hours"):t?[...e,"meridiem"]:e,_Ze=(t,e)=>{var n,r;return 24*60/(((n=t.hours)!=null?n:1)*((r=t.minutes)!=null?r:5))<=e};function EZe({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:n,views:r}){const o=t??24,i=B({hours:1,minutes:5,seconds:5},n),s=_Ze(i,o);return{thresholdToRenderTimeInASingleColumn:o,timeSteps:i,shouldRenderTimeInASingleColumn:s,views:CZe(e,r,s)}}const poe=h.forwardRef(function(e,n){var r,o,i,s,a,l;const c=kc(),u=fi(),d=hoe(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:f,views:m,timeSteps:g}=EZe(d),v=f?SZe:bW,y=B({hours:v,minutes:v,seconds:v,meridiem:v},d.viewRenderers),b=(r=d.ampmInClock)!=null?r:!0,x=f?[]:["accept"],C=((o=y.hours)==null?void 0:o.name)===bW.name?m:m.filter(S=>S!=="meridiem"),E=B({},d,{ampmInClock:b,timeSteps:g,viewRenderers:y,format:zre(u,d),views:f?["hours"]:C,slots:B({field:uoe,openPickerIcon:EXe},d.slots),slotProps:B({},d.slotProps,{field:S=>{var T;return B({},YL((T=d.slotProps)==null?void 0:T.field,S),roe(d),{ref:n})},toolbar:B({hidden:!0,ampmInClock:b},(i=d.slotProps)==null?void 0:i.toolbar),actionBar:B({actions:x},(s=d.slotProps)==null?void 0:s.actionBar)})}),{renderPicker:_}=hZe({props:E,valueManager:Sp,valueType:"time",getOpenDialogAriaText:(a=(l=E.localeText)==null?void 0:l.openTimePickerDialogue)!=null?a:c.openTimePickerDialogue,validator:oF});return _()});poe.propTypes={ampm:qe.bool,ampmInClock:qe.bool,autoFocus:qe.bool,className:qe.string,closeOnSelect:qe.bool,components:qe.object,componentsProps:qe.object,defaultValue:qe.any,disabled:qe.bool,disableFuture:qe.bool,disableIgnoringDatePartForTimeValidation:qe.bool,disableOpenPicker:qe.bool,disablePast:qe.bool,format:qe.string,formatDensity:qe.oneOf(["dense","spacious"]),inputRef:jre,label:qe.node,localeText:qe.object,maxTime:qe.any,minTime:qe.any,minutesStep:qe.number,name:qe.string,onAccept:qe.func,onChange:qe.func,onClose:qe.func,onError:qe.func,onOpen:qe.func,onSelectedSectionsChange:qe.func,onViewChange:qe.func,open:qe.bool,openTo:qe.oneOf(["hours","meridiem","minutes","seconds"]),orientation:qe.oneOf(["landscape","portrait"]),readOnly:qe.bool,reduceAnimations:qe.bool,referenceDate:qe.any,selectedSections:qe.oneOfType([qe.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),qe.number,qe.shape({endIndex:qe.number.isRequired,startIndex:qe.number.isRequired})]),shouldDisableClock:qe.func,shouldDisableTime:qe.func,skipDisabled:qe.bool,slotProps:qe.object,slots:qe.object,sx:qe.oneOfType([qe.arrayOf(qe.oneOfType([qe.func,qe.object,qe.bool])),qe.func,qe.object]),thresholdToRenderTimeInASingleColumn:qe.number,timeSteps:qe.shape({hours:qe.number,minutes:qe.number,seconds:qe.number}),timezone:qe.string,value:qe.any,view:qe.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:qe.shape({hours:qe.func,meridiem:qe.func,minutes:qe.func,seconds:qe.func}),views:qe.arrayOf(qe.oneOf(["hours","minutes","seconds"]).isRequired)};const moe=h.forwardRef(function(e,n){var r,o,i,s;const a=kc(),l=fi(),c=hoe(e,"MuiMobileTimePicker"),u=B({hours:pk,minutes:pk,seconds:pk},c.viewRenderers),d=(r=c.ampmInClock)!=null?r:!1,f=B({},c,{ampmInClock:d,viewRenderers:u,format:zre(l,c),slots:B({field:uoe},c.slots),slotProps:B({},c.slotProps,{field:g=>{var v;return B({},YL((v=c.slotProps)==null?void 0:v.field,g),roe(c),{ref:n})},toolbar:B({hidden:!1,ampmInClock:d},(o=c.slotProps)==null?void 0:o.toolbar)})}),{renderPicker:m}=mZe({props:f,valueManager:Sp,valueType:"time",getOpenDialogAriaText:(i=(s=f.localeText)==null?void 0:s.openTimePickerDialogue)!=null?i:a.openTimePickerDialogue,validator:oF});return m()});moe.propTypes={ampm:qe.bool,ampmInClock:qe.bool,autoFocus:qe.bool,className:qe.string,closeOnSelect:qe.bool,components:qe.object,componentsProps:qe.object,defaultValue:qe.any,disabled:qe.bool,disableFuture:qe.bool,disableIgnoringDatePartForTimeValidation:qe.bool,disableOpenPicker:qe.bool,disablePast:qe.bool,format:qe.string,formatDensity:qe.oneOf(["dense","spacious"]),inputRef:jre,label:qe.node,localeText:qe.object,maxTime:qe.any,minTime:qe.any,minutesStep:qe.number,name:qe.string,onAccept:qe.func,onChange:qe.func,onClose:qe.func,onError:qe.func,onOpen:qe.func,onSelectedSectionsChange:qe.func,onViewChange:qe.func,open:qe.bool,openTo:qe.oneOf(["hours","minutes","seconds"]),orientation:qe.oneOf(["landscape","portrait"]),readOnly:qe.bool,reduceAnimations:qe.bool,referenceDate:qe.any,selectedSections:qe.oneOfType([qe.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),qe.number,qe.shape({endIndex:qe.number.isRequired,startIndex:qe.number.isRequired})]),shouldDisableClock:qe.func,shouldDisableTime:qe.func,slotProps:qe.object,slots:qe.object,sx:qe.oneOfType([qe.arrayOf(qe.oneOfType([qe.func,qe.object,qe.bool])),qe.func,qe.object]),timezone:qe.string,value:qe.any,view:qe.oneOf(["hours","minutes","seconds"]),viewRenderers:qe.shape({hours:qe.func,minutes:qe.func,seconds:qe.func}),views:qe.arrayOf(qe.oneOf(["hours","minutes","seconds"]).isRequired)};const TZe=["desktopModeMediaQuery"],rO=h.forwardRef(function(e,n){const r=di({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:o=oJe}=r,i=ct(r,TZe);return Ane(o,{defaultMatches:!0})?p.jsx(poe,B({ref:n},i)):p.jsx(moe,B({ref:n},i))});function Jn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function kt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Dt(t){kt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||At(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function oO(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function FI(t,e){kt(2,arguments);var n=Dt(t).getTime(),r=Jn(e);return new Date(n+r)}function IZe(t,e){kt(2,arguments);var n=Jn(e);return FI(t,n*1e3)}var PZe=6e4;function RZe(t,e){kt(2,arguments);var n=Jn(e);return FI(t,n*PZe)}var kZe=36e5;function DZe(t,e){kt(2,arguments);var n=Jn(e);return FI(t,n*kZe)}function $Ze(t,e){kt(2,arguments);var n=Jn(e),r=n*7;return oO(t,r)}function $C(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function xW(t,e){kt(2,arguments);var n=Jn(e);return $C(t,n*12)}function MZe(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e);return n.getFullYear()-r.getFullYear()}function ob(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function OZe(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e),o=ob(n,r),i=Math.abs(MZe(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=ob(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function AZe(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function iO(t){kt(1,arguments);var e=Dt(t);return e.setHours(23,59,59,999),e}function sO(t){kt(1,arguments);var e=Dt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function NZe(t){kt(1,arguments);var e=Dt(t);return iO(e).getTime()===sO(e).getTime()}function goe(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e),o=ob(n,r),i=Math.abs(AZe(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=ob(n,r)===-o;NZe(Dt(t))&&i===1&&ob(t,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}var wW={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},jZe="trunc";function Bw(t){return t?wW[t]:wW[jZe]}function LZe(t,e,n){kt(2,arguments);var r=goe(t,e)/3;return Bw(void 0)(r)}function DE(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function dv(t){kt(1,arguments);var e=Dt(t);return e.setHours(0,0,0,0),e}var FZe=864e5;function zZe(t,e){kt(2,arguments);var n=dv(t),r=dv(e),o=n.getTime()-DE(n),i=r.getTime()-DE(r);return Math.round((o-i)/FZe)}function SW(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function voe(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e),o=SW(n,r),i=Math.abs(zZe(n,r));n.setDate(n.getDate()-o*i);var s=+(SW(n,r)===-o),a=o*(i-s);return a===0?0:a}function BZe(t,e,n){kt(2,arguments);var r=voe(t,e)/7;return Bw(void 0)(r)}var zI=6e4,BI=36e5,VZe=1e3;function VI(t,e){return kt(2,arguments),Dt(t).getTime()-Dt(e).getTime()}function HZe(t,e,n){kt(2,arguments);var r=VI(t,e)/BI;return Bw(void 0)(r)}function WZe(t,e,n){kt(2,arguments);var r=VI(t,e)/zI;return Bw(void 0)(r)}function UZe(t,e,n){kt(2,arguments);var r=VI(t,e)/1e3;return Bw(void 0)(r)}function qZe(t,e){var n;kt(1,arguments);var r=t||{},o=Dt(r.start),i=Dt(r.end),s=i.getTime();if(!(o.getTime()<=s))throw new RangeError("Invalid interval");var a=[],l=o;l.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)a.push(Dt(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}var KZe={};function Dc(){return KZe}function mk(t,e){var n,r,o,i,s,a,l,c;kt(1,arguments);var u=Dc(),d=Jn((n=(r=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Dt(t),m=f.getDay(),g=(m<d?-7:0)+6-(m-d);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function gk(t){kt(1,arguments);var e=Dt(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function GZe(t){return kt(1,arguments),t instanceof Date||At(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $E(t){if(kt(1,arguments),!GZe(t)&&typeof t!="number")return!1;var e=Dt(t);return!isNaN(Number(e))}function yoe(t,e){kt(2,arguments);var n=Jn(e);return FI(t,-n)}var YZe=864e5;function XZe(t){kt(1,arguments);var e=Dt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),o=n-r;return Math.floor(o/YZe)+1}function fv(t){kt(1,arguments);var e=1,n=Dt(t),r=n.getUTCDay(),o=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function boe(t){kt(1,arguments);var e=Dt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=fv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=fv(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function QZe(t){kt(1,arguments);var e=boe(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=fv(n);return r}var JZe=6048e5;function xoe(t){kt(1,arguments);var e=Dt(t),n=fv(e).getTime()-QZe(e).getTime();return Math.round(n/JZe)+1}function ip(t,e){var n,r,o,i,s,a,l,c;kt(1,arguments);var u=Dc(),d=Jn((n=(r=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Dt(t),m=f.getUTCDay(),g=(m<d?7:0)+m-d;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function iF(t,e){var n,r,o,i,s,a,l,c;kt(1,arguments);var u=Dt(t),d=u.getUTCFullYear(),f=Dc(),m=Jn((n=(r=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,m),g.setUTCHours(0,0,0,0);var v=ip(g,e),y=new Date(0);y.setUTCFullYear(d,0,m),y.setUTCHours(0,0,0,0);var b=ip(y,e);return u.getTime()>=v.getTime()?d+1:u.getTime()>=b.getTime()?d:d-1}function ZZe(t,e){var n,r,o,i,s,a,l,c;kt(1,arguments);var u=Dc(),d=Jn((n=(r=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=iF(t,e),m=new Date(0);m.setUTCFullYear(f,0,d),m.setUTCHours(0,0,0,0);var g=ip(m,e);return g}var eet=6048e5;function woe(t,e){kt(1,arguments);var n=Dt(t),r=ip(n,e).getTime()-ZZe(n,e).getTime();return Math.round(r/eet)+1}function $n(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Xu={y:function(e,n){var r=e.getUTCFullYear(),o=r>0?r:1-r;return $n(n==="yy"?o%100:o,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$n(r+1,2)},d:function(e,n){return $n(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $n(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $n(e.getUTCHours(),n.length)},m:function(e,n){return $n(e.getUTCMinutes(),n.length)},s:function(e,n){return $n(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,o=e.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return $n(i,n.length)}},rm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tet={G:function(e,n,r){var o=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var o=e.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Xu.y(e,n)},Y:function(e,n,r,o){var i=iF(e,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return $n(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):$n(s,n.length)},R:function(e,n){var r=boe(e);return $n(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $n(r,n.length)},Q:function(e,n,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return $n(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,n,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return $n(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,n,r){var o=e.getUTCMonth();switch(n){case"M":case"MM":return Xu.M(e,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,n,r){var o=e.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return $n(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,n,r,o){var i=woe(e,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):$n(i,n.length)},I:function(e,n,r){var o=xoe(e);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):$n(o,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Xu.d(e,n)},D:function(e,n,r){var o=XZe(e);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):$n(o,n.length)},E:function(e,n,r){var o=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,n,r,o){var i=e.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return $n(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,o){var i=e.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return $n(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var o=e.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return $n(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,n,r){var o=e.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var o=e.getUTCHours(),i;switch(o===12?i=rm.noon:o===0?i=rm.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var o=e.getUTCHours(),i;switch(o>=17?i=rm.evening:o>=12?i=rm.afternoon:o>=4?i=rm.morning:i=rm.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var o=e.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Xu.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Xu.H(e,n)},K:function(e,n,r){var o=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):$n(o,n.length)},k:function(e,n,r){var o=e.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):$n(o,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Xu.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Xu.s(e,n)},S:function(e,n){return Xu.S(e,n)},X:function(e,n,r,o){var i=o._originalDate||e,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return _W(s);case"XXXX":case"XX":return Hf(s);case"XXXXX":case"XXX":default:return Hf(s,":")}},x:function(e,n,r,o){var i=o._originalDate||e,s=i.getTimezoneOffset();switch(n){case"x":return _W(s);case"xxxx":case"xx":return Hf(s);case"xxxxx":case"xxx":default:return Hf(s,":")}},O:function(e,n,r,o){var i=o._originalDate||e,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+CW(s,":");case"OOOO":default:return"GMT"+Hf(s,":")}},z:function(e,n,r,o){var i=o._originalDate||e,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+CW(s,":");case"zzzz":default:return"GMT"+Hf(s,":")}},t:function(e,n,r,o){var i=o._originalDate||e,s=Math.floor(i.getTime()/1e3);return $n(s,n.length)},T:function(e,n,r,o){var i=o._originalDate||e,s=i.getTime();return $n(s,n.length)}};function CW(t,e){var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=e;return n+String(o)+s+$n(i,2)}function _W(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$n(Math.abs(t)/60,2)}return Hf(t,e)}function Hf(t,e){var n=e||"",r=t>0?"-":"+",o=Math.abs(t),i=$n(Math.floor(o/60),2),s=$n(o%60,2);return r+i+n+s}var EW=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Soe=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},net=function(e,n){var r=e.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return EW(e,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",EW(o,n)).replace("{{time}}",Soe(i,n))},aO={p:Soe,P:net},ret=["D","DD"],oet=["YY","YYYY"];function Coe(t){return ret.indexOf(t)!==-1}function _oe(t){return oet.indexOf(t)!==-1}function ME(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iet={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},set=function(e,n,r){var o,i=iet[e];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o},aet={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cet={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uet={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},det={date:sg({formats:aet,defaultWidth:"full"}),time:sg({formats:cet,defaultWidth:"full"}),dateTime:sg({formats:uet,defaultWidth:"full"})},fet={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},het=function(e,n,r,o){return fet[e]},pet={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},met={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},get={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vet={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yet={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bet={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xet=function(e,n){var r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wet={ordinalNumber:xet,era:ql({values:pet,defaultWidth:"wide"}),quarter:ql({values:met,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ql({values:get,defaultWidth:"wide"}),day:ql({values:vet,defaultWidth:"wide"}),dayPeriod:ql({values:yet,defaultWidth:"wide",formattingValues:bet,defaultFormattingWidth:"wide"})},Cet=/^(\d+)(th|st|nd|rd)?/i,_et=/\d+/i,Eet={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tet={any:[/^b/i,/^(a|c)/i]},Iet={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pet={any:[/1/i,/2/i,/3/i,/4/i]},Ret={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ket={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Det={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$et={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Met={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Oet={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aet={ordinalNumber:EQ({matchPattern:Cet,parsePattern:_et,valueCallback:function(e){return parseInt(e,10)}}),era:Kl({matchPatterns:Eet,defaultMatchWidth:"wide",parsePatterns:Tet,defaultParseWidth:"any"}),quarter:Kl({matchPatterns:Iet,defaultMatchWidth:"wide",parsePatterns:Pet,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Kl({matchPatterns:Ret,defaultMatchWidth:"wide",parsePatterns:ket,defaultParseWidth:"any"}),day:Kl({matchPatterns:Det,defaultMatchWidth:"wide",parsePatterns:$et,defaultParseWidth:"any"}),dayPeriod:Kl({matchPatterns:Met,defaultMatchWidth:"any",parsePatterns:Oet,defaultParseWidth:"any"})},sF={code:"en-US",formatDistance:set,formatLong:det,formatRelative:het,localize:wet,match:Aet,options:{weekStartsOn:0,firstWeekContainsDate:1}},Net=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jet=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Let=/^'([^]*?)'?$/,Fet=/''/g,zet=/[a-zA-Z]/;function OE(t,e,n){var r,o,i,s,a,l,c,u,d,f,m,g,v,y,b,x,w,C;kt(2,arguments);var E=String(e),_=Dc(),S=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:_.locale)!==null&&r!==void 0?r:sF,T=Jn((i=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:_.firstWeekContainsDate)!==null&&s!==void 0?s:(d=_.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=Jn((m=(g=(v=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(b=n.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&v!==void 0?v:_.weekStartsOn)!==null&&g!==void 0?g:(w=_.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var P=Dt(t);if(!$E(P))throw new RangeError("Invalid time value");var M=DE(P),R=yoe(P,M),k={firstWeekContainsDate:T,weekStartsOn:I,locale:S,_originalDate:P},D=E.match(jet).map(function(A){var N=A[0];if(N==="p"||N==="P"){var O=aO[N];return O(A,S.formatLong)}return A}).join("").match(Net).map(function(A){if(A==="''")return"'";var N=A[0];if(N==="'")return Bet(A);var O=tet[N];if(O)return!(n!=null&&n.useAdditionalWeekYearTokens)&&_oe(A)&&ME(A,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Coe(A)&&ME(A,e,String(t)),O(R,A,S.localize,k);if(N.match(zet))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return A}).join("");return D}function Bet(t){var e=t.match(Let);return e?e[1].replace(Fet,"'"):t}function Vet(t){kt(1,arguments);var e=Dt(t),n=e.getDate();return n}function Eoe(t){kt(1,arguments);var e=Dt(t),n=e.getFullYear(),r=e.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Het(t){kt(1,arguments);var e=Dt(t),n=e.getHours();return n}function Wet(t){kt(1,arguments);var e=Dt(t),n=e.getMinutes();return n}function Uet(t){kt(1,arguments);var e=Dt(t),n=e.getMonth();return n}function qet(t){kt(1,arguments);var e=Dt(t),n=e.getSeconds();return n}function Ket(t){kt(1,arguments);var e=Dt(t),n=e.getMilliseconds();return n}function Th(t,e){var n,r,o,i,s,a,l,c;kt(1,arguments);var u=Dc(),d=Jn((n=(r=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Dt(t),m=f.getDay(),g=(m<d?7:0)+m-d;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function Get(t,e){var n,r,o,i,s,a,l,c;kt(1,arguments);var u=Dt(t),d=u.getFullYear(),f=Dc(),m=Jn((n=(r=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(d+1,0,m),g.setHours(0,0,0,0);var v=Th(g,e),y=new Date(0);y.setFullYear(d,0,m),y.setHours(0,0,0,0);var b=Th(y,e);return u.getTime()>=v.getTime()?d+1:u.getTime()>=b.getTime()?d:d-1}function Yet(t,e){var n,r,o,i,s,a,l,c;kt(1,arguments);var u=Dc(),d=Jn((n=(r=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Get(t,e),m=new Date(0);m.setFullYear(f,0,d),m.setHours(0,0,0,0);var g=Th(m,e);return g}var Xet=6048e5;function Qet(t,e){kt(1,arguments);var n=Dt(t),r=Th(n,e).getTime()-Yet(n,e).getTime();return Math.round(r/Xet)+1}function Jet(t){return kt(1,arguments),Dt(t).getFullYear()}function vk(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e);return n.getTime()>r.getTime()}function qy(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e);return n.getTime()<r.getTime()}function Zet(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e);return n.getTime()===r.getTime()}function ett(t,e){kt(2,arguments);var n=dv(t),r=dv(e);return n.getTime()===r.getTime()}function ttt(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e);return n.getFullYear()===r.getFullYear()}function ntt(t,e){kt(2,arguments);var n=Dt(t),r=Dt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function TW(t){kt(1,arguments);var e=Dt(t);return e.setMinutes(0,0,0),e}function rtt(t,e){kt(2,arguments);var n=TW(t),r=TW(e);return n.getTime()===r.getTime()}function ott(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var itt=10,Toe=function(){function t(){on(this,t),te(this,"priority",void 0),te(this,"subPriority",0)}return sn(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),stt=function(t){Sn(n,t);var e=Cn(n);function n(r,o,i,s,a){var l;return on(this,n),l=e.call(this),l.value=r,l.validateValue=o,l.setValue=i,l.priority=s,a&&(l.subPriority=a),l}return sn(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(Toe),att=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",itt),te(et(r),"subPriority",-1),r}return sn(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(Toe),lr=function(){function t(){on(this,t),te(this,"incompatibleTokens",void 0),te(this,"priority",void 0),te(this,"subPriority",void 0)}return sn(t,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new stt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),t}(),ltt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",140),te(et(r),"incompatibleTokens",["R","u","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(lr),$o={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Gl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Mo(t,e){return t&&{value:e(t.value),rest:t.rest}}function co(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Yl(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*BI+i*zI+s*VZe),rest:e.slice(n[0].length)}}function Ioe(t){return co($o.anyDigitsSigned,t)}function Eo(t,e){switch(t){case 1:return co($o.singleDigit,e);case 2:return co($o.twoDigits,e);case 3:return co($o.threeDigits,e);case 4:return co($o.fourDigits,e);default:return co(new RegExp("^\\d{1,"+t+"}"),e)}}function AE(t,e){switch(t){case 1:return co($o.singleDigitSigned,e);case 2:return co($o.twoDigitsSigned,e);case 3:return co($o.threeDigitsSigned,e);case 4:return co($o.fourDigitsSigned,e);default:return co(new RegExp("^-?\\d{1,"+t+"}"),e)}}function aF(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Poe(t,e){var n=e>0,r=n?e:1-e,o;if(r<=50)o=t||100;else{var i=r+50,s=Math.floor(i/100)*100,a=t>=i%100;o=t+s-(a?100:0)}return n?o:1-o}function Roe(t){return t%400===0||t%4===0&&t%100!==0}var ctt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",130),te(et(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){var a=function(c){return{year:c,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Mo(Eo(4,o),a);case"yo":return Mo(s.ordinalNumber(o,{unit:"year"}),a);default:return Mo(Eo(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var l=Poe(s.year,a);return o.setUTCFullYear(l,0,1),o.setUTCHours(0,0,0,0),o}var c=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(lr),utt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",130),te(et(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){var a=function(c){return{year:c,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Mo(Eo(4,o),a);case"Yo":return Mo(s.ordinalNumber(o,{unit:"year"}),a);default:return Mo(Eo(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var l=iF(o,a);if(s.isTwoDigitYear){var c=Poe(s.year,l);return o.setUTCFullYear(c,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),ip(o,a)}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),ip(o,a)}}]),n}(lr),dtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",130),te(et(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i){return AE(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),fv(a)}}]),n}(lr),ftt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",130),te(et(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i){return AE(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(lr),htt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",120),te(et(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Eo(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(lr),ptt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",120),te(et(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Eo(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(lr),mtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),te(et(r),"priority",110),r}return sn(n,[{key:"parse",value:function(o,i,s){var a=function(c){return c-1};switch(i){case"M":return Mo(co($o.month,o),a);case"MM":return Mo(Eo(2,o),a);case"Mo":return Mo(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(lr),gtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",110),te(et(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){var a=function(c){return c-1};switch(i){case"L":return Mo(co($o.month,o),a);case"LL":return Mo(Eo(2,o),a);case"Lo":return Mo(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(lr);function vtt(t,e,n){kt(2,arguments);var r=Dt(t),o=Jn(e),i=woe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var ytt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",100),te(et(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return co($o.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return ip(vtt(o,s,a),a)}}]),n}(lr);function btt(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e),o=xoe(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var xtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",100),te(et(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return co($o.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return fv(btt(o,s))}}]),n}(lr),wtt=[31,28,31,30,31,30,31,31,30,31,30,31],Stt=[31,29,31,30,31,30,31,31,30,31,30,31],Ctt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",90),te(et(r),"subPriority",1),te(et(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return co($o.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=Roe(s),l=o.getUTCMonth();return a?i>=1&&i<=Stt[l]:i>=1&&i<=wtt[l]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(lr),_tt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",90),te(et(r),"subpriority",1),te(et(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return co($o.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=Roe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(lr);function lF(t,e,n){var r,o,i,s,a,l,c,u;kt(2,arguments);var d=Dc(),f=Jn((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&o!==void 0?o:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Dt(t),g=Jn(e),v=m.getUTCDay(),y=g%7,b=(y+7)%7,x=(b<f?7:0)+g-v;return m.setUTCDate(m.getUTCDate()+x),m}var Ett=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",90),te(et(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=lF(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(lr),Ttt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",90),te(et(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s,a){var l=function(u){var d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(i){case"e":case"ee":return Mo(Eo(i.length,o),l);case"eo":return Mo(s.ordinalNumber(o,{unit:"day"}),l);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=lF(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(lr),Itt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",90),te(et(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s,a){var l=function(u){var d=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+d};switch(i){case"c":case"cc":return Mo(Eo(i.length,o),l);case"co":return Mo(s.ordinalNumber(o,{unit:"day"}),l);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=lF(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(lr);function Ptt(t,e){kt(2,arguments);var n=Jn(e);n%7===0&&(n=n-7);var r=1,o=Dt(t),i=o.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+l),o}var Rtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",90),te(et(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){var a=function(c){return c===0?7:c};switch(i){case"i":case"ii":return Eo(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Mo(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Mo(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Mo(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Mo(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=Ptt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(lr),ktt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",80),te(et(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(aF(s),0,0,0),o}}]),n}(lr),Dtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",80),te(et(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(aF(s),0,0,0),o}}]),n}(lr),$tt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",80),te(et(r),"incompatibleTokens",["a","b","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(aF(s),0,0,0),o}}]),n}(lr),Mtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",70),te(et(r),"incompatibleTokens",["H","K","k","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return co($o.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(lr),Ott=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",70),te(et(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return co($o.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(lr),Att=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",70),te(et(r),"incompatibleTokens",["h","H","k","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return co($o.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(lr),Ntt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",70),te(et(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return co($o.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(lr),jtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",60),te(et(r),"incompatibleTokens",["t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return co($o.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(lr),Ltt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",50),te(et(r),"incompatibleTokens",["t","T"]),r}return sn(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return co($o.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Eo(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(lr),Ftt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",30),te(et(r),"incompatibleTokens",["t","T"]),r}return sn(n,[{key:"parse",value:function(o,i){var s=function(l){return Math.floor(l*Math.pow(10,-i.length+3))};return Mo(Eo(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(lr),ztt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",10),te(et(r),"incompatibleTokens",["t","T","x"]),r}return sn(n,[{key:"parse",value:function(o,i){switch(i){case"X":return Yl(Gl.basicOptionalMinutes,o);case"XX":return Yl(Gl.basic,o);case"XXXX":return Yl(Gl.basicOptionalSeconds,o);case"XXXXX":return Yl(Gl.extendedOptionalSeconds,o);case"XXX":default:return Yl(Gl.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(lr),Btt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",10),te(et(r),"incompatibleTokens",["t","T","X"]),r}return sn(n,[{key:"parse",value:function(o,i){switch(i){case"x":return Yl(Gl.basicOptionalMinutes,o);case"xx":return Yl(Gl.basic,o);case"xxxx":return Yl(Gl.basicOptionalSeconds,o);case"xxxxx":return Yl(Gl.extendedOptionalSeconds,o);case"xxx":default:return Yl(Gl.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(lr),Vtt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",40),te(et(r),"incompatibleTokens","*"),r}return sn(n,[{key:"parse",value:function(o){return Ioe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(lr),Htt=function(t){Sn(n,t);var e=Cn(n);function n(){var r;on(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),te(et(r),"priority",20),te(et(r),"incompatibleTokens","*"),r}return sn(n,[{key:"parse",value:function(o){return Ioe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(lr),Wtt={G:new ltt,y:new ctt,Y:new utt,R:new dtt,u:new ftt,Q:new htt,q:new ptt,M:new mtt,L:new gtt,w:new ytt,I:new xtt,d:new Ctt,D:new _tt,E:new Ett,e:new Ttt,c:new Itt,i:new Rtt,a:new ktt,b:new Dtt,B:new $tt,h:new Mtt,H:new Ott,K:new Att,k:new Ntt,m:new jtt,s:new Ltt,S:new Ftt,X:new ztt,x:new Btt,t:new Vtt,T:new Htt},Utt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qtt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ktt=/^'([^]*?)'?$/,Gtt=/''/g,Ytt=/\S/,Xtt=/[a-zA-Z]/;function Qtt(t,e,n,r){var o,i,s,a,l,c,u,d,f,m,g,v,y,b,x,w,C,E;kt(3,arguments);var _=String(t),S=String(e),T=Dc(),I=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:T.locale)!==null&&o!==void 0?o:sF;if(!I.match)throw new RangeError("locale must contain match property");var P=Jn((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(f=T.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=Jn((g=(v=(y=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(x=r.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:T.weekStartsOn)!==null&&v!==void 0?v:(C=T.locale)===null||C===void 0||(E=C.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&g!==void 0?g:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return _===""?Dt(n):new Date(NaN);var R={firstWeekContainsDate:P,weekStartsOn:M,locale:I},k=[new att],D=S.match(qtt).map(function(X){var ue=X[0];if(ue in aO){var _e=aO[ue];return _e(X,I.formatLong)}return X}).join("").match(Utt),A=[],N=K8(D),O;try{var j=function(){var ue=O.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&_oe(ue)&&ME(ue,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Coe(ue)&&ME(ue,S,t);var _e=ue[0],Ce=Wtt[_e];if(Ce){var pe=Ce.incompatibleTokens;if(Array.isArray(pe)){var ge=A.find(function(ce){return pe.includes(ce.token)||ce.token===_e});if(ge)throw new RangeError("The format string mustn't contain `".concat(ge.fullToken,"` and `").concat(ue,"` at the same time"))}else if(Ce.incompatibleTokens==="*"&&A.length>0)throw new RangeError("The format string mustn't contain `".concat(ue,"` and any other token at the same time"));A.push({token:_e,fullToken:ue});var F=Ce.run(_,ue,I.match,R);if(!F)return{v:new Date(NaN)};k.push(F.setter),_=F.rest}else{if(_e.match(Xtt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_e+"`");if(ue==="''"?ue="'":_e==="'"&&(ue=Jtt(ue)),_.indexOf(ue)===0)_=_.slice(ue.length);else return{v:new Date(NaN)}}};for(N.s();!(O=N.n()).done;){var L=j();if(At(L)==="object")return L.v}}catch(X){N.e(X)}finally{N.f()}if(_.length>0&&Ytt.test(_))return new Date(NaN);var z=k.map(function(X){return X.priority}).sort(function(X,ue){return ue-X}).filter(function(X,ue,_e){return _e.indexOf(X)===ue}).map(function(X){return k.filter(function(ue){return ue.priority===X}).sort(function(ue,_e){return _e.subPriority-ue.subPriority})}).map(function(X){return X[0]}),V=Dt(n);if(isNaN(V.getTime()))return new Date(NaN);var W=yoe(V,DE(V)),Y={},U=K8(z),q;try{for(U.s();!(q=U.n()).done;){var K=q.value;if(!K.validate(W,R))return new Date(NaN);var J=K.set(W,Y,R);Array.isArray(J)?(W=J[0],ott(Y,J[1])):W=J}}catch(X){U.e(X)}finally{U.f()}return W}function Jtt(t){return t.match(Ktt)[1].replace(Gtt,"'")}function Ztt(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);return n.setDate(r),n}function ent(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);return n.setHours(r),n}function tnt(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);return n.setMinutes(r),n}function nnt(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=Eoe(s);return n.setMonth(r,Math.min(i,a)),n}function rnt(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);return n.setSeconds(r),n}function ont(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);return n.setMilliseconds(r),n}function int(t,e){kt(2,arguments);var n=Dt(t),r=Jn(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function IW(t){kt(1,arguments);var e=Dt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function pS(t){kt(1,arguments);var e=Dt(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function snt(t,e){var n;kt(1,arguments);var r=Jn((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=unt(t),i;if(o.date){var s=dnt(o.date,r);i=fnt(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),l=0,c;if(o.time&&(l=hnt(o.time),isNaN(l)))return new Date(NaN);if(o.timezone){if(c=pnt(o.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var mS={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ant=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lnt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cnt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function unt(t){var e={},n=t.split(mS.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],mS.timeZoneDelimiter.test(e.date)&&(e.date=t.split(mS.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var o=mS.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function dnt(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function fnt(t,e){if(e===null)return new Date(NaN);var n=t.match(ant);if(!n)return new Date(NaN);var r=!!n[4],o=Ky(n[1]),i=Ky(n[2])-1,s=Ky(n[3]),a=Ky(n[4]),l=Ky(n[5])-1;if(r)return bnt(e,a,l)?mnt(e,a,l):new Date(NaN);var c=new Date(0);return!vnt(e,i,s)||!ynt(e,o)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(o,s)),c)}function Ky(t){return t?parseInt(t):1}function hnt(t){var e=t.match(lnt);if(!e)return NaN;var n=yk(e[1]),r=yk(e[2]),o=yk(e[3]);return xnt(n,r,o)?n*BI+r*zI+o*1e3:NaN}function yk(t){return t&&parseFloat(t.replace(",","."))||0}function pnt(t){if(t==="Z")return 0;var e=t.match(cnt);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return wnt(r,o)?n*(r*BI+o*zI):NaN}function mnt(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var o=r.getUTCDay()||7,i=(e-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var gnt=[31,null,31,30,31,30,31,31,30,31,30,31];function koe(t){return t%400===0||t%4===0&&t%100!==0}function vnt(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(gnt[e]||(koe(t)?29:28))}function ynt(t,e){return e>=1&&e<=(koe(t)?366:365)}function bnt(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function xnt(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function wnt(t,e){return e>=0&&e<=59}function Snt(t,e){var n,r;kt(1,arguments);var o=Dt(t);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),s=String((r=e==null?void 0:e.representation)!==null&&r!==void 0?r:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",c=i==="extended"?"-":"",u=i==="extended"?":":"";if(s!=="time"){var d=$n(o.getDate(),2),f=$n(o.getMonth()+1,2),m=$n(o.getFullYear(),4);a="".concat(m).concat(c).concat(f).concat(c).concat(d)}if(s!=="date"){var g=o.getTimezoneOffset();if(g!==0){var v=Math.abs(g),y=$n(Math.floor(v/60),2),b=$n(v%60,2),x=g<0?"+":"-";l="".concat(x).concat(y,":").concat(b)}else l="Z";var w=$n(o.getHours(),2),C=$n(o.getMinutes(),2),E=$n(o.getSeconds(),2),_=a===""?"":"T",S=[w,C,E].join(u);a="".concat(a).concat(_).concat(S).concat(l)}return a}function Cnt(t,e){kt(2,arguments);var n=Dt(t).getTime(),r=Dt(e.start).getTime(),o=Dt(e.end).getTime();if(!(r<=o))throw new RangeError("Invalid interval");return n>=r&&n<=o}var lO={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(l,c){switch(l){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},r=function(l,c){switch(l){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},o=function(l,c){var u=l.match(/(P+)(p+)?/)||[],d=u[1],f=u[2];if(!f)return n(l,c);var m;switch(d){case"P":m=c.dateTime({width:"short"});break;case"PP":m=c.dateTime({width:"medium"});break;case"PPP":m=c.dateTime({width:"long"});break;case"PPPP":default:m=c.dateTime({width:"full"});break}return m.replace("{{date}}",n(d,c)).replace("{{time}}",r(f,c))},i={p:r,P:o},s=i;e.default=s,t.exports=e.default})(lO,lO.exports);var _nt=lO.exports;const Ent=pv(_nt),Tnt={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Int={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Doe{constructor({locale:e,formats:n}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Tnt,this.escapedCharacters={start:"'",end:"'"},this.date=r=>typeof r>"u"?new Date:r===null?null:new Date(r),this.dateWithTimezone=r=>this.date(r),this.getTimezone=()=>"default",this.setTimezone=r=>r,this.toJsDate=r=>r,this.parseISO=r=>snt(r),this.toISO=r=>Snt(r,{format:"extended"}),this.parse=(r,o)=>r===""?null:Qtt(r,o,new Date,{locale:this.locale}),this.getCurrentLocaleCode=()=>{var r;return((r=this.locale)==null?void 0:r.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time()):!0,this.expandFormat=r=>{const o=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return r.match(o).map(i=>{const s=i[0];if(s==="p"||s==="P"){const a=Ent[s],l=this.locale||sF;return a(i,l.formatLong,{})}return i}).join("")},this.getFormatHelperText=r=>this.expandFormat(r).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=r=>r===null,this.isValid=r=>$E(this.date(r)),this.format=(r,o)=>this.formatByString(r,this.formats[o]),this.formatByString=(r,o)=>OE(r,o,{locale:this.locale}),this.formatNumber=r=>r,this.getDiff=(r,o,i)=>{switch(i){case"years":return OZe(r,this.date(o));case"quarters":return LZe(r,this.date(o));case"months":return goe(r,this.date(o));case"weeks":return BZe(r,this.date(o));case"days":return voe(r,this.date(o));case"hours":return HZe(r,this.date(o));case"minutes":return WZe(r,this.date(o));case"seconds":return UZe(r,this.date(o));default:return VI(r,this.date(o))}},this.isEqual=(r,o)=>r===null&&o===null?!0:Zet(r,o),this.isSameYear=(r,o)=>ttt(r,o),this.isSameMonth=(r,o)=>ntt(r,o),this.isSameDay=(r,o)=>ett(r,o),this.isSameHour=(r,o)=>rtt(r,o),this.isAfter=(r,o)=>vk(r,o),this.isAfterYear=(r,o)=>vk(r,gk(o)),this.isAfterDay=(r,o)=>vk(r,iO(o)),this.isBefore=(r,o)=>qy(r,o),this.isBeforeYear=(r,o)=>qy(r,pS(o)),this.isBeforeDay=(r,o)=>qy(r,dv(o)),this.isWithinRange=(r,[o,i])=>Cnt(r,{start:o,end:i}),this.startOfYear=r=>pS(r),this.startOfMonth=r=>IW(r),this.startOfWeek=r=>Th(r,{locale:this.locale}),this.startOfDay=r=>dv(r),this.endOfYear=r=>gk(r),this.endOfMonth=r=>sO(r),this.endOfWeek=r=>mk(r,{locale:this.locale}),this.endOfDay=r=>iO(r),this.addYears=(r,o)=>xW(r,o),this.addMonths=(r,o)=>$C(r,o),this.addWeeks=(r,o)=>$Ze(r,o),this.addDays=(r,o)=>oO(r,o),this.addHours=(r,o)=>DZe(r,o),this.addMinutes=(r,o)=>RZe(r,o),this.addSeconds=(r,o)=>IZe(r,o),this.getYear=r=>Jet(r),this.getMonth=r=>Uet(r),this.getDate=r=>Vet(r),this.getHours=r=>Het(r),this.getMinutes=r=>Wet(r),this.getSeconds=r=>qet(r),this.getMilliseconds=r=>Ket(r),this.setYear=(r,o)=>int(r,o),this.setMonth=(r,o)=>nnt(r,o),this.setDate=(r,o)=>Ztt(r,o),this.setHours=(r,o)=>ent(r,o),this.setMinutes=(r,o)=>tnt(r,o),this.setSeconds=(r,o)=>rnt(r,o),this.setMilliseconds=(r,o)=>ont(r,o),this.getDaysInMonth=r=>Eoe(r),this.getNextMonth=r=>$C(r,1),this.getPreviousMonth=r=>$C(r,-1),this.getMonthArray=r=>{const i=[pS(r)];for(;i.length<12;){const s=i[i.length-1];i.push(this.getNextMonth(s))}return i},this.mergeDateAndTime=(r,o)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(o)),this.getMinutes(o)),this.getSeconds(o)),this.getWeekdays=()=>{const r=new Date;return qZe({start:Th(r,{locale:this.locale}),end:mk(r,{locale:this.locale})}).map(o=>this.formatByString(o,"EEEEEE"))},this.getWeekArray=r=>{const o=Th(IW(r),{locale:this.locale}),i=mk(sO(r),{locale:this.locale});let s=0,a=o;const l=[];for(;qy(a,i);){const c=Math.floor(s/7);l[c]=l[c]||[],l[c].push(a),a=oO(a,1),s+=1}return l},this.getWeekNumber=r=>Qet(r,{locale:this.locale}),this.getYearRange=(r,o)=>{const i=pS(r),s=gk(o),a=[];let l=i;for(;qy(l,s);)a.push(l),l=xW(l,1);return a},this.getMeridiemText=r=>r==="am"?"AM":"PM",this.locale=e,this.formats=B({},Int,n)}}const $oe=({nom:t,setNom:e,pole:n,setPole:r,heureDebut:o,setHeureDebut:i,heureFin:s,setHeureFin:a,poles:l,onNext:c,onSave:u,onSaveOnly:d})=>{const f=t.trim()!==""&&n!=="",[m,g]=h.useState(!1),[v,y]=h.useState({nom:t,pole:n,heureDebut:o,heureFin:s});h.useEffect(()=>{y({nom:t,pole:n,heureDebut:o,heureFin:s})},[]),h.useEffect(()=>{t!==v.nom||n!==v.pole||o.getTime()!==v.heureDebut.getTime()||s.getTime()!==v.heureFin.getTime()?g(!0):g(!1)},[t,n,o,s,v]);const b=()=>{y({nom:t,pole:n,heureDebut:o,heureFin:s}),g(!1),d?d():u&&u()};return p.jsxs(bn,{elevation:2,sx:{p:2,mb:2},children:[p.jsx(Ne,{variant:"h6",gutterBottom:!0,children:"Configuration de la tournée"}),p.jsxs(vt,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,mb:2},children:[p.jsx(_n,{label:"Nom de la tournée",value:t,onChange:x=>e(x.target.value),fullWidth:!0,required:!0,error:t.trim()==="",helperText:t.trim()===""?"Le nom est obligatoire":"",sx:{"& .MuiFormLabel-root":{background:"white",padding:"0 4px"},"& .MuiFormHelperText-root":{marginLeft:0,position:"relative",top:"-2px"}},placeholder:"Saisissez le nom de la tournée"}),p.jsxs(qd,{fullWidth:!0,required:!0,error:n==="",sx:{"& .MuiFormLabel-root":{background:"white",padding:"0 4px"}},children:[p.jsx(Kd,{id:"pole-select-label",children:"Pôle"}),p.jsxs(hu,{labelId:"pole-select-label",value:n,label:"Pôle",onChange:x=>r(x.target.value),displayEmpty:!0,children:[p.jsx(vr,{value:"",disabled:!0,children:p.jsx("em",{children:"Sélectionnez un pôle"})}),l.map(x=>p.jsx(vr,{value:x.id,children:x.nom},x.id))]})]})]}),p.jsx(NI,{dateAdapter:Doe,adapterLocale:sw,children:p.jsxs(vt,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,mb:2},children:[p.jsx(rO,{label:"Heure de début",value:o,onChange:x=>x&&i(x),slotProps:{textField:{fullWidth:!0,sx:{"& .MuiFormLabel-root":{background:"white",padding:"0 4px"}},placeholder:"Sélectionnez l'heure de début"}}}),p.jsx(rO,{label:"Heure de fin",value:s,onChange:x=>x&&a(x),slotProps:{textField:{fullWidth:!0,sx:{"& .MuiFormLabel-root":{background:"white",padding:"0 4px"}},placeholder:"Sélectionnez l'heure de fin"}}})]})}),p.jsx(vt,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:p.jsx(Mt,{variant:"contained",disabled:!f,onClick:b,color:m?"success":"primary",children:"Enregistrer"})})]})};var cF={},bk={};const Pnt=Eu(I8e);var PW;function Pl(){return PW||(PW=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Pnt}(bk)),bk}var Rnt=pa;Object.defineProperty(cF,"__esModule",{value:!0});var Moe=cF.default=void 0,knt=Rnt(Pl()),Dnt=p;Moe=cF.default=(0,knt.default)((0,Dnt.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const $nt=({site:t,inTour:e=!1,order:n,onAdd:r,onRemove:o})=>{const[i,s]=h.useState(!1),[a,l]=h.useState(5),c=()=>{s(!0)},u=()=>{s(!1)},d=()=>{r&&r(t,a),u()};return p.jsxs(p.Fragment,{children:[p.jsxs(Bm,{sx:{mb:1,position:"relative",borderLeft:e?"4px solid #1976d2":"none","&:hover":{boxShadow:3}},children:[e&&n&&p.jsx(vt,{sx:{position:"absolute",left:-12,top:"50%",transform:"translateY(-50%)",bgcolor:"#1976d2",color:"white",width:24,height:24,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:n}),p.jsx(Vm,{sx:{py:1,"&:last-child":{pb:1}},children:p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[p.jsxs(vt,{children:[p.jsx(Ne,{variant:"subtitle1",component:"div",fontWeight:"bold",children:t.nom}),p.jsx(Ne,{variant:"body2",color:"text.secondary",children:t.adresse}),p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:[t.codePostal," ",t.ville]})]}),p.jsx(vt,{children:p.jsx(mg,{title:e?"Ajouter à nouveau":"Ajouter à la tournée",children:p.jsx(wr,{color:"primary",size:"small",onClick:c,sx:{...e&&{bgcolor:"rgba(25, 118, 210, 0.1)","&:hover":{bgcolor:"rgba(25, 118, 210, 0.2)"}}},children:p.jsx(df,{})})})})]})})]}),p.jsxs(ss,{open:i,onClose:u,maxWidth:"xs",fullWidth:!0,children:[p.jsxs(Ds,{children:["Ajouter ",t.nom," à la tournée"]}),p.jsx(ls,{children:p.jsxs(vt,{sx:{mt:1,mb:2},children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Configurez la durée d'arrêt pour ce site"}),p.jsxs(vt,{sx:{display:"flex",alignItems:"center",mt:2},children:[p.jsx(Are,{sx:{mr:1,color:"text.secondary"}}),p.jsx(_n,{label:"Durée d'arrêt",type:"number",value:a,onChange:f=>{const m=parseInt(f.target.value);!isNaN(m)&&m>0&&l(m)},fullWidth:!0,InputProps:{endAdornment:p.jsx(kI,{position:"end",children:"minutes"})},inputProps:{min:1,max:120}})]})]})}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:u,children:"Annuler"}),p.jsx(Mt,{onClick:d,variant:"contained",children:"Ajouter"})]})]})]})},xk=10,Ooe=({sites:t=[],selectedSites:e=new Set,onAddSite:n,title:r="Sites disponibles"})=>{const[o,i]=h.useState(""),[s,a]=h.useState(xk),[l,c]=h.useState(!1),u=h.useMemo(()=>{if(!o.trim())return t||[];const g=o.toLowerCase().trim();return t.filter(v=>v?v.nom&&v.nom.toLowerCase().includes(g)||v.adresse&&v.adresse.toLowerCase().includes(g)||v.ville&&v.ville.toLowerCase().includes(g)||v.codePostal&&v.codePostal.includes(g):!1)},[o,t]),d=oe.useRef(null),f=oe.useCallback(g=>{l||(d.current&&d.current.disconnect(),d.current=new IntersectionObserver(v=>{v[0].isIntersecting&&s<u.length&&(c(!0),setTimeout(()=>{a(y=>Math.min(y+xk,u.length)),c(!1)},100))}),g&&d.current.observe(g))},[u.length,s,l]);h.useEffect(()=>{a(xk)},[o]);const m=h.useMemo(()=>u.slice(0,s),[u,s]);return p.jsxs(bn,{elevation:2,sx:{height:"100%",display:"flex",flexDirection:"column",p:2},children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[p.jsx(Ne,{variant:"h6",children:r}),p.jsx(JWe,{badgeContent:e.size,color:"primary",showZero:!1,sx:{"& .MuiBadge-badge":{fontSize:"0.75rem",height:"20px",minWidth:"20px"}},children:p.jsx(Ne,{variant:"caption",color:"text.secondary",children:"Sites sélectionnés"})})]}),p.jsx(_n,{placeholder:"Rechercher un site...",variant:"outlined",size:"small",fullWidth:!0,value:o,onChange:g=>i(g.target.value),InputProps:{startAdornment:p.jsx(kI,{position:"start",children:p.jsx(Moe,{})})},sx:{mb:2}}),p.jsxs(vt,{sx:{overflow:"auto",flexGrow:1},id:"sites-scrollbox",children:[u.length>0?p.jsxs(p.Fragment,{children:[m.map((g,v)=>p.jsx("div",{ref:v===m.length-1?f:void 0,children:p.jsx($nt,{site:g,onAdd:(y,b)=>n(y,b),inTour:e.has(g.id)})},g.id)),l&&p.jsx(vt,{sx:{display:"flex",justifyContent:"center",my:2},children:p.jsx(Hi,{size:24})})]}):p.jsx(Ne,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:2},children:"Aucun site ne correspond à votre recherche."}),p.jsxs(Ne,{variant:"caption",color:"text.secondary",align:"center",sx:{display:"block",mt:1},children:["Affichage de ",m.length," sur ",u.length," sites"]})]})]})};var uF={},Mnt=pa;Object.defineProperty(uF,"__esModule",{value:!0});var Aoe=uF.default=void 0,Ont=Mnt(Pl()),Ant=p;Aoe=uF.default=(0,Ont.default)((0,Ant.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var dF={},Nnt=pa;Object.defineProperty(dF,"__esModule",{value:!0});var Noe=dF.default=void 0,jnt=Nnt(Pl()),Lnt=p;Noe=dF.default=(0,jnt.default)((0,Lnt.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var fF={},Fnt=pa;Object.defineProperty(fF,"__esModule",{value:!0});var joe=fF.default=void 0,znt=Fnt(Pl()),Bnt=p;joe=fF.default=(0,znt.default)((0,Bnt.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var hF={},Vnt=pa;Object.defineProperty(hF,"__esModule",{value:!0});var Loe=hF.default=void 0,Hnt=Vnt(Pl()),Wnt=p;Loe=hF.default=(0,Hnt.default)((0,Wnt.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");var pF={},Unt=pa;Object.defineProperty(pF,"__esModule",{value:!0});var Foe=pF.default=void 0,qnt=Unt(Pl()),Knt=p;Foe=pF.default=(0,qnt.default)((0,Knt.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown");const Gnt=({sites:t=[],availableSites:e=[],onSitesChange:n,onAddSite:r,onBack:o,onNext:i})=>{const s=Xa(),[a,l]=h.useState(null),[c,u]=h.useState(null),d=(_,S)=>{const T=_.includes("_")?_.split("_")[0]:_,I=S.find(P=>P.id===T);return I||(console.error(`Site with id ${_} not found`),{id:_,nom:"Site inconnu",adresse:"",ville:"",codePostal:""})},f=h.useCallback((_,S)=>{if(!S)return;const T=t.map(I=>I.id===_?{...I,heureArrivee:S}:I);n(T)},[t,n]),m=h.useCallback(_=>{const T=t.filter(I=>I.id!==_).map((I,P)=>({...I,ordre:P+1}));n(T)},[t,n]),g=h.useCallback(_=>{if(_===0)return;const S=[...t],T=S[_];S[_]=S[_-1],S[_-1]=T;const I=S.map((P,M)=>({...P,ordre:M+1}));n(I)},[t,n]),v=h.useCallback(_=>{if(_===t.length-1)return;const S=[...t],T=S[_];S[_]=S[_+1],S[_+1]=T;const I=S.map((P,M)=>({...P,ordre:M+1}));n(I)},[t,n]),y=(_,S)=>{console.log("Début du drag",S),_.dataTransfer.effectAllowed="move",_.dataTransfer.setData("text/plain",S.toString());const T=_.currentTarget;T&&setTimeout(()=>{T&&T.classList&&T.classList.add("dragging")},0),l(S)},b=(_,S)=>{_.preventDefault(),_.dataTransfer.dropEffect="move",c!==S&&(console.log("Drag over",S),u(S))},x=_=>{_.preventDefault();const S=_.currentTarget;S&&S.classList&&S.classList.add("drag-over")},w=_=>{const S=_.currentTarget;S&&S.classList&&S.classList.remove("drag-over")},C=(_,S)=>{_.preventDefault();const T=_.currentTarget;T&&T.classList&&T.classList.remove("drag-over")},E=_=>{console.log("Fin du drag",{draggedItem:a,dragOverItem:c});const S=_.currentTarget;if(S&&S.classList&&S.classList.remove("dragging"),a===null||c===null||a===c){l(null),u(null);return}const T=[...t],I=T[a];T.splice(a,1),T.splice(c,0,I);const P=T.map((M,R)=>({...M,ordre:R+1}));console.log("Sites réorganisés",P),n(P),l(null),u(null)};return console.log("Sites dans TourSites:",t),p.jsxs(bn,{elevation:2,sx:{p:2,mb:2},children:[p.jsx(Ne,{variant:"h6",gutterBottom:!0,children:"Sites de la tournée"}),p.jsx(vt,{sx:{mb:2},children:p.jsx(Mt,{variant:"outlined",startIcon:p.jsx(joe,{}),onClick:r,sx:{mb:2},children:"Ajouter un site"})}),!t||t.length===0?p.jsx(Ne,{variant:"body2",color:"text.secondary",sx:{mb:2},children:'Aucun site ajouté à cette tournée. Cliquez sur "Ajouter un site" pour commencer.'}):p.jsx(bn,{elevation:2,sx:{maxHeight:"400px",overflow:"auto",border:`1px solid ${s.palette.divider}`,"& .dragging":{opacity:.6,backgroundColor:"rgba(0, 171, 85, 0.08)"},"& .drag-over":{borderTop:`2px dashed ${s.palette.primary.main}`}},children:p.jsx(cs,{dense:!0,children:t.map((_,S)=>{const T=d(_.siteId||_.id,e);return p.jsxs($s,{sx:{p:1,borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:a===S?"rgba(0, 0, 0, 0.04)":"transparent"},draggable:!0,onDragStart:I=>y(I,S),onDragOver:I=>b(I,S),onDragEnter:x,onDragLeave:w,onDrop:I=>C(I),onDragEnd:E,children:[p.jsx(vt,{sx:{display:"flex",alignItems:"center",mr:1,color:"action.active"},children:p.jsx(Noe,{})}),p.jsx(vt,{sx:{mr:1},children:p.jsx(so,{label:S+1,color:S===0?"primary":S===t.length-1?"error":"default",size:"small"})}),p.jsxs(vt,{sx:{flex:1},children:[p.jsx(Ne,{variant:"body1",children:T.nom}),p.jsxs(vt,{sx:{mt:.5},children:[p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:[T.adresse,", ",T.ville]}),p.jsxs(vt,{sx:{display:"flex",alignItems:"center",mt:1},children:[p.jsx(NI,{dateAdapter:Doe,adapterLocale:sw,children:p.jsx(rO,{label:"Heure d'arrivée",value:_.heureArrivee,onChange:I=>f(_.id,I),slotProps:{textField:{size:"small",sx:{width:150}}}})}),p.jsxs(vt,{sx:{display:"flex",alignItems:"center",ml:2},children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",sx:{mr:1},children:"Durée d'arrêt:"}),p.jsxs(vt,{sx:{display:"flex",flexDirection:"row",alignItems:"center",border:"1px solid #ccc",borderRadius:1,p:"2px 8px",minWidth:70},children:[p.jsx(Ynt,{siteTournee:_,sites:t,onSitesChange:n}),p.jsx(Ne,{variant:"body2",sx:{ml:1},children:"min"})]})]})]})]})]}),p.jsxs(vt,{sx:{display:"flex",ml:1},children:[p.jsx(wr,{size:"small",onClick:()=>g(S),disabled:S===0,sx:{mr:.5},children:p.jsx(Loe,{fontSize:"small"})}),p.jsx(wr,{size:"small",onClick:()=>v(S),disabled:S===t.length-1,sx:{mr:.5},children:p.jsx(Foe,{fontSize:"small"})}),p.jsx(wr,{size:"small",onClick:()=>m(_.id),sx:{color:s.palette.error.main},children:p.jsx(Aoe,{fontSize:"small"})})]})]},_.id)})})}),p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[p.jsx(Mt,{variant:"outlined",onClick:o,children:"Retour"}),p.jsx(Mt,{variant:"contained",onClick:i,disabled:!t||t.length===0,children:"Continuer"})]})]})},Ynt=({siteTournee:t,sites:e,onSitesChange:n})=>{var s;const[r,o]=oe.useState(((s=t.dureeVisite)==null?void 0:s.toString())||"5");oe.useEffect(()=>{var a;o(((a=t.dureeVisite)==null?void 0:a.toString())||"5")},[t.dureeVisite]);const i=a=>{n(e.map(l=>l.id===t.id?{...l,dureeVisite:a}:l))};return p.jsx("input",{type:"text",value:r,onChange:a=>{o(a.target.value);const l=parseInt(a.target.value);!isNaN(l)&&l>0&&i(l)},onBlur:a=>{const l=parseInt(a.target.value);isNaN(l)||l<=0?(o("1"),i(1)):i(l)},style:{width:"30px",border:"none",textAlign:"center",fontWeight:"bold",fontSize:"0.875rem",outline:"none"}})},zoe=oe.memo(Gnt),Mf=t=>t.includes("_")?t.split("_")[0]:t,Xnt=({sites:t,allSites:e,onOptimize:n})=>{const[r,o]=h.useState(!1),[i,s]=h.useState(null),[a,l]=h.useState(null),c=h.useRef(null),u=h.useRef(null),d=h.useRef([]),f=h.useRef([]),m=h.useRef([]);h.useEffect(()=>{const y=()=>{if(window.google&&window.google.maps){console.log("API Google Maps déjà chargée"),console.log("Bibliothèques Google Maps disponibles:",window.google.maps?Object.keys(window.google.maps).join(", "):"Non disponibles"),console.log("Bibliothèque geometry disponible:",!!window.google.maps.geometry),console.log("DirectionsService disponible:",!!window.google.maps.DirectionsService),b();return}console.log("Chargement de l'API Google Maps...");const x=document.createElement("script");x.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBjkPBFOhFOOmYJUzz1Fpa4sz4sG7t6XGE&libraries=places,geometry&v=weekly",x.async=!0,x.defer=!0,x.onload=()=>{console.log("API Google Maps chargée avec succès"),console.log("Bibliothèques Google Maps disponibles:",window.google.maps?Object.keys(window.google.maps).join(", "):"Non disponibles"),console.log("Bibliothèque geometry disponible:",!!window.google.maps.geometry),console.log("DirectionsService disponible:",!!window.google.maps.DirectionsService),b()},x.onerror=()=>{console.error("Erreur lors du chargement de l'API Google Maps"),s("Impossible de charger Google Maps. Veuillez réessayer ultérieurement.")},document.head.appendChild(x)},b=()=>{if(!c.current||!window.google||!window.google.maps)return;console.log("Initialisation de la carte Google Maps");let x={lat:46.227638,lng:2.213749};if(t.length>0)for(const P of t){const M=P.siteId||Mf(P.id),R=e[M];if(R&&R.latitude&&R.longitude){x={lat:R.latitude,lng:R.longitude};break}}const w=new google.maps.Map(c.current,{center:x,zoom:10,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_LEFT,mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.TERRAIN]},styles:[{featureType:"all",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{lightness:80},{color:"#e8e8e8"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"simplified"},{lightness:100},{color:"#f5f5f5"}]},{featureType:"transit.line",stylers:[{visibility:"off"}]}],streetViewControl:!1,fullscreenControl:!0}),C=document.createElement("div"),E=document.createElement("div");E.style.backgroundColor="#fff",E.style.border="2px solid #fff",E.style.borderRadius="3px",E.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",E.style.cursor="pointer",E.style.marginTop="10px",E.style.marginLeft="10px",E.style.marginRight="10px",E.style.textAlign="center",E.title="Cliquez pour changer le style de la carte",C.appendChild(E);const _=document.createElement("div");_.style.color="rgb(25,25,25)",_.style.fontFamily="Roboto,Arial,sans-serif",_.style.fontSize="16px",_.style.lineHeight="38px",_.style.paddingLeft="5px",_.style.paddingRight="5px",_.innerHTML="Changer Style",E.appendChild(_);const S=[{name:"Bleu",styles:[{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#cfe2f3"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#aaccee"}]}]},{name:"Standard",styles:w.get("styles")},{name:"Clair",styles:[{featureType:"all",elementType:"all",stylers:[{lightness:50}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#f5f5f5"}]}]},{name:"Sombre",styles:[{featureType:"all",elementType:"all",stylers:[{lightness:-30}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:10},{color:"#444444"}]}]},{name:"Neutre",styles:[]}];let T=0;w.setOptions({styles:S[T].styles}),E.addEventListener("click",()=>{T=(T+1)%S.length;const P=S[T];w.setOptions({styles:P.styles}),_.innerHTML=`Style: ${P.name}`}),_.innerHTML=`Style: ${S[T].name}`,w.controls[google.maps.ControlPosition.TOP_RIGHT].push(C),new google.maps.TrafficLayer().setMap(w),u.current=w,g()};y()},[]),h.useEffect(()=>{g()},[t]);const g=h.useCallback(()=>{if(!u.current||!window.google||!window.google.maps)return;const y=u.current;if(console.log("Mise à jour des éléments de la carte"),console.log(`Nombre de sites: ${t.length}`),d.current.forEach(({marker:b})=>b.setMap(null)),f.current.forEach(b=>b.setMap(null)),m.current.forEach(b=>b.getPath().clear()),d.current=[],f.current=[],m.current=[],t.length!==0){if(t.forEach((b,x)=>{const w=b.siteId||Mf(b.id),C=e[w];if(!C||!C.latitude||!C.longitude){console.warn(`Site ${w} n'a pas de coordonnées valides`);return}const E=x===0,_=x===t.length-1;let S="#1976D2";E&&(S="#00796B"),_&&(S="#D32F2F");const T=new google.maps.Marker({position:{lat:C.latitude,lng:C.longitude},map:y,title:C.nom,label:{text:String(x+1),color:"#FFFFFF",fontWeight:"bold"},icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:S,fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2,scale:12,labelOrigin:new google.maps.Point(0,0)},zIndex:E||_?1e3:100}),I=new google.maps.InfoWindow({content:`
          <div style="padding: 8px;">
            <h4 style="margin: 0 0 8px 0; color: #1976D2;">${C.nom}</h4>
            <p style="margin: 4px 0;">${C.adresse||""}</p>
            <p style="margin: 4px 0;">${C.codePostal||""} ${C.ville||""}</p>
            <p style="margin: 8px 0 0 0; font-weight: bold;">
              ${E?"Départ":_?"Arrivée":`Étape ${x+1}`}
            </p>
          </div>
        `});T.addListener("click",()=>{I.open(y,T)}),d.current.push({marker:T,siteIndex:x,siteTournee:b})}),t.length>=2&&window.google.maps.DirectionsService){const b=new google.maps.DirectionsService;let x=0,w=0;const C=E=>{if(E>=t.length-1){x>0&&w>0&&l({totalDistance:(x/1e3).toFixed(1),totalDuration:Math.round(w/60)});return}const _=t[E].siteId||Mf(t[E].id),S=t[E+1].siteId||Mf(t[E+1].id),T=e[_],I=e[S];if(!T||!I||!T.latitude||!T.longitude||!I.latitude||!I.longitude){console.warn(`Coordonnées manquantes pour le segment ${E} -> ${E+1}`),C(E+1);return}console.log(`Calcul d'itinéraire entre ${T.nom} et ${I.nom}`);const P=["#4285F4","#34A853","#FBBC05","#EA4335","#8E44AD","#F39C12"],M=new google.maps.DirectionsRenderer({map:y,suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeColor:P[E%P.length],strokeOpacity:.8,strokeWeight:5}});f.current.push(M);const R={origin:{lat:T.latitude,lng:T.longitude},destination:{lat:I.latitude,lng:I.longitude},travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC,drivingOptions:{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}};b.route(R,(k,D)=>{var A;if(console.log(`Status pour segment ${E}:`,D),D==="OK"&&k){if(M.setDirections(k),k.routes&&k.routes.length>0&&k.routes[0].legs&&k.routes[0].legs.length>0){const O=k.routes[0].legs[0];if(O.duration&&O.duration_in_traffic){const j=O.duration_in_traffic.value/O.duration.value;let L="#1976D2";j>1.5?L="#F44336":j>1.2&&(L="#FF9800"),M.setOptions({polylineOptions:{strokeColor:L,strokeOpacity:.9,strokeWeight:6}}),M.setDirections(k);const z=new google.maps.InfoWindow({content:`
                    <div style="padding: 8px;">
                      <h4 style="margin: 0 0 4px 0; color: #1976D2;">Segment ${E+1}</h4>
                      <p style="margin: 2px 0;"><strong>De:</strong> ${T.nom}</p>
                      <p style="margin: 2px 0;"><strong>À:</strong> ${I.nom}</p>
                      <p style="margin: 2px 0;"><strong>Distance:</strong> ${O.distance.text}</p>
                      <p style="margin: 2px 0;"><strong>Durée:</strong> ${O.duration.text}</p>
                      <p style="margin: 2px 0; color: ${j>1.5?"#F44336":j>1.2?"#FF9800":"#1976D2"}">
                        <strong>Trafic:</strong> ${j>1.5?"Congestionné":j>1.2?"Chargé":"Fluide"} (${O.duration_in_traffic.text})
                      </p>
                      <p style="margin: 2px 0;"><strong>Départ prévu:</strong> ${new Date(t[E].heureArrivee).toLocaleTimeString()}</p>
                    </div>
                  `});if(k.routes[0].overview_path&&k.routes[0].overview_path.length>0){const V=k.routes[0].overview_path,W=new google.maps.Polyline({path:V,strokeColor:"#000000",strokeOpacity:0,strokeWeight:10,map:y,clickable:!0});m.current.push(W),google.maps.event.addListener(W,"click",Y=>{Y&&Y.latLng&&(z.setPosition(Y.latLng),z.open(y))}),google.maps.event.addListener(W,"mouseover",()=>{W.setOptions({strokeOpacity:.15})}),google.maps.event.addListener(W,"mouseout",()=>{W.setOptions({strokeOpacity:0})})}}}console.log(`Itinéraire calculé avec succès pour le segment ${E+1}`);const N=k.routes[0];if(N.overview_path&&N.overview_path.length>0)console.log(`Nombre de points dans le tracé: ${N.overview_path.length}`);else if(N.overview_polyline)if(typeof N.overview_polyline=="object"&&N.overview_polyline!==null){const O=N.overview_polyline;console.log(`Polyline encodé disponible, longueur: ${((A=O.points)==null?void 0:A.length)||0}`)}else console.log(`Polyline disponible mais sous un format non attendu: ${typeof N.overview_polyline}`)}else{console.error(`Erreur lors du calcul de l'itinéraire pour segment ${E}: ${D}`),console.log("Tentative alternative avec des paramètres simplifiés...");const N={origin:R.origin,destination:R.destination,travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.METRIC,drivingOptions:{departureTime:new Date,trafficModel:google.maps.TrafficModel.BEST_GUESS}};b.route(N,(O,j)=>{if(j==="OK"&&O){if(console.log("Itinéraire alternatif trouvé avec succès"),M.setDirections(O),O.routes&&O.routes.length>0&&O.routes[0].legs&&O.routes[0].legs.length>0){const L=O.routes[0].legs[0];L.distance&&L.duration&&(x+=L.distance.value,w+=L.duration.value,console.log(`Distance (tentative alternative): ${L.distance.text}, Durée: ${L.duration.text}`))}C(E+1)}else{console.error(`Échec de la tentative alternative: ${j}`);const L=new google.maps.Polyline({path:[R.origin,R.destination],geodesic:!0,strokeColor:P[E%P.length],strokeOpacity:.5,strokeWeight:3,map:y}),z=google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(R.origin.lat,R.origin.lng),new google.maps.LatLng(R.destination.lat,R.destination.lng)),V=z/1e3*(60*60/50);x+=z,w+=V,console.log(`Estimation directe - Distance: ${(z/1e3).toFixed(1)} km, Durée: ${Math.round(V/60)} min`),m.current=m.current||[],m.current.push(L),C(E+1)}})}if(D==="OK"&&k&&k.routes&&k.routes.length>0&&k.routes[0].legs&&k.routes[0].legs.length>0){const N=k.routes[0].legs[0];N.distance&&N.duration&&(x+=N.distance.value,w+=N.duration.value,console.log(`Distance: ${N.distance.text}, Durée: ${N.duration.text}`))}C(E+1)})};C(0)}if(d.current.length>0){const b=new google.maps.LatLngBounds;d.current.forEach(({marker:x})=>{const w=x.getPosition();w&&b.extend(w)}),y.fitBounds(b),d.current.length===1&&y.setZoom(13)}}},[t,e]),v=async()=>{if(!(t.length<3)){o(!0),s(null);try{const y=new Date(t[0].heureArrivee);console.log(`Optimisation avec heure de départ: ${y.toLocaleString()}`);const b=t.map(C=>{const E=C.siteId||Mf(C.id),_=e[E];if(!_)throw new Error(`Site ${E} introuvable dans la liste des sites`);return{..._,id:E,tourSiteId:C.id}});if(b.length!==t.length)throw new Error(`Erreur de préparation des sites: ${b.length} sites préparés sur ${t.length} attendus`);const x=b[0],w=b[b.length-1];try{const C=await oa.optimizeTour(b,y);console.log("Résultat de l'optimisation:",C);const E=C.sitesOrder.map(_=>{const S=t.find(T=>(T.siteId||Mf(T.id))===_);if(!S)throw new Error(`Site avec ID ${_} introuvable après optimisation`);return S.id});if(E[0]!==t[0].id&&(console.warn("Le premier site a changé, on force le site initial"),E[0]=t[0].id),E[E.length-1]!==t[t.length-1].id&&(console.warn("Le dernier site a changé, on force le site final"),E[E.length-1]=t[t.length-1].id),E.length!==t.length)throw new Error(`Erreur: ${E.length} sites dans l'ordre optimisé, ${t.length} attendus`);console.log("Ordre optimisé:",E),n(E)}catch(C){throw console.error("Erreur d'optimisation avec le service:",C),C}}catch(y){console.error("Erreur lors de l'optimisation de la tournée:",y);try{const b=t[0],x=t[t.length-1],w=t.map(P=>{const M=P.siteId||Mf(P.id),R=e[M];return(!R||!R.latitude||!R.longitude)&&console.warn(`Site ${M} n'a pas de coordonnées valides`),{id:P.id,siteId:M,lat:R==null?void 0:R.latitude,lng:R==null?void 0:R.longitude,ordre:P.ordre}}).filter(P=>P.lat!==void 0&&P.lng!==void 0);if(w.length!==t.length){s("Certains sites n'ont pas de coordonnées valides. Impossible d'optimiser."),o(!1);return}const C=w.slice(1,w.length-1);console.log(`Optimisation locale de ${C.length} points intermédiaires (${t.length} sites au total)`);const E=[],_=new Set(C.map(P=>P.id));let S=w[0].lat,T=w[0].lng;for(;_.size>0;){let P=1/0,M=null;for(const R of _){const k=C.find(A=>A.id===R);if(!k)continue;const D=Math.sqrt(Math.pow(k.lat-S,2)+Math.pow(k.lng-T,2));D<P&&(P=D,M=R)}if(M){E.push(M),_.delete(M);const R=C.find(k=>k.id===M);R&&(S=R.lat,T=R.lng)}else break}if(E.length!==C.length){s("Erreur lors de l'optimisation : certains sites n'ont pas été traités"),o(!1);return}if(E.length>0){const P=E[E.length-1],M=C.find(R=>R.id===P);if(M){const R=Math.sqrt(Math.pow(M.lat-w[w.length-1].lat,2)+Math.pow(M.lng-w[w.length-1].lng,2));Math.sqrt(Math.pow(M.lat-w[0].lat,2)+Math.pow(M.lng-w[0].lng,2))<R&&E.reverse()}}const I=[b.id,...E,x.id];if(I.length!==t.length){s("Erreur lors de l'optimisation : nombre incorrect de sites"),o(!1);return}console.log("Ordre optimisé (secours):",I),n(I)}catch(b){console.error("Erreur lors de l'optimisation de secours:",b),s("Impossible d'optimiser l'itinéraire. Veuillez réessayer.")}}finally{o(!1)}}};return i?p.jsx(bn,{sx:{p:2,height:"500px",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(Ne,{color:"error",children:i})}):p.jsxs(bn,{sx:{p:2,position:"relative"},children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[p.jsx(Ne,{variant:"h6",children:"Carte de la tournée"}),p.jsx(Mt,{variant:"outlined",startIcon:r?p.jsx(Hi,{size:20}):p.jsx(zYe,{}),onClick:v,disabled:r||t.length<3,children:"Optimiser la tournée"})]}),a&&p.jsxs(vt,{sx:{mb:1,display:"flex",gap:2},children:[p.jsxs(Ne,{variant:"body2",children:[p.jsx("strong",{children:"Distance totale:"})," ",a.totalDistance," km"]}),p.jsxs(Ne,{variant:"body2",children:[p.jsx("strong",{children:"Durée estimée:"})," ",a.totalDuration," min"]})]}),p.jsx(vt,{sx:{height:"450px",width:"100%",borderRadius:1,overflow:"hidden"},ref:c})]})},Boe=oe.memo(Xnt),Qnt=({number:t,color:e="primary",size:n=24})=>{const r=(o,i)=>{switch(o){case"primary":return i.palette.primary.main;case"secondary":return i.palette.secondary.main;case"error":return i.palette.error.main;case"warning":return i.palette.warning.main;case"info":return i.palette.info.main;case"success":return i.palette.success.main;default:return o}};return p.jsx(vt,{sx:o=>({display:"flex",alignItems:"center",justifyContent:"center",width:n,height:n,borderRadius:"50%",backgroundColor:r(e,o),color:"#fff",fontWeight:"bold",fontSize:n*.5,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}),children:t})},Jnt=oe.memo(({siteTournee:t,handleDureeVisiteChange:e})=>{var o;const[n,r]=oe.useState(((o=t.dureeVisite)==null?void 0:o.toString())||"5");return oe.useEffect(()=>{var i;r(((i=t.dureeVisite)==null?void 0:i.toString())||"5")},[t.dureeVisite]),p.jsx("input",{type:"text",value:n,onChange:i=>{r(i.target.value);const s=parseInt(i.target.value);!isNaN(s)&&s>0&&e(t.id,s)},onBlur:i=>{const s=parseInt(i.target.value);isNaN(s)||s<=0?(r("1"),e(t.id,1)):e(t.id,s)},style:{width:"30px",border:"none",textAlign:"center",fontWeight:"bold",fontSize:"0.875rem",outline:"none"}})}),Voe=({tourSites:t,allSites:e,onSitesReordered:n,onSave:r,onSaveOnly:o})=>{const[i,s]=h.useState(!1),[a,l]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState("N/A"),m=P=>{const M=P.siteId||(P.id.includes("_")?P.id.split("_")[0]:P.id);return e[M]},g=(P,M)=>{console.log("Début du drag",M),P.dataTransfer.effectAllowed="move",P.dataTransfer.setData("text/plain",M.toString());const R=P.currentTarget;R&&setTimeout(()=>{R&&R.classList&&R.classList.add("dragging")},0),l(M)},v=(P,M)=>{P.preventDefault(),P.dataTransfer.dropEffect="move",c!==M&&u(M)},y=P=>{P.preventDefault();const M=P.currentTarget;M&&M.classList&&M.classList.add("drag-over")},b=P=>{const M=P.currentTarget;M&&M.classList&&M.classList.remove("drag-over")},x=(P,M)=>{P.preventDefault();const R=P.currentTarget;R&&R.classList&&R.classList.remove("drag-over")},w=P=>{console.log("Fin du drag",{draggedItem:a,dragOverItem:c});const M=P.currentTarget;if(M&&M.classList&&M.classList.remove("dragging"),a===null||c===null||a===c){l(null),u(null);return}const R=Array.from(t),k=R[a];R.splice(a,1),R.splice(c,0,k);const D=R.map((A,N)=>({...A,ordre:N+1}));n(D),l(null),u(null)},C=h.useCallback(async(P,M)=>{if(!M)return;if(console.log(`Modification de l'heure d'arrivée pour le site ${P}: ${M.toLocaleTimeString()}`),isNaN(M.getTime())){console.error("Heure invalide fournie:",M);return}const R=[...t],k=R.findIndex(D=>D.id===P);if(k===-1){console.error(`Site avec ID ${P} non trouvé`);return}if(R[k]={...R[k],heureArrivee:M},m(R[k]),k<R.length-1){console.log(`Recalcul des heures d'arrivée après modification de l'heure du site #${k+1}`);for(let D=k+1;D<R.length;D++){const A=R[D-1],N=R[D],O=m(A),j=m(N);if(O&&j){const L=new Date(A.heureArrivee);L.setMinutes(L.getMinutes()+(A.dureeVisite||5));const z=await oa.estimateTravelTime(O,j,L),V=new Date(L);V.setSeconds(V.getSeconds()+z),R[D]={...R[D],heureArrivee:V},console.log(`Nouvelle heure d'arrivée pour ${j.nom}: ${V.toLocaleTimeString()} (trajet: ${Math.round(z/60)} min)`)}}}n(R)},[t,n,m]),E=h.useCallback(async(P,M)=>{const R=t.map(D=>D.id===P?{...D,dureeVisite:M}:D);n(R);const k=R.findIndex(D=>D.id===P);if(k<R.length-1){console.log(`Recalcul des heures d'arrivée après modification de la durée de visite du site #${k+1}`);const D=[...R];for(let A=k+1;A<D.length;A++){const N=D[A-1],O=D[A],j=m(N),L=m(O);if(j&&L){const z=new Date(N.heureArrivee);z.setMinutes(z.getMinutes()+(N.dureeVisite||5));const V=await oa.estimateTravelTime(j,L,z),W=new Date(z);W.setSeconds(W.getSeconds()+V),D[A]={...D[A],heureArrivee:W},console.log(`Nouvelle heure d'arrivée pour ${L.nom}: ${W.toLocaleTimeString()} (trajet: ${Math.round(V/60)} min)`)}}n(D)}},[t,n,m]);h.useCallback(P=>{const M=t.filter(R=>R.id!==P).map((R,k)=>({...R,ordre:k+1}));n(M)},[t,n]);const _=()=>{if(t.length<2)return"N/A";try{const P=t[0],M=t[t.length-1],R=new Date(P.heureArrivee),k=new Date(M.heureArrivee);if(isNaN(R.getTime())||isNaN(k.getTime()))return"Calcul impossible";const D=R.getTime(),A=k.getTime();if(A<=D)return"Durée invalide";const N=A-D,O=Math.floor(N/(1e3*60*60)),j=Math.floor(N%(1e3*60*60)/(1e3*60));return`${O}h ${j}min`}catch(P){return console.error("Erreur lors du calcul de la durée totale:",P),"Erreur de calcul"}},S=async()=>{if(t.length<2)return"N/A";try{let P=0;for(let M=0;M<t.length-1;M++){const R=m(t[M]),k=m(t[M+1]);if(R&&k&&R.latitude&&R.longitude&&k.latitude&&k.longitude){const D=await oa.calculateDistance(R.latitude,R.longitude,k.latitude,k.longitude);P+=D}}return`${P.toFixed(1)} km`}catch(P){return console.error("Erreur lors du calcul de la distance totale:",P),"Erreur de calcul"}};h.useEffect(()=>{(async()=>{const M=await S();f(M)})()},[t]);const T=()=>{s(!i)},I=P=>{try{if(!P)return"Heure non définie";const M=P instanceof Date?P:new Date(P);return isNaN(M.getTime())?"Heure invalide":OE(M,"HH:mm",{locale:sw})}catch(M){return console.error("Erreur lors du formatage de la date:",M),"Heure invalide"}};return p.jsxs(bn,{sx:{p:2,height:"100%",display:"flex",flexDirection:"column"},children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h6",children:"Étapes de la tournée"}),p.jsx(Mt,{variant:"contained",color:"primary",startIcon:p.jsx(PE,{}),onClick:o||r,children:"Enregistrer"})]}),p.jsxs(vt,{sx:{mb:2},children:[p.jsxs(nu,{direction:"row",spacing:3,sx:{mb:1},children:[p.jsxs(Ne,{variant:"body2",children:[p.jsx("strong",{children:"Nombre d'étapes:"})," ",t.length]}),p.jsxs(Ne,{variant:"body2",children:[p.jsx("strong",{children:"Durée totale:"})," ",_()]}),p.jsxs(Ne,{variant:"body2",children:[p.jsx("strong",{children:"Distance:"})," ",d]})]}),p.jsx(Mt,{variant:"outlined",size:"small",onClick:T,children:i?"Terminer l'édition":"Modifier les heures"})]}),p.jsx(ua,{sx:{mb:2}}),p.jsx(vt,{sx:{flexGrow:1,overflow:"auto"},children:p.jsx(cs,{sx:{p:0,"& .dragging":{opacity:.6,backgroundColor:"rgba(0, 171, 85, 0.08)"},"& .drag-over":{borderTop:"2px dashed #00ab55"}},children:t.map((P,M)=>{const R=m(P);return R?p.jsxs($s,{draggable:!0,onDragStart:k=>g(k,M),onDragOver:k=>v(k,M),onDragEnter:y,onDragLeave:b,onDrop:k=>x(k),onDragEnd:w,sx:{py:1.5,backgroundColor:c===M?"rgba(0, 171, 85, 0.08)":a===M?"rgba(0, 171, 85, 0.04)":"transparent",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",cursor:"grab",transition:"background-color 0.2s ease","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},transform:a===M?"scale(1.01)":"none",boxShadow:a===M?"0 4px 8px rgba(0,0,0,0.1)":"none",zIndex:a===M?10:1},children:[p.jsx(Gd,{children:p.jsxs(vt,{sx:{display:"flex",alignItems:"center"},children:[p.jsx(Qnt,{number:M+1,color:M===0?"primary":M===t.length-1?"error":"secondary"}),p.jsx(KYe,{color:"action",sx:{ml:1,cursor:"grab"}})]})}),p.jsxs(vt,{sx:{flex:1},children:[p.jsx(Ne,{variant:"body1",children:R.nom}),p.jsxs(vt,{sx:{mt:.5},children:[p.jsxs(vt,{sx:{display:"flex",alignItems:"center",mt:.5},children:[p.jsx(NYe,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),i?p.jsx(_n,{type:"time",value:(()=>{try{const k=new Date(P.heureArrivee);return k.getHours().toString().padStart(2,"0")+":"+k.getMinutes().toString().padStart(2,"0")}catch{return"00:00"}})(),onChange:k=>{const D=k.target.value;try{if(D.includes(":")){const[A,N]=D.split(":").map(Number),O=new Date(P.heureArrivee);O.setHours(A),O.setMinutes(N),console.log(`Mise à jour de l'heure pour ${R.nom} : ${O.toLocaleTimeString()}`),C(P.id,O)}}catch(A){console.error("Erreur lors de la mise à jour de l'heure:",A)}},size:"small",sx:{width:120},InputProps:{sx:{fontSize:"0.875rem"}}}):p.jsx(Ne,{variant:"body2",children:I(P.heureArrivee)})]}),p.jsxs(vt,{sx:{display:"flex",alignItems:"center",mt:.5},children:[p.jsx(JYe,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),p.jsxs(Ne,{variant:"body2",children:[R.adresse,", ",R.ville]})]}),p.jsxs(vt,{sx:{display:"flex",alignItems:"center",mt:.5},children:[p.jsx(Are,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),i?p.jsxs(vt,{sx:{display:"flex",alignItems:"center"},children:[p.jsxs(vt,{sx:{display:"flex",flexDirection:"row",alignItems:"center",border:"1px solid #ccc",borderRadius:1,p:"4px 8px",width:120},children:[p.jsx(Jnt,{siteTournee:P,handleDureeVisiteChange:E}),p.jsx(Ne,{variant:"body2",sx:{ml:1},children:"min"})]}),p.jsx(Ne,{variant:"body2",sx:{ml:1,color:"text.secondary"},children:"Durée d'arrêt"})]}):p.jsxs(Ne,{variant:"body2",children:["Durée d'arrêt: ",P.dureeVisite||5," min"]})]})]})]})]},`site-${P.id}-${M}`):null})})})]})},wk=Ht(mt,"sites"),RW=Ht(mt,"tournees"),gS=t=>{if(!t)return En.now();try{if(typeof t=="object"&&"seconds"in t&&"nanoseconds"in t)return t;const e=t instanceof Date?t:new Date(t);return isNaN(e.getTime())?(console.warn("Date invalide, utilisation de la date actuelle:",t),En.now()):En.fromDate(e)}catch(e){return console.error("Erreur lors de la conversion de la date:",e),En.now()}},kW=t=>{const e={...t};return t.heureDebut&&(e.heureDebut=gS(t.heureDebut)),t.heureFin&&(e.heureFin=gS(t.heureFin)),t.createdAt&&(e.createdAt=gS(t.createdAt)),t.sites&&Array.isArray(t.sites)&&(e.sites=t.sites.map(n=>({...n,heureArrivee:n.heureArrivee?gS(n.heureArrivee):null}))),e},Ks={getSites:async()=>{try{console.log("Chargement des sites...");const t=await Jt(wk);if(t.empty)return console.log("Aucun site trouvé, ajout de sites de démonstration..."),Ks.initDemoSites();const e=t.docs.map(n=>{const r=n.data();return{id:n.id,nom:r.nom||"Site sans nom",adresse:r.adresse||"Adresse non spécifiée",codePostal:r.codePostal||"",ville:r.ville||"",latitude:r.latitude||0,longitude:r.longitude||0}});return console.log(`${e.length} sites chargés`),e}catch(t){return console.error("Erreur lors du chargement des sites:",t),Hu(t),[]}},initDemoSites:async()=>{try{const t=[{nom:"Labo Central",adresse:"123 Avenue Principale",codePostal:"34000",ville:"Montpellier",latitude:43.6112422,longitude:3.8767337},{nom:"Clinique du Sud",adresse:"45 Rue de la Médecine",codePostal:"34070",ville:"Montpellier",latitude:43.5884488,longitude:3.8795093},{nom:"Hôpital Nord",adresse:"78 Boulevard Nord",codePostal:"34080",ville:"Montpellier",latitude:43.6400921,longitude:3.8532784},{nom:"Centre Médical Est",adresse:"12 Avenue Est",codePostal:"34130",ville:"Mauguio",latitude:43.6177,longitude:4.0088},{nom:"Polyclinique Ouest",adresse:"56 Route Ouest",codePostal:"34430",ville:"Saint-Jean-de-Védas",latitude:43.5687,longitude:3.8324}],e=[],n=[];for(const o of t)n.push(os(wk,o).then(i=>({id:i.id,...o})));const r=await Promise.all(n);return e.push(...r),console.log(`${e.length} sites de démonstration créés`),e}catch(t){return console.error("Erreur lors de la création des sites de démonstration:",t),Hu(t),[]}},async getSitesByPole(t){try{const e=wn(wk,Dr("pole","==",t));return(await Jt(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error(`Erreur lors de la récupération des sites pour le pôle ${t}:`,e),Hu(e),[]}},createTournee:async t=>{try{const e={...kW(t),createdAt:V3(),createdBy:t.createdBy||null},n=await os(RW,e);return console.log("Tournée créée avec ID:",n.id),n.id}catch(e){throw console.error("Erreur lors de la création de la tournée:",e),Hu(e),e}},getTournees:async()=>{try{return(await Jt(RW)).docs.map(e=>{const n=e.data(),r={id:e.id,...n};return n.heureDebut&&(r.heureDebut=n.heureDebut.toDate()),n.heureFin&&(r.heureFin=n.heureFin.toDate()),n.createdAt&&(r.createdAt=n.createdAt.toDate()),n.sites&&Array.isArray(n.sites)&&(r.sites=n.sites.map(o=>({...o,heureArrivee:o.heureArrivee?o.heureArrivee.toDate():new Date}))),r})}catch(t){return console.error("Erreur lors de la récupération des tournées:",t),Hu(t),[]}},getTourneeById:async t=>{try{const e=un(mt,"tournees",t),n=await si(e);if(!n.exists())throw new Error(`Tournée avec ID ${t} introuvable`);const r=n.data(),o={id:n.id,...r};return r.heureDebut&&(o.heureDebut=r.heureDebut.toDate()),r.heureFin&&(o.heureFin=r.heureFin.toDate()),r.createdAt&&(o.createdAt=r.createdAt.toDate()),r.sites&&Array.isArray(r.sites)&&(o.sites=r.sites.map(i=>({...i,heureArrivee:i.heureArrivee?i.heureArrivee.toDate():new Date}))),o}catch(e){throw console.error(`Erreur lors de la récupération de la tournée ${t}:`,e),Hu(e),e}},updateTournee:async(t,e)=>{try{const n=un(mt,"tournees",t),r={...kW(e),updatedAt:V3()};await Yo(n,r),console.log(`Tournée ${t} mise à jour`)}catch(n){throw console.error(`Erreur lors de la mise à jour de la tournée ${t}:`,n),Hu(n),n}},deleteTournee:async t=>{try{const e=un(mt,"tournees",t);await Go(e),console.log(`Tournée ${t} supprimée`)}catch(e){throw console.error(`Erreur lors de la suppression de la tournée ${t}:`,e),Hu(e),e}}},Znt=({onEditTournee:t,onViewTournee:e,onNewTournee:n})=>{const[r,o]=h.useState([]),[i,s]=h.useState([]),[a,l]=h.useState(""),[c,u]=h.useState(!0),[d,f]=h.useState(null),m=Tc(),{poles:g,loading:v}=Rv();h.useEffect(()=>{(async()=>{try{u(!0);const I=await Ks.getTournees();I.sort((P,M)=>!P.createdAt||!M.createdAt?0:new Date(M.createdAt).getTime()-new Date(P.createdAt).getTime()),o(I),s(I)}catch(I){console.error("Erreur lors du chargement des tournées:",I),f("Impossible de charger les tournées. Veuillez réessayer plus tard.")}finally{u(!1)}})()},[]),h.useEffect(()=>{s(a===""?r:r.filter(T=>T.pole===a))},[a,r]);const y=T=>{l(T.target.value)},b=T=>{t?t(T):m(`/tournees/edit/${T}`)},x=T=>{e?e(T):m(`/tournees/view/${T}`)},w=()=>{n?n():m("/tournees/new")},C=async T=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette tournée ?"))try{await Ks.deleteTournee(T),o(r.filter(I=>I.id!==T)),s(i.filter(I=>I.id!==T))}catch(I){console.error("Erreur lors de la suppression de la tournée:",I),f("Impossible de supprimer la tournée. Veuillez réessayer plus tard.")}},E=T=>{if(!T)return"Date inconnue";try{const I=T instanceof Date?T:new Date(T);return $E(I)?OE(I,"dd MMMM yyyy",{locale:sw}):"Date invalide"}catch{return"Date invalide"}},_=T=>{if(!T)return"Heure inconnue";try{const I=T instanceof Date?T:new Date(T);return $E(I)?OE(I,"HH:mm"):"Heure invalide"}catch{return"Heure invalide"}},S=T=>{const I=g.find(P=>P.id===T);return I?I.nom:"Pôle inconnu"};return c||v?p.jsx(vt,{sx:{display:"flex",justifyContent:"center",py:4},children:p.jsx(Hi,{})}):d?p.jsxs(vt,{sx:{bgcolor:"#fee",p:2,borderRadius:1,mb:2,color:"error.main"},children:[p.jsx(Ne,{children:d}),p.jsx(Mt,{onClick:()=>window.location.reload(),sx:{mt:1},children:"Réessayer"})]}):r.length===0?p.jsxs(bn,{sx:{p:3,textAlign:"center"},children:[p.jsx(Ne,{variant:"body1",sx:{mb:2},children:"Aucune tournée n'a été créée pour le moment."}),p.jsx(Mt,{variant:"contained",onClick:w,children:"Créer une tournée"})]}):p.jsxs(bn,{sx:{mt:2},children:[p.jsxs(vt,{sx:{p:2,bgcolor:"#f5f5f5",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx(Ne,{variant:"h6",children:"Tournées existantes"}),p.jsxs(qd,{variant:"outlined",size:"small",sx:{minWidth:200},children:[p.jsx(Kd,{id:"filter-pole-label",children:"Filtrer par pôle"}),p.jsxs(hu,{labelId:"filter-pole-label",value:a,onChange:y,label:"Filtrer par pôle",startAdornment:p.jsx(GYe,{fontSize:"small",sx:{mr:.5,color:"action.active"}}),children:[p.jsx(vr,{value:"",children:p.jsx("em",{children:"Tous les pôles"})}),g.map(T=>p.jsx(vr,{value:T.id,children:T.nom},T.id))]})]})]}),i.length===0?p.jsx(vt,{sx:{p:3,textAlign:"center"},children:p.jsx(Ne,{variant:"body1",children:"Aucune tournée ne correspond au filtre sélectionné."})}):p.jsx(cs,{sx:{width:"100%"},children:i.map((T,I)=>{var P;return p.jsxs(oe.Fragment,{children:[I>0&&p.jsx(ua,{component:"li"}),p.jsxs($s,{alignItems:"flex-start",secondaryAction:p.jsxs(vt,{children:[p.jsx(wr,{edge:"end","aria-label":"view",onClick:()=>x(T.id),sx:{color:"primary.main"},children:p.jsx(RE,{})}),p.jsx(wr,{edge:"end","aria-label":"edit",onClick:()=>b(T.id),sx:{color:"info.main"},children:p.jsx(Yv,{})}),p.jsx(wr,{edge:"end","aria-label":"delete",onClick:()=>C(T.id),sx:{color:"error.main"},children:p.jsx(rp,{})})]}),children:[p.jsx(fKe,{children:p.jsx(yre,{sx:{bgcolor:"primary.main"},children:p.jsx(Wc,{})})}),p.jsx(hl,{primary:p.jsxs(vt,{sx:{display:"flex",alignItems:"center",gap:1},children:[p.jsx(Ne,{variant:"subtitle1",fontWeight:"bold",children:T.nom}),p.jsx(so,{size:"small",label:`${((P=T.sites)==null?void 0:P.length)||0} sites`,color:"primary",variant:"outlined"})]}),secondary:p.jsxs(p.Fragment,{children:[p.jsxs(Ne,{component:"span",variant:"body2",color:"text.primary",children:["Pôle: ",S(T.pole)]}),p.jsxs(Ne,{component:"span",variant:"body2",sx:{display:"block"},children:["Créée le: ",E(T.createdAt)]}),p.jsxs(Ne,{component:"span",variant:"body2",sx:{display:"block"},children:["Horaires: ",_(T.heureDebut)," - ",_(T.heureFin)]})]})})]})]},T.id)})}),p.jsx(vt,{sx:{p:2,textAlign:"center"},children:p.jsx(Mt,{variant:"contained",color:"primary",onClick:w,children:"Créer une nouvelle tournée"})})]})};function Hoe(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Hoe(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Cp(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Hoe(t))&&(r&&(r+=" "),r+=e);return r}let ert={data:""},trt=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||ert,nrt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rrt=/\/\*[^]*?\*\/|  +/g,DW=/\n+/g,Jf=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?Jf(s,i):i+"{"+Jf(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=Jf(s,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Jf.p?Jf.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},Ac={},Woe=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Woe(t[n]);return e}return t},ort=(t,e,n,r,o)=>{let i=Woe(t),s=Ac[i]||(Ac[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Ac[s]){let l=i!==t?t:(c=>{let u,d,f=[{}];for(;u=nrt.exec(c.replace(rrt,""));)u[4]?f.shift():u[3]?(d=u[3].replace(DW," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(DW," ").trim();return f[0]})(t);Ac[s]=Jf(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Ac.g?Ac.g:null;return n&&(Ac.g=Ac[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Ac[s],e,r,a),s},irt=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Jf(a,""):a===!1?"":a}return r+o+(s??"")},"");function mF(t){let e=this||{},n=t.call?t(e.p):t;return ort(n.unshift?n.raw?irt(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,trt(e.target),e.g,e.o,e.k)}mF.bind({g:1});mF.bind({k:1});function srt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uoe(t,e,n){return e&&srt(t.prototype,e),t}function kr(){return kr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kr.apply(this,arguments)}function qoe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Vw(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function $W(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var MW=function(){return""},Koe=oe.createContext({enqueueSnackbar:MW,closeSnackbar:MW}),Wf={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},OW=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},gF=function(e){return""+OW(e.vertical)+OW(e.horizontal)},vS=function(e){return!!e||e===0},yS="unmounted",om="exited",im="entering",Gy="entered",AW="exiting",vF=function(t){qoe(e,t);function e(r){var o;o=t.call(this,r)||this;var i=r.appear,s;return o.appearStatus=null,r.in?i?(s=om,o.appearStatus=im):s=Gy:r.unmountOnExit||r.mountOnEnter?s=yS:s=om,o.state={status:s},o.nextCallback=null,o}e.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===yS?{status:om}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==im&&s!==Gy&&(i=im):(s===im||s===Gy)&&(i=AW)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i=o,s=o;return o!=null&&typeof o!="number"&&typeof o!="string"&&(s=o.exit,i=o.enter),{exit:s,enter:i}},n.updateStatus=function(o,i){o===void 0&&(o=!1),i!==null?(this.cancelNextCallback(),i===im?this.performEnter(o):this.performExit()):this.props.unmountOnExit&&this.state.status===om&&this.setState({status:yS})},n.performEnter=function(o){var i=this,s=this.props.enter,a=o,l=this.getTimeouts();if(!o&&!s){this.safeSetState({status:Gy},function(){i.props.onEntered&&i.props.onEntered(i.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:im},function(){i.props.onEntering&&i.props.onEntering(i.node,a),i.onTransitionEnd(l.enter,function(){i.safeSetState({status:Gy},function(){i.props.onEntered&&i.props.onEntered(i.node,a)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts();if(!i){this.safeSetState({status:om},function(){o.props.onExited&&o.props.onExited(o.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:AW},function(){o.props.onExiting&&o.props.onExiting(o.node),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:om},function(){o.props.onExited&&o.props.onExited(o.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(){s&&(s=!1,i.nextCallback=null,o())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=o==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===yS)return null;var i=this.props,s=i.children,a=Vw(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(o,a)},Uoe(e,[{key:"node",get:function(){var o,i=(o=this.props.nodeRef)===null||o===void 0?void 0:o.current;if(!i)throw new Error("notistack - Custom snackbar is not refForwarding");return i}}]),e}(oe.Component);function sm(){}vF.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sm,onEntering:sm,onEntered:sm,onExit:sm,onExiting:sm,onExited:sm};function NW(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function cO(t,e){return h.useMemo(function(){return t==null&&e==null?null:function(n){NW(t,n),NW(e,n)}},[t,e])}function NE(t){var e=t.timeout,n=t.style,r=n===void 0?{}:n,o=t.mode;return{duration:typeof e=="object"?e[o]||0:e,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var uO={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Goe=function(e){e.scrollTop=e.scrollTop},jW=function(e){return Math.round(e)+"ms"};function Wm(t,e){t===void 0&&(t=["all"]);var n=e||{},r=n.duration,o=r===void 0?300:r,i=n.easing,s=i===void 0?uO.easeInOut:i,a=n.delay,l=a===void 0?0:a,c=Array.isArray(t)?t:[t];return c.map(function(u){var d=typeof o=="string"?o:jW(o),f=typeof l=="string"?l:jW(l);return u+" "+d+" "+s+" "+f}).join(",")}function art(t){return t&&t.ownerDocument||document}function Yoe(t){var e=art(t);return e.defaultView||window}function lrt(t,e){e===void 0&&(e=166);var n;function r(){for(var o=this,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var l=function(){t.apply(o,s)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=function(){clearTimeout(n)},r}function crt(t,e){var n=e.getBoundingClientRect(),r=Yoe(e),o;if(e.fakeTransform)o=e.fakeTransform;else{var i=r.getComputedStyle(e);o=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var s=0,a=0;if(o&&o!=="none"&&typeof o=="string"){var l=o.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),a=parseInt(l[5],10)}switch(t){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function bS(t,e){if(e){var n=crt(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var Xoe=h.forwardRef(function(t,e){var n=t.children,r=t.direction,o=r===void 0?"down":r,i=t.in,s=t.style,a=t.timeout,l=a===void 0?0:a,c=t.onEnter,u=t.onEntered,d=t.onExit,f=t.onExited,m=Vw(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),g=h.useRef(null),v=cO(n.ref,g),y=cO(v,e),b=function(S,T){bS(o,S),Goe(S),c&&c(S,T)},x=function(S){var T=(s==null?void 0:s.transitionTimingFunction)||uO.easeOut,I=NE({timeout:l,mode:"enter",style:kr({},s,{transitionTimingFunction:T})});S.style.webkitTransition=Wm("-webkit-transform",I),S.style.transition=Wm("transform",I),S.style.webkitTransform="none",S.style.transform="none"},w=function(S){var T=(s==null?void 0:s.transitionTimingFunction)||uO.sharp,I=NE({timeout:l,mode:"exit",style:kr({},s,{transitionTimingFunction:T})});S.style.webkitTransition=Wm("-webkit-transform",I),S.style.transition=Wm("transform",I),bS(o,S),d&&d(S)},C=function(S){S.style.webkitTransition="",S.style.transition="",f&&f(S)},E=h.useCallback(function(){g.current&&bS(o,g.current)},[o]);return h.useEffect(function(){if(!(i||o==="down"||o==="right")){var _=lrt(function(){g.current&&bS(o,g.current)}),S=Yoe(g.current);return S.addEventListener("resize",_),function(){_.clear(),S.removeEventListener("resize",_)}}},[o,i]),h.useEffect(function(){i||E()},[i,E]),h.createElement(vF,Object.assign({appear:!0,nodeRef:g,onEnter:b,onEntered:u,onEntering:x,onExit:w,onExited:C,in:i,timeout:l},m),function(_,S){return h.cloneElement(n,kr({ref:y,style:kr({visibility:_==="exited"&&!i?"hidden":void 0},s,{},n.props.style)},S))})});Xoe.displayName="Slide";var HI=function(e){return oe.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},e))},urt=function(){return oe.createElement(HI,null,oe.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},drt=function(){return oe.createElement(HI,null,oe.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},frt=function(){return oe.createElement(HI,null,oe.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},hrt=function(){return oe.createElement(HI,null,oe.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},prt={default:void 0,success:oe.createElement(urt,null),warning:oe.createElement(drt,null),error:oe.createElement(frt,null),info:oe.createElement(hrt,null)},Ih={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:prt,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Xoe,transitionDuration:{enter:225,exit:195}},mrt=function(e,n){var r=function(i){return typeof i=="number"||i===null};return r(e)?e:r(n)?n:Ih.autoHideDuration},grt=function(e,n){var r=function(i,s){return s.some(function(a){return typeof i===a})};return r(e,["string","number"])?e:r(e,["object"])?kr({},Ih.transitionDuration,{},r(n,["object"])&&n,{},e):r(n,["string","number"])?n:r(n,["object"])?kr({},Ih.transitionDuration,{},n):Ih.transitionDuration},vrt=function(e,n){return function(r,o){return o===void 0&&(o=!1),o?kr({},Ih[r],{},n[r],{},e[r]):r==="autoHideDuration"?mrt(e.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?grt(e.transitionDuration,n.transitionDuration):e[r]||n[r]||Ih[r]}};function Hw(t){return Object.entries(t).reduce(function(e,n){var r,o=n[0],i=n[1];return kr({},e,(r={},r[o]=mF(i),r))},{})}var hv={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},LW=Hw({root:{height:0},entered:{height:"auto"}}),Sk="0px",Ck=175,Qoe=h.forwardRef(function(t,e){var n=t.children,r=t.in,o=t.onExited,i=h.useRef(null),s=h.useRef(null),a=cO(e,s),l=function(){return i.current?i.current.clientHeight:0},c=function(v){v.style.height=Sk},u=function(v){var y=l(),b=NE({timeout:Ck,mode:"enter"}),x=b.duration,w=b.easing;v.style.transitionDuration=typeof x=="string"?x:x+"ms",v.style.height=y+"px",v.style.transitionTimingFunction=w||""},d=function(v){v.style.height="auto"},f=function(v){v.style.height=l()+"px"},m=function(v){Goe(v);var y=NE({timeout:Ck,mode:"exit"}),b=y.duration,x=y.easing;v.style.transitionDuration=typeof b=="string"?b:b+"ms",v.style.height=Sk,v.style.transitionTimingFunction=x||""};return h.createElement(vF,{in:r,unmountOnExit:!0,onEnter:c,onEntered:d,onEntering:u,onExit:f,onExited:o,onExiting:m,nodeRef:s,timeout:Ck},function(g,v){return h.createElement("div",Object.assign({ref:a,className:Cp(LW.root,g==="entered"&&LW.entered),style:kr({pointerEvents:"all",overflow:"hidden",minHeight:Sk,transition:Wm("height")},g==="entered"&&{overflow:"visible"},{},g==="exited"&&!r&&{visibility:"hidden"})},v),h.createElement("div",{ref:i,className:hv.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});Qoe.displayName="Collapse";var FW={right:"left",left:"right",bottom:"up",top:"down"},yrt=function(e){return e.horizontal!=="center"?FW[e.horizontal]:FW[e.vertical]},brt=function(e){return"anchorOrigin"+gF(e)},xrt=function(e){e===void 0&&(e={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(e).filter(function(r){return!n[r]}).reduce(function(r,o){var i;return kr({},r,(i={},i[o]=e[o],i))},{})},wrt=function(){};function ib(t,e){return t.reduce(function(n,r){return r==null?n:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var l=[].concat(s);e&&l.indexOf(e)===-1&&l.push(e),n.apply(this,l),r.apply(this,l)}},wrt)}var Srt=typeof window<"u"?h.useLayoutEffect:h.useEffect;function zW(t){var e=h.useRef(t);return Srt(function(){e.current=t}),h.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var Joe=h.forwardRef(function(t,e){var n=t.children,r=t.className,o=t.autoHideDuration,i=t.disableWindowBlurListener,s=i===void 0?!1:i,a=t.onClose,l=t.id,c=t.open,u=t.SnackbarProps,d=u===void 0?{}:u,f=h.useRef(),m=zW(function(){a&&a.apply(void 0,arguments)}),g=zW(function(w){!a||w==null||(f.current&&clearTimeout(f.current),f.current=setTimeout(function(){m(null,"timeout",l)},w))});h.useEffect(function(){return c&&g(o),function(){f.current&&clearTimeout(f.current)}},[c,o,g]);var v=function(){f.current&&clearTimeout(f.current)},y=h.useCallback(function(){o!=null&&g(o*.5)},[o,g]),b=function(C){d.onMouseEnter&&d.onMouseEnter(C),v()},x=function(C){d.onMouseLeave&&d.onMouseLeave(C),y()};return h.useEffect(function(){if(!s&&c)return window.addEventListener("focus",y),window.addEventListener("blur",v),function(){window.removeEventListener("focus",y),window.removeEventListener("blur",v)}},[s,y,c]),h.createElement("div",Object.assign({ref:e},d,{className:Cp(hv.Snackbar,r),onMouseEnter:b,onMouseLeave:x}),n)});Joe.displayName="Snackbar";var _k,Crt=Hw({root:(_k={display:"flex",flexWrap:"wrap",flexGrow:1},_k[Wf.upSm]={flexGrow:"initial",minWidth:"288px"},_k)}),Zoe=h.forwardRef(function(t,e){var n=t.className,r=Vw(t,["className"]);return oe.createElement("div",Object.assign({ref:e,className:Cp(Crt.root,n)},r))});Zoe.displayName="SnackbarContent";var Yy=Hw({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),BW="notistack-snackbar",eie=h.forwardRef(function(t,e){var n=t.id,r=t.message,o=t.action,i=t.iconVariant,s=t.variant,a=t.hideIconVariant,l=t.style,c=t.className,u=i[s],d=o;return typeof d=="function"&&(d=d(n)),oe.createElement(Zoe,{ref:e,role:"alert","aria-describedby":BW,style:l,className:Cp(hv.MuiContent,hv.MuiContentVariant(s),Yy.root,Yy[s],c,!a&&u&&Yy.lessPadding)},oe.createElement("div",{id:BW,className:Yy.message},a?null:u,r),d&&oe.createElement("div",{className:Yy.action},d))});eie.displayName="MaterialDesignContent";var _rt=h.memo(eie),Ert=Hw({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),Trt=function(e){var n=h.useRef(),r=h.useState(!0),o=r[0],i=r[1],s=ib([e.snack.onClose,e.onClose]),a=function(){e.snack.requestClose&&s(null,"instructed",e.snack.id)},l=h.useCallback(function(){n.current=setTimeout(function(){i(function(I){return!I})},125)},[]);h.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var c=e.snack,u=e.classes,d=e.Component,f=d===void 0?_rt:d,m=h.useMemo(function(){return xrt(u)},[u]),g=c.open,v=c.SnackbarProps,y=c.TransitionComponent,b=c.TransitionProps,x=c.transitionDuration,w=c.disableWindowBlurListener,C=c.content,E=Vw(c,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),_=kr({direction:yrt(E.anchorOrigin),timeout:x},b),S=C;typeof S=="function"&&(S=S(E.id,E.message));var T=["onEnter","onEntered","onExit","onExited"].reduce(function(I,P){var M;return kr({},I,(M={},M[P]=ib([e.snack[P],e[P]],E.id),M))},{});return oe.createElement(Qoe,{in:o,onExited:T.onExited},oe.createElement(Joe,{open:g,id:E.id,disableWindowBlurListener:w,autoHideDuration:E.autoHideDuration,className:Cp(Ert.wrappedRoot,m.root,m[brt(E.anchorOrigin)]),SnackbarProps:v,onClose:s},oe.createElement(y,Object.assign({},_,{appear:!0,in:g,onExit:T.onExit,onExited:l,onEnter:T.onEnter,onEntered:ib([T.onEntered,a],E.id)}),S||oe.createElement(f,Object.assign({},E)))))},Xy,Ek,xS,wS,Tk,Nc={view:{default:20},snackbar:{default:6,dense:2}},VW="."+hv.CollapseWrapper,Ik=16,SS=Hw({root:(Xy={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:Wm(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Xy[VW]={padding:Nc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Xy.maxWidth="calc(100% - "+Nc.view.default*2+"px)",Xy[Wf.downXs]={width:"100%",maxWidth:"calc(100% - "+Ik*2+"px)"},Xy),rootDense:(Ek={},Ek[VW]={padding:Nc.snackbar.dense+"px 0px"},Ek),top:{top:Nc.view.default-Nc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Nc.view.default-Nc.snackbar.default+"px",flexDirection:"column-reverse"},left:(xS={left:Nc.view.default+"px"},xS[Wf.upSm]={alignItems:"flex-start"},xS[Wf.downXs]={left:Ik+"px"},xS),right:(wS={right:Nc.view.default+"px"},wS[Wf.upSm]={alignItems:"flex-end"},wS[Wf.downXs]={right:Ik+"px"},wS),center:(Tk={left:"50%",transform:"translateX(-50%)"},Tk[Wf.upSm]={alignItems:"center"},Tk)}),Irt=function(e){var n=e.classes,r=n===void 0?{}:n,o=e.anchorOrigin,i=e.dense,s=e.children,a=Cp(hv.SnackbarContainer,SS[o.vertical],SS[o.horizontal],SS.root,r.containerRoot,r["containerAnchorOrigin"+gF(o)],i&&SS.rootDense);return oe.createElement("div",{className:a},s)},Prt=h.memo(Irt),HW=function(e){var n=typeof e=="string"||h.isValidElement(e);return!n},Rrt=function(t){qoe(e,t);function e(r){var o;return o=t.call(this,r)||this,o.enqueueSnackbar=function(i,s){if(s===void 0&&(s={}),i==null)throw new Error("enqueueSnackbar called with invalid argument");var a=HW(i)?i:s,l=HW(i)?i.message:i,c=a.key,u=a.preventDuplicate,d=Vw(a,["key","preventDuplicate"]),f=vS(c),m=f?c:new Date().getTime()+Math.random(),g=vrt(d,o.props),v=kr({id:m},d,{message:l,open:!0,entered:!1,requestClose:!1,persist:g("persist"),action:g("action"),content:g("content"),variant:g("variant"),anchorOrigin:g("anchorOrigin"),disableWindowBlurListener:g("disableWindowBlurListener"),autoHideDuration:g("autoHideDuration"),hideIconVariant:g("hideIconVariant"),TransitionComponent:g("TransitionComponent"),transitionDuration:g("transitionDuration"),TransitionProps:g("TransitionProps",!0),iconVariant:g("iconVariant",!0),style:g("style",!0),SnackbarProps:g("SnackbarProps",!0),className:Cp(o.props.className,d.className)});return v.persist&&(v.autoHideDuration=void 0),o.setState(function(y){if(u===void 0&&o.props.preventDuplicate||u){var b=function(E){return f?E.id===m:E.message===l},x=y.queue.findIndex(b)>-1,w=y.snacks.findIndex(b)>-1;if(x||w)return y}return o.handleDisplaySnack(kr({},y,{queue:[].concat(y.queue,[v])}))}),m},o.handleDisplaySnack=function(i){var s=i.snacks;return s.length>=o.maxSnack?o.handleDismissOldest(i):o.processQueue(i)},o.processQueue=function(i){var s=i.queue,a=i.snacks;return s.length>0?kr({},i,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):i},o.handleDismissOldest=function(i){if(i.snacks.some(function(u){return!u.open||u.requestClose}))return i;var s=!1,a=!1,l=i.snacks.reduce(function(u,d){return u+(d.open&&d.persist?1:0)},0);l===o.maxSnack&&(a=!0);var c=i.snacks.map(function(u){return!s&&(!u.persist||a)?(s=!0,u.entered?(u.onClose&&u.onClose(null,"maxsnack",u.id),o.props.onClose&&o.props.onClose(null,"maxsnack",u.id),kr({},u,{open:!1})):kr({},u,{requestClose:!0})):kr({},u)});return kr({},i,{snacks:c})},o.handleEnteredSnack=function(i,s,a){if(!vS(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");o.setState(function(l){var c=l.snacks;return{snacks:c.map(function(u){return u.id===a?kr({},u,{entered:!0}):kr({},u)})}})},o.handleCloseSnack=function(i,s,a){o.props.onClose&&o.props.onClose(i,s,a);var l=a===void 0;o.setState(function(c){var u=c.snacks,d=c.queue;return{snacks:u.map(function(f){return!l&&f.id!==a?kr({},f):f.entered?kr({},f,{open:!1}):kr({},f,{requestClose:!0})}),queue:d.filter(function(f){return f.id!==a})}})},o.closeSnackbar=function(i){var s=o.state.snacks.find(function(a){return a.id===i});vS(i)&&s&&s.onClose&&s.onClose(null,"instructed",i),o.handleCloseSnack(null,"instructed",i)},o.handleExitedSnack=function(i,s){if(!vS(s))throw new Error("handleExitedSnack Cannot be called with undefined key");o.setState(function(a){var l=o.processQueue(kr({},a,{snacks:a.snacks.filter(function(c){return c.id!==s})}));return l.queue.length===0?l:o.handleDismissOldest(l)})},o.enqueueSnackbar,o.closeSnackbar,o.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:o.enqueueSnackbar.bind($W(o)),closeSnackbar:o.closeSnackbar.bind($W(o))}},o}var n=e.prototype;return n.render=function(){var o=this,i=this.state.contextValue,s=this.props,a=s.domRoot,l=s.children,c=s.dense,u=c===void 0?!1:c,d=s.Components,f=d===void 0?{}:d,m=s.classes,g=this.state.snacks.reduce(function(y,b){var x,w=gF(b.anchorOrigin),C=y[w]||[];return kr({},y,(x={},x[w]=[].concat(C,[b]),x))},{}),v=Object.keys(g).map(function(y){var b=g[y],x=b[0];return oe.createElement(Prt,{key:y,dense:u,anchorOrigin:x.anchorOrigin,classes:m},b.map(function(w){return oe.createElement(Trt,{key:w.id,snack:w,classes:m,Component:f[w.variant],onClose:o.handleCloseSnack,onEnter:o.props.onEnter,onExit:o.props.onExit,onExited:ib([o.handleExitedSnack,o.props.onExited],w.id),onEntered:ib([o.handleEnteredSnack,o.props.onEntered],w.id)})}))});return oe.createElement(Koe.Provider,{value:i},l,a?sa.createPortal(v,a):v)},Uoe(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||Ih.maxSnack}}]),e}(h.Component),yF=function(){return h.useContext(Koe)};const krt=()=>{const{currentUser:t}=ku();Tc();const{enqueueSnackbar:e}=yF(),[n,r]=h.useState("liste"),[o,i]=h.useState(""),[s,a]=h.useState(""),[l,c]=h.useState(new Date),[u,d]=h.useState(new Date(new Date().setHours(new Date().getHours()+8))),{poles:f}=Rv(),[m,g]=h.useState([]),[v,y]=h.useState([]),[b,x]=h.useState(!0),[w,C]=h.useState(null),[E,_]=h.useState(null),S=h.useMemo(()=>{const z={};return m.forEach(V=>{z[V.id]=V}),z},[m]);h.useEffect(()=>{(async()=>{try{x(!0);const V=await Ks.getSites();g(V),x(!1)}catch(V){console.error("Erreur lors du chargement des données:",V),C("Impossible de charger les données des sites."),x(!1)}})()},[]);const T=h.useCallback(async z=>{try{x(!0);const V=await Ks.getTourneeById(z);if(i(V.nom),a(V.pole),c(new Date(V.heureDebut)),d(new Date(V.heureFin)),V.sites&&V.sites.length>0){const W=V.sites.map(Y=>({id:`${Y.id}_${Date.now()+Math.floor(Math.random()*1e3)}`,siteId:Y.id,ordre:Y.ordre,heureArrivee:new Date(Y.heureArrivee),site:S[Y.id]}));W.sort((Y,U)=>Y.ordre-U.ordre),y(W)}_(z),r("configuration"),x(!1)}catch(V){console.error(`Erreur lors du chargement de la tournée ${z}:`,V),C("Impossible de charger la tournée. Veuillez réessayer."),x(!1)}},[S]),I=h.useCallback(z=>{T(z).then(()=>{r("visualisation")})},[T]),P=h.useCallback(z=>{T(z)},[T]),M=h.useCallback((z,V=5)=>{let W;if(v.length===0)W=new Date(l);else try{const U=v[v.length-1],q=S[U.siteId||U.id.split("_")[0]];if(q){const K=oa.estimateTravelTime(q,z);let J=300;typeof K=="number"&&(J=K);const X=Math.ceil(Number(J)/60);W=new Date(U.heureArrivee);const ue=U.dureeVisite!==void 0?Number(U.dureeVisite):5;W.setMinutes(W.getMinutes()+ue),W.setMinutes(W.getMinutes()+X),console.log(`Calcul de l'heure d'arrivée à ${z.nom}: ${W.toString()}`),console.log(`- Temps de trajet estimé: ${X} minutes`),console.log(`- Durée de visite du site précédent: ${ue} minutes`)}else W=new Date(l)}catch(U){console.error("Erreur lors du calcul du temps de trajet:",U),W=new Date(l)}const Y=`${z.id}_${Date.now()}`;y(U=>[...U,{id:Y,siteId:z.id,ordre:U.length+1,heureArrivee:W,dureeVisite:V,site:z}])},[v,l,S]),R=h.useCallback(async z=>{if(v.length===0)return;console.log("Début de l'optimisation de la tournée avec le trafic réel...");const V=v[0].heureArrivee,W=new Date(V);console.log(`Heure originale du premier site: ${W.toLocaleString()}`);try{const Y=await Promise.all(v.map(async J=>{const X=J.siteId||J.id.split("_")[0];return S[X]}));console.log("Appel de l'API d'optimisation avec trafic réel...");const U=await oa.optimizeTour(Y.filter(Boolean),W);if(console.log("Résultat de l'optimisation:",U),!U||!U.sitesOrder||U.sitesOrder.length===0)throw new Error("L'optimisation n'a pas retourné de résultat valide");U.arrivalTimes?console.log("Heures d'arrivée obtenues de l'API:",U.arrivalTimes):console.warn("Aucune heure d'arrivée n'a été retournée par l'optimisation. Recalcul local nécessaire.");let q=U.sitesOrder.map((J,X)=>{var Ce;const ue=v.find(pe=>(pe.siteId||pe.id.split("_")[0])===J);if(!ue)return console.error(`Site avec ID ${J} introuvable lors de l'optimisation`),null;let _e=ue.heureArrivee;return U.arrivalTimes&&U.arrivalTimes[J]&&(_e=U.arrivalTimes[J],console.log(`Heure d'arrivée à ${((Ce=ue.site)==null?void 0:Ce.nom)||J}: ${_e.toLocaleTimeString()}`)),{...ue,ordre:X+1,heureArrivee:_e}}).filter(Boolean);if(q.length!==v.length)throw console.error(`Erreur d'optimisation: ${q.length} sites récupérés sur ${v.length}`),new Error("Des sites ont été perdus pendant l'optimisation");if(q.length>0&&(q[0]={...q[0],heureArrivee:W},!U.arrivalTimes)){console.log("Recalcul local des heures d'arrivée...");let J=W;for(let X=1;X<q.length;X++){const ue=q[X],_e=q[X-1],Ce=_e.siteId||_e.id.split("_")[0],pe=ue.siteId||ue.id.split("_")[0],ge=S[Ce],F=S[pe];if(ge&&F){const ce=new Date(J),le=_e.dureeVisite!==void 0?Number(_e.dureeVisite):5;ce.setMinutes(ce.getMinutes()+le);const Z=await oa.estimateTravelTime(ge,F,ce),Q=new Date(ce);Q.setSeconds(Q.getSeconds()+Z),q[X]={...q[X],heureArrivee:Q},J=Q,console.log(`Recalcul local de l'heure d'arrivée pour ${F.nom}: ${Q.toLocaleTimeString()} (trajet: ${Math.round(Z/60)} min)`)}}}q.some(J=>{const X=new Date(J.heureArrivee);return isNaN(X.getTime())})&&(console.error("Des heures d'arrivée invalides ont été détectées après l'optimisation"),q=q.map((J,X)=>{const ue=new Date(J.heureArrivee);if(isNaN(ue.getTime())){const _e=new Date(W);return _e.setMinutes(_e.getMinutes()+X*30),console.log(`Correction d'une heure invalide pour le site ${X+1}: ${_e.toLocaleString()}`),{...J,heureArrivee:_e}}return J})),console.log("Optimisation terminée avec succès !"),y(q)}catch(Y){console.error("Erreur lors de l'optimisation:",Y),e("Erreur lors de l'optimisation de la tournée",{variant:"error"})}},[v,S,e]),k=h.useCallback(()=>{r("visualisation")},[]),D=h.useCallback(async()=>{if(!(!t||!E)){x(!0);try{const z=new Date,V=v.length>0?new Date(v[0].heureArrivee):z,W=v.length>0?new Date(v[v.length-1].heureArrivee):z,Y=v.map(K=>({...K,heureArrivee:K.heureArrivee?new Date(K.heureArrivee):z})),U={nom:o,pole:s,heureDebut:V,heureFin:W,sites:Y.map(K=>({id:K.siteId||K.id.split("_")[0],ordre:K.ordre,heureArrivee:K.heureArrivee})),createdBy:t.uid,createdAt:z};let q;E?(await Ks.updateTournee(E,U),q=E,e("Tournée mise à jour avec succès",{variant:"success"})):(q=await Ks.createTournee(U),e("Tournée créée avec succès",{variant:"success"})),N(),r("liste")}catch(z){console.error("Erreur lors de la sauvegarde de la tournée:",z),C("Impossible d'enregistrer la tournée. Veuillez réessayer."),e("Erreur lors de l'enregistrement de la tournée",{variant:"error"})}finally{x(!1)}}},[o,s,l,u,v,t,E,e]),A=h.useCallback(async()=>{if(t){x(!0);try{const z=new Date,V=v.length>0?new Date(v[0].heureArrivee):z,W=v.length>0?new Date(v[v.length-1].heureArrivee):z,Y=v.map(K=>({...K,heureArrivee:K.heureArrivee?new Date(K.heureArrivee):z})),U={nom:o,pole:s,heureDebut:V,heureFin:W,sites:Y.map(K=>({id:K.siteId||K.id.split("_")[0],ordre:K.ordre,heureArrivee:K.heureArrivee})),createdBy:t.uid,createdAt:z};let q;E?(await Ks.updateTournee(E,U),q=E,e("Tournée mise à jour avec succès",{variant:"success"})):(q=await Ks.createTournee(U),_(q),e("Tournée créée avec succès",{variant:"success"}))}catch(z){console.error("Erreur lors de la sauvegarde de la tournée:",z),C("Impossible d'enregistrer la tournée. Veuillez réessayer."),e("Erreur lors de l'enregistrement de la tournée",{variant:"error"})}finally{x(!1)}}},[o,s,l,u,v,t,E,e,Ks]),N=h.useCallback(()=>{i(""),a(""),c(new Date),d(new Date(new Date().setHours(new Date().getHours()+8))),y([]),_(null)},[]),O=h.useCallback(()=>{N(),r("configuration")},[N]),j=h.useMemo(()=>new Set(v.map(z=>z.siteId||z.id.split("_")[0])),[v]),L=h.useCallback((z,V)=>{r(V)},[]);return b?p.jsx(Ud,{maxWidth:"xl",children:p.jsx(vt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:p.jsx(Ne,{children:"Chargement des données..."})})}):w?p.jsx(Ud,{maxWidth:"xl",children:p.jsxs(vt,{sx:{p:2,bgcolor:"#fee",border:"1px solid #faa",borderRadius:1},children:[p.jsx(Ne,{color:"error",children:w}),p.jsx(Mt,{variant:"outlined",onClick:()=>window.location.reload(),sx:{mt:2},children:"Réessayer"})]})}):p.jsxs(Ud,{maxWidth:"xl",className:"tournees-container",children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h4",component:"h1",children:"Gestion des tournées"}),p.jsx(Mt,{variant:"contained",color:"primary",startIcon:p.jsx(df,{}),onClick:O,children:"Nouvelle tournée"})]}),p.jsxs(Gv,{value:n,onChange:L,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{mb:2},children:[p.jsx(yr,{label:"Liste des tournées",value:"liste"}),p.jsx(yr,{label:"Configuration",value:"configuration"}),p.jsx(yr,{label:"Visualisation",value:"visualisation",disabled:v.length<2})]}),n==="liste"&&p.jsx(Znt,{onEditTournee:P,onViewTournee:I,onNewTournee:O}),n==="configuration"&&p.jsxs(vt,{children:[p.jsx($oe,{nom:o,setNom:i,pole:s,setPole:a,heureDebut:l,setHeureDebut:c,heureFin:u,setHeureFin:d,poles:f,onNext:k,onSave:D,onSaveOnly:A}),p.jsxs(ut,{container:!0,spacing:2,sx:{mt:2},children:[p.jsx(ut,{item:!0,xs:12,md:5,children:p.jsx(Ooe,{sites:m,selectedSites:j,onAddSite:M})}),p.jsx(ut,{item:!0,xs:12,md:7,children:p.jsx(zoe,{sites:v,availableSites:m,onSitesChange:y,onAddSite:()=>{},onBack:()=>{},onNext:k})})]})]}),n==="visualisation"&&p.jsxs(ut,{container:!0,spacing:2,children:[p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsx(Voe,{tourSites:v,allSites:S,onSitesReordered:y,onSave:D,onSaveOnly:A})}),p.jsx(ut,{item:!0,xs:12,md:8,children:p.jsx(Boe,{sites:v,allSites:S,onOptimize:R})})]})]})},tie=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e="abcdefghijklmnopqrstuvwxyz",n="0123456789",r="!@#$%&*-_=+";let o="";for(let s=0;s<2;s++)o+=t.charAt(Math.floor(Math.random()*t.length));for(let s=0;s<2;s++)o+=n.charAt(Math.floor(Math.random()*n.length));for(let s=0;s<2;s++)o+=e.charAt(Math.floor(Math.random()*e.length));o+=r.charAt(Math.floor(Math.random()*r.length));const i=o.split("");for(let s=i.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[i[s],i[a]]=[i[a],i[s]]}return i.join("")},Drt=async t=>{try{console.log("Début de la création d'un nouvel utilisateur:",t.email);const e=tie();console.log("Mot de passe temporaire généré");const r=(await Vge(cl,t.email,e)).user.uid;console.log("Utilisateur créé dans Firebase Auth avec UID:",r);const o={url:UY+`/login?email=${encodeURIComponent(t.email)}&newUser=true&nom=${encodeURIComponent(t.nom)}`,handleCodeInApp:!0};console.log("Envoi de l'email de réinitialisation à:",t.email),await R2(cl,t.email,o),console.log("Email de réinitialisation envoyé avec succès");const i=await os(Ht(mt,"users"),{...t,uid:r,identifiant:r,createdAt:new Date().toISOString()});return console.log("Document utilisateur créé dans Firestore avec ID:",i.id),{success:!0,docId:i.id,uid:r}}catch(e){return console.error("Erreur lors de la création de l'utilisateur:",e),{success:!1,error:e}}},nie=[{id:"utilisateur",name:"Utilisateur",description:"Utilisateur standard",permissions:["basic.view"],pageAccess:{dashboard:!0,passages:!0,sites:!0,tournees:!0,vehicules:!0,carte:!0},isDefault:!0},{id:"admin",name:"Administrateur",description:"Administrateur système",permissions:["*"],pageAccess:{dashboard:!0,passages:!0,sites:!0,tournees:!0,vehicules:!0,carte:!0,userManagement:!0,administration:!0},isAdmin:!0},{id:"manager",name:"Gestionnaire",description:"Gestionnaire de système",permissions:["users.view","users.edit"],pageAccess:{dashboard:!0,passages:!0,sites:!0,tournees:!0,vehicules:!0,carte:!0,userManagement:!0}}];function rie(t){try{const n=Sl.getInstance();if(n.initialized){const r=n.roles.find(o=>o.name===t);if(r)return console.log(`🔍 Rôle '${t}' trouvé dans l'instance:`,r),r}}catch(n){console.warn("Erreur lors de la récupération du rôle depuis l'instance:",n)}const e=nie.find(n=>n.name===t);return console.log(`🔍 Rôle '${t}' ${e?"trouvé":"non trouvé"} dans les rôles statiques`),e}function Ol(t,e){var o,i;const n=rie(t);if(!n)return console.warn(`Rôle '${t}' non trouvé pour vérifier l'accès à la page ${e}`),!1;if(n.isAdmin===!0)return console.log(`👑 Rôle '${t}' est admin, accès accordé à ${e}`),!0;const r=((o=n.pageAccess)==null?void 0:o[e])===!0;return console.log(`🔐 Vérification d'accès pour '${t}' à la page '${e}': ${r?"OUI":"NON"}`),console.log(`   - pageAccess pour ${e}:`,(i=n.pageAccess)==null?void 0:i[e]),r}const th=class th{constructor(){Ye(this,"roles",[]);Ye(this,"initialized",!1);Ye(this,"roleChangeListeners",[])}static getInstance(){return th.instance||(th.instance=new th),th.instance}addRoleChangeListener(e){this.roleChangeListeners.push(e)}removeRoleChangeListener(e){this.roleChangeListeners=this.roleChangeListeners.filter(n=>n!==e)}notifyRoleChangeListeners(){this.roleChangeListeners.forEach(e=>e())}async getRoles(){return this.initialized||await this.initializeRoles(),this.roles}async getRole(e){return this.initialized||await this.initializeRoles(),this.roles.find(n=>n.id===e)||null}async getRoleByName(e){return this.initialized||await this.initializeRoles(),this.roles.find(n=>n.name===e)||null}async initializeRoles(){try{const e=Ht(mt,"roles"),n=await Jt(e);this.roles=n.docs.map(r=>({id:r.id,...r.data()})),this.initialized=!0,console.log("Roles initialisés:",this.roles)}catch(e){throw console.error("Erreur lors du chargement des rôles:",e),e}}async updateRolePermissions(e,n){try{this.initialized||await this.initializeRoles(),console.log("RoleService: Début de la mise à jour des permissions pour le rôle:",e),console.log("RoleService: Nouvelles permissions:",n);const r=un(mt,"roles",e);if(!(await si(r)).exists())throw new Error(`Le rôle avec l'ID ${e} n'existe pas dans Firestore`);await Yo(r,{permissions:n}),console.log("RoleService: Document mis à jour dans Firestore");const i=this.roles.findIndex(s=>s.id===e);i!==-1&&(this.roles[i]={...this.roles[i],permissions:n},console.log("RoleService: Cache local mis à jour")),await this.refreshRoles(),console.log("RoleService: Roles rafraîchis depuis Firestore"),this.notifyRoleChangeListeners()}catch(r){throw console.error("RoleService: Erreur lors de la mise à jour des permissions:",r),r}}async updatePageAccess(e,n){try{this.initialized||await this.initializeRoles(),console.log("RoleService: Début de la mise à jour des accès aux pages pour le rôle:",e),console.log("RoleService: Nouveaux accès aux pages:",n);const r=un(mt,"roles",e);if(!(await si(r)).exists())throw new Error(`Le rôle avec l'ID ${e} n'existe pas dans Firestore`);await Yo(r,{pageAccess:n}),console.log("RoleService: Document mis à jour dans Firestore");const i=this.roles.findIndex(s=>s.id===e);i!==-1&&(this.roles[i]={...this.roles[i],pageAccess:n},console.log("RoleService: Cache local mis à jour")),await this.refreshRoles(),console.log("RoleService: Roles rafraîchis depuis Firestore"),Object.assign(nie,this.roles),this.notifyRoleChangeListeners()}catch(r){throw console.error("RoleService: Erreur lors de la mise à jour des accès aux pages:",r),r}}async refreshRoles(){this.initialized=!1,await this.initializeRoles(),this.notifyRoleChangeListeners()}};Ye(th,"instance");let Sl=th;const Ar={DASHBOARD:"dashboard",PASSAGES:"passages",SITES:"sites",TOURNEES:"tournees",VEHICULES:"vehicules",CARTE:"carte",USER_MANAGEMENT:"userManagement",ADMINISTRATION:"administration",PASSAGE_DETAILS:"passageDetails",TOURNEE_DETAILS:"tourneeDetails",VEHICULES_ADVANCED:"vehiculesAdvanced"};function $rt(t,e,n){if(!t)return!1;const r=n.find(i=>i.name===t.role);if(!r)return!1;if(r.isAdmin===!0)return!0;const o=r.pageAccess;return o?!!o[e]:!1}const Ni=({children:t,userRole:e,allowedRoles:n,requiredPermissions:r=[],pageName:o,roles:i})=>{const{currentUser:s,hasPermission:a,isAllowedRoute:l}=ku(),c=yf(),[u,d]=h.useState(!1),[f,m]=h.useState(!1),g=(v,y)=>{var x;if(!v||!y)return!1;if(v.isAdmin===!0)return!0;const b=y.toLowerCase();return((x=v.pageAccess)==null?void 0:x[b])===!0};return h.useEffect(()=>{const v=n.includes(e)||n.includes("default"),y=r.length===0||r.every(w=>a(w)),b=l(c.pathname),x=o?$rt(s,o,i):!0;console.log("VÉRIFICATION D'ACCÈS DÉTAILLÉE:",{url:c.pathname,page:o,userRole:e,allowedRoles:n,hasRole:v,requiredPermissions:r,userPermissions:(s==null?void 0:s.permissions)||[],hasAllPermissions:y,hasRouteAccess:b,pageAccessCheck:{pageName:o,allRoles:i.map(w=>({name:w.name,pageAccess:w.pageAccess})),userRoleObject:i.find(w=>w.name===e),hasPageAccess:o?g(i.find(w=>w.name===e),o):!0},hasPageSpecificAccess:x,currentUser:{...s,role:s==null?void 0:s.role}}),console.log(`🔑 DÉCISION FINALE pour ${c.pathname} (${o||"sans nom de page"}):`),console.log(`- Rôle autorisé: ${v?"OUI":"NON"} (${e} dans [${n.join(", ")}])`),console.log(`- Permissions requises: ${y?"OUI":"NON"} (${r.join(", ")})`),console.log(`- Accès spécifique à la page: ${x?"OUI":"NON"}`),console.log(`- Route autorisée: ${b?"OUI":"NON"}`),console.log(`- Résultat final: ${v&&y&&x||b?"✅ ACCÈS AUTORISÉ":"❌ ACCÈS REFUSÉ"}`),m(v&&y&&x||b),d(!0)},[e,s,c.pathname,i,n,r,o,a,l]),u?f?p.jsx(p.Fragment,{children:t}):(console.log("ACCÈS REFUSÉ - Redirection vers la page d'accueil"),p.jsx(um,{to:"/",replace:!0})):p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:"Vérification des permissions..."})]})},WW=[{id:"selection",label:"Sélection",visible:!0,width:"50px"},{id:"nom",label:"Nom",visible:!0,width:"120px"},{id:"email",label:"Email",visible:!0,width:"180px"},{id:"uid",label:"UID",visible:!0,width:"120px"},{id:"role",label:"Rôle",visible:!0,width:"120px"},{id:"pole",label:"Pôle",visible:!0,width:"120px"},{id:"statut",label:"Statut",visible:!0,width:"90px"},{id:"actions",label:"Actions",visible:!0,width:"150px"}],Mrt=()=>{var re,ve,ee,he,we,me,ke,Ie,Re,$e;const[t,e]=h.useState([]),[n,r]=h.useState([]),[o,i]=h.useState(!0),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState({}),[f,m]=h.useState(null),[g,v]=h.useState([]),[y,b]=h.useState(!1),[x,w]=h.useState(0),[C,E]=h.useState(""),[_,S]=h.useState([]),[T,I]=h.useState(""),[P,M]=h.useState(!1),[R,k]=h.useState(!1),[D,A]=h.useState(()=>{try{const ne=localStorage.getItem("userManagementColumns");if(ne)return JSON.parse(ne)}catch(ne){console.error("Erreur lors du chargement des colonnes:",ne)}return WW}),N=Sl.getInstance(),{currentUser:O,hasPermission:j}=ku(),{poles:L}=Rv();h.useEffect(()=>{(async()=>{try{const[xe]=await Promise.all([N.getRoles(),z()]);r(xe)}catch{a("Erreur lors de l'initialisation")}})(),V()},[]),h.useEffect(()=>{S(t)},[t]),h.useEffect(()=>{let ne=t;if(T&&(ne=ne.filter(xe=>xe.pole===T)),C.trim()){const xe=C.toLowerCase().trim();ne=ne.filter(se=>(se.nom||"").toLowerCase().includes(xe)||(se.email||"").toLowerCase().includes(xe)||(se.identifiant||"").toLowerCase().includes(xe)||(se.role||"").toLowerCase().includes(xe)||(se.pole||"").toLowerCase().includes(xe))}S(ne)},[C,t,T]),h.useEffect(()=>{console.log("🔐 Permissions de l'utilisateur courant:",{user:O,hasUsersViewPermission:j("users.view"),hasUsersCreatePermission:j("users.create"),hasUsersEditPermission:j("users.edit"),hasUsersDeletePermission:j("users.delete"),userRole:O==null?void 0:O.role,userPermissions:O==null?void 0:O.permissions});const ne=j("users.view")||(O==null?void 0:O.role)==="Administrateur";console.log("🚪 Accès à la gestion des utilisateurs:",ne)},[O]);const z=async()=>{try{const ne=Ht(mt,"users"),se=(await Jt(ne)).docs.map(ae=>{const Ee=ae.data();return!Ee.uid&&Ee.identifiant&&(Ee.uid=Ee.identifiant),{id:ae.id,...Ee}});e(se),i(!1)}catch{a("Erreur lors du chargement des utilisateurs"),i(!1)}},V=()=>{const ne=cl.currentUser;b((ne==null?void 0:ne.email)==="mickael.volle@inovie.fr")},W=async ne=>{console.log("🔐 Début de handleResetPassword"),console.log("Email reçu:",ne),a(null);try{if(!ne||ne.trim()===""){console.error("❌ Email invalide"),a("L'email est invalide");return}console.log("🔍 Tentative d'envoi de l'email de réinitialisation");const xe=cl.currentUser;if(!xe||!xe.email){console.error("❌ Aucun utilisateur connecté ou email non disponible"),a("Vous devez être connecté pour effectuer cette action");return}const se=xe.email;console.log("📧 Email de l'administrateur connecté:",se),console.log("📧 Email de l'utilisateur à réinitialiser:",ne);const ae={url:UY+`/login?email=${encodeURIComponent(ne)}&reset=true`,handleCodeInApp:!0};console.log("📝 URL de redirection configurée:",ae.url),await R2(cl,ne,ae),console.log("📧 Email de réinitialisation Firebase envoyé avec succès"),console.log("✅ Processus de réinitialisation de mot de passe terminé avec succès"),alert(`
            ✅ Réinitialisation de mot de passe effectuée !
            
            Un email de réinitialisation a été envoyé à ${ne}.
            
            L'utilisateur pourra :
            1. Cliquer sur le lien dans l'email pour définir son mot de passe
            2. Utiliser la fonction "Mot de passe oublié" sur la page de connexion
            
            ATTENTION : Le lien dans l'email est valable pendant 1 heure seulement.
        `.trim())}catch(xe){console.error("❌ ERREUR COMPLETE lors de la réinitialisation du mot de passe:",xe),console.error("Détails de l'erreur:",{name:xe.name,code:xe.code,message:xe.message,stack:xe.stack});let se="Une erreur est survenue";switch(xe.code){case"auth/invalid-email":se="Format d'email invalide";break;case"auth/user-not-found":se="Aucun utilisateur trouvé avec cet email";break;case"auth/missing-email":se="Aucun email n'a été fourni";break;case"auth/too-many-requests":se="Trop de tentatives. Veuillez réessayer plus tard.";break;default:se=`Impossible d'envoyer l'email de réinitialisation : ${xe.message}`}console.error("❌ Message d'erreur:",se),a(se),alert(se)}},Y=()=>{if(l)window.confirm("Voulez-vous enregistrer les modifications ?")?(console.log("Sauvegarde des modifications avant de quitter le mode édition"),Ce().then(()=>{v([]),m(null),c(!1)}).catch(ne=>{console.error("Erreur lors de la sauvegarde:",ne),alert("Une erreur est survenue lors de la sauvegarde. Veuillez réessayer.")})):(console.log("Annulation des modifications et sortie du mode édition"),d({}),m(null),v([]),c(!1));else{console.log("Entrée en mode édition");const ne={};t.forEach(xe=>{ne[xe.id]={...xe}}),d(ne),m(null),c(!0)}},U=()=>({identifiant:"",email:"",nom:"",role:"Utilisateur",pole:"",statut:"Actif",permissions:[]}),q=ne=>ne?{...U(),...ne,nom:ne.nom||"",email:ne.email||"",role:ne.role||"Utilisateur",pole:ne.pole||"",statut:ne.statut||"Actif",identifiant:ne.identifiant||"",permissions:ne.permissions||[]}:U(),K=(ne,xe)=>{m(se=>({...q(se),[ne]:xe}))},J=async(ne,xe,se)=>{ne&&d(ae=>{const Ee=ae[ne]||{...t.find(Le=>Le.id===ne)||{}};if(xe==="role"){const Le=n.find(ze=>ze.name===se);return{...ae,[ne]:{...Ee,[xe]:se,permissions:(Le==null?void 0:Le.permissions)||[]}}}return{...ae,[ne]:{...Ee,[xe]:se}}})},X=ne=>{if(!ne)return"";switch(ne.toLowerCase()){case"actif":return"livré";case"inactif":return"en-cours";default:return""}},ue=ne=>{v(xe=>xe.includes(ne)?xe.filter(se=>se!==ne):[...xe,ne])},_e=async()=>{try{if(g.length===0){alert("❌ Aucun utilisateur sélectionné");return}if(!window.confirm(`Êtes-vous sûr de vouloir supprimer ${g.length} utilisateur(s) ?
      
⚠️ ATTENTION: Les utilisateurs seront supprimés uniquement de la base de données Firestore, mais PAS de Firebase Authentication.
Pour une suppression complète, contactez l'administrateur système.`))return;const ne=t.filter(ae=>g.includes(ae.id));console.log(`🔄 Tentative de suppression de ${g.length} utilisateurs de Firestore`);const xe=g.map(ae=>Go(un(mt,"users",ae)));await Promise.all(xe);const se=t.filter(ae=>!g.includes(ae.id));e(se),v([]),alert(`
        ✅ ${g.length} utilisateur(s) supprimé(s) de la base de données Firestore avec succès.
        
        ⚠️ IMPORTANT: Les comptes utilisateurs n'ont PAS été supprimés de Firebase Authentication.
        Si nécessaire, ces comptes devront être supprimés manuellement par un administrateur
        depuis la console Firebase.
      `.trim())}catch(ne){console.error("❌ Erreur lors de la suppression des utilisateurs:",ne),a("Erreur lors de la suppression des utilisateurs"),alert("❌ Erreur lors de la suppression des utilisateurs")}},Ce=async()=>{try{i(!0);const ne=[];for(const We in u)if(Object.prototype.hasOwnProperty.call(u,We)){const Ze=u[We],dt=n.find(Be=>Be.name==="Administrateur");if(Ze.role==="Administrateur"&&dt&&Ze.id&&!dt.permissions.includes(Ze.id)){const Be=t.find(lt=>lt.id===We);Be&&Be.role!=="Administrateur"&&(Ze.role=Be.role,console.warn(`Tentative non autorisée de promotion au rôle d'Administrateur pour l'utilisateur ${Ze.nom||Ze.email}`),alert(`Le rôle "Administrateur" ne peut pas être attribué via cette interface. L'utilisateur ${Ze.nom||Ze.email} conservera son rôle ${Ze.role}.`))}Ze.dateModification||(Ze.dateModification=new Date().toISOString());const de=un(mt,"users",We),{id:je,uid:Ve,...tt}=Ze;ne.push(Yo(de,tt))}let xe=null;f&&(console.log("Préparation de l'ajout d'un nouvel utilisateur:",f),!f.email||!f.nom?(console.warn("Champs obligatoires manquants pour le nouvel utilisateur"),m(null)):(f.role==="Administrateur"&&(console.warn("Tentative non autorisée d'attribution du rôle Administrateur à un nouvel utilisateur"),f.role="Utilisateur",alert('Le rôle "Administrateur" ne peut pas être attribué via cette interface. Le nouvel utilisateur sera créé avec le rôle "Utilisateur".')),xe=(async()=>{try{const We={identifiant:f.identifiant||"",email:f.email||"",nom:f.nom||"",role:f.role||"Utilisateur",pole:f.pole||"",statut:f.statut||"Actif",permissions:f.permissions||[]},Ze=await Drt(We);if(Ze.success)return console.log(`Nouvel utilisateur ajouté avec l'ID: ${Ze.docId}`),Ze.docId;throw Ze.error||new Error("La création de l'utilisateur a échoué")}catch(We){throw console.error("Erreur lors de l'ajout du nouvel utilisateur:",We),We}})()));const se=await Promise.allSettled(ne),ae=xe?await Promise.allSettled([xe]):[],Ee=[...se,...ae],Le=Ee.filter(We=>We.status==="fulfilled").length,ze=Ee.filter(We=>We.status==="rejected").length;console.log(`Opérations terminées: ${Le} réussies, ${ze} échouées`),ze>0&&console.warn("Certaines opérations ont échoué. Voir les erreurs ci-dessus."),await z(),d({}),m(null),c(!1),v([]),ze>0?alert(`Modifications partiellement enregistrées. ${ze} opérations ont échoué.`):alert(`Modifications enregistrées avec succès. ${Object.keys(u).length} utilisateur(s) mis à jour.`)}catch(ne){throw console.error("Erreur lors de la sauvegarde:",ne),a("Erreur lors de la sauvegarde"),alert("Erreur lors de la sauvegarde des modifications. Veuillez réessayer."),ne}finally{i(!1)}};console.log("🌍 Environnement actuel:",{nodeEnv:"production",isDevelopment:!1});const pe=()=>{l||c(!0),m({id:`temp-${Date.now()}`,nom:"",email:"",role:n.length>0?n[0].name:"Utilisateur",pole:"",statut:"Actif",identifiant:"",permissions:[]}),w(ne=>ne+1),setTimeout(()=>{const ne=document.querySelector(".user-management-table .new-user-row input");ne&&ne.focus()},100)},ge=()=>{window.confirm("Êtes-vous sûr de vouloir annuler toutes les modifications ?")&&(d({}),m(null),v([]),c(!1))},F=ne=>{if(!ne)return"-";const xe=L.find(se=>se.id===ne);return xe?xe.nom:ne},ce=ne=>{I(ne)},le=()=>{M(!1)};h.useEffect(()=>(P?document.addEventListener("click",le):document.removeEventListener("click",le),()=>{document.removeEventListener("click",le)}),[P]);const Z=()=>{k(!0)},Q=()=>{try{localStorage.setItem("userManagementColumns",JSON.stringify(D))}catch(ne){console.error("Erreur lors de la sauvegarde des colonnes:",ne)}k(!1)},ye=ne=>{A(xe=>{const se=xe.map(ae=>ae.id===ne?{...ae,visible:!ae.visible}:ae);try{localStorage.setItem("userManagementColumns",JSON.stringify(se))}catch(ae){console.error("Erreur lors de la sauvegarde des colonnes:",ae)}return se})},fe=()=>{const ne=WW.map(xe=>({...xe}));A(ne);try{localStorage.setItem("userManagementColumns",JSON.stringify(ne))}catch(xe){console.error("Erreur lors de la sauvegarde des colonnes:",xe)}},ie=ne=>{A(xe=>{const se=xe.map(ae=>({...ae,visible:ne}));try{localStorage.setItem("userManagementColumns",JSON.stringify(se))}catch(ae){console.error("Erreur lors de la sauvegarde des colonnes:",ae)}return se})};return o?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Chargement des utilisateurs..."})]}):p.jsxs(Ni,{userRole:(O==null?void 0:O.role)||"",allowedRoles:["admin","manager"],requiredPermissions:["users.view"],pageName:Ar.USER_MANAGEMENT,roles:n,children:[p.jsxs("div",{className:"user-management-container",children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{className:"section-title",children:"Gestion des utilisateurs"})}),p.jsxs("div",{className:"sticky-header-top",children:[p.jsx("div",{className:"action-buttons-group",children:l?p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"button button-success",onClick:Ce,disabled:o,children:[p.jsx("i",{className:"fas fa-save"})," Enregistrer"]}),p.jsxs("button",{className:"button button-warning",onClick:ge,disabled:o,children:[p.jsx("i",{className:"fas fa-times"})," Annuler"]}),p.jsxs("button",{className:"button button-info",onClick:pe,disabled:o,children:[p.jsx("i",{className:"fas fa-plus"})," Ajouter"]}),p.jsxs("button",{className:"button button-danger",onClick:_e,disabled:g.length===0||o,children:[p.jsx("i",{className:"fas fa-trash-alt"})," Supprimer (",g.length,")"]}),p.jsxs("button",{className:"button button-info",onClick:Z,children:[p.jsx("i",{className:"fas fa-columns"})," Colonnes"]})]}):p.jsx(p.Fragment,{children:p.jsxs("button",{className:"button button-primary",onClick:Y,children:[p.jsx("i",{className:"fas fa-edit"})," Modifier"]})})}),p.jsxs("div",{className:"quick-search-container",children:[p.jsx("input",{type:"text",className:"quick-search-input",placeholder:"Recherche rapide...",value:C,onChange:ne=>E(ne.target.value),disabled:o}),p.jsxs("select",{className:"pole-filter",value:T,onChange:ne=>ce(ne.target.value),disabled:o,children:[p.jsx("option",{value:"",children:"Filtrer par pôle"}),p.jsx("option",{value:"CENTRE",children:"CENTRE"}),p.jsx("option",{value:"EST",children:"EST"}),p.jsx("option",{value:"OUEST",children:"OUEST"}),p.jsx("option",{value:"Administration",children:"Administration"})]})]})]}),p.jsxs("div",{className:"users-table-container",style:{marginTop:"20px"},children:[p.jsx("div",{className:"results-info",children:p.jsxs("p",{children:[_.length," résultat(s) trouvé(s)",C?` pour la recherche "${C}"`:""]})}),p.jsxs("table",{className:`sites-table ${l?"editing":""}`,style:{fontSize:"0.8rem"},children:[p.jsx("thead",{children:p.jsxs("tr",{children:[l&&((re=D.find(ne=>ne.id==="selection"))==null?void 0:re.visible)&&p.jsx("th",{className:"select-all-column",children:"Sélection"}),D.filter(ne=>ne.visible&&ne.id!=="selection"&&ne.id!=="actions").map(ne=>p.jsx("th",{style:{width:ne.width},children:ne.label},ne.id)),((ve=D.find(ne=>ne.id==="actions"))==null?void 0:ve.visible)&&p.jsx("th",{className:"actions-column",children:"Actions"})]})}),p.jsxs("tbody",{children:[l&&f&&p.jsxs("tr",{className:"new-user-row",children:[((ee=D.find(ne=>ne.id==="selection"))==null?void 0:ee.visible)&&p.jsx("td",{style:{display:"none"}}),((he=D.find(ne=>ne.id==="nom"))==null?void 0:he.visible)&&p.jsx("td",{children:p.jsx("input",{type:"text",value:f.nom||"",onChange:ne=>K("nom",ne.target.value),className:"inline-edit-input",placeholder:"Nom"})}),((we=D.find(ne=>ne.id==="email"))==null?void 0:we.visible)&&p.jsx("td",{children:p.jsx("input",{type:"email",value:f.email||"",onChange:ne=>K("email",ne.target.value),className:"inline-edit-input",placeholder:"Email"})}),((me=D.find(ne=>ne.id==="uid"))==null?void 0:me.visible)&&p.jsx("td",{children:p.jsx("input",{type:"text",value:f.identifiant||"",onChange:ne=>K("identifiant",ne.target.value),className:"inline-edit-input",placeholder:"Identifiant"})}),((ke=D.find(ne=>ne.id==="role"))==null?void 0:ke.visible)&&p.jsx("td",{children:p.jsxs("select",{value:f.role||"",onChange:ne=>K("role",ne.target.value),className:"inline-edit-select",title:"Rôle de l'utilisateur",children:[p.jsx("option",{value:"",children:"Sélectionner un rôle"}),n.filter(ne=>ne.name!=="Administrateur").map(ne=>p.jsx("option",{value:ne.name,children:ne.name},ne.id))]})}),((Ie=D.find(ne=>ne.id==="pole"))==null?void 0:Ie.visible)&&p.jsx("td",{children:p.jsx(mE,{value:f.pole||"",onChange:ne=>K("pole",ne),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle de l'utilisateur"})}),((Re=D.find(ne=>ne.id==="statut"))==null?void 0:Re.visible)&&p.jsx("td",{children:p.jsxs("select",{value:f.statut||"Actif",onChange:ne=>K("statut",ne.target.value),className:"inline-edit-select",title:"Statut de l'utilisateur",children:[p.jsx("option",{value:"Actif",children:"Actif"}),p.jsx("option",{value:"Inactif",children:"Inactif"})]})}),(($e=D.find(ne=>ne.id==="actions"))==null?void 0:$e.visible)&&p.jsx("td",{})]},f.id),_.map(ne=>{var xe,se,ae,Ee,Le,ze,We,Ze,dt,de,je,Ve,tt;return p.jsxs("tr",{className:g.includes(ne.id)?"selected-row":"",onClick:()=>l&&ue(ne.id),children:[l&&((xe=D.find(Be=>Be.id==="selection"))==null?void 0:xe.visible)&&p.jsx("td",{className:"checkbox-cell",children:p.jsx("input",{type:"checkbox",checked:g.includes(ne.id),onChange:()=>ue(ne.id),title:"Sélectionner cet utilisateur","aria-label":"Sélectionner cet utilisateur",onClick:Be=>Be.stopPropagation()})}),((se=D.find(Be=>Be.id==="nom"))==null?void 0:se.visible)&&p.jsx("td",{children:l?p.jsx("input",{type:"text",value:((ae=u[ne.id])==null?void 0:ae.nom)||ne.nom,onChange:Be=>J(ne.id,"nom",Be.target.value),className:"inline-edit-input",title:"Nom de l'utilisateur","aria-label":"Modifier le nom de l'utilisateur",placeholder:"Nom"}):ne.nom}),((Ee=D.find(Be=>Be.id==="email"))==null?void 0:Ee.visible)&&p.jsx("td",{children:l?p.jsx("input",{type:"email",value:((Le=u[ne.id])==null?void 0:Le.email)||ne.email,onChange:Be=>J(ne.id,"email",Be.target.value),className:"inline-edit-input",title:"Email de l'utilisateur","aria-label":"Modifier l'email de l'utilisateur",placeholder:"Email"}):ne.email}),((ze=D.find(Be=>Be.id==="uid"))==null?void 0:ze.visible)&&p.jsx("td",{children:l?p.jsx("span",{className:"uid-display",children:ne.email==="mickael.volle@inovie.fr"?"admin-mickael-volle":ne.identifiant==="admin"?"admin-system":ne.uid||ne.identifiant||"Non disponible"}):p.jsx("span",{className:"uid-display",children:ne.email==="mickael.volle@inovie.fr"?"admin-mickael-volle":ne.identifiant==="admin"?"admin-system":ne.uid||ne.identifiant||"Non disponible"})}),((We=D.find(Be=>Be.id==="role"))==null?void 0:We.visible)&&p.jsx("td",{children:l?p.jsx("select",{value:((Ze=u[ne.id])==null?void 0:Ze.role)||ne.role,onChange:Be=>J(ne.id,"role",Be.target.value),className:"inline-edit-select",title:"Rôle de l'utilisateur","aria-label":"Modifier le rôle de l'utilisateur",disabled:ne.email==="mickael.volle@inovie.fr",children:n.filter(Be=>Be.name==="Administrateur"?ne.role==="Administrateur":!0).map(Be=>p.jsx("option",{value:Be.name,children:Be.name},Be.id))}):p.jsxs("div",{className:"role-display",children:[p.jsx("span",{className:"role-name",children:ne.role}),p.jsx("span",{className:"role-description",children:(dt=n.find(Be=>Be.name===ne.role))==null?void 0:dt.description})]})}),((de=D.find(Be=>Be.id==="pole"))==null?void 0:de.visible)&&p.jsx("td",{children:l?p.jsx(mE,{value:((je=u[ne.id])==null?void 0:je.pole)||ne.pole||"",onChange:Be=>J(ne.id,"pole",Be),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle de l'utilisateur"}):F(ne.pole)}),((Ve=D.find(Be=>Be.id==="statut"))==null?void 0:Ve.visible)&&p.jsx("td",{children:u[ne.id]&&l?p.jsxs("select",{value:u[ne.id].statut||"",onChange:Be=>J(ne.id,"statut",Be.target.value),className:"inline-edit-select",title:"Statut de l'utilisateur","aria-label":"Modifier le statut de l'utilisateur",children:[p.jsx("option",{value:"Actif",children:"Actif"}),p.jsx("option",{value:"Inactif",children:"Inactif"})]}):p.jsx("span",{className:X(ne.statut),children:ne.statut||"Non défini"})}),((tt=D.find(Be=>Be.id==="actions"))==null?void 0:tt.visible)&&p.jsx("td",{children:l&&p.jsxs("button",{className:"reset-password-button",onClick:Be=>{Be.stopPropagation(),W(ne.email)},title:"Réinitialiser le mot de passe de l'utilisateur",children:[p.jsx("i",{className:"fas fa-key"})," Réinitialiser mot de passe"]})})]},ne.id)})]})]})]})]}),p.jsxs(ss,{open:R,onClose:Q,maxWidth:"sm",fullWidth:!0,children:[p.jsx(Ds,{children:p.jsx(Ne,{variant:"h6",children:"Configuration des colonnes"})}),p.jsx(ua,{}),p.jsxs(ls,{children:[p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap"},children:[p.jsx(Mt,{variant:"contained",color:"primary",onClick:()=>ie(!0),size:"small",children:"Tout sélectionner"}),p.jsx(Mt,{variant:"outlined",onClick:()=>ie(!1),size:"small",children:"Tout désélectionner"}),p.jsx(Mt,{variant:"outlined",onClick:fe,size:"small",children:"Réinitialiser"})]}),p.jsx(cs,{children:D.map(ne=>p.jsxs($s,{dense:!0,button:!0,onClick:()=>ye(ne.id),className:ne.visible?"column-visible":"column-hidden",children:[p.jsx(_x,{checked:ne.visible,onChange:()=>ye(ne.id),color:"primary"}),p.jsx(hl,{primary:ne.label})]},ne.id))})]}),p.jsx(ua,{}),p.jsx(as,{children:p.jsx(Mt,{onClick:Q,variant:"contained",color:"primary",children:"Fermer"})})]})]})};function Oi(t){const[e,n]=t.split(" "),[r,o,i]=e.split("-").map(Number),[s,a]=n.split(":").map(Number),l=new Date(r,o-1,i,s,a);return En.fromDate(l)}const Ort=[{siteDépart:"Laboratoire Bonnefoy",dhDépart:Oi("2023-02-24 07:25"),idColis:"30072001529",statut:"Livré",siteFin:"Clinique SUB",dhLivraison:Oi("2023-02-24 08:40"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Clinique Saint-Jean",dhDépart:Oi("2023-02-24 07:15"),idColis:"15000434563",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Oi("2023-02-24 08:10"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Centre Médical Rangueil",dhDépart:Oi("2023-02-24 07:05"),idColis:"15000199845",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Oi("2023-02-24 07:55"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Laboratoire Lénisole",dhDépart:Oi("2023-02-24 07:44"),idColis:"ASG001570930",statut:"Livré",siteFin:"Clinique La Jayre",dhLivraison:Oi("2023-02-24 08:15"),coursierCharg:"guillaume.sage@novus.fr",coursierLivraison:"guillaume.sage@novus.fr",véhicule:"GI-456-AD"},{siteDépart:"Hôpital Fontroide",dhDépart:Oi("2023-02-24 07:47"),idColis:"ASG001524765",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Oi("2023-02-24 08:35"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Clinique STER",dhDépart:Oi("2023-02-24 08:03"),idColis:"ASG001570783",statut:"En cours",coursierCharg:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Centre Beau Soleil",dhDépart:Oi("2023-02-24 08:16"),idColis:"MB0004040047",statut:"En cours",coursierCharg:"michel.roude@novus.fr",véhicule:"GL-789-BA"},{siteDépart:"Laboratoire Purpan",dhDépart:Oi("2023-02-24 08:25"),idColis:"ASG001578924",statut:"En cours",coursierCharg:"guillaume.sage@novus.fr",véhicule:"GI-456-AD"},{siteDépart:"Clinique Pasteur",dhDépart:Oi("2023-02-24 07:10"),idColis:"30072001587",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Oi("2023-02-24 07:55"),coursierCharg:"jean.dupont@novus.fr",coursierLivraison:"jean.dupont@novus.fr",véhicule:"GB-123-AZ"},{siteDépart:"Cabinet Médical Basso",dhDépart:Oi("2023-02-24 08:30"),idColis:"MB0004042187",statut:"En cours",coursierCharg:"michel.roude@novus.fr",véhicule:"GL-789-BA"}];async function Art(t=!0){try{const e=Ht(mt,"passages"),n=await Jt(e);if(!n.empty&&t){console.log(`Suppression des ${n.size} documents existants...`);const o=n.docs.map(i=>Go(i.ref));await Promise.all(o),console.log("Tous les documents ont été supprimés avec succès.")}else if(!n.empty)return console.log(`La collection passages contient déjà ${n.size} documents. Aucune initialisation nécessaire.`),!1;let r=0;for(const o of Ort)await os(e,o),r++;return console.log(`Initialisation réussie ! ${r} passages ont été ajoutés à la collection.`),!0}catch(e){throw console.error("Erreur détaillée lors de l'initialisation de la collection passages:",e),e}}const Nrt=()=>{const[t,e]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(!0),s=async()=>{e(!0),r(null);try{const a=await Art(o);r(a?{success:!0,message:"La collection passages a été initialisée avec succès !"}:{success:!1,message:`La collection passages contient déjà des données et l'option "Forcer l'initialisation" est désactivée.`})}catch(a){console.error("Erreur lors de l'initialisation:",a),r({success:!1,message:`Erreur lors de l'initialisation: ${a instanceof Error?a.message:"Erreur inconnue"}`})}finally{e(!1)}};return p.jsxs("div",{style:{maxWidth:"800px",margin:"20px auto",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"8px"},children:[p.jsx("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"Initialisation de la Collection Passages"}),p.jsx("p",{style:{marginBottom:"20px"},children:'Cliquez sur le bouton ci-dessous pour initialiser la collection "passages" dans Firebase avec des données fictives.'}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[p.jsx("input",{type:"checkbox",checked:o,onChange:a=>i(a.target.checked),style:{marginRight:"10px"}}),"Forcer l'initialisation (supprime les données existantes)"]}),p.jsx("p",{style:{fontSize:"14px",color:"#666",marginTop:"5px",marginLeft:"25px"},children:"Si cette option est activée, les données existantes seront supprimées avant d'ajouter les nouvelles."})]}),p.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:p.jsx("button",{onClick:s,disabled:t,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:t?"not-allowed":"pointer",fontSize:"16px"},children:t?"Initialisation en cours...":"Initialiser la Collection Passages"})}),n&&p.jsx("div",{style:{padding:"15px",backgroundColor:n.success?"#dff0d8":"#f2dede",color:n.success?"#3c763d":"#a94442",borderRadius:"4px",marginTop:"20px"},children:n.message})]})},Ws=t=>t?t.toLowerCase().trim().replace(/[éèêë]/g,"e").replace(/[àâä]/g,"a").replace(/[ùûü]/g,"u").replace(/[ôö]/g,"o").replace(/[îï]/g,"i").replace(/[ç]/g,"c").replace(/\s+/g," "):"",jrt=30*60*1e3,Qy=(t,e=jrt)=>{try{const n=localStorage.getItem(t);if(n){const{timestamp:r,data:o}=JSON.parse(n);if(Date.now()-r<e)return console.log(`Utilisation des données en cache pour ${t}`),o;console.log(`Cache expiré pour ${t}`)}}catch(n){console.error(`Erreur lors de la lecture du cache pour ${t}:`,n)}return null},am=(t,e)=>{try{const n={timestamp:Date.now(),data:e};localStorage.setItem(t,JSON.stringify(n)),console.log(`Données mises en cache pour ${t}`)}catch(n){console.error(`Erreur lors de l'enregistrement dans le cache pour ${t}:`,n)}},Lrt=()=>{const[t,e]=h.useState({sites:!1,preferences:!1,types:!1,poles:!1}),[n,r]=h.useState([]),[o,i]=h.useState([]),[s,a]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState(null),[f,m]=h.useState(!1),[g,v]=h.useState(null),[y,b]=h.useState({}),[x,w]=h.useState({}),[C,E]=h.useState(!1),[_,S]=h.useState(!1),[T,I]=h.useState(null),[P,M]=h.useState(null),[R,k]=h.useState([]),[D,A]=h.useState(!0),[N,O]=h.useState(window.__googleMapsInitialized||!1),j=h.useRef(null),L=h.useRef(null),z=h.useRef([]),V=h.useRef([]);h.useRef([]);const W=h.useRef([]),[Y,U]=h.useState(!1),[q,K]=h.useState(null),J=h.useRef(!1);h.useEffect(()=>{const ee=async()=>{try{e(ae=>({...ae,sites:!0}));const Re=Qy("mapSitesCache");if(Re&&Re.length>0)return console.log(`Récupération de ${Re.length} sites depuis le cache`),r(Re),e(ae=>({...ae,sites:!1})),Re;console.log("Chargement des sites depuis Firestore...");const $e=wn(Ht(mt,"sites")),xe=(await Jt($e)).docs.map(ae=>({id:ae.id,...ae.data()}));console.log(`${xe.length} sites récupérés depuis Firestore`);const se=xe.filter(ae=>{const Ee=typeof ae.latitude=="string"?parseFloat(ae.latitude):ae.latitude,Le=typeof ae.longitude=="string"?parseFloat(ae.longitude):ae.longitude;return Ee!==void 0&&Le!==void 0&&!isNaN(Number(Ee))&&!isNaN(Number(Le))});return console.log(`${se.length} sites ont des coordonnées valides`),am("mapSitesCache",se),r(se),e(ae=>({...ae,sites:!1})),se}catch(Re){return console.error("Erreur lors du chargement des sites:",Re),e($e=>({...$e,sites:!1})),d("Erreur lors du chargement des sites"),[]}},he=async()=>{try{e(se=>({...se,preferences:!0}));const Re=Qy("mapPreferencesCache");if(Re&&Re.length>0){console.log(`Récupération de ${Re.length} préférences depuis le cache`),k(Re),e(se=>({...se,preferences:!1}));return}console.log("Chargement des préférences depuis Firestore...");const $e=wn(Ht(mt,"markerPreferences")),xe=(await Jt($e)).docs.map(se=>({id:se.id,...se.data()}));am("mapPreferencesCache",xe),k(xe),e(se=>({...se,preferences:!1}))}catch(Re){console.error("Erreur lors du chargement des préférences:",Re),e($e=>({...$e,preferences:!1})),d("Erreur lors du chargement des préférences")}};(async()=>{c(!0);const Re=await ee();await he(),await X(Re),await ue(Re),c(!1)})();const me=()=>{const Re=wn(Ht(mt,"courierLocations"),Dr("lastScan",">",En.fromDate(new Date(Date.now()-864e5))));return B3(Re,$e=>{const ne=$e.docs.map(xe=>({id:xe.id,...xe.data()}));i(ne)},$e=>{console.error("Erreur lors de la mise à jour des coursiers:",$e),d("Erreur lors du chargement des données des coursiers")})};(async()=>{try{const Re=Qy("mapTourneesCache");if(Re&&Re.length>0){a(Re);return}const $e=wn(Ht(mt,"tournees")),xe=(await Jt($e)).docs.map(se=>({id:se.id,...se.data()}));am("mapTourneesCache",xe),a(xe)}catch(Re){console.error("Erreur lors du chargement des tournées:",Re)}})();const Ie=me();return()=>{Ie()}},[]);const X=async(ee=[])=>{try{e(Ie=>({...Ie,types:!0}));const he=Qy("mapTypesVisibilityCache");if(he&&Object.keys(he).length>0){console.log(`Récupération de ${Object.keys(he).length} types depuis le cache`),b(he),e(Ie=>({...Ie,types:!1}));return}console.log("Chargement des types de sites depuis Firestore...");const we=wn(Ht(mt,"siteTypes")),me=await Jt(we);console.log("Structure des documents siteTypes:",me.docs.map(Ie=>({id:Ie.id,data:Ie.data(),keys:Object.keys(Ie.data())})));let ke={};if(!me.empty){const Ie=me.docs.map($e=>{const ne=$e.data();return ne.name||ne.type||ne.nom||ne.libelle||""}).filter(Boolean);console.log("Types bruts extraits:",Ie);const Re=[...new Set(Ie.map($e=>Ws($e)))];console.log("Types normalisés et dédupliqués:",Re),Re.forEach($e=>{$e&&(ke[$e]=!0)})}if(Object.keys(ke).length===0&&ee.length>0){console.log("Extraction des types depuis les sites");const Ie=[...new Set(ee.map(Re=>Ws(Re.type)).filter(Boolean))];console.log("Types extraits des sites:",Ie),Ie.forEach(Re=>{Re&&(ke[Re]=!0)})}Object.keys(ke).length>0?(am("mapTypesVisibilityCache",ke),b(ke)):console.warn("Aucun type de site trouvé"),e(Ie=>({...Ie,types:!1}))}catch(he){console.error("Erreur lors du chargement des types de sites:",he),e(we=>({...we,types:!1}))}},ue=async(ee=[])=>{try{e(Re=>({...Re,poles:!0}));const he=Qy("mapPolesVisibilityCache");if(he&&Object.keys(he).length>0){console.log(`Récupération de ${Object.keys(he).length} pôles depuis le cache`),w(he),e(Re=>({...Re,poles:!1}));return}console.log("Chargement des pôles depuis Firestore...");const we=wn(Ht(mt,"poles")),me=await Jt(we);console.log("Structure des documents poles:",me.docs.map(Re=>({id:Re.id,data:Re.data(),keys:Object.keys(Re.data())})));let ke={};const Ie={};if(me.empty||(me.docs.forEach(Re=>{const $e=Re.data(),ne=$e.nom||$e.name||$e.pole||$e.libelle;if(ne){console.log(`Pôle trouvé dans le document ${Re.id}:`,ne),Ie[Re.id]=ne;let xe="";const se=ne.toLowerCase().match(/\b(nord|sud|est|ouest|centre)\b/);se?(xe=se[0],console.log(`Extraction du nom de base du pôle "${xe}" depuis "${ne}"`)):xe=ne.toLowerCase().trim(),ke[xe]=!0,console.log(`Ajout du pôle "${xe}" aux filtres de visibilité`)}else for(const xe of Object.keys($e)){const se=$e[xe];if(typeof se=="string"&&se.length>0){console.log(`Utilisation du champ "${xe}" comme nom de pôle:`,se),Ie[Re.id]=se;let ae="";const Ee=se.toLowerCase().match(/\b(nord|sud|est|ouest|centre)\b/);Ee?ae=Ee[0]:ae=se.toLowerCase().trim(),ke[ae]=!0,console.log(`Ajout du pôle "${ae}" aux filtres de visibilité`);break}}}),console.log("Mapping ID de pôle -> nom de pôle:",Ie),console.log("Pôles extraits pour les filtres de visibilité:",Object.keys(ke))),Object.keys(ke).length===0&&ee.length>0){console.log("Extraction des pôles depuis les sites");const Re=new Set;ee.forEach($e=>{if($e.pole){let ne=$e.pole;Ie[ne]&&(ne=Ie[ne]);let xe="";const se=ne.toLowerCase().match(/\b(nord|sud|est|ouest|centre)\b/);se?xe=se[0]:xe=ne.toLowerCase().trim(),Re.add(xe)}}),console.log("Pôles extraits des sites:",Array.from(Re)),Re.forEach($e=>{$e&&(ke[$e]=!0)})}Object.keys(ke).length>0?(am("mapPolesVisibilityCache",ke),w(ke),console.log("Pôles disponibles pour filtrage:",Object.keys(ke))):console.warn("Aucun pôle trouvé"),e(Re=>({...Re,poles:!1}))}catch(he){console.error("Erreur lors du chargement des pôles:",he),e(we=>({...we,poles:!1}))}},_e=(ee=[])=>{const he=["mapSitesCache","mapPreferencesCache","mapTypesVisibilityCache","mapPolesVisibilityCache","mapTourneesCache"];(ee.length>0?ee:he).forEach(me=>{localStorage.removeItem(me),console.log(`Cache effacé pour ${me}`)}),window.location.reload()};h.useEffect(()=>{const ee=he=>{console.error("Erreur globale capturée:",he.error),he.preventDefault()};return window.addEventListener("error",ee),()=>{window.removeEventListener("error",ee)}},[]),h.useEffect(()=>{L.current&&n.length>0&&Object.keys(y).length===0&&(console.log("Initialisation des filtres avec les sites déjà chargés"),(async()=>{try{const he=wn(Ht(mt,"siteTypes")),we=await Jt(he);if(console.log("Documents siteTypes bruts:",we.docs.map(me=>({id:me.id,...me.data()}))),we.empty){const me=[...new Set(n.map(Ie=>Ws(Ie.type)).filter(Boolean))],ke={};me.forEach(Ie=>{Ie&&(ke[Ie]=!0)}),b(ke)}else{const me=we.docs.map(Ie=>{const Re=Ie.data();return console.log("Champs disponibles dans siteType:",Object.keys(Re)),Re.name||Re.type||Re.nom||""}).filter(Boolean);console.log("Types de sites depuis la base de données:",me);const ke={};if(me.forEach(Ie=>{if(Ie){const Re=Ws(Ie);ke[Re]=!0}}),Object.keys(ke).length>0)b(ke);else{const Ie=[...new Set(n.map($e=>Ws($e.type)).filter(Boolean))],Re={};Ie.forEach($e=>{$e&&(Re[$e]=!0)}),b(Re)}}}catch(he){console.error("Erreur lors du chargement des types de sites:",he);const we=[...new Set(n.map(ke=>Ws(ke.type)).filter(Boolean))],me={};we.forEach(ke=>{ke&&(me[ke]=!0)}),b(me)}})(),Ce(),U(!0))},[L.current,n]);const Ce=async()=>{try{const ee=wn(Ht(mt,"poles")),he=await Jt(ee);console.log("Documents poles bruts:",he.docs.map(me=>({id:me.id,...me.data()})));const we=he.docs.map(me=>{const ke=me.data();return console.log("Champs disponibles:",Object.keys(ke)),ke.nom||ke.name||ke.pole||me.id}).filter(Boolean);if(console.log("Pôles extraits:",we),we.length>0){const me={};we.forEach(ke=>{ke&&(me[ke.toLowerCase()]=!0)}),w(me)}else{const me=[...new Set(n.map(Ie=>{var Re;return(Re=Ie.pole)==null?void 0:Re.toLowerCase()}).filter(Boolean))],ke={};me.forEach(Ie=>{Ie&&(ke[Ie]=!0)}),w(ke)}}catch(ee){console.error("Erreur lors du chargement des pôles:",ee);const he=[...new Set(n.map(me=>{var ke;return(ke=me.pole)==null?void 0:ke.toLowerCase()}).filter(Boolean))],we={};he.forEach(me=>{me&&(we[me]=!0)}),w(we)}},pe=h.useCallback(()=>{console.log("=== MISE À JOUR DE LA VISIBILITÉ DES MARQUEURS ===");const ee={},he=async()=>{try{const me=wn(Ht(mt,"poles"));(await Jt(me)).docs.forEach(Ie=>{const Re=Ie.data(),$e=Re.nom||Re.name||Re.pole||Re.libelle;$e&&(ee[Ie.id]=$e)}),console.log("Mapping ID de pôle → nom de pôle pour la visibilité:",ee),we()}catch(me){console.error("Erreur lors du chargement des mappings de pôles:",me),we()}},we=()=>{const me=performance.now();let ke=0,Ie=0;console.log("Clés de pôles utilisées pour le filtrage:",Object.keys(x)),z.current.forEach($e=>{Ie++;const ne=$e.get("siteData");if(!ne)return;const xe=Ws(ne.type);let se=ne.pole;ne.pole&&ee[ne.pole]&&(se=ee[ne.pole],console.log(`Site ${ne.nom}: Conversion de l'ID pôle ${ne.pole} en nom ${se}`));let ae="";if(se){const dt=se.toLowerCase().match(/\b(nord|sud|est|ouest|centre)\b/);dt?(ae=dt[0],console.log(`Site ${ne.nom}: Extraction du nom de base du pôle "${ae}" depuis "${se}"`)):ae=se.toLowerCase()}const Ee=Object.keys(y).length>0,Le=Object.keys(x).length>0,ze=!Ee||!xe||y[xe]!==!1;let We=!Le;if(Le){if(ae&&x[ae]!==void 0)We=x[ae]!==!1;else if(ne.pole&&ee[ne.pole]){const de=ee[ne.pole].toLowerCase().match(/\b(nord|sud|est|ouest|centre)\b/);de&&x[de[0]]!==void 0&&(We=x[de[0]]!==!1)}}ne.nom.includes("Agde")&&console.log(`Site ${ne.nom}: Pôle=${se}, Base=${ae}, Visible=${We}, Filtres=${JSON.stringify(x)}`);const Ze=ze&&We;$e.getVisible()!==Ze&&$e.setVisible(Ze),Ze&&ke++});const Re=performance.now();console.log(`Visibilité mise à jour pour ${Ie} marqueurs (${ke} visibles) en ${Math.round(Re-me)}ms`),console.log("=== FIN DE LA MISE À JOUR DE LA VISIBILITÉ ==="),ke===0&&Ie>0?d("Aucun site ne correspond aux filtres actuels"):u==="Aucun site ne correspond aux filtres actuels"&&d(null)};he()},[y,x,u]),ge=h.useCallback(()=>{if(console.log("=== DÉBUT AFFICHAGE DES MARQUEURS ==="),console.log("Vérification des prérequis pour l'affichage des marqueurs:"),console.log("- Carte initialisée:",!!L.current),console.log("- Nombre de sites:",n.length),console.log("- Nombre de préférences:",R.length),!L.current||!n.length||!R.length){console.log("Impossible d'afficher les marqueurs");return}z.current.length>0&&(z.current.forEach(Ie=>Ie.setMap(null)),z.current=[]),V.current.length>0&&(V.current.forEach(Ie=>Ie.close()),V.current=[]);const ee=new google.maps.LatLngBounds;let he=0;const we={},me=async()=>{try{const Ie=wn(Ht(mt,"poles"));(await Jt(Ie)).docs.forEach($e=>{const ne=$e.data(),xe=ne.nom||ne.name||ne.pole||ne.libelle;xe&&(we[$e.id]=xe)}),console.log("Mapping ID de pôle -> nom de pôle pour les marqueurs:",we),ke()}catch(Ie){console.error("Erreur lors du chargement des mappings de pôles:",Ie),ke()}},ke=()=>{if(n.forEach(Re=>{var $e;try{const ne=typeof Re.latitude=="string"?parseFloat(Re.latitude):Re.latitude,xe=typeof Re.longitude=="string"?parseFloat(Re.longitude):Re.longitude;if(ne===void 0||xe===void 0||isNaN(Number(ne))||isNaN(Number(xe)))return;const se=Ws(Re.type);let ae=R.find(He=>Ws(He.siteType)===se);ae||(ae=R.find(He=>{const Ge=Ws(He.siteType),ht=se.includes(Ge),Qe=Ge.includes(se);return ht||Qe})),ae||(ae={id:"default",siteType:Re.type||"Inconnu",color:"#FF0000",icon:"circle",apercu:"circle",name:Re.type||"Inconnu"});const Ee=new google.maps.LatLng(ne,xe),Le=ae.apercu||ae.icon||"circle";let ze={position:Ee,map:L.current,title:Re.nom},We="",Ze=1;const de=(He=>{const Ge={Épingle:"pin","Goutte d'eau":"droplet",Cercle:"circle",Carré:"square",Triangle:"triangle",Diamant:"diamond",Hexagone:"hexagon",Étoile:"star",Cross:"cross"};if(Ge[He])return Ge[He].toLowerCase();const ht=He.toLowerCase();for(const[Qe,Xe]of Object.entries(Ge))if(ht.includes(Qe.toLowerCase())||ht.includes(Xe.toLowerCase()))return Xe.toLowerCase();return He.toLowerCase()})(Le);switch(de){case"pin":case"épingle":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 36" width="16" height="24">
                  <path fill="${ae.color}" stroke="#FFFFFF" stroke-width="2" d="M12,0 C5.4,0 0,5.4 0,12 C0,18.2 10.4,34.2 10.8,34.8 C11.1,35.3 11.9,35.3 12.2,34.8 C12.6,34.2 24,17 24,12 C24,5.4 18.6,0 12,0 Z"/>
                  <circle cx="12" cy="12" r="4" fill="#FFFFFF" opacity="0.8"/>
                </svg>
              `;break;case"droplet":case"goutte d'eau":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 32" width="16" height="24">
                  <path fill="${ae.color}" stroke="#FFFFFF" stroke-width="2" d="M12,0 C12,0 0,16 0,24 C0,28.4 5.4,32 12,32 C18.6,32 24,28.4 24,24 C24,16 12,0 12,0 Z"/>
                </svg>
              `;break;case"circle":case"cercle":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <circle cx="10" cy="10" r="8" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `;break;case"square":case"carré":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <rect x="2" y="2" width="16" height="16" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `;break;case"triangle":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <polygon points="10,2 18,18 2,18" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `;break;case"diamond":case"diamant":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <polygon points="10,2 18,10 10,18 2,10" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `;break;case"hexagon":case"hexagone":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <polygon points="17,10 14,17 6,17 3,10 6,3 14,3" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `;break;case"star":case"étoile":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <polygon points="10,2 12.2,7.8 18,8.4 13.6,12.4 14.6,18 10,15 5.4,18 6.4,12.4 2,8.4 7.8,7.8" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `;break;case"cross":case"croix":We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <path d="M7,2 L13,2 L13,7 L18,7 L18,13 L13,13 L13,18 L7,18 L7,13 L2,13 L2,7 L7,7 Z" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `;break;default:We=`
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                  <circle cx="10" cy="10" r="8" fill="${ae.color}" stroke="#FFFFFF" stroke-width="2"/>
                </svg>
              `}const Ve="data:image/svg+xml,"+encodeURIComponent(We);ze.icon={url:Ve,scaledSize:new google.maps.Size(18*Ze,de==="pin"?27*Ze:de==="droplet"?24*Ze:18*Ze),anchor:de==="pin"?new google.maps.Point(9*Ze,27*Ze):de==="droplet"?new google.maps.Point(9*Ze,24*Ze):new google.maps.Point(9*Ze,9*Ze)},C&&(ze.label={text:Re.nom,color:"#000000",fontWeight:"bold",className:"map-marker-label"});const tt=Ws(Re.type),Be=($e=Re.pole)==null?void 0:$e.toLowerCase(),lt=Object.keys(y).length>0,st=Object.keys(x).length>0,pt=!lt||!tt||y[tt]!==!1,Ct=!st||!Be||x[Be]!==!1;ze.visible=pt&&Ct;const Pe=new google.maps.Marker(ze);Pe.set("siteData",Re);let Te=Re.pole;Re.pole&&we[Re.pole]&&(Te=we[Re.pole],console.log(`Utilisation du nom de pôle "${Te}" au lieu de l'ID "${Re.pole}" pour le site "${Re.nom}"`));const De=`
            <div class="info-window" style="max-width:300px; font-family:Arial,sans-serif;">
              <h3>${Re.nom}</h3>
              <p><strong>Type:</strong> ${Re.type||"Non défini"}</p>
              <p><strong>Adresse:</strong> ${Re.adresse||"Non définie"}</p>
              ${Te?`<p><strong>Pôle:</strong> ${Te}</p>`:""}
              ${Re.telephone?`<p><strong>Téléphone:</strong> ${Re.telephone}</p>`:""}
              <p style="margin-top:10px; font-style:italic;">Chargement des informations Google Maps...</p>
            </div>
          `,Oe=new google.maps.InfoWindow({content:De,maxWidth:300});Pe.addListener("click",()=>{V.current.forEach(Ge=>Ge.close()),Oe.open(L.current,Pe);const He=`${Re.adresse||""}, ${Re.codePostal||""} ${Re.ville||""}`.trim();re(ne,xe,He,Oe,Pe,Re)}),z.current.push(Pe),V.current.push(Oe),ze.visible&&(ee.extend(Ee),he++)}catch(ne){console.error("Erreur lors de la création du marqueur:",ne)}}),he>0)try{L.current.fitBounds(ee),he===1&&L.current.setZoom(14),d(null)}catch(Re){console.error("Erreur lors de l'ajustement de la vue de la carte:",Re)}};return me(),console.log("=== FIN AFFICHAGE DES MARQUEURS ==="),U(!1),()=>{}},[n,R,y,x,C]),[F,ce]=h.useState(!1);h.useEffect(()=>{z.current.length>0?(console.log("Mise à jour de la visibilité des marqueurs existants"),pe()):L.current&&N&&n.length>0&&(console.log("Création initiale des marqueurs"),ge())},[y,x,pe,ge]),h.useEffect(()=>{z.current.length>0&&(console.log("Recréation des marqueurs pour mettre à jour les labels"),ge())},[C,_,ge]),h.useEffect(()=>{if(console.log("Cycle d'initialisation de Google Maps démarré"),console.log("État initial de l'API Google Maps:",N),J.current){console.log("Google Maps déjà initialisé, ignorant le cycle");return}if(!N){console.log("En attente de l'initialisation de Google Maps...");const ee=()=>{console.log("Événement d'initialisation Google Maps détecté"),O(!0)};return window.addEventListener("google-maps-initialized",ee),window.__googleMapsInitialized?(console.log("Google Maps déjà initialisé selon window.__googleMapsInitialized"),O(!0)):oa.loadGoogleMapsAPI().then(()=>{console.log("API Google Maps chargée avec succès"),O(!0)}).catch(he=>{console.error("Erreur lors du chargement de l'API Google Maps:",he),d("Impossible de charger Google Maps. Veuillez rafraîchir la page.")}),()=>{window.removeEventListener("google-maps-initialized",ee)}}},[]),h.useEffect(()=>{if(console.log("EFFET D'INITIALISATION DÉCLENCHÉ"),N&&j.current&&!L.current&&!J.current){console.log("[GOOGLE MAPS] Initialisation forcée de la carte dans le composant MapView"),J.current=!0;try{L.current&&(console.log("[GOOGLE MAPS] Réinitialisation de la carte précédente"),L.current=null);const ee=j.current;console.log("[GOOGLE MAPS] Préparation du conteneur de carte:",ee),ee.style.width="100%",ee.style.height="600px",ee.style.backgroundColor="#f0f0f0",ee.style.position="relative",ee.style.zIndex="1",ee.style.display="block",setTimeout(()=>{console.log("[GOOGLE MAPS] Tentative de création de la carte après délai");try{if(!window.google||!window.google.maps){console.error("[GOOGLE MAPS] API Google Maps non disponible"),d("L'API Google Maps n'est pas disponible. Veuillez rafraîchir la page.");return}if(!j.current){console.error("[GOOGLE MAPS] Conteneur de carte non disponible après délai");return}console.log("[GOOGLE MAPS] Dimensions finales du conteneur:",{offsetWidth:j.current.offsetWidth,offsetHeight:j.current.offsetHeight,clientWidth:j.current.clientWidth,clientHeight:j.current.clientHeight}),console.log("[GOOGLE MAPS] Création de l'objet carte...");const he=new window.google.maps.Map(j.current,{center:{lat:46.603354,lng:1.888334},zoom:6,mapTypeId:google.maps.MapTypeId.ROADMAP,fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR}});console.log("[GOOGLE MAPS] Affectation de la référence à la carte"),L.current=he,le(he),console.log("[GOOGLE MAPS] Ajout d'un marqueur test");const we=new google.maps.Marker({position:{lat:46.603354,lng:1.888334},map:he,title:"Centre de la France"});google.maps.event.addListenerOnce(he,"idle",()=>{console.log("[GOOGLE MAPS] Événement idle déclenché - carte complètement chargée"),U(!0)}),setTimeout(()=>{console.log("[GOOGLE MAPS] Forçage du redimensionnement de la carte"),google.maps.event.trigger(he,"resize"),setTimeout(()=>{console.log("[GOOGLE MAPS] Vérification finale de l'état de la carte"),L.current?(console.log("[GOOGLE MAPS] La carte est bien initialisée"),U(!0)):console.error("[GOOGLE MAPS] La carte n'est toujours pas initialisée correctement")},500)},200)}catch(he){console.error("[GOOGLE MAPS] Erreur lors de la création de la carte:",he),d(`Erreur lors de la création de la carte: ${he.message}`)}},500)}catch(ee){console.error("[GOOGLE MAPS] Erreur globale:",ee),d(`Erreur d'initialisation de la carte: ${ee.message}`)}}else N?L.current?console.log("[GOOGLE MAPS] La carte est déjà initialisée, pas besoin de réinitialiser"):j.current||console.log("[GOOGLE MAPS] Conteneur de carte non disponible"):console.log("[GOOGLE MAPS] En attente de l'initialisation de l'API Google Maps")},[N]),h.useEffect(()=>{if(N)try{console.log("Configuration de l'écouteur pour les préférences de marqueurs");const ee=Ht(mt,"markerPreferences"),he=B3(ee,we=>{const me=we.docs.map(ke=>({id:ke.id,...ke.data()}));console.log(`Mise à jour des préférences de marqueurs: ${me.length} préférences chargées`),k(me)});return()=>he()}catch(ee){return console.error("Erreur lors de la configuration de l'écouteur des préférences de marqueurs:",ee),()=>{}}},[N]),h.useEffect(()=>{L.current&&N&&n.length>0&&(console.log("Mise à jour des marqueurs suite à un changement de filtre ou d'option"),ge())},[y,x,C,_,ge,L.current,N,n.length]),h.useEffect(()=>{L.current&&ge()},[L.current,n,y,x,_,ge]);const le=ee=>{const he=document.createElement("div"),we=document.createElement("div");we.style.backgroundColor="#fff",we.style.border="2px solid #fff",we.style.borderRadius="3px",we.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",we.style.cursor="pointer",we.style.marginTop="10px",we.style.marginLeft="10px",we.style.marginRight="10px",we.style.textAlign="center",we.title="Cliquez pour changer le style de la carte",he.appendChild(we);const me=document.createElement("div");me.style.color="rgb(25,25,25)",me.style.fontFamily="Roboto,Arial,sans-serif",me.style.fontSize="16px",me.style.lineHeight="38px",me.style.paddingLeft="5px",me.style.paddingRight="5px",me.innerHTML="Changer Style",we.appendChild(me);const ke=[{name:"Standard",styles:ee.get("styles")||[]},{name:"Bleu",styles:[{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#cfe2f3"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#aaccee"}]}]},{name:"Clair",styles:[{featureType:"all",elementType:"all",stylers:[{lightness:50}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#f5f5f5"}]}]},{name:"Sombre",styles:[{featureType:"all",elementType:"all",stylers:[{lightness:-30}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:10},{color:"#444444"}]}]}];let Ie=0;we.addEventListener("click",()=>{Ie=(Ie+1)%ke.length;const Re=ke[Ie];ee.setOptions({styles:Re.styles}),me.innerHTML=`Style: ${Re.name}`}),me.innerHTML=`Style: ${ke[Ie].name}`,ee.controls[google.maps.ControlPosition.TOP_RIGHT].push(he)},Z=ee=>{b(he=>({...he,[ee]:!he[ee]}))},Q=ee=>{console.log(`Toggle de visibilité pour le pôle: "${ee}"`);let he=ee;const we=ee.toLowerCase().match(/\b(nord|sud|est|ouest|centre)\b/);we&&(he=we[0],console.log(`Utilisation du nom de base "${he}" pour le filtrage au lieu de "${ee}"`)),w(me=>{const ke={...me,[he]:!me[he]};return console.log("Nouvel état des filtres de pôles:",ke),ke})},ye=ee=>{const he={};Object.keys(y).forEach(we=>{he[we]=ee}),b(he)},fe=ee=>{const he={};Object.keys(x).forEach(we=>{he[we]=ee}),w(he)};h.useEffect(()=>()=>{z.current.length>0&&(z.current.forEach(ee=>ee.setMap(null)),z.current=[]),V.current.length>0&&(V.current.forEach(ee=>ee.close()),V.current=[]),W.current.length>0&&(W.current.forEach(ee=>{ee.overlay.setMap(null),ee.element.parentNode&&ee.element.parentNode.removeChild(ee.element)}),W.current=[])},[]);const ie=async()=>{try{m(!0),v("Préparation du géocodage...");const ee=n.filter(me=>!me.latitude||!me.longitude);if(ee.length===0){v("Tous les sites ont déjà des coordonnées géographiques."),setTimeout(()=>{v(null),m(!1)},3e3);return}v(`Géocodage de ${ee.length} sites...`),console.log(`Début du géocodage pour ${ee.length} sites`);const he=[...n];let we=0;for(const me of ee)if(me.adresse&&(me.ville||me.codePostal)){try{console.log(`Tentative de géocodage pour le site: ${me.nom}, Adresse: ${me.adresse}, ${me.codePostal} ${me.ville}`);const ke=await Dre(me.nom||"",me.adresse||"",me.ville||"",me.codePostal||"");if(ke){console.log(`Géocodage réussi pour ${me.nom}: Lat=${ke.latitude}, Lon=${ke.longitude}`);const Ie={latitude:ke.latitude,longitude:ke.longitude},Re=un(mt,"sites",me.id);await Yo(Re,Ie);const $e=he.findIndex(ne=>ne.id===me.id);$e!==-1&&(he[$e]={...he[$e],...Ie}),we++,v(`Géocodage en cours... ${we}/${ee.length}`)}else console.log(`Échec du géocodage pour ${me.nom}`)}catch(ke){console.error(`Erreur lors du géocodage du site ${me.nom}:`,ke)}await new Promise(ke=>setTimeout(ke,1e3))}else console.log(`Site ${me.nom} sans adresse complète, géocodage impossible`);we>0?(console.log(`${we} sites géocodés avec succès.`),r(he),v(`${we} sites géocodés avec succès.`),am("mapSitesCache",he),U(!0)):v("Aucun site n'a pu être géocodé. Vérifiez que les adresses sont complètes."),setTimeout(()=>{v(null),m(!1)},5e3)}catch(ee){console.error("Erreur lors du géocodage des sites:",ee),d("Erreur lors du géocodage des sites"),m(!1)}},re=async(ee,he,we,me,ke,Ie)=>{try{if(await oa.loadGoogleMapsAPI(),!window.google||!window.google.maps||!window.google.maps.places||!window.google.maps.places.PlacesService){console.error("API Google Places non disponible");return}const Re=new window.google.maps.places.PlacesService(L.current);let $e=Ie.nom;Ie.type&&Ws(Ie.type).includes("laboratoire")&&($e=`Inovie Labosud ${Ie.nom}`);const ne={location:new google.maps.LatLng(ee,he),radius:100,query:`${$e} ${we}`,fields:["name","formatted_address","formatted_phone_number","website","opening_hours","rating","photos","place_id"]};Re.textSearch(ne,(xe,se)=>{if(se===google.maps.places.PlacesServiceStatus.OK&&xe&&xe.length>0){console.log("Lieu trouvé par recherche textuelle:",xe[0]);const ae=xe[0],Ee={placeId:ae.place_id,fields:["name","formatted_address","formatted_phone_number","website","opening_hours","rating","photos"]};Re.getDetails(Ee,(Le,ze)=>{ze===google.maps.places.PlacesServiceStatus.OK&&Le?(console.log("Détails du lieu récupérés:",Le),ve(me,ke,Ie,Le)):(console.warn("Impossible de récupérer les détails du lieu:",ze),ve(me,ke,Ie,ae))})}else console.warn("Lieu non trouvé:",se)})}catch(Re){console.error("Erreur lors de la récupération des détails du lieu:",Re)}},ve=(ee,he,we,me)=>{let ke="";me.opening_hours&&me.opening_hours.weekday_text&&(ke=`
        <div class="opening-hours">
          <strong>Horaires d'ouverture:</strong>
          <ul style="padding-left: 20px; margin: 5px 0;">
            ${me.opening_hours.weekday_text.map(Ee=>`<li>${Ee}</li>`).join("")}
          </ul>
        </div>
      `);const Ie=me.formatted_phone_number?`<p><strong>Téléphone:</strong> <a href="tel:${me.formatted_phone_number}">${me.formatted_phone_number}</a></p>`:we.telephone?`<p><strong>Téléphone:</strong> <a href="tel:${we.telephone}">${we.telephone}</a></p>`:"",Re=me.website?`<p><strong>Site web:</strong> <a href="${me.website}" target="_blank">${new URL(me.website).hostname}</a></p>`:"",$e=me.rating?`<p><strong>Note:</strong> ${me.rating} / 5</p>`:"",ne=me.formatted_address?`<p><strong>Adresse:</strong> ${me.formatted_address}</p>`:we.adresse?`<p><strong>Adresse:</strong> ${we.adresse}${we.codePostal?", "+we.codePostal:""}${we.ville?" "+we.ville:""}</p>`:"";let xe="";me.photos&&me.photos.length>0&&(xe=`<div style="margin-top:10px;"><img src="${me.photos[0].getUrl({maxWidth:200,maxHeight:200})}" alt="${we.nom}" style="width:100%; max-height:150px; object-fit:cover; border-radius:4px;"></div>`);let se=me.name||we.nom;we.type&&Ws(we.type).includes("laboratoire")&&!se.includes("Inovie Labosud")&&(se=`Inovie Labosud ${se}`);const ae=`
      <div class="info-window" style="max-width:300px; font-family:Arial,sans-serif;">
        <h3 style="margin-top:0;">${se}</h3>
        ${ne}
        ${Ie}
        ${Re}
        ${$e}
        <p><strong>Type:</strong> ${we.type||"Non défini"}</p>
        ${ke}
        ${xe}
        ${me.place_id?`
          <p style="margin-top:10px; font-size:11px; text-align:right;">
            <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(we.nom)}&query_place_id=${me.place_id}" target="_blank">
              Voir sur Google Maps
            </a>
          </p>
        `:""}
      </div>
    `;ee.setContent(ae),ee.open(L.current,he)};return l?p.jsxs("div",{className:"map-view-container",children:[p.jsxs("div",{style:{width:"100%",background:"white",padding:"10px",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",marginBottom:"10px",display:"flex",flexWrap:"wrap",gap:"15px"},children:[p.jsxs("div",{className:"filter-section",style:{flex:"1",minWidth:"200px"},children:[p.jsxs("h3",{children:["Types de sites ",t.types&&p.jsx("small",{children:"(chargement...)"})]}),p.jsxs("div",{className:"filter-buttons",children:[p.jsx("button",{onClick:()=>ye(!0),children:"Tous"}),p.jsx("button",{onClick:()=>ye(!1),children:"Aucun"})]}),p.jsx("div",{className:"filter-options",children:Object.keys(y).length===0?p.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Aucun type de site disponible"}):Object.keys(y).map(ee=>p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:`type-${ee}`,checked:y[ee],onChange:()=>Z(ee)}),p.jsx("label",{htmlFor:`type-${ee}`,children:ee})]},ee))})]}),p.jsxs("div",{className:"filter-section",style:{flex:"1",minWidth:"200px"},children:[p.jsxs("h3",{children:["Pôles ",t.poles&&p.jsx("small",{children:"(chargement...)"})]}),p.jsxs("div",{className:"filter-buttons",children:[p.jsx("button",{onClick:()=>fe(!0),children:"Tous"}),p.jsx("button",{onClick:()=>fe(!1),children:"Aucun"})]}),p.jsx("div",{className:"filter-options",children:Object.keys(x).length===0?p.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Aucun pôle disponible"}):Object.keys(x).map(ee=>p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:`pole-${ee}`,checked:x[ee],onChange:()=>Q(ee)}),p.jsx("label",{htmlFor:`pole-${ee}`,children:ee})]},ee))})]}),p.jsxs("div",{className:"filter-section",style:{flex:"1",minWidth:"200px"},children:[p.jsx("h3",{children:"Options"}),p.jsxs("div",{className:"filter-options",children:[p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:"show-labels",checked:C,onChange:()=>E(!C)}),p.jsx("label",{htmlFor:"show-labels",children:"Afficher les labels"})]}),p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:"show-generated",checked:_,onChange:()=>S(!_)}),p.jsx("label",{htmlFor:"show-generated",children:"Inclure coordonnées générées"})]}),p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:"show-legend",checked:D,onChange:()=>A(!D)}),p.jsx("label",{htmlFor:"show-legend",children:"Afficher la légende"})]})]}),p.jsx("div",{className:"filter-option",style:{marginTop:"10px"},children:p.jsx("button",{onClick:ie,disabled:f,style:{padding:"6px 12px",backgroundColor:f?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:f?"not-allowed":"pointer",width:"100%"},children:f?"Géocodage en cours...":"Géocoder tous les sites"})}),g&&p.jsx("div",{className:"geocoding-status",style:{marginTop:"5px",padding:"5px",backgroundColor:"#f0f8ff",borderRadius:"4px",fontSize:"12px",textAlign:"center"},children:g}),p.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:[p.jsxs("p",{children:["Sites: ",n.length," | Marqueurs: ",z.current.length]}),p.jsxs("p",{children:["Types: ",Object.keys(y).length," | Pôles: ",Object.keys(x).length]})]})]})]}),p.jsxs("div",{id:"map-main-container",style:{width:"100%",height:"600px",position:"relative"},children:[p.jsx("div",{ref:j,id:"google-map",className:"google-map",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0}}),D&&p.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:10,background:"white",padding:"10px",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",maxWidth:"250px",maxHeight:"500px",overflowY:"auto"},children:[p.jsx("h3",{children:"Légende"}),p.jsxs("div",{children:[p.jsx("h4",{children:"Types de sites"}),R.map(ee=>{const we=(ee.apercu||ee.icon||"circle").toLowerCase();let me="";switch(we){case"pin":case"épingle":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 36" width="16" height="24">
                          <path fill="${ee.color}" stroke="#FFFFFF" stroke-width="2" d="M12,0 C5.4,0 0,5.4 0,12 C0,18.2 10.4,34.2 10.8,34.8 C11.1,35.3 11.9,35.3 12.2,34.8 C12.6,34.2 24,17 24,12 C24,5.4 18.6,0 12,0 Z"/>
                          <circle cx="12" cy="12" r="4" fill="#FFFFFF" opacity="0.8"/>
                        </svg>
                      `;break;case"droplet":case"goutte":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 32" width="16" height="24">
                          <path fill="${ee.color}" stroke="#FFFFFF" stroke-width="2" d="M12,0 C12,0 0,16 0,24 C0,28.4 5.4,32 12,32 C18.6,32 24,28.4 24,24 C24,16 12,0 12,0 Z"/>
                        </svg>
                      `;break;case"circle":case"cercle":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <circle cx="10" cy="10" r="8" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `;break;case"square":case"carré":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <rect x="2" y="2" width="16" height="16" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `;break;case"triangle":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <polygon points="10,2 18,18 2,18" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `;break;case"diamond":case"diamant":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <polygon points="10,2 18,10 10,18 2,10" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `;break;case"hexagon":case"hexagone":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <polygon points="17,10 14,17 6,17 3,10 6,3 14,3" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `;break;case"star":case"étoile":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <polygon points="10,2 12.2,7.8 18,8.4 13.6,12.4 14.6,18 10,15 5.4,18 6.4,12.4 2,8.4 7.8,7.8" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `;break;case"cross":case"croix":me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <path d="M7,2 L13,2 L13,7 L18,7 L18,13 L13,13 L13,18 L7,18 L7,13 L2,13 L2,7 L7,7 Z" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `;break;default:me=`
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                          <circle cx="10" cy="10" r="8" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                        </svg>
                      `}const Ie=`data:image/svg+xml,${encodeURIComponent(me)}`;return p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[p.jsx("img",{src:Ie,alt:ee.name,style:{marginRight:"10px",width:(we.includes("pin"),"15px"),height:we.includes("pin")?"20px":"15px"}}),p.jsx("span",{children:ee.name})]},ee.id)})]})]}),p.jsx("button",{className:"refresh-cache-button",onClick:()=>_e(),title:"Efface le cache et recharge toutes les données fraîches depuis Firestore",children:"Rafraîchir les données"}),p.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",background:"rgba(255,255,255,0.8)",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",zIndex:5},children:l||t.sites||t.preferences?"Chargement des données...":`${z.current.length} marqueurs affichés`}),(l||Object.values(t).some(ee=>ee))&&p.jsx("div",{className:"loading-overlay",children:p.jsxs("div",{children:[p.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:l?"Chargement de la carte...":"Mise à jour des données..."}),p.jsx("div",{className:"loading-spinner"})]})}),u&&p.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(255,255,255,0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:20},children:p.jsxs("div",{style:{textAlign:"center",maxWidth:"400px",padding:"20px",background:"white",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:[p.jsx("div",{style:{color:"red",marginBottom:"10px"},children:u}),p.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Recharger la page"})]})})]})]}):p.jsxs("div",{className:"map-view-container",children:[p.jsxs("div",{style:{width:"100%",background:"white",padding:"10px",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",marginBottom:"10px",display:"flex",flexWrap:"wrap",gap:"15px"},children:[p.jsxs("div",{className:"filter-section",style:{flex:"1",minWidth:"200px"},children:[p.jsxs("h3",{children:["Types de sites ",t.types&&p.jsx("small",{children:"(chargement...)"})]}),p.jsxs("div",{className:"filter-buttons",children:[p.jsx("button",{onClick:()=>ye(!0),children:"Tous"}),p.jsx("button",{onClick:()=>ye(!1),children:"Aucun"})]}),p.jsx("div",{className:"filter-options",children:Object.keys(y).length===0?p.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Aucun type de site disponible"}):Object.keys(y).map(ee=>p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:`type-${ee}`,checked:y[ee],onChange:()=>Z(ee)}),p.jsx("label",{htmlFor:`type-${ee}`,children:ee})]},ee))})]}),p.jsxs("div",{className:"filter-section",style:{flex:"1",minWidth:"200px"},children:[p.jsxs("h3",{children:["Pôles ",t.poles&&p.jsx("small",{children:"(chargement...)"})]}),p.jsxs("div",{className:"filter-buttons",children:[p.jsx("button",{onClick:()=>fe(!0),children:"Tous"}),p.jsx("button",{onClick:()=>fe(!1),children:"Aucun"})]}),p.jsx("div",{className:"filter-options",children:Object.keys(x).length===0?p.jsx("p",{style:{fontSize:"12px",color:"#666"},children:"Aucun pôle disponible"}):Object.keys(x).map(ee=>p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:`pole-${ee}`,checked:x[ee],onChange:()=>Q(ee)}),p.jsx("label",{htmlFor:`pole-${ee}`,children:ee})]},ee))})]}),p.jsxs("div",{className:"filter-section",style:{flex:"1",minWidth:"200px"},children:[p.jsx("h3",{children:"Options"}),p.jsxs("div",{className:"filter-options",children:[p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:"show-labels",checked:C,onChange:()=>E(!C)}),p.jsx("label",{htmlFor:"show-labels",children:"Afficher les labels"})]}),p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:"show-generated",checked:_,onChange:()=>S(!_)}),p.jsx("label",{htmlFor:"show-generated",children:"Inclure coordonnées générées"})]}),p.jsxs("div",{className:"filter-option",children:[p.jsx("input",{type:"checkbox",id:"show-legend",checked:D,onChange:()=>A(!D)}),p.jsx("label",{htmlFor:"show-legend",children:"Afficher la légende"})]})]}),p.jsx("div",{className:"filter-option",style:{marginTop:"10px"},children:p.jsx("button",{onClick:ie,disabled:f,style:{padding:"6px 12px",backgroundColor:f?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:f?"not-allowed":"pointer",width:"100%"},children:f?"Géocodage en cours...":"Géocoder tous les sites"})}),g&&p.jsx("div",{className:"geocoding-status",style:{marginTop:"5px",padding:"5px",backgroundColor:"#f0f8ff",borderRadius:"4px",fontSize:"12px",textAlign:"center"},children:g}),p.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:[p.jsxs("p",{children:["Sites: ",n.length," | Marqueurs: ",z.current.length]}),p.jsxs("p",{children:["Types: ",Object.keys(y).length," | Pôles: ",Object.keys(x).length]})]})]})]}),p.jsxs("div",{id:"map-main-container",style:{width:"100%",height:"600px",position:"relative"},children:[p.jsx("div",{ref:j,id:"google-map",className:"google-map",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0}}),D&&p.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:10,background:"white",padding:"10px",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.3)",maxWidth:"250px",maxHeight:"500px",overflowY:"auto"},children:[p.jsx("h3",{children:"Légende"}),p.jsxs("div",{children:[p.jsx("h4",{children:"Types de sites"}),R.map(ee=>{const we=(ee.apercu||ee.icon||"circle").toLowerCase();let me="";switch(we){case"pin":case"épingle":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 36" width="16" height="24">
                        <path fill="${ee.color}" stroke="#FFFFFF" stroke-width="2" d="M12,0 C5.4,0 0,5.4 0,12 C0,18.2 10.4,34.2 10.8,34.8 C11.1,35.3 11.9,35.3 12.2,34.8 C12.6,34.2 24,17 24,12 C24,5.4 18.6,0 12,0 Z"/>
                        <circle cx="12" cy="12" r="4" fill="#FFFFFF" opacity="0.8"/>
                      </svg>
                    `;break;case"droplet":case"goutte":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 32" width="16" height="24">
                        <path fill="${ee.color}" stroke="#FFFFFF" stroke-width="2" d="M12,0 C12,0 0,16 0,24 C0,28.4 5.4,32 12,32 C18.6,32 24,28.4 24,24 C24,16 12,0 12,0 Z"/>
                      </svg>
                    `;break;case"circle":case"cercle":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <circle cx="10" cy="10" r="8" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `;break;case"square":case"carré":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <rect x="2" y="2" width="16" height="16" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `;break;case"triangle":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <polygon points="10,2 18,18 2,18" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `;break;case"diamond":case"diamant":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <polygon points="10,2 18,10 10,18 2,10" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `;break;case"hexagon":case"hexagone":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <polygon points="17,10 14,17 6,17 3,10 6,3 14,3" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `;break;case"star":case"étoile":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <polygon points="10,2 12.2,7.8 18,8.4 13.6,12.4 14.6,18 10,15 5.4,18 6.4,12.4 2,8.4 7.8,7.8" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `;break;case"cross":case"croix":me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <path d="M7,2 L13,2 L13,7 L18,7 L18,13 L13,13 L13,18 L7,18 L7,13 L2,13 L2,7 L7,7 Z" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `;break;default:me=`
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="16" height="16">
                        <circle cx="10" cy="10" r="8" fill="${ee.color}" stroke="#FFFFFF" stroke-width="2"/>
                      </svg>
                    `}const Ie=`data:image/svg+xml,${encodeURIComponent(me)}`;return p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[p.jsx("img",{src:Ie,alt:ee.name,style:{marginRight:"10px",width:(we.includes("pin"),"15px"),height:we.includes("pin")?"20px":"15px"}}),p.jsx("span",{children:ee.name})]},ee.id)})]})]}),p.jsx("button",{className:"refresh-cache-button",onClick:()=>_e(),title:"Efface le cache et recharge toutes les données fraîches depuis Firestore",children:"Rafraîchir les données"}),p.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",background:"rgba(255,255,255,0.8)",padding:"5px 10px",borderRadius:"4px",fontSize:"12px",zIndex:5},children:l||t.sites||t.preferences?"Chargement des données...":`${z.current.length} marqueurs affichés`}),(l||Object.values(t).some(ee=>ee))&&p.jsx("div",{className:"loading-overlay",children:p.jsxs("div",{children:[p.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:l?"Chargement de la carte...":"Mise à jour des données..."}),p.jsx("div",{className:"loading-spinner"})]})}),u&&p.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(255,255,255,0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:20},children:p.jsxs("div",{style:{textAlign:"center",maxWidth:"400px",padding:"20px",background:"white",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:[p.jsx("div",{style:{color:"red",marginBottom:"10px"},children:u}),p.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Recharger la page"})]})})]})]})},Frt="/assets/logo-inovie-white-4veO1sY7.png",zrt=()=>{const{currentSelasId:t,setCurrentSelasId:e,availableSelas:n,loading:r}=cye(),[o,i]=h.useState(!1),[s,a]=h.useState(""),[l,c]=h.useState(!1);h.useEffect(()=>{console.log("🏢 SelasSelector - État:",{currentSelasId:t,availableSelasCount:n.length,availableSelas:n,loading:r})},[t,n,r]);const u=g=>{g!==t&&window.confirm("Changer de SELAS va recharger toutes les données. Voulez-vous continuer ?")&&(console.log(`🔄 Changement de SELAS demandé: ${g}`),e(g),setTimeout(()=>{window.location.reload()},300))},d=()=>!!vc().currentUser,f=async()=>{if(!t){SC.error("Aucune SELAS sélectionnée");return}try{i(!0),a(""),c(!0);const g=["passages","sites","tournees","vehicules","users","markerPreferences"];let v=0;for(const y of g){const b=await m(y,t);v+=b}a(`✅ Migration terminée ! ${v} documents mis à jour.`),SC.success(`Migration terminée! ${v} documents mis à jour.`)}catch(g){console.error("❌ Erreur lors de la migration:",g),a(`❌ Erreur lors de la migration: ${g}`),SC.error(`Erreur lors de la migration: ${g}`)}finally{i(!1)}},m=async(g,v,y=200)=>{const b=[];try{const x=Ht(mt,g),w=await Jt(wn(x,N0(y)));if(w.empty)return b.push(`ℹ️ Aucun document trouvé dans ${g}`),0;let C=0;const E=ud(mt);for(const _ of w.docs){const S=un(mt,g,_.id);_.data().selasId||(E.update(S,{selasId:v}),C++)}return C>0?(await E.commit(),b.push(`✅ ${C} documents mis à jour dans ${g}`)):b.push(`ℹ️ Aucune mise à jour nécessaire pour ${g}`),a(_=>_+`
`+b.join(`
`)),C}catch(x){return b.push(`❌ Erreur lors du traitement de ${g}: ${x}`),a(w=>w+`
`+b.join(`
`)),console.error(`Erreur lors du traitement de ${g}:`,x),0}};return r?p.jsx("div",{className:"selas-selector",children:p.jsx(hx,{size:"small"})}):n.length===0?(console.warn("⚠️ Aucune SELAS disponible!"),p.jsxs("div",{className:"selas-selector error",children:[p.jsx("span",{className:"selas-label",children:"SELAS:"}),p.jsx("span",{className:"selas-error",children:"Aucune SELAS disponible"})]})):p.jsxs("div",{className:"selas-selector",children:[p.jsx("span",{className:"selas-label",children:"SELAS:"}),p.jsx(xl,{value:t||void 0,onChange:u,options:n.map(g=>({value:g.id,label:g.nom})),placeholder:"Sélectionner une SELAS",style:{width:200}}),d()&&p.jsx(Va,{type:"primary",size:"small",onClick:f,loading:o,className:"migration-button",children:"Migrer les données"}),p.jsx(Tl,{title:"Migration des données",open:l,onCancel:()=>c(!1),footer:[p.jsx(Va,{onClick:()=>c(!1),children:"Fermer"},"close")],children:p.jsx("div",{className:"migration-log",children:s?p.jsx("pre",{children:s}):p.jsx(hx,{tip:"Migration en cours..."})})})]})},Brt=({user:t,onLogout:e})=>{const n=yf();Tc();const r=(t==null?void 0:t.role)||"",[o,i]=h.useState(!1),s=h.useRef(null),[a,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState({dashboard:!1,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1});console.log("👤 Informations utilisateur dans Navbar:",{nom:t==null?void 0:t.nom,role:r,email:t==null?void 0:t.email,id:t==null?void 0:t.id,user:t}),h.useEffect(()=>{var y;t&&!t.role?console.error("⚠️ Attention: L'utilisateur n'a pas de rôle défini!",t):t&&console.log("✅ Rôle utilisateur dans Navbar:",t.role),((y=t==null?void 0:t.email)==null?void 0:y.toLowerCase())==="mickael.volle@inovie.fr"&&t.role!=="Administrateur"&&console.warn("⚠️ Mickaël Volle n'a pas le rôle Administrateur!")},[t]),h.useEffect(()=>{const y=async()=>{try{u(!0);const C=await Sl.getInstance().getRoles();l(C),console.log("Navbar: Rôles chargés:",C),f({dashboard:Ol(r,Ar.DASHBOARD),passages:Ol(r,Ar.PASSAGES),sites:Ol(r,Ar.SITES),tournees:Ol(r,Ar.TOURNEES),vehicules:Ol(r,Ar.VEHICULES),map:Ol(r,Ar.CARTE),userManagement:Ol(r,Ar.USER_MANAGEMENT),adminPanel:Ol(r,Ar.ADMINISTRATION)})}catch(w){console.error("Erreur lors du chargement des rôles:",w)}finally{u(!1)}};y();const b=Sl.getInstance(),x=()=>{console.log("Navbar: Changement de rôles détecté, rechargement..."),y()};return b.addRoleChangeListener(x),()=>{b.removeRoleChangeListener(x)}},[r]);const m=()=>{var y;return((y=t==null?void 0:t.email)==null?void 0:y.toLowerCase())==="mickael.volle@inovie.fr"?"Mickaël Volle":(t==null?void 0:t.nom)||"Utilisateur"};console.log("🔑 ACCÈS GESTION UTILISATEURS DÉTAILS:",{role:r,userManagementAccess:d.userManagement,canAccessUserManagement:Ol(r,Ar.USER_MANAGEMENT),roleInRoleService:rie(r),allRoles:a,rolesArray:Array.isArray(a),rolesLength:a.length,pageAccessKey:Ar.USER_MANAGEMENT}),h.useEffect(()=>{console.log("🔑 Navbar - Accès aux pages pour",r,":",d)},[r,d]),h.useEffect(()=>{const y=b=>{s.current&&!s.current.contains(b.target)&&i(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const g=()=>{i(!1),console.log("Déconnexion initiée..."),e(),window.location.href="/"},v=async()=>{if(t.email)try{const y=tie(),b=Ht(mt,"users"),x=wn(b,Dr("email","==",t.email)),w=await Jt(x);if(w.empty){console.error("❌ Aucun utilisateur trouvé avec cet email dans Firestore"),alert("Erreur: Utilisateur non trouvé dans la base de données");return}const C=w.docs[0];await Yo(un(mt,"users",C.id),{tempPassword:y,passwordChanged:!1});const E={url:window.location.origin+`/login?email=${encodeURIComponent(t.email)}&reset=true`,handleCodeInApp:!0};await R2(cl,t.email,E),console.log("📧 Email de réinitialisation Firebase envoyé avec succès")}catch(y){console.error("❌ Erreur lors de la réinitialisation du mot de passe:",y),alert("Une erreur est survenue lors de la réinitialisation du mot de passe")}};return p.jsxs("div",{className:"navbar-container",children:[p.jsxs("div",{className:"app-header",children:[p.jsxs("div",{className:"logo-title-container",children:[p.jsx("img",{src:Frt,alt:"Inovie Logo",className:"navbar-logo"}),p.jsx("span",{className:"logo-text",style:{textTransform:"none"},children:"inovie SCAN"})]}),p.jsxs("div",{className:"user-container",style:{display:"flex",alignItems:"center"},children:[r==="Administrateur"&&p.jsx(zrt,{}),p.jsxs("div",{className:"user-info",children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#0033a0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),p.jsxs("span",{className:"user-name",children:[m()," ",p.jsxs("span",{className:"user-role",children:["(",r,")"]})]})]}),p.jsxs("div",{className:"user-menu-container",ref:s,children:[p.jsxs("button",{className:`menu-button ${o?"active":""}`,onClick:()=>i(!o),children:["Menu",p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginLeft:"8px"},children:p.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),o&&p.jsxs("div",{className:"user-dropdown-menu",children:[p.jsxs("div",{className:"dropdown-item",onClick:()=>{i(!1),alert("La page de profil sera disponible prochainement")},children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#0033a0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profil"]}),p.jsxs("div",{className:"dropdown-item",onClick:()=>{i(!1),v()},children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#0033a0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),p.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Réinitialiser mot de passe"]}),p.jsx("div",{className:"dropdown-divider"}),p.jsxs("div",{className:"dropdown-item logout",onClick:g,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#e74c3c",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),p.jsx("polyline",{points:"16 17 21 12 16 7"}),p.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Déconnexion"]})]})]})]})]}),p.jsxs("nav",{className:"nav-menu",children:[d.dashboard&&p.jsxs(Fu,{to:"/",className:`nav-item ${n.pathname==="/"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),p.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Tableau de bord"]}),d.passages&&p.jsxs(Fu,{to:"/passages",className:`nav-item ${n.pathname==="/passages"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),p.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),"Passages"]}),d.sites&&p.jsxs(Fu,{to:"/sites",className:`nav-item ${n.pathname==="/sites"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),p.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Sites"]}),d.tournees&&p.jsxs(Fu,{to:"/tournees",className:`nav-item ${n.pathname==="/tournees"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Tournées"]}),d.vehicules&&p.jsx(p.Fragment,{children:p.jsxs(Fu,{to:"/vehicules",className:`nav-item ${n.pathname==="/vehicules"||n.pathname==="/vehicles"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 17h2a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h2"}),p.jsx("circle",{cx:"7",cy:"17",r:"2"}),p.jsx("circle",{cx:"17",cy:"17",r:"2"})]}),"Gestion des Véhicules"]})}),d.map&&p.jsxs(Fu,{to:"/map",className:`nav-item ${n.pathname==="/map"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),p.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Carte"]}),d.userManagement&&p.jsxs(Fu,{to:"/admin/users",className:`nav-item ${n.pathname==="/admin/users"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),p.jsx("circle",{cx:"9",cy:"7",r:"4"}),p.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),p.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Gestion des utilisateurs"]}),r==="Administrateur"&&p.jsxs(Fu,{to:"/admin",className:`nav-item ${n.pathname==="/admin"?"active":""}`,children:[p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M12 20h9"}),p.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),"Administration"]})]})]})};var bF={},Vrt=pa;Object.defineProperty(bF,"__esModule",{value:!0});var S0=bF.default=void 0,Hrt=Vrt(Pl()),Wrt=p;S0=bF.default=(0,Hrt.default)((0,Wrt.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var xF={},Urt=pa;Object.defineProperty(xF,"__esModule",{value:!0});var dO=xF.default=void 0,qrt=Urt(Pl()),Krt=p;dO=xF.default=(0,qrt.default)((0,Krt.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var wF={},Grt=pa;Object.defineProperty(wF,"__esModule",{value:!0});var oie=wF.default=void 0,Yrt=Grt(Pl()),Xrt=p;oie=wF.default=(0,Yrt.default)((0,Xrt.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload");var SF={},Qrt=pa;Object.defineProperty(SF,"__esModule",{value:!0});var iie=SF.default=void 0,Jrt=Qrt(Pl()),Zrt=p;iie=SF.default=(0,Jrt.default)((0,Zrt.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var CF={},eot=pa;Object.defineProperty(CF,"__esModule",{value:!0});var fO=CF.default=void 0,tot=eot(Pl()),not=p;fO=CF.default=(0,tot.default)((0,not.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");function CS(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sie={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,o,i){function s(c,u){if(!o[c]){if(!r[c]){var d=typeof CS=="function"&&CS;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var m=o[c]={exports:{}};r[c][0].call(m.exports,function(g){var v=r[c][1][g];return s(v||g)},m,m.exports,n,r,o,i)}return o[c].exports}for(var a=typeof CS=="function"&&CS,l=0;l<i.length;l++)s(i[l]);return s}({1:[function(n,r,o){var i=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(l){for(var c,u,d,f,m,g,v,y=[],b=0,x=l.length,w=x,C=i.getTypeOf(l)!=="string";b<l.length;)w=x-b,d=C?(c=l[b++],u=b<x?l[b++]:0,b<x?l[b++]:0):(c=l.charCodeAt(b++),u=b<x?l.charCodeAt(b++):0,b<x?l.charCodeAt(b++):0),f=c>>2,m=(3&c)<<4|u>>4,g=1<w?(15&u)<<2|d>>6:64,v=2<w?63&d:64,y.push(a.charAt(f)+a.charAt(m)+a.charAt(g)+a.charAt(v));return y.join("")},o.decode=function(l){var c,u,d,f,m,g,v=0,y=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=s.uint8array?new Uint8Array(0|w):new Array(0|w);v<l.length;)c=a.indexOf(l.charAt(v++))<<2|(f=a.indexOf(l.charAt(v++)))>>4,u=(15&f)<<4|(m=a.indexOf(l.charAt(v++)))>>2,d=(3&m)<<6|(g=a.indexOf(l.charAt(v++))),x[y++]=c,m!==64&&(x[y++]=u),g!==64&&(x[y++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,r,o){var i=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,f,m,g){this.compressedSize=u,this.uncompressedSize=d,this.crc32=f,this.compression=m,this.compressedContent=g}c.prototype={getContentWorker:function(){var u=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,o){var i=n("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,o){var i=n("./utils"),s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?function(c,u,d,f){var m=s,g=f+d;c^=-1;for(var v=f;v<g;v++)c=c>>>8^m[255&(c^u[v])];return-1^c}(0|l,a,a.length,0):function(c,u,d,f){var m=s,g=f+d;c^=-1;for(var v=f;v<g;v++)c=c>>>8^m[255&(c^u.charCodeAt(v))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(n,r,o){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=i?"uint8array":"array";function u(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}o.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},o.compressWorker=function(d){return new u("Deflate",d)},o.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,o){function i(m,g){var v,y="";for(v=0;v<g;v++)y+=String.fromCharCode(255&m),m>>>=8;return y}function s(m,g,v,y,b,x){var w,C,E=m.file,_=m.compression,S=x!==c.utf8encode,T=a.transformTo("string",x(E.name)),I=a.transformTo("string",c.utf8encode(E.name)),P=E.comment,M=a.transformTo("string",x(P)),R=a.transformTo("string",c.utf8encode(P)),k=I.length!==E.name.length,D=R.length!==P.length,A="",N="",O="",j=E.dir,L=E.date,z={crc32:0,compressedSize:0,uncompressedSize:0};g&&!v||(z.crc32=m.crc32,z.compressedSize=m.compressedSize,z.uncompressedSize=m.uncompressedSize);var V=0;g&&(V|=8),S||!k&&!D||(V|=2048);var W=0,Y=0;j&&(W|=16),b==="UNIX"?(Y=798,W|=function(q,K){var J=q;return q||(J=K?16893:33204),(65535&J)<<16}(E.unixPermissions,j)):(Y=20,W|=function(q){return 63&(q||0)}(E.dosPermissions)),w=L.getUTCHours(),w<<=6,w|=L.getUTCMinutes(),w<<=5,w|=L.getUTCSeconds()/2,C=L.getUTCFullYear()-1980,C<<=4,C|=L.getUTCMonth()+1,C<<=5,C|=L.getUTCDate(),k&&(N=i(1,1)+i(u(T),4)+I,A+="up"+i(N.length,2)+N),D&&(O=i(1,1)+i(u(M),4)+R,A+="uc"+i(O.length,2)+O);var U="";return U+=`
\0`,U+=i(V,2),U+=_.magic,U+=i(w,2),U+=i(C,2),U+=i(z.crc32,4),U+=i(z.compressedSize,4),U+=i(z.uncompressedSize,4),U+=i(T.length,2),U+=i(A.length,2),{fileRecord:d.LOCAL_FILE_HEADER+U+T+A,dirRecord:d.CENTRAL_FILE_HEADER+i(Y,2)+U+i(M.length,2)+"\0\0\0\0"+i(W,4)+i(y,4)+T+A+M}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function f(m,g,v,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=v,this.encodeFileName=y,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(m){var g=m.meta.percent||0,v=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(g+100*(v-y-1))/v:100}}))},f.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var v=s(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,v=s(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),g)this.push({data:function(y){return d.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var v=this.bytesWritten-m,y=function(b,x,w,C,E){var _=a.transformTo("string",E(C));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(b,2)+i(b,2)+i(x,4)+i(w,4)+i(_.length,2)+_}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(v){g.processChunk(v)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(v){g.error(v)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(m){var g=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var v=0;v<g.length;v++)try{g[v].error(m)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,o){var i=n("../compressions"),s=n("./ZipFileWorker");o.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,m){d++;var g=function(x,w){var C=x||w,E=i[C];if(!E)throw new Error(C+" is not a valid compression method !");return E}(m.options.compression,l.compression),v=m.options.compressionOptions||l.compressionOptions||{},y=m.dir,b=m.date;m._compressWorker(g,v).withStreamInfo("file",{name:f,dir:y,date:b,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(s,a){return new i().loadAsync(s,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,o){var i=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(f){return new s.Promise(function(m,g){var v=f.decompressed.getContentWorker().pipe(new c);v.on("error",function(y){g(y)}).on("end",function(){v.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(f,m){var g=this;return m=i.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",f,!0,m.optimizedBinaryString,m.base64).then(function(v){var y=new l(m);return y.load(v),y}).then(function(v){var y=[s.Promise.resolve(v)],b=v.files;if(m.checkCRC32)for(var x=0;x<b.length;x++)y.push(d(b[x]));return s.Promise.all(y)}).then(function(v){for(var y=v.shift(),b=y.files,x=0;x<b.length;x++){var w=b[x],C=w.fileNameStr,E=i.resolve(w.fileNameStr);g.file(E,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(g.file(E).unsafeOriginalName=C)}return y.zipComment.length&&(g.comment=y.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,o){var i=n("../utils"),s=n("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,o){var i=n("readable-stream").Readable;function s(a,l,c){i.call(this,l),this._helper=a;var u=this;a.on("data",function(d,f){u.push(d)||u._helper.pause(),c&&c(f)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,o){function i(E,_,S){var T,I=a.getTypeOf(_),P=a.extend(S||{},u);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(E=b(E)),P.createFolders&&(T=y(E))&&x.call(this,T,!0);var M=I==="string"&&P.binary===!1&&P.base64===!1;S&&S.binary!==void 0||(P.binary=!M),(_ instanceof d&&_.uncompressedSize===0||P.dir||!_||_.length===0)&&(P.base64=!1,P.binary=!0,_="",P.compression="STORE",I="string");var R=null;R=_ instanceof d||_ instanceof l?_:g.isNode&&g.isStream(_)?new v(E,_):a.prepareContent(E,_,P.binary,P.optimizedBinaryString,P.base64);var k=new f(E,R,P);this.files[E]=k}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),m=n("./generate"),g=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),y=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var _=E.lastIndexOf("/");return 0<_?E.substring(0,_):""},b=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},x=function(E,_){return _=_!==void 0?_:u.createFolders,E=b(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:_}),this.files[E]};function w(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var _,S,T;for(_ in this.files)T=this.files[_],(S=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&E(S,T)},filter:function(E){var _=[];return this.forEach(function(S,T){E(S,T)&&_.push(T)}),_},file:function(E,_,S){if(arguments.length!==1)return E=this.root+E,i.call(this,E,_,S),this;if(w(E)){var T=E;return this.filter(function(P,M){return!M.dir&&T.test(P)})}var I=this.files[this.root+E];return I&&!I.dir?I:null},folder:function(E){if(!E)return this;if(w(E))return this.filter(function(I,P){return P.dir&&E.test(I)});var _=this.root+E,S=x.call(this,_),T=this.clone();return T.root=S.name,T},remove:function(E){E=this.root+E;var _=this.files[E];if(_||(E.slice(-1)!=="/"&&(E+="/"),_=this.files[E]),_&&!_.dir)delete this.files[E];else for(var S=this.filter(function(I,P){return P.name.slice(0,E.length)===E}),T=0;T<S.length;T++)delete this.files[S[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var _,S={};try{if((S=a.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");a.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var T=S.comment||this.comment||"";_=m.generateWorker(this,S,T)}catch(I){(_=new l("error")).error(I)}return new c(_,S.type||"string",S.mimeType)},generateAsync:function(E,_){return this.generateInternalStream(E).accumulate(_)},generateNodeStream:function(E,_){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(_)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,o){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,o){var i=n("./DataReader");function s(a){i.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,o){var i=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,o){var i=n("./Uint8ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,o){var i=n("./DataReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,o){var i=n("./ArrayReader");function s(a){i.call(this,a)}n("../utils").inherits(s,i),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,o){var i=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var f=i.getTypeOf(d);return i.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new c(d):s.uint8array?new u(i.transformTo("uint8array",d)):new a(i.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,o){var i=n("./GenericWorker"),s=n("../utils");function a(l){i.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,i),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,o){var i=n("./GenericWorker"),s=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,o){var i=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,o){var i=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=i.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}i.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,o){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(n,r,o){var i=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,v){return new u.Promise(function(y,b){var x=[],w=g._internalType,C=g._outputType,E=g._mimeType;g.on("data",function(_,S){x.push(_),v&&v(S)}).on("error",function(_){x=[],b(_)}).on("end",function(){try{var _=function(S,T,I){switch(S){case"blob":return i.newBlob(i.transformTo("arraybuffer",T),I);case"base64":return l.encode(T);default:return i.transformTo(S,T)}}(C,function(S,T){var I,P=0,M=null,R=0;for(I=0;I<T.length;I++)R+=T[I].length;switch(S){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(M=new Uint8Array(R),I=0;I<T.length;I++)M.set(T[I],P),P+=T[I].length;return M;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+S+"'")}}(w,x),E);y(_)}catch(S){b(S)}x=[]}).resume()})}function m(g,v,y){var b=v;switch(v){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=v,this._mimeType=y,i.checkSupport(b),this._worker=g.pipe(new s(b)),g.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}m.prototype={accumulate:function(g){return f(this,g)},on:function(g,v){var y=this;return g==="data"?this._worker.on(g,function(b){v.call(y,b.data,b.meta)}):this._worker.on(g,function(){i.delay(v,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),o.blob=s.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!n("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,o){for(var i=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}o.utf8encode=function(m){return s.nodebuffer?a.newBufferFrom(m,"utf-8"):function(g){var v,y,b,x,w,C=g.length,E=0;for(x=0;x<C;x++)(64512&(y=g.charCodeAt(x)))==55296&&x+1<C&&(64512&(b=g.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),E+=y<128?1:y<2048?2:y<65536?3:4;for(v=s.uint8array?new Uint8Array(E):new Array(E),x=w=0;w<E;x++)(64512&(y=g.charCodeAt(x)))==55296&&x+1<C&&(64512&(b=g.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),y<128?v[w++]=y:(y<2048?v[w++]=192|y>>>6:(y<65536?v[w++]=224|y>>>12:(v[w++]=240|y>>>18,v[w++]=128|y>>>12&63),v[w++]=128|y>>>6&63),v[w++]=128|63&y);return v}(m)},o.utf8decode=function(m){return s.nodebuffer?i.transformTo("nodebuffer",m).toString("utf-8"):function(g){var v,y,b,x,w=g.length,C=new Array(2*w);for(v=y=0;v<w;)if((b=g[v++])<128)C[y++]=b;else if(4<(x=c[b]))C[y++]=65533,v+=x-1;else{for(b&=x===2?31:x===3?15:7;1<x&&v<w;)b=b<<6|63&g[v++],x--;1<x?C[y++]=65533:b<65536?C[y++]=b:(b-=65536,C[y++]=55296|b>>10&1023,C[y++]=56320|1023&b)}return C.length!==y&&(C.subarray?C=C.subarray(0,y):C.length=y),i.applyFromCharCode(C)}(m=i.transformTo(s.uint8array?"uint8array":"array",m))},i.inherits(d,l),d.prototype.processChunk=function(m){var g=i.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var v=g;(g=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),g.set(v,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var y=function(x,w){var C;for((w=w||x.length)>x.length&&(w=x.length),C=w-1;0<=C&&(192&x[C])==128;)C--;return C<0||C===0?w:C+c[x[C]]>w?C:w}(g),b=g;y!==g.length&&(s.uint8array?(b=g.subarray(0,y),this.leftOver=g.subarray(y,g.length)):(b=g.slice(0,y),this.leftOver=g.slice(y,g.length))),this.push({data:o.utf8decode(b),meta:m.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=d,i.inherits(f,l),f.prototype.processChunk=function(m){this.push({data:o.utf8encode(m.data),meta:m.meta})},o.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,o){var i=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(v){return v}function u(v,y){for(var b=0;b<v.length;++b)y[b]=255&v.charCodeAt(b);return y}n("setimmediate"),o.newBlob=function(v,y){o.checkSupport("blob");try{return new Blob([v],{type:y})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(v),b.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(v,y,b){var x=[],w=0,C=v.length;if(C<=b)return String.fromCharCode.apply(null,v);for(;w<C;)y==="array"||y==="nodebuffer"?x.push(String.fromCharCode.apply(null,v.slice(w,Math.min(w+b,C)))):x.push(String.fromCharCode.apply(null,v.subarray(w,Math.min(w+b,C)))),w+=b;return x.join("")},stringifyByChar:function(v){for(var y="",b=0;b<v.length;b++)y+=String.fromCharCode(v[b]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(v){var y=65536,b=o.getTypeOf(v),x=!0;if(b==="uint8array"?x=d.applyCanBeUsed.uint8array:b==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<y;)try{return d.stringifyByChunk(v,b,y)}catch{y=Math.floor(y/2)}return d.stringifyByChar(v)}function m(v,y){for(var b=0;b<v.length;b++)y[b]=v[b];return y}o.applyFromCharCode=f;var g={};g.string={string:c,array:function(v){return u(v,new Array(v.length))},arraybuffer:function(v){return g.string.uint8array(v).buffer},uint8array:function(v){return u(v,new Uint8Array(v.length))},nodebuffer:function(v){return u(v,a.allocBuffer(v.length))}},g.array={string:f,array:c,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(v)}},g.arraybuffer={string:function(v){return f(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:c,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return a.newBufferFrom(new Uint8Array(v))}},g.uint8array={string:f,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:c,nodebuffer:function(v){return a.newBufferFrom(v)}},g.nodebuffer={string:f,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return g.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:c},o.transformTo=function(v,y){if(y=y||"",!v)return y;o.checkSupport(v);var b=o.getTypeOf(y);return g[b][v](y)},o.resolve=function(v){for(var y=v.split("/"),b=[],x=0;x<y.length;x++){var w=y[x];w==="."||w===""&&x!==0&&x!==y.length-1||(w===".."?b.pop():b.push(w))}return b.join("/")},o.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(v)?"nodebuffer":i.uint8array&&v instanceof Uint8Array?"uint8array":i.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(v){if(!i[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(v){var y,b,x="";for(b=0;b<(v||"").length;b++)x+="\\x"+((y=v.charCodeAt(b))<16?"0":"")+y.toString(16).toUpperCase();return x},o.delay=function(v,y,b){setImmediate(function(){v.apply(b||null,y||[])})},o.inherits=function(v,y){function b(){}b.prototype=y.prototype,v.prototype=new b},o.extend=function(){var v,y,b={};for(v=0;v<arguments.length;v++)for(y in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],y)&&b[y]===void 0&&(b[y]=arguments[v][y]);return b},o.prepareContent=function(v,y,b,x,w){return l.Promise.resolve(y).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,_){var S=new FileReader;S.onload=function(T){E(T.target.result)},S.onerror=function(T){_(T.target.error)},S.readAsArrayBuffer(C)}):C}).then(function(C){var E=o.getTypeOf(C);return E?(E==="arraybuffer"?C=o.transformTo("uint8array",C):E==="string"&&(w?C=s.decode(C):b&&x!==!0&&(C=function(_){return u(_,i.uint8array?new Uint8Array(_.length):new Array(_.length))}(C))),C):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,o){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var m=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===f;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",m=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,m,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),f=this.reader.readInt(4),m=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=f-m;if(0<g)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=i(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,o){var i=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function f(m,g){this.options=m,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(y){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===y)return u[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,v,y,b=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<b;)g=m.readInt(2),v=m.readInt(2),y=m.readData(v),this.extraFields[g]={id:g,length:v,value:y};m.setIndex(b)},handleUTF8:function(){var m=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var v=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var b=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=i(m.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=i(m.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(m.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,o){function i(g,v,y){this.name=g,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=v,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");i.prototype={internalStream:function(g){var v=null,y="string";try{if(!g)throw new Error("No output type specified.");var b=(y=g.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),v=this._decompressWorker();var x=!this._dataBinary;x&&!b&&(v=v.pipe(new l.Utf8EncodeWorker)),!x&&b&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(w){(v=new u("error")).error(w)}return new s(v,y,"")},async:function(g,v){return this.internalStream(g).accumulate(v)},nodeStream:function(g,v){return this.internalStream(g||"nodebuffer").toNodejsStream(v)},_compressWorker:function(g,v){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,g,v)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<d.length;m++)i.prototype[d[m]]=f;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,o){(function(i){var s,a,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,u=new l(g),d=i.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var v=i.document.createElement("script");v.onreadystatechange=function(){g(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},i.document.documentElement.appendChild(v)}:function(){setTimeout(g,0)};else{var f=new i.MessageChannel;f.port1.onmessage=g,s=function(){f.port2.postMessage(0)}}var m=[];function g(){var v,y;a=!0;for(var b=m.length;b;){for(y=m,m=[],v=-1;++v<b;)y[v]();b=m.length}a=!1}r.exports=function(v){m.push(v)!==1||a||s()}}).call(this,typeof Xw<"u"?Xw:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,o){var i=n("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==s&&v(this,b)}function f(b,x,w){this.promise=b,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(b,x,w){i(function(){var C;try{C=x(w)}catch(E){return a.reject(b,E)}C===b?a.reject(b,new TypeError("Cannot resolve promise with itself")):a.resolve(b,C)})}function g(b){var x=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof x=="function")return function(){x.apply(b,arguments)}}function v(b,x){var w=!1;function C(S){w||(w=!0,a.reject(b,S))}function E(S){w||(w=!0,a.resolve(b,S))}var _=y(function(){x(E,C)});_.status==="error"&&C(_.value)}function y(b,x){var w={};try{w.value=b(x),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=d).prototype.finally=function(b){if(typeof b!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(b()).then(function(){return w})},function(w){return x.resolve(b()).then(function(){throw w})})},d.prototype.catch=function(b){return this.then(null,b)},d.prototype.then=function(b,x){if(typeof b!="function"&&this.state===c||typeof x!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==u?m(w,this.state===c?b:x,this.outcome):this.queue.push(new f(w,b,x)),w},f.prototype.callFulfilled=function(b){a.resolve(this.promise,b)},f.prototype.otherCallFulfilled=function(b){m(this.promise,this.onFulfilled,b)},f.prototype.callRejected=function(b){a.reject(this.promise,b)},f.prototype.otherCallRejected=function(b){m(this.promise,this.onRejected,b)},a.resolve=function(b,x){var w=y(g,x);if(w.status==="error")return a.reject(b,w.value);var C=w.value;if(C)v(b,C);else{b.state=c,b.outcome=x;for(var E=-1,_=b.queue.length;++E<_;)b.queue[E].callFulfilled(x)}return b},a.reject=function(b,x){b.state=l,b.outcome=x;for(var w=-1,C=b.queue.length;++w<C;)b.queue[w].callRejected(x);return b},d.resolve=function(b){return b instanceof this?b:a.resolve(new this(s),b)},d.reject=function(b){var x=new this(s);return a.reject(x,b)},d.all=function(b){var x=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var E=new Array(w),_=0,S=-1,T=new this(s);++S<w;)I(b[S],S);return T;function I(P,M){x.resolve(P).then(function(R){E[M]=R,++_!==w||C||(C=!0,a.resolve(T,E))},function(R){C||(C=!0,a.reject(T,R))})}},d.race=function(b){var x=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var E=-1,_=new this(s);++E<w;)S=b[E],x.resolve(S).then(function(T){C||(C=!0,a.resolve(_,T))},function(T){C||(C=!0,a.reject(_,T))});var S;return _}},{immediate:36}],38:[function(n,r,o){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,o){var i=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,f=-1,m=0,g=8;function v(b){if(!(this instanceof v))return new v(b);this.options=s.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},b||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==d)throw new Error(l[w]);if(x.header&&i.deflateSetHeader(this.strm,x.header),x.dictionary){var C;if(C=typeof x.dictionary=="string"?a.string2buf(x.dictionary):u.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=i.deflateSetDictionary(this.strm,C))!==d)throw new Error(l[w]);this._dict_set=!0}}function y(b,x){var w=new v(x);if(w.push(b,!0),w.err)throw w.msg||l[w.err];return w.result}v.prototype.push=function(b,x){var w,C,E=this.strm,_=this.options.chunkSize;if(this.ended)return!1;C=x===~~x?x:x===!0?4:0,typeof b=="string"?E.input=a.string2buf(b):u.call(b)==="[object ArrayBuffer]"?E.input=new Uint8Array(b):E.input=b,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(_),E.next_out=0,E.avail_out=_),(w=i.deflate(E,C))!==1&&w!==d)return this.onEnd(w),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&w!==1);return C===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d):C!==2||(this.onEnd(d),!(E.avail_out=0))},v.prototype.onData=function(b){this.chunks.push(b)},v.prototype.onEnd=function(b){b===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},o.Deflate=v,o.deflate=y,o.deflateRaw=function(b,x){return(x=x||{}).raw=!0,y(b,x)},o.gzip=function(b,x){return(x=x||{}).gzip=!0,y(b,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,o){var i=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},v||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||v&&v.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=i.inflateInit2(this.strm,y.windowBits);if(b!==l.Z_OK)throw new Error(c[b]);this.header=new d,i.inflateGetHeader(this.strm,this.header)}function g(v,y){var b=new m(y);if(b.push(v,!0),b.err)throw b.msg||c[b.err];return b.result}m.prototype.push=function(v,y){var b,x,w,C,E,_,S=this.strm,T=this.options.chunkSize,I=this.options.dictionary,P=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?S.input=a.binstring2buf(v):f.call(v)==="[object ArrayBuffer]"?S.input=new Uint8Array(v):S.input=v,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(T),S.next_out=0,S.avail_out=T),(b=i.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(_=typeof I=="string"?a.string2buf(I):f.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,b=i.inflateSetDictionary(this.strm,_)),b===l.Z_BUF_ERROR&&P===!0&&(b=l.Z_OK,P=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&b!==l.Z_STREAM_END&&(S.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(S.output,S.next_out),C=S.next_out-w,E=a.buf2string(S.output,w),S.next_out=C,S.avail_out=T-C,C&&s.arraySet(S.output,S.output,w,C,0),this.onData(E)):this.onData(s.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(P=!0)}while((0<S.avail_in||S.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(b=i.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},o.Inflate=m,o.inflate=g,o.inflateRaw=function(v,y){return(y=y||{}).raw=!0,g(v,y)},o.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},o.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),f);else for(var m=0;m<d;m++)l[f+m]=c[u+m]},flattenChunks:function(l){var c,u,d,f,m,g;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(g=new Uint8Array(d),c=f=0,u=l.length;c<u;c++)m=l[c],g.set(m,f),f+=m.length;return g}},a={arraySet:function(l,c,u,d,f){for(var m=0;m<d;m++)l[f+m]=c[u+m]},flattenChunks:function(l){return[].concat.apply([],l)}};o.setTyped=function(l){l?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,s)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,a))},o.setTyped(i)},{}],42:[function(n,r,o){var i=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(d,f));for(var m="",g=0;g<f;g++)m+=String.fromCharCode(d[g]);return m}l[254]=l[254]=1,o.string2buf=function(d){var f,m,g,v,y,b=d.length,x=0;for(v=0;v<b;v++)(64512&(m=d.charCodeAt(v)))==55296&&v+1<b&&(64512&(g=d.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),v++),x+=m<128?1:m<2048?2:m<65536?3:4;for(f=new i.Buf8(x),v=y=0;y<x;v++)(64512&(m=d.charCodeAt(v)))==55296&&v+1<b&&(64512&(g=d.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),v++),m<128?f[y++]=m:(m<2048?f[y++]=192|m>>>6:(m<65536?f[y++]=224|m>>>12:(f[y++]=240|m>>>18,f[y++]=128|m>>>12&63),f[y++]=128|m>>>6&63),f[y++]=128|63&m);return f},o.buf2binstring=function(d){return u(d,d.length)},o.binstring2buf=function(d){for(var f=new i.Buf8(d.length),m=0,g=f.length;m<g;m++)f[m]=d.charCodeAt(m);return f},o.buf2string=function(d,f){var m,g,v,y,b=f||d.length,x=new Array(2*b);for(m=g=0;m<b;)if((v=d[m++])<128)x[g++]=v;else if(4<(y=l[v]))x[g++]=65533,m+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&m<b;)v=v<<6|63&d[m++],y--;1<y?x[g++]=65533:v<65536?x[g++]=v:(v-=65536,x[g++]=55296|v>>10&1023,x[g++]=56320|1023&v)}return u(x,g)},o.utf8border=function(d,f){var m;for((f=f||d.length)>d.length&&(f=d.length),m=f-1;0<=m&&(192&d[m])==128;)m--;return m<0||m===0?f:m+l[d[m]]>f?m:f}},{"./common":41}],43:[function(n,r,o){r.exports=function(i,s,a,l){for(var c=65535&i|0,u=i>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,o){var i=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();r.exports=function(s,a,l,c){var u=i,d=c+l;s^=-1;for(var f=c;f<d;f++)s=s>>>8^u[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,o){var i,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,f=4,m=0,g=-2,v=-1,y=4,b=2,x=8,w=9,C=286,E=30,_=19,S=2*C+1,T=15,I=3,P=258,M=P+I+1,R=42,k=113,D=1,A=2,N=3,O=4;function j(F,ce){return F.msg=u[ce],ce}function L(F){return(F<<1)-(4<F?9:0)}function z(F){for(var ce=F.length;0<=--ce;)F[ce]=0}function V(F){var ce=F.state,le=ce.pending;le>F.avail_out&&(le=F.avail_out),le!==0&&(s.arraySet(F.output,ce.pending_buf,ce.pending_out,le,F.next_out),F.next_out+=le,ce.pending_out+=le,F.total_out+=le,F.avail_out-=le,ce.pending-=le,ce.pending===0&&(ce.pending_out=0))}function W(F,ce){a._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,ce),F.block_start=F.strstart,V(F.strm)}function Y(F,ce){F.pending_buf[F.pending++]=ce}function U(F,ce){F.pending_buf[F.pending++]=ce>>>8&255,F.pending_buf[F.pending++]=255&ce}function q(F,ce){var le,Z,Q=F.max_chain_length,ye=F.strstart,fe=F.prev_length,ie=F.nice_match,re=F.strstart>F.w_size-M?F.strstart-(F.w_size-M):0,ve=F.window,ee=F.w_mask,he=F.prev,we=F.strstart+P,me=ve[ye+fe-1],ke=ve[ye+fe];F.prev_length>=F.good_match&&(Q>>=2),ie>F.lookahead&&(ie=F.lookahead);do if(ve[(le=ce)+fe]===ke&&ve[le+fe-1]===me&&ve[le]===ve[ye]&&ve[++le]===ve[ye+1]){ye+=2,le++;do;while(ve[++ye]===ve[++le]&&ve[++ye]===ve[++le]&&ve[++ye]===ve[++le]&&ve[++ye]===ve[++le]&&ve[++ye]===ve[++le]&&ve[++ye]===ve[++le]&&ve[++ye]===ve[++le]&&ve[++ye]===ve[++le]&&ye<we);if(Z=P-(we-ye),ye=we-P,fe<Z){if(F.match_start=ce,ie<=(fe=Z))break;me=ve[ye+fe-1],ke=ve[ye+fe]}}while((ce=he[ce&ee])>re&&--Q!=0);return fe<=F.lookahead?fe:F.lookahead}function K(F){var ce,le,Z,Q,ye,fe,ie,re,ve,ee,he=F.w_size;do{if(Q=F.window_size-F.lookahead-F.strstart,F.strstart>=he+(he-M)){for(s.arraySet(F.window,F.window,he,he,0),F.match_start-=he,F.strstart-=he,F.block_start-=he,ce=le=F.hash_size;Z=F.head[--ce],F.head[ce]=he<=Z?Z-he:0,--le;);for(ce=le=he;Z=F.prev[--ce],F.prev[ce]=he<=Z?Z-he:0,--le;);Q+=he}if(F.strm.avail_in===0)break;if(fe=F.strm,ie=F.window,re=F.strstart+F.lookahead,ve=Q,ee=void 0,ee=fe.avail_in,ve<ee&&(ee=ve),le=ee===0?0:(fe.avail_in-=ee,s.arraySet(ie,fe.input,fe.next_in,ee,re),fe.state.wrap===1?fe.adler=l(fe.adler,ie,ee,re):fe.state.wrap===2&&(fe.adler=c(fe.adler,ie,ee,re)),fe.next_in+=ee,fe.total_in+=ee,ee),F.lookahead+=le,F.lookahead+F.insert>=I)for(ye=F.strstart-F.insert,F.ins_h=F.window[ye],F.ins_h=(F.ins_h<<F.hash_shift^F.window[ye+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[ye+I-1])&F.hash_mask,F.prev[ye&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=ye,ye++,F.insert--,!(F.lookahead+F.insert<I)););}while(F.lookahead<M&&F.strm.avail_in!==0)}function J(F,ce){for(var le,Z;;){if(F.lookahead<M){if(K(F),F.lookahead<M&&ce===d)return D;if(F.lookahead===0)break}if(le=0,F.lookahead>=I&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+I-1])&F.hash_mask,le=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),le!==0&&F.strstart-le<=F.w_size-M&&(F.match_length=q(F,le)),F.match_length>=I)if(Z=a._tr_tally(F,F.strstart-F.match_start,F.match_length-I),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=I){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+I-1])&F.hash_mask,le=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else Z=a._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(Z&&(W(F,!1),F.strm.avail_out===0))return D}return F.insert=F.strstart<I-1?F.strstart:I-1,ce===f?(W(F,!0),F.strm.avail_out===0?N:O):F.last_lit&&(W(F,!1),F.strm.avail_out===0)?D:A}function X(F,ce){for(var le,Z,Q;;){if(F.lookahead<M){if(K(F),F.lookahead<M&&ce===d)return D;if(F.lookahead===0)break}if(le=0,F.lookahead>=I&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+I-1])&F.hash_mask,le=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=I-1,le!==0&&F.prev_length<F.max_lazy_match&&F.strstart-le<=F.w_size-M&&(F.match_length=q(F,le),F.match_length<=5&&(F.strategy===1||F.match_length===I&&4096<F.strstart-F.match_start)&&(F.match_length=I-1)),F.prev_length>=I&&F.match_length<=F.prev_length){for(Q=F.strstart+F.lookahead-I,Z=a._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-I),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=Q&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+I-1])&F.hash_mask,le=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=I-1,F.strstart++,Z&&(W(F,!1),F.strm.avail_out===0))return D}else if(F.match_available){if((Z=a._tr_tally(F,0,F.window[F.strstart-1]))&&W(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return D}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(Z=a._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<I-1?F.strstart:I-1,ce===f?(W(F,!0),F.strm.avail_out===0?N:O):F.last_lit&&(W(F,!1),F.strm.avail_out===0)?D:A}function ue(F,ce,le,Z,Q){this.good_length=F,this.max_lazy=ce,this.nice_length=le,this.max_chain=Z,this.func=Q}function _e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*S),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*_+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(T+1),this.heap=new s.Buf16(2*C+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*C+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ce(F){var ce;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=b,(ce=F.state).pending=0,ce.pending_out=0,ce.wrap<0&&(ce.wrap=-ce.wrap),ce.status=ce.wrap?R:k,F.adler=ce.wrap===2?0:1,ce.last_flush=d,a._tr_init(ce),m):j(F,g)}function pe(F){var ce=Ce(F);return ce===m&&function(le){le.window_size=2*le.w_size,z(le.head),le.max_lazy_match=i[le.level].max_lazy,le.good_match=i[le.level].good_length,le.nice_match=i[le.level].nice_length,le.max_chain_length=i[le.level].max_chain,le.strstart=0,le.block_start=0,le.lookahead=0,le.insert=0,le.match_length=le.prev_length=I-1,le.match_available=0,le.ins_h=0}(F.state),ce}function ge(F,ce,le,Z,Q,ye){if(!F)return g;var fe=1;if(ce===v&&(ce=6),Z<0?(fe=0,Z=-Z):15<Z&&(fe=2,Z-=16),Q<1||w<Q||le!==x||Z<8||15<Z||ce<0||9<ce||ye<0||y<ye)return j(F,g);Z===8&&(Z=9);var ie=new _e;return(F.state=ie).strm=F,ie.wrap=fe,ie.gzhead=null,ie.w_bits=Z,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=Q+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+I-1)/I),ie.window=new s.Buf8(2*ie.w_size),ie.head=new s.Buf16(ie.hash_size),ie.prev=new s.Buf16(ie.w_size),ie.lit_bufsize=1<<Q+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new s.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=ce,ie.strategy=ye,ie.method=le,pe(F)}i=[new ue(0,0,0,0,function(F,ce){var le=65535;for(le>F.pending_buf_size-5&&(le=F.pending_buf_size-5);;){if(F.lookahead<=1){if(K(F),F.lookahead===0&&ce===d)return D;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var Z=F.block_start+le;if((F.strstart===0||F.strstart>=Z)&&(F.lookahead=F.strstart-Z,F.strstart=Z,W(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-M&&(W(F,!1),F.strm.avail_out===0))return D}return F.insert=0,ce===f?(W(F,!0),F.strm.avail_out===0?N:O):(F.strstart>F.block_start&&(W(F,!1),F.strm.avail_out),D)}),new ue(4,4,8,4,J),new ue(4,5,16,8,J),new ue(4,6,32,32,J),new ue(4,4,16,16,X),new ue(8,16,32,32,X),new ue(8,16,128,128,X),new ue(8,32,128,256,X),new ue(32,128,258,1024,X),new ue(32,258,258,4096,X)],o.deflateInit=function(F,ce){return ge(F,ce,x,15,8,0)},o.deflateInit2=ge,o.deflateReset=pe,o.deflateResetKeep=Ce,o.deflateSetHeader=function(F,ce){return F&&F.state?F.state.wrap!==2?g:(F.state.gzhead=ce,m):g},o.deflate=function(F,ce){var le,Z,Q,ye;if(!F||!F.state||5<ce||ce<0)return F?j(F,g):g;if(Z=F.state,!F.output||!F.input&&F.avail_in!==0||Z.status===666&&ce!==f)return j(F,F.avail_out===0?-5:g);if(Z.strm=F,le=Z.last_flush,Z.last_flush=ce,Z.status===R)if(Z.wrap===2)F.adler=0,Y(Z,31),Y(Z,139),Y(Z,8),Z.gzhead?(Y(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(Z.gzhead.extra?4:0)+(Z.gzhead.name?8:0)+(Z.gzhead.comment?16:0)),Y(Z,255&Z.gzhead.time),Y(Z,Z.gzhead.time>>8&255),Y(Z,Z.gzhead.time>>16&255),Y(Z,Z.gzhead.time>>24&255),Y(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),Y(Z,255&Z.gzhead.os),Z.gzhead.extra&&Z.gzhead.extra.length&&(Y(Z,255&Z.gzhead.extra.length),Y(Z,Z.gzhead.extra.length>>8&255)),Z.gzhead.hcrc&&(F.adler=c(F.adler,Z.pending_buf,Z.pending,0)),Z.gzindex=0,Z.status=69):(Y(Z,0),Y(Z,0),Y(Z,0),Y(Z,0),Y(Z,0),Y(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),Y(Z,3),Z.status=k);else{var fe=x+(Z.w_bits-8<<4)<<8;fe|=(2<=Z.strategy||Z.level<2?0:Z.level<6?1:Z.level===6?2:3)<<6,Z.strstart!==0&&(fe|=32),fe+=31-fe%31,Z.status=k,U(Z,fe),Z.strstart!==0&&(U(Z,F.adler>>>16),U(Z,65535&F.adler)),F.adler=1}if(Z.status===69)if(Z.gzhead.extra){for(Q=Z.pending;Z.gzindex<(65535&Z.gzhead.extra.length)&&(Z.pending!==Z.pending_buf_size||(Z.gzhead.hcrc&&Z.pending>Q&&(F.adler=c(F.adler,Z.pending_buf,Z.pending-Q,Q)),V(F),Q=Z.pending,Z.pending!==Z.pending_buf_size));)Y(Z,255&Z.gzhead.extra[Z.gzindex]),Z.gzindex++;Z.gzhead.hcrc&&Z.pending>Q&&(F.adler=c(F.adler,Z.pending_buf,Z.pending-Q,Q)),Z.gzindex===Z.gzhead.extra.length&&(Z.gzindex=0,Z.status=73)}else Z.status=73;if(Z.status===73)if(Z.gzhead.name){Q=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>Q&&(F.adler=c(F.adler,Z.pending_buf,Z.pending-Q,Q)),V(F),Q=Z.pending,Z.pending===Z.pending_buf_size)){ye=1;break}ye=Z.gzindex<Z.gzhead.name.length?255&Z.gzhead.name.charCodeAt(Z.gzindex++):0,Y(Z,ye)}while(ye!==0);Z.gzhead.hcrc&&Z.pending>Q&&(F.adler=c(F.adler,Z.pending_buf,Z.pending-Q,Q)),ye===0&&(Z.gzindex=0,Z.status=91)}else Z.status=91;if(Z.status===91)if(Z.gzhead.comment){Q=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>Q&&(F.adler=c(F.adler,Z.pending_buf,Z.pending-Q,Q)),V(F),Q=Z.pending,Z.pending===Z.pending_buf_size)){ye=1;break}ye=Z.gzindex<Z.gzhead.comment.length?255&Z.gzhead.comment.charCodeAt(Z.gzindex++):0,Y(Z,ye)}while(ye!==0);Z.gzhead.hcrc&&Z.pending>Q&&(F.adler=c(F.adler,Z.pending_buf,Z.pending-Q,Q)),ye===0&&(Z.status=103)}else Z.status=103;if(Z.status===103&&(Z.gzhead.hcrc?(Z.pending+2>Z.pending_buf_size&&V(F),Z.pending+2<=Z.pending_buf_size&&(Y(Z,255&F.adler),Y(Z,F.adler>>8&255),F.adler=0,Z.status=k)):Z.status=k),Z.pending!==0){if(V(F),F.avail_out===0)return Z.last_flush=-1,m}else if(F.avail_in===0&&L(ce)<=L(le)&&ce!==f)return j(F,-5);if(Z.status===666&&F.avail_in!==0)return j(F,-5);if(F.avail_in!==0||Z.lookahead!==0||ce!==d&&Z.status!==666){var ie=Z.strategy===2?function(re,ve){for(var ee;;){if(re.lookahead===0&&(K(re),re.lookahead===0)){if(ve===d)return D;break}if(re.match_length=0,ee=a._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ee&&(W(re,!1),re.strm.avail_out===0))return D}return re.insert=0,ve===f?(W(re,!0),re.strm.avail_out===0?N:O):re.last_lit&&(W(re,!1),re.strm.avail_out===0)?D:A}(Z,ce):Z.strategy===3?function(re,ve){for(var ee,he,we,me,ke=re.window;;){if(re.lookahead<=P){if(K(re),re.lookahead<=P&&ve===d)return D;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=I&&0<re.strstart&&(he=ke[we=re.strstart-1])===ke[++we]&&he===ke[++we]&&he===ke[++we]){me=re.strstart+P;do;while(he===ke[++we]&&he===ke[++we]&&he===ke[++we]&&he===ke[++we]&&he===ke[++we]&&he===ke[++we]&&he===ke[++we]&&he===ke[++we]&&we<me);re.match_length=P-(me-we),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=I?(ee=a._tr_tally(re,1,re.match_length-I),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ee=a._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ee&&(W(re,!1),re.strm.avail_out===0))return D}return re.insert=0,ve===f?(W(re,!0),re.strm.avail_out===0?N:O):re.last_lit&&(W(re,!1),re.strm.avail_out===0)?D:A}(Z,ce):i[Z.level].func(Z,ce);if(ie!==N&&ie!==O||(Z.status=666),ie===D||ie===N)return F.avail_out===0&&(Z.last_flush=-1),m;if(ie===A&&(ce===1?a._tr_align(Z):ce!==5&&(a._tr_stored_block(Z,0,0,!1),ce===3&&(z(Z.head),Z.lookahead===0&&(Z.strstart=0,Z.block_start=0,Z.insert=0))),V(F),F.avail_out===0))return Z.last_flush=-1,m}return ce!==f?m:Z.wrap<=0?1:(Z.wrap===2?(Y(Z,255&F.adler),Y(Z,F.adler>>8&255),Y(Z,F.adler>>16&255),Y(Z,F.adler>>24&255),Y(Z,255&F.total_in),Y(Z,F.total_in>>8&255),Y(Z,F.total_in>>16&255),Y(Z,F.total_in>>24&255)):(U(Z,F.adler>>>16),U(Z,65535&F.adler)),V(F),0<Z.wrap&&(Z.wrap=-Z.wrap),Z.pending!==0?m:1)},o.deflateEnd=function(F){var ce;return F&&F.state?(ce=F.state.status)!==R&&ce!==69&&ce!==73&&ce!==91&&ce!==103&&ce!==k&&ce!==666?j(F,g):(F.state=null,ce===k?j(F,-3):m):g},o.deflateSetDictionary=function(F,ce){var le,Z,Q,ye,fe,ie,re,ve,ee=ce.length;if(!F||!F.state||(ye=(le=F.state).wrap)===2||ye===1&&le.status!==R||le.lookahead)return g;for(ye===1&&(F.adler=l(F.adler,ce,ee,0)),le.wrap=0,ee>=le.w_size&&(ye===0&&(z(le.head),le.strstart=0,le.block_start=0,le.insert=0),ve=new s.Buf8(le.w_size),s.arraySet(ve,ce,ee-le.w_size,le.w_size,0),ce=ve,ee=le.w_size),fe=F.avail_in,ie=F.next_in,re=F.input,F.avail_in=ee,F.next_in=0,F.input=ce,K(le);le.lookahead>=I;){for(Z=le.strstart,Q=le.lookahead-(I-1);le.ins_h=(le.ins_h<<le.hash_shift^le.window[Z+I-1])&le.hash_mask,le.prev[Z&le.w_mask]=le.head[le.ins_h],le.head[le.ins_h]=Z,Z++,--Q;);le.strstart=Z,le.lookahead=I-1,K(le)}return le.strstart+=le.lookahead,le.block_start=le.strstart,le.insert=le.lookahead,le.lookahead=0,le.match_length=le.prev_length=I-1,le.match_available=0,F.next_in=ie,F.input=re,F.avail_in=fe,le.wrap=ye,m},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,o){r.exports=function(i,s){var a,l,c,u,d,f,m,g,v,y,b,x,w,C,E,_,S,T,I,P,M,R,k,D,A;a=i.state,l=i.next_in,D=i.input,c=l+(i.avail_in-5),u=i.next_out,A=i.output,d=u-(s-i.avail_out),f=u+(i.avail_out-257),m=a.dmax,g=a.wsize,v=a.whave,y=a.wnext,b=a.window,x=a.hold,w=a.bits,C=a.lencode,E=a.distcode,_=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{w<15&&(x+=D[l++]<<w,w+=8,x+=D[l++]<<w,w+=8),T=C[x&_];t:for(;;){if(x>>>=I=T>>>24,w-=I,(I=T>>>16&255)===0)A[u++]=65535&T;else{if(!(16&I)){if(!(64&I)){T=C[(65535&T)+(x&(1<<I)-1)];continue t}if(32&I){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}P=65535&T,(I&=15)&&(w<I&&(x+=D[l++]<<w,w+=8),P+=x&(1<<I)-1,x>>>=I,w-=I),w<15&&(x+=D[l++]<<w,w+=8,x+=D[l++]<<w,w+=8),T=E[x&S];n:for(;;){if(x>>>=I=T>>>24,w-=I,!(16&(I=T>>>16&255))){if(!(64&I)){T=E[(65535&T)+(x&(1<<I)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(M=65535&T,w<(I&=15)&&(x+=D[l++]<<w,(w+=8)<I&&(x+=D[l++]<<w,w+=8)),m<(M+=x&(1<<I)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=I,w-=I,(I=u-d)<M){if(v<(I=M-I)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(k=b,(R=0)===y){if(R+=g-I,I<P){for(P-=I;A[u++]=b[R++],--I;);R=u-M,k=A}}else if(y<I){if(R+=g+y-I,(I-=y)<P){for(P-=I;A[u++]=b[R++],--I;);if(R=0,y<P){for(P-=I=y;A[u++]=b[R++],--I;);R=u-M,k=A}}}else if(R+=y-I,I<P){for(P-=I;A[u++]=b[R++],--I;);R=u-M,k=A}for(;2<P;)A[u++]=k[R++],A[u++]=k[R++],A[u++]=k[R++],P-=3;P&&(A[u++]=k[R++],1<P&&(A[u++]=k[R++]))}else{for(R=u-M;A[u++]=A[R++],A[u++]=A[R++],A[u++]=A[R++],2<(P-=3););P&&(A[u++]=A[R++],1<P&&(A[u++]=A[R++]))}break}}break}}while(l<c&&u<f);l-=P=w>>3,x&=(1<<(w-=P<<3))-1,i.next_in=l,i.next_out=u,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=u<f?f-u+257:257-(u-f),a.hold=x,a.bits=w}},{}],49:[function(n,r,o){var i=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,f=0,m=-2,g=1,v=852,y=592;function b(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(R){var k;return R&&R.state?(k=R.state,R.total_in=R.total_out=k.total=0,R.msg="",k.wrap&&(R.adler=1&k.wrap),k.mode=g,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new i.Buf32(v),k.distcode=k.distdyn=new i.Buf32(y),k.sane=1,k.back=-1,f):m}function C(R){var k;return R&&R.state?((k=R.state).wsize=0,k.whave=0,k.wnext=0,w(R)):m}function E(R,k){var D,A;return R&&R.state?(A=R.state,k<0?(D=0,k=-k):(D=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?m:(A.window!==null&&A.wbits!==k&&(A.window=null),A.wrap=D,A.wbits=k,C(R))):m}function _(R,k){var D,A;return R?(A=new x,(R.state=A).window=null,(D=E(R,k))!==f&&(R.state=null),D):m}var S,T,I=!0;function P(R){if(I){var k;for(S=new i.Buf32(512),T=new i.Buf32(32),k=0;k<144;)R.lens[k++]=8;for(;k<256;)R.lens[k++]=9;for(;k<280;)R.lens[k++]=7;for(;k<288;)R.lens[k++]=8;for(c(u,R.lens,0,288,S,0,R.work,{bits:9}),k=0;k<32;)R.lens[k++]=5;c(d,R.lens,0,32,T,0,R.work,{bits:5}),I=!1}R.lencode=S,R.lenbits=9,R.distcode=T,R.distbits=5}function M(R,k,D,A){var N,O=R.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new i.Buf8(O.wsize)),A>=O.wsize?(i.arraySet(O.window,k,D-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):(A<(N=O.wsize-O.wnext)&&(N=A),i.arraySet(O.window,k,D-A,N,O.wnext),(A-=N)?(i.arraySet(O.window,k,D-A,A,0),O.wnext=A,O.whave=O.wsize):(O.wnext+=N,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=N))),0}o.inflateReset=C,o.inflateReset2=E,o.inflateResetKeep=w,o.inflateInit=function(R){return _(R,15)},o.inflateInit2=_,o.inflate=function(R,k){var D,A,N,O,j,L,z,V,W,Y,U,q,K,J,X,ue,_e,Ce,pe,ge,F,ce,le,Z,Q=0,ye=new i.Buf8(4),fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return m;(D=R.state).mode===12&&(D.mode=13),j=R.next_out,N=R.output,z=R.avail_out,O=R.next_in,A=R.input,L=R.avail_in,V=D.hold,W=D.bits,Y=L,U=z,ce=f;e:for(;;)switch(D.mode){case g:if(D.wrap===0){D.mode=13;break}for(;W<16;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(2&D.wrap&&V===35615){ye[D.check=0]=255&V,ye[1]=V>>>8&255,D.check=a(D.check,ye,2,0),W=V=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&V)<<8)+(V>>8))%31){R.msg="incorrect header check",D.mode=30;break}if((15&V)!=8){R.msg="unknown compression method",D.mode=30;break}if(W-=4,F=8+(15&(V>>>=4)),D.wbits===0)D.wbits=F;else if(F>D.wbits){R.msg="invalid window size",D.mode=30;break}D.dmax=1<<F,R.adler=D.check=1,D.mode=512&V?10:12,W=V=0;break;case 2:for(;W<16;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(D.flags=V,(255&D.flags)!=8){R.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){R.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=V>>8&1),512&D.flags&&(ye[0]=255&V,ye[1]=V>>>8&255,D.check=a(D.check,ye,2,0)),W=V=0,D.mode=3;case 3:for(;W<32;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}D.head&&(D.head.time=V),512&D.flags&&(ye[0]=255&V,ye[1]=V>>>8&255,ye[2]=V>>>16&255,ye[3]=V>>>24&255,D.check=a(D.check,ye,4,0)),W=V=0,D.mode=4;case 4:for(;W<16;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}D.head&&(D.head.xflags=255&V,D.head.os=V>>8),512&D.flags&&(ye[0]=255&V,ye[1]=V>>>8&255,D.check=a(D.check,ye,2,0)),W=V=0,D.mode=5;case 5:if(1024&D.flags){for(;W<16;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}D.length=V,D.head&&(D.head.extra_len=V),512&D.flags&&(ye[0]=255&V,ye[1]=V>>>8&255,D.check=a(D.check,ye,2,0)),W=V=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(L<(q=D.length)&&(q=L),q&&(D.head&&(F=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),i.arraySet(D.head.extra,A,O,q,F)),512&D.flags&&(D.check=a(D.check,A,q,O)),L-=q,O+=q,D.length-=q),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(L===0)break e;for(q=0;F=A[O+q++],D.head&&F&&D.length<65536&&(D.head.name+=String.fromCharCode(F)),F&&q<L;);if(512&D.flags&&(D.check=a(D.check,A,q,O)),L-=q,O+=q,F)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(L===0)break e;for(q=0;F=A[O+q++],D.head&&F&&D.length<65536&&(D.head.comment+=String.fromCharCode(F)),F&&q<L;);if(512&D.flags&&(D.check=a(D.check,A,q,O)),L-=q,O+=q,F)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;W<16;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(V!==(65535&D.check)){R.msg="header crc mismatch",D.mode=30;break}W=V=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),R.adler=D.check=0,D.mode=12;break;case 10:for(;W<32;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}R.adler=D.check=b(V),W=V=0,D.mode=11;case 11:if(D.havedict===0)return R.next_out=j,R.avail_out=z,R.next_in=O,R.avail_in=L,D.hold=V,D.bits=W,2;R.adler=D.check=1,D.mode=12;case 12:if(k===5||k===6)break e;case 13:if(D.last){V>>>=7&W,W-=7&W,D.mode=27;break}for(;W<3;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}switch(D.last=1&V,W-=1,3&(V>>>=1)){case 0:D.mode=14;break;case 1:if(P(D),D.mode=20,k!==6)break;V>>>=2,W-=2;break e;case 2:D.mode=17;break;case 3:R.msg="invalid block type",D.mode=30}V>>>=2,W-=2;break;case 14:for(V>>>=7&W,W-=7&W;W<32;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if((65535&V)!=(V>>>16^65535)){R.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&V,W=V=0,D.mode=15,k===6)break e;case 15:D.mode=16;case 16:if(q=D.length){if(L<q&&(q=L),z<q&&(q=z),q===0)break e;i.arraySet(N,A,O,q,j),L-=q,O+=q,z-=q,j+=q,D.length-=q;break}D.mode=12;break;case 17:for(;W<14;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(D.nlen=257+(31&V),V>>>=5,W-=5,D.ndist=1+(31&V),V>>>=5,W-=5,D.ncode=4+(15&V),V>>>=4,W-=4,286<D.nlen||30<D.ndist){R.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;W<3;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}D.lens[fe[D.have++]]=7&V,V>>>=3,W-=3}for(;D.have<19;)D.lens[fe[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,le={bits:D.lenbits},ce=c(0,D.lens,0,19,D.lencode,0,D.work,le),D.lenbits=le.bits,ce){R.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;ue=(Q=D.lencode[V&(1<<D.lenbits)-1])>>>16&255,_e=65535&Q,!((X=Q>>>24)<=W);){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(_e<16)V>>>=X,W-=X,D.lens[D.have++]=_e;else{if(_e===16){for(Z=X+2;W<Z;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(V>>>=X,W-=X,D.have===0){R.msg="invalid bit length repeat",D.mode=30;break}F=D.lens[D.have-1],q=3+(3&V),V>>>=2,W-=2}else if(_e===17){for(Z=X+3;W<Z;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}W-=X,F=0,q=3+(7&(V>>>=X)),V>>>=3,W-=3}else{for(Z=X+7;W<Z;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}W-=X,F=0,q=11+(127&(V>>>=X)),V>>>=7,W-=7}if(D.have+q>D.nlen+D.ndist){R.msg="invalid bit length repeat",D.mode=30;break}for(;q--;)D.lens[D.have++]=F}}if(D.mode===30)break;if(D.lens[256]===0){R.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,le={bits:D.lenbits},ce=c(u,D.lens,0,D.nlen,D.lencode,0,D.work,le),D.lenbits=le.bits,ce){R.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,le={bits:D.distbits},ce=c(d,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,le),D.distbits=le.bits,ce){R.msg="invalid distances set",D.mode=30;break}if(D.mode=20,k===6)break e;case 20:D.mode=21;case 21:if(6<=L&&258<=z){R.next_out=j,R.avail_out=z,R.next_in=O,R.avail_in=L,D.hold=V,D.bits=W,l(R,U),j=R.next_out,N=R.output,z=R.avail_out,O=R.next_in,A=R.input,L=R.avail_in,V=D.hold,W=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;ue=(Q=D.lencode[V&(1<<D.lenbits)-1])>>>16&255,_e=65535&Q,!((X=Q>>>24)<=W);){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(ue&&!(240&ue)){for(Ce=X,pe=ue,ge=_e;ue=(Q=D.lencode[ge+((V&(1<<Ce+pe)-1)>>Ce)])>>>16&255,_e=65535&Q,!(Ce+(X=Q>>>24)<=W);){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}V>>>=Ce,W-=Ce,D.back+=Ce}if(V>>>=X,W-=X,D.back+=X,D.length=_e,ue===0){D.mode=26;break}if(32&ue){D.back=-1,D.mode=12;break}if(64&ue){R.msg="invalid literal/length code",D.mode=30;break}D.extra=15&ue,D.mode=22;case 22:if(D.extra){for(Z=D.extra;W<Z;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}D.length+=V&(1<<D.extra)-1,V>>>=D.extra,W-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;ue=(Q=D.distcode[V&(1<<D.distbits)-1])>>>16&255,_e=65535&Q,!((X=Q>>>24)<=W);){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(!(240&ue)){for(Ce=X,pe=ue,ge=_e;ue=(Q=D.distcode[ge+((V&(1<<Ce+pe)-1)>>Ce)])>>>16&255,_e=65535&Q,!(Ce+(X=Q>>>24)<=W);){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}V>>>=Ce,W-=Ce,D.back+=Ce}if(V>>>=X,W-=X,D.back+=X,64&ue){R.msg="invalid distance code",D.mode=30;break}D.offset=_e,D.extra=15&ue,D.mode=24;case 24:if(D.extra){for(Z=D.extra;W<Z;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}D.offset+=V&(1<<D.extra)-1,V>>>=D.extra,W-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){R.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(z===0)break e;if(q=U-z,D.offset>q){if((q=D.offset-q)>D.whave&&D.sane){R.msg="invalid distance too far back",D.mode=30;break}K=q>D.wnext?(q-=D.wnext,D.wsize-q):D.wnext-q,q>D.length&&(q=D.length),J=D.window}else J=N,K=j-D.offset,q=D.length;for(z<q&&(q=z),z-=q,D.length-=q;N[j++]=J[K++],--q;);D.length===0&&(D.mode=21);break;case 26:if(z===0)break e;N[j++]=D.length,z--,D.mode=21;break;case 27:if(D.wrap){for(;W<32;){if(L===0)break e;L--,V|=A[O++]<<W,W+=8}if(U-=z,R.total_out+=U,D.total+=U,U&&(R.adler=D.check=D.flags?a(D.check,N,U,j-U):s(D.check,N,U,j-U)),U=z,(D.flags?V:b(V))!==D.check){R.msg="incorrect data check",D.mode=30;break}W=V=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;W<32;){if(L===0)break e;L--,V+=A[O++]<<W,W+=8}if(V!==(4294967295&D.total)){R.msg="incorrect length check",D.mode=30;break}W=V=0}D.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return m}return R.next_out=j,R.avail_out=z,R.next_in=O,R.avail_in=L,D.hold=V,D.bits=W,(D.wsize||U!==R.avail_out&&D.mode<30&&(D.mode<27||k!==4))&&M(R,R.output,R.next_out,U-R.avail_out)?(D.mode=31,-4):(Y-=R.avail_in,U-=R.avail_out,R.total_in+=Y,R.total_out+=U,D.total+=U,D.wrap&&U&&(R.adler=D.check=D.flags?a(D.check,N,U,R.next_out-U):s(D.check,N,U,R.next_out-U)),R.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(Y==0&&U===0||k===4)&&ce===f&&(ce=-5),ce)},o.inflateEnd=function(R){if(!R||!R.state)return m;var k=R.state;return k.window&&(k.window=null),R.state=null,f},o.inflateGetHeader=function(R,k){var D;return R&&R.state&&2&(D=R.state).wrap?((D.head=k).done=!1,f):m},o.inflateSetDictionary=function(R,k){var D,A=k.length;return R&&R.state?(D=R.state).wrap!==0&&D.mode!==11?m:D.mode===11&&s(1,k,A,0)!==D.check?-3:M(R,k,A,A)?(D.mode=31,-4):(D.havedict=1,f):m},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,o){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,f,m,g,v,y,b){var x,w,C,E,_,S,T,I,P,M=b.bits,R=0,k=0,D=0,A=0,N=0,O=0,j=0,L=0,z=0,V=0,W=null,Y=0,U=new i.Buf16(16),q=new i.Buf16(16),K=null,J=0;for(R=0;R<=15;R++)U[R]=0;for(k=0;k<m;k++)U[d[f+k]]++;for(N=M,A=15;1<=A&&U[A]===0;A--);if(A<N&&(N=A),A===0)return g[v++]=20971520,g[v++]=20971520,b.bits=1,0;for(D=1;D<A&&U[D]===0;D++);for(N<D&&(N=D),R=L=1;R<=15;R++)if(L<<=1,(L-=U[R])<0)return-1;if(0<L&&(u===0||A!==1))return-1;for(q[1]=0,R=1;R<15;R++)q[R+1]=q[R]+U[R];for(k=0;k<m;k++)d[f+k]!==0&&(y[q[d[f+k]]++]=k);if(S=u===0?(W=K=y,19):u===1?(W=s,Y-=257,K=a,J-=257,256):(W=l,K=c,-1),R=D,_=v,j=k=V=0,C=-1,E=(z=1<<(O=N))-1,u===1&&852<z||u===2&&592<z)return 1;for(;;){for(T=R-j,P=y[k]<S?(I=0,y[k]):y[k]>S?(I=K[J+y[k]],W[Y+y[k]]):(I=96,0),x=1<<R-j,D=w=1<<O;g[_+(V>>j)+(w-=x)]=T<<24|I<<16|P|0,w!==0;);for(x=1<<R-1;V&x;)x>>=1;if(x!==0?(V&=x-1,V+=x):V=0,k++,--U[R]==0){if(R===A)break;R=d[f+y[k]]}if(N<R&&(V&E)!==C){for(j===0&&(j=N),_+=D,L=1<<(O=R-j);O+j<A&&!((L-=U[O+j])<=0);)O++,L<<=1;if(z+=1<<O,u===1&&852<z||u===2&&592<z)return 1;g[C=V&E]=N<<24|O<<16|_-v|0}}return V!==0&&(g[_+V]=R-j<<24|64<<16|0),b.bits=N,0}},{"../utils/common":41}],51:[function(n,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,o){var i=n("../utils/common"),s=0,a=1;function l(Q){for(var ye=Q.length;0<=--ye;)Q[ye]=0}var c=0,u=29,d=256,f=d+1+u,m=30,g=19,v=2*f+1,y=15,b=16,x=7,w=256,C=16,E=17,_=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(f+2));l(M);var R=new Array(2*m);l(R);var k=new Array(512);l(k);var D=new Array(256);l(D);var A=new Array(u);l(A);var N,O,j,L=new Array(m);function z(Q,ye,fe,ie,re){this.static_tree=Q,this.extra_bits=ye,this.extra_base=fe,this.elems=ie,this.max_length=re,this.has_stree=Q&&Q.length}function V(Q,ye){this.dyn_tree=Q,this.max_code=0,this.stat_desc=ye}function W(Q){return Q<256?k[Q]:k[256+(Q>>>7)]}function Y(Q,ye){Q.pending_buf[Q.pending++]=255&ye,Q.pending_buf[Q.pending++]=ye>>>8&255}function U(Q,ye,fe){Q.bi_valid>b-fe?(Q.bi_buf|=ye<<Q.bi_valid&65535,Y(Q,Q.bi_buf),Q.bi_buf=ye>>b-Q.bi_valid,Q.bi_valid+=fe-b):(Q.bi_buf|=ye<<Q.bi_valid&65535,Q.bi_valid+=fe)}function q(Q,ye,fe){U(Q,fe[2*ye],fe[2*ye+1])}function K(Q,ye){for(var fe=0;fe|=1&Q,Q>>>=1,fe<<=1,0<--ye;);return fe>>>1}function J(Q,ye,fe){var ie,re,ve=new Array(y+1),ee=0;for(ie=1;ie<=y;ie++)ve[ie]=ee=ee+fe[ie-1]<<1;for(re=0;re<=ye;re++){var he=Q[2*re+1];he!==0&&(Q[2*re]=K(ve[he]++,he))}}function X(Q){var ye;for(ye=0;ye<f;ye++)Q.dyn_ltree[2*ye]=0;for(ye=0;ye<m;ye++)Q.dyn_dtree[2*ye]=0;for(ye=0;ye<g;ye++)Q.bl_tree[2*ye]=0;Q.dyn_ltree[2*w]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function ue(Q){8<Q.bi_valid?Y(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function _e(Q,ye,fe,ie){var re=2*ye,ve=2*fe;return Q[re]<Q[ve]||Q[re]===Q[ve]&&ie[ye]<=ie[fe]}function Ce(Q,ye,fe){for(var ie=Q.heap[fe],re=fe<<1;re<=Q.heap_len&&(re<Q.heap_len&&_e(ye,Q.heap[re+1],Q.heap[re],Q.depth)&&re++,!_e(ye,ie,Q.heap[re],Q.depth));)Q.heap[fe]=Q.heap[re],fe=re,re<<=1;Q.heap[fe]=ie}function pe(Q,ye,fe){var ie,re,ve,ee,he=0;if(Q.last_lit!==0)for(;ie=Q.pending_buf[Q.d_buf+2*he]<<8|Q.pending_buf[Q.d_buf+2*he+1],re=Q.pending_buf[Q.l_buf+he],he++,ie===0?q(Q,re,ye):(q(Q,(ve=D[re])+d+1,ye),(ee=S[ve])!==0&&U(Q,re-=A[ve],ee),q(Q,ve=W(--ie),fe),(ee=T[ve])!==0&&U(Q,ie-=L[ve],ee)),he<Q.last_lit;);q(Q,w,ye)}function ge(Q,ye){var fe,ie,re,ve=ye.dyn_tree,ee=ye.stat_desc.static_tree,he=ye.stat_desc.has_stree,we=ye.stat_desc.elems,me=-1;for(Q.heap_len=0,Q.heap_max=v,fe=0;fe<we;fe++)ve[2*fe]!==0?(Q.heap[++Q.heap_len]=me=fe,Q.depth[fe]=0):ve[2*fe+1]=0;for(;Q.heap_len<2;)ve[2*(re=Q.heap[++Q.heap_len]=me<2?++me:0)]=1,Q.depth[re]=0,Q.opt_len--,he&&(Q.static_len-=ee[2*re+1]);for(ye.max_code=me,fe=Q.heap_len>>1;1<=fe;fe--)Ce(Q,ve,fe);for(re=we;fe=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],Ce(Q,ve,1),ie=Q.heap[1],Q.heap[--Q.heap_max]=fe,Q.heap[--Q.heap_max]=ie,ve[2*re]=ve[2*fe]+ve[2*ie],Q.depth[re]=(Q.depth[fe]>=Q.depth[ie]?Q.depth[fe]:Q.depth[ie])+1,ve[2*fe+1]=ve[2*ie+1]=re,Q.heap[1]=re++,Ce(Q,ve,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],function(ke,Ie){var Re,$e,ne,xe,se,ae,Ee=Ie.dyn_tree,Le=Ie.max_code,ze=Ie.stat_desc.static_tree,We=Ie.stat_desc.has_stree,Ze=Ie.stat_desc.extra_bits,dt=Ie.stat_desc.extra_base,de=Ie.stat_desc.max_length,je=0;for(xe=0;xe<=y;xe++)ke.bl_count[xe]=0;for(Ee[2*ke.heap[ke.heap_max]+1]=0,Re=ke.heap_max+1;Re<v;Re++)de<(xe=Ee[2*Ee[2*($e=ke.heap[Re])+1]+1]+1)&&(xe=de,je++),Ee[2*$e+1]=xe,Le<$e||(ke.bl_count[xe]++,se=0,dt<=$e&&(se=Ze[$e-dt]),ae=Ee[2*$e],ke.opt_len+=ae*(xe+se),We&&(ke.static_len+=ae*(ze[2*$e+1]+se)));if(je!==0){do{for(xe=de-1;ke.bl_count[xe]===0;)xe--;ke.bl_count[xe]--,ke.bl_count[xe+1]+=2,ke.bl_count[de]--,je-=2}while(0<je);for(xe=de;xe!==0;xe--)for($e=ke.bl_count[xe];$e!==0;)Le<(ne=ke.heap[--Re])||(Ee[2*ne+1]!==xe&&(ke.opt_len+=(xe-Ee[2*ne+1])*Ee[2*ne],Ee[2*ne+1]=xe),$e--)}}(Q,ye),J(ve,me,Q.bl_count)}function F(Q,ye,fe){var ie,re,ve=-1,ee=ye[1],he=0,we=7,me=4;for(ee===0&&(we=138,me=3),ye[2*(fe+1)+1]=65535,ie=0;ie<=fe;ie++)re=ee,ee=ye[2*(ie+1)+1],++he<we&&re===ee||(he<me?Q.bl_tree[2*re]+=he:re!==0?(re!==ve&&Q.bl_tree[2*re]++,Q.bl_tree[2*C]++):he<=10?Q.bl_tree[2*E]++:Q.bl_tree[2*_]++,ve=re,me=(he=0)===ee?(we=138,3):re===ee?(we=6,3):(we=7,4))}function ce(Q,ye,fe){var ie,re,ve=-1,ee=ye[1],he=0,we=7,me=4;for(ee===0&&(we=138,me=3),ie=0;ie<=fe;ie++)if(re=ee,ee=ye[2*(ie+1)+1],!(++he<we&&re===ee)){if(he<me)for(;q(Q,re,Q.bl_tree),--he!=0;);else re!==0?(re!==ve&&(q(Q,re,Q.bl_tree),he--),q(Q,C,Q.bl_tree),U(Q,he-3,2)):he<=10?(q(Q,E,Q.bl_tree),U(Q,he-3,3)):(q(Q,_,Q.bl_tree),U(Q,he-11,7));ve=re,me=(he=0)===ee?(we=138,3):re===ee?(we=6,3):(we=7,4)}}l(L);var le=!1;function Z(Q,ye,fe,ie){U(Q,(c<<1)+(ie?1:0),3),function(re,ve,ee,he){ue(re),Y(re,ee),Y(re,~ee),i.arraySet(re.pending_buf,re.window,ve,ee,re.pending),re.pending+=ee}(Q,ye,fe)}o._tr_init=function(Q){le||(function(){var ye,fe,ie,re,ve,ee=new Array(y+1);for(re=ie=0;re<u-1;re++)for(A[re]=ie,ye=0;ye<1<<S[re];ye++)D[ie++]=re;for(D[ie-1]=re,re=ve=0;re<16;re++)for(L[re]=ve,ye=0;ye<1<<T[re];ye++)k[ve++]=re;for(ve>>=7;re<m;re++)for(L[re]=ve<<7,ye=0;ye<1<<T[re]-7;ye++)k[256+ve++]=re;for(fe=0;fe<=y;fe++)ee[fe]=0;for(ye=0;ye<=143;)M[2*ye+1]=8,ye++,ee[8]++;for(;ye<=255;)M[2*ye+1]=9,ye++,ee[9]++;for(;ye<=279;)M[2*ye+1]=7,ye++,ee[7]++;for(;ye<=287;)M[2*ye+1]=8,ye++,ee[8]++;for(J(M,f+1,ee),ye=0;ye<m;ye++)R[2*ye+1]=5,R[2*ye]=K(ye,5);N=new z(M,S,d+1,f,y),O=new z(R,T,0,m,y),j=new z(new Array(0),I,0,g,x)}(),le=!0),Q.l_desc=new V(Q.dyn_ltree,N),Q.d_desc=new V(Q.dyn_dtree,O),Q.bl_desc=new V(Q.bl_tree,j),Q.bi_buf=0,Q.bi_valid=0,X(Q)},o._tr_stored_block=Z,o._tr_flush_block=function(Q,ye,fe,ie){var re,ve,ee=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=function(he){var we,me=4093624447;for(we=0;we<=31;we++,me>>>=1)if(1&me&&he.dyn_ltree[2*we]!==0)return s;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return a;for(we=32;we<d;we++)if(he.dyn_ltree[2*we]!==0)return a;return s}(Q)),ge(Q,Q.l_desc),ge(Q,Q.d_desc),ee=function(he){var we;for(F(he,he.dyn_ltree,he.l_desc.max_code),F(he,he.dyn_dtree,he.d_desc.max_code),ge(he,he.bl_desc),we=g-1;3<=we&&he.bl_tree[2*P[we]+1]===0;we--);return he.opt_len+=3*(we+1)+5+5+4,we}(Q),re=Q.opt_len+3+7>>>3,(ve=Q.static_len+3+7>>>3)<=re&&(re=ve)):re=ve=fe+5,fe+4<=re&&ye!==-1?Z(Q,ye,fe,ie):Q.strategy===4||ve===re?(U(Q,2+(ie?1:0),3),pe(Q,M,R)):(U(Q,4+(ie?1:0),3),function(he,we,me,ke){var Ie;for(U(he,we-257,5),U(he,me-1,5),U(he,ke-4,4),Ie=0;Ie<ke;Ie++)U(he,he.bl_tree[2*P[Ie]+1],3);ce(he,he.dyn_ltree,we-1),ce(he,he.dyn_dtree,me-1)}(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,ee+1),pe(Q,Q.dyn_ltree,Q.dyn_dtree)),X(Q),ie&&ue(Q)},o._tr_tally=function(Q,ye,fe){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=ye>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&ye,Q.pending_buf[Q.l_buf+Q.last_lit]=255&fe,Q.last_lit++,ye===0?Q.dyn_ltree[2*fe]++:(Q.matches++,ye--,Q.dyn_ltree[2*(D[fe]+d+1)]++,Q.dyn_dtree[2*W(ye)]++),Q.last_lit===Q.lit_bufsize-1},o._tr_align=function(Q){U(Q,2,3),q(Q,w,M),function(ye){ye.bi_valid===16?(Y(ye,ye.bi_buf),ye.bi_buf=0,ye.bi_valid=0):8<=ye.bi_valid&&(ye.pending_buf[ye.pending++]=255&ye.bi_buf,ye.bi_buf>>=8,ye.bi_valid-=8)}(Q)}},{"../utils/common":41}],53:[function(n,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,o){(function(i){(function(s,a){if(!s.setImmediate){var l,c,u,d,f=1,m={},g=!1,v=s.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(s);y=y&&y.setTimeout?y:s,l={}.toString.call(s.process)==="[object process]"?function(C){process.nextTick(function(){x(C)})}:function(){if(s.postMessage&&!s.importScripts){var C=!0,E=s.onmessage;return s.onmessage=function(){C=!1},s.postMessage("","*"),s.onmessage=E,C}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(C){s.postMessage(d+C,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){x(C.data)},function(C){u.port2.postMessage(C)}):v&&"onreadystatechange"in v.createElement("script")?(c=v.documentElement,function(C){var E=v.createElement("script");E.onreadystatechange=function(){x(C),E.onreadystatechange=null,c.removeChild(E),E=null},c.appendChild(E)}):function(C){setTimeout(x,0,C)},y.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var E=new Array(arguments.length-1),_=0;_<E.length;_++)E[_]=arguments[_+1];var S={callback:C,args:E};return m[f]=S,l(f),f++},y.clearImmediate=b}function b(C){delete m[C]}function x(C){if(g)setTimeout(x,0,C);else{var E=m[C];if(E){g=!0;try{(function(_){var S=_.callback,T=_.args;switch(T.length){case 0:S();break;case 1:S(T[0]);break;case 2:S(T[0],T[1]);break;case 3:S(T[0],T[1],T[2]);break;default:S.apply(a,T)}})(E)}finally{b(C),g=!1}}}}function w(C){C.source===s&&typeof C.data=="string"&&C.data.indexOf(d)===0&&x(+C.data.slice(d.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Xw<"u"?Xw:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(sie);var rot=sie.exports;const hO=pv(rot);class oot{constructor(){Ye(this,"collections",["passages","sites","tournees","vehicules"])}async exportCollectionToCSV(e){try{console.log(`🔄 Exportation de la collection ${e} au format CSV...`);const n=await Jt(Ht(mt,e));if(n.empty)return console.log(`⚠️ La collection ${e} est vide.`),"";const r=n.docs.map(a=>{const l=a.data(),c={};return Object.entries(l).forEach(([u,d])=>{d instanceof En?c[u]=d.toDate().toISOString():c[u]=d}),c.id=a.id,c}),o=new Set;r.forEach(a=>{Object.keys(a).forEach(l=>o.add(l))});const i=Array.from(o);let s=i.join(",")+`
`;return r.forEach(a=>{const l=i.map(c=>{const u=a[c];return u==null?"":typeof u=="string"&&(u.includes(",")||u.includes(`
`)||u.includes('"'))?`"${u.replace(/"/g,'""')}"`:u});s+=l.join(",")+`
`}),console.log(`✅ Exportation de ${r.length} documents de la collection ${e} terminée.`),s}catch(n){throw console.error(`❌ Erreur lors de l'exportation de la collection ${e}:`,n),n}}async exportCollectionToJSON(e){try{console.log(`🔄 Exportation de la collection ${e} au format JSON...`);const n=await Jt(Ht(mt,e));if(n.empty)return console.log(`⚠️ La collection ${e} est vide.`),[];const r=n.docs.map(o=>{const i=o.data(),s={};return Object.entries(i).forEach(([a,l])=>{l instanceof En?s[a]=l.toDate().toISOString():s[a]=l}),s.id=o.id,s});return console.log(`✅ Exportation de ${r.length} documents de la collection ${e} terminée.`),r}catch(n){throw console.error(`❌ Erreur lors de l'exportation de la collection ${e}:`,n),n}}async downloadCollectionAsCSV(e){try{const n=await this.exportCollectionToCSV(e);if(!n){console.log(`⚠️ Aucune donnée à exporter pour la collection ${e}.`);return}const r=new Blob([n],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(n){throw console.error(`❌ Erreur lors du téléchargement de la collection ${e}:`,n),n}}async downloadCollectionAsJSON(e){try{const n=await this.exportCollectionToJSON(e);if(!n||n.length===0){console.log(`⚠️ Aucune donnée à exporter pour la collection ${e}.`);return}const r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.json`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(n){throw console.error(`❌ Erreur lors du téléchargement de la collection ${e}:`,n),n}}async downloadAllCollectionsAsCSV(){try{console.log("🔄 Exportation de toutes les collections au format CSV...");for(const e of this.collections)await this.downloadCollectionAsCSV(e);console.log("✅ Exportation de toutes les collections terminée.")}catch(e){throw console.error("❌ Erreur lors de l'exportation de toutes les collections:",e),e}}async downloadAllCollectionsAsJSON(){try{console.log("🔄 Exportation de toutes les collections au format JSON...");for(const e of this.collections)await this.downloadCollectionAsJSON(e);console.log("✅ Exportation de toutes les collections terminée.")}catch(e){throw console.error("❌ Erreur lors de l'exportation de toutes les collections:",e),e}}async generateCompleteBackup(){try{console.log("🔄 Génération d'une sauvegarde complète...");const e=new hO;for(const i of this.collections){const s=await this.exportCollectionToJSON(i);s&&s.length>0&&e.file(`${i}.json`,JSON.stringify(s,null,2))}const n=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(n),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`firebase_backup_${new Date().toISOString().split("T")[0]}.zip`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),console.log("✅ Génération de la sauvegarde complète terminée.")}catch(e){throw console.error("❌ Erreur lors de la génération de la sauvegarde complète:",e),e}}async importCSVToCollection(e,n,r={}){try{console.log(`🔄 Importation des données CSV vers la collection ${e}...`);const{clearCollection:o=!1,updateExisting:i=!0,idField:s="id"}=r;if(!this.collections.includes(e))throw new Error(`La collection ${e} n'est pas valide.`);const a=n.split(`
`);if(a.length<2)throw new Error("Le fichier CSV est vide ou ne contient que des en-têtes.");const l=this.parseCSVLine(a[0]),c=[];for(let m=1;m<a.length;m++){const g=a[m].trim();if(!g)continue;const v=this.parseCSVLine(g);if(v.length!==l.length){console.warn(`⚠️ Ligne ${m+1} ignorée: nombre de valeurs incorrect`);continue}const y={};for(let b=0;b<l.length;b++){const x=l[b];let w=v[b];if(w==="true")w=!0;else if(w==="false")w=!1;else if(!isNaN(Number(w))&&w!=="")w=Number(w);else if(typeof w=="string"&&(w.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)||w.match(/^\d{4}-\d{2}-\d{2}/)))try{w=En.fromDate(new Date(w))}catch{console.warn(`⚠️ Impossible de convertir la date: ${w}`)}y[x]=w}c.push(y)}o&&await this.clearCollection(e);const u=c.length;let d=0,f=0;for(;d<u;){const m=ud(mt),g=Math.min(500,u-d);for(let v=0;v<g;v++){const y=c[d+v],b=y[s];if(b&&i){const x=un(mt,e,b);m.set(x,y)}else{const x=Ht(mt,e),w=un(x);m.set(w,y)}f++}await m.commit(),d+=g,console.log(`✅ Lot de ${g} documents importés (${d}/${u})`)}return console.log(`✅ Importation terminée: ${f} documents importés dans la collection ${e}`),f}catch(o){throw console.error("❌ Erreur lors de l'importation des données CSV:",o),o}}async importJSONToCollection(e,n,r={}){try{console.log(`🔄 Importation des données JSON vers la collection ${e}...`);const{clearCollection:o=!1,updateExisting:i=!0,idField:s="id"}=r;if(!this.collections.includes(e))throw new Error(`La collection ${e} n'est pas valide.`);if(!Array.isArray(n))throw new Error("Les données JSON doivent être un tableau d'objets.");const a=n.map(d=>{const f={};return Object.entries(d).forEach(([m,g])=>{if(typeof g=="string"&&(g.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)||g.match(/^\d{4}-\d{2}-\d{2}/)))try{f[m]=En.fromDate(new Date(g))}catch{console.warn(`⚠️ Impossible de convertir la date: ${g}`),f[m]=g}else f[m]=g}),f});o&&await this.clearCollection(e);const l=a.length;let c=0,u=0;for(;c<l;){const d=ud(mt),f=Math.min(500,l-c);for(let m=0;m<f;m++){const g=a[c+m],v=g[s];if(v&&i){const y=un(mt,e,v);d.set(y,g)}else{const y=Ht(mt,e),b=un(y);d.set(b,g)}u++}await d.commit(),c+=f,console.log(`✅ Lot de ${f} documents importés (${c}/${l})`)}return console.log(`✅ Importation terminée: ${u} documents importés dans la collection ${e}`),u}catch(o){throw console.error("❌ Erreur lors de l'importation des données JSON:",o),o}}async importFromZip(e,n={}){var r;try{console.log("🔄 Importation des données depuis le fichier ZIP...");const o=new hO;await o.loadAsync(e);const i={};for(const s in o.files){if(o.files[s].dir)continue;const a=(r=s.split(".").pop())==null?void 0:r.toLowerCase(),l=s.split(".")[0];if(!this.collections.includes(l)){console.warn(`⚠️ Collection inconnue ignorée: ${l}`);continue}const c=await o.files[s].async("string");if(a==="json")try{const u=JSON.parse(c),d=await this.importJSONToCollection(l,u,n);i[l]=d}catch(u){console.error(`❌ Erreur lors de l'importation du fichier JSON ${s}:`,u)}else if(a==="csv")try{const u=await this.importCSVToCollection(l,c,n);i[l]=u}catch(u){console.error(`❌ Erreur lors de l'importation du fichier CSV ${s}:`,u)}else console.warn(`⚠️ Type de fichier non pris en charge: ${a}`)}return console.log("✅ Importation depuis ZIP terminée:",i),i}catch(o){throw console.error("❌ Erreur lors de l'importation depuis le fichier ZIP:",o),o}}async clearCollection(e){try{console.log(`🔄 Suppression des documents existants dans la collection ${e}...`);const n=Ht(mt,e),r=await Jt(n);if(r.empty){console.log(`ℹ️ La collection ${e} est déjà vide.`);return}const o=r.docs,i=o.length;let s=0;for(;s<i;){const a=ud(mt),l=Math.min(500,i-s);for(let c=0;c<l;c++){const u=o[s+c];a.delete(un(mt,e,u.id))}await a.commit(),s+=l,console.log(`✅ Lot de ${l} documents supprimés (${s}/${i})`)}console.log(`✅ Collection ${e} vidée avec succès.`)}catch(n){throw console.error("❌ Erreur lors de la suppression des documents:",n),n}}parseCSVLine(e){if(!e||e.trim()==="")return[];let n=e.replace(/ë/g,"");n=n.replace(/Ë/g,"");let r=";";const o=(n.match(/\t/g)||[]).length,i=(n.match(/;/g)||[]).length,s=(n.match(/,/g)||[]).length;o>0&&o>=i&&o>=s?r="	":s>i&&(r=",");const a=n.split(r).map(l=>{let c=l.trim();return c.startsWith('"')&&c.endsWith('"')&&(c=c.slice(1,-1)),c=c.replace(/""/g,'"'),c});return console.log(`Ligne nettoyée: "${n}"`),console.log(`Valeurs extraites: ${JSON.stringify(a)}`),a}normalizeEncoding(e){if(!e)return"";let n=e.replace(/[ëË]/g,"");return Object.entries({Ple:"Pôle",Pole:"Pôle",POLE:"Pôle",Tourne:"Tournée",TOURNEE:"Tournée",Tournee:"Tournée",Complment:"Complément",Complement:"Complément",Tlphone:"Téléphone",Telephone:"Téléphone",Coordonnes:"Coordonnées",Coordonnees:"Coordonnées"}).forEach(([o,i])=>{n=n.replace(new RegExp(o,"g"),i)}),n}normalizeFileEncoding(e){return e?(console.log("Normalisation de l'encodage du fichier..."),e=e.replace(/ë/g,""),e.split(/\r?\n/).map(o=>this.normalizeEncoding(o)).join(`
`)):""}detectAndFixEncoding(e){return e?(console.log("Détection et correction de l'encodage..."),e.charCodeAt(0)===65279&&(console.log("BOM UTF-8 détecté, suppression..."),e=e.slice(1)),e.includes("ë")&&(console.log('Caractères "ë" détectés, suppression...'),e=e.replace(/ë/g,"")),(e.includes("Ã©")||e.includes("Ã¨")||e.includes("Ãª")||e.includes("Ã ")||e.includes("Ã§")||e.includes("Ã´")||e.includes("Ã®")||e.includes("Ã¯")||e.includes("Ã¼")||e.includes("Ã¹")||e.includes("Ã»")||e.includes("Ã¢")||e.includes("Ã«")||e.includes("Ã‰")||e.includes('Ã"'))&&(console.log("Séquences UTF-8 mal interprétées détectées, correction..."),e=e.replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ãª/g,"ê").replace(/Ã /g,"à").replace(/Ã§/g,"ç").replace(/Ã´/g,"ô").replace(/Ã®/g,"î").replace(/Ã¯/g,"ï").replace(/Ã¼/g,"ü").replace(/Ã¹/g,"ù").replace(/Ã»/g,"û").replace(/Ã¢/g,"â").replace(/Ã«/g,"ë").replace(/Ã‰/g,"É").replace(/Ã"/g,"Ô").replace(/PÃ´le/g,"Pôle").replace(/TournÃ©e/g,"Tournée").replace(/ComplÃ©ment d\'adresse/g,"Complément d'adresse").replace(/TÃ©lÃ©phone/g,"Téléphone").replace(/CoordonnÃ©es/g,"Coordonnées")),(e.includes("Ple")||e.includes("Tourne")||e.includes("Complment"))&&(console.log("Caractères accentués manquants détectés, correction..."),e=e.replace(/Ple/g,"Pôle").replace(/Tourne/g,"Tournée").replace(/Complment d\'adresse/g,"Complément d'adresse").replace(/Complment/g,"Complément").replace(/Tlphone/g,"Téléphone").replace(/Coordonnes/g,"Coordonnées")),e):""}async importSitesFromTXT(e,n={}){try{console.log("Traitement spécifique pour fichier TXT...");let r=this.detectAndFixEncoding(e);r=this.normalizeFileEncoding(r);const o=r.split(`
`).map(m=>m.trim()).filter(m=>m!=="");if(o.length===0)throw new Error("Le fichier est vide.");const i=o[0];if(!i)throw new Error("La première ligne du fichier est vide.");console.log("Première ligne du fichier TXT:",i);const s=(i.match(/\t/g)||[]).length,a=(i.match(/;/g)||[]).length,l=(i.match(/,/g)||[]).length;console.log(`Séparateurs détectés - Tabulations: ${s}, Points-virgules: ${a}, Virgules: ${l}`),console.log("Échantillon des 3 premières lignes TXT:");for(let m=0;m<Math.min(3,o.length);m++)console.log(`Ligne ${m}: ${o[m]}`);let c="	";s>0?(c="	",console.log("Séparateur détecté pour TXT: tabulation")):a>0&&a>=l?(c=";",console.log("Séparateur détecté pour TXT: point-virgule")):l>0?(c=",",console.log("Séparateur détecté pour TXT: virgule")):console.log("Aucun séparateur standard détecté dans le fichier TXT, utilisation de la tabulation par défaut");const d=o.map(m=>m?c!==","?this.parseCSVLine(m).map(v=>v.includes(",")?`"${v.replace(/"/g,'""')}"`:v).join(","):m:"").join(`
`).split(`
`);if(d.length<2)throw new Error("La conversion du fichier TXT a échoué.");const f=this.parseCSVLine(d[0]);if(f.length<3)throw new Error(`Le fichier ne contient que ${f.length} colonnes. Vérifiez le format du fichier et assurez-vous qu'il utilise des tabulations, des points-virgules ou des virgules comme séparateurs.`);return console.log("En-têtes détectés dans le fichier TXT:",f),this.processImportLines(f,d,n)}catch(r){throw console.error("❌ Erreur lors de l'importation des sites depuis TXT:",r),r}}debugFileInfo(e,n="inconnu"){console.group(`📊 Informations de débogage pour le fichier: ${n}`);try{console.log(`Taille du contenu: ${e.length} caractères`),console.log(`Type de fichier: ${n.endsWith(".txt")?"TXT":"CSV"}`);const r=e.charCodeAt(0)===65279;console.log(`BOM UTF-8 détecté: ${r?"Oui":"Non"}`);const o=e.split(`
`);if(console.log(`Nombre de lignes: ${o.length}`),o.length>0){const i=o[0].trim();console.log(`Première ligne (${i.length} caractères): ${i.substring(0,100)}${i.length>100?"...":""}`);const s=(i.match(/\t/g)||[]).length,a=(i.match(/;/g)||[]).length,l=(i.match(/,/g)||[]).length;console.log(`Séparateurs détectés - Tabulations: ${s}, Points-virgules: ${a}, Virgules: ${l}`);let c=",";s>0&&s>=a&&s>=l?c="	":a>0&&a>=l&&(c=";"),console.log(`Séparateur le plus probable: ${c==="	"?"tabulation":c}`);const u=c==="	"?s+1:c===";"?a+1:l+1;if(console.log(`Nombre estimé de colonnes: ${u}`),o.length>1){const b=o[1].trim(),x=(b.match(/\t/g)||[]).length,w=(b.match(/;/g)||[]).length,C=(b.match(/,/g)||[]).length,E=c==="	"?x+1:c===";"?w+1:C+1;console.log(`Nombre de colonnes dans la deuxième ligne: ${E}`),console.log(`Cohérence des colonnes: ${u===E?"OK":"PROBLÈME"}`)}const f=["é","è","ê","à","ç","ô","î","ï","ü","ù","û","â","ë"].filter(b=>e.includes(b));console.log(`Caractères spéciaux correctement encodés: ${f.length>0?f.join(", "):"Aucun"}`);const g=["Ã©","Ã¨","Ãª","Ã ","Ã§","Ã´","Ã®","Ã¯","Ã¼","Ã¹","Ã»","Ã¢","Ã«"].filter(b=>e.includes(b));console.log(`Séquences UTF-8 mal interprétées: ${g.length>0?g.join(", "):"Aucune"}`);const y=["Ple","Tourne","Complment"].filter(b=>e.includes(b));console.log(`Caractères mal encodés spécifiques: ${y.length>0?y.join(", "):"Aucun"}`)}}catch(r){console.error("Erreur lors de l'analyse du fichier:",r)}finally{console.groupEnd()}}async importSitesFromCSV(e,n={}){try{const{clearCollection:r=!1,updateExisting:o=!0,idField:i="id",isTxtFile:s=!1,fileName:a=s?"fichier.txt":"fichier.csv"}=n;if(console.log(`Début de l'importation des sites depuis ${s?"TXT":"CSV"}...`),this.debugFileInfo(e,a),s)return this.importSitesFromTXT(e,n);let l=e.replace(/ë/g,"");console.log("Contenu après nettoyage des caractères ë (50 premiers caractères):",l.substring(0,50));let c=this.detectAndFixEncoding(l);e.charCodeAt(0)===65279&&(console.log("Détection du BOM UTF-8, suppression..."),c=e.slice(1)),c=this.normalizeFileEncoding(c);const u=c.split(/\r?\n/).map(C=>C.trim()).filter(C=>C!=="");if(u.length===0)throw new Error("Le fichier est vide.");const d=u[0];if(!d)throw new Error("La première ligne du fichier est vide.");console.log("Première ligne du fichier:",d);const f=(d.match(/\t/g)||[]).length,m=(d.match(/;/g)||[]).length,g=(d.match(/,/g)||[]).length;let v=",";const y=d.includes("Pôle;Bassin;MI;Tournée")||d.includes("Pôle;Bassin;MI;Tournée;PT de rattachement")||d.includes("Pole;Bassin;MI;Tournee")||d.includes("ID;Pole;Bassin;MI;Tournee");y&&(console.log("Format spécifique détecté: format utilisateur avec séparateur point-virgule"),v=";"),console.log(`Séparateurs détectés - Tabulations: ${f}, Points-virgules: ${m}, Virgules: ${g}`),console.log(`Format détecté: ${y?"Format utilisateur spécifique":"Format standard"}`),s?f>0?(v="	",console.log("Séparateur détecté pour TXT: tabulation")):m>0&&m>=g?(v=";",console.log("Séparateur détecté pour TXT: point-virgule")):g>0?(v=",",console.log("Séparateur détecté pour TXT: virgule")):console.log("Aucun séparateur standard détecté dans le fichier TXT, utilisation de la tabulation par défaut"):f>0&&f>=m&&f>=g?(v="	",console.log("Séparateur détecté pour CSV: tabulation")):m>0&&m>=g?(v=";",console.log("Séparateur détecté pour CSV: point-virgule")):console.log("Séparateur détecté pour CSV: virgule"),console.log("Échantillon des 3 premières lignes:");for(let C=0;C<Math.min(3,u.length);C++)console.log(`Ligne ${C}: ${u[C]}`);let b="";v!==","?b=u.map(C=>{if(!C)return"";const E=[];let _="",S=!1;for(let T=0;T<C.length;T++){const I=C[T];I==='"'?(S=!S,_+=I):I===v&&!S?(E.push(_),_=""):_+=I}return E.push(_),E.join(",")}).join(`
`):b=c;const x=b.split(/\r?\n/).filter(C=>C.trim()!=="");if(x.length<2){console.warn("⚠️ La normalisation standard a échoué, tentative avec une approche alternative...");const C=u.filter(_=>_.trim()!=="");if(C.length<2)throw new Error("Le fichier est vide ou ne contient que des en-têtes.");const E=this.parseCSVLine(C[0]);if(E.length<3)throw new Error(`Le fichier ne contient que ${E.length} colonnes. Vérifiez le format du fichier et assurez-vous qu'il utilise des virgules, des points-virgules ou des tabulations comme séparateurs.`);return console.log("En-têtes détectés (approche alternative):",E),this.processImportLines(E,C,n)}const w=this.parseCSVLine(x[0]);if(w.length<3)throw new Error(`Le fichier ne contient que ${w.length} colonnes. Vérifiez le format du fichier et assurez-vous qu'il utilise des virgules, des points-virgules ou des tabulations comme séparateurs.`);return console.log("En-têtes détectés:",w),this.processImportLines(w,x,n)}catch(r){throw console.error(`❌ Erreur lors de l'importation des sites depuis ${isTxtFile?"TXT":"CSV"}:`,r),r}}async processImportLines(e,n,r={}){try{const{clearCollection:o=!1,updateExisting:i=!0,idField:s="id"}=r,a=Ht(mt,"sites"),l=await Jt(a),c=new Map,u=new Map,d=new Map;l.forEach(w=>{const C=w.data();if(c.set(w.id,C),C.nom){const E=C.nom.toLowerCase().trim();u.set(E,{id:w.id,...C})}if(C.adresse&&C.ville&&C.codePostal){const E=`${C.adresse},${C.ville},${C.codePostal}`.toLowerCase().replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"");d.set(E,{id:w.id,...C})}});const f=e.map(w=>w.replace(/ë/g,"")),m=this.normalizeHeaders(f);let g=0,v=0,y=0;const b=500,x=n.length-1;for(let w=1;w<n.length;w+=b){const C=ud(mt);let E=0;const _=Math.min(w+b,n.length);for(let S=w;S<_;S++){const T=n[S];if(!T.trim())continue;const I=this.parseCSVLine(T),P={};m.forEach((R,k)=>{R&&I[k]&&(P[R]=this.normalizeValue(I[k].trim(),R))});let M=null;if(P.id&&(M=c.get(P.id)),!M&&P.nom){const R=P.nom.toLowerCase().trim();M=u.get(R)}if(!M&&P.adresse&&P.ville&&P.codePostal){const R=`${P.adresse},${P.ville},${P.codePostal}`.toLowerCase().replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"");M=d.get(R)}if(M){if(!i){v++;continue}if(!Object.keys(P).some(D=>P[D]!==M[D]&&P[D]!==void 0)){v++;continue}const k=un(mt,"sites",M.id);C.set(k,P),y++,E++}else{const R=un(Ht(mt,"sites"));C.set(R,P),g++,E++}}E>0&&(await C.commit(),console.log(`Lot de ${E} documents traité (${w}/${x})`))}return console.log(`
        Importation terminée:
        - ${g} nouveaux sites importés
        - ${y} sites mis à jour
        - ${v} sites ignorés (doublons ou sans changements)
      `),g+y}catch(o){throw console.error("Erreur lors du traitement des lignes:",o),o}}normalizeHeaders(e){console.log("Normalisation des en-têtes..."),console.log("En-têtes originaux:",e);const n={pole:"pole",pôle:"pole",pôles:"pole",poles:"pole",ple:"pole","p le":"pole","p.le":"pole","p?le":"pole",type:"type","type de site":"type","type site":"type",categorie:"type",catégorie:"type",nom:"nom","nom site":"nom",site:"nom","nom du site":"nom",denomination:"nom",dénomination:"nom",adresse:"adresse",adresses:"adresse",adr:"adresse","adresse site":"adresse","adresse complete":"adresse","adresse complète":"adresse",complement:"complementAdresse",complément:"complementAdresse","complement adresse":"complementAdresse","complément adresse":"complementAdresse","complement d'adresse":"complementAdresse","complément d'adresse":"complementAdresse",ville:"ville",commune:"ville",localite:"ville",localité:"ville",villes:"ville",cp:"codePostal","code postal":"codePostal",code_postal:"codePostal",codepostal:"codePostal","cp site":"codePostal",pays:"pays",country:"pays",nation:"pays",tel:"telephone",tél:"telephone",telephone:"telephone",téléphone:"telephone","num tel":"telephone",numéro:"telephone",email:"email","e-mail":"email",mail:"email",courriel:"email","adresse mail":"email",status:"statut",statut:"statut",etat:"statut",état:"statut",tournee:"tournees",tournée:"tournees",tournees:"tournees",tournées:"tournees",mi:"mi",responsable:"mi","responsable mi":"mi",bassin:"bassin",zone:"bassin",secteur:"bassin",id:"id",identifiant:"id",reference:"id",référence:"id","horaires lv":"horairesLV","horaire lv":"horairesLV","horaires semaine":"horairesLV","horaires sam":"horairesSamedi","horaire sam":"horairesSamedi","horaires samedi":"horairesSamedi"},r=e.map(o=>{const i=o.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim(),s=n[i];return s?(console.log(`En-tête normalisé: "${o}" -> "${s}"`),s):(console.log(`En-tête non mappé: "${o}" -> "${i}"`),i)});return console.log("En-têtes finaux après normalisation:",r),r}normalizeValue(e,n){if(!e)return"";let r=e.trim().replace(/[ëË]/g,"").replace(/\s+/g," ");switch(n.toLowerCase()){case"pole":r=r.replace(/^p[oôó]le\s*/i,"").replace(/^p\s*[oôó]le\s*/i,"").trim();break;case"type":const o=r.toLowerCase();o.includes("labo")||o.includes("lab")?r="Laboratoire":o.includes("site")?r="Site":o.includes("client")?r="Client":o.includes("point")?r="Point de collecte":r=r.charAt(0).toUpperCase()+r.slice(1).toLowerCase();break;case"ville":case"nom":r=r.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" ");break;case"codepostal":r=r.replace(/\D/g,"");break;case"telephone":r=r.replace(/\D/g,""),r.length===10&&(r=r.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"$1.$2.$3.$4.$5"));break;case"email":r=r.toLowerCase();break;case"adresse":r=r.replace(/\s+/g," ").replace(/,\s*/g,", ").replace(/\s*-\s*/g,"-").trim();break}return r}async importUserSpecificFormat(e,n={}){try{console.log("🔄 Importation avec le format spécifique de l'utilisateur...");const{clearCollection:r=!1,updateExisting:o=!0,idField:i="id"}=n,s=e.split(`
`).filter(v=>v.trim()!=="");if(s.length<2)throw new Error("Le fichier est vide ou ne contient que des en-têtes.");const a=s[0].split(";").map(v=>v.trim()),l=this.normalizeHeaders(a);console.log("En-têtes normalisés:",l);const c={pole:"pole",pôle:"pole",tournée:"tournees","type de site":"type",nom:"nom",adresse:"adresse","complément d'adresse":"complementAdresse",ville:"ville","code postal":"codePostal",pays:"pays","horaire d'ouverture - lundi - vendredi":"horairesLV","horaire d'ouverture - samedi -":"horairesSamedi",id:"id"},u={};l.forEach((v,y)=>{const b=c[v.toLowerCase()];b?(u[y]=b,console.log(`Mapped header "${v}" to field "${b}"`)):console.log(`No mapping found for header "${v}"`)});const d=[];for(let v=1;v<s.length;v++){const y=s[v].trim();if(!y)continue;const b=y.split(";"),x={pole:"",nom:"",type:"Laboratoire",adresse:"",ville:"",codePostal:"",telephone:"",email:"",codeBarres:"",tournees:[],codesPorte:"",coordonnees:"",statut:"actif",complementAdresse:"",pays:"France",horairesLV:"",horairesSamedi:""};let w=!1;for(let C=0;C<b.length;C++){const E=u[C];if(!E)continue;let _=b[C].trim();if(E==="tournees"&&_)_=[_];else if(E==="type"&&_){const S=_.toLowerCase();S.includes("labo")||S.includes("lab")?_="Laboratoire":S.includes("site")?_="Site":S.includes("client")?_="Client":S.includes("point")?_="Point de collecte":_=_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()}_!==""&&(x[E]=_,E==="nom"&&_&&(w=!0))}!w&&!x.nom&&x.adresse&&(x.nom=`Site - ${x.adresse}`,w=!0),w||x.id?d.push(x):console.warn(`⚠️ Ligne ${v+1} ignorée: aucun nom ou identifiant valide trouvé`)}if(d.length===0)throw new Error("Aucun document valide n'a pu être extrait du fichier.");console.log(`✅ ${d.length} sites valides extraits du fichier`),r&&await this.clearCollection("sites");const f=d.length;let m=0,g=0;for(;m<f;){const v=ud(mt),y=Math.min(500,f-m);for(let b=0;b<y;b++){const x=d[m+b],w=x[i];if(w&&o){const C=un(mt,"sites",w);v.set(C,x)}else{const C=Ht(mt,"sites"),E=un(C);v.set(E,x)}g++}await v.commit(),m+=y,console.log(`✅ Lot de ${y} sites importés (${m}/${f})`)}return console.log(`✅ Importation terminée: ${g} sites importés`),g}catch(r){throw console.error("❌ Erreur lors de l'importation avec le format spécifique:",r),r}}}const el=new oot,iot=()=>{const[t,e]=h.useState(""),[n,r]=h.useState("json"),[o,i]=h.useState(!1),[s,a]=h.useState(""),[l,c]=h.useState(null),[u,d]=h.useState({clearCollection:!1,updateExisting:!0}),[f,m]=h.useState(!1),[g,v]=h.useState(""),[y,b]=h.useState(""),x=["passages","sites","tournees","vehicules"],w=async()=>{try{if(i(!0),v(""),b(""),!t){b("Veuillez sélectionner une collection à exporter.");return}t==="all"?(n==="json"?await el.downloadAllCollectionsAsJSON():n==="csv"?await el.downloadAllCollectionsAsCSV():n==="zip"&&await el.generateCompleteBackup(),v("Toutes les collections ont été exportées avec succès.")):(n==="json"?await el.downloadCollectionAsJSON(t):n==="csv"&&await el.downloadCollectionAsCSV(t),v(`La collection ${t} a été exportée avec succès.`))}catch(_){console.error("Erreur lors de l'exportation:",_),b(`Erreur lors de l'exportation: ${_ instanceof Error?_.message:"Erreur inconnue"}`)}finally{i(!1)}},C=_=>{_.target.files&&_.target.files.length>0&&c(_.target.files[0])},E=async()=>{var _;try{if(m(!0),v(""),b(""),!l){b("Veuillez sélectionner un fichier à importer.");return}if(!(!s&&l.name.endsWith(".zip"))){if(!s){b("Veuillez sélectionner une collection cible.");return}}const S=(_=l.name.split(".").pop())==null?void 0:_.toLowerCase();if(!["zip","json","csv","txt"].includes(S||"")){b(`Format de fichier non pris en charge: ${S}. Veuillez utiliser un fichier .json, .csv, .txt ou .zip.`);return}try{let T=0;if(l.name.endsWith(".zip")){const I=await l.arrayBuffer(),P=await el.importFromZip(I,u),M=Object.values(P).reduce((R,k)=>R+k,0);v(`Importation réussie: ${M} documents importés dans ${Object.keys(P).length} collections.`)}else if(l.name.endsWith(".json")){let I;try{const P=await l.text();I=JSON.parse(P)}catch(P){console.error("Erreur lors de l'analyse du fichier JSON:",P),b(`Le fichier JSON est invalide et ne peut pas être analysé. Erreur: ${P instanceof Error?P.message:"Format JSON incorrect"}`);return}if(!Array.isArray(I)){b("Le fichier JSON doit contenir un tableau d'objets.");return}T=await el.importJSONToCollection(s,I,u),v(`Importation réussie: ${T} documents importés dans la collection ${s}.`)}else if(l.name.endsWith(".csv")||l.name.endsWith(".txt")){let I;try{if(I=await l.text(),!I||I.trim()===""){b("Le fichier est vide.");return}const P=I.split(`
`);if(P.length<1||P[0].trim()===""){b("Le fichier ne contient pas d'en-têtes valides.");return}console.log(`Fichier ${l.name.endsWith(".txt")?"TXT":"CSV"} chargé: ${l.name}, taille: ${l.size} octets, première ligne: ${P[0].substring(0,100)}...`)}catch(P){console.error(`Erreur lors de la lecture du fichier ${l.name.endsWith(".txt")?"TXT":"CSV"}:`,P),b(`Impossible de lire le fichier. Erreur: ${P instanceof Error?P.message:"Erreur de lecture"}`);return}s==="sites"?T=await el.importSitesFromCSV(I,{...u,isTxtFile:l.name.endsWith(".txt"),fileName:l.name}):T=await el.importCSVToCollection(s,I,u),v(`Importation réussie: ${T} documents importés dans la collection ${s}.`)}else b("Format de fichier non pris en charge. Veuillez utiliser un fichier .json, .csv, .txt ou .zip.")}catch(T){console.error("Erreur détaillée lors de l'importation:",T),T instanceof Error&&T.message.includes("indexOf is not a function")?b(`Erreur de format: Le fichier CSV contient probablement un format non standard ou des caractères spéciaux. 
            Veuillez vérifier que votre fichier est correctement formaté avec des séparateurs standards (virgules, points-virgules ou tabulations).
            Conseil: Ouvrez le fichier dans un éditeur de texte pour vérifier sa structure.`):b(`Erreur lors de l'importation: ${T instanceof Error?T.message:"Erreur inconnue"}`)}}catch(S){console.error("Erreur générale lors de l'importation:",S),b(`Erreur lors de l'importation: ${S instanceof Error?S.message:"Erreur inconnue"}`)}finally{m(!1)}};return p.jsxs(Ud,{maxWidth:"lg",sx:{mt:4,mb:4},children:[p.jsxs(Ne,{variant:"h4",component:"h1",gutterBottom:!0,children:["Synchronisation SharePoint",p.jsx(mg,{title:"Cette fonctionnalité permet d'exporter et d'importer des données entre Firebase et SharePoint via des fichiers intermédiaires.",children:p.jsx(wr,{size:"small",sx:{ml:1},children:p.jsx(iie,{})})})]}),p.jsx(gr,{severity:"info",sx:{mb:3},children:p.jsx(Ne,{variant:"body1",children:"Cette interface permet de synchroniser manuellement les données entre Firebase et SharePoint. En raison des limitations d'authentification, la synchronisation se fait via des fichiers intermédiaires."})}),g&&p.jsx(gr,{severity:"success",sx:{mb:2},children:g}),y&&p.jsx(gr,{severity:"error",sx:{mb:2},children:y}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsxs(bn,{sx:{p:3,height:"100%"},children:[p.jsxs(Ne,{variant:"h5",component:"h2",gutterBottom:!0,children:["Exporter des données",p.jsx(mg,{title:"Exporter les données de Firebase vers un fichier que vous pourrez ensuite importer dans SharePoint.",children:p.jsx(wr,{size:"small",sx:{ml:1},children:p.jsx(fO,{})})})]}),p.jsx(ua,{sx:{my:2}}),p.jsxs(qd,{fullWidth:!0,margin:"normal",children:[p.jsx(Kd,{children:"Collection à exporter"}),p.jsxs(hu,{value:t,onChange:_=>e(_.target.value),label:"Collection à exporter",children:[p.jsx(vr,{value:"",children:"Sélectionner une collection"}),x.map(_=>p.jsx(vr,{value:_,children:_},_)),p.jsx(vr,{value:"all",children:"Toutes les collections"})]})]}),p.jsxs(qd,{fullWidth:!0,margin:"normal",children:[p.jsx(Kd,{children:"Format d'exportation"}),p.jsxs(hu,{value:n,onChange:_=>r(_.target.value),label:"Format d'exportation",children:[p.jsx(vr,{value:"json",children:"JSON"}),p.jsx(vr,{value:"csv",children:"CSV"}),t==="all"&&p.jsx(vr,{value:"zip",children:"ZIP (toutes les collections en JSON)"})]})]}),p.jsx(Mt,{variant:"contained",color:"primary",fullWidth:!0,startIcon:o?p.jsx(Hi,{size:24,color:"inherit"}):p.jsx(oie,{}),onClick:w,disabled:o||!t,sx:{mt:2},children:o?"Exportation en cours...":"Exporter"}),p.jsxs(jm,{sx:{mt:2},children:[p.jsx(zm,{expandIcon:p.jsx(S0,{}),children:p.jsx(Ne,{children:"Instructions pour SharePoint"})}),p.jsx(Lm,{children:p.jsxs(Ne,{variant:"body2",children:["1. Exportez les données en utilisant le bouton ci-dessus.",p.jsx("br",{}),"2. Connectez-vous à votre site SharePoint.",p.jsx("br",{}),"3. Accédez à la bibliothèque de documents où vous souhaitez stocker les données.",p.jsx("br",{}),'4. Cliquez sur "Charger" et sélectionnez le fichier exporté.',p.jsx("br",{}),"5. Vérifiez que le fichier a été correctement chargé."]})})]})]})}),p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsxs(bn,{sx:{p:3,height:"100%"},children:[p.jsxs(Ne,{variant:"h5",component:"h2",gutterBottom:!0,children:["Importer des données",p.jsx(mg,{title:"Importer des données depuis un fichier SharePoint vers Firebase.",children:p.jsx(wr,{size:"small",sx:{ml:1},children:p.jsx(fO,{})})})]}),p.jsx(ua,{sx:{my:2}}),p.jsxs(qd,{fullWidth:!0,margin:"normal",children:[p.jsx(Kd,{children:"Collection cible"}),p.jsxs(hu,{value:s,onChange:_=>a(_.target.value),label:"Collection cible",disabled:l==null?void 0:l.name.endsWith(".zip"),children:[p.jsx(vr,{value:"",children:"Sélectionner une collection"}),x.map(_=>p.jsx(vr,{value:_,children:_},_))]}),(l==null?void 0:l.name.endsWith(".zip"))&&p.jsx(Ne,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"Pour les fichiers ZIP, la collection est déterminée automatiquement."})]}),p.jsxs(vt,{sx:{mt:2},children:[p.jsxs(Mt,{variant:"outlined",component:"label",fullWidth:!0,startIcon:p.jsx(dO,{}),children:["Sélectionner un fichier",p.jsx("input",{type:"file",hidden:!0,accept:".json,.csv,.zip,.txt",onChange:C})]}),l&&p.jsxs(Ne,{variant:"body2",sx:{mt:1},children:["Fichier sélectionné: ",l.name]}),p.jsx(Ne,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Formats supportés: JSON, CSV, ZIP, et TXT (pour les sites)"})]}),p.jsxs(vt,{sx:{mt:2},children:[p.jsx(T9,{control:p.jsx(_x,{checked:u.clearCollection,onChange:_=>d({...u,clearCollection:_.target.checked})}),label:"Vider la collection avant l'importation"}),p.jsx(T9,{control:p.jsx(_x,{checked:u.updateExisting,onChange:_=>d({...u,updateExisting:_.target.checked})}),label:"Mettre à jour les documents existants"})]}),p.jsx(Mt,{variant:"contained",color:"secondary",fullWidth:!0,startIcon:f?p.jsx(Hi,{size:24,color:"inherit"}):p.jsx(dO,{}),onClick:E,disabled:f||!l||!s&&!(l!=null&&l.name.endsWith(".zip")),sx:{mt:2},children:f?"Importation en cours...":"Importer"}),p.jsxs(jm,{sx:{mt:2},children:[p.jsx(zm,{expandIcon:p.jsx(S0,{}),children:p.jsx(Ne,{children:"Instructions pour SharePoint"})}),p.jsx(Lm,{children:p.jsxs(Ne,{variant:"body2",children:["1. Connectez-vous à votre site SharePoint.",p.jsx("br",{}),"2. Accédez à la bibliothèque de documents où sont stockées les données.",p.jsx("br",{}),"3. Téléchargez le fichier que vous souhaitez importer.",p.jsx("br",{}),"4. Revenez à cette page et sélectionnez le fichier téléchargé.",p.jsx("br",{}),"5. Choisissez la collection cible et les options d'importation.",p.jsx("br",{}),`6. Cliquez sur "Importer" pour lancer l'importation.`]})})]}),p.jsxs(jm,{sx:{mt:2},children:[p.jsx(zm,{expandIcon:p.jsx(S0,{}),children:p.jsx(Ne,{children:"Format CSV/TXT attendu"})}),p.jsxs(Lm,{children:[p.jsxs(Ne,{variant:"body2",gutterBottom:!0,children:[p.jsx("strong",{children:"Pour l'importation des sites"}),", votre fichier CSV ou TXT doit contenir les colonnes suivantes (séparées par des virgules, des points-virgules ou des tabulations) :"]}),p.jsx(Ne,{variant:"body2",component:"div",sx:{mt:1,mb:2},children:p.jsx("code",{style:{display:"block",whiteSpace:"pre-wrap",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"0.85rem"},children:"PÔLE,NOM,TYPE,ADRESSE,VILLE,CODE POSTAL,TELEPHONE,EMAIL,CODE-BARRE,TOURNÉES,CODE PORTE,COORDONNÉES,STATUT"})}),p.jsx(Ne,{variant:"body2",gutterBottom:!0,children:p.jsx("strong",{children:"Exemple de ligne valide :"})}),p.jsx(Ne,{variant:"body2",component:"div",sx:{mt:1,mb:2},children:p.jsx("code",{style:{display:"block",whiteSpace:"pre-wrap",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"0.85rem"},children:'Pôle Est,Laboratoire Central,Laboratoire,15 Rue des Sciences,Paris,75001,0123456789,lab@example.com,LAB001,"tournee1,tournee2",CODE123,,ACTIF'})}),p.jsx(Ne,{variant:"body2",gutterBottom:!0,children:p.jsx("strong",{children:"Notes importantes :"})}),p.jsxs("ul",{style:{fontSize:"0.875rem",paddingLeft:"20px"},children:[p.jsx("li",{children:"Assurez-vous que chaque site est sur une ligne distincte"}),p.jsx("li",{children:"Les tournées peuvent être séparées par des virgules à l'intérieur de guillemets"}),p.jsx("li",{children:`Si votre fichier provient d'Excel, utilisez "Enregistrer sous" et choisissez le format CSV ou TXT`}),p.jsx("li",{children:"Vérifiez que votre fichier utilise un séparateur standard (virgule, point-virgule ou tabulation)"}),p.jsx("li",{children:"Si vous avez des problèmes, essayez d'ouvrir votre fichier dans un éditeur de texte pour vérifier sa structure"})]}),p.jsxs(Ne,{variant:"body2",sx:{mt:2},color:"primary",children:[p.jsx("strong",{children:"Recommandation pour les fichiers TXT :"}),' Pour une meilleure compatibilité, exportez depuis Excel en choisissant "Texte (séparateur : tabulation) (*.txt)". Les fichiers TXT utilisent par défaut la tabulation comme séparateur, ce qui évite les problèmes avec les virgules ou points-virgules dans les données.']})]})]}),p.jsxs(jm,{sx:{mt:2},children:[p.jsx(zm,{expandIcon:p.jsx(S0,{}),children:p.jsx(Ne,{children:"Résolution des problèmes d'importation"})}),p.jsxs(Lm,{children:[p.jsx(Ne,{variant:"body2",gutterBottom:!0,children:p.jsx("strong",{children:'Erreur "n.indexOf is not a function"'})}),p.jsx(Ne,{variant:"body2",paragraph:!0,children:"Cette erreur se produit généralement lorsque le format du fichier CSV n'est pas standard. Voici comment la résoudre :"}),p.jsxs("ol",{style:{fontSize:"0.875rem",paddingLeft:"20px"},children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Vérifiez le format du fichier"})," : Ouvrez votre fichier CSV ou TXT dans un éditeur de texte (comme Notepad) et vérifiez que :",p.jsxs("ul",{style:{marginTop:"4px"},children:[p.jsx("li",{children:"La première ligne contient bien les en-têtes des colonnes"}),p.jsx("li",{children:"Les colonnes sont séparées par des virgules, des points-virgules ou des tabulations"}),p.jsx("li",{children:"Il n'y a pas de caractères spéciaux ou de formatage particulier"})]})]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Depuis Excel"})," : Si vous exportez depuis Excel, suivez ces étapes :",p.jsxs("ul",{style:{marginTop:"4px"},children:[p.jsx("li",{children:'Sélectionnez "Fichier" > "Enregistrer sous"'}),p.jsx("li",{children:'Choisissez "CSV (séparateur : point-virgule) (*.csv)" ou "Texte (séparateur : tabulation) (*.txt)"'}),p.jsx("li",{children:'Cliquez sur "Enregistrer"'}),p.jsx("li",{children:"Ignorez les avertissements sur les fonctionnalités incompatibles"})]})]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Créez un nouveau fichier"})," : Si les solutions ci-dessus ne fonctionnent pas, créez un nouveau fichier CSV ou TXT :",p.jsxs("ul",{style:{marginTop:"4px"},children:[p.jsx("li",{children:"Ouvrez un éditeur de texte vide (comme Notepad)"}),p.jsx("li",{children:"Copiez-collez les en-têtes sur la première ligne, séparés par des virgules ou des tabulations"}),p.jsx("li",{children:"Ajoutez vos données sur les lignes suivantes, en respectant le même format"}),p.jsx("li",{children:"Enregistrez le fichier avec l'extension .csv ou .txt"})]})]})]}),p.jsxs(Ne,{variant:"body2",sx:{mt:2},paragraph:!0,children:[p.jsx("strong",{children:"Exemple de fichier CSV/TXT valide"})," (ouvert dans un éditeur de texte) :"]}),p.jsx(Ne,{variant:"body2",component:"div",sx:{mt:1,mb:2},children:p.jsxs("code",{style:{display:"block",whiteSpace:"pre-wrap",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"0.85rem"},children:["PÔLE,NOM,TYPE,ADRESSE,VILLE,CODE POSTAL,TELEPHONE,EMAIL,CODE-BARRE,TOURNÉES,CODE PORTE,COORDONNÉES,STATUT",p.jsx("br",{}),'Pôle Est,Laboratoire Central,Laboratoire,15 Rue des Sciences,Paris,75001,0123456789,lab@example.com,LAB001,"tournee1,tournee2",CODE123,,ACTIF',p.jsx("br",{}),"Pôle Ouest,Entrepôt Principal,Entrepôt,25 Avenue du Commerce,Lyon,69002,0987654321,entrepot@example.com,ENT002,tournee3,CODE456,,ACTIF"]})}),p.jsx(Ne,{variant:"body2",gutterBottom:!0,children:p.jsx("strong",{children:`Erreur "Aucun document valide n'a pu être extrait du fichier"`})}),p.jsx(Ne,{variant:"body2",paragraph:!0,children:"Cette erreur peut être causée par des problèmes d'encodage, particulièrement avec les caractères accentués. Voici comment la résoudre :"}),p.jsxs("ol",{style:{fontSize:"0.875rem",paddingLeft:"20px"},children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Vérifiez l'encodage du fichier"})," : Assurez-vous que votre fichier est enregistré en UTF-8 :",p.jsxs("ul",{style:{marginTop:"4px"},children:[p.jsx("li",{children:'Dans Excel, utilisez "Enregistrer sous" et sélectionnez "CSV UTF-8 (délimité par des virgules) (*.csv)"'}),p.jsx("li",{children:'Dans Notepad, utilisez "Enregistrer sous" et sélectionnez "UTF-8" dans le menu déroulant "Encodage"'})]})]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Vérifiez les en-têtes"})," : Assurez-vous que vos en-têtes correspondent aux noms attendus :",p.jsxs("ul",{style:{marginTop:"4px"},children:[p.jsx("li",{children:'Les en-têtes doivent contenir au moins "NOM" ou "CODE-BARRE" pour identifier chaque site'}),p.jsx("li",{children:'Vérifiez que les accents sont correctement encodés (ex: "PÔLE" et non "PLE")'})]})]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Utilisez un format TXT avec tabulations"})," : Les fichiers TXT avec tabulations sont souvent plus fiables :",p.jsxs("ul",{style:{marginTop:"4px"},children:[p.jsx("li",{children:'Dans Excel, utilisez "Enregistrer sous" et sélectionnez "Texte (séparateur : tabulation) (*.txt)"'}),p.jsx("li",{children:"Cela évite les problèmes avec les virgules ou points-virgules dans les données"})]})]})]})]})]})]})})]})]})},sot={dashboard:"Tableau de bord",passages:"Passages",sites:"Sites",tournees:"Tournées",vehicules:"Véhicules",carte:"Carte",userManagement:"Gestion des utilisateurs",administration:"Administration"},aot=["dashboard","passages","sites","tournees","vehicules","carte","userManagement","administration"],lot=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(null),[o,i]=h.useState({}),[s,a]=h.useState(!0),[l,c]=h.useState(!1),[u,d]=h.useState(null);h.useEffect(()=>{(async()=>{try{a(!0);const b=await Sl.getInstance().getRoles();e(b),b.length>0&&!n&&(r(b[0]),i(b[0].pageAccess||{}))}catch(y){console.error("Erreur lors du chargement des rôles:",y),d({text:"Impossible de charger les rôles. Veuillez réessayer.",type:"error"})}finally{a(!1)}})()},[]);const f=v=>{r(v),i(v.pageAccess||{})},m=v=>{i(y=>({...y,[v]:!y[v]}))},g=async()=>{if(n)try{c(!0);const v=Sl.getInstance();await v.updatePageAccess(n.id,o),await v.refreshRoles(),d({text:"Accès aux pages mis à jour avec succès ! Veuillez vous déconnecter et vous reconnecter pour que les changements prennent effet.",type:"success"});const y={...n,pageAccess:o};r(y),e(b=>b.map(x=>x.id===y.id?y:x)),setTimeout(()=>{d(null)},5e3)}catch(v){console.error("Erreur lors de la mise à jour des accès aux pages:",v),d({text:"Erreur lors de la mise à jour des accès aux pages.",type:"error"})}finally{c(!1)}};return s?p.jsx("div",{className:"page-access-loading",children:"Chargement des rôles..."}):p.jsxs("div",{className:"page-access-container",children:[p.jsxs("div",{className:"page-access-header",children:[p.jsx("h1",{children:"Gestion des Accès aux Pages"}),p.jsx("p",{children:"Configurez les autorisations d'accès pour chaque rôle"})]}),p.jsxs("div",{className:"page-access-content",children:[p.jsxs("div",{className:"role-selector",children:[p.jsx("h3",{children:"Sélectionnez un rôle"}),p.jsx("div",{className:"role-buttons",children:t.map(v=>p.jsxs("button",{className:`role-button ${(n==null?void 0:n.id)===v.id?"active":""}`,onClick:()=>f(v),children:[v.name,v.isAdmin&&p.jsx("span",{className:"admin-badge",children:"Admin"})]},v.id))})]}),n&&p.jsxs("div",{className:"page-access-panel",children:[p.jsxs("h2",{children:["Accès aux pages pour ",n.name]}),p.jsx("div",{className:"page-access-cards",children:aot.map(v=>p.jsx("div",{className:"page-card",children:p.jsxs("div",{className:"page-card-content",children:[p.jsx("div",{className:"page-name",children:sot[v]}),p.jsxs("label",{className:"toggle",children:[p.jsx("input",{type:"checkbox",checked:o[v]||!1,onChange:()=>m(v)}),p.jsx("span",{className:"toggle-slider"})]})]})},v))}),p.jsx("div",{className:"action-buttons",children:p.jsx("button",{className:"save-button",onClick:g,disabled:l,children:l?"Enregistrement...":"Enregistrer les accès"})}),u&&p.jsx("div",{className:`message ${u.type}`,children:u.text})]})]})]})},pO=[{id:"users.view",name:"Lecture des utilisateurs",description:"Voir la liste des utilisateurs (page utilisateurs)",category:"Utilisateurs"},{id:"users.create",name:"Création d'utilisateurs",description:"Créer de nouveaux utilisateurs",category:"Utilisateurs"},{id:"users.edit",name:"Modification des utilisateurs",description:"Modifier les informations des utilisateurs",category:"Utilisateurs"},{id:"users.delete",name:"Suppression des utilisateurs",description:"Supprimer des utilisateurs",category:"Utilisateurs"},{id:"sites.view",name:"Lecture des sites",description:"Voir la liste des sites (page sites)",category:"Sites"},{id:"sites.create",name:"Création de sites",description:"Créer de nouveaux sites",category:"Sites"},{id:"sites.edit",name:"Modification des sites",description:"Modifier les informations des sites",category:"Sites"},{id:"sites.delete",name:"Suppression des sites",description:"Supprimer des sites",category:"Sites"},{id:"tournees.view",name:"Lecture des tournées",description:"Voir la liste des tournées (page tournées)",category:"Tournées"},{id:"tournees.create",name:"Création de tournées",description:"Créer de nouvelles tournées",category:"Tournées"},{id:"tournees.edit",name:"Modification des tournées",description:"Modifier les tournées",category:"Tournées"},{id:"tournees.delete",name:"Suppression des tournées",description:"Supprimer des tournées",category:"Tournées"},{id:"passages.view",name:"Lecture des passages",description:"Voir les passages (page passages)",category:"Passages"},{id:"passages.create",name:"Création de passages",description:"Créer des passages",category:"Passages"},{id:"passages.edit",name:"Modification des passages",description:"Modifier les passages",category:"Passages"},{id:"passages.delete",name:"Suppression des passages",description:"Supprimer des passages",category:"Passages"},{id:"vehicules.view",name:"Lecture des véhicules",description:"Voir la liste des véhicules (page véhicules)",category:"Véhicules"},{id:"vehicules.create",name:"Création de véhicules",description:"Créer de nouveaux véhicules",category:"Véhicules"},{id:"vehicules.edit",name:"Modification des véhicules",description:"Modifier les véhicules",category:"Véhicules"},{id:"vehicules.delete",name:"Suppression des véhicules",description:"Supprimer des véhicules",category:"Véhicules"},{id:"carte.view",name:"Accès à la carte",description:"Voir et utiliser la carte interactive (page carte)",category:"Carte"},{id:"carte.edit",name:"Modification de la carte",description:"Modifier les paramètres de la carte",category:"Carte"},{id:"dashboard.view",name:"Accès au tableau de bord",description:"Voir et utiliser le tableau de bord (page principale)",category:"Fonctionnalités"},{id:"init-passages.view",name:"Initialisation des passages",description:"Accéder à la page d'initialisation des passages",category:"Fonctionnalités"},{id:"configuration_systeme",name:"Configuration système",description:"Accéder aux paramètres système (page admin)",category:"Administration"}],cot=[{id:"administrateur",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:pO.map(t=>t.id),isDefault:!0,isAdmin:!0},{id:"utilisateur",name:"Utilisateur",description:"Accès standard aux fonctionnalités de base",permissions:["passages.view","passages.create","passages.edit","sites.view","sites.create","sites.edit","tournees.view","tournees.create","tournees.edit","vehicules.view","vehicules.create","vehicules.edit","dashboard.view","init-passages.view","carte.view"],isDefault:!0},{id:"coursier",name:"Coursier",description:"Accès limité aux passages",permissions:["passages.view","passages.create","passages.edit"],isDefault:!0}],uot=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(null),[o,i]=h.useState(!0),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState({id:"",name:"",description:"",permissions:[]}),[f,m]=h.useState("permissions"),g=Sl.getInstance();h.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0),a(null),console.log("Chargement des rôles...");const _=await g.getRoles();if(console.log("Rôles existants:",_),_.length===0){console.log("Aucun rôle trouvé, initialisation des rôles par défaut..."),await y();const S=await g.getRoles();e(S)}else console.log("Rôles chargés avec succès:",_),e(_)}catch(_){console.error("Erreur lors du chargement des rôles:",_),a("Erreur lors du chargement des rôles")}finally{i(!1)}},y=async()=>{try{console.log("Démarrage de l'initialisation des rôles par défaut...");for(const _ of cot)try{const S=un(mt,"roles",_.id);(await si(S)).exists()?console.log(`Le rôle ${_.name} existe déjà.`):(console.log(`Création du rôle ${_.name}...`),await jb(S,_),console.log(`Rôle ${_.name} créé avec succès.`))}catch(S){console.error(`Erreur lors de la création du rôle ${_.name}:`,S)}}catch(_){throw console.error("Erreur lors de l'initialisation des rôles par défaut:",_),_}},b=_=>{r(_)},x=async(_,S)=>{console.log("handlePermissionToggle appelé avec:",{roleId:_,permissionId:S});const T=t.find(I=>I.id===_);if(!T){console.error("Rôle non trouvé:",_);return}try{a(null);const I=[...T.permissions],P=I.includes(S)?I.filter(D=>D!==S):[...I,S],M={...T,permissions:P};e(D=>D.map(A=>A.id===_?M:A)),r(M),await g.updateRolePermissions(_,P);const R=await g.getRoles();e(R);const k=R.find(D=>D.id===_);k&&r(k)}catch(I){console.error("Erreur lors de la mise à jour des permissions:",I),a(`Erreur lors de la mise à jour de la permission : ${I.message}`),await v()}},w=()=>{c(!0),d({id:"",name:"",description:"",permissions:[]})},C=async()=>{if(!u.name||!u.description){a("Le nom et la description sont requis");return}try{const _=u.name.toLowerCase().replace(/\s+/g,"_"),S={...u,id:_},T=un(mt,"roles",_);await jb(T,S),e([...t,S]),c(!1),d({id:"",name:"",description:"",permissions:[]})}catch{a("Erreur lors de la création du rôle")}},E=async _=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce rôle ?"))try{const S=un(mt,"roles",_);await Go(S),e(t.filter(T=>T.id!==_)),r(null)}catch{a("Erreur lors de la suppression du rôle")}};return o?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Chargement des rôles..."})]}):p.jsxs("div",{className:"role-management",children:[p.jsxs("div",{className:"roles-header",children:[p.jsx("h1",{children:"Gestion des Rôles et Permissions"}),p.jsx("button",{className:"add-role-button",onClick:w,children:"Ajouter un nouveau rôle"})]}),p.jsxs("div",{className:"tab-navigation",children:[p.jsx("button",{className:`tab-button ${f==="permissions"?"active":""}`,onClick:()=>m("permissions"),children:"Permissions"}),p.jsx("button",{className:`tab-button ${f==="pageAccess"?"active":""}`,onClick:()=>m("pageAccess"),children:"Accès aux pages"})]}),f==="permissions"?p.jsxs("div",{className:"permissions-content",children:[p.jsxs("div",{className:"roles-list",children:[p.jsx("div",{className:"roles-header",children:p.jsx("h3",{children:"Rôles disponibles"})}),p.jsx("div",{className:"roles-grid",children:t.map(_=>p.jsxs("div",{className:`role-card ${(n==null?void 0:n.id)===_.id?"selected":""}`,onClick:()=>b(_),children:[p.jsx("h4",{children:_.name}),p.jsx("p",{children:_.description}),p.jsxs("div",{className:"permission-count",children:[_.permissions.length," permissions"]}),_.isDefault?p.jsx("div",{className:"default-badge",children:"Rôle par défaut"}):p.jsx("button",{className:"delete-role-button",onClick:S=>{S.stopPropagation(),E(_.id)},title:"Supprimer ce rôle","aria-label":"Supprimer ce rôle",children:p.jsx("i",{className:"fas fa-trash"})})]},_.id))})]}),l?p.jsxs("div",{className:"role-details",children:[p.jsxs("div",{className:"role-header",children:[p.jsx("h3",{children:"Nouveau rôle"}),p.jsxs("div",{className:"edit-actions",children:[p.jsxs("button",{className:"save-button",onClick:C,children:[p.jsx("i",{className:"fas fa-save"})," Enregistrer"]}),p.jsxs("button",{className:"cancel-button",onClick:()=>c(!1),children:[p.jsx("i",{className:"fas fa-times"})," Annuler"]})]})]}),p.jsxs("div",{className:"role-form",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Nom du rôle"}),p.jsx("input",{type:"text",value:u.name,onChange:_=>d({...u,name:_.target.value}),placeholder:"Nom du rôle"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:u.description,onChange:_=>d({...u,description:_.target.value}),placeholder:"Description du rôle"})]})]}),p.jsxs("div",{className:"permissions-section",children:[p.jsx("h4",{children:"Permissions"}),Object.entries(pO.reduce((_,S)=>(_[S.category]||(_[S.category]=[]),_[S.category].push(S),_),{})).map(([_,S])=>p.jsxs("div",{className:"permission-category",children:[p.jsx("h5",{children:_}),p.jsx("div",{className:"permissions-grid",children:S.map(T=>p.jsxs("div",{className:`permission-card ${u.permissions.includes(T.id)?"active":""} editable`,onClick:()=>{const I=u.permissions.includes(T.id)?u.permissions.filter(P=>P!==T.id):[...u.permissions,T.id];d({...u,permissions:I})},children:[p.jsxs("div",{className:"permission-header",children:[p.jsx("span",{className:"permission-name",children:T.name}),u.permissions.includes(T.id)&&p.jsx("i",{className:"fas fa-check"})]}),p.jsx("p",{className:"permission-description",children:T.description})]},T.id))})]},_))]})]}):n&&p.jsxs("div",{className:"role-details",children:[p.jsx("div",{className:"role-header",children:p.jsx("h3",{children:n.name})}),p.jsx("div",{className:"role-description",children:p.jsx("p",{children:n.description})}),p.jsxs("div",{className:"permissions-section",children:[p.jsx("h4",{children:"Permissions"}),Object.entries(pO.reduce((_,S)=>(_[S.category]||(_[S.category]=[]),_[S.category].push(S),_),{})).map(([_,S])=>p.jsxs("div",{className:"permission-category",children:[p.jsx("h5",{children:_}),p.jsx("div",{className:"permissions-grid",children:S.map(T=>p.jsxs("div",{className:`permission-card ${n.permissions.includes(T.id)?"active":""} editable`,onClick:I=>{I.preventDefault(),console.log("Clic sur la permission:",T.id),x(n.id,T.id)},title:"Cliquer pour activer/désactiver cette permission",children:[p.jsxs("div",{className:"permission-header",children:[p.jsx("span",{className:"permission-name",children:T.name}),n.permissions.includes(T.id)&&p.jsx("i",{className:"fas fa-check"})]}),p.jsx("p",{className:"permission-description",children:T.description})]},T.id))})]},_))]})]})]}):p.jsx(lot,{}),s&&p.jsx("div",{className:"error-message",children:s})]})},dot=[{name:"Rouge",value:"#ff3b30"},{name:"Jaune",value:"#ffcc00"},{name:"Vert",value:"#34c759"},{name:"Cyan",value:"#00c7be"},{name:"Bleu",value:"#007aff"},{name:"Magenta",value:"#af52de"},{name:"Rose",value:"#ff2d55"},{name:"Orange",value:"#ff9500"},{name:"Violet",value:"#5856d6"},{name:"Gris",value:"#8e8e93"},{name:"Noir",value:"#000000"}],Pk=[{name:"Cercle",value:"circle"},{name:"Carré",value:"square"},{name:"Triangle",value:"triangle"},{name:"Flèche fermée",value:"forward arrow"},{name:"Flèche ouverte",value:"open arrow"},{name:"Flèche arrière ouverte",value:"backward open arrow"},{name:"Goutte d'eau",value:"droplet"},{name:"Épingle",value:"pin"},{name:"Étoile",value:"star"},{name:"Losange",value:"diamond"},{name:"Hexagone",value:"hexagon"},{name:"Croix",value:"cross"}],fot=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(!0),[o,i]=h.useState(null),[s,a]=h.useState(!1),[l,c]=h.useState({}),[u,d]=h.useState({}),[f,m]=h.useState([]),[g,v]=h.useState(!1);h.useEffect(()=>{y()},[]),h.useEffect(()=>{g?m(t.map(A=>A.id)):f.length===t.length&&t.length>0&&m([])},[g,t]);const y=async()=>{try{r(!0);const A=Ht(mt,"markerPreferences");let O=(await Jt(A)).docs.map(L=>({id:L.id,...L.data()}));O.length===0?O=await x():O=await b(O),e(O);const j={};O.forEach(L=>{j[L.id]=L.color}),d(j)}catch(A){console.error("Erreur lors de la récupération des préférences de marqueurs:",A),i("Erreur lors de la récupération des préférences de marqueurs")}finally{r(!1)}},b=async A=>{const N={};A.forEach(L=>{const z=L.siteType.toLowerCase().trim();N[z]||(N[z]=[]),N[z].push(L)});const O=[],j=[...A];for(const L in N){const z=N[L];if(z.length>1){const[V,...W]=z;for(const Y of W)try{const U=un(mt,"markerPreferences",Y.id);await Go(U),O.push(Y);const q=j.findIndex(K=>K.id===Y.id);q!==-1&&j.splice(q,1)}catch(U){console.error(`Erreur lors de la suppression du doublon ${Y.id}:`,U)}}}return O.length>0&&console.log(`${O.length} doublons de préférences ont été supprimés.`),j},x=async()=>{const A=[{siteType:"Laboratoire",color:"#ff3b30",icon:"droplet",name:"Laboratoire",apercu:"droplet"},{siteType:"Clinique",color:"#ffcc00",icon:"circle",name:"Clinique",apercu:"circle"},{siteType:"Plateau technique",color:"#34c759",icon:"square",name:"Plateau technique",apercu:"square"},{siteType:"Point de collecte",color:"#00c7be",icon:"triangle",name:"Point de collecte",apercu:"triangle"},{siteType:"Etablissement de santé",color:"#007aff",icon:"forward arrow",name:"Établissement de santé",apercu:"forward arrow"},{siteType:"Ehpad",color:"#af52de",icon:"star",name:"Ehpad",apercu:"star"},{siteType:"Vétérinaire",color:"#ff2d55",icon:"pin",name:"Vétérinaire",apercu:"pin"}],N=[];for(const O of A)try{const j=Ht(mt,"markerPreferences"),L=wn(j,Dr("siteType","==",O.siteType)),z=await Jt(L);if(z.empty){const V=await os(Ht(mt,"markerPreferences"),O);N.push({id:V.id,...O})}else z.docs.forEach(V=>{N.push({id:V.id,...V.data()})})}catch(j){console.error("Erreur lors de la création des préférences par défaut:",j)}return N},w=()=>{if(s)c({}),m([]),v(!1);else{const A={};t.forEach(N=>{A[N.id]={...N}}),c(A)}a(!s)},C=async()=>{try{r(!0);for(const[A,N]of Object.entries(l)){const O=un(mt,"markerPreferences",A);await Yo(O,{color:N.color,icon:N.icon,name:N.name,apercu:N.icon})}await y(),a(!1),c({}),m([]),v(!1)}catch(A){console.error("Erreur lors de la sauvegarde des préférences:",A),i("Erreur lors de la sauvegarde des préférences")}finally{r(!1)}},E=(A,N)=>{c({...l,[A]:{...l[A],color:N}}),d({...u,[A]:N})},_=(A,N)=>{c({...l,[A]:{...l[A],icon:N}})},S=(A,N)=>{c({...l,[A]:{...l[A],name:N}})},T=A=>{f.includes(A)?(m(f.filter(N=>N!==A)),v(!1)):(m([...f,A]),f.length+1===t.length&&v(!0))},I=()=>{v(!g)},P=async()=>{if(f.length===0)return;const A=`Êtes-vous sûr de vouloir supprimer ${f.length} préférence(s) de marqueur ?`;if(window.confirm(A))try{r(!0);for(const N of f){const O=un(mt,"markerPreferences",N);await Go(O)}await y(),m([]),v(!1)}catch(N){console.error("Erreur lors de la suppression des préférences:",N),i("Erreur lors de la suppression des préférences")}finally{r(!1)}},M=async()=>{try{r(!0);const A={siteType:"",color:"#007aff",icon:"droplet",name:"Nouveau type",apercu:"droplet"},N=await os(Ht(mt,"markerPreferences"),A);await y(),s||w()}catch(A){console.error("Erreur lors de l'ajout d'une nouvelle préférence:",A),i("Erreur lors de l'ajout d'une nouvelle préférence")}finally{r(!1)}},R=A=>{var L;const N=s&&u[A.id]||A.color,O=s&&((L=l[A.id])==null?void 0:L.icon)||A.icon;let j="";switch(O){case"droplet":j="fas fa-tint";break;case"circle":j="fas fa-circle";break;case"square":j="fas fa-square";break;case"triangle":j="fas fa-caret-up";break;case"forward arrow":j="fas fa-arrow-up";break;case"open arrow":j="far fa-caret-square-up";break;case"backward open arrow":j="far fa-caret-square-down";break;case"star":j="fas fa-star";break;case"pin":j="fas fa-map-marker-alt";break;case"gem":j="fas fa-gem";break;case"stop":j="fas fa-stop";break;case"cross":j="fas fa-times";break;case"diamond":j="fas fa-gem";break;case"hexagon":j="fas fa-stop";break;default:j="fas fa-tint"}return p.jsx("div",{className:"marker-preview",style:{color:N},children:p.jsx("i",{className:j})})},k=async()=>{if(window.confirm("Êtes-vous sûr de vouloir réinitialiser toutes les préférences de marqueurs aux valeurs par défaut ? Cette action supprimera toutes les personnalisations existantes."))try{r(!0);const N=Ht(mt,"markerPreferences"),O=await Jt(N);for(const j of O.docs)await Go(j.ref);await x(),await y(),m([]),v(!1),s&&(a(!1),c({}))}catch(N){console.error("Erreur lors de la réinitialisation des préférences:",N),i("Erreur lors de la réinitialisation des préférences")}finally{r(!1)}},D=A=>{let N="";switch(A){case"droplet":N="fas fa-tint";break;case"circle":N="fas fa-circle";break;case"square":N="fas fa-square";break;case"triangle":N="fas fa-caret-up";break;case"forward arrow":N="fas fa-arrow-up";break;case"open arrow":N="far fa-caret-square-up";break;case"backward open arrow":N="far fa-caret-square-down";break;case"star":N="fas fa-star";break;case"pin":N="fas fa-map-marker-alt";break;case"diamond":N="fas fa-gem";break;case"hexagon":N="fas fa-stop";break;case"cross":N="fas fa-times";break;default:N="fas fa-tint"}return p.jsx("i",{className:N})};return n&&t.length===0?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Chargement des préférences de marqueurs..."})]}):p.jsxs("div",{className:"marker-preferences-container",children:[p.jsxs("div",{className:"section-header",children:[p.jsxs("h2",{className:"section-title",children:["Préférences des marqueurs",f.length>0&&p.jsxs("span",{className:"selection-count",children:[" (",f.length," sélectionné",f.length>1?"s":"",")"]})]}),p.jsx("div",{className:"header-actions",children:s?p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"button",onClick:C,disabled:n,style:{backgroundColor:"#4CAF50",color:"white",fontWeight:"bold"},children:[p.jsx("i",{className:"fas fa-save"})," Enregistrer"]}),f.length>0&&p.jsxs("button",{className:"button",onClick:P,disabled:n,style:{backgroundColor:"#f44336",color:"white",marginLeft:"10px"},children:[p.jsx("i",{className:"fas fa-trash"})," Supprimer (",f.length,")"]}),p.jsxs("button",{className:"button",onClick:M,disabled:n,style:{backgroundColor:"#2196F3",color:"white",marginLeft:"10px"},children:[p.jsx("i",{className:"fas fa-plus"})," Ajouter"]}),p.jsxs("button",{className:"button button-secondary",onClick:w,style:{marginLeft:"10px"},disabled:n,children:[p.jsx("i",{className:"fas fa-times"})," Annuler"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"button",onClick:w,children:[p.jsx("i",{className:"fas fa-edit"})," Modifier"]}),p.jsxs("button",{className:"button button-secondary",onClick:k,disabled:n,style:{marginLeft:"10px"},children:[p.jsx("i",{className:"fas fa-undo"})," Réinitialiser"]})]})})]}),o&&p.jsx("div",{className:"error-message",children:o}),p.jsx("div",{className:"preferences-table-container",children:p.jsxs("table",{className:"preferences-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[s&&p.jsxs("th",{style:{width:"40px",textAlign:"center"},children:[p.jsx("input",{type:"checkbox",checked:g,onChange:I,title:"Sélectionner/Désélectionner tout",id:"select-all-checkbox"}),p.jsx("label",{htmlFor:"select-all-checkbox",className:"sr-only",children:"Sélectionner tout"})]}),p.jsx("th",{children:"Aperçu"}),p.jsx("th",{children:"Type de site"}),p.jsx("th",{children:"Nom affiché"}),p.jsx("th",{children:"Couleur"}),p.jsx("th",{children:"Icône"})]})}),p.jsx("tbody",{children:t.length>0?t.map(A=>{var N,O,j,L;return p.jsxs("tr",{className:f.includes(A.id)?"selected-row":"",onClick:s?()=>T(A.id):void 0,style:s?{cursor:"pointer"}:void 0,children:[s&&p.jsxs("td",{style:{textAlign:"center"},children:[p.jsx("input",{type:"checkbox",checked:f.includes(A.id),onChange:()=>T(A.id),title:"Sélectionner cette préférence",id:`select-preference-${A.id}`,onClick:z=>z.stopPropagation()}),p.jsxs("label",{htmlFor:`select-preference-${A.id}`,className:"sr-only",children:["Sélectionner ",A.name]})]}),p.jsx("td",{children:R(A)}),p.jsx("td",{children:A.siteType}),p.jsx("td",{children:s?p.jsx("input",{type:"text",value:((N=l[A.id])==null?void 0:N.name)||A.name,onChange:z=>S(A.id,z.target.value),className:"edit-input","aria-label":`Nom pour ${A.siteType}`,placeholder:`Nom pour ${A.siteType}`,onClick:z=>z.stopPropagation()}):A.name}),p.jsx("td",{children:s?p.jsx("select",{value:((O=l[A.id])==null?void 0:O.color)||A.color,onChange:z=>E(A.id,z.target.value),className:"edit-select",style:{backgroundColor:u[A.id]||A.color,color:"#fff"},"aria-label":`Couleur pour ${A.siteType}`,title:`Sélectionner une couleur pour ${A.siteType}`,onClick:z=>z.stopPropagation(),children:dot.map(z=>p.jsx("option",{value:z.value,style:{backgroundColor:z.value,color:"#fff"},children:z.name},z.value))}):p.jsx("div",{className:"color-preview",style:{backgroundColor:A.color}})}),p.jsx("td",{children:s?p.jsx("select",{value:((j=l[A.id])==null?void 0:j.icon)||A.icon,onChange:z=>_(A.id,z.target.value),className:"edit-select","aria-label":`Icône pour ${A.siteType}`,title:`Sélectionner une icône pour ${A.siteType}`,onClick:z=>z.stopPropagation(),children:Pk.map(z=>p.jsx("option",{value:z.value,children:z.name},z.value))}):((L=Pk.find(z=>z.value===A.icon))==null?void 0:L.name)||A.icon})]},A.id)}):p.jsx("tr",{children:p.jsx("td",{colSpan:s?6:5,className:"no-results",children:p.jsxs("div",{className:"no-results-message",children:[p.jsx("i",{className:"fas fa-info-circle"}),p.jsx("p",{children:"Aucune préférence de marqueur n'est définie"})]})})})})]})}),f.length>0&&s&&p.jsx("div",{className:"selection-actions",children:p.jsxs("button",{className:"button",onClick:P,disabled:n,style:{backgroundColor:"#f44336",color:"white"},children:[p.jsx("i",{className:"fas fa-trash"})," Supprimer les ",f.length," élément",f.length>1?"s":""," sélectionné",f.length>1?"s":""]})}),p.jsxs("div",{className:"preferences-info",children:[p.jsxs("p",{children:[p.jsx("i",{className:"fas fa-info-circle"})," Les modifications des préférences de marqueurs seront appliquées à la carte après l'enregistrement."]}),p.jsxs("p",{children:[p.jsx("i",{className:"fas fa-map-marker-alt"})," Les icônes sélectionnées déterminent la forme des marqueurs sur Google Maps. Les formes disponibles sont: cercle, carré, triangle, flèches, épingle, étoile, losange, hexagone et croix."]}),s?p.jsxs("p",{children:[p.jsx("i",{className:"fas fa-lightbulb"})," Astuce : Cliquez sur une ligne pour la sélectionner rapidement."]}):p.jsxs("p",{children:[p.jsx("i",{className:"fas fa-undo"}),' Vous pouvez réinitialiser toutes les préférences aux valeurs par défaut en cliquant sur le bouton "Réinitialiser".']}),p.jsxs("div",{style:{marginTop:"15px"},children:[p.jsxs("h4",{children:[p.jsx("i",{className:"fas fa-eye"})," Prévisualisation des formes disponibles"]}),p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",marginTop:"10px"},children:Pk.map(A=>p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"80px"},children:[p.jsx("div",{style:{backgroundColor:"#007aff",color:"white",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:A.value==="circle"?"50%":"0"},children:D(A.value)}),p.jsx("span",{style:{fontSize:"12px",marginTop:"5px",textAlign:"center"},children:A.name})]},A.value))})]})]})]})};var aie={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UW=oe.createContext&&oe.createContext(aie),hot=["attr","size","title"];function pot(t,e){if(t==null)return{};var n=mot(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mot(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jE.apply(this,arguments)}function qW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function LE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qW(Object(n),!0).forEach(function(r){got(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function got(t,e,n){return e=vot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vot(t){var e=yot(t,"string");return typeof e=="symbol"?e:e+""}function yot(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lie(t){return t&&t.map((e,n)=>oe.createElement(e.tag,LE({key:n},e.attr),lie(e.child)))}function _p(t){return e=>oe.createElement(bot,jE({attr:LE({},t.attr)},e),lie(t.child))}function bot(t){var e=n=>{var{attr:r,size:o,title:i}=t,s=pot(t,hot),a=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),oe.createElement("svg",jE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:LE(LE({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&oe.createElement("title",null,i),t.children)};return UW!==void 0?oe.createElement(UW.Consumer,null,n=>e(n)):e(aie)}function xot(t){return _p({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function wot(t){return _p({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Sot(t){return _p({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Cot(t){return _p({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function _ot(t){return _p({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function KW(t){return _p({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Eot(t){return _p({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const Tot=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[o,i]=h.useState(!1),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState({}),[f,m]=h.useState(null),[g,v]=h.useState([]),[y,b]=h.useState(""),[x,w]=h.useState("default"),[C,E]=h.useState("activate"),[_,S]=h.useState([]),T=zb.getInstance();h.useEffect(()=>{I()},[]),h.useEffect(()=>{r(t)},[t]),h.useEffect(()=>{if(!y.trim()){r(t);return}const q=y.toLowerCase().trim(),K=t.filter(J=>(J.nom||"").toLowerCase().includes(q)||(J.description||"").toLowerCase().includes(q)||(J.code||"").toLowerCase().includes(q));r(K)},[y,t]),h.useEffect(()=>{P()},[]);const I=async()=>{try{i(!0);const q=await T.getSELAS();e(q),i(!1)}catch{a("Erreur lors du chargement des SELAS"),i(!1)}},P=async()=>{try{const q=Ht(mt,"users"),J=(await Jt(q)).docs.filter(X=>X.data().statut!=="Inactif").map(X=>({id:X.id,nom:X.data().nom||"Sans nom",email:X.data().email||"",role:X.data().role||""}));S(J),console.log("Utilisateurs chargés:",J.length)}catch(q){console.error("Erreur lors du chargement des utilisateurs:",q),a("Erreur lors du chargement des utilisateurs")}},M=(q,K,J)=>{if(q==="new-selas-temp"){R(K,J);return}e(X=>X.map(ue=>ue.id===q?{...ue,[K]:J}:ue))},R=(q,K)=>{m(J=>{const X={...J||{}};if(q.startsWith("accesPages.")){const ue=q.split(".")[1];X.accesPages={...X.accesPages||{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},[ue]:K}}else{const ue=["nom","description","code","active","sitesAutorises"],_e=q;ue.includes(_e)&&(X[_e]=K)}return X})},k=async()=>{try{i(!0),a(null);const q=t.map(K=>T.updateSELAS(K.id,K));if(f&&f.nom){if(!f.nom){a("Le nom de la SELAS est obligatoire"),i(!1);return}const K={nom:f.nom,description:f.description||"",code:f.code||"",active:f.active!==void 0?f.active:!0,accesPages:f.accesPages||{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},sitesAutorises:f.sitesAutorises||[]};await T.addSELAS(K)}await Promise.all(q),c(!1),d({}),m(null),v([]),await I()}catch{a("Erreur lors de la sauvegarde des modifications")}finally{i(!1)}},D=()=>{c(!1),d({}),m(null),v([])},A=async()=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer ${g.length} SELAS ?`))try{i(!0),a(null);const q=g.map(K=>T.deleteSELAS(K));await Promise.all(q),c(!1),v([]),await I()}catch{a("Erreur lors de la suppression des SELAS")}finally{i(!1)}},N=q=>{q!=="new-selas-temp"&&v(K=>K.includes(q)?K.filter(J=>J!==q):[...K,q])},O=[...n];if(l&&f){const q={id:"new-selas-temp",nom:f.nom||"",description:f.description||"",code:f.code||"",active:f.active!==void 0?f.active:!0,accesPages:f.accesPages||{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},sitesAutorises:f.sitesAutorises||[],dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()};q.utilisateurs=[],O.unshift(q)}const j=async()=>{try{switch(i(!0),C){case"activate":await Promise.all(g.map(q=>T.updateSELAS(q,{active:!0})));break;case"deactivate":await Promise.all(g.map(q=>T.updateSELAS(q,{active:!1})));break;case"delete":await Promise.all(g.map(q=>T.deleteSELAS(q)));break}await I(),v([]),w("default")}catch{a("Erreur lors de l'action de masse")}finally{i(!1)}},L=async()=>{try{const q=await T.exportSELAS(g),K=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),J=window.URL.createObjectURL(K),X=document.createElement("a");X.href=J,X.download="selas_export.json",X.click(),window.URL.revokeObjectURL(J)}catch{a("Erreur lors de l'exportation des SELAS")}},z=()=>l?p.jsxs("div",{className:"admin-section",children:[p.jsx("h3",{children:"Actions d'administration"}),x==="default"&&p.jsxs("div",{className:"action-buttons",children:[p.jsx("button",{className:"btn btn-secondary",onClick:()=>w("bulk"),disabled:g.length===0,children:"Actions de masse"}),p.jsx("button",{className:"btn btn-secondary",onClick:()=>w("export"),disabled:g.length===0,children:"Exporter"})]}),x==="bulk"&&p.jsxs("div",{children:[p.jsxs("select",{value:C,onChange:q=>E(q.target.value),title:"Sélectionner une action de masse",children:[p.jsx("option",{value:"activate",children:"Activer"}),p.jsx("option",{value:"deactivate",children:"Désactiver"}),p.jsx("option",{value:"delete",children:"Supprimer"})]}),p.jsx("button",{className:"btn btn-primary",onClick:j,children:"Appliquer"}),p.jsx("button",{className:"btn btn-secondary",onClick:()=>w("default"),children:"Annuler"})]}),x==="export"&&p.jsxs("div",{children:[p.jsx("button",{className:"btn btn-primary",onClick:L,children:"Confirmer l'exportation"}),p.jsx("button",{className:"btn btn-secondary",onClick:()=>w("default"),children:"Annuler"})]})]}):null,V=async q=>{try{const J=vc().currentUser;if(!J||!J.uid){alert("Vous devez être connecté pour effectuer cette action");return}const X=Ht(mt,"users"),ue=wn(X,Dr("uid","==",J.uid)),_e=await Jt(ue);if(_e.empty){alert("Votre profil utilisateur n'a pas été trouvé");return}const Ce=_e.docs[0];await Yo(un(mt,"users",Ce.id),{defaultSelasId:q,lastUpdated:new Date().toISOString()}),alert("SELAS définie comme SELAS par défaut avec succès"),localStorage.setItem("currentSelasId",q)}catch(K){console.error("Erreur lors de la définition de la SELAS par défaut:",K),a("Impossible de définir la SELAS par défaut"),alert("Impossible de définir la SELAS par défaut")}},W={dashboard:"Tableau de bord",passages:"Passages",sites:"Sites",tournees:"Tournées",vehicules:"Véhicules",map:"Carte",userManagement:"Gestion utilisateurs",adminPanel:"Administration"},Y=[{title:"Sélection",dataIndex:"id",width:50,render:q=>p.jsx(cf,{checked:g.includes(q),onChange:()=>N(q),"aria-label":`Sélectionner SELAS ${q}`})},{title:"Nom",dataIndex:"nom",width:150,render:(q,K)=>p.jsx(Wd,{value:q,onChange:J=>M(K.id,"nom",J.target.value),"aria-label":"Nom de la SELAS"})},{title:"Description",dataIndex:"description",width:200,render:(q,K)=>p.jsx(Wd,{value:q,onChange:J=>M(K.id,"description",J.target.value),"aria-label":"Description de la SELAS"})},{title:"Code",dataIndex:"code",width:100,render:(q,K)=>p.jsx(Wd,{value:q,onChange:J=>M(K.id,"code",J.target.value),"aria-label":"Code de la SELAS"})},{title:"Statut",dataIndex:"active",width:100,render:(q,K)=>p.jsx(xte,{checked:q,onChange:J=>M(K.id,"active",J),"aria-label":"Statut de la SELAS"})},{title:"Accès",dataIndex:"accesPages",width:300,render:(q={},K)=>p.jsx("div",{className:"acces-pages-container",children:l?p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(q).map(([J,X])=>p.jsx(cf,{checked:!!X,onChange:ue=>M(K.id,`accesPages.${J}`,ue.target.checked),style:{marginRight:"8px",marginBottom:"8px"},children:p.jsx("span",{style:{fontSize:"0.8rem"},children:W[J]||J})},J))}):p.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:[Object.entries(q).filter(([J,X])=>X).map(([J])=>p.jsx(Xte,{color:"blue",style:{margin:"2px"},children:W[J]||J},J)),!Object.values(q||{}).some(Boolean)&&p.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Aucun accès"})]})})},{title:"Utilisateurs",dataIndex:"utilisateurs",width:200,render:(q=[],K)=>p.jsx("div",{className:"users-association",children:l?p.jsx(xl,{mode:"multiple",style:{width:"100%"},placeholder:"Associer des utilisateurs",value:q||[],onChange:J=>U(K.id,J),optionFilterProp:"children",filterOption:(J,X)=>{var ue;return(((ue=X==null?void 0:X.label)==null?void 0:ue.toString().toLowerCase())||"").includes(J.toLowerCase())},options:_.map(J=>({value:J.id,label:J.nom?`${J.nom} (${J.email})`:J.email}))}):p.jsx("div",{children:q&&q.length>0?p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[q.slice(0,3).map(J=>{const X=_.find(ue=>ue.id===J);return p.jsxs("div",{style:{backgroundColor:"#52c41a",color:"white",padding:"2px 8px",borderRadius:"4px",display:"flex",alignItems:"center",margin:"2px 0",fontSize:"12px"},children:[p.jsx(Eot,{style:{marginRight:"5px"}}),X?X.nom||X.email:"Utilisateur inconnu"]},J)}),q.length>3&&p.jsx(dx,{title:q.slice(3).map(J=>{const X=_.find(ue=>ue.id===J);return X?X.nom||X.email:"Utilisateur inconnu"}).join(", "),children:p.jsx("div",{style:{backgroundColor:"#1890ff",color:"white",padding:"2px 8px",borderRadius:"4px",margin:"2px 0",fontSize:"12px",cursor:"pointer"},children:`+${q.length-3} autres`})})]}):p.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Aucun utilisateur"})})})}],U=async(q,K)=>{try{if(console.log(`Association des utilisateurs à la SELAS ${q}:`,K),q==="new-selas-temp"){m(J=>({...J,utilisateurs:K}));return}e(J=>J.map(X=>X.id===q?{...X,utilisateurs:K}:X))}catch(J){console.error("Erreur lors de l'association des utilisateurs:",J),a("Erreur lors de l'association des utilisateurs")}};return o?p.jsx("div",{className:"loading",children:"Chargement des SELAS..."}):p.jsxs("div",{className:"selas-management",children:[p.jsxs("div",{className:"selas-management-header",children:[p.jsx("h2",{children:"Gestion des SELAS"}),p.jsx("div",{className:"action-buttons",children:l?p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"btn btn-primary",onClick:k,style:{backgroundColor:"#4caf50",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[p.jsx(Cot,{})," Enregistrer"]}),p.jsxs("button",{className:"btn btn-secondary",onClick:D,style:{backgroundColor:"#ff9800",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginLeft:"10px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[p.jsx(_ot,{})," Annuler"]}),g.length>0&&p.jsxs("button",{className:"btn btn-danger",onClick:A,style:{backgroundColor:"#f44336",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginLeft:"10px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[p.jsx(KW,{})," Supprimer (",g.length,")"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),style:{backgroundColor:"#1976d2",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[p.jsx(wot,{})," Modifier"]}),p.jsxs("button",{className:"btn btn-secondary",onClick:()=>{c(!0),m({nom:"",description:"",code:"",active:!0,accesPages:{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},sitesAutorises:[]})},style:{backgroundColor:"#2196f3",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginLeft:"10px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[p.jsx(Sot,{})," Ajouter"]})]})})]}),z(),p.jsxs("div",{className:"controls",children:[p.jsxs("div",{className:"search-box",children:[p.jsx("input",{type:"text",placeholder:"Rechercher une SELAS...",value:y,onChange:q=>b(q.target.value),className:"search-input"}),y&&p.jsx("button",{className:"clear-search",onClick:()=>b(""),children:"✕"})]}),p.jsx("div",{className:"action-buttons",children:l?p.jsx(p.Fragment,{children:g.length>0&&p.jsxs("button",{className:"modern-button delete-button",onClick:A,style:{backgroundColor:"#f44336",color:"white",padding:"8px 15px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[p.jsx(KW,{})," Supprimer (",g.length,")"]})}):p.jsx(p.Fragment,{})})]}),p.jsxs("div",{className:"selas-table-container",children:[p.jsx("div",{className:"results-info",children:p.jsxs("p",{children:[n.length," résultat(s) trouvé(s)",y?` pour la recherche "${y}"`:""]})}),p.jsx(Au,{columns:Y,dataSource:O,loading:o,scroll:{x:1500},rowSelection:{selectedRowKeys:g,onChange:q=>{const K=q.map(J=>J.toString());v(K)}},pagination:{pageSize:10,showSizeChanger:!0},rowKey:"id",rowClassName:q=>q.id==="new-selas-temp"?"new-selas-row":""})]}),l&&p.jsx("div",{className:"default-selas-actions",children:g.length===1&&p.jsxs("button",{className:"set-default-button",onClick:()=>V(g[0]),style:{backgroundColor:"#2196f3",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginTop:"15px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[p.jsx(xot,{})," Définir comme SELAS par défaut"]})})]})},Iot=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(!0),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,m]=h.useState(""),[g,v]=h.useState(""),[y,b]=h.useState(""),[x,w]=h.useState({}),[C,E]=h.useState([]),{enqueueSnackbar:_}=yF(),S=zb.getInstance();h.useEffect(()=>{T(),I()},[]);const T=async()=>{try{r(!0);const A=Ht(mt,"poles"),O=(await Jt(A)).docs.map(j=>({id:j.id,...j.data()}));e(O),await M(O),r(!1)}catch(A){console.error("Erreur lors du chargement des pôles:",A),_("Erreur lors du chargement des pôles",{variant:"error"}),r(!1)}},I=async()=>{try{const N=(await S.getSELAS()).filter(O=>O.active);E(N)}catch(A){console.error("Erreur lors du chargement des SELAS:",A),_("Erreur lors du chargement des SELAS",{variant:"error"})}},P=A=>{if(!A)return"-";const N=C.find(O=>O.id===A);return N?N.nom:"-"},M=async A=>{const N={};A.forEach(j=>{N[j.id]=0});const O=["users","sites","passages","tournees","vehicules"];for(const j of O)try{const L=Ht(mt,j);(await Jt(L)).docs.forEach(V=>{const W=V.data();if(W.pole){const Y=A.find(U=>U.nom===W.pole);Y&&N[Y.id]++}})}catch(L){console.error(`Erreur lors du comptage des utilisations dans ${j}:`,L)}w(N)},R=async()=>{if(!f.trim()){_("Le nom du pôle est requis",{variant:"error"});return}try{if(r(!0),t.find(L=>L.nom.toLowerCase()===f.trim().toLowerCase())){_("Un pôle avec ce nom existe déjà",{variant:"error"}),r(!1);return}const N={nom:f.trim(),description:g.trim()||"",selasId:y||void 0,dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()},O=Ht(mt,"poles"),j=await os(O,N);e([...t,{...N,id:j.id}]),_("Pôle ajouté avec succès",{variant:"success"}),m(""),v(""),b(""),i(!1),r(!1)}catch(A){console.error("Erreur lors de l'ajout du pôle:",A),_("Erreur lors de l'ajout du pôle",{variant:"error"}),r(!1)}},k=async()=>{var A;if(!u||!u.nom.trim()){_("Le nom du pôle est requis",{variant:"error"});return}try{if(r(!0),t.find(L=>L.nom.toLowerCase()===u.nom.trim().toLowerCase()&&L.id!==u.id)){_("Un pôle avec ce nom existe déjà",{variant:"error"}),r(!1);return}const O={...u,nom:u.nom.trim(),description:((A=u.description)==null?void 0:A.trim())||"",selasId:u.selasId===""?null:u.selasId,dateModification:new Date().toISOString()},j=un(mt,"poles",u.id);await Yo(j,O),e(t.map(L=>L.id===u.id?O:L)),_("Pôle mis à jour avec succès",{variant:"success"}),a(!1),d(null),r(!1)}catch(N){console.error("Erreur lors de la mise à jour du pôle:",N),_("Erreur lors de la mise à jour du pôle",{variant:"error"}),r(!1)}},D=async()=>{if(u)try{if(r(!0),x[u.id]>0){_(`Ce pôle est utilisé par ${x[u.id]} éléments. Veuillez d'abord modifier ces éléments.`,{variant:"error"}),r(!1),c(!1);return}const A=un(mt,"poles",u.id);await Go(A),e(t.filter(N=>N.id!==u.id)),_("Pôle supprimé avec succès",{variant:"success"}),c(!1),d(null),r(!1)}catch(A){console.error("Erreur lors de la suppression du pôle:",A),_("Erreur lors de la suppression du pôle",{variant:"error"}),r(!1)}};return p.jsxs(vt,{children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[p.jsx(Ne,{variant:"h5",children:"Gestion des pôles"}),p.jsx(Mt,{variant:"contained",color:"primary",startIcon:p.jsx(df,{}),onClick:()=>i(!0),children:"Ajouter un pôle"})]}),p.jsx(gr,{severity:"info",sx:{mb:3},children:"Les pôles permettent de regrouper et filtrer les données (sites, passages, tournées, véhicules) par zones géographiques ou organisationnelles."}),n?p.jsx(vt,{sx:{display:"flex",justifyContent:"center",my:3},children:p.jsx(Hi,{})}):p.jsx(OI,{component:bn,children:p.jsxs(DI,{children:[p.jsx(AI,{children:p.jsxs(pu,{children:[p.jsx(hn,{children:"Nom du pôle"}),p.jsx(hn,{children:"Description"}),p.jsx(hn,{children:"SELAS"}),p.jsx(hn,{children:"Date de création"}),p.jsx(hn,{children:"Utilisation"}),p.jsx(hn,{align:"right",children:"Actions"})]})}),p.jsx(MI,{children:t.length===0?p.jsx(pu,{children:p.jsx(hn,{colSpan:6,align:"center",children:p.jsx(Ne,{variant:"body1",sx:{py:2},children:`Aucun pôle n'a été créé. Cliquez sur "Ajouter un pôle" pour commencer.`})})}):t.map(A=>p.jsxs(pu,{children:[p.jsx(hn,{children:A.nom}),p.jsx(hn,{children:A.description||"-"}),p.jsx(hn,{children:A.selasId?p.jsx(so,{icon:p.jsx(Mre,{fontSize:"small"}),label:P(A.selasId),color:"primary",variant:"outlined",size:"small"}):"-"}),p.jsx(hn,{children:new Date(A.dateCreation).toLocaleDateString("fr-FR")}),p.jsx(hn,{children:p.jsx(so,{label:`${x[A.id]||0} éléments`,color:x[A.id]>0?"primary":"default",variant:x[A.id]>0?"filled":"outlined",size:"small"})}),p.jsxs(hn,{align:"right",children:[p.jsx(wr,{color:"primary",onClick:()=>{d(A),a(!0)},children:p.jsx(Yv,{})}),p.jsx(wr,{color:"error",onClick:()=>{d(A),c(!0)},children:p.jsx(rp,{})})]})]},A.id))})]})}),p.jsxs(ss,{open:o,onClose:()=>i(!1),children:[p.jsx(Ds,{children:"Ajouter un nouveau pôle"}),p.jsxs(ls,{children:[p.jsx(DC,{children:"Entrez les informations du nouveau pôle. Le nom sera utilisé pour identifier le pôle dans l'application."}),p.jsx(_n,{autoFocus:!0,margin:"dense",label:"Nom du pôle",type:"text",fullWidth:!0,variant:"outlined",value:f,onChange:A=>m(A.target.value),required:!0,sx:{mt:2}}),p.jsx(_n,{margin:"dense",label:"Description (optionnelle)",type:"text",fullWidth:!0,variant:"outlined",value:g,onChange:A=>v(A.target.value),multiline:!0,rows:2,sx:{mb:2}}),p.jsxs(qd,{fullWidth:!0,variant:"outlined",children:[p.jsx(Kd,{id:"new-pole-selas-label",children:"SELAS associée"}),p.jsxs(hu,{labelId:"new-pole-selas-label",value:y,onChange:A=>b(A.target.value),label:"SELAS associée",children:[p.jsx(vr,{value:"",children:p.jsx("em",{children:"Aucune"})}),C.map(A=>p.jsx(vr,{value:A.id,children:A.nom},A.id))]})]})]}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:()=>i(!1),color:"inherit",children:"Annuler"}),p.jsx(Mt,{onClick:R,color:"primary",variant:"contained",startIcon:p.jsx(PE,{}),disabled:!f.trim()||n,children:n?p.jsx(Hi,{size:24}):"Enregistrer"})]})]}),p.jsxs(ss,{open:s,onClose:()=>a(!1),children:[p.jsx(Ds,{children:"Modifier un pôle"}),p.jsxs(ls,{children:[p.jsx(DC,{children:"Modifiez les informations du pôle sélectionné."}),p.jsx(_n,{autoFocus:!0,margin:"dense",label:"Nom du pôle",type:"text",fullWidth:!0,variant:"outlined",value:(u==null?void 0:u.nom)||"",onChange:A=>d(u?{...u,nom:A.target.value}:null),required:!0,sx:{mt:2}}),p.jsx(_n,{margin:"dense",label:"Description (optionnelle)",type:"text",fullWidth:!0,variant:"outlined",value:(u==null?void 0:u.description)||"",onChange:A=>d(u?{...u,description:A.target.value}:null),multiline:!0,rows:2,sx:{mb:2}}),p.jsxs(qd,{fullWidth:!0,variant:"outlined",children:[p.jsx(Kd,{id:"edit-pole-selas-label",children:"SELAS associée"}),p.jsxs(hu,{labelId:"edit-pole-selas-label",value:(u==null?void 0:u.selasId)||"",onChange:A=>d(u?{...u,selasId:A.target.value}:null),label:"SELAS associée",children:[p.jsx(vr,{value:"",children:p.jsx("em",{children:"Aucune"})}),C.map(A=>p.jsx(vr,{value:A.id,children:A.nom},A.id))]})]})]}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:()=>a(!1),color:"inherit",children:"Annuler"}),p.jsx(Mt,{onClick:k,color:"primary",variant:"contained",startIcon:p.jsx(PE,{}),disabled:!(u!=null&&u.nom.trim())||n,children:n?p.jsx(Hi,{size:24}):"Enregistrer"})]})]}),p.jsxs(ss,{open:l,onClose:()=>c(!1),children:[p.jsx(Ds,{children:"Supprimer un pôle"}),p.jsx(ls,{children:p.jsxs(DC,{children:['Êtes-vous sûr de vouloir supprimer le pôle "',u==null?void 0:u.nom,'" ?',x[(u==null?void 0:u.id)||""]>0&&p.jsxs(gr,{severity:"warning",sx:{mt:2},children:["Ce pôle est utilisé par ",x[(u==null?void 0:u.id)||""]," éléments. Vous ne pouvez pas le supprimer tant qu'il est utilisé."]})]})}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:()=>c(!1),color:"inherit",children:"Annuler"}),p.jsx(Mt,{onClick:D,color:"error",variant:"contained",startIcon:p.jsx(rp,{}),disabled:x[(u==null?void 0:u.id)||""]>0||n,children:n?p.jsx(Hi,{size:24}):"Supprimer"})]})]})]})};class Pot{constructor(){Ye(this,"collections",["passages","sites","tournees","vehicules","users"])}async getCollectionsStats(){try{console.log("🔄 Récupération des statistiques des collections...");const e={};for(const n of this.collections){const r=await Jt(Ht(mt,n));e[n]=r.size}return console.log("✅ Statistiques récupérées:",e),e}catch(e){throw console.error("❌ Erreur lors de la récupération des statistiques:",e),e}}async createFullBackup(){try{console.log("🔄 Création d'une sauvegarde complète..."),await el.generateCompleteBackup(),console.log("✅ Sauvegarde complète créée avec succès")}catch(e){throw console.error("❌ Erreur lors de la création de la sauvegarde complète:",e),e}}async createSelectiveBackup(e){try{console.log(`🔄 Création d'une sauvegarde sélective pour les collections: ${e.join(", ")}...`);const n=e.filter(a=>this.collections.includes(a));if(n.length===0)throw new Error("Aucune collection valide sélectionnée pour la sauvegarde");const r=new hO;for(const a of n){const l=await el.exportCollectionToJSON(a);l&&l.length>0&&r.file(`${a}.json`,JSON.stringify(l,null,2))}const o=await r.generateAsync({type:"blob"}),i=URL.createObjectURL(o),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",`selective_backup_${new Date().toISOString().split("T")[0]}.zip`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),console.log("✅ Sauvegarde sélective créée avec succès")}catch(n){throw console.error("❌ Erreur lors de la création de la sauvegarde sélective:",n),n}}async cleanupObsoleteData(e,n){try{if(console.log(`🔄 Nettoyage des données obsolètes de la collection ${e}...`),!this.collections.includes(e))throw new Error(`La collection ${e} n'est pas valide`);const r=En.fromDate(n),o=Ht(mt,e);let i;e==="passages"?i=wn(o,Dr("date","<",r)):e==="users"?i=wn(o,Dr("lastLogin","<",r)):i=wn(o,Dr("updatedAt","<",r));const s=await Jt(i);if(s.empty)return console.log(`ℹ️ Aucune donnée obsolète trouvée dans la collection ${e}`),0;const a=ud(mt);let l=0;return s.docs.forEach(c=>{a.delete(un(mt,e,c.id)),l++,l>=500&&(a.commit(),console.log(`✅ Lot de ${l} documents supprimés`),l=0)}),l>0&&(await a.commit(),console.log(`✅ Dernier lot de ${l} documents supprimés`)),console.log(`✅ Nettoyage terminé: ${s.size} documents supprimés de la collection ${e}`),s.size}catch(r){throw console.error("❌ Erreur lors du nettoyage des données obsolètes:",r),r}}async optimizeIndexes(){try{console.log("🔄 Optimisation des index..."),await new Promise(e=>setTimeout(e,2e3)),console.log("✅ Optimisation des index terminée")}catch(e){throw console.error("❌ Erreur lors de l'optimisation des index:",e),e}}async resetDatabase(e){try{if(e!=="RESET_DATABASE_CONFIRM")throw new Error("Code de confirmation invalide");console.log("⚠️ RÉINITIALISATION DE LA BASE DE DONNÉES EN COURS..."),await this.createFullBackup();for(const n of this.collections){if(n==="users"){console.log("ℹ️ La collection users ne sera pas supprimée pour préserver les accès");continue}const r=Ht(mt,n),o=await Jt(r);if(o.empty){console.log(`ℹ️ La collection ${n} est déjà vide`);continue}const i=ud(mt);let s=0;o.docs.forEach(a=>{i.delete(un(mt,n,a.id)),s++,s>=500&&(i.commit(),console.log(`✅ Lot de ${s} documents supprimés de ${n}`),s=0)}),s>0&&(await i.commit(),console.log(`✅ Dernier lot de ${s} documents supprimés de ${n}`)),console.log(`✅ Collection ${n} réinitialisée`)}console.log("✅ Réinitialisation de la base de données terminée")}catch(n){throw console.error("❌ Erreur lors de la réinitialisation de la base de données:",n),n}}async getErrorLogs(){try{console.log("🔄 Récupération des journaux d'erreurs...");const e=[{timestamp:new Date().toISOString(),level:"INFO",message:"Application démarrée",source:"App.tsx"},{timestamp:new Date(Date.now()-36e5).toISOString(),level:"WARNING",message:"Tentative de connexion échouée",source:"AuthContext.tsx"},{timestamp:new Date(Date.now()-72e5).toISOString(),level:"ERROR",message:"Erreur lors de la récupération des données",source:"FirebaseService.ts",stack:`Error: Failed to fetch data
    at FirebaseService.fetchData (/src/services/FirebaseService.ts:42:7)`}];return console.log("✅ Journaux d'erreurs récupérés"),e}catch(e){throw console.error("❌ Erreur lors de la récupération des journaux d'erreurs:",e),e}}async exportErrorLogs(){try{console.log("🔄 Exportation des journaux d'erreurs...");const e=await this.getErrorLogs(),n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download",`error_logs_${new Date().toISOString().split("T")[0]}.json`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),console.log("✅ Exportation des journaux d'erreurs terminée")}catch(e){throw console.error("❌ Erreur lors de l'exportation des journaux d'erreurs:",e),e}}async runFullDiagnostic(){try{console.log("🔄 Exécution d'un diagnostic complet..."),await new Promise(n=>setTimeout(n,3e3));const e={timestamp:new Date().toISOString(),system:{status:"online",uptime:"7 days, 3 hours, 42 minutes",memory:{used:"1.2 GB",total:"2 GB",percentage:60},cpu:{usage:"23%",temperature:"45°C"}},database:{status:"connected",latency:"42ms",collections:await this.getCollectionsStats(),lastBackup:"Jamais"},storage:{used:"2.1 GB",total:"5 GB",percentage:42},errors:{critical:0,warning:2,info:5}};return console.log("✅ Diagnostic complet terminé"),e}catch(e){throw console.error("❌ Erreur lors de l'exécution du diagnostic complet:",e),e}}async updateAppSettings(e){try{console.log("🔄 Mise à jour des paramètres de l'application...",e),await new Promise(n=>setTimeout(n,1e3)),console.log("✅ Paramètres de l'application mis à jour")}catch(n){throw console.error("❌ Erreur lors de la mise à jour des paramètres de l'application:",n),n}}}const Qu=t=>{const{children:e,value:n,index:r,...o}=t;return p.jsx("div",{role:"tabpanel",hidden:n!==r,id:`admin-tabpanel-${r}`,"aria-labelledby":`admin-tab-${r}`,...o,children:n===r&&p.jsx(vt,{sx:{p:3},children:e})})},Ju=t=>({id:`admin-tab-${t}`,"aria-controls":`admin-tabpanel-${t}`}),Rot=()=>{const t=yf(),e=Tc(),[n,r]=h.useState(0),{currentUser:o}=ku(),{enqueueSnackbar:i}=yF(),s=new Pot,[a,l]=h.useState({}),[c,u]=h.useState(null),[d,f]=h.useState(!1),[m,g]=h.useState(""),[v,y]=h.useState(!1);h.useEffect(()=>{const D=new URLSearchParams(t.search).get("tab");if(D!==null){const A=parseInt(D,10);!isNaN(A)&&A>=0&&A<=7&&r(A)}},[t]),h.useEffect(()=>{(async()=>{try{const D=await s.getCollectionsStats();l(D)}catch{i("Erreur lors du chargement des statistiques",{variant:"error"})}})()},[]);const b=(o==null?void 0:o.role)==="Administrateur",x=(k,D)=>{r(D),e(`/admin?tab=${D}`,{replace:!0})};if(!b)return p.jsx(Ud,{maxWidth:"md",sx:{mt:4},children:p.jsxs(gr,{severity:"error",sx:{mb:2},children:[p.jsx(Ne,{variant:"h6",children:"Accès refusé"}),p.jsx(Ne,{variant:"body1",children:`Vous n'avez pas les droits nécessaires pour accéder au panneau d'administration. Seuls les utilisateurs avec le rôle "Administrateur" peuvent y accéder.`})]})});const w=async()=>{try{await s.createFullBackup(),i("Sauvegarde complète créée avec succès",{variant:"success"})}catch{i("Erreur lors de la création de la sauvegarde",{variant:"error"})}},C=async()=>{try{await s.createSelectiveBackup(["users","passages","sites","tournees"]),i("Sauvegarde sélective créée avec succès",{variant:"success"})}catch{i("Erreur lors de la création de la sauvegarde sélective",{variant:"error"})}},E=async()=>{try{const k=new Date;k.setMonth(k.getMonth()-6),await s.cleanupObsoleteData("passages",k),i("Nettoyage des données effectué avec succès",{variant:"success"})}catch{i("Erreur lors du nettoyage des données",{variant:"error"})}},_=async()=>{try{await s.optimizeIndexes(),i("Optimisation des index effectuée avec succès",{variant:"success"})}catch{i("Erreur lors de l'optimisation des index",{variant:"error"})}},S=async()=>{try{i("Restauration de sauvegarde en cours de développement",{variant:"warning"}),y(!1)}catch{i("Erreur lors de la restauration",{variant:"error"})}},T=async()=>{try{i("Import de sauvegarde externe en cours de développement",{variant:"warning"})}catch{i("Erreur lors de l'import",{variant:"error"})}},I=()=>{f(!0)},P=()=>{f(!1),g("")},M=async()=>{try{await s.resetDatabase(m),i("Base de données réinitialisée avec succès",{variant:"success"}),P()}catch{i("Erreur lors de la réinitialisation",{variant:"error"})}},R=()=>p.jsxs(ss,{open:d,onClose:P,"aria-labelledby":"reset-dialog-title","aria-describedby":"reset-dialog-description",children:[p.jsx(Ds,{id:"reset-dialog-title",children:"Réinitialisation de la base de données"}),p.jsxs(ls,{children:[p.jsxs(DC,{id:"reset-dialog-description",children:[p.jsx(gr,{severity:"error",sx:{mb:2},children:"ATTENTION : Cette action est irréversible et supprimera toutes les données (sauf les utilisateurs). Une sauvegarde sera automatiquement créée."}),"Pour confirmer, entrez le code : RESET_DATABASE_CONFIRM"]}),p.jsx(_n,{autoFocus:!0,margin:"dense",label:"Code de confirmation",type:"text",fullWidth:!0,variant:"standard",value:m,onChange:k=>g(k.target.value)})]}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:P,color:"primary",children:"Annuler"}),p.jsx(Mt,{onClick:M,color:"error",disabled:m!=="RESET_DATABASE_CONFIRM",children:"Confirmer la réinitialisation"})]})]});return p.jsxs(Ud,{maxWidth:"xl",sx:{mt:4,mb:4},children:[p.jsxs(bn,{sx:{mb:3,p:3,background:"linear-gradient(45deg, #1976d2 30%, #2196f3 90%)",color:"white"},children:[p.jsx(Ne,{variant:"h4",component:"h1",gutterBottom:!0,children:"Panneau d'administration"}),p.jsx(Ne,{variant:"body1",children:"Gérez les paramètres de l'application, les utilisateurs, les sauvegardes et la synchronisation avec SharePoint."})]}),p.jsx(vt,{sx:{width:"100%",mb:3},children:p.jsxs(Gv,{value:n,onChange:x,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTab-root":{minHeight:64,fontSize:"0.9rem"}},children:[p.jsx(yr,{icon:p.jsx(qYe,{}),iconPosition:"start",label:"Tableau de bord",...Ju(0)}),p.jsx(yr,{icon:p.jsx(aXe,{}),iconPosition:"start",label:"Synchronisation",...Ju(1)}),p.jsx(yr,{icon:p.jsx(jYe,{}),iconPosition:"start",label:"Rôles et permissions",...Ju(2)}),p.jsx(yr,{icon:p.jsx(Vy,{}),iconPosition:"start",label:"Sauvegardes",...Ju(3)}),p.jsx(yr,{icon:p.jsx(BYe,{}),iconPosition:"start",label:"Maintenance",...Ju(4)}),p.jsx(yr,{icon:p.jsx(ZYe,{}),iconPosition:"start",label:"Préférences de marqueurs",...Ju(5)}),p.jsx(yr,{icon:p.jsx(eXe,{}),iconPosition:"start",label:"Gestion SELAS",...Ju(6)}),p.jsx(yr,{icon:p.jsx(Mre,{}),iconPosition:"start",label:"Gestion Pôles",...Ju(7)})]})}),p.jsxs(Qu,{value:n,index:0,children:[p.jsx(Ne,{variant:"h5",gutterBottom:!0,children:"Gestion des utilisateurs"}),p.jsx(gr,{severity:"info",sx:{mb:3},children:"Cette section vous permet de gérer les comptes utilisateurs et leurs rôles."}),p.jsx(Mt,{variant:"contained",color:"primary",startIcon:p.jsx(nXe,{}),onClick:()=>i("Fonctionnalité en cours de développement",{variant:"info"}),sx:{mb:3},children:"Accéder à la gestion des utilisateurs"})]}),p.jsx(Qu,{value:n,index:1,children:p.jsx(iot,{})}),p.jsx(Qu,{value:n,index:2,children:p.jsx(uot,{})}),p.jsxs(Qu,{value:n,index:3,children:[p.jsx(Ne,{variant:"h5",gutterBottom:!0,children:"Gestion des sauvegardes"}),p.jsx(gr,{severity:"info",sx:{mb:3},children:"Gérez les sauvegardes de la base de données et les restaurations."}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsx(Bm,{children:p.jsxs(Vm,{children:[p.jsxs(vt,{sx:{display:"flex",alignItems:"center",mb:3},children:[p.jsx(UYe,{sx:{fontSize:40,color:"primary.main",mr:2}}),p.jsx(Ne,{variant:"h6",children:"Créer une sauvegarde"})]}),p.jsx(Mt,{variant:"contained",color:"primary",startIcon:p.jsx(Vy,{}),fullWidth:!0,sx:{mb:2},onClick:w,children:"Sauvegarde complète"}),p.jsx(Mt,{variant:"outlined",color:"primary",startIcon:p.jsx(Vy,{}),fullWidth:!0,onClick:C,children:"Sauvegarde sélective"})]})})}),p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsx(Bm,{children:p.jsxs(Vm,{children:[p.jsxs(vt,{sx:{display:"flex",alignItems:"center",mb:3},children:[p.jsx(WYe,{sx:{fontSize:40,color:"secondary.main",mr:2}}),p.jsx(Ne,{variant:"h6",children:"Restaurer une sauvegarde"})]}),p.jsx(Mt,{variant:"contained",color:"secondary",startIcon:p.jsx(Vy,{}),fullWidth:!0,sx:{mb:2},onClick:S,children:"Restaurer depuis une sauvegarde"}),p.jsx(Mt,{variant:"outlined",color:"secondary",startIcon:p.jsx(Vy,{}),fullWidth:!0,onClick:T,children:"Importer une sauvegarde externe"})]})})})]})]}),p.jsxs(Qu,{value:n,index:4,children:[p.jsx(Ne,{variant:"h5",gutterBottom:!0,children:"Gestion des données"}),p.jsx(gr,{severity:"info",sx:{mb:3},children:"Gérez les collections de données et effectuez la maintenance de la base de données."}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsx(Bm,{children:p.jsxs(Vm,{children:[p.jsx(Ne,{variant:"h6",gutterBottom:!0,children:"Collections"}),p.jsx(cs,{children:Object.entries(a).map(([k,D])=>p.jsxs($s,{children:[p.jsx(Gd,{children:p.jsx(iXe,{color:"primary"})}),p.jsx(hl,{primary:k,secondary:`${D} documents`}),p.jsx(so,{label:`${D} docs`,color:"primary",variant:"outlined",size:"small"})]},k))})]})})}),p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsx(Bm,{children:p.jsxs(Vm,{children:[p.jsx(Ne,{variant:"h6",gutterBottom:!0,children:"Maintenance"}),p.jsx(Mt,{variant:"outlined",color:"primary",fullWidth:!0,sx:{mb:2},onClick:E,children:"Nettoyer les données obsolètes"}),p.jsx(Mt,{variant:"outlined",color:"primary",fullWidth:!0,sx:{mb:2},onClick:_,children:"Optimiser les index"}),p.jsx(Mt,{variant:"outlined",color:"error",fullWidth:!0,startIcon:p.jsx(ff,{}),onClick:I,children:"Réinitialiser la base de données"})]})})})]})]}),p.jsxs(Qu,{value:n,index:5,children:[p.jsx(Ne,{variant:"h5",gutterBottom:!0,children:"Préférences des marqueurs de la carte"}),p.jsx(gr,{severity:"info",sx:{mb:3},children:"Personnalisez l'apparence des marqueurs sur la carte en fonction des types de sites. Cette fonctionnalité est réservée aux utilisateurs ayant les permissions nécessaires."}),b?p.jsx(fot,{}):p.jsx(gr,{severity:"warning",sx:{mt:2},children:`Vous n'avez pas les droits nécessaires pour accéder à cette fonctionnalité. Seuls les utilisateurs avec la permission "Modification des marqueurs" peuvent modifier les préférences de marqueurs.`})]}),p.jsxs(Qu,{value:n,index:6,children:[p.jsx(Ne,{variant:"h5",gutterBottom:!0,children:"Gestion des SELAS"}),p.jsx(gr,{severity:"info",sx:{mb:3},children:"Gérez les sociétés d'exercice libéral (SELAS) et leurs paramètres."}),b?p.jsx(Tot,{}):p.jsx(gr,{severity:"warning",sx:{mt:2},children:"Vous n'avez pas les droits nécessaires pour accéder à cette fonctionnalité. Seuls les administrateurs peuvent gérer les SELAS."})]}),p.jsxs(Qu,{value:n,index:7,children:[p.jsx(Ne,{variant:"h5",gutterBottom:!0,children:"Gestion des Pôles"}),p.jsx(gr,{severity:"info",sx:{mb:3},children:"Gérez les pôles d'activité et leurs associations avec les SELAS."}),b?p.jsx(Iot,{}):p.jsx(gr,{severity:"warning",sx:{mt:2},children:"Vous n'avez pas les droits nécessaires pour accéder à cette fonctionnalité. Seuls les administrateurs peuvent gérer les pôles."})]}),R()]})};class kot{constructor(){Ye(this,"collection",Ht(mt,"vehicules"));Ye(this,"documentsCollection",Ht(mt,"documents"));Ye(this,"maintenanceCollection",Ht(mt,"maintenance"));Ye(this,"storage",dY());Ye(this,"storageBasePath","vehicles");Ye(this,"initialized",!1);Ye(this,"defaultVehicles",[{brand:"Renault",model:"Kangoo",registrationNumber:"GE-695-RT",type:"van",status:"active",purchaseDate:"2020-01-01",lastMaintenanceDate:"2023-01-15",nextMaintenanceDate:"2023-07-15",mileage:45e3,fuelType:"diesel",capacity:800,notes:"Véhicule utilitaire principal",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:{provider:"AXA",policyNumber:"AX123456789",validFrom:"2023-01-01",validUntil:"2024-01-01",coverageType:"comprehensive",monthlyPremium:120,currency:"EUR",documents:[]},technicalSpecifications:{vin:"VF1FW1AB123456789",year:2020,engine:{type:"Diesel 1.5 dCi",power:85,cylinderCapacity:1461},transmission:"manual",weight:1485,dimensions:{length:4490,width:1830,height:1835},maxPayload:650,fuelConsumption:{urban:5.5,extraUrban:4.6,combined:5},emissions:{co2:131,emissionStandard:"Euro 6d"},tires:{frontSize:"195/65 R15",rearSize:"195/65 R15",recommendedPressure:{front:2.5,rear:2.5}}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{brand:"Citroën",model:"Berlingo",registrationNumber:"GI-456-AD",type:"van",status:"active",purchaseDate:"2021-01-01",lastMaintenanceDate:"2023-02-10",nextMaintenanceDate:"2023-08-10",mileage:32500,fuelType:"diesel",capacity:800,notes:"Véhicule utilitaire secondaire",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:{provider:"MMA",policyNumber:"MM789654321",validFrom:"2023-01-01",validUntil:"2024-01-01",coverageType:"comprehensive",monthlyPremium:110,currency:"EUR",documents:[]},technicalSpecifications:{vin:"VF7GBHFXBEUR567890",year:2021,engine:{type:"Diesel 1.5 BlueHDi",power:100,cylinderCapacity:1499},transmission:"manual",weight:1532,dimensions:{length:4650,width:1850,height:1860},maxPayload:700,fuelConsumption:{urban:5,extraUrban:4.2,combined:4.6},emissions:{co2:120,emissionStandard:"Euro 6d"},tires:{frontSize:"205/60 R16",rearSize:"205/60 R16",recommendedPressure:{front:2.5,rear:2.5}}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{brand:"Renault",model:"Clio",registrationNumber:"GL-789-BA",type:"car",status:"active",purchaseDate:"2022-01-01",lastMaintenanceDate:"2023-02-20",nextMaintenanceDate:"2023-08-20",mileage:15800,fuelType:"petrol",notes:"Véhicule de service",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:{provider:"Generali",policyNumber:"GE567891234",validFrom:"2023-01-01",validUntil:"2024-01-01",coverageType:"comprehensive",monthlyPremium:90,currency:"EUR",documents:[]},technicalSpecifications:{vin:"VF1RJA00067123456",year:2022,engine:{type:"Petrol 1.0 TCe",power:90,cylinderCapacity:999},transmission:"manual",weight:1178,dimensions:{length:4050,width:1798,height:1440},fuelConsumption:{urban:6.2,extraUrban:4.5,combined:5.1},emissions:{co2:118,emissionStandard:"Euro 6d"},tires:{frontSize:"195/55 R16",rearSize:"195/55 R16",recommendedPressure:{front:2.2,rear:2}}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}])}async initializeDefaultVehicles(){try{if((await Jt(this.collection)).empty){console.log("Initialisation des véhicules par défaut...");for(const n of this.defaultVehicles)await this.createVehicle(n);console.log("Véhicules par défaut initialisés avec succès")}else console.log("La collection de véhicules n'est pas vide, pas d'initialisation nécessaire")}catch(e){throw console.error("Erreur lors de l'initialisation des véhicules par défaut:",e),e}}async getVehicles(e={}){try{let n=wn(this.collection);if(e.type&&(n=wn(n,Dr("type","==",e.type))),e.status&&(n=wn(n,Dr("status","==",e.status))),e.assignedDriver&&(n=wn(n,Dr("assignedDriver","==",e.assignedDriver))),e.search){const i=e.search.toLowerCase();return(await Jt(this.collection)).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.brand.toLowerCase().includes(i)||a.model.toLowerCase().includes(i)||a.registrationNumber.toLowerCase().includes(i))}return(await Jt(n)).docs.map(i=>({id:i.id,...i.data()})).filter(i=>{if(e.minMileage&&i.mileage<e.minMileage||e.maxMileage&&i.mileage>e.maxMileage)return!1;if(e.needsMaintenance)return new Date(i.nextMaintenanceDate)<=new Date;if(e.documentExpiresWithin&&e.documentExpiresWithin>0){const s=new Date,a=new Date(s);return a.setDate(s.getDate()+e.documentExpiresWithin),i.documents.some(l=>{if(l.expiryDate){const c=new Date(l.expiryDate);return c<=a&&c>=s}return!1})}return e.lastInspectionStatus&&i.inspections.length>0?i.inspections.sort((a,l)=>new Date(l.date).getTime()-new Date(a.date).getTime())[0].status===e.lastInspectionStatus:!0})}catch(n){throw console.error("Erreur lors de la récupération des véhicules:",n),n}}async getVehicleById(e){try{const n=un(this.collection,e),r=await si(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw console.error("Erreur lors de la récupération du véhicule:",n),n}}async createVehicle(e){try{return{id:(await os(this.collection,{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(n){throw console.error("Erreur lors de la création du véhicule:",n),n}}async updateVehicle(e,n){try{const r=un(this.collection,e);await Yo(r,{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour du véhicule:",r),r}}async deleteVehicle(e){try{const n=un(this.collection,e);await Go(n)}catch(n){throw console.error("Erreur lors de la suppression du véhicule:",n),n}}async getDocuments(e){try{const r=vc().currentUser;console.log("Debug - Utilisateur actuel:",r==null?void 0:r.uid,r==null?void 0:r.email);const o=wn(this.documentsCollection,Dr("vehicleId","==",e));return(await Jt(o)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Erreur lors de la récupération des documents:",n),n}}async addDocumentToVehicle(e,n){try{const r={...n,vehicleId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await os(this.documentsCollection,r)).id}catch(r){throw console.error("Erreur lors de l'ajout du document:",r),r}}async updateDocument(e,n,r){try{const o=un(this.documentsCollection,n),i=await si(o);if(!i.exists()||i.data().vehicleId!==e)throw new Error("Document non trouvé ou n'appartenant pas à ce véhicule");await Yo(o,{...r,updatedAt:new Date().toISOString()})}catch(o){throw console.error("Erreur lors de la mise à jour du document:",o),o}}async deleteDocument(e,n){try{const r=un(this.documentsCollection,n),o=await si(r);if(!o.exists()||o.data().vehicleId!==e)throw new Error("Document non trouvé ou n'appartenant pas à ce véhicule");await Go(r)}catch(r){throw console.error("Erreur lors de la suppression du document:",r),r}}async uploadDocument(e,n){try{const r=vc();if(!r.currentUser)throw new Error("Utilisateur non authentifié");if(n.size>5*1024*1024)throw new Error("Le fichier est trop volumineux (max 5MB)");if(!n.type.match("image/.*|application/pdf"))throw new Error("Type de fichier non autorisé");const o=Date.now(),i=n.name.replace(/[^a-zA-Z0-9.]/g,"_"),s=`${o}_${i}`,a=`${this.storageBasePath}/${e}/${s}`;console.log("Debug - Preparing upload:",{originalName:n.name,cleanFileName:s,filePath:a,fileType:n.type,fileSize:n.size});const l=JD(this.storage,a),c={contentType:n.type,customMetadata:{vehicleId:e,uploadedBy:r.currentUser.uid,originalName:n.name}};try{console.log("Debug - Starting upload with metadata:",c);const u=await Lme(l,n,c);console.log("Debug - Upload successful:",u),console.log("Debug - Getting download URL...");const d=await uY(l);return console.log("Debug - Download URL obtained:",d),{fileUrl:d}}catch(u){throw console.error("Erreur détaillée lors de l'upload:",{code:u.code,message:u.message,serverResponse:u.serverResponse,name:u.name}),new Error(`Erreur lors de l'upload: ${u.message}`)}}catch(r){throw console.error("Erreur générale:",r),r.code==="storage/unauthorized"?new Error("Accès non autorisé au stockage"):r.code==="storage/canceled"?new Error("Téléchargement annulé"):r.code==="storage/unknown"?new Error("Erreur inconnue lors du téléchargement"):new Error(r.message||"Erreur lors du téléchargement du fichier")}}async getMaintenanceRecords(e){try{const n=wn(this.maintenanceCollection,Dr("vehicleId","==",e));return(await Jt(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(n){throw console.error("Erreur lors de la récupération des enregistrements de maintenance:",n),n}}async addMaintenanceRecord(e,n){try{return{id:(await os(this.maintenanceCollection,{...n,vehicleId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...n}}catch(r){throw console.error("Erreur lors de l'ajout de l'enregistrement de maintenance:",r),r}}async updateMaintenanceRecord(e,n,r){try{const o=un(this.maintenanceCollection,n),i=await si(o);if(!i.exists()||i.data().vehicleId!==e)throw new Error("Enregistrement non trouvé ou n'appartenant pas à ce véhicule");await Yo(o,{...r,updatedAt:new Date().toISOString()})}catch(o){throw console.error("Erreur lors de la mise à jour de l'enregistrement de maintenance:",o),o}}async deleteMaintenanceRecord(e,n){try{const r=un(this.maintenanceCollection,n),o=await si(r);if(!o.exists()||o.data().vehicleId!==e)throw new Error("Enregistrement non trouvé ou n'appartenant pas à ce véhicule");await Go(r)}catch(r){throw console.error("Erreur lors de la suppression de l'enregistrement de maintenance:",r),r}}async updateInsuranceInfo(e,n){try{const r=un(this.collection,e);await Yo(r,{insuranceInfo:n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour des informations d'assurance:",r),r}}async updateTechnicalSpecifications(e,n){try{const r=un(this.collection,e);await Yo(r,{technicalSpecifications:n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour des spécifications techniques:",r),r}}async getVehicleDocumentsAlternative(e){try{const n=await this.getVehicleById(e);if(!n)throw new Error("Véhicule non trouvé");return console.log("Debug - Documents du véhicule:",n.documents),n.documents||[]}catch(n){throw console.error("Erreur lors de la récupération alternative des documents:",n),n}}}const ai=new kot,cie=({vehicle:t})=>{const{hasPermission:e}=ku(),[n,r]=h.useState([]),[o,i]=h.useState(!1),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,m]=h.useState({title:"",type:"insurance",issueDate:new Date().toISOString().split("T")[0],expiryDate:"",notes:""}),[g,v]=h.useState(!1),[y,b]=h.useState(null),x=oe.useRef(null);h.useEffect(()=>{w()},[t.id]);const w=async()=>{try{i(!0),a(null);const N=await ai.getDocuments(t.id);r(N)}catch(N){a(N.message||"Erreur lors du chargement des documents"),r([])}finally{i(!1)}},C=N=>N?new Date(N).toISOString().split("T")[0]:"",E=N=>{N?(d(N),m({...N,issueDate:C(N.issueDate),expiryDate:C(N.expiryDate)})):(d(null),m({title:"",type:"insurance",issueDate:C(new Date().toISOString()),expiryDate:"",notes:""})),c(!0)},_=()=>{c(!1),d(null),m({title:"",type:"insurance",issueDate:new Date().toISOString().split("T")[0],expiryDate:"",notes:""})},S=N=>{const{name:O,value:j}=N.target;m(L=>({...L,[O]:j}))},T=async N=>{const O=N.target.files;if(!O||O.length===0){a("Aucun fichier sélectionné");return}try{if(i(!0),a(null),!vc().currentUser){a("Vous devez être connecté pour télécharger des fichiers");return}if(!e("documents.create")){a("Vous n'avez pas les permissions nécessaires pour télécharger des fichiers");return}for(let L=0;L<O.length;L++){const z=O[L],V=5*1024*1024;if(z.size>V){a(`Le fichier ${z.name} est trop volumineux. La taille maximale est de 5MB.`);continue}if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(z.type)){a(`Type de fichier non autorisé pour ${z.name}. Seuls les fichiers JPG, PNG et PDF sont acceptés.`);continue}try{await ai.uploadDocument(t.id,z)}catch(Y){a(`Erreur lors de l'upload de ${z.name}: ${Y.message}`)}}await w()}catch(j){a(`Erreur: ${j.message||"Une erreur inconnue s'est produite"}`)}finally{i(!1),x.current&&(x.current.value="")}},I=async()=>{try{const N={...f,issueDate:new Date(f.issueDate||"").toISOString(),expiryDate:f.expiryDate?new Date(f.expiryDate).toISOString():""};u?await ai.updateDocument(t.id,u.id,N):await ai.addDocumentToVehicle(t.id,N),_(),w()}catch(N){a(N.message||"Erreur lors de la sauvegarde du document"),console.error("Erreur:",N)}},P=async N=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce document ?"))try{await ai.deleteDocument(t.id,N),w()}catch(O){a(O.message||"Erreur lors de la suppression du document"),console.error("Erreur:",O)}},M=N=>{b(N.fileUrl),v(!0)},R=N=>{switch(N){case"insurance":return p.jsx(Ca,{});case"registration":return p.jsx(Ca,{});case"inspection":return p.jsx(Ca,{});case"maintenance":return p.jsx(Ca,{});case"other":return p.jsx(Ca,{});default:return p.jsx(Ca,{})}},k=N=>{switch(N){case"insurance":return"Assurance";case"registration":return"Carte grise";case"inspection":return"Contrôle technique";case"maintenance":return"Maintenance";case"other":return"Autre";default:return N}},D=N=>{if(!N)return null;const O=new Date(N),j=new Date,L=Math.ceil((O.getTime()-j.getTime())/(1e3*60*60*24));return L<0?{color:"error",label:"Expiré"}:L<=30?{color:"warning",label:"Expire bientôt"}:{color:"success",label:"Valide"}},A=N=>N?N.includes("pdf")?p.jsx(rXe,{}):N.includes("image")?p.jsx(XYe,{}):p.jsx(Ca,{}):p.jsx(Ca,{});return p.jsxs(vt,{children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h6",children:"Documents du véhicule"}),p.jsxs(vt,{children:[p.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",style:{display:"none"},onChange:T,ref:x}),p.jsx(Mt,{variant:"contained",startIcon:p.jsx(df,{}),onClick:()=>{var N;return(N=x.current)==null?void 0:N.click()},disabled:o||!e("documents.create"),children:"Ajouter des documents"})]})]}),s&&p.jsx(gr,{severity:"error",sx:{mb:2},children:s}),o&&p.jsx(vt,{sx:{display:"flex",justifyContent:"center",my:2},children:p.jsx(Hi,{})}),n.length===0?p.jsx(gr,{severity:"info",children:'Aucun document pour ce véhicule. Utilisez le bouton "Ajouter des documents" pour ajouter un document.'}):p.jsx(OI,{component:bn,variant:"outlined",children:p.jsxs(DI,{children:[p.jsx(AI,{children:p.jsxs(pu,{children:[p.jsx(hn,{children:"Document"}),p.jsx(hn,{children:"Type"}),p.jsx(hn,{children:"Date d'émission"}),p.jsx(hn,{children:"Date d'expiration"}),p.jsx(hn,{children:"Statut"}),p.jsx(hn,{align:"right",children:"Actions"})]})}),p.jsx(MI,{children:n.map(N=>{var O,j;return p.jsxs(pu,{children:[p.jsx(hn,{children:p.jsxs(nu,{direction:"row",spacing:1,alignItems:"center",children:[A(N.fileType),p.jsx(Ne,{variant:"body2",children:N.title||N.fileName})]})}),p.jsx(hn,{children:p.jsxs(nu,{direction:"row",spacing:1,alignItems:"center",children:[R(N.type),p.jsx(Ne,{variant:"body2",children:k(N.type)})]})}),p.jsx(hn,{children:N.issueDate?new Date(N.issueDate).toLocaleDateString():"-"}),p.jsx(hn,{children:N.expiryDate?new Date(N.expiryDate).toLocaleDateString():"-"}),p.jsx(hn,{children:N.expiryDate&&p.jsx(so,{label:(O=D(N.expiryDate))==null?void 0:O.label,color:(j=D(N.expiryDate))==null?void 0:j.color,size:"small"})}),p.jsxs(hn,{align:"right",children:[p.jsx(wr,{size:"small",onClick:()=>M(N),title:"Aperçu",children:p.jsx(RE,{fontSize:"small"})}),p.jsx(wr,{size:"small",href:N.fileUrl,target:"_blank",download:!0,title:"Télécharger",children:p.jsx(eW,{fontSize:"small"})}),e("documents.update")&&p.jsx(wr,{size:"small",onClick:()=>E(N),title:"Éditer",children:p.jsx(Yv,{fontSize:"small"})}),e("documents.delete")&&p.jsx(wr,{size:"small",onClick:()=>P(N.id),title:"Supprimer",color:"error",children:p.jsx(rp,{fontSize:"small"})})]})]},N.id)})})]})}),p.jsxs(ss,{open:l,onClose:_,maxWidth:"md",fullWidth:!0,children:[p.jsx(Ds,{children:u?"Modifier le document":"Nouveau document"}),p.jsx(ls,{dividers:!0,children:p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,children:p.jsx(_n,{fullWidth:!0,label:"Titre",name:"title",value:f.title,onChange:S})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsxs(_n,{fullWidth:!0,label:"Type",name:"type",value:f.type,onChange:S,select:!0,SelectProps:{native:!0},children:[p.jsx("option",{value:"insurance",children:"Assurance"}),p.jsx("option",{value:"registration",children:"Carte grise"}),p.jsx("option",{value:"inspection",children:"Contrôle technique"}),p.jsx("option",{value:"maintenance",children:"Maintenance"}),p.jsx("option",{value:"other",children:"Autre"})]})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Date d'émission",type:"date",name:"issueDate",value:f.issueDate,onChange:S,InputLabelProps:{shrink:!0}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Date d'expiration",type:"date",name:"expiryDate",value:f.expiryDate,onChange:S,InputLabelProps:{shrink:!0}})}),p.jsx(ut,{item:!0,xs:12,children:p.jsx(_n,{fullWidth:!0,label:"Notes",name:"notes",value:f.notes,onChange:S,multiline:!0,rows:3})}),p.jsxs(ut,{item:!0,xs:12,children:[p.jsxs(Mt,{variant:"outlined",component:"label",fullWidth:!0,startIcon:p.jsx(df,{}),children:["Télécharger un fichier",p.jsx("input",{type:"file",hidden:!0,onChange:T,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]}),f.fileName&&p.jsxs(Ne,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Fichier sélectionné: ",f.fileName]})]})]})}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:_,children:"Annuler"}),p.jsx(Mt,{onClick:I,variant:"contained",children:u?"Modifier":"Ajouter"})]})]}),p.jsxs(ss,{open:g,onClose:()=>v(!1),maxWidth:"xl",fullWidth:!0,children:[p.jsx(Ds,{children:"Prévisualisation du document"}),p.jsx(ls,{children:y&&p.jsx(vt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"},children:y.includes(".pdf")?p.jsx("iframe",{src:y,style:{width:"100%",height:"100%",border:"none"},title:"Document preview"}):p.jsx("img",{src:y,alt:"Document preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:()=>v(!1),children:"Fermer"}),y&&p.jsx(Mt,{href:y,target:"_blank",download:!0,variant:"contained",startIcon:p.jsx(eW,{}),children:"Télécharger"})]})]}),p.jsxs(vt,{sx:{mt:4},children:[p.jsx(Ne,{variant:"h6",gutterBottom:!0,children:"Résumé des documents"}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Documents expirés"}),p.jsxs(cs,{dense:!0,children:[n.filter(N=>{var O;return N.expiryDate&&((O=D(N.expiryDate))==null?void 0:O.color)==="error"}).map(N=>p.jsxs($s,{children:[p.jsx(Gd,{children:p.jsx(nb,{color:"error"})}),p.jsx(hl,{primary:N.title,secondary:`Expiré le ${new Date(N.expiryDate).toLocaleDateString()}`})]},N.id)),n.filter(N=>{var O;return N.expiryDate&&((O=D(N.expiryDate))==null?void 0:O.color)==="error"}).length===0&&p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Aucun document expiré"})]})]})}),p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Documents à renouveler"}),p.jsxs(cs,{dense:!0,children:[n.filter(N=>{var O;return N.expiryDate&&((O=D(N.expiryDate))==null?void 0:O.color)==="warning"}).map(N=>p.jsxs($s,{children:[p.jsx(Gd,{children:p.jsx(ff,{color:"warning"})}),p.jsx(hl,{primary:N.title,secondary:`Expire le ${new Date(N.expiryDate).toLocaleDateString()}`})]},N.id)),n.filter(N=>{var O;return N.expiryDate&&((O=D(N.expiryDate))==null?void 0:O.color)==="warning"}).length===0&&p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Aucun document à renouveler"})]})]})}),p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Documents valides"}),p.jsxs(cs,{dense:!0,children:[n.filter(N=>{var O;return N.expiryDate&&((O=D(N.expiryDate))==null?void 0:O.color)==="success"}).map(N=>p.jsxs($s,{children:[p.jsx(Gd,{children:p.jsx(np,{color:"success"})}),p.jsx(hl,{primary:N.title,secondary:`Expire le ${new Date(N.expiryDate).toLocaleDateString()}`})]},N.id)),n.filter(N=>{var O;return N.expiryDate&&((O=D(N.expiryDate))==null?void 0:O.color)==="success"}).length===0&&p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Aucun document valide"})]})]})})]})]})]})};class Dot{constructor(){Ye(this,"collectionRef",Ht(mt,"inspections"));Ye(this,"storageBasePath","vehicle-inspections")}async getInspections(e={}){try{let n=wn(this.collectionRef,w_("date","desc"));return e.vehicleId&&(n=wn(n,Dr("vehicleId","==",e.vehicleId))),e.inspectedBy&&(n=wn(n,Dr("inspectedBy","==",e.inspectedBy))),e.status&&(n=wn(n,Dr("status","==",e.status))),e.startDate&&(n=wn(n,Dr("date",">=",e.startDate))),e.endDate&&(n=wn(n,Dr("date","<=",e.endDate))),e.actionRequired!==void 0&&(n=wn(n,Dr("actionRequired","==",e.actionRequired))),(await Jt(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(n){throw console.error("Erreur lors de la récupération des inspections:",n),n}}async getInspectionById(e){try{const n=un(this.collectionRef,e),r=await si(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw console.error("Erreur lors de la récupération de l'inspection:",n),n}}async createInspection(e){try{const n=new Date().toISOString();return{id:(await os(this.collectionRef,{...e,createdAt:n,updatedAt:n})).id,...e,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erreur lors de la création de l'inspection:",n),n}}async updateInspection(e,n){try{const r=un(this.collectionRef,e);await Yo(r,{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour de l'inspection:",r),r}}async deleteInspection(e){try{const n=await this.getInspectionById(e);if(n)for(const o of n.inspectionItems)for(const i of o.photos)await this.deletePhoto(i.url);const r=un(this.collectionRef,e);await Go(r)}catch(n){throw console.error("Erreur lors de la suppression de l'inspection:",n),n}}async uploadPhoto(e,n,r){try{const o=Date.now(),i=`${n}_${r}_${o}_${e.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,s=`${this.storageBasePath}/photos/${i}`,a=JD(pz,s),l=Fme(a,e);return new Promise((c,u)=>{l.on("state_changed",d=>{const f=d.bytesTransferred/d.totalBytes*100;console.log("Upload progress:",f)},d=>{console.error("Erreur lors de l'upload:",d),u(d)},async()=>{try{const d=await uY(l.snapshot.ref),f=d,m={id:`photo_${o}`,url:d,thumbnailUrl:f,fileName:i,mimeType:e.type,size:e.size,createdAt:new Date().toISOString(),metadata:{width:null,height:null,location:null}};c(m)}catch(d){console.error("Erreur lors de la récupération de l'URL:",d),u(d)}})})}catch(o){throw console.error("Erreur lors de l'upload de la photo:",o),o}}async addPhotoToInspectionItem(e,n,r){try{const o=await this.getInspectionById(e);if(!o)throw new Error("Inspection non trouvée");const i=o.inspectionItems.findIndex(a=>a.id===n);if(i===-1)throw new Error("Élément d'inspection non trouvé");const s=[...o.inspectionItems];s[i]={...s[i],photos:[...s[i].photos,r]},await this.updateInspection(e,{inspectionItems:s})}catch(o){throw console.error("Erreur lors de l'ajout de la photo à l'élément d'inspection:",o),o}}async deletePhoto(e){try{const n=JD(pz,e);await zme(n)}catch(n){throw console.error("Erreur lors de la suppression de la photo:",n),n}}async removePhotoFromInspectionItem(e,n,r){try{const o=await this.getInspectionById(e);if(!o)throw new Error("Inspection non trouvée");const i=o.inspectionItems.findIndex(u=>u.id===n);if(i===-1)throw new Error("Élément d'inspection non trouvé");const s=o.inspectionItems[i].photos.findIndex(u=>u.id===r);if(s===-1)throw new Error("Photo non trouvée");const a=o.inspectionItems[i].photos[s].url;await this.deletePhoto(a);const l=o.inspectionItems[i].photos.filter(u=>u.id!==r),c=[...o.inspectionItems];c[i]={...c[i],photos:l},await this.updateInspection(e,{inspectionItems:c})}catch(o){throw console.error("Erreur lors de la suppression de la photo de l'élément d'inspection:",o),o}}async testCollectionAccess(){var e,n;try{console.log("===== DÉBUT DES TESTS D'ACCÈS AUX COLLECTIONS =====");const r=vc(),o=((e=r.currentUser)==null?void 0:e.uid)||"non authentifié",i=((n=r.currentUser)==null?void 0:n.email)||"email inconnu";console.log(`Utilisateur actuel: ID=${o}, Email=${i}`);const s={vehicules:{success:!1,count:0,error:""},inspections:{success:!1,count:0,error:""},vehicleInspections:{success:!1,count:0,error:""},roles:{success:!1,count:0,error:""},users:{success:!1,count:0,error:""}};try{const u=Ht(mt,"vehicules"),d=await Jt(u);s.vehicules.success=!0,s.vehicules.count=d.size,console.log(`✅ Accès à 'vehicules' réussi: ${d.size} documents`)}catch(u){s.vehicules.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'vehicules':",u)}try{const u=Ht(mt,"inspections"),d=await Jt(u);s.inspections.success=!0,s.inspections.count=d.size,console.log(`✅ Accès à 'inspections' réussi: ${d.size} documents`)}catch(u){s.inspections.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'inspections':",u)}try{const u=Ht(mt,"vehicleInspections"),d=await Jt(u);s.vehicleInspections.success=!0,s.vehicleInspections.count=d.size,console.log(`✅ Accès à 'vehicleInspections' réussi: ${d.size} documents`)}catch(u){s.vehicleInspections.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'vehicleInspections':",u)}try{const u=Ht(mt,"roles"),d=await Jt(u);s.roles.success=!0,s.roles.count=d.size,console.log(`✅ Accès à 'roles' réussi: ${d.size} documents`)}catch(u){s.roles.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'roles':",u)}try{const u=Ht(mt,"users"),d=await Jt(u);s.users.success=!0,s.users.count=d.size,console.log(`✅ Accès à 'users' réussi: ${d.size} documents`)}catch(u){s.users.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'users':",u)}console.log("===== RÉSUMÉ DES TESTS D'ACCÈS ====="),console.log(JSON.stringify(s,null,2)),console.log("===== FIN DES TESTS D'ACCÈS =====");const a=Object.values(s).filter(u=>u.success).length,l=Object.keys(s).length,c=`Tests d'accès: ${a}/${l} collections accessibles
- vehicules: ${s.vehicules.success?"✅":"❌"}
- inspections: ${s.inspections.success?"✅":"❌"}
- vehicleInspections: ${s.vehicleInspections.success?"✅":"❌"}
- roles: ${s.roles.success?"✅":"❌"}
- users: ${s.users.success?"✅":"❌"}`;return{success:a>0,message:c,details:s}}catch(r){return console.error("Erreur lors des tests d'accès:",r),{success:!1,message:`Erreur lors des tests: ${r instanceof Error?r.message:String(r)}`,details:{}}}}async createTestInspection(e){try{const r=vc().currentUser;if(!r)throw new Error("Utilisateur non connecté");const o=En.now(),i={vehicleId:e,date:o.toDate().toISOString(),inspectorName:r.displayName||r.email||"Inspecteur Test",odometer:5e4,status:"passed",generalComments:"Inspection de test",inspectionItems:[{id:"item1",category:"Sécurité",name:"Freins",status:"ok",comments:"RAS",photos:[]},{id:"item2",category:"Extérieur",name:"Carrosserie",status:"ok",comments:"RAS",photos:[]}],actionRequired:!1,actionDescription:"",createdAt:o.toDate().toISOString(),updatedAt:o.toDate().toISOString()};return{id:(await os(this.collectionRef,i)).id,...i}}catch(n){throw console.error("Erreur lors de la création de l'inspection de test:",n),n}}}const GW=new Dot,_S=t=>{const{children:e,value:n,index:r,...o}=t;return p.jsx("div",{role:"tabpanel",hidden:n!==r,id:`inspection-tabpanel-${r}`,"aria-labelledby":`inspection-tab-${r}`,...o,children:n===r&&p.jsx(vt,{sx:{p:2},children:e})})},uie=({vehicle:t})=>{const{currentUser:e,hasPermission:n}=ku();Tc();const[r,o]=h.useState([]),[i,s]=h.useState(null),[a,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(!1),[m,g]=h.useState(0),[v,y]=h.useState([]),[b,x]=h.useState(!1),[w,C]=h.useState(null);h.useEffect(()=>{console.log("Debug - Utilisateur:",e==null?void 0:e.email,e==null?void 0:e.role),console.log("Debug - Vehicle ID:",t.id),console.log("Debug - Permissions véhicules:",n("vehicules.view")),console.log("Debug - Inspections du véhicule:",t.inspections),E()},[t.id]);const E=async()=>{try{l(!0),u(null);try{console.log("Tentative de chargement depuis la collection d'inspections...");const O=await GW.getInspections({vehicleId:t.id});console.log("Inspections chargées depuis la collection:",O),o(O);return}catch(O){if(console.warn("Échec du chargement depuis la collection:",O),console.log("Utilisation des inspections intégrées au véhicule..."),t.inspections&&t.inspections.length>0){console.log("Inspections trouvées dans le véhicule:",t.inspections);const j=t.inspections.map(L=>({id:L.id,vehicleId:t.id,date:L.date,inspectorName:L.type||"Inspecteur non spécifié",odometer:parseInt(t.mileage)||0,status:L.status,inspectionItems:L.items||[],actionRequired:L.status==="failed",actionDescription:L.notes,createdAt:L.createdAt,updatedAt:L.updatedAt}));o(j);return}}o([])}catch(O){console.error("Erreur finale:",O),u(O.message||"Erreur lors du chargement des inspections"),o([])}finally{l(!1)}},_=(O,j)=>{g(j)},S=O=>(j,L)=>{y(L?[...v,O]:v.filter(z=>z!==O))},T=O=>{s(O),f(!0),g(0)},I=()=>{s(null),f(!1),y([])},P=O=>{C(O),x(!0)},M=O=>{switch(O){case"passed":return"success";case"passed_with_warnings":return"warning";case"failed":return"error";case"incomplete":return"default";default:return"default"}},R=O=>{switch(O){case"passed":return"Réussite";case"passed_with_warnings":return"Réussite avec réserves";case"failed":return"Échec";case"incomplete":return"Incomplet";default:return O}},k=O=>{switch(O){case"ok":return p.jsx(np,{fontSize:"small",color:"success"});case"attention":return p.jsx(ff,{fontSize:"small",color:"warning"});case"critical":return p.jsx(nb,{fontSize:"small",color:"error"});case"not_applicable":return p.jsx(Z9,{fontSize:"small",color:"disabled"});default:return null}},D=O=>{switch(O){case"exterior":return"Extérieur";case"interior":return"Intérieur";case"mechanical":return"Mécanique";case"electrical":return"Électrique";case"safety":return"Sécurité";case"fluids":return"Fluides";case"tires":return"Pneus";case"other":return"Autre";default:return O}},A=async()=>{try{const O=await ai.getVehicleById(t.id);if(!O)throw new Error("Véhicule non trouvé");const j={id:`embedded-${Date.now()}`,date:new Date().toISOString(),type:"Test inspection",status:"pending",items:[{id:`item-${Date.now()}`,name:"Élément de test",category:"Générale",status:"ok",notes:"Test intégré",photos:[]}],photos:[],notes:"Inspection de test intégrée pour contourner les problèmes de permissions",nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},L=[...O.inspections||[],j];await ai.updateVehicle(t.id,{inspections:L,updatedAt:new Date().toISOString()}),console.log("Inspection intégrée créée"),E()}catch(O){console.error("Erreur lors de la création de l'inspection intégrée:",O),u(`Erreur: ${O.message}`)}},N=async()=>{try{l(!0),u(null),await GW.createTestInspection(t.id),await E()}catch(O){console.error("Erreur lors de la création de l'inspection de test:",O),u("Erreur lors de la création de l'inspection de test")}finally{l(!1)}};return p.jsxs(vt,{children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h6",children:"Inspections du véhicule"}),p.jsxs(vt,{children:[p.jsx(Mt,{variant:"contained",startIcon:p.jsx(df,{}),sx:{mr:1},children:"Ajouter une inspection"}),p.jsx(Mt,{variant:"outlined",color:"secondary",onClick:A,sx:{mr:1},children:"Créer une inspection intégrée"}),p.jsx(Mt,{variant:"contained",color:"primary",onClick:N,sx:{mr:1},children:"Créer une inspection de test"})]})]}),c&&p.jsx(gr,{severity:"error",sx:{mb:2},children:c}),a&&p.jsx(vt,{sx:{display:"flex",justifyContent:"center",my:2},children:p.jsx(Hi,{})}),r.length===0?p.jsx(gr,{severity:"info",children:'Aucune inspection pour ce véhicule. Utilisez le bouton "Nouvelle inspection" pour ajouter une inspection.'}):p.jsx(OI,{component:bn,variant:"outlined",children:p.jsxs(DI,{children:[p.jsx(AI,{children:p.jsxs(pu,{children:[p.jsx(hn,{children:"Date"}),p.jsx(hn,{children:"Inspecteur"}),p.jsx(hn,{children:"Kilométrage"}),p.jsx(hn,{children:"Statut"}),p.jsx(hn,{children:"Action requise"}),p.jsx(hn,{align:"right",children:"Actions"})]})}),p.jsx(MI,{children:r.map(O=>p.jsxs(pu,{children:[p.jsx(hn,{children:new Date(O.date).toLocaleDateString()}),p.jsx(hn,{children:O.inspectorName}),p.jsxs(hn,{children:[O.odometer.toLocaleString()," km"]}),p.jsx(hn,{children:p.jsx(so,{label:R(O.status),color:M(O.status),size:"small"})}),p.jsx(hn,{children:O.actionRequired?p.jsx(so,{label:"Oui",color:"warning",size:"small"}):p.jsx(so,{label:"Non",color:"success",size:"small"})}),p.jsxs(hn,{align:"right",children:[p.jsx(wr,{size:"small",onClick:()=>T(O),title:"Voir les détails",children:p.jsx(RE,{fontSize:"small"})}),p.jsx(wr,{size:"small",title:"Éditer",children:p.jsx(Yv,{fontSize:"small"})}),p.jsx(wr,{size:"small",title:"Supprimer",color:"error",children:p.jsx(rp,{fontSize:"small"})})]})]},O.id))})]})}),i&&p.jsxs(ss,{open:d,onClose:I,maxWidth:"lg",fullWidth:!0,children:[p.jsx(Ds,{children:p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs(Ne,{variant:"h6",children:["Inspection du ",new Date(i.date).toLocaleDateString()]}),p.jsx(so,{label:R(i.status),color:M(i.status)})]})}),p.jsx(ls,{dividers:!0,children:p.jsxs(vt,{sx:{width:"100%"},children:[p.jsx(vt,{sx:{borderBottom:1,borderColor:"divider"},children:p.jsxs(Gv,{value:m,onChange:_,variant:"scrollable",scrollButtons:"auto",children:[p.jsx(yr,{label:"Résumé"}),p.jsx(yr,{label:"Points de contrôle"}),p.jsx(yr,{label:"Photos"}),i.actionRequired&&p.jsx(yr,{label:"Actions requises"})]})}),p.jsx(_S,{value:m,index:0,children:p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle1",gutterBottom:!0,children:"Informations générales"}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Date"}),p.jsx(Ne,{variant:"body1",children:new Date(i.date).toLocaleDateString()})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Inspecteur"}),p.jsx(Ne,{variant:"body1",children:i.inspectorName})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Kilométrage"}),p.jsxs(Ne,{variant:"body1",children:[i.odometer.toLocaleString()," km"]})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Statut"}),p.jsx(Ne,{variant:"body1",children:p.jsx(so,{label:R(i.status),color:M(i.status),size:"small"})})]})]})]})}),p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle1",gutterBottom:!0,children:"Commentaires généraux"}),p.jsx(Ne,{variant:"body1",children:i.generalComments||"Aucun commentaire général."})]})}),i.actionRequired&&p.jsx(ut,{item:!0,xs:12,children:p.jsxs(bn,{variant:"outlined",sx:{p:2,bgcolor:"#fff4e5"},children:[p.jsx(Ne,{variant:"subtitle1",color:"warning.main",gutterBottom:!0,children:"Actions requises"}),p.jsx(Ne,{variant:"body1",paragraph:!0,children:i.actionDescription}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsxs(ut,{item:!0,xs:12,sm:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Date limite"}),p.jsx(Ne,{variant:"body1",children:i.actionDueDate?new Date(i.actionDueDate).toLocaleDateString():"Non spécifiée"})]}),p.jsxs(ut,{item:!0,xs:12,sm:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Statut"}),p.jsx(Ne,{variant:"body1",children:i.actionCompletedDate?`Complété le ${new Date(i.actionCompletedDate).toLocaleDateString()} par ${i.actionCompletedBy}`:"En attente"})]})]})]})}),p.jsx(ut,{item:!0,xs:12,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle1",gutterBottom:!0,children:"Résumé des points de contrôle"}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsx(ut,{item:!0,xs:12,sm:3,children:p.jsxs(Ne,{variant:"body2",color:"success.main",children:[p.jsx(np,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"OK: ",i.inspectionItems.filter(O=>O.status==="ok").length]})}),p.jsx(ut,{item:!0,xs:12,sm:3,children:p.jsxs(Ne,{variant:"body2",color:"warning.main",children:[p.jsx(ff,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Attention: ",i.inspectionItems.filter(O=>O.status==="attention").length]})}),p.jsx(ut,{item:!0,xs:12,sm:3,children:p.jsxs(Ne,{variant:"body2",color:"error.main",children:[p.jsx(nb,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Critique: ",i.inspectionItems.filter(O=>O.status==="critical").length]})}),p.jsx(ut,{item:!0,xs:12,sm:3,children:p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:[p.jsx(Z9,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"N/A: ",i.inspectionItems.filter(O=>O.status==="not_applicable").length]})})]})]})})]})}),p.jsx(_S,{value:m,index:1,children:Array.from(new Set(i.inspectionItems.map(O=>O.category))).map(O=>p.jsxs(jm,{expanded:v.includes(O),onChange:S(O),children:[p.jsx(zm,{expandIcon:p.jsx(Ore,{}),children:p.jsx(Ne,{variant:"subtitle1",children:D(O)})}),p.jsx(Lm,{children:p.jsx(cs,{dense:!0,children:i.inspectionItems.filter(j=>j.category===O).map(j=>p.jsxs($s,{children:[p.jsx(Gd,{children:k(j.status)}),p.jsx(hl,{primary:j.name,secondary:j.comments||"Aucun commentaire"}),j.photos.length>0&&p.jsx(so,{label:`${j.photos.length} photo(s)`,size:"small",icon:p.jsx(HYe,{}),variant:"outlined",onClick:()=>{g(2)}})]},j.id))})})]},O))}),p.jsx(_S,{value:m,index:2,children:p.jsxs(ut,{container:!0,spacing:2,children:[i.inspectionItems.filter(O=>O.photos.length>0).map(O=>p.jsxs(oe.Fragment,{children:[p.jsxs(ut,{item:!0,xs:12,children:[p.jsxs(Ne,{variant:"subtitle1",gutterBottom:!0,children:[O.name," (",D(O.category),")"]}),p.jsx(ua,{sx:{mb:2}})]}),O.photos.map(j=>p.jsx(ut,{item:!0,xs:12,sm:6,md:4,lg:3,children:p.jsxs(Bm,{children:[p.jsx(PUe,{component:"img",height:"140",image:j.thumbnailUrl,alt:`Photo de ${O.name}`,sx:{objectFit:"cover",cursor:"pointer"},onClick:()=>P(j)}),p.jsx(Vm,{sx:{py:1},children:p.jsx(Ne,{variant:"caption",color:"text.secondary",children:new Date(j.createdAt).toLocaleString()})}),p.jsx(vUe,{children:p.jsx(Mt,{size:"small",startIcon:p.jsx(RE,{}),onClick:()=>P(j),children:"Agrandir"})})]})},j.id))]},O.id)),i.inspectionItems.every(O=>O.photos.length===0)&&p.jsx(ut,{item:!0,xs:12,children:p.jsx(gr,{severity:"info",children:"Aucune photo n'a été prise durant cette inspection."})})]})}),p.jsx(_S,{value:m,index:3,children:i.actionRequired?p.jsxs(bn,{variant:"outlined",sx:{p:3,bgcolor:"#fff4e5"},children:[p.jsx(Ne,{variant:"h6",color:"warning.main",gutterBottom:!0,children:"Actions requises"}),p.jsx(Ne,{variant:"body1",paragraph:!0,children:i.actionDescription}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsxs(ut,{item:!0,xs:12,sm:6,children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Détails de l'action"}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsxs(ut,{item:!0,xs:12,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Date limite"}),p.jsx(Ne,{variant:"body1",gutterBottom:!0,children:i.actionDueDate?new Date(i.actionDueDate).toLocaleDateString():"Non spécifiée"})]}),p.jsxs(ut,{item:!0,xs:12,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Statut"}),p.jsx(Ne,{variant:"body1",children:i.actionCompletedDate?`Complété le ${new Date(i.actionCompletedDate).toLocaleDateString()}`:"En attente"})]})]})]}),p.jsxs(ut,{item:!0,xs:12,sm:6,children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Points critiques"}),p.jsxs(cs,{dense:!0,children:[i.inspectionItems.filter(O=>O.status==="critical").map(O=>p.jsxs($s,{children:[p.jsx(Gd,{children:p.jsx(nb,{color:"error"})}),p.jsx(hl,{primary:O.name,secondary:O.comments})]},O.id)),i.inspectionItems.filter(O=>O.status==="critical").length===0&&p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Aucun point critique détecté."})]})]}),!i.actionCompletedDate&&p.jsx(ut,{item:!0,xs:12,children:p.jsx(Mt,{variant:"contained",color:"warning",children:"Marquer comme effectué"})})]})]}):p.jsx(gr,{severity:"info",children:"Aucune action n'est requise pour cette inspection."})})]})}),p.jsx(as,{children:p.jsx(Mt,{onClick:I,children:"Fermer"})})]}),p.jsxs(ss,{open:b,onClose:()=>x(!1),maxWidth:"xl",fullWidth:!0,children:[p.jsx(Ds,{children:"Photo en plein écran"}),p.jsx(ls,{children:w&&p.jsx(vt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"},children:p.jsx("img",{src:w.url,alt:"Photo agrandie",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:()=>x(!1),children:"Fermer"}),w&&p.jsx(Mt,{href:w.url,target:"_blank",download:!0,variant:"contained",children:"Télécharger"})]})]})]})},die=({vehicle:t})=>{const[e,n]=h.useState([]),[r,o]=h.useState(!1),[i,s]=h.useState(null),[a,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState({date:new Date().toISOString().split("T")[0],type:"routine",description:"",mileage:t.odometer,cost:0,provider:"",nextDueDate:"",notes:""});h.useEffect(()=>{m()},[t.id]);const m=async()=>{try{o(!0),s(null);const _=await ai.getMaintenanceRecords(t.id);n(_)}catch(_){s(_.message||"Erreur lors du chargement des records de maintenance"),console.error("Erreur:",_)}finally{o(!1)}},g=_=>{_?(u(_),f(_)):(u(null),f({date:new Date().toISOString().split("T")[0],type:"routine",description:"",mileage:t.odometer,cost:0,provider:"",nextDueDate:"",notes:""})),l(!0)},v=()=>{l(!1),u(null),f({date:new Date().toISOString().split("T")[0],type:"routine",description:"",mileage:t.odometer,cost:0,provider:"",nextDueDate:"",notes:""})},y=_=>{const{name:S,value:T}=_.target;f(I=>({...I,[S]:T}))},b=async()=>{try{c?await ai.updateMaintenanceRecord(t.id,c.id,d):await ai.addMaintenanceRecord(t.id,d),v(),m()}catch(_){s(_.message||"Erreur lors de la sauvegarde du record de maintenance"),console.error("Erreur:",_)}},x=async _=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce record de maintenance ?"))try{await ai.deleteMaintenanceRecord(t.id,_),m()}catch(S){s(S.message||"Erreur lors de la suppression du record de maintenance"),console.error("Erreur:",S)}},w=_=>{switch(_){case"routine":return p.jsx(Ix,{});case"repair":return p.jsx(Wc,{});case"oil":return p.jsx(tXe,{});case"tire":return p.jsx(Nre,{});case"battery":return p.jsx($re,{});case"fuel":return p.jsx(QYe,{});default:return p.jsx(Ix,{})}},C=_=>{switch(_){case"routine":return"Maintenance routinière";case"repair":return"Réparation";case"oil":return"Vidange";case"tire":return"Pneus";case"battery":return"Batterie";case"fuel":return"Carburant";default:return _}},E=_=>{if(!_)return null;const S=new Date(_),T=new Date,I=Math.ceil((S.getTime()-T.getTime())/(1e3*60*60*24));return I<0?{color:"error",label:"En retard"}:I<=7?{color:"warning",label:"Bientôt dû"}:{color:"success",label:"À jour"}};return p.jsxs(vt,{children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h6",children:"Maintenance du véhicule"}),p.jsx(Mt,{variant:"contained",startIcon:p.jsx(df,{}),onClick:()=>g(),children:"Nouveau record"})]}),i&&p.jsx(gr,{severity:"error",sx:{mb:2},children:i}),r&&p.jsx(vt,{sx:{display:"flex",justifyContent:"center",my:2},children:p.jsx(Hi,{})}),e.length===0?p.jsx(gr,{severity:"info",children:'Aucun record de maintenance pour ce véhicule. Utilisez le bouton "Nouveau record" pour ajouter un record.'}):p.jsx(OI,{component:bn,variant:"outlined",children:p.jsxs(DI,{children:[p.jsx(AI,{children:p.jsxs(pu,{children:[p.jsx(hn,{children:"Date"}),p.jsx(hn,{children:"Type"}),p.jsx(hn,{children:"Description"}),p.jsx(hn,{children:"Kilométrage"}),p.jsx(hn,{children:"Coût"}),p.jsx(hn,{children:"Prochain rendez-vous"}),p.jsx(hn,{align:"right",children:"Actions"})]})}),p.jsx(MI,{children:e.map(_=>{var S;return p.jsxs(pu,{children:[p.jsx(hn,{children:new Date(_.date).toLocaleDateString()}),p.jsx(hn,{children:p.jsxs(nu,{direction:"row",spacing:1,alignItems:"center",children:[w(_.type),p.jsx(Ne,{variant:"body2",children:C(_.type)})]})}),p.jsx(hn,{children:_.description}),p.jsxs(hn,{children:[_.mileage.toLocaleString()," km"]}),p.jsxs(hn,{children:[_.cost.toFixed(2)," €"]}),p.jsx(hn,{children:_.nextDueDate&&p.jsx(so,{label:new Date(_.nextDueDate).toLocaleDateString(),color:(S=E(_.nextDueDate))==null?void 0:S.color,size:"small"})}),p.jsxs(hn,{align:"right",children:[p.jsx(wr,{size:"small",onClick:()=>g(_),title:"Éditer",children:p.jsx(Yv,{fontSize:"small"})}),p.jsx(wr,{size:"small",onClick:()=>x(_.id),title:"Supprimer",color:"error",children:p.jsx(rp,{fontSize:"small"})})]})]},_.id)})})]})}),p.jsxs(ss,{open:a,onClose:v,maxWidth:"md",fullWidth:!0,children:[p.jsx(Ds,{children:c?"Modifier le record de maintenance":"Nouveau record de maintenance"}),p.jsx(ls,{dividers:!0,children:p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Date",type:"date",name:"date",value:d.date,onChange:y,InputLabelProps:{shrink:!0}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsxs(_n,{fullWidth:!0,label:"Type",name:"type",value:d.type,onChange:y,select:!0,SelectProps:{native:!0},children:[p.jsx("option",{value:"routine",children:"Maintenance routinière"}),p.jsx("option",{value:"repair",children:"Réparation"}),p.jsx("option",{value:"oil",children:"Vidange"}),p.jsx("option",{value:"tire",children:"Pneus"}),p.jsx("option",{value:"battery",children:"Batterie"}),p.jsx("option",{value:"fuel",children:"Carburant"})]})}),p.jsx(ut,{item:!0,xs:12,children:p.jsx(_n,{fullWidth:!0,label:"Description",name:"description",value:d.description,onChange:y,multiline:!0,rows:3})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Kilométrage",name:"mileage",type:"number",value:d.mileage,onChange:y,InputProps:{endAdornment:"km"}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Coût",name:"cost",type:"number",value:d.cost,onChange:y,InputProps:{endAdornment:"€"}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Prestataire",name:"provider",value:d.provider,onChange:y})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Prochain rendez-vous",type:"date",name:"nextDueDate",value:d.nextDueDate,onChange:y,InputLabelProps:{shrink:!0}})}),p.jsx(ut,{item:!0,xs:12,children:p.jsx(_n,{fullWidth:!0,label:"Notes",name:"notes",value:d.notes,onChange:y,multiline:!0,rows:3})})]})}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:v,children:"Annuler"}),p.jsx(Mt,{onClick:b,variant:"contained",children:c?"Modifier":"Ajouter"})]})]}),p.jsxs(vt,{sx:{mt:4},children:[p.jsx(Ne,{variant:"h6",gutterBottom:!0,children:"Résumé de la maintenance"}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Dernière maintenance"}),e.length>0?p.jsxs(p.Fragment,{children:[p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Date: ",new Date(e[0].date).toLocaleDateString()]}),p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Type: ",C(e[0].type)]}),p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Kilométrage: ",e[0].mileage.toLocaleString()," km"]})]}):p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Aucune maintenance enregistrée"})]})}),p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Prochain rendez-vous"}),e.some(_=>_.nextDueDate)?p.jsx(cs,{dense:!0,children:e.filter(_=>_.nextDueDate).sort((_,S)=>new Date(_.nextDueDate).getTime()-new Date(S.nextDueDate).getTime()).slice(0,3).map(_=>{const S=E(_.nextDueDate);return p.jsxs($s,{children:[p.jsx(Gd,{children:(S==null?void 0:S.color)==="error"?p.jsx(nb,{color:"error"}):(S==null?void 0:S.color)==="warning"?p.jsx(ff,{color:"warning"}):p.jsx(np,{color:"success"})}),p.jsx(hl,{primary:C(_.type),secondary:`${new Date(_.nextDueDate).toLocaleDateString()} (${S==null?void 0:S.label})`})]},_.id)})}):p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Aucun rendez-vous prévu"})]})}),p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",gutterBottom:!0,children:"Coûts de maintenance"}),p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Total: ",e.reduce((_,S)=>_+S.cost,0).toFixed(2)," €"]}),p.jsxs(Ne,{variant:"body2",color:"text.secondary",children:["Moyenne par maintenance: ",(e.reduce((_,S)=>_+S.cost,0)/Math.max(1,e.length)).toFixed(2)," €"]})]})})]})]})]})},fie=({vehicle:t})=>{const[e,n]=h.useState(null),[r,o]=h.useState(!1),[i,s]=h.useState(null),[a,l]=h.useState(null);h.useEffect(()=>{n(t.technicalSpecifications)},[t]);const c=(f,m,g,v)=>{e&&n(y=>y?v?{...y,[f]:{...y[f],[m]:{...y[f][m],[v]:g}}}:{...y,[f]:{...y[f],[m]:g}}:null)},u=async()=>{if(e){o(!0),s(null),l(null);try{await ai.updateTechnicalSpecifications(t.id,e),l("Spécifications techniques mises à jour avec succès")}catch(f){s("Erreur lors de la mise à jour des spécifications techniques"),console.error(f)}finally{o(!1)}}},d=(f,m,g,v)=>e?p.jsxs(jm,{defaultExpanded:!0,children:[p.jsx(zm,{expandIcon:p.jsx(Ore,{}),children:p.jsxs(vt,{sx:{display:"flex",alignItems:"center"},children:[g,p.jsx(Ne,{variant:"h6",sx:{ml:1},children:m})]})}),p.jsx(Lm,{children:p.jsx(ut,{container:!0,spacing:2,children:v.map(y=>p.jsx(ut,{item:!0,xs:12,sm:6,md:4,children:p.jsx(_n,{fullWidth:!0,label:y.label,variant:"outlined",size:"small",type:y.type||"text",value:y.nested&&y.nestedKey?e[f][y.key][y.nestedKey]:e[f][y.key],onChange:b=>c(f,y.key,y.type==="number"?parseFloat(b.target.value):b.target.value,y.nested?y.nestedKey:void 0)})},y.key+(y.nestedKey||"")))})})]}):null;return e?p.jsxs(vt,{sx:{p:2},children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h5",children:"Spécifications techniques"}),p.jsx(Mt,{variant:"contained",color:"primary",onClick:u,disabled:r,children:r?p.jsx(Hi,{size:24}):"Enregistrer"})]}),i&&p.jsx(gr,{severity:"error",sx:{mb:2},children:i}),a&&p.jsx(gr,{severity:"success",sx:{mb:2},children:a}),p.jsxs(vt,{sx:{mb:3},children:[d("engine","Moteur",p.jsx(qL,{color:"primary"}),[{key:"type",label:"Type de moteur"},{key:"displacement",label:"Cylindrée"},{key:"power",label:"Puissance"},{key:"torque",label:"Couple"},{key:"cylinders",label:"Nombre de cylindres",type:"number"},{key:"fuelSystem",label:"Système d'alimentation"},{key:"transmission",label:"Transmission"}]),d("dimensions","Dimensions",p.jsx(sXe,{color:"primary"}),[{key:"length",label:"Longueur"},{key:"width",label:"Largeur"},{key:"height",label:"Hauteur"},{key:"wheelbase",label:"Empattement"},{key:"groundClearance",label:"Garde au sol"},{key:"cargoVolume",label:"Volume de chargement"}]),d("performance","Performance",p.jsx(oXe,{color:"primary"}),[{key:"acceleration",label:"0-100 km/h"},{key:"topSpeed",label:"Vitesse max"},{key:"brakingDistance",label:"Distance de freinage"},{key:"fuelConsumption",label:"Consommation"},{key:"range",label:"Autonomie"}]),d("tires","Pneumatiques",p.jsx(Nre,{color:"primary"}),[{key:"front",label:"Avant"},{key:"rear",label:"Arrière"},{key:"spare",label:"Roue de secours"},{key:"pressure",label:"Pression avant",nested:!0,nestedKey:"front"},{key:"pressure",label:"Pression arrière",nested:!0,nestedKey:"rear"},{key:"pressure",label:"Pression roue de secours",nested:!0,nestedKey:"spare"}]),d("fluids","Fluides",p.jsx(lXe,{color:"primary"}),[{key:"engineOil",label:"Type d'huile moteur",nested:!0,nestedKey:"type"},{key:"engineOil",label:"Capacité d'huile",nested:!0,nestedKey:"capacity"},{key:"engineOil",label:"Intervalle de vidange",nested:!0,nestedKey:"changeInterval"},{key:"coolant",label:"Type de liquide de refroidissement",nested:!0,nestedKey:"type"},{key:"coolant",label:"Capacité du liquide de refroidissement",nested:!0,nestedKey:"capacity"},{key:"coolant",label:"Intervalle de changement",nested:!0,nestedKey:"changeInterval"},{key:"transmission",label:"Type d'huile de transmission",nested:!0,nestedKey:"type"},{key:"transmission",label:"Capacité de transmission",nested:!0,nestedKey:"capacity"},{key:"transmission",label:"Intervalle de changement",nested:!0,nestedKey:"changeInterval"},{key:"brake",label:"Type de liquide de frein",nested:!0,nestedKey:"type"},{key:"brake",label:"Capacité de liquide de frein",nested:!0,nestedKey:"capacity"},{key:"brake",label:"Intervalle de changement",nested:!0,nestedKey:"changeInterval"}]),d("electrical","Système électrique",p.jsx($re,{color:"primary"}),[{key:"battery",label:"Type de batterie",nested:!0,nestedKey:"type"},{key:"battery",label:"Tension",nested:!0,nestedKey:"voltage"},{key:"battery",label:"Capacité",nested:!0,nestedKey:"capacity"},{key:"battery",label:"Emplacement",nested:!0,nestedKey:"location"},{key:"alternator",label:"Puissance de l'alternateur",nested:!0,nestedKey:"output"},{key:"alternator",label:"Type d'alternateur",nested:!0,nestedKey:"type"}])]})]}):p.jsxs(vt,{sx:{p:2,textAlign:"center"},children:[p.jsx(Ne,{variant:"body1",children:"Aucune spécification technique disponible pour ce véhicule."}),p.jsx(Mt,{variant:"contained",sx:{mt:2},onClick:()=>{n({engine:{type:"",displacement:"",power:"",torque:"",cylinders:0,fuelSystem:"",transmission:""},dimensions:{length:"",width:"",height:"",wheelbase:"",groundClearance:"",cargoVolume:""},performance:{acceleration:"",topSpeed:"",brakingDistance:"",fuelConsumption:"",range:""},tires:{front:"",rear:"",spare:"",pressure:{front:"",rear:"",spare:""}},fluids:{engineOil:{type:"",capacity:"",changeInterval:""},coolant:{type:"",capacity:"",changeInterval:""},transmission:{type:"",capacity:"",changeInterval:""},brake:{type:"",capacity:"",changeInterval:""}},electrical:{battery:{type:"",voltage:"",capacity:"",location:""},alternator:{output:"",type:""}}})},children:"Ajouter des spécifications"})]})},hie=({vehicle:t})=>{const[e,n]=h.useState(t.insuranceInfo||{policyNumber:"",provider:"",type:"",startDate:"",endDate:"",coverage:"",deductible:"",premium:"",status:"active",documents:[]}),[r,o]=h.useState(!1),[i,s]=h.useState(null),[a,l]=h.useState(!1);h.useEffect(()=>{t.insuranceInfo&&n(t.insuranceInfo)},[t.insuranceInfo]);const c=(m,g)=>{n(v=>({...v,[m]:g}))},u=async()=>{try{o(!0),s(null),await ai.updateVehicle(t.id,{insuranceInfo:e}),l(!0),setTimeout(()=>l(!1),3e3)}catch(m){s(m.message||"Erreur lors de la sauvegarde des informations d'assurance"),console.error("Erreur:",m)}finally{o(!1)}},d=m=>{switch(m){case"active":return"success";case"expired":return"error";case"pending":return"warning";default:return"default"}},f=m=>{switch(m){case"active":return p.jsx(np,{});case"expired":return p.jsx(ff,{});case"pending":return p.jsx(ff,{});default:return null}};return p.jsxs(vt,{children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h6",children:"Informations d'assurance"}),p.jsx(Mt,{variant:"contained",startIcon:p.jsx(PE,{}),onClick:u,disabled:r,children:r?p.jsx(Hi,{size:24}):"Enregistrer"})]}),i&&p.jsx(gr,{severity:"error",sx:{mb:2},children:i}),a&&p.jsx(gr,{severity:"success",sx:{mb:2},children:"Informations d'assurance enregistrées avec succès"}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsxs(nu,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[p.jsx(UL,{}),p.jsx(Ne,{variant:"h6",children:"Détails de la police"})]}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Numéro de police",value:e.policyNumber,onChange:m=>c("policyNumber",m.target.value)})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Assureur",value:e.provider,onChange:m=>c("provider",m.target.value)})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Type d'assurance",value:e.type,onChange:m=>c("type",m.target.value)})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Statut",value:e.status,onChange:m=>c("status",m.target.value),InputProps:{startAdornment:f(e.status),endAdornment:p.jsx(so,{label:e.status,color:d(e.status),size:"small"})}})})]})]})}),p.jsx(ut,{item:!0,xs:12,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsxs(nu,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[p.jsx(VYe,{}),p.jsx(Ne,{variant:"h6",children:"Dates de couverture"})]}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Date de début",type:"date",value:e.startDate,onChange:m=>c("startDate",m.target.value),InputLabelProps:{shrink:!0}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Date de fin",type:"date",value:e.endDate,onChange:m=>c("endDate",m.target.value),InputLabelProps:{shrink:!0}})})]})]})}),p.jsx(ut,{item:!0,xs:12,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsxs(nu,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[p.jsx(FYe,{}),p.jsx(Ne,{variant:"h6",children:"Détails financiers"})]}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Couverture",value:e.coverage,onChange:m=>c("coverage",m.target.value),InputProps:{endAdornment:p.jsx(so,{label:"€",size:"small"})}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Franchise",value:e.deductible,onChange:m=>c("deductible",m.target.value),InputProps:{endAdornment:p.jsx(so,{label:"€",size:"small"})}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Prime",value:e.premium,onChange:m=>c("premium",m.target.value),InputProps:{endAdornment:p.jsx(so,{label:"€",size:"small"})}})})]})]})}),p.jsx(ut,{item:!0,xs:12,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsxs(nu,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[p.jsx(Ca,{}),p.jsx(Ne,{variant:"h6",children:"Documents d'assurance"})]}),e.documents&&e.documents.length>0?p.jsx(ut,{container:!0,spacing:2,children:e.documents.map((m,g)=>p.jsx(ut,{item:!0,xs:12,children:p.jsxs(vt,{sx:{display:"flex",alignItems:"center",gap:1},children:[p.jsx(Ca,{}),p.jsx(Ne,{children:m.title}),p.jsx(so,{label:m.status,color:m.status==="valid"?"success":"error",size:"small"})]})},g))}):p.jsx(Ne,{color:"text.secondary",children:"Aucun document d'assurance disponible"})]})})]})]})},lm=t=>{const{children:e,value:n,index:r,...o}=t;return p.jsx("div",{role:"tabpanel",hidden:n!==r,id:`vehicle-tabpanel-${r}`,"aria-labelledby":`vehicle-tab-${r}`,...o,style:{padding:"20px 0"},children:n===r&&p.jsx(vt,{children:e})})},$ot=({vehicle:t,onClose:e,onEdit:n})=>{var d;const[r,o]=h.useState(0),i=(f,m)=>{o(m)},s=f=>{switch(f){case"active":return"success";case"maintenance":return"warning";case"inactive":return"error";default:return"default"}},a=f=>{switch(f){case"active":return p.jsx(np,{});case"maintenance":return p.jsx(Ix,{});case"inactive":return p.jsx(ff,{});default:return p.jsx(np,{})}},l=f=>{switch(f){case"car":return p.jsx(Wc,{});case"van":return p.jsx(Wc,{});case"truck":return p.jsx(Wc,{});case"motorcycle":return p.jsx(Wc,{});default:return p.jsx(Wc,{})}},c=t.maintenanceHistory&&t.maintenanceHistory.length>0?t.maintenanceHistory.sort((f,m)=>new Date(m.date).getTime()-new Date(f.date).getTime())[0].date:null,u=t.maintenanceHistory&&t.maintenanceHistory.length>0?(d=t.maintenanceHistory.filter(f=>f.nextDueDate).sort((f,m)=>new Date(f.nextDueDate||"").getTime()-new Date(m.nextDueDate||"").getTime())[0])==null?void 0:d.nextDueDate:null;return p.jsxs(bn,{sx:{p:3,height:"100%",overflow:"auto"},children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[p.jsxs(vt,{sx:{display:"flex",alignItems:"center"},children:[p.jsx(yre,{sx:{mr:2,bgcolor:"primary.main",width:60,height:60},children:l(t.type)}),p.jsxs(vt,{children:[p.jsxs(Ne,{variant:"h4",children:[t.brand," ",t.model]}),p.jsx(Ne,{variant:"subtitle1",color:"text.secondary",children:t.registrationNumber}),p.jsxs(vt,{sx:{mt:1},children:[p.jsx(so,{icon:a(t.status),label:t.status,color:s(t.status),size:"small",sx:{mr:1}}),p.jsx(so,{label:t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"-",variant:"outlined",size:"small",sx:{mr:1}}),p.jsx(so,{label:t.fuelType?t.fuelType.charAt(0).toUpperCase()+t.fuelType.slice(1):"-",variant:"outlined",size:"small"})]})]})]}),p.jsxs(vt,{children:[p.jsx(Mt,{variant:"outlined",onClick:n,sx:{mr:1},children:"Modifier"}),p.jsx(Mt,{variant:"outlined",color:"inherit",onClick:e,children:"Fermer"})]})]}),p.jsx(ua,{sx:{mb:3}}),p.jsxs(ut,{container:!0,spacing:2,sx:{mb:3},children:[p.jsxs(ut,{item:!0,xs:12,sm:6,md:3,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Kilométrage"}),p.jsxs(Ne,{variant:"body1",fontWeight:"bold",children:[t.mileage," km"]})]}),p.jsxs(ut,{item:!0,xs:12,sm:6,md:3,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Date d'achat"}),p.jsx(Ne,{variant:"body1",fontWeight:"bold",children:new Date(t.purchaseDate).toLocaleDateString()})]}),p.jsxs(ut,{item:!0,xs:12,sm:6,md:3,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Dernière maintenance"}),p.jsx(Ne,{variant:"body1",fontWeight:"bold",children:c?new Date(c).toLocaleDateString():"Non disponible"})]}),p.jsxs(ut,{item:!0,xs:12,sm:6,md:3,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Prochaine maintenance"}),p.jsx(Ne,{variant:"body1",fontWeight:"bold",children:u?new Date(u).toLocaleDateString():"Non planifiée"})]})]}),p.jsxs(vt,{sx:{width:"100%"},children:[p.jsx(vt,{sx:{borderBottom:1,borderColor:"divider"},children:p.jsxs(Gv,{value:r,onChange:i,variant:"scrollable",scrollButtons:"auto",children:[p.jsx(yr,{icon:p.jsx(Wc,{}),label:"Général",iconPosition:"start"}),p.jsx(yr,{icon:p.jsx(Ca,{}),label:"Documents",iconPosition:"start"}),p.jsx(yr,{icon:p.jsx(LYe,{}),label:"Inspections",iconPosition:"start"}),p.jsx(yr,{icon:p.jsx(Ix,{}),label:"Maintenance",iconPosition:"start"}),p.jsx(yr,{icon:p.jsx(UL,{}),label:"Assurance",iconPosition:"start"}),p.jsx(yr,{icon:p.jsx(qL,{}),label:"Spécifications",iconPosition:"start"})]})}),p.jsx(lm,{value:r,index:0,children:p.jsxs(vt,{sx:{p:2},children:[p.jsx(Ne,{variant:"h6",gutterBottom:!0,children:"Informations générales"}),p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Détails du véhicule"}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Marque"}),p.jsx(Ne,{variant:"body1",children:t.brand})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Modèle"}),p.jsx(Ne,{variant:"body1",children:t.model})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Immatriculation"}),p.jsx(Ne,{variant:"body1",children:t.registrationNumber})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Type"}),p.jsx(Ne,{variant:"body1",children:t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"-"})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Carburant"}),p.jsx(Ne,{variant:"body1",children:t.fuelType?t.fuelType.charAt(0).toUpperCase()+t.fuelType.slice(1):"-"})]})]})]})}),p.jsx(ut,{item:!0,xs:12,md:6,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"État et maintenance"}),p.jsxs(ut,{container:!0,spacing:2,children:[p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Statut"}),p.jsx(vt,{children:p.jsx(so,{icon:a(t.status),label:t.status,color:s(t.status),size:"small"})})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Kilométrage"}),p.jsxs(Ne,{variant:"body1",children:[t.mileage," km"]})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Date d'achat"}),p.jsx(Ne,{variant:"body1",children:new Date(t.purchaseDate).toLocaleDateString()})]}),p.jsxs(ut,{item:!0,xs:6,children:[p.jsx(Ne,{variant:"body2",color:"text.secondary",children:"Dernière maintenance"}),p.jsx(Ne,{variant:"body1",children:c?new Date(c).toLocaleDateString():"Non disponible"})]})]})]})})]})]})}),p.jsx(lm,{value:r,index:1,children:p.jsx(cie,{vehicle:t})}),p.jsx(lm,{value:r,index:2,children:p.jsx(uie,{vehicle:t})}),p.jsx(lm,{value:r,index:3,children:p.jsx(die,{vehicle:t})}),p.jsx(lm,{value:r,index:4,children:p.jsx(hie,{vehicle:t})}),p.jsx(lm,{value:r,index:5,children:p.jsx(fie,{vehicle:t})})]})]})};function cm(t){const{children:e,value:n,index:r,...o}=t;return p.jsx("div",{role:"tabpanel",hidden:n!==r,id:`vehicle-tabpanel-${r}`,"aria-labelledby":`vehicle-tab-${r}`,...o,children:n===r&&p.jsx(vt,{sx:{p:3},children:e})})}const Mot=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(null),[o,i]=h.useState(0),[s,a]=h.useState(!1),[l,c]=h.useState(null),[u,d]=h.useState(!1),[f,m]=h.useState({brand:"",model:"",registrationNumber:"",type:"car",status:"active",purchaseDate:"",mileage:"",fuelType:"gasoline",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:null,technicalSpecifications:null});h.useEffect(()=>{g(),console.log("Composant monté - chargement des véhicules...")},[]);const g=async()=>{try{a(!0),c(null);const S=await ai.getVehicles();e(S)}catch(S){c(S.message||"Erreur lors du chargement des véhicules"),console.error("Erreur:",S)}finally{a(!1)}},v=(S,T)=>{i(T)},y=S=>{r(S)},b=()=>{d(!0)},x=()=>{d(!1),m({brand:"",model:"",registrationNumber:"",type:"car",status:"active",purchaseDate:"",mileage:"",fuelType:"gasoline",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:null,technicalSpecifications:null})},w=(S,T)=>{m(I=>({...I,[S]:T}))},C=async()=>{try{if(a(!0),c(null),f.id){if(!await ai.getVehicleById(f.id))throw new Error(`Le véhicule avec l'ID ${f.id} n'existe pas.`);await ai.updateVehicle(f.id,f)}else await ai.createVehicle(f);await g(),x()}catch(S){c(S.message||"Erreur lors de la sauvegarde du véhicule"),console.error("Erreur:",S)}finally{a(!1)}},E=async S=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce véhicule ?"))try{a(!0),c(null),await ai.deleteVehicle(S),await g()}catch(T){c(T.message||"Erreur lors de la suppression du véhicule"),console.error("Erreur:",T)}finally{a(!1)}},_=S=>{if(!S.id){c("Impossible de modifier ce véhicule : ID manquant");return}const T=JSON.parse(JSON.stringify(S));m(T),d(!0)};return p.jsxs(vt,{children:[p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[p.jsx(Ne,{variant:"h6",children:"Gestion des véhicules"}),p.jsx(Mt,{variant:"contained",startIcon:p.jsx(df,{}),onClick:()=>b(),children:"Ajouter un véhicule"})]}),l&&p.jsx(gr,{severity:"error",sx:{mb:2},children:l}),s?p.jsx(vt,{sx:{display:"flex",justifyContent:"center",p:3},children:p.jsx(Hi,{})}):p.jsxs(ut,{container:!0,spacing:3,children:[p.jsx(ut,{item:!0,xs:12,md:3,children:p.jsxs(bn,{variant:"outlined",sx:{p:2},children:[p.jsx(Ne,{variant:"h6",sx:{mb:2},children:"Liste des véhicules"}),p.jsx(vt,{sx:{display:"flex",flexDirection:"column",gap:1},children:t.map(S=>p.jsx(bn,{variant:(n==null?void 0:n.id)===S.id?"elevation":"outlined",sx:{p:2,cursor:"pointer",bgcolor:(n==null?void 0:n.id)===S.id?"primary.light":"background.paper","&:hover":{bgcolor:"action.hover"}},onClick:()=>y(S),children:p.jsxs(vt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs(vt,{children:[p.jsxs(Ne,{variant:"subtitle1",children:[S.brand," ",S.model]}),p.jsx(Ne,{variant:"body2",color:"text.secondary",children:S.registrationNumber})]}),p.jsxs(vt,{children:[p.jsx(mg,{title:"Modifier",children:p.jsx(wr,{size:"small",onClick:T=>{T.stopPropagation(),_(S)},children:p.jsx(Yv,{})})}),p.jsx(mg,{title:"Supprimer",children:p.jsx(wr,{size:"small",onClick:T=>{T.stopPropagation(),E(S.id)},children:p.jsx(rp,{})})})]})]})},S.id))})]})}),p.jsx(ut,{item:!0,xs:12,md:9,children:n?p.jsxs(bn,{variant:"outlined",children:[p.jsx(vt,{sx:{borderBottom:1,borderColor:"divider"},children:p.jsxs(Gv,{value:o,onChange:v,"aria-label":"vehicle tabs",children:[p.jsx(yr,{icon:p.jsx(Wc,{}),label:"Détails"}),p.jsx(yr,{icon:p.jsx(Ca,{}),label:"Documents"}),p.jsx(yr,{icon:p.jsx(Ix,{}),label:"Inspections"}),p.jsx(yr,{icon:p.jsx(YYe,{}),label:"Maintenance"}),p.jsx(yr,{icon:p.jsx(UL,{}),label:"Assurance"}),p.jsx(yr,{icon:p.jsx(qL,{}),label:"Spécifications"})]})}),p.jsx(cm,{value:o,index:0,children:p.jsx($ot,{vehicle:n,onClose:()=>i(0),onEdit:()=>_(n)})}),p.jsx(cm,{value:o,index:1,children:p.jsx(cie,{vehicle:n})}),p.jsx(cm,{value:o,index:2,children:p.jsx(uie,{vehicle:n})}),p.jsx(cm,{value:o,index:3,children:p.jsx(die,{vehicle:n})}),p.jsx(cm,{value:o,index:4,children:p.jsx(hie,{vehicle:n})}),p.jsx(cm,{value:o,index:5,children:p.jsx(fie,{vehicle:n})})]}):p.jsx(bn,{variant:"outlined",sx:{p:3,textAlign:"center"},children:p.jsx(Ne,{color:"text.secondary",children:"Sélectionnez un véhicule pour voir ses détails"})})})]}),p.jsxs(ss,{open:u,onClose:x,maxWidth:"sm",fullWidth:!0,children:[p.jsx(Ds,{children:f.id?"Modifier le véhicule":"Nouveau véhicule"}),p.jsx(ls,{children:p.jsxs(ut,{container:!0,spacing:2,sx:{mt:1},children:[p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Marque",value:f.brand,onChange:S=>w("brand",S.target.value)})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Modèle",value:f.model,onChange:S=>w("model",S.target.value)})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Numéro d'immatriculation",value:f.registrationNumber,onChange:S=>w("registrationNumber",S.target.value)})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsxs(_n,{fullWidth:!0,select:!0,label:"Type",value:f.type||"car",onChange:S=>w("type",S.target.value),children:[p.jsx(vr,{value:"car",children:"Voiture"}),p.jsx(vr,{value:"van",children:"Fourgon"}),p.jsx(vr,{value:"truck",children:"Camion"}),p.jsx(vr,{value:"motorcycle",children:"Moto"})]})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsxs(_n,{fullWidth:!0,select:!0,label:"Statut",value:f.status||"active",onChange:S=>w("status",S.target.value),children:[p.jsx(vr,{value:"active",children:"Actif"}),p.jsx(vr,{value:"maintenance",children:"En maintenance"}),p.jsx(vr,{value:"inactive",children:"Inactif"})]})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Date d'achat",type:"date",value:f.purchaseDate,onChange:S=>w("purchaseDate",S.target.value),InputLabelProps:{shrink:!0}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsx(_n,{fullWidth:!0,label:"Kilométrage",type:"number",value:f.mileage,onChange:S=>w("mileage",S.target.value),InputProps:{endAdornment:"km"}})}),p.jsx(ut,{item:!0,xs:12,sm:6,children:p.jsxs(_n,{fullWidth:!0,select:!0,label:"Type de carburant",value:f.fuelType||"gasoline",onChange:S=>w("fuelType",S.target.value),children:[p.jsx(vr,{value:"gasoline",children:"Essence"}),p.jsx(vr,{value:"diesel",children:"Diesel"}),p.jsx(vr,{value:"electric",children:"Électrique"}),p.jsx(vr,{value:"hybrid",children:"Hybride"})]})})]})}),p.jsxs(as,{children:[p.jsx(Mt,{onClick:x,children:"Annuler"}),p.jsx(Mt,{variant:"contained",onClick:C,disabled:s,children:s?p.jsx(Hi,{size:24}):"Enregistrer"})]})]})]})},YW=()=>p.jsx(Ud,{maxWidth:"xl",children:p.jsxs(vt,{sx:{py:4},children:[p.jsx(Ne,{variant:"h4",component:"h1",gutterBottom:!0,children:"Gestion de la flotte"}),p.jsx(Mot,{})]})}),Oot=()=>{const{id:t}=Ule(),e=Tc(),[n,r]=h.useState(null),[o,i]=h.useState(!0),[s,a]=h.useState(null);return h.useEffect(()=>{(async()=>{var c,u;if(t)try{const d=await si(un(mt,"tournees",t));if(d.exists()){const f=d.data();r({id:d.id,nom:f.nom||"",description:f.description||"",vehicule:f.vehicule||"",chauffeur:f.chauffeur||"",statut:f.statut||"inconnu",dateCreation:((c=f.dateCreation)==null?void 0:c.toDate())||new Date,dateModification:((u=f.dateModification)==null?void 0:u.toDate())||new Date})}else a("Tournée non trouvée")}catch(d){console.error("Erreur lors de la récupération de la tournée:",d),a("Une erreur est survenue lors de la récupération de la tournée")}finally{i(!1)}})()},[t]),o?p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Chargement..."})]}):s?p.jsxs("div",{className:"error-container",children:[p.jsx("p",{className:"error-message",children:s}),p.jsx("button",{onClick:()=>e("/tournees"),className:"back-button",children:"Retour aux tournées"})]}):n?p.jsxs("div",{className:"tournee-details-container",children:[p.jsxs("div",{className:"tournee-details-header",children:[p.jsx("h1",{children:"Détails de la Tournée"}),p.jsx("button",{onClick:()=>e("/tournees"),className:"back-button",children:"Retour aux tournées"})]}),p.jsxs("div",{className:"tournee-details-content",children:[p.jsxs("div",{className:"detail-group",children:[p.jsx("label",{children:"Nom"}),p.jsx("p",{children:n.nom})]}),p.jsxs("div",{className:"detail-group",children:[p.jsx("label",{children:"Description"}),p.jsx("p",{children:n.description||"-"})]}),p.jsxs("div",{className:"detail-group",children:[p.jsx("label",{children:"Véhicule"}),p.jsx("p",{children:n.vehicule||"-"})]}),p.jsxs("div",{className:"detail-group",children:[p.jsx("label",{children:"Chauffeur"}),p.jsx("p",{children:n.chauffeur||"-"})]}),p.jsxs("div",{className:"detail-group",children:[p.jsx("label",{children:"Statut"}),p.jsx("span",{className:`status-badge ${n.statut.toLowerCase()}`,children:n.statut})]}),p.jsxs("div",{className:"detail-group",children:[p.jsx("label",{children:"Date de création"}),p.jsx("p",{children:n.dateCreation.toLocaleDateString()})]}),p.jsxs("div",{className:"detail-group",children:[p.jsx("label",{children:"Dernière modification"}),p.jsx("p",{children:n.dateModification.toLocaleDateString()})]})]})]}):null},XW=t=>t.split("_")[0],Aot=(t,e)=>oa.calculateDistance(t.latitude,t.longitude,e.latitude,e.longitude)/50*3600,Not=()=>{const[t,e]=h.useState("configuration"),[n,r]=h.useState(""),[o,i]=h.useState(""),[s,a]=h.useState(new Date),[l,c]=h.useState(new Date(new Date().setHours(new Date().getHours()+8))),[u,d]=h.useState([]),[f,m]=h.useState([]),[g,v]=h.useState([]),[y,b]=h.useState({}),[x,w]=h.useState(!0);h.useEffect(()=>{(async()=>{try{w(!0);const M=await Ks.getSites();m(M);const R={};M.forEach(k=>{R[k.id]=k}),b(R);try{const k=await fetch("/api/poles").then(D=>D.json());d(k)}catch(k){console.error("Erreur lors du chargement des pôles:",k),d([{id:"pole1",nom:"Pôle Nord"},{id:"pole2",nom:"Pôle Sud"},{id:"pole3",nom:"Pôle Est"}])}w(!1)}catch(M){console.error("Erreur lors du chargement des données:",M),w(!1)}})()},[]);const C=P=>{if(g.some(k=>k.id===P.id))return;let M;if(g.length===0)M=new Date(s);else{const k=y[g[g.length-1].id],D=oa.estimateTravelTime(k,P),A=Math.round(D/60);M=new Date(g[g.length-1].heureArrivee),M.setMinutes(M.getMinutes()+A)}const R=[...g,{id:P.id,ordre:g.length+1,heureArrivee:M,site:P}];v(R)},E=async P=>{if(g.length===0)return;const M=g[0].heureArrivee,R=new Date(M);console.log(`Heure originale du premier site: ${R.toLocaleString()}`);try{let k=P.map((A,N)=>{const O=g.find(j=>j.id===A);return O?{...O,ordre:N+1}:(console.error(`Site avec ID ${A} introuvable lors de l'optimisation`),null)}).filter(Boolean);if(k.length!==g.length){console.error(`Erreur d'optimisation: ${k.length} sites récupérés sur ${g.length}`);return}if(k.length>0){k[0]={...k[0],heureArrivee:R};let A=R;for(let N=1;N<k.length;N++){const O=k[N],j=k[N-1],L=j.siteId||XW(j.id),z=O.siteId||XW(O.id),V=y[L],W=y[z];if(V&&W){const Y=Aot(V,W),U=Math.ceil(Number(Y)/60),q=new Date(A),K=j.dureeVisite!==void 0?Number(j.dureeVisite):5;q.setMinutes(q.getMinutes()+K),q.setMinutes(q.getMinutes()+U),k[N]={...k[N],heureArrivee:q},A=q}}}k.some(A=>{const N=new Date(A.heureArrivee);return isNaN(N.getTime())})&&(console.error("Des heures d'arrivée invalides ont été détectées après l'optimisation"),k=k.map((A,N)=>{const O=new Date(A.heureArrivee);if(isNaN(O.getTime())){const j=new Date(R);return j.setMinutes(j.getMinutes()+N*30),console.log(`Correction d'une heure invalide pour le site ${N+1}: ${j.toLocaleString()}`),{...A,heureArrivee:j}}return A})),v(k)}catch(k){console.error("Erreur lors de l'optimisation de la tournée:",k)}},_=()=>{e("visualisation")},S=async()=>{try{const P={nom:n,pole:o,heureDebut:s,heureFin:l,sites:g.map(M=>({id:M.id,ordre:M.ordre,heureArrivee:M.heureArrivee}))};await Ks.createTournee(P),alert("Tournée sauvegardée avec succès !")}catch(P){console.error("Erreur lors de la sauvegarde de la tournée:",P),alert("Erreur lors de la sauvegarde de la tournée.")}},T=async()=>{try{const P={nom:n,pole:o,heureDebut:s,heureFin:l,sites:g.map(M=>({id:M.id,ordre:M.ordre,heureArrivee:M.heureArrivee}))};await Ks.createTournee(P),alert("Tournée sauvegardée avec succès !")}catch(P){console.error("Erreur lors de la sauvegarde de la tournée:",P),alert("Erreur lors de la sauvegarde de la tournée.")}},I=new Set(g.map(P=>P.id));return p.jsxs(Ud,{maxWidth:"xl",className:"tournees-management-container",children:[p.jsx(Ne,{variant:"h4",component:"h1",gutterBottom:!0,children:"Gestion des tournées"}),p.jsxs(Gv,{value:t,onChange:(P,M)=>e(M),indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{mb:2},children:[p.jsx(yr,{label:"Configuration",value:"configuration"}),p.jsx(yr,{label:"Visualisation",value:"visualisation",disabled:g.length<2})]}),t==="configuration"?p.jsxs(vt,{children:[p.jsx($oe,{nom:n,setNom:r,pole:o,setPole:i,heureDebut:s,setHeureDebut:a,heureFin:l,setHeureFin:c,poles:u,onNext:_,onSaveOnly:T}),p.jsxs(ut,{container:!0,spacing:2,sx:{mt:2},children:[p.jsx(ut,{item:!0,xs:12,md:5,children:p.jsx(Ooe,{sites:f,selectedSites:I,onAddSite:C})}),p.jsx(ut,{item:!0,xs:12,md:7,children:p.jsx(zoe,{sites:g,availableSites:Object.values(y),onSitesChange:v,onAddSite:()=>{},onBack:()=>{},onNext:_})})]})]}):p.jsxs(ut,{container:!0,spacing:2,children:[p.jsx(ut,{item:!0,xs:12,md:4,children:p.jsx(Voe,{tourSites:g,allSites:y,onSitesReordered:v,onSave:S,onSaveOnly:T})}),p.jsx(ut,{item:!0,xs:12,md:8,children:p.jsx(Boe,{sites:g,allSites:y,onOptimize:E})})]})]})},jot=()=>{const{currentUser:t,loading:e,error:n,logout:r}=ku(),[o,i]=h.useState([]),[s,a]=h.useState(!0),[l,c]=h.useState(!1),u=h.useCallback(async()=>{a(!0);try{const v=await Sl.getInstance().getRoles();console.log("App - Rôles chargés depuis Firestore:",v),t!=null&&t.role&&(console.log("App - Utilisateur connecté avec le rôle:",t.role),console.log("App - Accès aux pages:"),Object.values(Ar).forEach(y=>{const b=Ol(t.role,y);console.log(`- ${y}: ${b?"OUI":"NON"}`)})),i(v)}catch(g){console.error("Erreur lors du chargement des rôles:",g),c(!0)}finally{a(!1)}},[t]);if(h.useEffect(()=>{u();const g=Sl.getInstance(),v=()=>{console.log("App - Changement de rôles détecté, rechargement..."),u()};return g.addRoleChangeListener(v),()=>{g.removeRoleChangeListener(v)}},[u]),e||s)return p.jsx(pie,{});if(n)return p.jsxs("div",{className:"error-container",style:{padding:"20px",margin:"20px",backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"4px",color:"#d32f2f"},children:[p.jsx("h2",{children:"Erreur d'authentification"}),p.jsx("p",{children:n}),p.jsx("p",{children:"Veuillez rafraîchir la page ou contacter l'administrateur."}),p.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",backgroundColor:"#d32f2f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Rafraîchir la page"})]});const d=!!t,f=(t==null?void 0:t.role)||"Utilisateur",m=Fot(d,f,t,r,o);return p.jsx(KY,{children:p.jsx(uye,{children:p.jsx(Rrt,{maxSnack:3,children:p.jsx(Sce,{router:m,future:{v7_startTransition:!0}})})})})},pie=()=>p.jsxs("div",{className:"loading-container",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:"Chargement de l'application..."})]}),Lot=({user:t,logout:e})=>{const n=Tc();return h.useEffect(()=>{t||(console.log("AppLayout: Utilisateur non défini, redirection..."),n("/"))},[t,n]),t?p.jsxs("div",{className:"app",children:[p.jsx(Brt,{user:t,onLogout:e}),p.jsx("main",{children:p.jsx(ice,{})})]}):p.jsx(pie,{})},Fot=(t,e,n,r,o)=>{const i=[{path:"/",element:p.jsx(Lot,{user:n,logout:r}),children:[{path:"",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["dashboard.view"],pageName:Ar.DASHBOARD,roles:o,children:p.jsx(Zwe,{})})},{path:"passages",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","default"],requiredPermissions:["passages.view"],pageName:Ar.PASSAGES,roles:o,children:p.jsx(X9,{})})},{path:"passages/:id",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","default"],requiredPermissions:["passages.view"],pageName:Ar.PASSAGE_DETAILS,roles:o,children:p.jsx(X9,{})})},{path:"sites",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["sites.view"],pageName:Ar.SITES,roles:o,children:p.jsx(AYe,{})})},{path:"tournees",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["tournees.view"],pageName:Ar.TOURNEES,roles:o,children:p.jsx(krt,{})})},{path:"tournees/new",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["tournees.edit"],pageName:Ar.TOURNEES,roles:o,children:p.jsx(Not,{})})},{path:"tournees/:id",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","default"],requiredPermissions:["tournees.view"],pageName:Ar.TOURNEE_DETAILS,roles:o,children:p.jsx(Oot,{})})},{path:"vehicules",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["vehicules.view"],pageName:Ar.VEHICULES,roles:o,children:p.jsx(YW,{})})},{path:"vehicles",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["vehicules.view"],pageName:Ar.VEHICULES,roles:o,children:p.jsx(YW,{})})},{path:"admin/users",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","Manager","default"],requiredPermissions:["users.view"],pageName:Ar.USER_MANAGEMENT,roles:o,children:p.jsx(Mrt,{})})},{path:"admin",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur"],requiredPermissions:["dashboard.view"],pageName:Ar.ADMINISTRATION,roles:o,children:p.jsx(Rot,{})})},{path:"init-passages",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur"],requiredPermissions:["init-passages.view"],pageName:Ar.PASSAGES,roles:o,children:p.jsx(Nrt,{})})},{path:"map",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur"],requiredPermissions:["carte.view"],pageName:Ar.CARTE,roles:o,children:p.jsx(Lrt,{})})},{path:"marker-preferences",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur"],requiredPermissions:["marqueurs.edit"],pageName:Ar.ADMINISTRATION,roles:o,children:p.jsx(um,{to:"/admin?tab=5",replace:!0})})},{path:"sites-advanced",element:p.jsx(Ni,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["sites.view"],pageName:Ar.SITES,roles:o,children:p.jsx(um,{to:"/sites",replace:!0})})},{path:"*",element:e==="Coursier"?p.jsx(um,{to:"/passages",replace:!0}):p.jsx(um,{to:"/",replace:!0})}]}];return hce(t?i:[{path:"/",element:p.jsx(FP,{})},{path:"/login",element:p.jsx(FP,{})},{path:"/reset-password",element:p.jsx(FP,{})},{path:"*",element:p.jsx(um,{to:"/",replace:!0})}])},zot=[{nom:"Pôle Nord",description:"Secteur nord de la ville",dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()},{nom:"Pôle Sud",description:"Secteur sud de la ville",dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()},{nom:"Pôle Est",description:"Secteur est de la ville",dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()},{nom:"Pôle Ouest",description:"Secteur ouest de la ville",dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()},{nom:"Pôle Central",description:"Centre-ville",dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()}],Bot=async()=>{try{const t=Ht(mt,"poles"),e=await Jt(t);if(e.empty){console.log("Initialisation de la collection des pôles...");for(const n of zot)await os(t,n);console.log("Collection des pôles initialisée avec succès")}else console.log(`La collection des pôles contient déjà ${e.size} documents`)}catch(t){console.error("Erreur lors de l'initialisation des pôles:",t)}},Vot=t=>{console.error("Erreur globale non gérée:",t.error)};window.addEventListener("error",Vot);window.addEventListener("unhandledrejection",t=>{console.error("Promesse rejetée non gérée:",t.reason)});Bot().then(()=>console.log("Vérification des pôles terminée")).catch(t=>console.error("Erreur lors de l'initialisation des pôles:",t));window.__googleMapsInitialized=!1;oa.loadGoogleMapsAPI().then(()=>{console.log("API Google Maps chargée avec succès au démarrage")}).catch(t=>{console.error("Erreur lors du chargement initial de Google Maps:",t)});const Hot=kk.createRoot(document.getElementById("root"));Hot.render(p.jsx(oe.StrictMode,{children:p.jsx(KY,{children:p.jsx(jot,{})})}));
//# sourceMappingURL=index-D4dnEpFI.js.map
