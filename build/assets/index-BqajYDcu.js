var hre=Object.defineProperty;var pre=(t,e,n)=>e in t?hre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ye=(t,e,n)=>pre(t,typeof e!="symbol"?e+"":e,n);function E9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var I9={exports:{}},DE={},T9={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=Symbol.for("react.element"),mre=Symbol.for("react.portal"),gre=Symbol.for("react.fragment"),vre=Symbol.for("react.strict_mode"),yre=Symbol.for("react.profiler"),bre=Symbol.for("react.provider"),xre=Symbol.for("react.context"),_re=Symbol.for("react.forward_ref"),wre=Symbol.for("react.suspense"),Cre=Symbol.for("react.memo"),Sre=Symbol.for("react.lazy"),Xj=Symbol.iterator;function Ere(t){return t===null||typeof t!="object"?null:(t=Xj&&t[Xj]||t["@@iterator"],typeof t=="function"?t:null)}var P9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R9=Object.assign,k9={};function pv(t,e,n){this.props=t,this.context=e,this.refs=k9,this.updater=n||P9}pv.prototype.isReactComponent={};pv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M9(){}M9.prototype=pv.prototype;function VD(t,e,n){this.props=t,this.context=e,this.refs=k9,this.updater=n||P9}var HD=VD.prototype=new M9;HD.constructor=VD;R9(HD,pv.prototype);HD.isPureReactComponent=!0;var Zj=Array.isArray,O9=Object.prototype.hasOwnProperty,WD={current:null},D9={key:!0,ref:!0,__self:!0,__source:!0};function A9(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)O9.call(e,r)&&!D9.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mx,type:t,key:o,ref:s,props:i,_owner:WD.current}}function Ire(t,e){return{$$typeof:Mx,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function UD(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mx}function Tre(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qj=/\/+/g;function $2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tre(""+t.key):e.toString(36)}function kC(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Mx:case mre:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+$2(s,0):r,Zj(i)?(n="",t!=null&&(n=t.replace(Qj,"$&/")+"/"),kC(i,e,n,"",function(c){return c})):i!=null&&(UD(i)&&(i=Ire(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Qj,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Zj(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+$2(o,a);s+=kC(o,e,n,l,i)}else if(l=Ere(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+$2(o,a++),s+=kC(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ow(t,e,n){if(t==null)return t;var r=[],i=0;return kC(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Pre(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vs={current:null},MC={transition:null},Rre={ReactCurrentDispatcher:vs,ReactCurrentBatchConfig:MC,ReactCurrentOwner:WD};er.Children={map:ow,forEach:function(t,e,n){ow(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ow(t,function(){e++}),e},toArray:function(t){return ow(t,function(e){return e})||[]},only:function(t){if(!UD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};er.Component=pv;er.Fragment=gre;er.Profiler=yre;er.PureComponent=VD;er.StrictMode=vre;er.Suspense=wre;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rre;er.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=R9({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=WD.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)O9.call(e,l)&&!D9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Mx,type:t.type,key:i,ref:o,props:r,_owner:s}};er.createContext=function(t){return t={$$typeof:xre,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bre,_context:t},t.Consumer=t};er.createElement=A9;er.createFactory=function(t){var e=A9.bind(null,t);return e.type=t,e};er.createRef=function(){return{current:null}};er.forwardRef=function(t){return{$$typeof:_re,render:t}};er.isValidElement=UD;er.lazy=function(t){return{$$typeof:Sre,_payload:{_status:-1,_result:t},_init:Pre}};er.memo=function(t,e){return{$$typeof:Cre,type:t,compare:e===void 0?null:e}};er.startTransition=function(t){var e=MC.transition;MC.transition={};try{t()}finally{MC.transition=e}};er.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};er.useCallback=function(t,e){return vs.current.useCallback(t,e)};er.useContext=function(t){return vs.current.useContext(t)};er.useDebugValue=function(){};er.useDeferredValue=function(t){return vs.current.useDeferredValue(t)};er.useEffect=function(t,e){return vs.current.useEffect(t,e)};er.useId=function(){return vs.current.useId()};er.useImperativeHandle=function(t,e,n){return vs.current.useImperativeHandle(t,e,n)};er.useInsertionEffect=function(t,e){return vs.current.useInsertionEffect(t,e)};er.useLayoutEffect=function(t,e){return vs.current.useLayoutEffect(t,e)};er.useMemo=function(t,e){return vs.current.useMemo(t,e)};er.useReducer=function(t,e,n){return vs.current.useReducer(t,e,n)};er.useRef=function(t){return vs.current.useRef(t)};er.useState=function(t){return vs.current.useState(t)};er.useSyncExternalStore=function(t,e,n){return vs.current.useSyncExternalStore(t,e,n)};er.useTransition=function(){return vs.current.useTransition()};er.version="18.2.0";T9.exports=er;var h=T9.exports;const ae=kx(h),vu=E9({__proto__:null,default:ae},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kre=h,Mre=Symbol.for("react.element"),Ore=Symbol.for("react.fragment"),Dre=Object.prototype.hasOwnProperty,Are=kre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$re={key:!0,ref:!0,__self:!0,__source:!0};function $9(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Dre.call(e,r)&&!$re.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Mre,type:t,key:o,ref:s,props:i,_owner:Are.current}}DE.Fragment=Ore;DE.jsx=$9;DE.jsxs=$9;I9.exports=DE;var g=I9.exports,sk={},N9={exports:{}},da={},L9={exports:{}},j9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var q=B.length;B.push(W);e:for(;0<q;){var G=q-1>>>1,X=B[G];if(0<i(X,W))B[G]=W,B[q]=X,q=G;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],q=B.pop();if(q!==W){B[0]=q;e:for(var G=0,X=B.length,ue=X>>>1;G<ue;){var te=2*(G+1)-1,J=B[te],se=te+1,ge=B[se];if(0>i(J,q))se<X&&0>i(ge,J)?(B[G]=ge,B[se]=q,G=se):(B[G]=J,B[te]=q,G=te);else if(se<X&&0>i(ge,q))B[G]=ge,B[se]=q,G=se;else break e}}return W}function i(B,W){var q=B.sortIndex-W.sortIndex;return q!==0?q:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=B)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function E(B){if(y=!1,w(B),!v)if(n(l)!==null)v=!0,z(T);else{var W=n(c);W!==null&&j(E,W.startTime-B)}}function T(B,W){v=!1,y&&(y=!1,x(P),P=-1),p=!0;var q=f;try{for(w(W),d=n(l);d!==null&&(!(d.expirationTime>W)||B&&!N());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var X=G(d.expirationTime<=W);W=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),w(W)}else r(l);d=n(l)}if(d!==null)var ue=!0;else{var te=n(c);te!==null&&j(E,te.startTime-W),ue=!1}return ue}finally{d=null,f=q,p=!1}}var I=!1,S=null,P=-1,R=5,O=-1;function N(){return!(t.unstable_now()-O<R)}function A(){if(S!==null){var B=t.unstable_now();O=B;var W=!0;try{W=S(!0,B)}finally{W?$():(I=!1,S=null)}}else I=!1}var $;if(typeof _=="function")$=function(){_(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,F=M.port2;M.port1.onmessage=A,$=function(){F.postMessage(null)}}else $=function(){b(A,0)};function z(B){S=B,I||(I=!0,$())}function j(B,W){P=b(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,z(T))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var q=f;f=W;try{return B()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=f;f=B;try{return W()}finally{f=q}},t.unstable_scheduleCallback=function(B,W,q){var G=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,B){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,B={id:u++,callback:W,priorityLevel:B,startTime:q,expirationTime:X,sortIndex:-1},q>G?(B.sortIndex=q,e(c,B),n(l)===null&&B===n(c)&&(y?(x(P),P=-1):y=!0,j(E,q-G))):(B.sortIndex=X,e(l,B),v||p||(v=!0,z(T))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var W=f;return function(){var q=f;f=W;try{return B.apply(this,arguments)}finally{f=q}}}})(j9);L9.exports=j9;var Nre=L9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9=h,aa=Nre;function wt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F9=new Set,lb={};function sp(t,e){xg(t,e),xg(t+"Capture",e)}function xg(t,e){for(lb[t]=e,t=0;t<e.length;t++)F9.add(e[t])}var yu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ak=Object.prototype.hasOwnProperty,Lre=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jj={},e4={};function jre(t){return ak.call(e4,t)?!0:ak.call(Jj,t)?!1:Lre.test(t)?e4[t]=!0:(Jj[t]=!0,!1)}function zre(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Fre(t,e,n,r){if(e===null||typeof e>"u"||zre(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ys(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Lo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lo[t]=new ys(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lo[e]=new ys(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lo[t]=new ys(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lo[t]=new ys(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lo[t]=new ys(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lo[t]=new ys(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lo[t]=new ys(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lo[t]=new ys(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lo[t]=new ys(t,5,!1,t.toLowerCase(),null,!1,!1)});var KD=/[\-:]([a-z])/g;function qD(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(KD,qD);Lo[e]=new ys(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(KD,qD);Lo[e]=new ys(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(KD,qD);Lo[e]=new ys(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lo[t]=new ys(t,1,!1,t.toLowerCase(),null,!1,!1)});Lo.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lo[t]=new ys(t,1,!1,t.toLowerCase(),null,!0,!0)});function GD(t,e,n,r){var i=Lo.hasOwnProperty(e)?Lo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Fre(e,n,i,r)&&(n=null),r||i===null?jre(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pu=z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sw=Symbol.for("react.element"),Pm=Symbol.for("react.portal"),Rm=Symbol.for("react.fragment"),YD=Symbol.for("react.strict_mode"),lk=Symbol.for("react.profiler"),B9=Symbol.for("react.provider"),V9=Symbol.for("react.context"),XD=Symbol.for("react.forward_ref"),ck=Symbol.for("react.suspense"),uk=Symbol.for("react.suspense_list"),ZD=Symbol.for("react.memo"),rd=Symbol.for("react.lazy"),H9=Symbol.for("react.offscreen"),t4=Symbol.iterator;function iy(t){return t===null||typeof t!="object"?null:(t=t4&&t[t4]||t["@@iterator"],typeof t=="function"?t:null)}var Ei=Object.assign,N2;function Jy(t){if(N2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);N2=e&&e[1]||""}return`
`+N2+t}var L2=!1;function j2(t,e){if(!t||L2)return"";L2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{L2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jy(t):""}function Bre(t){switch(t.tag){case 5:return Jy(t.type);case 16:return Jy("Lazy");case 13:return Jy("Suspense");case 19:return Jy("SuspenseList");case 0:case 2:case 15:return t=j2(t.type,!1),t;case 11:return t=j2(t.type.render,!1),t;case 1:return t=j2(t.type,!0),t;default:return""}}function dk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rm:return"Fragment";case Pm:return"Portal";case lk:return"Profiler";case YD:return"StrictMode";case ck:return"Suspense";case uk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V9:return(t.displayName||"Context")+".Consumer";case B9:return(t._context.displayName||"Context")+".Provider";case XD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZD:return e=t.displayName||null,e!==null?e:dk(t.type)||"Memo";case rd:e=t._payload,t=t._init;try{return dk(t(e))}catch{}}return null}function Vre(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dk(e);case 8:return e===YD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hre(t){var e=W9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function aw(t){t._valueTracker||(t._valueTracker=Hre(t))}function U9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function NS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fk(t,e){var n=e.checked;return Ei({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function n4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function K9(t,e){e=e.checked,e!=null&&GD(t,"checked",e,!1)}function hk(t,e){K9(t,e);var n=Kd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pk(t,e.type,n):e.hasOwnProperty("defaultValue")&&pk(t,e.type,Kd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function r4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pk(t,e,n){(e!=="number"||NS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var e0=Array.isArray;function Zm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(wt(91));return Ei({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function i4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(wt(92));if(e0(n)){if(1<n.length)throw Error(wt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kd(n)}}function q9(t,e){var n=Kd(e.value),r=Kd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function o4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lw,Y9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lw=lw||document.createElement("div"),lw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var T0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wre=["Webkit","ms","Moz","O"];Object.keys(T0).forEach(function(t){Wre.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),T0[e]=T0[t]})});function X9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||T0.hasOwnProperty(t)&&T0[t]?(""+e).trim():e+"px"}function Z9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ure=Ei({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vk(t,e){if(e){if(Ure[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(wt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(wt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(wt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(wt(62))}}function yk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bk=null;function QD(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xk=null,Qm=null,Jm=null;function s4(t){if(t=Ax(t)){if(typeof xk!="function")throw Error(wt(280));var e=t.stateNode;e&&(e=jE(e),xk(t.stateNode,t.type,e))}}function Q9(t){Qm?Jm?Jm.push(t):Jm=[t]:Qm=t}function J9(){if(Qm){var t=Qm,e=Jm;if(Jm=Qm=null,s4(t),e)for(t=0;t<e.length;t++)s4(e[t])}}function eW(t,e){return t(e)}function tW(){}var z2=!1;function nW(t,e,n){if(z2)return t(e,n);z2=!0;try{return eW(t,e,n)}finally{z2=!1,(Qm!==null||Jm!==null)&&(tW(),J9())}}function ub(t,e){var n=t.stateNode;if(n===null)return null;var r=jE(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(wt(231,e,typeof n));return n}var _k=!1;if(yu)try{var oy={};Object.defineProperty(oy,"passive",{get:function(){_k=!0}}),window.addEventListener("test",oy,oy),window.removeEventListener("test",oy,oy)}catch{_k=!1}function Kre(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var P0=!1,LS=null,jS=!1,wk=null,qre={onError:function(t){P0=!0,LS=t}};function Gre(t,e,n,r,i,o,s,a,l){P0=!1,LS=null,Kre.apply(qre,arguments)}function Yre(t,e,n,r,i,o,s,a,l){if(Gre.apply(this,arguments),P0){if(P0){var c=LS;P0=!1,LS=null}else throw Error(wt(198));jS||(jS=!0,wk=c)}}function ap(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rW(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a4(t){if(ap(t)!==t)throw Error(wt(188))}function Xre(t){var e=t.alternate;if(!e){if(e=ap(t),e===null)throw Error(wt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return a4(i),t;if(o===r)return a4(i),e;o=o.sibling}throw Error(wt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(wt(189))}}if(n.alternate!==r)throw Error(wt(190))}if(n.tag!==3)throw Error(wt(188));return n.stateNode.current===n?t:e}function iW(t){return t=Xre(t),t!==null?oW(t):null}function oW(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oW(t);if(e!==null)return e;t=t.sibling}return null}var sW=aa.unstable_scheduleCallback,l4=aa.unstable_cancelCallback,Zre=aa.unstable_shouldYield,Qre=aa.unstable_requestPaint,Fi=aa.unstable_now,Jre=aa.unstable_getCurrentPriorityLevel,JD=aa.unstable_ImmediatePriority,aW=aa.unstable_UserBlockingPriority,zS=aa.unstable_NormalPriority,eie=aa.unstable_LowPriority,lW=aa.unstable_IdlePriority,AE=null,nc=null;function tie(t){if(nc&&typeof nc.onCommitFiberRoot=="function")try{nc.onCommitFiberRoot(AE,t,void 0,(t.current.flags&128)===128)}catch{}}var ll=Math.clz32?Math.clz32:iie,nie=Math.log,rie=Math.LN2;function iie(t){return t>>>=0,t===0?32:31-(nie(t)/rie|0)|0}var cw=64,uw=4194304;function t0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function FS(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=t0(a):(o&=s,o!==0&&(r=t0(o)))}else s=n&~i,s!==0?r=t0(s):o!==0&&(r=t0(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ll(e),i=1<<n,r|=t[n],e&=~i;return r}function oie(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sie(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ll(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=oie(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ck(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cW(){var t=cw;return cw<<=1,!(cw&4194240)&&(cw=64),t}function F2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ox(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ll(e),t[e]=n}function aie(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ll(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function eA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ll(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ar=0;function uW(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dW,tA,fW,hW,pW,Sk=!1,dw=[],Pd=null,Rd=null,kd=null,db=new Map,fb=new Map,sd=[],lie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c4(t,e){switch(t){case"focusin":case"focusout":Pd=null;break;case"dragenter":case"dragleave":Rd=null;break;case"mouseover":case"mouseout":kd=null;break;case"pointerover":case"pointerout":db.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fb.delete(e.pointerId)}}function sy(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ax(e),e!==null&&tA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cie(t,e,n,r,i){switch(e){case"focusin":return Pd=sy(Pd,t,e,n,r,i),!0;case"dragenter":return Rd=sy(Rd,t,e,n,r,i),!0;case"mouseover":return kd=sy(kd,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return db.set(o,sy(db.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fb.set(o,sy(fb.get(o)||null,t,e,n,r,i)),!0}return!1}function mW(t){var e=Jf(t.target);if(e!==null){var n=ap(e);if(n!==null){if(e=n.tag,e===13){if(e=rW(n),e!==null){t.blockedOn=e,pW(t.priority,function(){fW(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function OC(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ek(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bk=r,n.target.dispatchEvent(r),bk=null}else return e=Ax(n),e!==null&&tA(e),t.blockedOn=n,!1;e.shift()}return!0}function u4(t,e,n){OC(t)&&n.delete(e)}function uie(){Sk=!1,Pd!==null&&OC(Pd)&&(Pd=null),Rd!==null&&OC(Rd)&&(Rd=null),kd!==null&&OC(kd)&&(kd=null),db.forEach(u4),fb.forEach(u4)}function ay(t,e){t.blockedOn===e&&(t.blockedOn=null,Sk||(Sk=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,uie)))}function hb(t){function e(i){return ay(i,t)}if(0<dw.length){ay(dw[0],t);for(var n=1;n<dw.length;n++){var r=dw[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pd!==null&&ay(Pd,t),Rd!==null&&ay(Rd,t),kd!==null&&ay(kd,t),db.forEach(e),fb.forEach(e),n=0;n<sd.length;n++)r=sd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sd.length&&(n=sd[0],n.blockedOn===null);)mW(n),n.blockedOn===null&&sd.shift()}var eg=Pu.ReactCurrentBatchConfig,BS=!0;function die(t,e,n,r){var i=Ar,o=eg.transition;eg.transition=null;try{Ar=1,nA(t,e,n,r)}finally{Ar=i,eg.transition=o}}function fie(t,e,n,r){var i=Ar,o=eg.transition;eg.transition=null;try{Ar=4,nA(t,e,n,r)}finally{Ar=i,eg.transition=o}}function nA(t,e,n,r){if(BS){var i=Ek(t,e,n,r);if(i===null)X2(t,e,r,VS,n),c4(t,r);else if(cie(i,t,e,n,r))r.stopPropagation();else if(c4(t,r),e&4&&-1<lie.indexOf(t)){for(;i!==null;){var o=Ax(i);if(o!==null&&dW(o),o=Ek(t,e,n,r),o===null&&X2(t,e,r,VS,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else X2(t,e,r,null,n)}}var VS=null;function Ek(t,e,n,r){if(VS=null,t=QD(r),t=Jf(t),t!==null)if(e=ap(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rW(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return VS=t,null}function gW(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jre()){case JD:return 1;case aW:return 4;case zS:case eie:return 16;case lW:return 536870912;default:return 16}default:return 16}}var md=null,rA=null,DC=null;function vW(){if(DC)return DC;var t,e=rA,n=e.length,r,i="value"in md?md.value:md.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return DC=i.slice(t,1<r?1-r:void 0)}function AC(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fw(){return!0}function d4(){return!1}function fa(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fw:d4,this.isPropagationStopped=d4,this}return Ei(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fw)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fw)},persist:function(){},isPersistent:fw}),e}var mv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iA=fa(mv),Dx=Ei({},mv,{view:0,detail:0}),hie=fa(Dx),B2,V2,ly,$E=Ei({},Dx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ly&&(ly&&t.type==="mousemove"?(B2=t.screenX-ly.screenX,V2=t.screenY-ly.screenY):V2=B2=0,ly=t),B2)},movementY:function(t){return"movementY"in t?t.movementY:V2}}),f4=fa($E),pie=Ei({},$E,{dataTransfer:0}),mie=fa(pie),gie=Ei({},Dx,{relatedTarget:0}),H2=fa(gie),vie=Ei({},mv,{animationName:0,elapsedTime:0,pseudoElement:0}),yie=fa(vie),bie=Ei({},mv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xie=fa(bie),_ie=Ei({},mv,{data:0}),h4=fa(_ie),wie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eie(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sie[t])?!!e[t]:!1}function oA(){return Eie}var Iie=Ei({},Dx,{key:function(t){if(t.key){var e=wie[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=AC(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cie[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oA,charCode:function(t){return t.type==="keypress"?AC(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?AC(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tie=fa(Iie),Pie=Ei({},$E,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p4=fa(Pie),Rie=Ei({},Dx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oA}),kie=fa(Rie),Mie=Ei({},mv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oie=fa(Mie),Die=Ei({},$E,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aie=fa(Die),$ie=[9,13,27,32],sA=yu&&"CompositionEvent"in window,R0=null;yu&&"documentMode"in document&&(R0=document.documentMode);var Nie=yu&&"TextEvent"in window&&!R0,yW=yu&&(!sA||R0&&8<R0&&11>=R0),m4=" ",g4=!1;function bW(t,e){switch(t){case"keyup":return $ie.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xW(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var km=!1;function Lie(t,e){switch(t){case"compositionend":return xW(e);case"keypress":return e.which!==32?null:(g4=!0,m4);case"textInput":return t=e.data,t===m4&&g4?null:t;default:return null}}function jie(t,e){if(km)return t==="compositionend"||!sA&&bW(t,e)?(t=vW(),DC=rA=md=null,km=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yW&&e.locale!=="ko"?null:e.data;default:return null}}var zie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zie[t.type]:e==="textarea"}function _W(t,e,n,r){Q9(r),e=HS(e,"onChange"),0<e.length&&(n=new iA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var k0=null,pb=null;function Fie(t){OW(t,0)}function NE(t){var e=Dm(t);if(U9(e))return t}function Bie(t,e){if(t==="change")return e}var wW=!1;if(yu){var W2;if(yu){var U2="oninput"in document;if(!U2){var y4=document.createElement("div");y4.setAttribute("oninput","return;"),U2=typeof y4.oninput=="function"}W2=U2}else W2=!1;wW=W2&&(!document.documentMode||9<document.documentMode)}function b4(){k0&&(k0.detachEvent("onpropertychange",CW),pb=k0=null)}function CW(t){if(t.propertyName==="value"&&NE(pb)){var e=[];_W(e,pb,t,QD(t)),nW(Fie,e)}}function Vie(t,e,n){t==="focusin"?(b4(),k0=e,pb=n,k0.attachEvent("onpropertychange",CW)):t==="focusout"&&b4()}function Hie(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return NE(pb)}function Wie(t,e){if(t==="click")return NE(e)}function Uie(t,e){if(t==="input"||t==="change")return NE(e)}function Kie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pl=typeof Object.is=="function"?Object.is:Kie;function mb(t,e){if(pl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ak.call(e,i)||!pl(t[i],e[i]))return!1}return!0}function x4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _4(t,e){var n=x4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x4(n)}}function SW(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SW(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EW(){for(var t=window,e=NS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=NS(t.document)}return e}function aA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qie(t){var e=EW(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SW(n.ownerDocument.documentElement,n)){if(r!==null&&aA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_4(n,o);var s=_4(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gie=yu&&"documentMode"in document&&11>=document.documentMode,Mm=null,Ik=null,M0=null,Tk=!1;function w4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tk||Mm==null||Mm!==NS(r)||(r=Mm,"selectionStart"in r&&aA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),M0&&mb(M0,r)||(M0=r,r=HS(Ik,"onSelect"),0<r.length&&(e=new iA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mm)))}function hw(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Om={animationend:hw("Animation","AnimationEnd"),animationiteration:hw("Animation","AnimationIteration"),animationstart:hw("Animation","AnimationStart"),transitionend:hw("Transition","TransitionEnd")},K2={},IW={};yu&&(IW=document.createElement("div").style,"AnimationEvent"in window||(delete Om.animationend.animation,delete Om.animationiteration.animation,delete Om.animationstart.animation),"TransitionEvent"in window||delete Om.transitionend.transition);function LE(t){if(K2[t])return K2[t];if(!Om[t])return t;var e=Om[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IW)return K2[t]=e[n];return t}var TW=LE("animationend"),PW=LE("animationiteration"),RW=LE("animationstart"),kW=LE("transitionend"),MW=new Map,C4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cf(t,e){MW.set(t,e),sp(e,[t])}for(var q2=0;q2<C4.length;q2++){var G2=C4[q2],Yie=G2.toLowerCase(),Xie=G2[0].toUpperCase()+G2.slice(1);cf(Yie,"on"+Xie)}cf(TW,"onAnimationEnd");cf(PW,"onAnimationIteration");cf(RW,"onAnimationStart");cf("dblclick","onDoubleClick");cf("focusin","onFocus");cf("focusout","onBlur");cf(kW,"onTransitionEnd");xg("onMouseEnter",["mouseout","mouseover"]);xg("onMouseLeave",["mouseout","mouseover"]);xg("onPointerEnter",["pointerout","pointerover"]);xg("onPointerLeave",["pointerout","pointerover"]);sp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sp("onBeforeInput",["compositionend","keypress","textInput","paste"]);sp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zie=new Set("cancel close invalid load scroll toggle".split(" ").concat(n0));function S4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Yre(r,e,void 0,t),t.currentTarget=null}function OW(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;S4(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;S4(i,a,c),o=l}}}if(jS)throw t=wk,jS=!1,wk=null,t}function ei(t,e){var n=e[Ok];n===void 0&&(n=e[Ok]=new Set);var r=t+"__bubble";n.has(r)||(DW(e,t,2,!1),n.add(r))}function Y2(t,e,n){var r=0;e&&(r|=4),DW(n,t,r,e)}var pw="_reactListening"+Math.random().toString(36).slice(2);function gb(t){if(!t[pw]){t[pw]=!0,F9.forEach(function(n){n!=="selectionchange"&&(Zie.has(n)||Y2(n,!1,t),Y2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pw]||(e[pw]=!0,Y2("selectionchange",!1,e))}}function DW(t,e,n,r){switch(gW(e)){case 1:var i=die;break;case 4:i=fie;break;default:i=nA}n=i.bind(null,e,n,t),i=void 0,!_k||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function X2(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Jf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nW(function(){var c=o,u=QD(n),d=[];e:{var f=MW.get(t);if(f!==void 0){var p=iA,v=t;switch(t){case"keypress":if(AC(n)===0)break e;case"keydown":case"keyup":p=Tie;break;case"focusin":v="focus",p=H2;break;case"focusout":v="blur",p=H2;break;case"beforeblur":case"afterblur":p=H2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=f4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kie;break;case TW:case PW:case RW:p=yie;break;case kW:p=Oie;break;case"scroll":p=hie;break;case"wheel":p=Aie;break;case"copy":case"cut":case"paste":p=xie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=p4}var y=(e&4)!==0,b=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var _=c,w;_!==null;){w=_;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,x!==null&&(E=ub(_,x),E!=null&&y.push(vb(_,E,w)))),b)break;_=_.return}0<y.length&&(f=new p(f,v,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==bk&&(v=n.relatedTarget||n.fromElement)&&(Jf(v)||v[bu]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Jf(v):null,v!==null&&(b=ap(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(y=f4,E="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=p4,E="onPointerLeave",x="onPointerEnter",_="pointer"),b=p==null?f:Dm(p),w=v==null?f:Dm(v),f=new y(E,_+"leave",p,n,u),f.target=b,f.relatedTarget=w,E=null,Jf(u)===c&&(y=new y(x,_+"enter",v,n,u),y.target=w,y.relatedTarget=b,E=y),b=E,p&&v)t:{for(y=p,x=v,_=0,w=y;w;w=Bp(w))_++;for(w=0,E=x;E;E=Bp(E))w++;for(;0<_-w;)y=Bp(y),_--;for(;0<w-_;)x=Bp(x),w--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=Bp(y),x=Bp(x)}y=null}else y=null;p!==null&&E4(d,f,p,y,!1),v!==null&&b!==null&&E4(d,b,v,y,!0)}}e:{if(f=c?Dm(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=Bie;else if(v4(f))if(wW)T=Uie;else{T=Hie;var I=Vie}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Wie);if(T&&(T=T(t,c))){_W(d,T,n,u);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&pk(f,"number",f.value)}switch(I=c?Dm(c):window,t){case"focusin":(v4(I)||I.contentEditable==="true")&&(Mm=I,Ik=c,M0=null);break;case"focusout":M0=Ik=Mm=null;break;case"mousedown":Tk=!0;break;case"contextmenu":case"mouseup":case"dragend":Tk=!1,w4(d,n,u);break;case"selectionchange":if(Gie)break;case"keydown":case"keyup":w4(d,n,u)}var S;if(sA)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else km?bW(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(yW&&n.locale!=="ko"&&(km||P!=="onCompositionStart"?P==="onCompositionEnd"&&km&&(S=vW()):(md=u,rA="value"in md?md.value:md.textContent,km=!0)),I=HS(c,P),0<I.length&&(P=new h4(P,t,null,n,u),d.push({event:P,listeners:I}),S?P.data=S:(S=xW(n),S!==null&&(P.data=S)))),(S=Nie?Lie(t,n):jie(t,n))&&(c=HS(c,"onBeforeInput"),0<c.length&&(u=new h4("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}OW(d,e)})}function vb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function HS(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ub(t,n),o!=null&&r.unshift(vb(t,o,i)),o=ub(t,e),o!=null&&r.push(vb(t,o,i))),t=t.return}return r}function Bp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E4(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ub(n,o),l!=null&&s.unshift(vb(n,l,a))):i||(l=ub(n,o),l!=null&&s.push(vb(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Qie=/\r\n?/g,Jie=/\u0000|\uFFFD/g;function I4(t){return(typeof t=="string"?t:""+t).replace(Qie,`
`).replace(Jie,"")}function mw(t,e,n){if(e=I4(e),I4(t)!==e&&n)throw Error(wt(425))}function WS(){}var Pk=null,Rk=null;function kk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mk=typeof setTimeout=="function"?setTimeout:void 0,eoe=typeof clearTimeout=="function"?clearTimeout:void 0,T4=typeof Promise=="function"?Promise:void 0,toe=typeof queueMicrotask=="function"?queueMicrotask:typeof T4<"u"?function(t){return T4.resolve(null).then(t).catch(noe)}:Mk;function noe(t){setTimeout(function(){throw t})}function Z2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hb(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hb(e)}function Md(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function P4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gv=Math.random().toString(36).slice(2),ql="__reactFiber$"+gv,yb="__reactProps$"+gv,bu="__reactContainer$"+gv,Ok="__reactEvents$"+gv,roe="__reactListeners$"+gv,ioe="__reactHandles$"+gv;function Jf(t){var e=t[ql];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bu]||n[ql]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=P4(t);t!==null;){if(n=t[ql])return n;t=P4(t)}return e}t=n,n=t.parentNode}return null}function Ax(t){return t=t[ql]||t[bu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(wt(33))}function jE(t){return t[yb]||null}var Dk=[],Am=-1;function uf(t){return{current:t}}function ii(t){0>Am||(t.current=Dk[Am],Dk[Am]=null,Am--)}function Qr(t,e){Am++,Dk[Am]=t.current,t.current=e}var qd={},Jo=uf(qd),Ds=uf(!1),Rh=qd;function _g(t,e){var n=t.type.contextTypes;if(!n)return qd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function As(t){return t=t.childContextTypes,t!=null}function US(){ii(Ds),ii(Jo)}function R4(t,e,n){if(Jo.current!==qd)throw Error(wt(168));Qr(Jo,e),Qr(Ds,n)}function AW(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(wt(108,Vre(t)||"Unknown",i));return Ei({},n,r)}function KS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qd,Rh=Jo.current,Qr(Jo,t),Qr(Ds,Ds.current),!0}function k4(t,e,n){var r=t.stateNode;if(!r)throw Error(wt(169));n?(t=AW(t,e,Rh),r.__reactInternalMemoizedMergedChildContext=t,ii(Ds),ii(Jo),Qr(Jo,t)):ii(Ds),Qr(Ds,n)}var Kc=null,zE=!1,Q2=!1;function $W(t){Kc===null?Kc=[t]:Kc.push(t)}function ooe(t){zE=!0,$W(t)}function df(){if(!Q2&&Kc!==null){Q2=!0;var t=0,e=Ar;try{var n=Kc;for(Ar=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kc=null,zE=!1}catch(i){throw Kc!==null&&(Kc=Kc.slice(t+1)),sW(JD,df),i}finally{Ar=e,Q2=!1}}return null}var $m=[],Nm=0,qS=null,GS=0,Ta=[],Pa=0,kh=null,Zc=1,Qc="";function Of(t,e){$m[Nm++]=GS,$m[Nm++]=qS,qS=t,GS=e}function NW(t,e,n){Ta[Pa++]=Zc,Ta[Pa++]=Qc,Ta[Pa++]=kh,kh=t;var r=Zc;t=Qc;var i=32-ll(r)-1;r&=~(1<<i),n+=1;var o=32-ll(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zc=1<<32-ll(e)+i|n<<i|r,Qc=o+t}else Zc=1<<o|n<<i|r,Qc=t}function lA(t){t.return!==null&&(Of(t,1),NW(t,1,0))}function cA(t){for(;t===qS;)qS=$m[--Nm],$m[Nm]=null,GS=$m[--Nm],$m[Nm]=null;for(;t===kh;)kh=Ta[--Pa],Ta[Pa]=null,Qc=Ta[--Pa],Ta[Pa]=null,Zc=Ta[--Pa],Ta[Pa]=null}var ra=null,Xs=null,fi=!1,sl=null;function LW(t,e){var n=Ma(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function M4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ra=t,Xs=Md(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ra=t,Xs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kh!==null?{id:Zc,overflow:Qc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ma(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ra=t,Xs=null,!0):!1;default:return!1}}function Ak(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $k(t){if(fi){var e=Xs;if(e){var n=e;if(!M4(t,e)){if(Ak(t))throw Error(wt(418));e=Md(n.nextSibling);var r=ra;e&&M4(t,e)?LW(r,n):(t.flags=t.flags&-4097|2,fi=!1,ra=t)}}else{if(Ak(t))throw Error(wt(418));t.flags=t.flags&-4097|2,fi=!1,ra=t}}}function O4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ra=t}function gw(t){if(t!==ra)return!1;if(!fi)return O4(t),fi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kk(t.type,t.memoizedProps)),e&&(e=Xs)){if(Ak(t))throw jW(),Error(wt(418));for(;e;)LW(t,e),e=Md(e.nextSibling)}if(O4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(wt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xs=Md(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xs=null}}else Xs=ra?Md(t.stateNode.nextSibling):null;return!0}function jW(){for(var t=Xs;t;)t=Md(t.nextSibling)}function wg(){Xs=ra=null,fi=!1}function uA(t){sl===null?sl=[t]:sl.push(t)}var soe=Pu.ReactCurrentBatchConfig;function tl(t,e){if(t&&t.defaultProps){e=Ei({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var YS=uf(null),XS=null,Lm=null,dA=null;function fA(){dA=Lm=XS=null}function hA(t){var e=YS.current;ii(YS),t._currentValue=e}function Nk(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tg(t,e){XS=t,dA=Lm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ms=!0),t.firstContext=null)}function La(t){var e=t._currentValue;if(dA!==t)if(t={context:t,memoizedValue:e,next:null},Lm===null){if(XS===null)throw Error(wt(308));Lm=t,XS.dependencies={lanes:0,firstContext:t}}else Lm=Lm.next=t;return e}var eh=null;function pA(t){eh===null?eh=[t]:eh.push(t)}function zW(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pA(e)):(n.next=i.next,i.next=n),e.interleaved=n,xu(t,r)}function xu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var id=!1;function mA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FW(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ou(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Od(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ur&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xu(t,n)}return i=r.interleaved,i===null?(e.next=e,pA(r)):(e.next=i.next,i.next=e),r.interleaved=e,xu(t,n)}function $C(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eA(t,n)}}function D4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ZS(t,e,n,r){var i=t.updateQueue;id=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=Ei({},d,f);break e;case 2:id=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Oh|=s,t.lanes=s,t.memoizedState=d}}function A4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(wt(191,i));i.call(r)}}}var BW=new z9.Component().refs;function Lk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ei({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var FE={isMounted:function(t){return(t=t._reactInternals)?ap(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=us(),i=Ad(t),o=ou(r,i);o.payload=e,n!=null&&(o.callback=n),e=Od(t,o,i),e!==null&&(cl(e,t,i,r),$C(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=us(),i=Ad(t),o=ou(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Od(t,o,i),e!==null&&(cl(e,t,i,r),$C(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=us(),r=Ad(t),i=ou(n,r);i.tag=2,e!=null&&(i.callback=e),e=Od(t,i,r),e!==null&&(cl(e,t,r,n),$C(e,t,r))}};function $4(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!mb(n,r)||!mb(i,o):!0}function VW(t,e,n){var r=!1,i=qd,o=e.contextType;return typeof o=="object"&&o!==null?o=La(o):(i=As(e)?Rh:Jo.current,r=e.contextTypes,o=(r=r!=null)?_g(t,i):qd),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=FE,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function N4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&FE.enqueueReplaceState(e,e.state,null)}function jk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=BW,mA(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=La(o):(o=As(e)?Rh:Jo.current,i.context=_g(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Lk(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&FE.enqueueReplaceState(i,i.state,null),ZS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(wt(309));var r=n.stateNode}if(!r)throw Error(wt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===BW&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(wt(284));if(!n._owner)throw Error(wt(290,t))}return t}function vw(t,e){throw t=Object.prototype.toString.call(e),Error(wt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function L4(t){var e=t._init;return e(t._payload)}function HW(t){function e(x,_){if(t){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=$d(x,_),x.index=0,x.sibling=null,x}function o(x,_,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,w,E){return _===null||_.tag!==6?(_=oP(w,x.mode,E),_.return=x,_):(_=i(_,w),_.return=x,_)}function l(x,_,w,E){var T=w.type;return T===Rm?u(x,_,w.props.children,E,w.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rd&&L4(T)===_.type)?(E=i(_,w.props),E.ref=cy(x,_,w),E.return=x,E):(E=BC(w.type,w.key,w.props,null,x.mode,E),E.ref=cy(x,_,w),E.return=x,E)}function c(x,_,w,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=sP(w,x.mode,E),_.return=x,_):(_=i(_,w.children||[]),_.return=x,_)}function u(x,_,w,E,T){return _===null||_.tag!==7?(_=dh(w,x.mode,E,T),_.return=x,_):(_=i(_,w),_.return=x,_)}function d(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=oP(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sw:return w=BC(_.type,_.key,_.props,null,x.mode,w),w.ref=cy(x,null,_),w.return=x,w;case Pm:return _=sP(_,x.mode,w),_.return=x,_;case rd:var E=_._init;return d(x,E(_._payload),w)}if(e0(_)||iy(_))return _=dh(_,x.mode,w,null),_.return=x,_;vw(x,_)}return null}function f(x,_,w,E){var T=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(x,_,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sw:return w.key===T?l(x,_,w,E):null;case Pm:return w.key===T?c(x,_,w,E):null;case rd:return T=w._init,f(x,_,T(w._payload),E)}if(e0(w)||iy(w))return T!==null?null:u(x,_,w,E,null);vw(x,w)}return null}function p(x,_,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(w)||null,a(_,x,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sw:return x=x.get(E.key===null?w:E.key)||null,l(_,x,E,T);case Pm:return x=x.get(E.key===null?w:E.key)||null,c(_,x,E,T);case rd:var I=E._init;return p(x,_,w,I(E._payload),T)}if(e0(E)||iy(E))return x=x.get(w)||null,u(_,x,E,T,null);vw(_,E)}return null}function v(x,_,w,E){for(var T=null,I=null,S=_,P=_=0,R=null;S!==null&&P<w.length;P++){S.index>P?(R=S,S=null):R=S.sibling;var O=f(x,S,w[P],E);if(O===null){S===null&&(S=R);break}t&&S&&O.alternate===null&&e(x,S),_=o(O,_,P),I===null?T=O:I.sibling=O,I=O,S=R}if(P===w.length)return n(x,S),fi&&Of(x,P),T;if(S===null){for(;P<w.length;P++)S=d(x,w[P],E),S!==null&&(_=o(S,_,P),I===null?T=S:I.sibling=S,I=S);return fi&&Of(x,P),T}for(S=r(x,S);P<w.length;P++)R=p(S,x,P,w[P],E),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?P:R.key),_=o(R,_,P),I===null?T=R:I.sibling=R,I=R);return t&&S.forEach(function(N){return e(x,N)}),fi&&Of(x,P),T}function y(x,_,w,E){var T=iy(w);if(typeof T!="function")throw Error(wt(150));if(w=T.call(w),w==null)throw Error(wt(151));for(var I=T=null,S=_,P=_=0,R=null,O=w.next();S!==null&&!O.done;P++,O=w.next()){S.index>P?(R=S,S=null):R=S.sibling;var N=f(x,S,O.value,E);if(N===null){S===null&&(S=R);break}t&&S&&N.alternate===null&&e(x,S),_=o(N,_,P),I===null?T=N:I.sibling=N,I=N,S=R}if(O.done)return n(x,S),fi&&Of(x,P),T;if(S===null){for(;!O.done;P++,O=w.next())O=d(x,O.value,E),O!==null&&(_=o(O,_,P),I===null?T=O:I.sibling=O,I=O);return fi&&Of(x,P),T}for(S=r(x,S);!O.done;P++,O=w.next())O=p(S,x,P,O.value,E),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?P:O.key),_=o(O,_,P),I===null?T=O:I.sibling=O,I=O);return t&&S.forEach(function(A){return e(x,A)}),fi&&Of(x,P),T}function b(x,_,w,E){if(typeof w=="object"&&w!==null&&w.type===Rm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sw:e:{for(var T=w.key,I=_;I!==null;){if(I.key===T){if(T=w.type,T===Rm){if(I.tag===7){n(x,I.sibling),_=i(I,w.props.children),_.return=x,x=_;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rd&&L4(T)===I.type){n(x,I.sibling),_=i(I,w.props),_.ref=cy(x,I,w),_.return=x,x=_;break e}n(x,I);break}else e(x,I);I=I.sibling}w.type===Rm?(_=dh(w.props.children,x.mode,E,w.key),_.return=x,x=_):(E=BC(w.type,w.key,w.props,null,x.mode,E),E.ref=cy(x,_,w),E.return=x,x=E)}return s(x);case Pm:e:{for(I=w.key;_!==null;){if(_.key===I)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(x,_.sibling),_=i(_,w.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=sP(w,x.mode,E),_.return=x,x=_}return s(x);case rd:return I=w._init,b(x,_,I(w._payload),E)}if(e0(w))return v(x,_,w,E);if(iy(w))return y(x,_,w,E);vw(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,w),_.return=x,x=_):(n(x,_),_=oP(w,x.mode,E),_.return=x,x=_),s(x)):n(x,_)}return b}var Cg=HW(!0),WW=HW(!1),$x={},rc=uf($x),bb=uf($x),xb=uf($x);function th(t){if(t===$x)throw Error(wt(174));return t}function gA(t,e){switch(Qr(xb,e),Qr(bb,t),Qr(rc,$x),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gk(e,t)}ii(rc),Qr(rc,e)}function Sg(){ii(rc),ii(bb),ii(xb)}function UW(t){th(xb.current);var e=th(rc.current),n=gk(e,t.type);e!==n&&(Qr(bb,t),Qr(rc,n))}function vA(t){bb.current===t&&(ii(rc),ii(bb))}var bi=uf(0);function QS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J2=[];function yA(){for(var t=0;t<J2.length;t++)J2[t]._workInProgressVersionPrimary=null;J2.length=0}var NC=Pu.ReactCurrentDispatcher,eP=Pu.ReactCurrentBatchConfig,Mh=0,Ci=null,lo=null,wo=null,JS=!1,O0=!1,_b=0,aoe=0;function Vo(){throw Error(wt(321))}function bA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pl(t[n],e[n]))return!1;return!0}function xA(t,e,n,r,i,o){if(Mh=o,Ci=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,NC.current=t===null||t.memoizedState===null?doe:foe,t=n(r,i),O0){o=0;do{if(O0=!1,_b=0,25<=o)throw Error(wt(301));o+=1,wo=lo=null,e.updateQueue=null,NC.current=hoe,t=n(r,i)}while(O0)}if(NC.current=e1,e=lo!==null&&lo.next!==null,Mh=0,wo=lo=Ci=null,JS=!1,e)throw Error(wt(300));return t}function _A(){var t=_b!==0;return _b=0,t}function zl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wo===null?Ci.memoizedState=wo=t:wo=wo.next=t,wo}function ja(){if(lo===null){var t=Ci.alternate;t=t!==null?t.memoizedState:null}else t=lo.next;var e=wo===null?Ci.memoizedState:wo.next;if(e!==null)wo=e,lo=t;else{if(t===null)throw Error(wt(310));lo=t,t={memoizedState:lo.memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},wo===null?Ci.memoizedState=wo=t:wo=wo.next=t}return wo}function wb(t,e){return typeof e=="function"?e(t):e}function tP(t){var e=ja(),n=e.queue;if(n===null)throw Error(wt(311));n.lastRenderedReducer=t;var r=lo,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Mh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ci.lanes|=u,Oh|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,pl(r,e.memoizedState)||(Ms=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ci.lanes|=o,Oh|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nP(t){var e=ja(),n=e.queue;if(n===null)throw Error(wt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);pl(o,e.memoizedState)||(Ms=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function KW(){}function qW(t,e){var n=Ci,r=ja(),i=e(),o=!pl(r.memoizedState,i);if(o&&(r.memoizedState=i,Ms=!0),r=r.queue,wA(XW.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||wo!==null&&wo.memoizedState.tag&1){if(n.flags|=2048,Cb(9,YW.bind(null,n,r,i,e),void 0,null),Eo===null)throw Error(wt(349));Mh&30||GW(n,e,i)}return i}function GW(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ci.updateQueue,e===null?(e={lastEffect:null,stores:null},Ci.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YW(t,e,n,r){e.value=n,e.getSnapshot=r,ZW(e)&&QW(t)}function XW(t,e,n){return n(function(){ZW(e)&&QW(t)})}function ZW(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pl(t,n)}catch{return!0}}function QW(t){var e=xu(t,1);e!==null&&cl(e,t,1,-1)}function j4(t){var e=zl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wb,lastRenderedState:t},e.queue=t,t=t.dispatch=uoe.bind(null,Ci,t),[e.memoizedState,t]}function Cb(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ci.updateQueue,e===null?(e={lastEffect:null,stores:null},Ci.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JW(){return ja().memoizedState}function LC(t,e,n,r){var i=zl();Ci.flags|=t,i.memoizedState=Cb(1|e,n,void 0,r===void 0?null:r)}function BE(t,e,n,r){var i=ja();r=r===void 0?null:r;var o=void 0;if(lo!==null){var s=lo.memoizedState;if(o=s.destroy,r!==null&&bA(r,s.deps)){i.memoizedState=Cb(e,n,o,r);return}}Ci.flags|=t,i.memoizedState=Cb(1|e,n,o,r)}function z4(t,e){return LC(8390656,8,t,e)}function wA(t,e){return BE(2048,8,t,e)}function eU(t,e){return BE(4,2,t,e)}function tU(t,e){return BE(4,4,t,e)}function nU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rU(t,e,n){return n=n!=null?n.concat([t]):null,BE(4,4,nU.bind(null,e,t),n)}function CA(){}function iU(t,e){var n=ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oU(t,e){var n=ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sU(t,e,n){return Mh&21?(pl(n,e)||(n=cW(),Ci.lanes|=n,Oh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ms=!0),t.memoizedState=n)}function loe(t,e){var n=Ar;Ar=n!==0&&4>n?n:4,t(!0);var r=eP.transition;eP.transition={};try{t(!1),e()}finally{Ar=n,eP.transition=r}}function aU(){return ja().memoizedState}function coe(t,e,n){var r=Ad(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lU(t))cU(e,n);else if(n=zW(t,e,n,r),n!==null){var i=us();cl(n,t,r,i),uU(n,e,r)}}function uoe(t,e,n){var r=Ad(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lU(t))cU(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,pl(a,s)){var l=e.interleaved;l===null?(i.next=i,pA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=zW(t,e,i,r),n!==null&&(i=us(),cl(n,t,r,i),uU(n,e,r))}}function lU(t){var e=t.alternate;return t===Ci||e!==null&&e===Ci}function cU(t,e){O0=JS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eA(t,n)}}var e1={readContext:La,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useInsertionEffect:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useDeferredValue:Vo,useTransition:Vo,useMutableSource:Vo,useSyncExternalStore:Vo,useId:Vo,unstable_isNewReconciler:!1},doe={readContext:La,useCallback:function(t,e){return zl().memoizedState=[t,e===void 0?null:e],t},useContext:La,useEffect:z4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,LC(4194308,4,nU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return LC(4194308,4,t,e)},useInsertionEffect:function(t,e){return LC(4,2,t,e)},useMemo:function(t,e){var n=zl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=coe.bind(null,Ci,t),[r.memoizedState,t]},useRef:function(t){var e=zl();return t={current:t},e.memoizedState=t},useState:j4,useDebugValue:CA,useDeferredValue:function(t){return zl().memoizedState=t},useTransition:function(){var t=j4(!1),e=t[0];return t=loe.bind(null,t[1]),zl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ci,i=zl();if(fi){if(n===void 0)throw Error(wt(407));n=n()}else{if(n=e(),Eo===null)throw Error(wt(349));Mh&30||GW(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,z4(XW.bind(null,r,o,t),[t]),r.flags|=2048,Cb(9,YW.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=zl(),e=Eo.identifierPrefix;if(fi){var n=Qc,r=Zc;n=(r&~(1<<32-ll(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_b++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aoe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},foe={readContext:La,useCallback:iU,useContext:La,useEffect:wA,useImperativeHandle:rU,useInsertionEffect:eU,useLayoutEffect:tU,useMemo:oU,useReducer:tP,useRef:JW,useState:function(){return tP(wb)},useDebugValue:CA,useDeferredValue:function(t){var e=ja();return sU(e,lo.memoizedState,t)},useTransition:function(){var t=tP(wb)[0],e=ja().memoizedState;return[t,e]},useMutableSource:KW,useSyncExternalStore:qW,useId:aU,unstable_isNewReconciler:!1},hoe={readContext:La,useCallback:iU,useContext:La,useEffect:wA,useImperativeHandle:rU,useInsertionEffect:eU,useLayoutEffect:tU,useMemo:oU,useReducer:nP,useRef:JW,useState:function(){return nP(wb)},useDebugValue:CA,useDeferredValue:function(t){var e=ja();return lo===null?e.memoizedState=t:sU(e,lo.memoizedState,t)},useTransition:function(){var t=nP(wb)[0],e=ja().memoizedState;return[t,e]},useMutableSource:KW,useSyncExternalStore:qW,useId:aU,unstable_isNewReconciler:!1};function Eg(t,e){try{var n="",r=e;do n+=Bre(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function rP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var poe=typeof WeakMap=="function"?WeakMap:Map;function dU(t,e,n){n=ou(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){n1||(n1=!0,Yk=r),zk(t,e)},n}function fU(t,e,n){n=ou(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zk(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zk(t,e),typeof r!="function"&&(Dd===null?Dd=new Set([this]):Dd.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function F4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new poe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Poe.bind(null,t,e,n),e.then(t,t))}function B4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ou(-1,1),e.tag=2,Od(n,e,1))),n.lanes|=1),t)}var moe=Pu.ReactCurrentOwner,Ms=!1;function os(t,e,n,r){e.child=t===null?WW(e,null,n,r):Cg(e,t.child,n,r)}function H4(t,e,n,r,i){n=n.render;var o=e.ref;return tg(e,i),r=xA(t,e,n,r,o,i),n=_A(),t!==null&&!Ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_u(t,e,i)):(fi&&n&&lA(e),e.flags|=1,os(t,e,r,i),e.child)}function W4(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!MA(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,hU(t,e,o,r,i)):(t=BC(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:mb,n(s,r)&&t.ref===e.ref)return _u(t,e,i)}return e.flags|=1,t=$d(o,r),t.ref=e.ref,t.return=e,e.child=t}function hU(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(mb(o,r)&&t.ref===e.ref)if(Ms=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ms=!0);else return e.lanes=t.lanes,_u(t,e,i)}return Fk(t,e,n,r,i)}function pU(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qr(zm,qs),qs|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qr(zm,qs),qs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qr(zm,qs),qs|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qr(zm,qs),qs|=r;return os(t,e,i,n),e.child}function mU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fk(t,e,n,r,i){var o=As(n)?Rh:Jo.current;return o=_g(e,o),tg(e,i),n=xA(t,e,n,r,o,i),r=_A(),t!==null&&!Ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_u(t,e,i)):(fi&&r&&lA(e),e.flags|=1,os(t,e,n,i),e.child)}function U4(t,e,n,r,i){if(As(n)){var o=!0;KS(e)}else o=!1;if(tg(e,i),e.stateNode===null)jC(t,e),VW(e,n,r),jk(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=La(c):(c=As(n)?Rh:Jo.current,c=_g(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&N4(e,s,r,c),id=!1;var f=e.memoizedState;s.state=f,ZS(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Ds.current||id?(typeof u=="function"&&(Lk(e,n,u,r),l=e.memoizedState),(a=id||$4(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,FW(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tl(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=La(l):(l=As(n)?Rh:Jo.current,l=_g(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&N4(e,s,r,l),id=!1,f=e.memoizedState,s.state=f,ZS(e,r,s,i);var v=e.memoizedState;a!==d||f!==v||Ds.current||id?(typeof p=="function"&&(Lk(e,n,p,r),v=e.memoizedState),(c=id||$4(e,n,c,r,f,v,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Bk(t,e,n,r,o,i)}function Bk(t,e,n,r,i,o){mU(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&k4(e,n,!1),_u(t,e,o);r=e.stateNode,moe.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Cg(e,t.child,null,o),e.child=Cg(e,null,a,o)):os(t,e,a,o),e.memoizedState=r.state,i&&k4(e,n,!0),e.child}function gU(t){var e=t.stateNode;e.pendingContext?R4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R4(t,e.context,!1),gA(t,e.containerInfo)}function K4(t,e,n,r,i){return wg(),uA(i),e.flags|=256,os(t,e,n,r),e.child}var Vk={dehydrated:null,treeContext:null,retryLane:0};function Hk(t){return{baseLanes:t,cachePool:null,transitions:null}}function vU(t,e,n){var r=e.pendingProps,i=bi.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qr(bi,i&1),t===null)return $k(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=WE(s,r,0,null),t=dh(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Hk(n),e.memoizedState=Vk,t):SA(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return goe(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$d(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$d(a,o):(o=dh(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Hk(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Vk,r}return o=t.child,t=o.sibling,r=$d(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function SA(t,e){return e=WE({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yw(t,e,n,r){return r!==null&&uA(r),Cg(e,t.child,null,n),t=SA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function goe(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=rP(Error(wt(422))),yw(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=WE({mode:"visible",children:r.children},i,0,null),o=dh(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Cg(e,t.child,null,s),e.child.memoizedState=Hk(s),e.memoizedState=Vk,o);if(!(e.mode&1))return yw(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(wt(419)),r=rP(o,r,void 0),yw(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ms||a){if(r=Eo,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,xu(t,i),cl(r,t,i,-1))}return kA(),r=rP(Error(wt(421))),yw(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Roe.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Xs=Md(i.nextSibling),ra=e,fi=!0,sl=null,t!==null&&(Ta[Pa++]=Zc,Ta[Pa++]=Qc,Ta[Pa++]=kh,Zc=t.id,Qc=t.overflow,kh=e),e=SA(e,r.children),e.flags|=4096,e)}function q4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nk(t.return,e,n)}function iP(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function yU(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(os(t,e,r.children,n),r=bi.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q4(t,n,e);else if(t.tag===19)q4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qr(bi,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&QS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),iP(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&QS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}iP(e,!0,n,null,o);break;case"together":iP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jC(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _u(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(wt(153));if(e.child!==null){for(t=e.child,n=$d(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$d(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function voe(t,e,n){switch(e.tag){case 3:gU(e),wg();break;case 5:UW(e);break;case 1:As(e.type)&&KS(e);break;case 4:gA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qr(YS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qr(bi,bi.current&1),e.flags|=128,null):n&e.child.childLanes?vU(t,e,n):(Qr(bi,bi.current&1),t=_u(t,e,n),t!==null?t.sibling:null);Qr(bi,bi.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qr(bi,bi.current),r)break;return null;case 22:case 23:return e.lanes=0,pU(t,e,n)}return _u(t,e,n)}var bU,Wk,xU,_U;bU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wk=function(){};xU=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,th(rc.current);var o=null;switch(n){case"input":i=fk(t,i),r=fk(t,r),o=[];break;case"select":i=Ei({},i,{value:void 0}),r=Ei({},r,{value:void 0}),o=[];break;case"textarea":i=mk(t,i),r=mk(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=WS)}vk(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lb.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lb.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ei("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};_U=function(t,e,n,r){n!==r&&(e.flags|=4)};function uy(t,e){if(!fi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ho(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yoe(t,e,n){var r=e.pendingProps;switch(cA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(e),null;case 1:return As(e.type)&&US(),Ho(e),null;case 3:return r=e.stateNode,Sg(),ii(Ds),ii(Jo),yA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gw(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sl!==null&&(Qk(sl),sl=null))),Wk(t,e),Ho(e),null;case 5:vA(e);var i=th(xb.current);if(n=e.type,t!==null&&e.stateNode!=null)xU(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(wt(166));return Ho(e),null}if(t=th(rc.current),gw(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ql]=e,r[yb]=o,t=(e.mode&1)!==0,n){case"dialog":ei("cancel",r),ei("close",r);break;case"iframe":case"object":case"embed":ei("load",r);break;case"video":case"audio":for(i=0;i<n0.length;i++)ei(n0[i],r);break;case"source":ei("error",r);break;case"img":case"image":case"link":ei("error",r),ei("load",r);break;case"details":ei("toggle",r);break;case"input":n4(r,o),ei("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ei("invalid",r);break;case"textarea":i4(r,o),ei("invalid",r)}vk(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&mw(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&mw(r.textContent,a,t),i=["children",""+a]):lb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ei("scroll",r)}switch(n){case"input":aw(r),r4(r,o,!0);break;case"textarea":aw(r),o4(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=WS)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ql]=e,t[yb]=r,bU(t,e,!1,!1),e.stateNode=t;e:{switch(s=yk(n,r),n){case"dialog":ei("cancel",t),ei("close",t),i=r;break;case"iframe":case"object":case"embed":ei("load",t),i=r;break;case"video":case"audio":for(i=0;i<n0.length;i++)ei(n0[i],t);i=r;break;case"source":ei("error",t),i=r;break;case"img":case"image":case"link":ei("error",t),ei("load",t),i=r;break;case"details":ei("toggle",t),i=r;break;case"input":n4(t,r),i=fk(t,r),ei("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ei({},r,{value:void 0}),ei("invalid",t);break;case"textarea":i4(t,r),i=mk(t,r),ei("invalid",t);break;default:i=r}vk(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Z9(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y9(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cb(t,l):typeof l=="number"&&cb(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lb.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ei("scroll",t):l!=null&&GD(t,o,l,s))}switch(n){case"input":aw(t),r4(t,r,!1);break;case"textarea":aw(t),o4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kd(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Zm(t,!!r.multiple,o,!1):r.defaultValue!=null&&Zm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=WS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ho(e),null;case 6:if(t&&e.stateNode!=null)_U(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(wt(166));if(n=th(xb.current),th(rc.current),gw(e)){if(r=e.stateNode,n=e.memoizedProps,r[ql]=e,(o=r.nodeValue!==n)&&(t=ra,t!==null))switch(t.tag){case 3:mw(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mw(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ql]=e,e.stateNode=r}return Ho(e),null;case 13:if(ii(bi),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fi&&Xs!==null&&e.mode&1&&!(e.flags&128))jW(),wg(),e.flags|=98560,o=!1;else if(o=gw(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(wt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(wt(317));o[ql]=e}else wg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ho(e),o=!1}else sl!==null&&(Qk(sl),sl=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bi.current&1?co===0&&(co=3):kA())),e.updateQueue!==null&&(e.flags|=4),Ho(e),null);case 4:return Sg(),Wk(t,e),t===null&&gb(e.stateNode.containerInfo),Ho(e),null;case 10:return hA(e.type._context),Ho(e),null;case 17:return As(e.type)&&US(),Ho(e),null;case 19:if(ii(bi),o=e.memoizedState,o===null)return Ho(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)uy(o,!1);else{if(co!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=QS(t),s!==null){for(e.flags|=128,uy(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qr(bi,bi.current&1|2),e.child}t=t.sibling}o.tail!==null&&Fi()>Ig&&(e.flags|=128,r=!0,uy(o,!1),e.lanes=4194304)}else{if(!r)if(t=QS(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),uy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!fi)return Ho(e),null}else 2*Fi()-o.renderingStartTime>Ig&&n!==1073741824&&(e.flags|=128,r=!0,uy(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fi(),e.sibling=null,n=bi.current,Qr(bi,r?n&1|2:n&1),e):(Ho(e),null);case 22:case 23:return RA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qs&1073741824&&(Ho(e),e.subtreeFlags&6&&(e.flags|=8192)):Ho(e),null;case 24:return null;case 25:return null}throw Error(wt(156,e.tag))}function boe(t,e){switch(cA(e),e.tag){case 1:return As(e.type)&&US(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sg(),ii(Ds),ii(Jo),yA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vA(e),null;case 13:if(ii(bi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(wt(340));wg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ii(bi),null;case 4:return Sg(),null;case 10:return hA(e.type._context),null;case 22:case 23:return RA(),null;case 24:return null;default:return null}}var bw=!1,Yo=!1,xoe=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function jm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oi(t,e,r)}else n.current=null}function Uk(t,e,n){try{n()}catch(r){Oi(t,e,r)}}var G4=!1;function _oe(t,e){if(Pk=BS,t=EW(),aA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rk={focusedElem:t,selectionRange:n},BS=!1,Yt=e;Yt!==null;)if(e=Yt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Yt=t;else for(;Yt!==null;){e=Yt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:tl(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(wt(163))}}catch(E){Oi(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Yt=t;break}Yt=e.return}return v=G4,G4=!1,v}function D0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Uk(e,n,o)}i=i.next}while(i!==r)}}function VE(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wU(t){var e=t.alternate;e!==null&&(t.alternate=null,wU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ql],delete e[yb],delete e[Ok],delete e[roe],delete e[ioe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CU(t){return t.tag===5||t.tag===3||t.tag===4}function Y4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=WS));else if(r!==4&&(t=t.child,t!==null))for(qk(t,e,n),t=t.sibling;t!==null;)qk(t,e,n),t=t.sibling}function Gk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gk(t,e,n),t=t.sibling;t!==null;)Gk(t,e,n),t=t.sibling}var Ro=null,nl=!1;function Fu(t,e,n){for(n=n.child;n!==null;)SU(t,e,n),n=n.sibling}function SU(t,e,n){if(nc&&typeof nc.onCommitFiberUnmount=="function")try{nc.onCommitFiberUnmount(AE,n)}catch{}switch(n.tag){case 5:Yo||jm(n,e);case 6:var r=Ro,i=nl;Ro=null,Fu(t,e,n),Ro=r,nl=i,Ro!==null&&(nl?(t=Ro,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ro.removeChild(n.stateNode));break;case 18:Ro!==null&&(nl?(t=Ro,n=n.stateNode,t.nodeType===8?Z2(t.parentNode,n):t.nodeType===1&&Z2(t,n),hb(t)):Z2(Ro,n.stateNode));break;case 4:r=Ro,i=nl,Ro=n.stateNode.containerInfo,nl=!0,Fu(t,e,n),Ro=r,nl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Uk(n,e,s),i=i.next}while(i!==r)}Fu(t,e,n);break;case 1:if(!Yo&&(jm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oi(n,e,a)}Fu(t,e,n);break;case 21:Fu(t,e,n);break;case 22:n.mode&1?(Yo=(r=Yo)||n.memoizedState!==null,Fu(t,e,n),Yo=r):Fu(t,e,n);break;default:Fu(t,e,n)}}function X4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xoe),e.forEach(function(r){var i=koe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ja(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ro=a.stateNode,nl=!1;break e;case 3:Ro=a.stateNode.containerInfo,nl=!0;break e;case 4:Ro=a.stateNode.containerInfo,nl=!0;break e}a=a.return}if(Ro===null)throw Error(wt(160));SU(o,s,i),Ro=null,nl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Oi(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EU(e,t),e=e.sibling}function EU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ja(e,t),Al(t),r&4){try{D0(3,t,t.return),VE(3,t)}catch(y){Oi(t,t.return,y)}try{D0(5,t,t.return)}catch(y){Oi(t,t.return,y)}}break;case 1:Ja(e,t),Al(t),r&512&&n!==null&&jm(n,n.return);break;case 5:if(Ja(e,t),Al(t),r&512&&n!==null&&jm(n,n.return),t.flags&32){var i=t.stateNode;try{cb(i,"")}catch(y){Oi(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&K9(i,o),yk(a,s);var c=yk(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Z9(i,d):u==="dangerouslySetInnerHTML"?Y9(i,d):u==="children"?cb(i,d):GD(i,u,d,c)}switch(a){case"input":hk(i,o);break;case"textarea":q9(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Zm(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Zm(i,!!o.multiple,o.defaultValue,!0):Zm(i,!!o.multiple,o.multiple?[]:"",!1))}i[yb]=o}catch(y){Oi(t,t.return,y)}}break;case 6:if(Ja(e,t),Al(t),r&4){if(t.stateNode===null)throw Error(wt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){Oi(t,t.return,y)}}break;case 3:if(Ja(e,t),Al(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hb(e.containerInfo)}catch(y){Oi(t,t.return,y)}break;case 4:Ja(e,t),Al(t);break;case 13:Ja(e,t),Al(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(TA=Fi())),r&4&&X4(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Yo=(c=Yo)||u,Ja(e,t),Yo=c):Ja(e,t),Al(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Yt=t,u=t.child;u!==null;){for(d=Yt=u;Yt!==null;){switch(f=Yt,p=f.child,f.tag){case 0:case 11:case 14:case 15:D0(4,f,f.return);break;case 1:jm(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Oi(r,n,y)}}break;case 5:jm(f,f.return);break;case 22:if(f.memoizedState!==null){Q4(d);continue}}p!==null?(p.return=f,Yt=p):Q4(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X9("display",s))}catch(y){Oi(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Oi(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ja(e,t),Al(t),r&4&&X4(t);break;case 21:break;default:Ja(e,t),Al(t)}}function Al(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CU(n)){var r=n;break e}n=n.return}throw Error(wt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cb(i,""),r.flags&=-33);var o=Y4(t);Gk(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Y4(t);qk(t,a,s);break;default:throw Error(wt(161))}}catch(l){Oi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function woe(t,e,n){Yt=t,IU(t)}function IU(t,e,n){for(var r=(t.mode&1)!==0;Yt!==null;){var i=Yt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||bw;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yo;a=bw;var c=Yo;if(bw=s,(Yo=l)&&!c)for(Yt=i;Yt!==null;)s=Yt,l=s.child,s.tag===22&&s.memoizedState!==null?J4(i):l!==null?(l.return=s,Yt=l):J4(i);for(;o!==null;)Yt=o,IU(o),o=o.sibling;Yt=i,bw=a,Yo=c}Z4(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Yt=o):Z4(t)}}function Z4(t){for(;Yt!==null;){var e=Yt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yo||VE(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&A4(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A4(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&hb(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(wt(163))}Yo||e.flags&512&&Kk(e)}catch(f){Oi(e,e.return,f)}}if(e===t){Yt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Yt=n;break}Yt=e.return}}function Q4(t){for(;Yt!==null;){var e=Yt;if(e===t){Yt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Yt=n;break}Yt=e.return}}function J4(t){for(;Yt!==null;){var e=Yt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{VE(4,e)}catch(l){Oi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Oi(e,i,l)}}var o=e.return;try{Kk(e)}catch(l){Oi(e,o,l)}break;case 5:var s=e.return;try{Kk(e)}catch(l){Oi(e,s,l)}}}catch(l){Oi(e,e.return,l)}if(e===t){Yt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Yt=a;break}Yt=e.return}}var Coe=Math.ceil,t1=Pu.ReactCurrentDispatcher,EA=Pu.ReactCurrentOwner,Aa=Pu.ReactCurrentBatchConfig,ur=0,Eo=null,io=null,$o=0,qs=0,zm=uf(0),co=0,Sb=null,Oh=0,HE=0,IA=0,A0=null,Ps=null,TA=0,Ig=1/0,Wc=null,n1=!1,Yk=null,Dd=null,xw=!1,gd=null,r1=0,$0=0,Xk=null,zC=-1,FC=0;function us(){return ur&6?Fi():zC!==-1?zC:zC=Fi()}function Ad(t){return t.mode&1?ur&2&&$o!==0?$o&-$o:soe.transition!==null?(FC===0&&(FC=cW()),FC):(t=Ar,t!==0||(t=window.event,t=t===void 0?16:gW(t.type)),t):1}function cl(t,e,n,r){if(50<$0)throw $0=0,Xk=null,Error(wt(185));Ox(t,n,r),(!(ur&2)||t!==Eo)&&(t===Eo&&(!(ur&2)&&(HE|=n),co===4&&ad(t,$o)),$s(t,r),n===1&&ur===0&&!(e.mode&1)&&(Ig=Fi()+500,zE&&df()))}function $s(t,e){var n=t.callbackNode;sie(t,e);var r=FS(t,t===Eo?$o:0);if(r===0)n!==null&&l4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&l4(n),e===1)t.tag===0?ooe(ez.bind(null,t)):$W(ez.bind(null,t)),toe(function(){!(ur&6)&&df()}),n=null;else{switch(uW(r)){case 1:n=JD;break;case 4:n=aW;break;case 16:n=zS;break;case 536870912:n=lW;break;default:n=zS}n=AU(n,TU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TU(t,e){if(zC=-1,FC=0,ur&6)throw Error(wt(327));var n=t.callbackNode;if(ng()&&t.callbackNode!==n)return null;var r=FS(t,t===Eo?$o:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=i1(t,r);else{e=r;var i=ur;ur|=2;var o=RU();(Eo!==t||$o!==e)&&(Wc=null,Ig=Fi()+500,uh(t,e));do try{Ioe();break}catch(a){PU(t,a)}while(!0);fA(),t1.current=o,ur=i,io!==null?e=0:(Eo=null,$o=0,e=co)}if(e!==0){if(e===2&&(i=Ck(t),i!==0&&(r=i,e=Zk(t,i))),e===1)throw n=Sb,uh(t,0),ad(t,r),$s(t,Fi()),n;if(e===6)ad(t,r);else{if(i=t.current.alternate,!(r&30)&&!Soe(i)&&(e=i1(t,r),e===2&&(o=Ck(t),o!==0&&(r=o,e=Zk(t,o))),e===1))throw n=Sb,uh(t,0),ad(t,r),$s(t,Fi()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(wt(345));case 2:Df(t,Ps,Wc);break;case 3:if(ad(t,r),(r&130023424)===r&&(e=TA+500-Fi(),10<e)){if(FS(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){us(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mk(Df.bind(null,t,Ps,Wc),e);break}Df(t,Ps,Wc);break;case 4:if(ad(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ll(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Fi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Coe(r/1960))-r,10<r){t.timeoutHandle=Mk(Df.bind(null,t,Ps,Wc),r);break}Df(t,Ps,Wc);break;case 5:Df(t,Ps,Wc);break;default:throw Error(wt(329))}}}return $s(t,Fi()),t.callbackNode===n?TU.bind(null,t):null}function Zk(t,e){var n=A0;return t.current.memoizedState.isDehydrated&&(uh(t,e).flags|=256),t=i1(t,e),t!==2&&(e=Ps,Ps=n,e!==null&&Qk(e)),t}function Qk(t){Ps===null?Ps=t:Ps.push.apply(Ps,t)}function Soe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!pl(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ad(t,e){for(e&=~IA,e&=~HE,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ll(e),r=1<<n;t[n]=-1,e&=~r}}function ez(t){if(ur&6)throw Error(wt(327));ng();var e=FS(t,0);if(!(e&1))return $s(t,Fi()),null;var n=i1(t,e);if(t.tag!==0&&n===2){var r=Ck(t);r!==0&&(e=r,n=Zk(t,r))}if(n===1)throw n=Sb,uh(t,0),ad(t,e),$s(t,Fi()),n;if(n===6)throw Error(wt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Df(t,Ps,Wc),$s(t,Fi()),null}function PA(t,e){var n=ur;ur|=1;try{return t(e)}finally{ur=n,ur===0&&(Ig=Fi()+500,zE&&df())}}function Dh(t){gd!==null&&gd.tag===0&&!(ur&6)&&ng();var e=ur;ur|=1;var n=Aa.transition,r=Ar;try{if(Aa.transition=null,Ar=1,t)return t()}finally{Ar=r,Aa.transition=n,ur=e,!(ur&6)&&df()}}function RA(){qs=zm.current,ii(zm)}function uh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eoe(n)),io!==null)for(n=io.return;n!==null;){var r=n;switch(cA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&US();break;case 3:Sg(),ii(Ds),ii(Jo),yA();break;case 5:vA(r);break;case 4:Sg();break;case 13:ii(bi);break;case 19:ii(bi);break;case 10:hA(r.type._context);break;case 22:case 23:RA()}n=n.return}if(Eo=t,io=t=$d(t.current,null),$o=qs=e,co=0,Sb=null,IA=HE=Oh=0,Ps=A0=null,eh!==null){for(e=0;e<eh.length;e++)if(n=eh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}eh=null}return t}function PU(t,e){do{var n=io;try{if(fA(),NC.current=e1,JS){for(var r=Ci.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}JS=!1}if(Mh=0,wo=lo=Ci=null,O0=!1,_b=0,EA.current=null,n===null||n.return===null){co=1,Sb=e,io=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=$o,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=B4(s);if(p!==null){p.flags&=-257,V4(p,s,a,o,e),p.mode&1&&F4(o,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){F4(o,c,e),kA();break e}l=Error(wt(426))}}else if(fi&&a.mode&1){var b=B4(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),V4(b,s,a,o,e),uA(Eg(l,a));break e}}o=l=Eg(l,a),co!==4&&(co=2),A0===null?A0=[o]:A0.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=dU(o,l,e);D4(o,x);break e;case 1:a=l;var _=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dd===null||!Dd.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=fU(o,a,e);D4(o,E);break e}}o=o.return}while(o!==null)}MU(n)}catch(T){e=T,io===n&&n!==null&&(io=n=n.return);continue}break}while(!0)}function RU(){var t=t1.current;return t1.current=e1,t===null?e1:t}function kA(){(co===0||co===3||co===2)&&(co=4),Eo===null||!(Oh&268435455)&&!(HE&268435455)||ad(Eo,$o)}function i1(t,e){var n=ur;ur|=2;var r=RU();(Eo!==t||$o!==e)&&(Wc=null,uh(t,e));do try{Eoe();break}catch(i){PU(t,i)}while(!0);if(fA(),ur=n,t1.current=r,io!==null)throw Error(wt(261));return Eo=null,$o=0,co}function Eoe(){for(;io!==null;)kU(io)}function Ioe(){for(;io!==null&&!Zre();)kU(io)}function kU(t){var e=DU(t.alternate,t,qs);t.memoizedProps=t.pendingProps,e===null?MU(t):io=e,EA.current=null}function MU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=boe(n,e),n!==null){n.flags&=32767,io=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{co=6,io=null;return}}else if(n=yoe(n,e,qs),n!==null){io=n;return}if(e=e.sibling,e!==null){io=e;return}io=e=t}while(e!==null);co===0&&(co=5)}function Df(t,e,n){var r=Ar,i=Aa.transition;try{Aa.transition=null,Ar=1,Toe(t,e,n,r)}finally{Aa.transition=i,Ar=r}return null}function Toe(t,e,n,r){do ng();while(gd!==null);if(ur&6)throw Error(wt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(wt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(aie(t,o),t===Eo&&(io=Eo=null,$o=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xw||(xw=!0,AU(zS,function(){return ng(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Aa.transition,Aa.transition=null;var s=Ar;Ar=1;var a=ur;ur|=4,EA.current=null,_oe(t,n),EU(n,t),qie(Rk),BS=!!Pk,Rk=Pk=null,t.current=n,woe(n),Qre(),ur=a,Ar=s,Aa.transition=o}else t.current=n;if(xw&&(xw=!1,gd=t,r1=i),o=t.pendingLanes,o===0&&(Dd=null),tie(n.stateNode),$s(t,Fi()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(n1)throw n1=!1,t=Yk,Yk=null,t;return r1&1&&t.tag!==0&&ng(),o=t.pendingLanes,o&1?t===Xk?$0++:($0=0,Xk=t):$0=0,df(),null}function ng(){if(gd!==null){var t=uW(r1),e=Aa.transition,n=Ar;try{if(Aa.transition=null,Ar=16>t?16:t,gd===null)var r=!1;else{if(t=gd,gd=null,r1=0,ur&6)throw Error(wt(331));var i=ur;for(ur|=4,Yt=t.current;Yt!==null;){var o=Yt,s=o.child;if(Yt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Yt=c;Yt!==null;){var u=Yt;switch(u.tag){case 0:case 11:case 15:D0(8,u,o)}var d=u.child;if(d!==null)d.return=u,Yt=d;else for(;Yt!==null;){u=Yt;var f=u.sibling,p=u.return;if(wU(u),u===c){Yt=null;break}if(f!==null){f.return=p,Yt=f;break}Yt=p}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Yt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Yt=s;else e:for(;Yt!==null;){if(o=Yt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:D0(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Yt=x;break e}Yt=o.return}}var _=t.current;for(Yt=_;Yt!==null;){s=Yt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Yt=w;else e:for(s=_;Yt!==null;){if(a=Yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:VE(9,a)}}catch(T){Oi(a,a.return,T)}if(a===s){Yt=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Yt=E;break e}Yt=a.return}}if(ur=i,df(),nc&&typeof nc.onPostCommitFiberRoot=="function")try{nc.onPostCommitFiberRoot(AE,t)}catch{}r=!0}return r}finally{Ar=n,Aa.transition=e}}return!1}function tz(t,e,n){e=Eg(n,e),e=dU(t,e,1),t=Od(t,e,1),e=us(),t!==null&&(Ox(t,1,e),$s(t,e))}function Oi(t,e,n){if(t.tag===3)tz(t,t,n);else for(;e!==null;){if(e.tag===3){tz(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dd===null||!Dd.has(r))){t=Eg(n,t),t=fU(e,t,1),e=Od(e,t,1),t=us(),e!==null&&(Ox(e,1,t),$s(e,t));break}}e=e.return}}function Poe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=us(),t.pingedLanes|=t.suspendedLanes&n,Eo===t&&($o&n)===n&&(co===4||co===3&&($o&130023424)===$o&&500>Fi()-TA?uh(t,0):IA|=n),$s(t,e)}function OU(t,e){e===0&&(t.mode&1?(e=uw,uw<<=1,!(uw&130023424)&&(uw=4194304)):e=1);var n=us();t=xu(t,e),t!==null&&(Ox(t,e,n),$s(t,n))}function Roe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OU(t,n)}function koe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(wt(314))}r!==null&&r.delete(e),OU(t,n)}var DU;DU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ds.current)Ms=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ms=!1,voe(t,e,n);Ms=!!(t.flags&131072)}else Ms=!1,fi&&e.flags&1048576&&NW(e,GS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jC(t,e),t=e.pendingProps;var i=_g(e,Jo.current);tg(e,n),i=xA(null,e,r,t,i,n);var o=_A();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,As(r)?(o=!0,KS(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mA(e),i.updater=FE,e.stateNode=i,i._reactInternals=e,jk(e,r,t,n),e=Bk(null,e,r,!0,o,n)):(e.tag=0,fi&&o&&lA(e),os(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jC(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ooe(r),t=tl(r,t),i){case 0:e=Fk(null,e,r,t,n);break e;case 1:e=U4(null,e,r,t,n);break e;case 11:e=H4(null,e,r,t,n);break e;case 14:e=W4(null,e,r,tl(r.type,t),n);break e}throw Error(wt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),Fk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),U4(t,e,r,i,n);case 3:e:{if(gU(e),t===null)throw Error(wt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,FW(t,e),ZS(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Eg(Error(wt(423)),e),e=K4(t,e,r,n,i);break e}else if(r!==i){i=Eg(Error(wt(424)),e),e=K4(t,e,r,n,i);break e}else for(Xs=Md(e.stateNode.containerInfo.firstChild),ra=e,fi=!0,sl=null,n=WW(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wg(),r===i){e=_u(t,e,n);break e}os(t,e,r,n)}e=e.child}return e;case 5:return UW(e),t===null&&$k(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,kk(r,i)?s=null:o!==null&&kk(r,o)&&(e.flags|=32),mU(t,e),os(t,e,s,n),e.child;case 6:return t===null&&$k(e),null;case 13:return vU(t,e,n);case 4:return gA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cg(e,null,r,n):os(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),H4(t,e,r,i,n);case 7:return os(t,e,e.pendingProps,n),e.child;case 8:return os(t,e,e.pendingProps.children,n),e.child;case 12:return os(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Qr(YS,r._currentValue),r._currentValue=s,o!==null)if(pl(o.value,s)){if(o.children===i.children&&!Ds.current){e=_u(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ou(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nk(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(wt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Nk(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}os(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,tg(e,n),i=La(i),r=r(i),e.flags|=1,os(t,e,r,n),e.child;case 14:return r=e.type,i=tl(r,e.pendingProps),i=tl(r.type,i),W4(t,e,r,i,n);case 15:return hU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tl(r,i),jC(t,e),e.tag=1,As(r)?(t=!0,KS(e)):t=!1,tg(e,n),VW(e,r,i),jk(e,r,i,n),Bk(null,e,r,!0,t,n);case 19:return yU(t,e,n);case 22:return pU(t,e,n)}throw Error(wt(156,e.tag))};function AU(t,e){return sW(t,e)}function Moe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(t,e,n,r){return new Moe(t,e,n,r)}function MA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ooe(t){if(typeof t=="function")return MA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===XD)return 11;if(t===ZD)return 14}return 2}function $d(t,e){var n=t.alternate;return n===null?(n=Ma(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function BC(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")MA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rm:return dh(n.children,i,o,e);case YD:s=8,i|=8;break;case lk:return t=Ma(12,n,e,i|2),t.elementType=lk,t.lanes=o,t;case ck:return t=Ma(13,n,e,i),t.elementType=ck,t.lanes=o,t;case uk:return t=Ma(19,n,e,i),t.elementType=uk,t.lanes=o,t;case H9:return WE(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B9:s=10;break e;case V9:s=9;break e;case XD:s=11;break e;case ZD:s=14;break e;case rd:s=16,r=null;break e}throw Error(wt(130,t==null?t:typeof t,""))}return e=Ma(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function dh(t,e,n,r){return t=Ma(7,t,r,e),t.lanes=n,t}function WE(t,e,n,r){return t=Ma(22,t,r,e),t.elementType=H9,t.lanes=n,t.stateNode={isHidden:!1},t}function oP(t,e,n){return t=Ma(6,t,null,e),t.lanes=n,t}function sP(t,e,n){return e=Ma(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Doe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F2(0),this.expirationTimes=F2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function OA(t,e,n,r,i,o,s,a,l){return t=new Doe(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ma(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mA(o),t}function Aoe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $U(t){if(!t)return qd;t=t._reactInternals;e:{if(ap(t)!==t||t.tag!==1)throw Error(wt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(As(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(wt(171))}if(t.tag===1){var n=t.type;if(As(n))return AW(t,n,e)}return e}function NU(t,e,n,r,i,o,s,a,l){return t=OA(n,r,!0,t,i,o,s,a,l),t.context=$U(null),n=t.current,r=us(),i=Ad(n),o=ou(r,i),o.callback=e??null,Od(n,o,i),t.current.lanes=i,Ox(t,i,r),$s(t,r),t}function UE(t,e,n,r){var i=e.current,o=us(),s=Ad(i);return n=$U(n),e.context===null?e.context=n:e.pendingContext=n,e=ou(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Od(i,e,s),t!==null&&(cl(t,i,s,o),$C(t,i,s)),s}function o1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nz(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function DA(t,e){nz(t,e),(t=t.alternate)&&nz(t,e)}function $oe(){return null}var LU=typeof reportError=="function"?reportError:function(t){console.error(t)};function AA(t){this._internalRoot=t}KE.prototype.render=AA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(wt(409));UE(t,e,null,null)};KE.prototype.unmount=AA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dh(function(){UE(null,t,null,null)}),e[bu]=null}};function KE(t){this._internalRoot=t}KE.prototype.unstable_scheduleHydration=function(t){if(t){var e=hW();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sd.length&&e!==0&&e<sd[n].priority;n++);sd.splice(n,0,t),n===0&&mW(t)}};function $A(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rz(){}function Noe(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=o1(s);o.call(c)}}var s=NU(e,r,t,0,null,!1,!1,"",rz);return t._reactRootContainer=s,t[bu]=s.current,gb(t.nodeType===8?t.parentNode:t),Dh(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=o1(l);a.call(c)}}var l=OA(t,0,!1,null,null,!1,!1,"",rz);return t._reactRootContainer=l,t[bu]=l.current,gb(t.nodeType===8?t.parentNode:t),Dh(function(){UE(e,l,n,r)}),l}function GE(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=o1(s);a.call(l)}}UE(e,s,t,i)}else s=Noe(n,e,t,i,r);return o1(s)}dW=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=t0(e.pendingLanes);n!==0&&(eA(e,n|1),$s(e,Fi()),!(ur&6)&&(Ig=Fi()+500,df()))}break;case 13:Dh(function(){var r=xu(t,1);if(r!==null){var i=us();cl(r,t,1,i)}}),DA(t,1)}};tA=function(t){if(t.tag===13){var e=xu(t,134217728);if(e!==null){var n=us();cl(e,t,134217728,n)}DA(t,134217728)}};fW=function(t){if(t.tag===13){var e=Ad(t),n=xu(t,e);if(n!==null){var r=us();cl(n,t,e,r)}DA(t,e)}};hW=function(){return Ar};pW=function(t,e){var n=Ar;try{return Ar=t,e()}finally{Ar=n}};xk=function(t,e,n){switch(e){case"input":if(hk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jE(r);if(!i)throw Error(wt(90));U9(r),hk(r,i)}}}break;case"textarea":q9(t,n);break;case"select":e=n.value,e!=null&&Zm(t,!!n.multiple,e,!1)}};eW=PA;tW=Dh;var Loe={usingClientEntryPoint:!1,Events:[Ax,Dm,jE,Q9,J9,PA]},dy={findFiberByHostInstance:Jf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},joe={bundleType:dy.bundleType,version:dy.version,rendererPackageName:dy.rendererPackageName,rendererConfig:dy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iW(t),t===null?null:t.stateNode},findFiberByHostInstance:dy.findFiberByHostInstance||$oe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_w.isDisabled&&_w.supportsFiber)try{AE=_w.inject(joe),nc=_w}catch{}}da.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Loe;da.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$A(e))throw Error(wt(200));return Aoe(t,e,null,n)};da.createRoot=function(t,e){if(!$A(t))throw Error(wt(299));var n=!1,r="",i=LU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=OA(t,1,!1,null,null,n,!1,r,i),t[bu]=e.current,gb(t.nodeType===8?t.parentNode:t),new AA(e)};da.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(wt(188)):(t=Object.keys(t).join(","),Error(wt(268,t)));return t=iW(e),t=t===null?null:t.stateNode,t};da.flushSync=function(t){return Dh(t)};da.hydrate=function(t,e,n){if(!qE(e))throw Error(wt(200));return GE(null,t,e,!0,n)};da.hydrateRoot=function(t,e,n){if(!$A(t))throw Error(wt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=LU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=NU(e,null,t,1,n??null,i,!1,o,s),t[bu]=e.current,gb(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new KE(e)};da.render=function(t,e,n){if(!qE(e))throw Error(wt(200));return GE(null,t,e,!1,n)};da.unmountComponentAtNode=function(t){if(!qE(t))throw Error(wt(40));return t._reactRootContainer?(Dh(function(){GE(null,null,t,!1,function(){t._reactRootContainer=null,t[bu]=null})}),!0):!1};da.unstable_batchedUpdates=PA;da.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qE(n))throw Error(wt(200));if(t==null||t._reactInternals===void 0)throw Error(wt(38));return GE(t,e,n,!1,r)};da.version="18.2.0-next-9e3b772b8-20220608";function jU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jU)}catch(t){console.error(t)}}jU(),N9.exports=da;var js=N9.exports;const Xl=kx(js),zU=E9({__proto__:null,default:Xl},[js]);var iz=js;sk.createRoot=iz.createRoot,sk.hydrateRoot=iz.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ci(){return ci=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ci.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const oz="popstate";function zoe(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Eb("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ah(i)}return Boe(e,n,null,t)}function Wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Foe(){return Math.random().toString(36).substr(2,8)}function sz(t,e){return{usr:t.state,key:t.key,idx:e}}function Eb(t,e,n,r){return n===void 0&&(n=null),ci({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ff(e):e,{state:n,key:e&&e.key||r||Foe()})}function Ah(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ff(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Boe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Qi.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(ci({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Qi.Pop;let b=u(),x=b==null?null:b-c;c=b,l&&l({action:a,location:y.location,delta:x})}function f(b,x){a=Qi.Push;let _=Eb(y.location,b,x);c=u()+1;let w=sz(_,c),E=y.createHref(_);try{s.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}o&&l&&l({action:a,location:y.location,delta:1})}function p(b,x){a=Qi.Replace;let _=Eb(y.location,b,x);c=u();let w=sz(_,c),E=y.createHref(_);s.replaceState(w,"",E),o&&l&&l({action:a,location:y.location,delta:0})}function v(b){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof b=="string"?b:Ah(b);return _=_.replace(/ $/,"%20"),Wn(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let y={get action(){return a},get location(){return t(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oz,d),l=b,()=>{i.removeEventListener(oz,d),l=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(b){return s.go(b)}};return y}var Rr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rr||(Rr={}));const Voe=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hoe(t){return t.index===!0}function s1(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(Wn(i.index!==!0||!i.children,"Cannot specify children on an index route"),Wn(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Hoe(i)){let l=ci({},i,e(i),{id:a});return r[a]=l,l}else{let l=ci({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=s1(i.children,e,s,r)),l}})}function Vf(t,e,n){return n===void 0&&(n="/"),VC(t,e,n,!1)}function VC(t,e,n,r){let i=typeof e=="string"?ff(e):e,o=vv(i.pathname||"/",n);if(o==null)return null;let s=FU(t);Uoe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=nse(o);a=ese(s[l],c,r)}return a}function Woe(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function FU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=su([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Wn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),FU(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Qoe(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of BU(o.path))i(o,s,l)}),e}function BU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=BU(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Uoe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Joe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Koe=/^:[\w-]+$/,qoe=3,Goe=2,Yoe=1,Xoe=10,Zoe=-2,az=t=>t==="*";function Qoe(t,e){let n=t.split("/"),r=n.length;return n.some(az)&&(r+=Zoe),e&&(r+=Goe),n.filter(i=>!az(i)).reduce((i,o)=>i+(Koe.test(o)?qoe:o===""?Yoe:Xoe),r)}function Joe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ese(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=lz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=lz({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:su([o,d.pathname]),pathnameBase:ose(su([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=su([o,d.pathnameBase]))}return s}function lz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tse(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[d]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[d];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function tse(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rse(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ff(t):t;return{pathname:n?n.startsWith("/")?n:ise(n,e):e,search:sse(r),hash:ase(i)}}function ise(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function aP(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YE(t,e){let n=VU(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function XE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ff(t):(i=ci({},t),Wn(!i.pathname||!i.pathname.includes("?"),aP("?","pathname","search",i)),Wn(!i.pathname||!i.pathname.includes("#"),aP("#","pathname","hash",i)),Wn(!i.search||!i.search.includes("#"),aP("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=rse(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const su=t=>t.join("/").replace(/\/\/+/g,"/"),ose=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ase=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class a1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ib(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HU=["post","put","patch","delete"],lse=new Set(HU),cse=["get",...HU],use=new Set(cse),dse=new Set([301,302,303,307,308]),fse=new Set([307,308]),lP={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hse={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fy={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},NA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pse=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),WU="remix-router-transitions";function mse(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Wn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let Ie=t.detectErrorBoundary;i=Ee=>({hasErrorBoundary:Ie(Ee)})}else i=pse;let o={},s=s1(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.dataStrategy||bse,u=t.patchRoutesOnNavigation,d=ci({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,v=null,y=null,b=null,x=t.hydrationData!=null,_=Vf(s,t.history.location,l),w=!1,E=null;if(_==null&&!u){let Ie=Es(404,{pathname:t.history.location.pathname}),{matches:Ee,route:Pe}=bz(s);_=Ee,E={[Pe.id]:Ie}}_&&!t.hydrationData&&St(_,s,t.history.location.pathname).active&&(_=null);let T;if(_)if(_.some(Ie=>Ie.route.lazy))T=!1;else if(!_.some(Ie=>Ie.route.loader))T=!0;else if(d.v7_partialHydration){let Ie=t.hydrationData?t.hydrationData.loaderData:null,Ee=t.hydrationData?t.hydrationData.errors:null;if(Ee){let Pe=_.findIndex(Be=>Ee[Be.route.id]!==void 0);T=_.slice(0,Pe+1).every(Be=>!eM(Be.route,Ie,Ee))}else T=_.every(Pe=>!eM(Pe.route,Ie,Ee))}else T=t.hydrationData!=null;else if(T=!1,_=[],d.v7_partialHydration){let Ie=St(null,s,t.history.location.pathname);Ie.active&&Ie.matches&&(w=!0,_=Ie.matches)}let I,S={historyAction:t.history.action,location:t.history.location,matches:_,initialized:T,navigation:lP,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},P=Qi.Pop,R=!1,O,N=!1,A=new Map,$=null,M=!1,F=!1,z=[],j=new Set,B=new Map,W=0,q=-1,G=new Map,X=new Set,ue=new Map,te=new Map,J=new Set,se=new Map,ge=new Map,le;function we(){if(f=t.history.listen(Ie=>{let{action:Ee,location:Pe,delta:Be}=Ie;if(le){le(),le=void 0;return}Tg(ge.size===0||Be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Le=Bt({currentLocation:S.location,nextLocation:Pe,historyAction:Ee});if(Le&&Be!=null){let Qe=new Promise(at=>{le=at});t.history.go(Be*-1),ot(Le,{state:"blocked",location:Pe,proceed(){ot(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),Qe.then(()=>t.history.go(Be))},reset(){let at=new Map(S.blockers);at.set(Le,fy),K({blockers:at})}});return}return re(Ee,Pe)}),n){Dse(e,A);let Ie=()=>Ase(e,A);e.addEventListener("pagehide",Ie),$=()=>e.removeEventListener("pagehide",Ie)}return S.initialized||re(Qi.Pop,S.location,{initialHydration:!0}),I}function ce(){f&&f(),$&&$(),p.clear(),O&&O.abort(),S.fetchers.forEach((Ie,Ee)=>De(Ee)),S.blockers.forEach((Ie,Ee)=>mt(Ee))}function be(Ie){return p.add(Ie),()=>p.delete(Ie)}function K(Ie,Ee){Ee===void 0&&(Ee={}),S=ci({},S,Ie);let Pe=[],Be=[];d.v7_fetcherPersist&&S.fetchers.forEach((Le,Qe)=>{Le.state==="idle"&&(J.has(Qe)?Be.push(Qe):Pe.push(Qe))}),J.forEach(Le=>{!S.fetchers.has(Le)&&!B.has(Le)&&Be.push(Le)}),[...p].forEach(Le=>Le(S,{deletedFetchers:Be,viewTransitionOpts:Ee.viewTransitionOpts,flushSync:Ee.flushSync===!0})),d.v7_fetcherPersist?(Pe.forEach(Le=>S.fetchers.delete(Le)),Be.forEach(Le=>De(Le))):Be.forEach(Le=>J.delete(Le))}function oe(Ie,Ee,Pe){var Be,Le;let{flushSync:Qe}=Pe===void 0?{}:Pe,at=S.actionData!=null&&S.navigation.formMethod!=null&&rl(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Be=Ie.state)==null?void 0:Be._isRedirect)!==!0,Ze;Ee.actionData?Object.keys(Ee.actionData).length>0?Ze=Ee.actionData:Ze=null:at?Ze=S.actionData:Ze=null;let Xe=Ee.loaderData?vz(S.loaderData,Ee.loaderData,Ee.matches||[],Ee.errors):S.loaderData,et=S.blockers;et.size>0&&(et=new Map(et),et.forEach((Tt,tn)=>et.set(tn,fy)));let st=R===!0||S.navigation.formMethod!=null&&rl(S.navigation.formMethod)&&((Le=Ie.state)==null?void 0:Le._isRedirect)!==!0;a&&(s=a,a=void 0),M||P===Qi.Pop||(P===Qi.Push?t.history.push(Ie,Ie.state):P===Qi.Replace&&t.history.replace(Ie,Ie.state));let bt;if(P===Qi.Pop){let Tt=A.get(S.location.pathname);Tt&&Tt.has(Ie.pathname)?bt={currentLocation:S.location,nextLocation:Ie}:A.has(Ie.pathname)&&(bt={currentLocation:Ie,nextLocation:S.location})}else if(N){let Tt=A.get(S.location.pathname);Tt?Tt.add(Ie.pathname):(Tt=new Set([Ie.pathname]),A.set(S.location.pathname,Tt)),bt={currentLocation:S.location,nextLocation:Ie}}K(ci({},Ee,{actionData:Ze,loaderData:Xe,historyAction:P,location:Ie,initialized:!0,navigation:lP,revalidation:"idle",restoreScrollPosition:qt(Ie,Ee.matches||S.matches),preventScrollReset:st,blockers:et}),{viewTransitionOpts:bt,flushSync:Qe===!0}),P=Qi.Pop,R=!1,N=!1,M=!1,F=!1,z=[]}async function V(Ie,Ee){if(typeof Ie=="number"){t.history.go(Ie);return}let Pe=Jk(S.location,S.matches,l,d.v7_prependBasename,Ie,d.v7_relativeSplatPath,Ee==null?void 0:Ee.fromRouteId,Ee==null?void 0:Ee.relative),{path:Be,submission:Le,error:Qe}=cz(d.v7_normalizeFormMethod,!1,Pe,Ee),at=S.location,Ze=Eb(S.location,Be,Ee&&Ee.state);Ze=ci({},Ze,t.history.encodeLocation(Ze));let Xe=Ee&&Ee.replace!=null?Ee.replace:void 0,et=Qi.Push;Xe===!0?et=Qi.Replace:Xe===!1||Le!=null&&rl(Le.formMethod)&&Le.formAction===S.location.pathname+S.location.search&&(et=Qi.Replace);let st=Ee&&"preventScrollReset"in Ee?Ee.preventScrollReset===!0:void 0,bt=(Ee&&Ee.flushSync)===!0,Tt=Bt({currentLocation:at,nextLocation:Ze,historyAction:et});if(Tt){ot(Tt,{state:"blocked",location:Ze,proceed(){ot(Tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),V(Ie,Ee)},reset(){let tn=new Map(S.blockers);tn.set(Tt,fy),K({blockers:tn})}});return}return await re(et,Ze,{submission:Le,pendingError:Qe,preventScrollReset:st,replace:Ee&&Ee.replace,enableViewTransition:Ee&&Ee.viewTransition,flushSync:bt})}function ie(){if(de(),K({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){re(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}re(P||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:N===!0})}}async function re(Ie,Ee,Pe){O&&O.abort(),O=null,P=Ie,M=(Pe&&Pe.startUninterruptedRevalidation)===!0,xn(S.location,S.matches),R=(Pe&&Pe.preventScrollReset)===!0,N=(Pe&&Pe.enableViewTransition)===!0;let Be=a||s,Le=Pe&&Pe.overrideNavigation,Qe=Pe!=null&&Pe.initialHydration&&S.matches&&S.matches.length>0&&!w?S.matches:Vf(Be,Ee,l),at=(Pe&&Pe.flushSync)===!0;if(Qe&&S.initialized&&!F&&Ese(S.location,Ee)&&!(Pe&&Pe.submission&&rl(Pe.submission.formMethod))){oe(Ee,{matches:Qe},{flushSync:at});return}let Ze=St(Qe,Be,Ee.pathname);if(Ze.active&&Ze.matches&&(Qe=Ze.matches),!Qe){let{error:Wt,notFoundMatches:pt,route:Vt}=Xt(Ee.pathname);oe(Ee,{matches:pt,loaderData:{},errors:{[Vt.id]:Wt}},{flushSync:at});return}O=new AbortController;let Xe=Vp(t.history,Ee,O.signal,Pe&&Pe.submission),et;if(Pe&&Pe.pendingError)et=[Hf(Qe).route.id,{type:Rr.error,error:Pe.pendingError}];else if(Pe&&Pe.submission&&rl(Pe.submission.formMethod)){let Wt=await ee(Xe,Ee,Pe.submission,Qe,Ze.active,{replace:Pe.replace,flushSync:at});if(Wt.shortCircuited)return;if(Wt.pendingActionResult){let[pt,Vt]=Wt.pendingActionResult;if(Gs(Vt)&&Ib(Vt.error)&&Vt.error.status===404){O=null,oe(Ee,{matches:Wt.matches,loaderData:{},errors:{[pt]:Vt.error}});return}}Qe=Wt.matches||Qe,et=Wt.pendingActionResult,Le=cP(Ee,Pe.submission),at=!1,Ze.active=!1,Xe=Vp(t.history,Xe.url,Xe.signal)}let{shortCircuited:st,matches:bt,loaderData:Tt,errors:tn}=await Y(Xe,Ee,Qe,Ze.active,Le,Pe&&Pe.submission,Pe&&Pe.fetcherSubmission,Pe&&Pe.replace,Pe&&Pe.initialHydration===!0,at,et);st||(O=null,oe(Ee,ci({matches:bt||Qe},yz(et),{loaderData:Tt,errors:tn})))}async function ee(Ie,Ee,Pe,Be,Le,Qe){Qe===void 0&&(Qe={}),de();let at=Mse(Ee,Pe);if(K({navigation:at},{flushSync:Qe.flushSync===!0}),Le){let et=await gt(Be,Ee.pathname,Ie.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let st=Hf(et.partialMatches).route.id;return{matches:et.partialMatches,pendingActionResult:[st,{type:Rr.error,error:et.error}]}}else if(et.matches)Be=et.matches;else{let{notFoundMatches:st,error:bt,route:Tt}=Xt(Ee.pathname);return{matches:st,pendingActionResult:[Tt.id,{type:Rr.error,error:bt}]}}}let Ze,Xe=r0(Be,Ee);if(!Xe.route.action&&!Xe.route.lazy)Ze={type:Rr.error,error:Es(405,{method:Ie.method,pathname:Ee.pathname,routeId:Xe.route.id})};else if(Ze=(await ke("action",S,Ie,[Xe],Be,null))[Xe.route.id],Ie.signal.aborted)return{shortCircuited:!0};if(nh(Ze)){let et;return Qe&&Qe.replace!=null?et=Qe.replace:et=pz(Ze.response.headers.get("Location"),new URL(Ie.url),l)===S.location.pathname+S.location.search,await Te(Ie,Ze,!0,{submission:Pe,replace:et}),{shortCircuited:!0}}if(vd(Ze))throw Es(400,{type:"defer-action"});if(Gs(Ze)){let et=Hf(Be,Xe.route.id);return(Qe&&Qe.replace)!==!0&&(P=Qi.Push),{matches:Be,pendingActionResult:[et.route.id,Ze]}}return{matches:Be,pendingActionResult:[Xe.route.id,Ze]}}async function Y(Ie,Ee,Pe,Be,Le,Qe,at,Ze,Xe,et,st){let bt=Le||cP(Ee,Qe),Tt=Qe||at||_z(bt),tn=!M&&(!d.v7_partialHydration||!Xe);if(Be){if(tn){let Ft=he(st);K(ci({navigation:bt},Ft!==void 0?{actionData:Ft}:{}),{flushSync:et})}let Ct=await gt(Pe,Ee.pathname,Ie.signal);if(Ct.type==="aborted")return{shortCircuited:!0};if(Ct.type==="error"){let Ft=Hf(Ct.partialMatches).route.id;return{matches:Ct.partialMatches,loaderData:{},errors:{[Ft]:Ct.error}}}else if(Ct.matches)Pe=Ct.matches;else{let{error:Ft,notFoundMatches:jn,route:dr}=Xt(Ee.pathname);return{matches:jn,loaderData:{},errors:{[dr.id]:Ft}}}}let Wt=a||s,[pt,Vt]=dz(t.history,S,Pe,Tt,Ee,d.v7_partialHydration&&Xe===!0,d.v7_skipActionErrorRevalidation,F,z,j,J,ue,X,Wt,l,st);if(Lt(Ct=>!(Pe&&Pe.some(Ft=>Ft.route.id===Ct))||pt&&pt.some(Ft=>Ft.route.id===Ct)),q=++W,pt.length===0&&Vt.length===0){let Ct=Ae();return oe(Ee,ci({matches:Pe,loaderData:{},errors:st&&Gs(st[1])?{[st[0]]:st[1].error}:null},yz(st),Ct?{fetchers:new Map(S.fetchers)}:{}),{flushSync:et}),{shortCircuited:!0}}if(tn){let Ct={};if(!Be){Ct.navigation=bt;let Ft=he(st);Ft!==void 0&&(Ct.actionData=Ft)}Vt.length>0&&(Ct.fetchers=Ce(Vt)),K(Ct,{flushSync:et})}Vt.forEach(Ct=>{$e(Ct.key),Ct.controller&&B.set(Ct.key,Ct.controller)});let ht=()=>Vt.forEach(Ct=>$e(Ct.key));O&&O.signal.addEventListener("abort",ht);let{loaderResults:Pt,fetcherResults:Nt}=await je(S,Pe,pt,Vt,Ie);if(Ie.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",ht),Vt.forEach(Ct=>B.delete(Ct.key));let Zt=ww(Pt);if(Zt)return await Te(Ie,Zt.result,!0,{replace:Ze}),{shortCircuited:!0};if(Zt=ww(Nt),Zt)return X.add(Zt.key),await Te(Ie,Zt.result,!0,{replace:Ze}),{shortCircuited:!0};let{loaderData:Rn,errors:rr}=gz(S,Pe,Pt,st,Vt,Nt,se);se.forEach((Ct,Ft)=>{Ct.subscribe(jn=>{(jn||Ct.done)&&se.delete(Ft)})}),d.v7_partialHydration&&Xe&&S.errors&&(rr=ci({},S.errors,rr));let $n=Ae(),Ir=Ue(q),Ot=$n||Ir||Vt.length>0;return ci({matches:Pe,loaderData:Rn,errors:rr},Ot?{fetchers:new Map(S.fetchers)}:{})}function he(Ie){if(Ie&&!Gs(Ie[1]))return{[Ie[0]]:Ie[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Ce(Ie){return Ie.forEach(Ee=>{let Pe=S.fetchers.get(Ee.key),Be=hy(void 0,Pe?Pe.data:void 0);S.fetchers.set(Ee.key,Be)}),new Map(S.fetchers)}function me(Ie,Ee,Pe,Be){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$e(Ie);let Le=(Be&&Be.flushSync)===!0,Qe=a||s,at=Jk(S.location,S.matches,l,d.v7_prependBasename,Pe,d.v7_relativeSplatPath,Ee,Be==null?void 0:Be.relative),Ze=Vf(Qe,at,l),Xe=St(Ze,Qe,at);if(Xe.active&&Xe.matches&&(Ze=Xe.matches),!Ze){Re(Ie,Ee,Es(404,{pathname:at}),{flushSync:Le});return}let{path:et,submission:st,error:bt}=cz(d.v7_normalizeFormMethod,!0,at,Be);if(bt){Re(Ie,Ee,bt,{flushSync:Le});return}let Tt=r0(Ze,et),tn=(Be&&Be.preventScrollReset)===!0;if(st&&rl(st.formMethod)){fe(Ie,Ee,et,Tt,Ze,Xe.active,Le,tn,st);return}ue.set(Ie,{routeId:Ee,path:et}),ye(Ie,Ee,et,Tt,Ze,Xe.active,Le,tn,st)}async function fe(Ie,Ee,Pe,Be,Le,Qe,at,Ze,Xe){de(),ue.delete(Ie);function et(Ut){if(!Ut.route.action&&!Ut.route.lazy){let wn=Es(405,{method:Xe.formMethod,pathname:Pe,routeId:Ee});return Re(Ie,Ee,wn,{flushSync:at}),!0}return!1}if(!Qe&&et(Be))return;let st=S.fetchers.get(Ie);Se(Ie,Ose(Xe,st),{flushSync:at});let bt=new AbortController,Tt=Vp(t.history,Pe,bt.signal,Xe);if(Qe){let Ut=await gt(Le,new URL(Tt.url).pathname,Tt.signal,Ie);if(Ut.type==="aborted")return;if(Ut.type==="error"){Re(Ie,Ee,Ut.error,{flushSync:at});return}else if(Ut.matches){if(Le=Ut.matches,Be=r0(Le,Pe),et(Be))return}else{Re(Ie,Ee,Es(404,{pathname:Pe}),{flushSync:at});return}}B.set(Ie,bt);let tn=W,pt=(await ke("action",S,Tt,[Be],Le,Ie))[Be.route.id];if(Tt.signal.aborted){B.get(Ie)===bt&&B.delete(Ie);return}if(d.v7_fetcherPersist&&J.has(Ie)){if(nh(pt)||Gs(pt)){Se(Ie,Ju(void 0));return}}else{if(nh(pt))if(B.delete(Ie),q>tn){Se(Ie,Ju(void 0));return}else return X.add(Ie),Se(Ie,hy(Xe)),Te(Tt,pt,!1,{fetcherSubmission:Xe,preventScrollReset:Ze});if(Gs(pt)){Re(Ie,Ee,pt.error);return}}if(vd(pt))throw Es(400,{type:"defer-action"});let Vt=S.navigation.location||S.location,ht=Vp(t.history,Vt,bt.signal),Pt=a||s,Nt=S.navigation.state!=="idle"?Vf(Pt,S.navigation.location,l):S.matches;Wn(Nt,"Didn't find any matches after fetcher action");let Zt=++W;G.set(Ie,Zt);let Rn=hy(Xe,pt.data);S.fetchers.set(Ie,Rn);let[rr,$n]=dz(t.history,S,Nt,Xe,Vt,!1,d.v7_skipActionErrorRevalidation,F,z,j,J,ue,X,Pt,l,[Be.route.id,pt]);$n.filter(Ut=>Ut.key!==Ie).forEach(Ut=>{let wn=Ut.key,zr=S.fetchers.get(wn),si=hy(void 0,zr?zr.data:void 0);S.fetchers.set(wn,si),$e(wn),Ut.controller&&B.set(wn,Ut.controller)}),K({fetchers:new Map(S.fetchers)});let Ir=()=>$n.forEach(Ut=>$e(Ut.key));bt.signal.addEventListener("abort",Ir);let{loaderResults:Ot,fetcherResults:Ct}=await je(S,Nt,rr,$n,ht);if(bt.signal.aborted)return;bt.signal.removeEventListener("abort",Ir),G.delete(Ie),B.delete(Ie),$n.forEach(Ut=>B.delete(Ut.key));let Ft=ww(Ot);if(Ft)return Te(ht,Ft.result,!1,{preventScrollReset:Ze});if(Ft=ww(Ct),Ft)return X.add(Ft.key),Te(ht,Ft.result,!1,{preventScrollReset:Ze});let{loaderData:jn,errors:dr}=gz(S,Nt,Ot,void 0,$n,Ct,se);if(S.fetchers.has(Ie)){let Ut=Ju(pt.data);S.fetchers.set(Ie,Ut)}Ue(Zt),S.navigation.state==="loading"&&Zt>q?(Wn(P,"Expected pending action"),O&&O.abort(),oe(S.navigation.location,{matches:Nt,loaderData:jn,errors:dr,fetchers:new Map(S.fetchers)})):(K({errors:dr,loaderData:vz(S.loaderData,jn,Nt,dr),fetchers:new Map(S.fetchers)}),F=!1)}async function ye(Ie,Ee,Pe,Be,Le,Qe,at,Ze,Xe){let et=S.fetchers.get(Ie);Se(Ie,hy(Xe,et?et.data:void 0),{flushSync:at});let st=new AbortController,bt=Vp(t.history,Pe,st.signal);if(Qe){let pt=await gt(Le,new URL(bt.url).pathname,bt.signal,Ie);if(pt.type==="aborted")return;if(pt.type==="error"){Re(Ie,Ee,pt.error,{flushSync:at});return}else if(pt.matches)Le=pt.matches,Be=r0(Le,Pe);else{Re(Ie,Ee,Es(404,{pathname:Pe}),{flushSync:at});return}}B.set(Ie,st);let Tt=W,Wt=(await ke("loader",S,bt,[Be],Le,Ie))[Be.route.id];if(vd(Wt)&&(Wt=await LA(Wt,bt.signal,!0)||Wt),B.get(Ie)===st&&B.delete(Ie),!bt.signal.aborted){if(J.has(Ie)){Se(Ie,Ju(void 0));return}if(nh(Wt))if(q>Tt){Se(Ie,Ju(void 0));return}else{X.add(Ie),await Te(bt,Wt,!1,{preventScrollReset:Ze});return}if(Gs(Wt)){Re(Ie,Ee,Wt.error);return}Wn(!vd(Wt),"Unhandled fetcher deferred data"),Se(Ie,Ju(Wt.data))}}async function Te(Ie,Ee,Pe,Be){let{submission:Le,fetcherSubmission:Qe,preventScrollReset:at,replace:Ze}=Be===void 0?{}:Be;Ee.response.headers.has("X-Remix-Revalidate")&&(F=!0);let Xe=Ee.response.headers.get("Location");Wn(Xe,"Expected a Location header on the redirect Response"),Xe=pz(Xe,new URL(Ie.url),l);let et=Eb(S.location,Xe,{_isRedirect:!0});if(n){let pt=!1;if(Ee.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(NA.test(Xe)){const Vt=t.history.createURL(Xe);pt=Vt.origin!==e.location.origin||vv(Vt.pathname,l)==null}if(pt){Ze?e.location.replace(Xe):e.location.assign(Xe);return}}O=null;let st=Ze===!0||Ee.response.headers.has("X-Remix-Replace")?Qi.Replace:Qi.Push,{formMethod:bt,formAction:Tt,formEncType:tn}=S.navigation;!Le&&!Qe&&bt&&Tt&&tn&&(Le=_z(S.navigation));let Wt=Le||Qe;if(fse.has(Ee.response.status)&&Wt&&rl(Wt.formMethod))await re(st,et,{submission:ci({},Wt,{formAction:Xe}),preventScrollReset:at||R,enableViewTransition:Pe?N:void 0});else{let pt=cP(et,Le);await re(st,et,{overrideNavigation:pt,fetcherSubmission:Qe,preventScrollReset:at||R,enableViewTransition:Pe?N:void 0})}}async function ke(Ie,Ee,Pe,Be,Le,Qe){let at,Ze={};try{at=await xse(c,Ie,Ee,Pe,Be,Le,Qe,o,i)}catch(Xe){return Be.forEach(et=>{Ze[et.route.id]={type:Rr.error,error:Xe}}),Ze}for(let[Xe,et]of Object.entries(at))if(Ise(et)){let st=et.result;Ze[Xe]={type:Rr.redirect,response:Cse(st,Pe,Xe,Le,l,d.v7_relativeSplatPath)}}else Ze[Xe]=await wse(et);return Ze}async function je(Ie,Ee,Pe,Be,Le){let Qe=Ie.matches,at=ke("loader",Ie,Le,Pe,Ee,null),Ze=Promise.all(Be.map(async st=>{if(st.matches&&st.match&&st.controller){let Tt=(await ke("loader",Ie,Vp(t.history,st.path,st.controller.signal),[st.match],st.matches,st.key))[st.match.route.id];return{[st.key]:Tt}}else return Promise.resolve({[st.key]:{type:Rr.error,error:Es(404,{pathname:st.path})}})})),Xe=await at,et=(await Ze).reduce((st,bt)=>Object.assign(st,bt),{});return await Promise.all([Rse(Ee,Xe,Le.signal,Qe,Ie.loaderData),kse(Ee,et,Be)]),{loaderResults:Xe,fetcherResults:et}}function de(){F=!0,z.push(...Lt()),ue.forEach((Ie,Ee)=>{B.has(Ee)&&j.add(Ee),$e(Ee)})}function Se(Ie,Ee,Pe){Pe===void 0&&(Pe={}),S.fetchers.set(Ie,Ee),K({fetchers:new Map(S.fetchers)},{flushSync:(Pe&&Pe.flushSync)===!0})}function Re(Ie,Ee,Pe,Be){Be===void 0&&(Be={});let Le=Hf(S.matches,Ee);De(Ie),K({errors:{[Le.route.id]:Pe},fetchers:new Map(S.fetchers)},{flushSync:(Be&&Be.flushSync)===!0})}function Ve(Ie){return te.set(Ie,(te.get(Ie)||0)+1),J.has(Ie)&&J.delete(Ie),S.fetchers.get(Ie)||hse}function De(Ie){let Ee=S.fetchers.get(Ie);B.has(Ie)&&!(Ee&&Ee.state==="loading"&&G.has(Ie))&&$e(Ie),ue.delete(Ie),G.delete(Ie),X.delete(Ie),d.v7_fetcherPersist&&J.delete(Ie),j.delete(Ie),S.fetchers.delete(Ie)}function ze(Ie){let Ee=(te.get(Ie)||0)-1;Ee<=0?(te.delete(Ie),J.add(Ie),d.v7_fetcherPersist||De(Ie)):te.set(Ie,Ee),K({fetchers:new Map(S.fetchers)})}function $e(Ie){let Ee=B.get(Ie);Ee&&(Ee.abort(),B.delete(Ie))}function Ke(Ie){for(let Ee of Ie){let Pe=Ve(Ee),Be=Ju(Pe.data);S.fetchers.set(Ee,Be)}}function Ae(){let Ie=[],Ee=!1;for(let Pe of X){let Be=S.fetchers.get(Pe);Wn(Be,"Expected fetcher: "+Pe),Be.state==="loading"&&(X.delete(Pe),Ie.push(Pe),Ee=!0)}return Ke(Ie),Ee}function Ue(Ie){let Ee=[];for(let[Pe,Be]of G)if(Be<Ie){let Le=S.fetchers.get(Pe);Wn(Le,"Expected fetcher: "+Pe),Le.state==="loading"&&($e(Pe),G.delete(Pe),Ee.push(Pe))}return Ke(Ee),Ee.length>0}function rt(Ie,Ee){let Pe=S.blockers.get(Ie)||fy;return ge.get(Ie)!==Ee&&ge.set(Ie,Ee),Pe}function mt(Ie){S.blockers.delete(Ie),ge.delete(Ie)}function ot(Ie,Ee){let Pe=S.blockers.get(Ie)||fy;Wn(Pe.state==="unblocked"&&Ee.state==="blocked"||Pe.state==="blocked"&&Ee.state==="blocked"||Pe.state==="blocked"&&Ee.state==="proceeding"||Pe.state==="blocked"&&Ee.state==="unblocked"||Pe.state==="proceeding"&&Ee.state==="unblocked","Invalid blocker state transition: "+Pe.state+" -> "+Ee.state);let Be=new Map(S.blockers);Be.set(Ie,Ee),K({blockers:Be})}function Bt(Ie){let{currentLocation:Ee,nextLocation:Pe,historyAction:Be}=Ie;if(ge.size===0)return;ge.size>1&&Tg(!1,"A router only supports one blocker at a time");let Le=Array.from(ge.entries()),[Qe,at]=Le[Le.length-1],Ze=S.blockers.get(Qe);if(!(Ze&&Ze.state==="proceeding")&&at({currentLocation:Ee,nextLocation:Pe,historyAction:Be}))return Qe}function Xt(Ie){let Ee=Es(404,{pathname:Ie}),Pe=a||s,{matches:Be,route:Le}=bz(Pe);return Lt(),{notFoundMatches:Be,route:Le,error:Ee}}function Lt(Ie){let Ee=[];return se.forEach((Pe,Be)=>{(!Ie||Ie(Be))&&(Pe.cancel(),Ee.push(Be),se.delete(Be))}),Ee}function en(Ie,Ee,Pe){if(v=Ie,b=Ee,y=Pe||null,!x&&S.navigation===lP){x=!0;let Be=qt(S.location,S.matches);Be!=null&&K({restoreScrollPosition:Be})}return()=>{v=null,b=null,y=null}}function on(Ie,Ee){return y&&y(Ie,Ee.map(Be=>Woe(Be,S.loaderData)))||Ie.key}function xn(Ie,Ee){if(v&&b){let Pe=on(Ie,Ee);v[Pe]=b()}}function qt(Ie,Ee){if(v){let Pe=on(Ie,Ee),Be=v[Pe];if(typeof Be=="number")return Be}return null}function St(Ie,Ee,Pe){if(u)if(Ie){if(Object.keys(Ie[0].params).length>0)return{active:!0,matches:VC(Ee,Pe,l,!0)}}else return{active:!0,matches:VC(Ee,Pe,l,!0)||[]};return{active:!1,matches:null}}async function gt(Ie,Ee,Pe,Be){if(!u)return{type:"success",matches:Ie};let Le=Ie;for(;;){let Qe=a==null,at=a||s,Ze=o;try{await u({signal:Pe,path:Ee,matches:Le,fetcherKey:Be,patch:(st,bt)=>{Pe.aborted||hz(st,bt,at,Ze,i)}})}catch(st){return{type:"error",error:st,partialMatches:Le}}finally{Qe&&!Pe.aborted&&(s=[...s])}if(Pe.aborted)return{type:"aborted"};let Xe=Vf(at,Ee,l);if(Xe)return{type:"success",matches:Xe};let et=VC(at,Ee,l,!0);if(!et||Le.length===et.length&&Le.every((st,bt)=>st.route.id===et[bt].route.id))return{type:"success",matches:null};Le=et}}function lt(Ie){o={},a=s1(Ie,i,void 0,o)}function kt(Ie,Ee){let Pe=a==null;hz(Ie,Ee,a||s,o,i),Pe&&(s=[...s],K({}))}return I={get basename(){return l},get future(){return d},get state(){return S},get routes(){return s},get window(){return e},initialize:we,subscribe:be,enableScrollRestoration:en,navigate:V,fetch:me,revalidate:ie,createHref:Ie=>t.history.createHref(Ie),encodeLocation:Ie=>t.history.encodeLocation(Ie),getFetcher:Ve,deleteFetcher:ze,dispose:ce,getBlocker:rt,deleteBlocker:mt,patchRoutes:kt,_internalFetchControllers:B,_internalActiveDeferreds:se,_internalSetRoutes:lt},I}function gse(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Jk(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){c=d;break}}else l=e,c=e[e.length-1];let u=XE(i||".",YE(l,o),vv(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=jA(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?"?"+v:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:su([n,u.pathname])),Ah(u)}function cz(t,e,n,r){if(!r||!gse(r))return{path:n};if(r.formMethod&&!Pse(r.formMethod))return{path:n,error:Es(405,{method:r.formMethod})};let i=()=>({path:n,error:Es(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=qU(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rl(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[y,b]=v;return""+p+y+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!rl(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Wn(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=tM(r.formData),c=r.formData;else if(r.body instanceof FormData)l=tM(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=mz(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=mz(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rl(u.formMethod))return{path:n,submission:u};let d=ff(n);return e&&d.search&&jA(d.search)&&l.append("index",""),d.search="?"+l,{path:Ah(d),submission:u}}function uz(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function dz(t,e,n,r,i,o,s,a,l,c,u,d,f,p,v,y){let b=y?Gs(y[1])?y[1].error:y[1].data:void 0,x=t.createURL(e.location),_=t.createURL(i),w=n;o&&e.errors?w=uz(n,Object.keys(e.errors)[0],!0):y&&Gs(y[1])&&(w=uz(n,y[0]));let E=y?y[1].statusCode:void 0,T=s&&E&&E>=400,I=w.filter((P,R)=>{let{route:O}=P;if(O.lazy)return!0;if(O.loader==null)return!1;if(o)return eM(O,e.loaderData,e.errors);if(vse(e.loaderData,e.matches[R],P)||l.some($=>$===P.route.id))return!0;let N=e.matches[R],A=P;return fz(P,ci({currentUrl:x,currentParams:N.params,nextUrl:_,nextParams:A.params},r,{actionResult:b,actionStatus:E,defaultShouldRevalidate:T?!1:a||x.pathname+x.search===_.pathname+_.search||x.search!==_.search||UU(N,A)}))}),S=[];return d.forEach((P,R)=>{if(o||!n.some(M=>M.route.id===P.routeId)||u.has(R))return;let O=Vf(p,P.path,v);if(!O){S.push({key:R,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(R),A=r0(O,P.path),$=!1;f.has(R)?$=!1:c.has(R)?(c.delete(R),$=!0):N&&N.state!=="idle"&&N.data===void 0?$=a:$=fz(A,ci({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:E,defaultShouldRevalidate:T?!1:a})),$&&S.push({key:R,routeId:P.routeId,path:P.path,matches:O,match:A,controller:new AbortController})}),[I,S]}function eM(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function vse(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function UU(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function fz(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function hz(t,e,n,r,i){var o;let s;if(t){let c=r[t];Wn(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let a=e.filter(c=>!s.some(u=>KU(c,u))),l=s1(a,i,[t||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...l)}function KU(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>KU(n,o))}):!1}async function yse(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Wn(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Tg(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!Voe.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,ci({},e(i),{lazy:void 0}))}async function bse(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function xse(t,e,n,r,i,o,s,a,l,c){let u=o.map(p=>p.route.lazy?yse(p.route,l,a):void 0),d=o.map((p,v)=>{let y=u[v],b=i.some(_=>_.route.id===p.route.id);return ci({},p,{shouldLoad:b,resolve:async _=>(_&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(b=!0),b?_se(e,r,p,y,_,c):Promise.resolve({type:Rr.data,result:void 0}))})}),f=await t({matches:d,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function _se(t,e,n,r,i,o){let s,a,l=c=>{let u,d=new Promise((v,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let f=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(y=>f(y)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=d}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Es(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Rr.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Es(404,{pathname:d})}Wn(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Rr.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function wse(t){let{result:e,type:n}=t;if(GU(e)){let d;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?d=null:d=await e.json():d=await e.text()}catch(f){return{type:Rr.error,error:f}}return n===Rr.error?{type:Rr.error,error:new a1(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:Rr.data,data:d,statusCode:e.status,headers:e.headers}}if(n===Rr.error){if(xz(e)){var r,i;if(e.data instanceof Error){var o,s;return{type:Rr.error,error:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Rr.error,error:new a1(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ib(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:Rr.error,error:e,statusCode:Ib(e)?e.status:void 0}}if(Tse(e)){var a,l;return{type:Rr.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(xz(e)){var c,u;return{type:Rr.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Rr.data,data:e}}function Cse(t,e,n,r,i,o){let s=t.headers.get("Location");if(Wn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!NA.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=Jk(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function pz(t,e,n){if(NA.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=vv(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Vp(t,e,n,r){let i=t.createURL(qU(e)).toString(),o={signal:n};if(r&&rl(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=tM(r.formData):o.body=r.formData}return new Request(i,o)}function tM(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function mz(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Sse(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&Gs(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,p=e[f];if(Wn(!nh(p),"Cannot handle redirect results in processLoaderData"),Gs(p)){let v=p.error;u!==void 0&&(v=u,u=void 0),s=s||{};{let y=Hf(t,f);s[y.route.id]==null&&(s[y.route.id]=v)}o[f]=void 0,l||(l=!0,a=Ib(p.error)?p.error.status:500),p.headers&&(c[f]=p.headers)}else vd(p)?(r.set(f,p.deferredData),o[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers)):(o[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function gz(t,e,n,r,i,o,s){let{loaderData:a,errors:l}=Sse(e,n,r,s);return i.forEach(c=>{let{key:u,match:d,controller:f}=c,p=o[u];if(Wn(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Gs(p)){let v=Hf(t.matches,d==null?void 0:d.route.id);l&&l[v.route.id]||(l=ci({},l,{[v.route.id]:p.error})),t.fetchers.delete(u)}else if(nh(p))Wn(!1,"Unhandled fetcher revalidation redirect");else if(vd(p))Wn(!1,"Unhandled fetcher deferred data");else{let v=Ju(p.data);t.fetchers.set(u,v)}}),{loaderData:a,errors:l}}function vz(t,e,n,r){let i=ci({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function yz(t){return t?Gs(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Hf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function bz(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Es(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new a1(t||500,a,new Error(l),!0)}function ww(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(nh(i))return{key:r,result:i}}}function qU(t){let e=typeof t=="string"?ff(t):t;return Ah(ci({},e,{hash:""}))}function Ese(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ise(t){return GU(t.result)&&dse.has(t.result.status)}function vd(t){return t.type===Rr.deferred}function Gs(t){return t.type===Rr.error}function nh(t){return(t&&t.type)===Rr.redirect}function xz(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Tse(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function GU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Pse(t){return use.has(t.toLowerCase())}function rl(t){return lse.has(t.toLowerCase())}async function Rse(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!UU(u,c)&&(i&&i[c.route.id])!==void 0;vd(l)&&d&&await LA(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function kse(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===o)&&vd(a)&&(Wn(s,"Expected an AbortController for revalidating fetcher deferred result"),await LA(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function LA(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Rr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Rr.error,error:i}}return{type:Rr.data,data:t.deferredData.data}}}function jA(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function r0(t,e){let n=typeof e=="string"?ff(e).search:e.search;if(t[t.length-1].route.index&&jA(n||""))return t[t.length-1];let r=VU(t);return r[r.length-1]}function _z(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function cP(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mse(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hy(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ose(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ju(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Dse(t,e){try{let n=t.sessionStorage.getItem(WU);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function Ase(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(WU,JSON.stringify(n))}catch(r){Tg(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l1.apply(this,arguments)}const ZE=h.createContext(null),YU=h.createContext(null),hf=h.createContext(null),zA=h.createContext(null),Ic=h.createContext({outlet:null,matches:[],isDataRoute:!1}),XU=h.createContext(null);function $se(t,e){let{relative:n}=e===void 0?{}:e;yv()||Wn(!1);let{basename:r,navigator:i}=h.useContext(hf),{hash:o,pathname:s,search:a}=QU(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:su([r,s])),i.createHref({pathname:l,search:a,hash:o})}function yv(){return h.useContext(zA)!=null}function pf(){return yv()||Wn(!1),h.useContext(zA).location}function ZU(t){h.useContext(hf).static||h.useLayoutEffect(t)}function mf(){let{isDataRoute:t}=h.useContext(Ic);return t?Xse():Nse()}function Nse(){yv()||Wn(!1);let t=h.useContext(ZE),{basename:e,future:n,navigator:r}=h.useContext(hf),{matches:i}=h.useContext(Ic),{pathname:o}=pf(),s=JSON.stringify(YE(i,n.v7_relativeSplatPath)),a=h.useRef(!1);return ZU(()=>{a.current=!0}),h.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=XE(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:su([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const Lse=h.createContext(null);function jse(t){let e=h.useContext(Ic).outlet;return e&&h.createElement(Lse.Provider,{value:t},e)}function zse(){let{matches:t}=h.useContext(Ic),e=t[t.length-1];return e?e.params:{}}function QU(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=h.useContext(hf),{matches:i}=h.useContext(Ic),{pathname:o}=pf(),s=JSON.stringify(YE(i,r.v7_relativeSplatPath));return h.useMemo(()=>XE(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Fse(t,e,n,r){yv()||Wn(!1);let{navigator:i,static:o}=h.useContext(hf),{matches:s}=h.useContext(Ic),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=pf(),d;d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=!o&&n&&n.matches&&n.matches.length>0?n.matches:Vf(t,{pathname:p});return Use(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:su([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:su([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r)}function Bse(){let t=Yse(),e=Ib(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,null)}const Vse=h.createElement(Bse,null);class Hse extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?h.createElement(Ic.Provider,{value:this.props.routeContext},h.createElement(XU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wse(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(ZE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ic.Provider,{value:e},r)}function Use(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Wn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let p,v=!1,y=null,b=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Vse,l&&(c<0&&f===0?(Zse("route-fallback"),v=!0,b=null):c===f&&(v=!0,b=d.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,f+1)),_=()=>{let w;return p?w=y:v?w=b:d.route.Component?w=h.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,h.createElement(Wse,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?h.createElement(Hse,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var JU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JU||{}),e7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(e7||{});function Kse(t){let e=h.useContext(ZE);return e||Wn(!1),e}function qse(t){let e=h.useContext(YU);return e||Wn(!1),e}function Gse(t){let e=h.useContext(Ic);return e||Wn(!1),e}function t7(t){let e=Gse(),n=e.matches[e.matches.length-1];return n.route.id||Wn(!1),n.route.id}function Yse(){var t;let e=h.useContext(XU),n=qse(e7.UseRouteError),r=t7();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Xse(){let{router:t}=Kse(JU.UseNavigateStable),e=t7(),n=h.useRef(!1);return ZU(()=>{n.current=!0}),h.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,l1({fromRouteId:e},o)))},[t,e])}const wz={};function Zse(t,e,n){wz[t]||(wz[t]=!0)}function Qse(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function i0(t){let{to:e,replace:n,state:r,relative:i}=t;yv()||Wn(!1);let{future:o,static:s}=h.useContext(hf),{matches:a}=h.useContext(Ic),{pathname:l}=pf(),c=mf(),u=XE(e,YE(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return h.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Jse(t){return jse(t.context)}function eae(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qi.Pop,navigator:o,static:s=!1,future:a}=t;yv()&&Wn(!1);let l=e.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:l,navigator:o,static:s,future:l1({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=ff(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:v="default"}=r,y=h.useMemo(()=>{let b=vv(u,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:v},navigationType:i}},[l,u,d,f,p,v,i]);return y==null?null:h.createElement(hf.Provider,{value:c},h.createElement(zA.Provider,{children:n,value:y}))}new Promise(()=>{});function tae(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:h.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:h.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:h.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function nae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iae(t,e){return t.button===0&&(!e||e==="_self")&&!rae(t)}const oae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sae="6";try{window.__reactRouterVersion=sae}catch{}function aae(t,e){return mse({basename:void 0,future:Tb({},void 0,{v7_prependBasename:!0}),history:zoe({window:void 0}),hydrationData:lae(),routes:t,mapRouteProperties:tae,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function lae(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Tb({},e,{errors:cae(e.errors)})),e}function cae(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new a1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const uae=h.createContext({isTransitioning:!1}),dae=h.createContext(new Map),fae="startTransition",Cz=vu[fae],hae="flushSync",Sz=zU[hae];function pae(t){Cz?Cz(t):t()}function py(t){Sz?Sz(t):t()}let mae=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function gae(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=h.useState(n.state),[s,a]=h.useState(),[l,c]=h.useState({isTransitioning:!1}),[u,d]=h.useState(),[f,p]=h.useState(),[v,y]=h.useState(),b=h.useRef(new Map),{v7_startTransition:x}=r||{},_=h.useCallback(P=>{x?pae(P):P()},[x]),w=h.useCallback((P,R)=>{let{deletedFetchers:O,flushSync:N,viewTransitionOpts:A}=R;P.fetchers.forEach((M,F)=>{M.data!==void 0&&b.current.set(F,M.data)}),O.forEach(M=>b.current.delete(M));let $=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!A||$){N?py(()=>o(P)):_(()=>o(P));return}if(N){py(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let M=n.window.document.startViewTransition(()=>{py(()=>o(P))});M.finished.finally(()=>{py(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),py(()=>p(M));return}f?(u&&u.resolve(),f.skipTransition(),y({state:P,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(a(P),c({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,f,u,b,_]);h.useLayoutEffect(()=>n.subscribe(w),[n,w]),h.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new mae)},[l]),h.useEffect(()=>{if(u&&s&&n.window){let P=s,R=u.promise,O=n.window.document.startViewTransition(async()=>{_(()=>o(P)),await R});O.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(O)}},[_,s,u,n.window]),h.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),h.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[l.isTransitioning,v]),h.useEffect(()=>{},[]);let E=h.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,R,O)=>n.navigate(P,{state:R,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(P,R,O)=>n.navigate(P,{replace:!0,state:R,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),T=n.basename||"/",I=h.useMemo(()=>({router:n,navigator:E,static:!1,basename:T}),[n,E,T]),S=h.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return h.useEffect(()=>Qse(r,n.future),[r,n.future]),h.createElement(h.Fragment,null,h.createElement(ZE.Provider,{value:I},h.createElement(YU.Provider,{value:i},h.createElement(dae.Provider,{value:b.current},h.createElement(uae.Provider,{value:l},h.createElement(eae,{basename:T,location:i.location,navigationType:i.historyAction,navigator:E,future:S},i.initialized||n.future.v7_partialHydration?h.createElement(vae,{routes:n.routes,future:n.future,state:i}):e))))),null)}const vae=h.memo(yae);function yae(t){let{routes:e,future:n,state:r}=t;return Fse(e,void 0,r,n)}const bae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bu=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=nae(e,oae),{basename:p}=h.useContext(hf),v,y=!1;if(typeof c=="string"&&xae.test(c)&&(v=c,bae))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=vv(E.pathname,p);E.origin===w.origin&&T!=null?c=T+E.search+E.hash:y=!0}catch{}let b=$se(c,{relative:i}),x=_ae(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function _(w){r&&r(w),w.defaultPrevented||x(w)}return h.createElement("a",Tb({},f,{href:v||b,onClick:y||o?r:_,ref:n,target:l}))});var Ez;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ez||(Ez={}));var Iz;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Iz||(Iz={}));function _ae(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=mf(),c=pf(),u=QU(t,{relative:s});return h.useCallback(d=>{if(iae(d,n)){d.preventDefault();let f=r!==void 0?r:Ah(c)===Ah(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}var Tz={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wae=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},r7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n7(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wae(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new Cae;const f=o<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const v=c<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Cae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sae=function(t){const e=n7(t);return r7.encodeByteArray(e,!0)},c1=function(t){return Sae(t).replace(/\./g,"")},i7=function(t){try{return r7.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=()=>Eae().__FIREBASE_DEFAULTS__,Tae=()=>{if(typeof process>"u"||typeof Tz>"u")return;const t=Tz.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pae=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&i7(t[1]);return e&&JSON.parse(e)},QE=()=>{try{return Iae()||Tae()||Pae()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o7=t=>{var e,n;return(n=(e=QE())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s7=t=>{const e=o7(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a7=()=>{var t;return(t=QE())===null||t===void 0?void 0:t.config},l7=t=>{var e;return(e=QE())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c1(JSON.stringify(n)),c1(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ho())}function Mae(){var t;const e=(t=QE())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Oae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dae(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Aae(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $ae(){const t=ho();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u7(){return!Mae()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d7(){try{return typeof indexedDB=="object"}catch{return!1}}function Nae(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lae="FirebaseError";class Tc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Lae,Object.setPrototypeOf(this,Tc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nx.prototype.create)}}class Nx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jae(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tc(i,a,r)}}function jae(t,e){return t.replace(zae,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zae=/\{\$([^}]+)}/g;function Fae(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function u1(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Pz(o)&&Pz(s)){if(!u1(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pz(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function o0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function s0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Bae(t,e){const n=new Vae(t,e);return n.subscribe.bind(n)}class Vae{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hae(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=uP),i.error===void 0&&(i.error=uP),i.complete===void 0&&(i.complete=uP);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hae(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uP(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){return t&&t._delegate?t._delegate:t}class Gd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rae;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kae(e))try{this.getOrInitializeService({instanceIdentifier:Af})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Af){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Af){return this.instances.has(e)}getOptions(e=Af){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Uae(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Af){return this.component?this.component.multipleInstances?e:Af:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uae(t){return t===Af?void 0:t}function Kae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wae(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Un||(Un={}));const Gae={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},Yae=Un.INFO,Xae={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},Zae=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Xae[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FA{constructor(e){this.name=e,this._logLevel=Yae,this._logHandler=Zae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...e),this._logHandler(this,Un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...e),this._logHandler(this,Un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Un.INFO,...e),this._logHandler(this,Un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Un.WARN,...e),this._logHandler(this,Un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...e),this._logHandler(this,Un.ERROR,...e)}}const Qae=(t,e)=>e.some(n=>t instanceof n);let Rz,kz;function Jae(){return Rz||(Rz=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ele(){return kz||(kz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f7=new WeakMap,nM=new WeakMap,h7=new WeakMap,dP=new WeakMap,BA=new WeakMap;function tle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nd(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&f7.set(n,t)}).catch(()=>{}),BA.set(e,t),e}function nle(t){if(nM.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nM.set(t,e)}let rM={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nM.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h7.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rle(t){rM=t(rM)}function ile(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fP(this),e,...n);return h7.set(r,e.sort?e.sort():[e]),Nd(r)}:ele().includes(t)?function(...e){return t.apply(fP(this),e),Nd(f7.get(this))}:function(...e){return Nd(t.apply(fP(this),e))}}function ole(t){return typeof t=="function"?ile(t):(t instanceof IDBTransaction&&nle(t),Qae(t,Jae())?new Proxy(t,rM):t)}function Nd(t){if(t instanceof IDBRequest)return tle(t);if(dP.has(t))return dP.get(t);const e=ole(t);return e!==t&&(dP.set(t,e),BA.set(e,t)),e}const fP=t=>BA.get(t);function sle(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Nd(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Nd(s.result),l.oldVersion,l.newVersion,Nd(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ale=["get","getKey","getAll","getAllKeys","count"],lle=["put","add","delete","clear"],hP=new Map;function Mz(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hP.get(e))return hP.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ale.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return hP.set(e,o),o}rle(t=>({...t,get:(e,n,r)=>Mz(e,n)||t.get(e,n,r),has:(e,n)=>!!Mz(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ule(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ule(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iM="@firebase/app",Oz="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new FA("@firebase/app"),dle="@firebase/app-compat",fle="@firebase/analytics-compat",hle="@firebase/analytics",ple="@firebase/app-check-compat",mle="@firebase/app-check",gle="@firebase/auth",vle="@firebase/auth-compat",yle="@firebase/database",ble="@firebase/data-connect",xle="@firebase/database-compat",_le="@firebase/functions",wle="@firebase/functions-compat",Cle="@firebase/installations",Sle="@firebase/installations-compat",Ele="@firebase/messaging",Ile="@firebase/messaging-compat",Tle="@firebase/performance",Ple="@firebase/performance-compat",Rle="@firebase/remote-config",kle="@firebase/remote-config-compat",Mle="@firebase/storage",Ole="@firebase/storage-compat",Dle="@firebase/firestore",Ale="@firebase/vertexai-preview",$le="@firebase/firestore-compat",Nle="firebase",Lle="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="[DEFAULT]",jle={[iM]:"fire-core",[dle]:"fire-core-compat",[hle]:"fire-analytics",[fle]:"fire-analytics-compat",[mle]:"fire-app-check",[ple]:"fire-app-check-compat",[gle]:"fire-auth",[vle]:"fire-auth-compat",[yle]:"fire-rtdb",[ble]:"fire-data-connect",[xle]:"fire-rtdb-compat",[_le]:"fire-fn",[wle]:"fire-fn-compat",[Cle]:"fire-iid",[Sle]:"fire-iid-compat",[Ele]:"fire-fcm",[Ile]:"fire-fcm-compat",[Tle]:"fire-perf",[Ple]:"fire-perf-compat",[Rle]:"fire-rc",[kle]:"fire-rc-compat",[Mle]:"fire-gcs",[Ole]:"fire-gcs-compat",[Dle]:"fire-fst",[$le]:"fire-fst-compat",[Ale]:"fire-vertex","fire-js":"fire-js",[Nle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Map,zle=new Map,sM=new Map;function Dz(t,e){try{t.container.addComponent(e)}catch(n){wu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $h(t){const e=t.name;if(sM.has(e))return wu.debug(`There were multiple attempts to register component ${e}.`),!1;sM.set(e,t);for(const n of Pb.values())Dz(n,t);for(const n of zle.values())Dz(n,t);return!0}function JE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zl(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ld=new Nx("app","Firebase",Fle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ld.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=Lle;function p7(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:oM,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ld.create("bad-app-name",{appName:String(i)});if(n||(n=a7()),!n)throw Ld.create("no-options");const o=Pb.get(i);if(o){if(u1(n,o.options)&&u1(r,o.config))return o;throw Ld.create("duplicate-app",{appName:i})}const s=new qae(i);for(const l of sM.values())s.addComponent(l);const a=new Ble(n,r,s);return Pb.set(i,a),a}function eI(t=oM){const e=Pb.get(t);if(!e&&t===oM&&a7())return p7();if(!e)throw Ld.create("no-app",{appName:t});return e}function Vle(){return Array.from(Pb.values())}function ic(t,e,n){var r;let i=(r=jle[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wu.warn(a.join(" "));return}$h(new Gd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle="firebase-heartbeat-database",Wle=1,Rb="firebase-heartbeat-store";let pP=null;function m7(){return pP||(pP=sle(Hle,Wle,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rb)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ld.create("idb-open",{originalErrorMessage:t.message})})),pP}async function Ule(t){try{const n=(await m7()).transaction(Rb),r=await n.objectStore(Rb).get(g7(t));return await n.done,r}catch(e){if(e instanceof Tc)wu.warn(e.message);else{const n=Ld.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wu.warn(n.message)}}}async function Az(t,e){try{const r=(await m7()).transaction(Rb,"readwrite");await r.objectStore(Rb).put(e,g7(t)),await r.done}catch(n){if(n instanceof Tc)wu.warn(n.message);else{const r=Ld.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wu.warn(r.message)}}}function g7(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kle=1024,qle=30*24*60*60*1e3;class Gle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$z();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=qle}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$z(),{heartbeatsToSend:r,unsentEntries:i}=Yle(this._heartbeatsCache.heartbeats),o=c1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wu.warn(n),""}}}function $z(){return new Date().toISOString().substring(0,10)}function Yle(t,e=Kle){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Nz(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nz(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d7()?Nae().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ule(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Az(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Az(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Nz(t){return c1(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(t){$h(new Gd("platform-logger",e=>new cle(e),"PRIVATE")),$h(new Gd("heartbeat",e=>new Gle(e),"PRIVATE")),ic(iM,Oz,t),ic(iM,Oz,"esm2017"),ic("fire-js","")}Zle("");var Qle="firebase",Jle="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ic(Qle,Jle,"app");var Lz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fh,v7;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,P){function R(){}R.prototype=P.prototype,S.D=P.prototype,S.prototype=new R,S.prototype.constructor=S,S.C=function(O,N,A){for(var $=Array(arguments.length-2),M=2;M<arguments.length;M++)$[M-2]=arguments[M];return P.prototype[N].apply(O,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,P,R){R||(R=0);var O=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)O[N]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(N=0;16>N;++N)O[N]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=S.g[0],R=S.g[1],N=S.g[2];var A=S.g[3],$=P+(A^R&(N^A))+O[0]+3614090360&4294967295;P=R+($<<7&4294967295|$>>>25),$=A+(N^P&(R^N))+O[1]+3905402710&4294967295,A=P+($<<12&4294967295|$>>>20),$=N+(R^A&(P^R))+O[2]+606105819&4294967295,N=A+($<<17&4294967295|$>>>15),$=R+(P^N&(A^P))+O[3]+3250441966&4294967295,R=N+($<<22&4294967295|$>>>10),$=P+(A^R&(N^A))+O[4]+4118548399&4294967295,P=R+($<<7&4294967295|$>>>25),$=A+(N^P&(R^N))+O[5]+1200080426&4294967295,A=P+($<<12&4294967295|$>>>20),$=N+(R^A&(P^R))+O[6]+2821735955&4294967295,N=A+($<<17&4294967295|$>>>15),$=R+(P^N&(A^P))+O[7]+4249261313&4294967295,R=N+($<<22&4294967295|$>>>10),$=P+(A^R&(N^A))+O[8]+1770035416&4294967295,P=R+($<<7&4294967295|$>>>25),$=A+(N^P&(R^N))+O[9]+2336552879&4294967295,A=P+($<<12&4294967295|$>>>20),$=N+(R^A&(P^R))+O[10]+4294925233&4294967295,N=A+($<<17&4294967295|$>>>15),$=R+(P^N&(A^P))+O[11]+2304563134&4294967295,R=N+($<<22&4294967295|$>>>10),$=P+(A^R&(N^A))+O[12]+1804603682&4294967295,P=R+($<<7&4294967295|$>>>25),$=A+(N^P&(R^N))+O[13]+4254626195&4294967295,A=P+($<<12&4294967295|$>>>20),$=N+(R^A&(P^R))+O[14]+2792965006&4294967295,N=A+($<<17&4294967295|$>>>15),$=R+(P^N&(A^P))+O[15]+1236535329&4294967295,R=N+($<<22&4294967295|$>>>10),$=P+(N^A&(R^N))+O[1]+4129170786&4294967295,P=R+($<<5&4294967295|$>>>27),$=A+(R^N&(P^R))+O[6]+3225465664&4294967295,A=P+($<<9&4294967295|$>>>23),$=N+(P^R&(A^P))+O[11]+643717713&4294967295,N=A+($<<14&4294967295|$>>>18),$=R+(A^P&(N^A))+O[0]+3921069994&4294967295,R=N+($<<20&4294967295|$>>>12),$=P+(N^A&(R^N))+O[5]+3593408605&4294967295,P=R+($<<5&4294967295|$>>>27),$=A+(R^N&(P^R))+O[10]+38016083&4294967295,A=P+($<<9&4294967295|$>>>23),$=N+(P^R&(A^P))+O[15]+3634488961&4294967295,N=A+($<<14&4294967295|$>>>18),$=R+(A^P&(N^A))+O[4]+3889429448&4294967295,R=N+($<<20&4294967295|$>>>12),$=P+(N^A&(R^N))+O[9]+568446438&4294967295,P=R+($<<5&4294967295|$>>>27),$=A+(R^N&(P^R))+O[14]+3275163606&4294967295,A=P+($<<9&4294967295|$>>>23),$=N+(P^R&(A^P))+O[3]+4107603335&4294967295,N=A+($<<14&4294967295|$>>>18),$=R+(A^P&(N^A))+O[8]+1163531501&4294967295,R=N+($<<20&4294967295|$>>>12),$=P+(N^A&(R^N))+O[13]+2850285829&4294967295,P=R+($<<5&4294967295|$>>>27),$=A+(R^N&(P^R))+O[2]+4243563512&4294967295,A=P+($<<9&4294967295|$>>>23),$=N+(P^R&(A^P))+O[7]+1735328473&4294967295,N=A+($<<14&4294967295|$>>>18),$=R+(A^P&(N^A))+O[12]+2368359562&4294967295,R=N+($<<20&4294967295|$>>>12),$=P+(R^N^A)+O[5]+4294588738&4294967295,P=R+($<<4&4294967295|$>>>28),$=A+(P^R^N)+O[8]+2272392833&4294967295,A=P+($<<11&4294967295|$>>>21),$=N+(A^P^R)+O[11]+1839030562&4294967295,N=A+($<<16&4294967295|$>>>16),$=R+(N^A^P)+O[14]+4259657740&4294967295,R=N+($<<23&4294967295|$>>>9),$=P+(R^N^A)+O[1]+2763975236&4294967295,P=R+($<<4&4294967295|$>>>28),$=A+(P^R^N)+O[4]+1272893353&4294967295,A=P+($<<11&4294967295|$>>>21),$=N+(A^P^R)+O[7]+4139469664&4294967295,N=A+($<<16&4294967295|$>>>16),$=R+(N^A^P)+O[10]+3200236656&4294967295,R=N+($<<23&4294967295|$>>>9),$=P+(R^N^A)+O[13]+681279174&4294967295,P=R+($<<4&4294967295|$>>>28),$=A+(P^R^N)+O[0]+3936430074&4294967295,A=P+($<<11&4294967295|$>>>21),$=N+(A^P^R)+O[3]+3572445317&4294967295,N=A+($<<16&4294967295|$>>>16),$=R+(N^A^P)+O[6]+76029189&4294967295,R=N+($<<23&4294967295|$>>>9),$=P+(R^N^A)+O[9]+3654602809&4294967295,P=R+($<<4&4294967295|$>>>28),$=A+(P^R^N)+O[12]+3873151461&4294967295,A=P+($<<11&4294967295|$>>>21),$=N+(A^P^R)+O[15]+530742520&4294967295,N=A+($<<16&4294967295|$>>>16),$=R+(N^A^P)+O[2]+3299628645&4294967295,R=N+($<<23&4294967295|$>>>9),$=P+(N^(R|~A))+O[0]+4096336452&4294967295,P=R+($<<6&4294967295|$>>>26),$=A+(R^(P|~N))+O[7]+1126891415&4294967295,A=P+($<<10&4294967295|$>>>22),$=N+(P^(A|~R))+O[14]+2878612391&4294967295,N=A+($<<15&4294967295|$>>>17),$=R+(A^(N|~P))+O[5]+4237533241&4294967295,R=N+($<<21&4294967295|$>>>11),$=P+(N^(R|~A))+O[12]+1700485571&4294967295,P=R+($<<6&4294967295|$>>>26),$=A+(R^(P|~N))+O[3]+2399980690&4294967295,A=P+($<<10&4294967295|$>>>22),$=N+(P^(A|~R))+O[10]+4293915773&4294967295,N=A+($<<15&4294967295|$>>>17),$=R+(A^(N|~P))+O[1]+2240044497&4294967295,R=N+($<<21&4294967295|$>>>11),$=P+(N^(R|~A))+O[8]+1873313359&4294967295,P=R+($<<6&4294967295|$>>>26),$=A+(R^(P|~N))+O[15]+4264355552&4294967295,A=P+($<<10&4294967295|$>>>22),$=N+(P^(A|~R))+O[6]+2734768916&4294967295,N=A+($<<15&4294967295|$>>>17),$=R+(A^(N|~P))+O[13]+1309151649&4294967295,R=N+($<<21&4294967295|$>>>11),$=P+(N^(R|~A))+O[4]+4149444226&4294967295,P=R+($<<6&4294967295|$>>>26),$=A+(R^(P|~N))+O[11]+3174756917&4294967295,A=P+($<<10&4294967295|$>>>22),$=N+(P^(A|~R))+O[2]+718787259&4294967295,N=A+($<<15&4294967295|$>>>17),$=R+(A^(N|~P))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+P&4294967295,S.g[1]=S.g[1]+(N+($<<21&4294967295|$>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.u=function(S,P){P===void 0&&(P=S.length);for(var R=P-this.blockSize,O=this.B,N=this.h,A=0;A<P;){if(N==0)for(;A<=R;)i(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<P;)if(O[N++]=S.charCodeAt(A++),N==this.blockSize){i(this,O),N=0;break}}else for(;A<P;)if(O[N++]=S[A++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=P},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var P=1;P<S.length-8;++P)S[P]=0;var R=8*this.o;for(P=S.length-8;P<S.length;++P)S[P]=R&255,R/=256;for(this.u(S),S=Array(16),P=R=0;4>P;++P)for(var O=0;32>O;O+=8)S[R++]=this.g[P]>>>O&255;return S};function o(S,P){var R=a;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=P(S)}function s(S,P){this.h=P;for(var R=[],O=!0,N=S.length-1;0<=N;N--){var A=S[N]|0;O&&A==P||(R[N]=A,O=!1)}this.g=R}var a={};function l(S){return-128<=S&&128>S?o(S,function(P){return new s([P|0],0>P?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return b(c(-S));for(var P=[],R=1,O=0;S>=R;O++)P[O]=S/R|0,R*=4294967296;return new s(P,0)}function u(S,P){if(S.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(S.charAt(0)=="-")return b(u(S.substring(1),P));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(P,8)),O=d,N=0;N<S.length;N+=8){var A=Math.min(8,S.length-N),$=parseInt(S.substring(N,N+A),P);8>A?(A=c(Math.pow(P,A)),O=O.j(A).add(c($))):(O=O.j(R),O=O.add(c($)))}return O}var d=l(0),f=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-b(this).m();for(var S=0,P=1,R=0;R<this.g.length;R++){var O=this.i(R);S+=(0<=O?O:4294967296+O)*P,P*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(y(this))return"-"+b(this).toString(S);for(var P=c(Math.pow(S,6)),R=this,O="";;){var N=E(R,P).g;R=x(R,N.j(P));var A=((0<R.g.length?R.g[0]:R.h)>>>0).toString(S);if(R=N,v(R))return A+O;for(;6>A.length;)A="0"+A;O=A+O}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var P=0;P<S.g.length;P++)if(S.g[P]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=x(this,S),y(S)?-1:v(S)?0:1};function b(S){for(var P=S.g.length,R=[],O=0;O<P;O++)R[O]=~S.g[O];return new s(R,~S.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(S){for(var P=Math.max(this.g.length,S.g.length),R=[],O=0,N=0;N<=P;N++){var A=O+(this.i(N)&65535)+(S.i(N)&65535),$=(A>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);O=$>>>16,A&=65535,$&=65535,R[N]=$<<16|A}return new s(R,R[R.length-1]&-2147483648?-1:0)};function x(S,P){return S.add(b(P))}t.j=function(S){if(v(this)||v(S))return d;if(y(this))return y(S)?b(this).j(b(S)):b(b(this).j(S));if(y(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var P=this.g.length+S.g.length,R=[],O=0;O<2*P;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<S.g.length;N++){var A=this.i(O)>>>16,$=this.i(O)&65535,M=S.i(N)>>>16,F=S.i(N)&65535;R[2*O+2*N]+=$*F,_(R,2*O+2*N),R[2*O+2*N+1]+=A*F,_(R,2*O+2*N+1),R[2*O+2*N+1]+=$*M,_(R,2*O+2*N+1),R[2*O+2*N+2]+=A*M,_(R,2*O+2*N+2)}for(O=0;O<P;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=P;O<2*P;O++)R[O]=0;return new s(R,0)};function _(S,P){for(;(S[P]&65535)!=S[P];)S[P+1]+=S[P]>>>16,S[P]&=65535,P++}function w(S,P){this.g=S,this.h=P}function E(S,P){if(v(P))throw Error("division by zero");if(v(S))return new w(d,d);if(y(S))return P=E(b(S),P),new w(b(P.g),b(P.h));if(y(P))return P=E(S,b(P)),new w(b(P.g),P.h);if(30<S.g.length){if(y(S)||y(P))throw Error("slowDivide_ only works with positive integers.");for(var R=f,O=P;0>=O.l(S);)R=T(R),O=T(O);var N=I(R,1),A=I(O,1);for(O=I(O,2),R=I(R,2);!v(O);){var $=A.add(O);0>=$.l(S)&&(N=N.add(R),A=$),O=I(O,1),R=I(R,1)}return P=x(S,N.j(P)),new w(N,P)}for(N=d;0<=S.l(P);){for(R=Math.max(1,Math.floor(S.m()/P.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),A=c(R),$=A.j(P);y($)||0<$.l(S);)R-=O,A=c(R),$=A.j(P);v(A)&&(A=f),N=N.add(A),S=x(S,$)}return new w(N,S)}t.A=function(S){return E(this,S).h},t.and=function(S){for(var P=Math.max(this.g.length,S.g.length),R=[],O=0;O<P;O++)R[O]=this.i(O)&S.i(O);return new s(R,this.h&S.h)},t.or=function(S){for(var P=Math.max(this.g.length,S.g.length),R=[],O=0;O<P;O++)R[O]=this.i(O)|S.i(O);return new s(R,this.h|S.h)},t.xor=function(S){for(var P=Math.max(this.g.length,S.g.length),R=[],O=0;O<P;O++)R[O]=this.i(O)^S.i(O);return new s(R,this.h^S.h)};function T(S){for(var P=S.g.length+1,R=[],O=0;O<P;O++)R[O]=S.i(O)<<1|S.i(O-1)>>>31;return new s(R,S.h)}function I(S,P){var R=P>>5;P%=32;for(var O=S.g.length-R,N=[],A=0;A<O;A++)N[A]=0<P?S.i(A+R)>>>P|S.i(A+R+1)<<32-P:S.i(A+R);return new s(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v7=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,fh=s}).apply(typeof Lz<"u"?Lz:typeof self<"u"?self:typeof window<"u"?window:{});var Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y7,a0,b7,HC,aM,x7,_7,w7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,U,ne){return k==Array.prototype||k==Object.prototype||(k[U]=ne.value),k};function n(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cw=="object"&&Cw];for(var U=0;U<k.length;++U){var ne=k[U];if(ne&&ne.Math==Math)return ne}throw Error("Cannot find global object")}var r=n(this);function i(k,U){if(U)e:{var ne=r;k=k.split(".");for(var xe=0;xe<k.length-1;xe++){var He=k[xe];if(!(He in ne))break e;ne=ne[He]}k=k[k.length-1],xe=ne[k],U=U(xe),U!=xe&&U!=null&&e(ne,k,{configurable:!0,writable:!0,value:U})}}function o(k,U){k instanceof String&&(k+="");var ne=0,xe=!1,He={next:function(){if(!xe&&ne<k.length){var tt=ne++;return{value:U(tt,k[tt]),done:!1}}return xe=!0,{done:!0,value:void 0}}};return He[Symbol.iterator]=function(){return He},He}i("Array.prototype.values",function(k){return k||function(){return o(this,function(U,ne){return ne})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(k){var U=typeof k;return U=U!="object"?U:k?Array.isArray(k)?"array":U:"null",U=="array"||U=="object"&&typeof k.length=="number"}function c(k){var U=typeof k;return U=="object"&&k!=null||U=="function"}function u(k,U,ne){return k.call.apply(k.bind,arguments)}function d(k,U,ne){if(!k)throw Error();if(2<arguments.length){var xe=Array.prototype.slice.call(arguments,2);return function(){var He=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(He,xe),k.apply(U,He)}}return function(){return k.apply(U,arguments)}}function f(k,U,ne){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function p(k,U){var ne=Array.prototype.slice.call(arguments,1);return function(){var xe=ne.slice();return xe.push.apply(xe,arguments),k.apply(this,xe)}}function v(k,U){function ne(){}ne.prototype=U.prototype,k.aa=U.prototype,k.prototype=new ne,k.prototype.constructor=k,k.Qb=function(xe,He,tt){for(var Rt=Array(arguments.length-2),Tr=2;Tr<arguments.length;Tr++)Rt[Tr-2]=arguments[Tr];return U.prototype[He].apply(xe,Rt)}}function y(k){const U=k.length;if(0<U){const ne=Array(U);for(let xe=0;xe<U;xe++)ne[xe]=k[xe];return ne}return[]}function b(k,U){for(let ne=1;ne<arguments.length;ne++){const xe=arguments[ne];if(l(xe)){const He=k.length||0,tt=xe.length||0;k.length=He+tt;for(let Rt=0;Rt<tt;Rt++)k[He+Rt]=xe[Rt]}else k.push(xe)}}class x{constructor(U,ne){this.i=U,this.j=ne,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function _(k){return/^[\s\xa0]*$/.test(k)}function w(){var k=a.navigator;return k&&(k=k.userAgent)?k:""}function E(k){return E[" "](k),k}E[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function I(k,U,ne){for(const xe in k)U.call(ne,k[xe],xe,k)}function S(k,U){for(const ne in k)U.call(void 0,k[ne],ne,k)}function P(k){const U={};for(const ne in k)U[ne]=k[ne];return U}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(k,U){let ne,xe;for(let He=1;He<arguments.length;He++){xe=arguments[He];for(ne in xe)k[ne]=xe[ne];for(let tt=0;tt<R.length;tt++)ne=R[tt],Object.prototype.hasOwnProperty.call(xe,ne)&&(k[ne]=xe[ne])}}function N(k){var U=1;k=k.split(":");const ne=[];for(;0<U&&k.length;)ne.push(k.shift()),U--;return k.length&&ne.push(k.join(":")),ne}function A(k){a.setTimeout(()=>{throw k},0)}function $(){var k=W;let U=null;return k.g&&(U=k.g,k.g=k.g.next,k.g||(k.h=null),U.next=null),U}class M{constructor(){this.h=this.g=null}add(U,ne){const xe=F.get();xe.set(U,ne),this.h?this.h.next=xe:this.g=xe,this.h=xe}}var F=new x(()=>new z,k=>k.reset());class z{constructor(){this.next=this.g=this.h=null}set(U,ne){this.h=U,this.g=ne,this.next=null}reset(){this.next=this.g=this.h=null}}let j,B=!1,W=new M,q=()=>{const k=a.Promise.resolve(void 0);j=()=>{k.then(G)}};var G=()=>{for(var k;k=$();){try{k.h.call(k.g)}catch(ne){A(ne)}var U=F;U.j(k),100>U.h&&(U.h++,k.next=U.g,U.g=k)}B=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(k,U){this.type=k,this.g=this.target=U,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var k=!1,U=Object.defineProperty({},"passive",{get:function(){k=!0}});try{const ne=()=>{};a.addEventListener("test",ne,U),a.removeEventListener("test",ne,U)}catch{}return k}();function J(k,U){if(ue.call(this,k?k.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,k){var ne=this.type=k.type,xe=k.changedTouches&&k.changedTouches.length?k.changedTouches[0]:null;if(this.target=k.target||k.srcElement,this.g=U,U=k.relatedTarget){if(T){e:{try{E(U.nodeName);var He=!0;break e}catch{}He=!1}He||(U=null)}}else ne=="mouseover"?U=k.fromElement:ne=="mouseout"&&(U=k.toElement);this.relatedTarget=U,xe?(this.clientX=xe.clientX!==void 0?xe.clientX:xe.pageX,this.clientY=xe.clientY!==void 0?xe.clientY:xe.pageY,this.screenX=xe.screenX||0,this.screenY=xe.screenY||0):(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0),this.button=k.button,this.key=k.key||"",this.ctrlKey=k.ctrlKey,this.altKey=k.altKey,this.shiftKey=k.shiftKey,this.metaKey=k.metaKey,this.pointerId=k.pointerId||0,this.pointerType=typeof k.pointerType=="string"?k.pointerType:se[k.pointerType]||"",this.state=k.state,this.i=k,k.defaultPrevented&&J.aa.h.call(this)}}v(J,ue);var se={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var k=this.i;k.preventDefault?k.preventDefault():k.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),le=0;function we(k,U,ne,xe,He){this.listener=k,this.proxy=null,this.src=U,this.type=ne,this.capture=!!xe,this.ha=He,this.key=++le,this.da=this.fa=!1}function ce(k){k.da=!0,k.listener=null,k.proxy=null,k.src=null,k.ha=null}function be(k){this.src=k,this.g={},this.h=0}be.prototype.add=function(k,U,ne,xe,He){var tt=k.toString();k=this.g[tt],k||(k=this.g[tt]=[],this.h++);var Rt=oe(k,U,xe,He);return-1<Rt?(U=k[Rt],ne||(U.fa=!1)):(U=new we(U,this.src,tt,!!xe,He),U.fa=ne,k.push(U)),U};function K(k,U){var ne=U.type;if(ne in k.g){var xe=k.g[ne],He=Array.prototype.indexOf.call(xe,U,void 0),tt;(tt=0<=He)&&Array.prototype.splice.call(xe,He,1),tt&&(ce(U),k.g[ne].length==0&&(delete k.g[ne],k.h--))}}function oe(k,U,ne,xe){for(var He=0;He<k.length;++He){var tt=k[He];if(!tt.da&&tt.listener==U&&tt.capture==!!ne&&tt.ha==xe)return He}return-1}var V="closure_lm_"+(1e6*Math.random()|0),ie={};function re(k,U,ne,xe,He){if(Array.isArray(U)){for(var tt=0;tt<U.length;tt++)re(k,U[tt],ne,xe,He);return null}return ne=ke(ne),k&&k[ge]?k.K(U,ne,c(xe)?!!xe.capture:!1,He):ee(k,U,ne,!1,xe,He)}function ee(k,U,ne,xe,He,tt){if(!U)throw Error("Invalid event type");var Rt=c(He)?!!He.capture:!!He,Tr=ye(k);if(Tr||(k[V]=Tr=new be(k)),ne=Tr.add(U,ne,xe,Rt,tt),ne.proxy)return ne;if(xe=Y(),ne.proxy=xe,xe.src=k,xe.listener=ne,k.addEventListener)te||(He=Rt),He===void 0&&(He=!1),k.addEventListener(U.toString(),xe,He);else if(k.attachEvent)k.attachEvent(me(U.toString()),xe);else if(k.addListener&&k.removeListener)k.addListener(xe);else throw Error("addEventListener and attachEvent are unavailable.");return ne}function Y(){function k(ne){return U.call(k.src,k.listener,ne)}const U=fe;return k}function he(k,U,ne,xe,He){if(Array.isArray(U))for(var tt=0;tt<U.length;tt++)he(k,U[tt],ne,xe,He);else xe=c(xe)?!!xe.capture:!!xe,ne=ke(ne),k&&k[ge]?(k=k.i,U=String(U).toString(),U in k.g&&(tt=k.g[U],ne=oe(tt,ne,xe,He),-1<ne&&(ce(tt[ne]),Array.prototype.splice.call(tt,ne,1),tt.length==0&&(delete k.g[U],k.h--)))):k&&(k=ye(k))&&(U=k.g[U.toString()],k=-1,U&&(k=oe(U,ne,xe,He)),(ne=-1<k?U[k]:null)&&Ce(ne))}function Ce(k){if(typeof k!="number"&&k&&!k.da){var U=k.src;if(U&&U[ge])K(U.i,k);else{var ne=k.type,xe=k.proxy;U.removeEventListener?U.removeEventListener(ne,xe,k.capture):U.detachEvent?U.detachEvent(me(ne),xe):U.addListener&&U.removeListener&&U.removeListener(xe),(ne=ye(U))?(K(ne,k),ne.h==0&&(ne.src=null,U[V]=null)):ce(k)}}}function me(k){return k in ie?ie[k]:ie[k]="on"+k}function fe(k,U){if(k.da)k=!0;else{U=new J(U,this);var ne=k.listener,xe=k.ha||k.src;k.fa&&Ce(k),k=ne.call(xe,U)}return k}function ye(k){return k=k[V],k instanceof be?k:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(k){return typeof k=="function"?k:(k[Te]||(k[Te]=function(U){return k.handleEvent(U)}),k[Te])}function je(){X.call(this),this.i=new be(this),this.M=this,this.F=null}v(je,X),je.prototype[ge]=!0,je.prototype.removeEventListener=function(k,U,ne,xe){he(this,k,U,ne,xe)};function de(k,U){var ne,xe=k.F;if(xe)for(ne=[];xe;xe=xe.F)ne.push(xe);if(k=k.M,xe=U.type||U,typeof U=="string")U=new ue(U,k);else if(U instanceof ue)U.target=U.target||k;else{var He=U;U=new ue(xe,k),O(U,He)}if(He=!0,ne)for(var tt=ne.length-1;0<=tt;tt--){var Rt=U.g=ne[tt];He=Se(Rt,xe,!0,U)&&He}if(Rt=U.g=k,He=Se(Rt,xe,!0,U)&&He,He=Se(Rt,xe,!1,U)&&He,ne)for(tt=0;tt<ne.length;tt++)Rt=U.g=ne[tt],He=Se(Rt,xe,!1,U)&&He}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var k=this.i,U;for(U in k.g){for(var ne=k.g[U],xe=0;xe<ne.length;xe++)ce(ne[xe]);delete k.g[U],k.h--}}this.F=null},je.prototype.K=function(k,U,ne,xe){return this.i.add(String(k),U,!1,ne,xe)},je.prototype.L=function(k,U,ne,xe){return this.i.add(String(k),U,!0,ne,xe)};function Se(k,U,ne,xe){if(U=k.i.g[String(U)],!U)return!0;U=U.concat();for(var He=!0,tt=0;tt<U.length;++tt){var Rt=U[tt];if(Rt&&!Rt.da&&Rt.capture==ne){var Tr=Rt.listener,Yi=Rt.ha||Rt.src;Rt.fa&&K(k.i,Rt),He=Tr.call(Yi,xe)!==!1&&He}}return He&&!xe.defaultPrevented}function Re(k,U,ne){if(typeof k=="function")ne&&(k=f(k,ne));else if(k&&typeof k.handleEvent=="function")k=f(k.handleEvent,k);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(k,U||0)}function Ve(k){k.g=Re(()=>{k.g=null,k.i&&(k.i=!1,Ve(k))},k.l);const U=k.h;k.h=null,k.m.apply(null,U)}class De extends X{constructor(U,ne){super(),this.m=U,this.l=ne,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(k){X.call(this),this.h=k,this.g={}}v(ze,X);var $e=[];function Ke(k){I(k.g,function(U,ne){this.g.hasOwnProperty(ne)&&Ce(U)},k),k.g={}}ze.prototype.N=function(){ze.aa.N.call(this),Ke(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=a.JSON.stringify,Ue=a.JSON.parse,rt=class{stringify(k){return a.JSON.stringify(k,void 0)}parse(k){return a.JSON.parse(k,void 0)}};function mt(){}mt.prototype.h=null;function ot(k){return k.h||(k.h=k.i())}function Bt(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lt(){ue.call(this,"d")}v(Lt,ue);function en(){ue.call(this,"c")}v(en,ue);var on={},xn=null;function qt(){return xn=xn||new je}on.La="serverreachability";function St(k){ue.call(this,on.La,k)}v(St,ue);function gt(k){const U=qt();de(U,new St(U))}on.STAT_EVENT="statevent";function lt(k,U){ue.call(this,on.STAT_EVENT,k),this.stat=U}v(lt,ue);function kt(k){const U=qt();de(U,new lt(U,k))}on.Ma="timingevent";function Ie(k,U){ue.call(this,on.Ma,k),this.size=U}v(Ie,ue);function Ee(k,U){if(typeof k!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){k()},U)}function Pe(){this.g=!0}Pe.prototype.xa=function(){this.g=!1};function Be(k,U,ne,xe,He,tt){k.info(function(){if(k.g)if(tt)for(var Rt="",Tr=tt.split("&"),Yi=0;Yi<Tr.length;Yi++){var ir=Tr[Yi].split("=");if(1<ir.length){var Br=ir[0];ir=ir[1];var yi=Br.split("_");Rt=2<=yi.length&&yi[1]=="type"?Rt+(Br+"="+ir+"&"):Rt+(Br+"=redacted&")}}else Rt=null;else Rt=tt;return"XMLHTTP REQ ("+xe+") [attempt "+He+"]: "+U+`
`+ne+`
`+Rt})}function Le(k,U,ne,xe,He,tt,Rt){k.info(function(){return"XMLHTTP RESP ("+xe+") [ attempt "+He+"]: "+U+`
`+ne+`
`+tt+" "+Rt})}function Qe(k,U,ne,xe){k.info(function(){return"XMLHTTP TEXT ("+U+"): "+Ze(k,ne)+(xe?" "+xe:"")})}function at(k,U){k.info(function(){return"TIMEOUT: "+U})}Pe.prototype.info=function(){};function Ze(k,U){if(!k.g)return U;if(!U)return null;try{var ne=JSON.parse(U);if(ne){for(k=0;k<ne.length;k++)if(Array.isArray(ne[k])){var xe=ne[k];if(!(2>xe.length)){var He=xe[1];if(Array.isArray(He)&&!(1>He.length)){var tt=He[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var Rt=1;Rt<He.length;Rt++)He[Rt]=""}}}}return Ae(ne)}catch{return U}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},et={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},st;function bt(){}v(bt,mt),bt.prototype.g=function(){return new XMLHttpRequest},bt.prototype.i=function(){return{}},st=new bt;function Tt(k,U,ne,xe){this.j=k,this.i=U,this.l=ne,this.R=xe||1,this.U=new ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tn}function tn(){this.i=null,this.g="",this.h=!1}var Wt={},pt={};function Vt(k,U,ne){k.L=1,k.v=ar(hn(U)),k.m=ne,k.P=!0,ht(k,null)}function ht(k,U){k.F=Date.now(),Zt(k),k.A=hn(k.v);var ne=k.A,xe=k.R;Array.isArray(xe)||(xe=[String(xe)]),ts(ne.i,"t",xe),k.C=0,ne=k.j.J,k.h=new tn,k.g=K_(k.j,ne?U:null,!k.m),0<k.O&&(k.M=new De(f(k.Y,k,k.g),k.O)),U=k.U,ne=k.g,xe=k.ca;var He="readystatechange";Array.isArray(He)||(He&&($e[0]=He.toString()),He=$e);for(var tt=0;tt<He.length;tt++){var Rt=re(ne,He[tt],xe||U.handleEvent,!1,U.h||U);if(!Rt)break;U.g[Rt.key]=Rt}U=k.H?P(k.H):{},k.m?(k.u||(k.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",k.g.ea(k.A,k.u,k.m,U)):(k.u="GET",k.g.ea(k.A,k.u,null,U)),gt(),Be(k.i,k.u,k.A,k.l,k.R,k.m)}Tt.prototype.ca=function(k){k=k.target;const U=this.M;U&&ns(k)==3?U.j():this.Y(k)},Tt.prototype.Y=function(k){try{if(k==this.g)e:{const yi=ns(this.g);var U=this.g.Ba();const ju=this.g.Z();if(!(3>yi)&&(yi!=3||this.g&&(this.h.h||this.g.oa()||Yv(this.g)))){this.J||yi!=4||U==7||(U==8||0>=ju?gt(3):gt(2)),rr(this);var ne=this.g.Z();this.X=ne;t:if(Pt(this)){var xe=Yv(this.g);k="";var He=xe.length,tt=ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),$n(this);var Rt="";break t}this.h.i=new a.TextDecoder}for(U=0;U<He;U++)this.h.h=!0,k+=this.h.i.decode(xe[U],{stream:!(tt&&U==He-1)});xe.length=0,this.h.g+=k,this.C=0,Rt=this.h.g}else Rt=this.g.oa();if(this.o=ne==200,Le(this.i,this.u,this.A,this.l,this.R,yi,ne),this.o){if(this.T&&!this.K){t:{if(this.g){var Tr,Yi=this.g;if((Tr=Yi.g?Yi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Tr)){var ir=Tr;break t}}ir=null}if(ne=ir)Qe(this.i,this.l,ne,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ot(this,ne);else{this.o=!1,this.s=3,kt(12),Ir(this),$n(this);break e}}if(this.P){ne=!0;let ji;for(;!this.J&&this.C<Rt.length;)if(ji=Nt(this,Rt),ji==pt){yi==4&&(this.s=4,kt(14),ne=!1),Qe(this.i,this.l,null,"[Incomplete Response]");break}else if(ji==Wt){this.s=4,kt(15),Qe(this.i,this.l,Rt,"[Invalid Chunk]"),ne=!1;break}else Qe(this.i,this.l,ji,null),Ot(this,ji);if(Pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yi!=4||Rt.length!=0||this.h.h||(this.s=1,kt(16),ne=!1),this.o=this.o&&ne,!ne)Qe(this.i,this.l,Rt,"[Invalid Chunked Response]"),Ir(this),$n(this);else if(0<Rt.length&&!this.W){this.W=!0;var Br=this.j;Br.g==this&&Br.ba&&!Br.M&&(Br.j.info("Great, no buffering proxy detected. Bytes received: "+Rt.length),Op(Br),Br.M=!0,kt(11))}}else Qe(this.i,this.l,Rt,null),Ot(this,Rt);yi==4&&Ir(this),this.o&&!this.J&&(yi==4?Zv(this.j,this):(this.o=!1,Zt(this)))}else P2(this.g),ne==400&&0<Rt.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Ir(this),$n(this)}}}catch{}finally{}};function Pt(k){return k.g?k.u=="GET"&&k.L!=2&&k.j.Ca:!1}function Nt(k,U){var ne=k.C,xe=U.indexOf(`
`,ne);return xe==-1?pt:(ne=Number(U.substring(ne,xe)),isNaN(ne)?Wt:(xe+=1,xe+ne>U.length?pt:(U=U.slice(xe,xe+ne),k.C=xe+ne,U)))}Tt.prototype.cancel=function(){this.J=!0,Ir(this)};function Zt(k){k.S=Date.now()+k.I,Rn(k,k.I)}function Rn(k,U){if(k.B!=null)throw Error("WatchDog timer not null");k.B=Ee(f(k.ba,k),U)}function rr(k){k.B&&(a.clearTimeout(k.B),k.B=null)}Tt.prototype.ba=function(){this.B=null;const k=Date.now();0<=k-this.S?(at(this.i,this.A),this.L!=2&&(gt(),kt(17)),Ir(this),this.s=2,$n(this)):Rn(this,this.S-k)};function $n(k){k.j.G==0||k.J||Zv(k.j,k)}function Ir(k){rr(k);var U=k.M;U&&typeof U.ma=="function"&&U.ma(),k.M=null,Ke(k.U),k.g&&(U=k.g,k.g=null,U.abort(),U.ma())}function Ot(k,U){try{var ne=k.j;if(ne.G!=0&&(ne.g==k||Ut(ne.h,k))){if(!k.K&&Ut(ne.h,k)&&ne.G==3){try{var xe=ne.Da.g.parse(U)}catch{xe=null}if(Array.isArray(xe)&&xe.length==3){var He=xe;if(He[0]==0){e:if(!ne.u){if(ne.g)if(ne.g.F+3e3<k.F)Ap(ne),kp(ne);else break e;Mp(ne),kt(18)}}else ne.za=He[1],0<ne.za-ne.T&&37500>He[2]&&ne.F&&ne.v==0&&!ne.C&&(ne.C=Ee(f(ne.Za,ne),6e3));if(1>=dr(ne.h)&&ne.ca){try{ne.ca()}catch{}ne.ca=void 0}}else Ac(ne,11)}else if((k.K||ne.g==k)&&Ap(ne),!_(U))for(He=ne.Da.g.parse(U),U=0;U<He.length;U++){let ir=He[U];if(ne.T=ir[0],ir=ir[1],ne.G==2)if(ir[0]=="c"){ne.K=ir[1],ne.ia=ir[2];const Br=ir[3];Br!=null&&(ne.la=Br,ne.j.info("VER="+ne.la));const yi=ir[4];yi!=null&&(ne.Aa=yi,ne.j.info("SVER="+ne.Aa));const ju=ir[5];ju!=null&&typeof ju=="number"&&0<ju&&(xe=1.5*ju,ne.L=xe,ne.j.info("backChannelRequestTimeoutMs_="+xe)),xe=ne;const ji=k.g;if(ji){const Np=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Np){var tt=xe.h;tt.g||Np.indexOf("spdy")==-1&&Np.indexOf("quic")==-1&&Np.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(wn(tt,tt.h),tt.h=null))}if(xe.D){const Ol=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(xe.ya=Ol,Gt(xe.I,xe.D,Ol))}}ne.G=3,ne.l&&ne.l.ua(),ne.ba&&(ne.R=Date.now()-k.F,ne.j.info("Handshake RTT: "+ne.R+"ms")),xe=ne;var Rt=k;if(xe.qa=$p(xe,xe.J?xe.ia:null,xe.W),Rt.K){zr(xe.h,Rt);var Tr=Rt,Yi=xe.L;Yi&&(Tr.I=Yi),Tr.B&&(rr(Tr),Zt(Tr)),xe.g=Rt}else Qa(xe);0<ne.i.length&&Lu(ne)}else ir[0]!="stop"&&ir[0]!="close"||Ac(ne,7);else ne.G==3&&(ir[0]=="stop"||ir[0]=="close"?ir[0]=="stop"?Ac(ne,7):Rp(ne):ir[0]!="noop"&&ne.l&&ne.l.ta(ir),ne.v=0)}}gt(4)}catch{}}var Ct=class{constructor(k,U){this.g=k,this.map=U}};function Ft(k){this.l=k||10,a.PerformanceNavigationTiming?(k=a.performance.getEntriesByType("navigation"),k=0<k.length&&(k[0].nextHopProtocol=="hq"||k[0].nextHopProtocol=="h2")):k=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=k?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(k){return k.h?!0:k.g?k.g.size>=k.j:!1}function dr(k){return k.h?1:k.g?k.g.size:0}function Ut(k,U){return k.h?k.h==U:k.g?k.g.has(U):!1}function wn(k,U){k.g?k.g.add(U):k.h=U}function zr(k,U){k.h&&k.h==U?k.h=null:k.g&&k.g.has(U)&&k.g.delete(U)}Ft.prototype.cancel=function(){if(this.i=si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const k of this.g.values())k.cancel();this.g.clear()}};function si(k){if(k.h!=null)return k.i.concat(k.h.D);if(k.g!=null&&k.g.size!==0){let U=k.i;for(const ne of k.g.values())U=U.concat(ne.D);return U}return y(k.i)}function Pi(k){if(k.V&&typeof k.V=="function")return k.V();if(typeof Map<"u"&&k instanceof Map||typeof Set<"u"&&k instanceof Set)return Array.from(k.values());if(typeof k=="string")return k.split("");if(l(k)){for(var U=[],ne=k.length,xe=0;xe<ne;xe++)U.push(k[xe]);return U}U=[],ne=0;for(xe in k)U[ne++]=k[xe];return U}function Jr(k){if(k.na&&typeof k.na=="function")return k.na();if(!k.V||typeof k.V!="function"){if(typeof Map<"u"&&k instanceof Map)return Array.from(k.keys());if(!(typeof Set<"u"&&k instanceof Set)){if(l(k)||typeof k=="string"){var U=[];k=k.length;for(var ne=0;ne<k;ne++)U.push(ne);return U}U=[],ne=0;for(const xe in k)U[ne++]=xe;return U}}}function mn(k,U){if(k.forEach&&typeof k.forEach=="function")k.forEach(U,void 0);else if(l(k)||typeof k=="string")Array.prototype.forEach.call(k,U,void 0);else for(var ne=Jr(k),xe=Pi(k),He=xe.length,tt=0;tt<He;tt++)U.call(void 0,xe[tt],ne&&ne[tt],k)}var un=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dt(k,U){if(k){k=k.split("&");for(var ne=0;ne<k.length;ne++){var xe=k[ne].indexOf("="),He=null;if(0<=xe){var tt=k[ne].substring(0,xe);He=k[ne].substring(xe+1)}else tt=k[ne];U(tt,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function It(k){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,k instanceof It){this.h=k.h,Dn(this,k.j),this.o=k.o,this.g=k.g,An(this,k.s),this.l=k.l;var U=k.i,ne=new fr;ne.i=U.i,U.g&&(ne.g=new Map(U.g),ne.h=U.h),Nn(this,ne),this.m=k.m}else k&&(U=String(k).match(un))?(this.h=!1,Dn(this,U[1]||"",!0),this.o=vr(U[2]||""),this.g=vr(U[3]||"",!0),An(this,U[4]),this.l=vr(U[5]||"",!0),Nn(this,U[6]||"",!0),this.m=vr(U[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}It.prototype.toString=function(){var k=[],U=this.j;U&&k.push(yr(U,sn,!0),":");var ne=this.g;return(ne||U=="file")&&(k.push("//"),(U=this.o)&&k.push(yr(U,sn,!0),"@"),k.push(encodeURIComponent(String(ne)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ne=this.s,ne!=null&&k.push(":",String(ne))),(ne=this.l)&&(this.g&&ne.charAt(0)!="/"&&k.push("/"),k.push(yr(ne,ne.charAt(0)=="/"?Kr:fn,!0))),(ne=this.i.toString())&&k.push("?",ne),(ne=this.m)&&k.push("#",yr(ne,Yr)),k.join("")};function hn(k){return new It(k)}function Dn(k,U,ne){k.j=ne?vr(U,!0):U,k.j&&(k.j=k.j.replace(/:$/,""))}function An(k,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);k.s=U}else k.s=null}function Nn(k,U,ne){U instanceof fr?(k.i=U,Po(k.i,k.h)):(ne||(U=yr(U,Ri)),k.i=new fr(U,k.h))}function Gt(k,U,ne){k.i.set(U,ne)}function ar(k){return Gt(k,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),k}function vr(k,U){return k?U?decodeURI(k.replace(/%25/g,"%2525")):decodeURIComponent(k):""}function yr(k,U,ne){return typeof k=="string"?(k=encodeURI(k).replace(U,vi),ne&&(k=k.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k):null}function vi(k){return k=k.charCodeAt(0),"%"+(k>>4&15).toString(16)+(k&15).toString(16)}var sn=/[#\/\?@]/g,fn=/[#\?:]/g,Kr=/[#\?]/g,Ri=/[#\?@]/g,Yr=/#/g;function fr(k,U){this.h=this.g=null,this.i=k||null,this.j=!!U}function Fr(k){k.g||(k.g=new Map,k.h=0,k.i&&Dt(k.i,function(U,ne){k.add(decodeURIComponent(U.replace(/\+/g," ")),ne)}))}t=fr.prototype,t.add=function(k,U){Fr(this),this.i=null,k=_n(this,k);var ne=this.g.get(k);return ne||this.g.set(k,ne=[]),ne.push(U),this.h+=1,this};function Gi(k,U){Fr(k),U=_n(k,U),k.g.has(U)&&(k.i=null,k.h-=k.g.get(U).length,k.g.delete(U))}function Li(k,U){return Fr(k),U=_n(k,U),k.g.has(U)}t.forEach=function(k,U){Fr(this),this.g.forEach(function(ne,xe){ne.forEach(function(He){k.call(U,He,xe,this)},this)},this)},t.na=function(){Fr(this);const k=Array.from(this.g.values()),U=Array.from(this.g.keys()),ne=[];for(let xe=0;xe<U.length;xe++){const He=k[xe];for(let tt=0;tt<He.length;tt++)ne.push(U[xe])}return ne},t.V=function(k){Fr(this);let U=[];if(typeof k=="string")Li(this,k)&&(U=U.concat(this.g.get(_n(this,k))));else{k=Array.from(this.g.values());for(let ne=0;ne<k.length;ne++)U=U.concat(k[ne])}return U},t.set=function(k,U){return Fr(this),this.i=null,k=_n(this,k),Li(this,k)&&(this.h-=this.g.get(k).length),this.g.set(k,[U]),this.h+=1,this},t.get=function(k,U){return k?(k=this.V(k),0<k.length?String(k[0]):U):U};function ts(k,U,ne){Gi(k,U),0<ne.length&&(k.i=null,k.g.set(_n(k,U),y(ne)),k.h+=ne.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const k=[],U=Array.from(this.g.keys());for(var ne=0;ne<U.length;ne++){var xe=U[ne];const tt=encodeURIComponent(String(xe)),Rt=this.V(xe);for(xe=0;xe<Rt.length;xe++){var He=tt;Rt[xe]!==""&&(He+="="+encodeURIComponent(String(Rt[xe]))),k.push(He)}}return this.i=k.join("&")};function _n(k,U){return U=String(U),k.j&&(U=U.toLowerCase()),U}function Po(k,U){U&&!k.j&&(Fr(k),k.i=null,k.g.forEach(function(ne,xe){var He=xe.toLowerCase();xe!=He&&(Gi(this,xe),ts(this,He,ne))},k)),k.j=U}function hr(k,U){const ne=new Pe;if(a.Image){const xe=new Image;xe.onload=p(an,ne,"TestLoadImage: loaded",!0,U,xe),xe.onerror=p(an,ne,"TestLoadImage: error",!1,U,xe),xe.onabort=p(an,ne,"TestLoadImage: abort",!1,U,xe),xe.ontimeout=p(an,ne,"TestLoadImage: timeout",!1,U,xe),a.setTimeout(function(){xe.ontimeout&&xe.ontimeout()},1e4),xe.src=k}else U(!1)}function Kt(k,U){const ne=new Pe,xe=new AbortController,He=setTimeout(()=>{xe.abort(),an(ne,"TestPingServer: timeout",!1,U)},1e4);fetch(k,{signal:xe.signal}).then(tt=>{clearTimeout(He),tt.ok?an(ne,"TestPingServer: ok",!0,U):an(ne,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(He),an(ne,"TestPingServer: error",!1,U)})}function an(k,U,ne,xe,He){try{He&&(He.onload=null,He.onerror=null,He.onabort=null,He.ontimeout=null),xe(ne)}catch{}}function Cr(){this.g=new rt}function qr(k,U,ne){const xe=ne||"";try{mn(k,function(He,tt){let Rt=He;c(He)&&(Rt=Ae(He)),U.push(xe+tt+"="+encodeURIComponent(Rt))})}catch(He){throw U.push(xe+"type="+encodeURIComponent("_badmap")),He}}function Vn(k){this.l=k.Ub||null,this.j=k.eb||!1}v(Vn,mt),Vn.prototype.g=function(){return new Vs(this.l,this.j)},Vn.prototype.i=function(k){return function(){return k}}({});function Vs(k,U){je.call(this),this.D=k,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Vs,je),t=Vs.prototype,t.open=function(k,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=k,this.A=U,this.readyState=1,vo(this)},t.send=function(k){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};k&&(U.body=k),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},t.Sa=function(k){if(this.g&&(this.l=k,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=k.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")k.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in k){if(this.j=k.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pa(this)}else k.text().then(this.Ra.bind(this),this.ga.bind(this))};function pa(k){k.j.read().then(k.Pa.bind(k)).catch(k.ga.bind(k))}t.Pa=function(k){if(this.g){if(this.o&&k.value)this.response.push(k.value);else if(!this.o){var U=k.value?k.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!k.done}))&&(this.response=this.responseText+=U)}k.done?Xr(this):vo(this),this.readyState==3&&pa(this)}},t.Ra=function(k){this.g&&(this.response=this.responseText=k,Xr(this))},t.Qa=function(k){this.g&&(this.response=k,Xr(this))},t.ga=function(){this.g&&Xr(this)};function Xr(k){k.readyState=4,k.l=null,k.j=null,k.v=null,vo(k)}t.setRequestHeader=function(k,U){this.u.append(k,U)},t.getResponseHeader=function(k){return this.h&&this.h.get(k.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const k=[],U=this.h.entries();for(var ne=U.next();!ne.done;)ne=ne.value,k.push(ne[0]+": "+ne[1]),ne=U.next();return k.join(`\r
`)};function vo(k){k.onreadystatechange&&k.onreadystatechange.call(k)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(k){this.m=k?"include":"same-origin"}});function Kv(k){let U="";return I(k,function(ne,xe){U+=xe,U+=":",U+=ne,U+=`\r
`}),U}function Tp(k,U,ne){e:{for(xe in ne){var xe=!1;break e}xe=!0}xe||(ne=Kv(ne),typeof k=="string"?ne!=null&&encodeURIComponent(String(ne)):Gt(k,U,ne))}function ai(k){je.call(this),this.headers=new Map,this.o=k||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ai,je);var B_=/^https?$/i,qv=["POST","PUT"];t=ai.prototype,t.Ha=function(k){this.J=k},t.ea=function(k,U,ne,xe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+k);U=U?U.toUpperCase():"GET",this.D=k,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():st.g(),this.v=this.o?ot(this.o):ot(st),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(U,String(k),!0),this.B=!1}catch(tt){V_(this,tt);return}if(k=ne||"",ne=new Map(this.headers),xe)if(Object.getPrototypeOf(xe)===Object.prototype)for(var He in xe)ne.set(He,xe[He]);else if(typeof xe.keys=="function"&&typeof xe.get=="function")for(const tt of xe.keys())ne.set(tt,xe.get(tt));else throw Error("Unknown input type for opt_headers: "+String(xe));xe=Array.from(ne.keys()).find(tt=>tt.toLowerCase()=="content-type"),He=a.FormData&&k instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qv,U,void 0))||xe||He||ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,Rt]of ne)this.g.setRequestHeader(tt,Rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(k),this.u=!1}catch(tt){V_(this,tt)}};function V_(k,U){k.h=!1,k.g&&(k.j=!0,k.g.abort(),k.j=!1),k.l=U,k.m=5,Gv(k),Pp(k)}function Gv(k){k.A||(k.A=!0,de(k,"complete"),de(k,"error"))}t.abort=function(k){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=k||7,de(this,"complete"),de(this,"abort"),Pp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pp(this,!0)),ai.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hn(this):this.bb())},t.bb=function(){Hn(this)};function Hn(k){if(k.h&&typeof s<"u"&&(!k.v[1]||ns(k)!=4||k.Z()!=2)){if(k.u&&ns(k)==4)Re(k.Ea,0,k);else if(de(k,"readystatechange"),ns(k)==4){k.h=!1;try{const Rt=k.Z();e:switch(Rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var ne;if(!(ne=U)){var xe;if(xe=Rt===0){var He=String(k.D).match(un)[1]||null;!He&&a.self&&a.self.location&&(He=a.self.location.protocol.slice(0,-1)),xe=!B_.test(He?He.toLowerCase():"")}ne=xe}if(ne)de(k,"complete"),de(k,"success");else{k.m=6;try{var tt=2<ns(k)?k.g.statusText:""}catch{tt=""}k.l=tt+" ["+k.Z()+"]",Gv(k)}}finally{Pp(k)}}}}function Pp(k,U){if(k.g){_s(k);const ne=k.g,xe=k.v[0]?()=>{}:null;k.g=null,k.v=null,U||de(k,"ready");try{ne.onreadystatechange=xe}catch{}}}function _s(k){k.I&&(a.clearTimeout(k.I),k.I=null)}t.isActive=function(){return!!this.g};function ns(k){return k.g?k.g.readyState:0}t.Z=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(k){if(this.g){var U=this.g.responseText;return k&&U.indexOf(k)==0&&(U=U.substring(k.length)),Ue(U)}};function Yv(k){try{if(!k.g)return null;if("response"in k.g)return k.g.response;switch(k.H){case"":case"text":return k.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in k.g)return k.g.mozResponseArrayBuffer}return null}catch{return null}}function P2(k){const U={};k=(k.g&&2<=ns(k)&&k.g.getAllResponseHeaders()||"").split(`\r
`);for(let xe=0;xe<k.length;xe++){if(_(k[xe]))continue;var ne=N(k[xe]);const He=ne[0];if(ne=ne[1],typeof ne!="string")continue;ne=ne.trim();const tt=U[He]||[];U[He]=tt,tt.push(ne)}S(U,function(xe){return xe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dc(k,U,ne){return ne&&ne.internalChannelParams&&ne.internalChannelParams[k]||U}function H_(k){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dc("failFast",!1,k),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dc("baseRetryDelayMs",5e3,k),this.cb=Dc("retryDelaySeedMs",1e4,k),this.Wa=Dc("forwardChannelMaxRetries",2,k),this.wa=Dc("forwardChannelRequestTimeoutMs",2e4,k),this.pa=k&&k.xmlHttpFactory||void 0,this.Xa=k&&k.Tb||void 0,this.Ca=k&&k.useFetchStreams||!1,this.L=void 0,this.J=k&&k.supportsCrossDomainXhr||!1,this.K="",this.h=new Ft(k&&k.concurrentRequestLimit),this.Da=new Cr,this.P=k&&k.fastHandshake||!1,this.O=k&&k.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=k&&k.Rb||!1,k&&k.xa&&this.j.xa(),k&&k.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&k&&k.detectBufferingProxy||!1,this.ja=void 0,k&&k.longPollingTimeout&&0<k.longPollingTimeout&&(this.ja=k.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=H_.prototype,t.la=8,t.G=1,t.connect=function(k,U,ne,xe){kt(0),this.W=k,this.H=U||{},ne&&xe!==void 0&&(this.H.OSID=ne,this.H.OAID=xe),this.F=this.X,this.I=$p(this,null,this.W),Lu(this)};function Rp(k){if(W_(k),k.G==3){var U=k.U++,ne=hn(k.I);if(Gt(ne,"SID",k.K),Gt(ne,"RID",U),Gt(ne,"TYPE","terminate"),Cf(k,ne),U=new Tt(k,k.j,U),U.L=2,U.v=ar(hn(ne)),ne=!1,a.navigator&&a.navigator.sendBeacon)try{ne=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!ne&&a.Image&&(new Image().src=U.v,ne=!0),ne||(U.g=K_(U.j,null),U.g.ea(U.v)),U.F=Date.now(),Zt(U)}U_(k)}function kp(k){k.g&&(Op(k),k.g.cancel(),k.g=null)}function W_(k){kp(k),k.u&&(a.clearTimeout(k.u),k.u=null),Ap(k),k.h.cancel(),k.s&&(typeof k.s=="number"&&a.clearTimeout(k.s),k.s=null)}function Lu(k){if(!jn(k.h)&&!k.s){k.s=!0;var U=k.Ga;j||q(),B||(j(),B=!0),W.add(U,k),k.B=0}}function R2(k,U){return dr(k.h)>=k.h.j-(k.s?1:0)?!1:k.s?(k.i=U.D.concat(k.i),!0):k.G==1||k.G==2||k.B>=(k.Va?0:k.Wa)?!1:(k.s=Ee(f(k.Ga,k,U),Qv(k,k.B)),k.B++,!0)}t.Ga=function(k){if(this.s)if(this.s=null,this.G==1){if(!k){this.U=Math.floor(1e5*Math.random()),k=this.U++;const He=new Tt(this,this.j,k);let tt=this.o;if(this.S&&(tt?(tt=P(tt),O(tt,this.S)):tt=this.S),this.m!==null||this.O||(He.H=tt,tt=null),this.P)e:{for(var U=0,ne=0;ne<this.i.length;ne++){t:{var xe=this.i[ne];if("__data__"in xe.map&&(xe=xe.map.__data__,typeof xe=="string")){xe=xe.length;break t}xe=void 0}if(xe===void 0)break;if(U+=xe,4096<U){U=ne;break e}if(U===4096||ne===this.i.length-1){U=ne+1;break e}}U=1e3}else U=1e3;U=Xv(this,He,U),ne=hn(this.I),Gt(ne,"RID",k),Gt(ne,"CVER",22),this.D&&Gt(ne,"X-HTTP-Session-Id",this.D),Cf(this,ne),tt&&(this.O?U="headers="+encodeURIComponent(String(Kv(tt)))+"&"+U:this.m&&Tp(ne,this.m,tt)),wn(this.h,He),this.Ua&&Gt(ne,"TYPE","init"),this.P?(Gt(ne,"$req",U),Gt(ne,"SID","null"),He.T=!0,Vt(He,ne,null)):Vt(He,ne,U),this.G=2}}else this.G==3&&(k?Hs(this,k):this.i.length==0||jn(this.h)||Hs(this))};function Hs(k,U){var ne;U?ne=U.l:ne=k.U++;const xe=hn(k.I);Gt(xe,"SID",k.K),Gt(xe,"RID",ne),Gt(xe,"AID",k.T),Cf(k,xe),k.m&&k.o&&Tp(xe,k.m,k.o),ne=new Tt(k,k.j,ne,k.B+1),k.m===null&&(ne.H=k.o),U&&(k.i=U.D.concat(k.i)),U=Xv(k,ne,1e3),ne.I=Math.round(.5*k.wa)+Math.round(.5*k.wa*Math.random()),wn(k.h,ne),Vt(ne,xe,U)}function Cf(k,U){k.H&&I(k.H,function(ne,xe){Gt(U,xe,ne)}),k.l&&mn({},function(ne,xe){Gt(U,xe,ne)})}function Xv(k,U,ne){ne=Math.min(k.i.length,ne);var xe=k.l?f(k.l.Na,k.l,k):null;e:{var He=k.i;let tt=-1;for(;;){const Rt=["count="+ne];tt==-1?0<ne?(tt=He[0].g,Rt.push("ofs="+tt)):tt=0:Rt.push("ofs="+tt);let Tr=!0;for(let Yi=0;Yi<ne;Yi++){let ir=He[Yi].g;const Br=He[Yi].map;if(ir-=tt,0>ir)tt=Math.max(0,He[Yi].g-100),Tr=!1;else try{qr(Br,Rt,"req"+ir+"_")}catch{xe&&xe(Br)}}if(Tr){xe=Rt.join("&");break e}}}return k=k.i.splice(0,ne),U.D=k,xe}function Qa(k){if(!k.g&&!k.u){k.Y=1;var U=k.Fa;j||q(),B||(j(),B=!0),W.add(U,k),k.v=0}}function Mp(k){return k.g||k.u||3<=k.v?!1:(k.Y++,k.u=Ee(f(k.Fa,k),Qv(k,k.v)),k.v++,!0)}t.Fa=function(){if(this.u=null,Dp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var k=2*this.R;this.j.info("BP detection timer enabled: "+k),this.A=Ee(f(this.ab,this),k)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),kp(this),Dp(this))};function Op(k){k.A!=null&&(a.clearTimeout(k.A),k.A=null)}function Dp(k){k.g=new Tt(k,k.j,"rpc",k.Y),k.m===null&&(k.g.H=k.o),k.g.O=0;var U=hn(k.qa);Gt(U,"RID","rpc"),Gt(U,"SID",k.K),Gt(U,"AID",k.T),Gt(U,"CI",k.F?"0":"1"),!k.F&&k.ja&&Gt(U,"TO",k.ja),Gt(U,"TYPE","xmlhttp"),Cf(k,U),k.m&&k.o&&Tp(U,k.m,k.o),k.L&&(k.g.I=k.L);var ne=k.g;k=k.ia,ne.L=1,ne.v=ar(hn(U)),ne.m=null,ne.P=!0,ht(ne,k)}t.Za=function(){this.C!=null&&(this.C=null,kp(this),Mp(this),kt(19))};function Ap(k){k.C!=null&&(a.clearTimeout(k.C),k.C=null)}function Zv(k,U){var ne=null;if(k.g==U){Ap(k),Op(k),k.g=null;var xe=2}else if(Ut(k.h,U))ne=U.D,zr(k.h,U),xe=1;else return;if(k.G!=0){if(U.o)if(xe==1){ne=U.m?U.m.length:0,U=Date.now()-U.F;var He=k.B;xe=qt(),de(xe,new Ie(xe,ne)),Lu(k)}else Qa(k);else if(He=U.s,He==3||He==0&&0<U.X||!(xe==1&&R2(k,U)||xe==2&&Mp(k)))switch(ne&&0<ne.length&&(U=k.h,U.i=U.i.concat(ne)),He){case 1:Ac(k,5);break;case 4:Ac(k,10);break;case 3:Ac(k,6);break;default:Ac(k,2)}}}function Qv(k,U){let ne=k.Ta+Math.floor(Math.random()*k.cb);return k.isActive()||(ne*=2),ne*U}function Ac(k,U){if(k.j.info("Error code "+U),U==2){var ne=f(k.fb,k),xe=k.Xa;const He=!xe;xe=new It(xe||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dn(xe,"https"),ar(xe),He?hr(xe.toString(),ne):Kt(xe.toString(),ne)}else kt(2);k.G=0,k.l&&k.l.sa(U),U_(k),W_(k)}t.fb=function(k){k?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function U_(k){if(k.G=0,k.ka=[],k.l){const U=si(k.h);(U.length!=0||k.i.length!=0)&&(b(k.ka,U),b(k.ka,k.i),k.h.i.length=0,y(k.i),k.i.length=0),k.l.ra()}}function $p(k,U,ne){var xe=ne instanceof It?hn(ne):new It(ne);if(xe.g!="")U&&(xe.g=U+"."+xe.g),An(xe,xe.s);else{var He=a.location;xe=He.protocol,U=U?U+"."+He.hostname:He.hostname,He=+He.port;var tt=new It(null);xe&&Dn(tt,xe),U&&(tt.g=U),He&&An(tt,He),ne&&(tt.l=ne),xe=tt}return ne=k.D,U=k.ya,ne&&U&&Gt(xe,ne,U),Gt(xe,"VER",k.la),Cf(k,xe),xe}function K_(k,U,ne){if(U&&!k.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=k.Ca&&!k.pa?new ai(new Vn({eb:ne})):new ai(k.pa),U.Ha(k.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jv(){}t=Jv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sf(){}Sf.prototype.g=function(k,U){return new yo(k,U)};function yo(k,U){je.call(this),this.g=new H_(U),this.l=k,this.h=U&&U.messageUrlParams||null,k=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(k?k["X-Client-Protocol"]="webchannel":k={"X-Client-Protocol":"webchannel"}),this.g.o=k,k=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(k?k["X-WebChannel-Content-Type"]=U.messageContentType:k={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(k?k["X-WebChannel-Client-Profile"]=U.va:k={"X-WebChannel-Client-Profile":U.va}),this.g.S=k,(k=U&&U.Sb)&&!_(k)&&(this.g.m=k),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!_(U)&&(this.g.D=U,k=this.h,k!==null&&U in k&&(k=this.h,U in k&&delete k[U])),this.j=new ma(this)}v(yo,je),yo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yo.prototype.close=function(){Rp(this.g)},yo.prototype.o=function(k){var U=this.g;if(typeof k=="string"){var ne={};ne.__data__=k,k=ne}else this.u&&(ne={},ne.__data__=Ae(k),k=ne);U.i.push(new Ct(U.Ya++,k)),U.G==3&&Lu(U)},yo.prototype.N=function(){this.g.l=null,delete this.j,Rp(this.g),delete this.g,yo.aa.N.call(this)};function Ml(k){Lt.call(this),k.__headers__&&(this.headers=k.__headers__,this.statusCode=k.__status__,delete k.__headers__,delete k.__status__);var U=k.__sm__;if(U){e:{for(const ne in U){k=ne;break e}k=void 0}(this.i=k)&&(k=this.i,U=U!==null&&k in U?U[k]:void 0),this.data=U}else this.data=k}v(Ml,Lt);function q_(){en.call(this),this.status=1}v(q_,en);function ma(k){this.g=k}v(ma,Jv),ma.prototype.ua=function(){de(this.g,"a")},ma.prototype.ta=function(k){de(this.g,new Ml(k))},ma.prototype.sa=function(k){de(this.g,new q_)},ma.prototype.ra=function(){de(this.g,"b")},Sf.prototype.createWebChannel=Sf.prototype.g,yo.prototype.send=yo.prototype.o,yo.prototype.open=yo.prototype.m,yo.prototype.close=yo.prototype.close,w7=function(){return new Sf},_7=function(){return qt()},x7=on,aM={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,HC=Xe,et.COMPLETE="complete",b7=et,Bt.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",je.prototype.listen=je.prototype.K,a0=Bt,ai.prototype.listenOnce=ai.prototype.L,ai.prototype.getLastError=ai.prototype.Ka,ai.prototype.getLastErrorCode=ai.prototype.Ba,ai.prototype.getStatus=ai.prototype.Z,ai.prototype.getResponseJson=ai.prototype.Oa,ai.prototype.getResponseText=ai.prototype.oa,ai.prototype.send=ai.prototype.ea,ai.prototype.setWithCredentials=ai.prototype.Ha,y7=ai}).apply(typeof Cw<"u"?Cw:typeof self<"u"?self:typeof window<"u"?window:{});const jz="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new FA("@firebase/firestore");function bm(){return Yd.logLevel}function ece(t){Yd.setLogLevel(t)}function _t(t,...e){if(Yd.logLevel<=Un.DEBUG){const n=e.map(VA);Yd.debug(`Firestore (${bv}): ${t}`,...n)}}function as(t,...e){if(Yd.logLevel<=Un.ERROR){const n=e.map(VA);Yd.error(`Firestore (${bv}): ${t}`,...n)}}function Nh(t,...e){if(Yd.logLevel<=Un.WARN){const n=e.map(VA);Yd.warn(`Firestore (${bv}): ${t}`,...n)}}function VA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t="Unexpected state"){const e=`FIRESTORE (${bv}) INTERNAL ASSERTION FAILED: `+t;throw as(e),new Error(e)}function pn(t,e){t||ln()}function kn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends Tc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ko.UNAUTHENTICATED))}shutdown(){}}class nce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rce{constructor(e){this.t=e,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new oc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oc)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pn(typeof r.accessToken=="string"),new C7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pn(e===null||typeof e=="string"),new ko(e)}}class ice{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oce{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ice(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sce{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ace{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){pn(this.o===void 0);const r=o=>{o.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,_t("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pn(typeof n.token=="string"),this.R=n.token,new sce(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lce(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function On(t,e){return t<e?-1:t>e?1:0}function Pg(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function E7(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Et(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Et(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new qn(0,0))}static max(){return new Cn(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,r){n===void 0?n=0:n>e.length&&ln(),r===void 0?r=e.length-n:r>e.length-n&&ln(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kb.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kb?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _r extends kb{construct(e,n,r){return new _r(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Et(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _r(n)}static emptyPath(){return new _r([])}}const cce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends kb{construct(e,n,r){return new xi(e,n,r)}static isValidIdentifier(e){return cce.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Et(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Et(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Et(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Et(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(n)}static emptyPath(){return new xi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.path=e}static fromPath(e){return new $t(_r.fromString(e))}static fromName(e){return new $t(_r.fromString(e).popFirst(5))}static empty(){return new $t(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_r.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _r.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new _r(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function lM(t){return t.fields.find(e=>e.kind===2)}function $f(t){return t.fields.filter(e=>e.kind!==2)}d1.UNKNOWN_ID=-1;class WC{constructor(e,n){this.fieldPath=e,this.kind=n}}class Mb{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Mb(0,la.min())}}function uce(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Cn.fromTimestamp(r===1e9?new qn(n+1,0):new qn(n,r));return new la(i,$t.empty(),e)}function I7(t){return new la(t.readTime,t.key,-1)}class la{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new la(Cn.min(),$t.empty(),-1)}static max(){return new la(Cn.max(),$t.empty(),-1)}}function HA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$t.comparator(t.documentKey,e.documentKey),n!==0?n:On(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){if(t.code!==nt.FAILED_PRECONDITION||t.message!==T7)throw t;_t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new qe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof qe?n:qe.resolve(n)}catch(n){return qe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.reject(n)}static resolve(e){return new qe((n,r)=>{n(e)})}static reject(e){return new qe((n,r)=>{r(e)})}static waitFor(e){return new qe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=qe.resolve(!1);for(const r of e)n=n.next(i=>i?qe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new qe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new qe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new oc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new N0(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=WA(r.target.error);this.V.reject(new N0(e,i))}}static open(e,n,r,i){try{return new tI(n,e.transaction(i,r))}catch(o){throw new N0(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(_t("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new fce(n)}}class jd{constructor(e,n,r){this.name=e,this.version=n,this.p=r,jd.S(ho())===12.2&&as("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _t("SimpleDb","Removing database:",e),Wf(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!d7())return!1;if(jd.v())return!0;const e=ho(),n=jd.S(e),r=0<n&&n<10,i=R7(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(_t("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new N0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new Et(nt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new Et(nt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new N0(e,s))},i.onupgradeneeded=o=>{_t("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{_t("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=tI.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),qe.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&s<3;if(_t("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function R7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class dce{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Wf(this.B.delete())}}class N0 extends Et{constructor(e,n){super(nt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function gf(t){return t.name==="IndexedDbTransactionError"}class fce{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(_t("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(_t("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wf(r)}add(e){return _t("SimpleDb","ADD",this.store.name,e,e),Wf(this.store.add(e))}get(e){return Wf(this.store.get(e)).next(n=>(n===void 0&&(n=null),_t("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return _t("SimpleDb","DELETE",this.store.name,e),Wf(this.store.delete(e))}count(){return _t("SimpleDb","COUNT",this.store.name),Wf(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new qe((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new qe((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){_t("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new qe((r,i)=>{n.onerror=o=>{const s=WA(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new qe((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new dce(a),c=n(a.primaryKey,a.value,l);if(c instanceof qe){const u=c.catch(d=>(l.done(),qe.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>qe.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Wf(t){return new qe((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=WA(r.target.error);n(i)}})}let zz=!1;function WA(t){const e=jd.S(ho());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zz||(zz=!0,setTimeout(()=>{throw r},0)),r}}return t}class hce{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){_t("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{_t("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){gf(n)?_t("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await cp(n)}await this.X(6e4)})}}class pce{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return qe.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return _t("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(_t("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=I7(o);HA(s,r)>0&&(r=s)}),new la(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Oa.oe=-1;function nI(t){return t==null}function Ob(t){return t===0&&1/t==-1/0}function mce(t){return typeof t=="number"&&Number.isInteger(t)&&!Ob(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fz(e)),e=gce(t.get(n),e);return Fz(e)}function gce(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Fz(t){return t+""}function Ql(t){const e=t.length;if(pn(e>=2),e===2)return pn(t.charAt(0)===""&&t.charAt(1)===""),_r.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&ln(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ln()}o=s+2}return new _r(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){return[t,ds(e)]}function k7(t,e,n){return[t,ds(e),n]}const vce={},yce=["prefixPath","collectionGroup","readTime","documentId"],bce=["prefixPath","collectionGroup","documentId"],xce=["collectionGroup","readTime","prefixPath","documentId"],_ce=["canonicalId","targetId"],wce=["targetId","path"],Cce=["path","targetId"],Sce=["collectionId","parent"],Ece=["indexId","uid"],Ice=["uid","sequenceNumber"],Tce=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pce=["indexId","uid","orderedDocumentKey"],Rce=["userId","collectionPath","documentId"],kce=["userId","collectionPath","largestBatchId"],Mce=["userId","collectionGroup","largestBatchId"],M7=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Oce=[...M7,"documentOverlays"],O7=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],D7=O7,UA=[...D7,"indexConfiguration","indexState","indexEntries"],Dce=UA,Ace=[...UA,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM extends P7{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function mo(t,e){const n=kn(t);return jd.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function up(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.comparator=e,this.root=n||Mo.EMPTY}insert(e,n){return new mi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mo.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sw(this.root,e,this.comparator,!0)}}class Sw{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mo{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Mo.RED,this.left=i??Mo.EMPTY,this.right=o??Mo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Mo(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}Mo.EMPTY=null,Mo.RED=!0,Mo.BLACK=!1;Mo.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hz(this.data.getIterator())}getIteratorFrom(e){return new Hz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wr(this.comparator);return n.data=e,n}}class Hz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hp(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.fields=e,e.sort(xi.comparator)}static empty(){return new Os([])}unionWith(e){let n=new Wr(xi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Os(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pg(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $7("Invalid base64 string: "+o):o}}(e);return new ao(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ao(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ao.EMPTY_BYTE_STRING=new ao("");const $ce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cu(t){if(pn(!!t),typeof t=="string"){let e=0;const n=$ce.exec(t);if(pn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ui(t.seconds),nanos:ui(t.nanos)}}function ui(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xd(t){return typeof t=="string"?ao.fromBase64String(t):ao.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function KA(t){const e=t.mapValue.fields.__previous_value__;return rI(e)?KA(e):e}function Db(t){const e=Cu(t.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Lh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},KC={nullValue:"NULL_VALUE"};function jh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rI(t)?4:N7(t)?9007199254740991:iI(t)?10:11:ln()}function vc(t,e){if(t===e)return!0;const n=jh(t);if(n!==jh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Db(t).isEqual(Db(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Cu(i.timestampValue),a=Cu(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Xd(i.bytesValue).isEqual(Xd(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ui(i.geoPointValue.latitude)===ui(o.geoPointValue.latitude)&&ui(i.geoPointValue.longitude)===ui(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ui(i.integerValue)===ui(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ui(i.doubleValue),a=ui(o.doubleValue);return s===a?Ob(s)===Ob(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Pg(t.arrayValue.values||[],e.arrayValue.values||[],vc);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Vz(s)!==Vz(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!vc(s[l],a[l])))return!1;return!0}(t,e);default:return ln()}}function Ab(t,e){return(t.values||[]).find(n=>vc(n,e))!==void 0}function Zd(t,e){if(t===e)return 0;const n=jh(t),r=jh(e);if(n!==r)return On(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return On(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=ui(o.integerValue||o.doubleValue),l=ui(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Wz(t.timestampValue,e.timestampValue);case 4:return Wz(Db(t),Db(e));case 5:return On(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Xd(o),l=Xd(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=On(a[c],l[c]);if(u!==0)return u}return On(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=On(ui(o.latitude),ui(s.latitude));return a!==0?a:On(ui(o.longitude),ui(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Uz(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const d=o.fields||{},f=s.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=On(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:Uz(p,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===yd.mapValue&&s===yd.mapValue)return 0;if(o===yd.mapValue)return 1;if(s===yd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=On(l[d],u[d]);if(f!==0)return f;const p=Zd(a[l[d]],c[u[d]]);if(p!==0)return p}return On(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ln()}}function Wz(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return On(t,e);const n=Cu(t),r=Cu(e),i=On(n.seconds,r.seconds);return i!==0?i:On(n.nanos,r.nanos)}function Uz(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Zd(n[i],r[i]);if(o)return o}return On(n.length,r.length)}function Rg(t){return uM(t)}function uM(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $t.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=uM(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${uM(n.fields[s])}`;return i+"}"}(t.mapValue):ln()}function zh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dM(t){return!!t&&"integerValue"in t}function $b(t){return!!t&&"arrayValue"in t}function Kz(t){return!!t&&"nullValue"in t}function qz(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qC(t){return!!t&&"mapValue"in t}function iI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function L0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return up(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=L0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=L0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function N7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const L7={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Lce(t){return"nullValue"in t?KC:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zh(Lh.empty(),$t.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?iI(t)?L7:{mapValue:{}}:ln()}function jce(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zh(Lh.empty(),$t.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?L7:"mapValue"in t?iI(t)?{mapValue:{}}:yd:ln()}function Gz(t,e){const n=Zd(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Yz(t,e){const n=Zd(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.value=e}static empty(){return new Xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qC(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=L0(n)}setAll(e){let n=xi.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=L0(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());qC(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){up(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Xo(L0(this.value))}}function j7(t){const e=[];return up(t.fields,(n,r)=>{const i=new xi([n]);if(qC(r)){const o=j7(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Os(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Di(e,0,Cn.min(),Cn.min(),Cn.min(),Xo.empty(),0)}static newFoundDocument(e,n,r,i){return new Di(e,1,n,Cn.min(),r,i,0)}static newNoDocument(e,n){return new Di(e,2,n,Cn.min(),Cn.min(),Xo.empty(),0)}static newUnknownDocument(e,n){return new Di(e,3,n,Cn.min(),Cn.min(),Xo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Cn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.position=e,this.inclusive=n}}function Xz(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=$t.comparator($t.fromName(s.referenceValue),n.key):r=Zd(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zz(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vc(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n="asc"){this.field=e,this.dir=n}}function zce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{}class Gn extends z7{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fce(e,n,r):n==="array-contains"?new Hce(e,r):n==="in"?new U7(e,r):n==="not-in"?new Wce(e,r):n==="array-contains-any"?new Uce(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Bce(e,r):new Vce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zd(n,this.value)):n!==null&&jh(this.value)===jh(n)&&this.matchesComparison(Zd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ln()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends z7{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dr(e,n)}matches(e){return kg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kg(t){return t.op==="and"}function fM(t){return t.op==="or"}function qA(t){return F7(t)&&kg(t)}function F7(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function hM(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+Rg(t.value);if(qA(t))return t.filters.map(e=>hM(e)).join(",");{const e=t.filters.map(n=>hM(n)).join(",");return`${t.op}(${e})`}}function B7(t,e){return t instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&vc(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&B7(s,i.filters[a]),!0):!1}(t,e):void ln()}function V7(t,e){const n=t.filters.concat(e);return Dr.create(n,t.op)}function H7(t){return t instanceof Gn?function(n){return`${n.field.canonicalString()} ${n.op} ${Rg(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(H7).join(" ,")+"}"}(t):"Filter"}class Fce extends Gn{constructor(e,n,r){super(e,n,r),this.key=$t.fromName(r.referenceValue)}matches(e){const n=$t.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bce extends Gn{constructor(e,n){super(e,"in",n),this.keys=W7("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vce extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=W7("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function W7(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$t.fromName(r.referenceValue))}class Hce extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $b(n)&&Ab(n.arrayValue,this.value)}}class U7 extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ab(this.value.arrayValue,n)}}class Wce extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ab(this.value.arrayValue,n)}}class Uce extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$b(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ab(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function pM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Kce(t,e,n,r,i,o,s)}function Fh(t){const e=kn(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hM(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),nI(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rg(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rg(r)).join(",")),e.ue=n}return e.ue}function jx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B7(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zz(t.startAt,e.startAt)&&Zz(t.endAt,e.endAt)}function f1(t){return $t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function h1(t,e){return t.filters.filter(n=>n instanceof Gn&&n.field.isEqual(e))}function Qz(t,e,n){let r=KC,i=!0;for(const o of h1(t,e)){let s=KC,a=!0;switch(o.op){case"<":case"<=":s=Lce(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=KC}Gz({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Gz({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function Jz(t,e,n){let r=yd,i=!0;for(const o of h1(t,e)){let s=yd,a=!0;switch(o.op){case">=":case">":s=jce(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=yd}Yz({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Yz({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qce(t,e,n,r,i,o,s,a){return new dp(t,e,n,r,i,o,s,a)}function oI(t){return new dp(t)}function eF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GA(t){return t.collectionGroup!==null}function rg(t){const e=kn(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Wr(xi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Nb(o,r))}),n.has(xi.keyField().canonicalString())||e.ce.push(new Nb(xi.keyField(),r))}return e.ce}function $a(t){const e=kn(t);return e.le||(e.le=Gce(e,rg(t))),e.le}function Gce(t,e){if(t.limitType==="F")return pM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Nb(i.field,o)});const n=t.endAt?new Qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qd(t.startAt.position,t.startAt.inclusive):null;return pM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mM(t,e){const n=t.filters.concat([e]);return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function p1(t,e,n){return new dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sI(t,e){return jx($a(t),$a(e))&&t.limitType===e.limitType}function K7(t){return`${Fh($a(t))}|lt:${t.limitType}`}function xm(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>H7(i)).join(", ")}]`),nI(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rg(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rg(i)).join(",")),`Target(${r})`}($a(t))}; limitType=${t.limitType})`}function zx(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$t.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of rg(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=Xz(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,rg(r),i)||r.endAt&&!function(s,a,l){const c=Xz(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,rg(r),i))}(t,e)}function Yce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function q7(t){return(e,n)=>{let r=!1;for(const i of rg(t)){const o=Xce(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Xce(t,e,n){const r=t.field.isKeyField()?$t.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?Zd(l,c):ln()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ln()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){up(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return A7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zce=new mi($t.comparator);function Zs(){return Zce}const G7=new mi($t.comparator);function l0(...t){let e=G7;for(const n of t)e=e.insert(n.key,n);return e}function Y7(t){let e=G7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jl(){return j0()}function X7(){return j0()}function j0(){return new vf(t=>t.toString(),(t,e)=>t.isEqual(e))}const Qce=new mi($t.comparator),Jce=new Wr($t.comparator);function Ln(...t){let e=Jce;for(const n of t)e=e.add(n);return e}const eue=new Wr(On);function tue(){return eue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ob(e)?"-0":e}}function Z7(t){return{integerValue:""+t}}function nue(t,e){return mce(e)?Z7(e):YA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this._=void 0}}function rue(t,e,n){return t instanceof Lb?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rI(o)&&(o=KA(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Mg?J7(t,e):t instanceof Og?eK(t,e):function(i,o){const s=Q7(i,o),a=tF(s)+tF(i.Pe);return dM(s)&&dM(i.Pe)?Z7(a):YA(i.serializer,a)}(t,e)}function iue(t,e,n){return t instanceof Mg?J7(t,e):t instanceof Og?eK(t,e):n}function Q7(t,e){return t instanceof jb?function(r){return dM(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Lb extends aI{}class Mg extends aI{constructor(e){super(),this.elements=e}}function J7(t,e){const n=tK(e);for(const r of t.elements)n.some(i=>vc(i,r))||n.push(r);return{arrayValue:{values:n}}}class Og extends aI{constructor(e){super(),this.elements=e}}function eK(t,e){let n=tK(e);for(const r of t.elements)n=n.filter(i=>!vc(i,r));return{arrayValue:{values:n}}}class jb extends aI{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function tF(t){return ui(t.integerValue||t.doubleValue)}function tK(t){return $b(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(e,n){this.field=e,this.transform=n}}function sue(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mg&&i instanceof Mg||r instanceof Og&&i instanceof Og?Pg(r.elements,i.elements,vc):r instanceof jb&&i instanceof jb?vc(r.Pe,i.Pe):r instanceof Lb&&i instanceof Lb}(t.transform,e.transform)}class aue{constructor(e,n){this.version=e,this.transformResults=n}}class uo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new uo}static exists(e){return new uo(void 0,e)}static updateTime(e){return new uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function GC(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lI{}function nK(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fx(t.key,uo.none()):new xv(t.key,t.data,uo.none());{const n=t.data,r=Xo.empty();let i=new Wr(xi.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ru(t.key,r,new Os(i.toArray()),uo.none())}}function lue(t,e,n){t instanceof xv?function(i,o,s){const a=i.value.clone(),l=rF(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ru?function(i,o,s){if(!GC(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=rF(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(rK(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function z0(t,e,n,r){return t instanceof xv?function(o,s,a,l){if(!GC(o.precondition,s))return a;const c=o.value.clone(),u=iF(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ru?function(o,s,a,l){if(!GC(o.precondition,s))return a;const c=iF(o.fieldTransforms,l,s),u=s.data;return u.setAll(rK(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return GC(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function cue(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Q7(r.transform,i||null);o!=null&&(n===null&&(n=Xo.empty()),n.set(r.field,o))}return n||null}function nF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pg(r,i,(o,s)=>sue(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xv extends lI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ru extends lI{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rK(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rF(t,e,n){const r=new Map;pn(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,iue(s,a,n[i]))}return r}function iF(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,rue(o,s,e))}return r}class Fx extends lI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iK extends lI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&lue(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=z0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=z0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X7();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=nK(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Cn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ln())}isEqual(e){return this.batchId===e.batchId&&Pg(this.mutations,e.mutations,(n,r)=>nF(n,r))&&Pg(this.baseMutations,e.baseMutations,(n,r)=>nF(n,r))}}class ZA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pn(e.mutations.length===r.length);let i=function(){return Qce}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ZA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QA=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi,or;function due(t){switch(t){default:return ln();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0}}function oK(t){if(t===void 0)return as("GRPC error has no .code"),nt.UNKNOWN;switch(t){case Zi.OK:return nt.OK;case Zi.CANCELLED:return nt.CANCELLED;case Zi.UNKNOWN:return nt.UNKNOWN;case Zi.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Zi.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Zi.INTERNAL:return nt.INTERNAL;case Zi.UNAVAILABLE:return nt.UNAVAILABLE;case Zi.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Zi.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Zi.NOT_FOUND:return nt.NOT_FOUND;case Zi.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Zi.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Zi.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Zi.ABORTED:return nt.ABORTED;case Zi.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Zi.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Zi.DATA_LOSS:return nt.DATA_LOSS;default:return ln()}}(or=Zi||(Zi={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hue=new fh([4294967295,4294967295],0);function oF(t){const e=fue().encode(t),n=new v7;return n.update(e),new Uint8Array(n.digest())}function sF(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fh([n,r],0),new fh([i,o],0)]}class JA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new c0(`Invalid padding: ${n}`);if(r<0)throw new c0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new c0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new c0(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fh.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(fh.fromNumber(r)));return i.compare(hue)===1&&(i=new fh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=oF(e),[r,i]=sF(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new JA(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=oF(e),[r,i]=sF(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class c0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cI(Cn.min(),i,new mi(On),Zs(),Ln())}}class Bx{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bx(r,n,Ln(),Ln(),Ln())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class sK{constructor(e,n){this.targetId=e,this.me=n}}class aK{constructor(e,n,r=ao.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aF{constructor(){this.fe=0,this.ge=cF(),this.pe=ao.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ln(),n=Ln(),r=Ln();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ln()}}),new Bx(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=cF()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pue{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zs(),this.qe=lF(),this.Qe=new mi(On)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ln()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(f1(o))if(r===0){const s=new $t(o.path);this.Ue(n,s,Di.newNoDocument(s,Cn.min()))}else pn(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Xd(r).toUint8Array()}catch(l){if(l instanceof $7)return Nh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new JA(s,i,o)}catch(l){return Nh(l instanceof c0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&f1(a.target)){const l=new $t(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Di.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ln();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new cI(e,n,this.Qe,this.ke,r);return this.ke=Zs(),this.qe=lF(),this.Qe=new mi(On),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new aF,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Wr(On),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||_t("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new aF),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function lF(){return new mi($t.comparator)}function cF(){return new mi($t.comparator)}const mue={asc:"ASCENDING",desc:"DESCENDING"},gue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vue={and:"AND",or:"OR"};class yue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gM(t,e){return t.useProto3Json||nI(e)?e:{value:e}}function Dg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lK(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bue(t,e){return Dg(t,e.toTimestamp())}function fs(t){return pn(!!t),Cn.fromTimestamp(function(n){const r=Cu(n);return new qn(r.seconds,r.nanos)}(t))}function e$(t,e){return vM(t,e).canonicalString()}function vM(t,e){const n=function(i){return new _r(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cK(t){const e=_r.fromString(t);return pn(yK(e)),e}function m1(t,e){return e$(t.databaseId,e.path)}function hh(t,e){const n=cK(e);if(n.get(1)!==t.databaseId.projectId)throw new Et(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Et(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $t(fK(n))}function uK(t,e){return e$(t.databaseId,e)}function dK(t){const e=cK(t);return e.length===4?_r.emptyPath():fK(e)}function yM(t){return new _r(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fK(t){return pn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uF(t,e,n){return{name:m1(t,e),fields:n.value.mapValue.fields}}function xue(t,e,n){const r=hh(t,e.name),i=fs(e.updateTime),o=e.createTime?fs(e.createTime):Cn.min(),s=new Xo({mapValue:{fields:e.fields}}),a=Di.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function _ue(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ln()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(pn(u===void 0||typeof u=="string"),ao.fromBase64String(u||"")):(pn(u===void 0||u instanceof Buffer||u instanceof Uint8Array),ao.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?nt.UNKNOWN:oK(c.code);return new Et(u,c.message||"")}(s);n=new aK(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hh(t,r.document.name),o=fs(r.document.updateTime),s=r.document.createTime?fs(r.document.createTime):Cn.min(),a=new Xo({mapValue:{fields:r.document.fields}}),l=Di.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new YC(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hh(t,r.document),o=r.readTime?fs(r.readTime):Cn.min(),s=Di.newNoDocument(i,o),a=r.removedTargetIds||[];n=new YC([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hh(t,r.document),o=r.removedTargetIds||[];n=new YC([],o,i,null)}else{if(!("filter"in e))return ln();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new uue(i,o),a=r.targetId;n=new sK(a,s)}}return n}function g1(t,e){let n;if(e instanceof xv)n={update:uF(t,e.key,e.value)};else if(e instanceof Fx)n={delete:m1(t,e.key)};else if(e instanceof Ru)n={update:uF(t,e.key,e.data),updateMask:Tue(e.fieldMask)};else{if(!(e instanceof iK))return ln();n={verify:m1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Lb)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Mg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Og)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jb)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ln()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bue(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ln()}(t,e.precondition)),n}function bM(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?uo.updateTime(fs(o.updateTime)):o.exists!==void 0?uo.exists(o.exists):uo.none()}(e.currentDocument):uo.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)pn(a.setToServerValue==="REQUEST_TIME"),l=new Lb;else if("appendMissingElements"in a){const u=a.appendMissingElements.values||[];l=new Mg(u)}else if("removeAllFromArray"in a){const u=a.removeAllFromArray.values||[];l=new Og(u)}else"increment"in a?l=new jb(s,a.increment):ln();const c=xi.fromServerFormat(a.fieldPath);return new oue(c,l)}(t,i)):[];if(e.update){e.update.name;const i=hh(t,e.update.name),o=new Xo({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new Os(c.map(u=>xi.fromServerFormat(u)))}(e.updateMask);return new Ru(i,o,s,n,r)}return new xv(i,o,n,r)}if(e.delete){const i=hh(t,e.delete);return new Fx(i,n)}if(e.verify){const i=hh(t,e.verify);return new iK(i,n)}return ln()}function wue(t,e){return t&&t.length>0?(pn(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?fs(i.updateTime):fs(o);return s.isEqual(Cn.min())&&(s=fs(o)),new aue(s,i.transformResults||[])}(n,e))):[]}function hK(t,e){return{documents:[uK(t,e.path)]}}function pK(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uK(t,i);const o=function(c){if(c.length!==0)return vK(Dr.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:_m(f.field),direction:Sue(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=gM(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function mK(t){let e=dK(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pn(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){const f=gK(d);return f instanceof Dr&&qA(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(v){return new Nb(wm(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,nI(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Qd(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new Qd(p,f)}(n.endAt)),qce(e,i,s,o,a,"F",l,c)}function Cue(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gK(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wm(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wm(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wm(n.unaryFilter.field);return Gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wm(n.unaryFilter.field);return Gn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}(t):t.fieldFilter!==void 0?function(n){return Gn.create(wm(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>gK(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ln()}}(n.compositeFilter.op))}(t):ln()}function Sue(t){return mue[t]}function Eue(t){return gue[t]}function Iue(t){return vue[t]}function _m(t){return{fieldPath:t.canonicalString()}}function wm(t){return xi.fromServerFormat(t.fieldPath)}function vK(t){return t instanceof Gn?function(n){if(n.op==="=="){if(qz(n.value))return{unaryFilter:{field:_m(n.field),op:"IS_NAN"}};if(Kz(n.value))return{unaryFilter:{field:_m(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qz(n.value))return{unaryFilter:{field:_m(n.field),op:"IS_NOT_NAN"}};if(Kz(n.value))return{unaryFilter:{field:_m(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_m(n.field),op:Eue(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>vK(i));return r.length===1?r[0]:{compositeFilter:{op:Iue(n.op),filters:r}}}(t):ln()}function Tue(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i,o=Cn.min(),s=Cn.min(),a=ao.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(e){this.ct=e}}function Pue(t,e){let n;if(e.document)n=xue(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$t.fromSegments(e.noDocument.path),i=Vh(e.noDocument.readTime);n=Di.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ln();{const r=$t.fromSegments(e.unknownDocument.path),i=Vh(e.unknownDocument.version);n=Di.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new qn(i[0],i[1]);return Cn.fromTimestamp(o)}(e.readTime)),n}function dF(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:v1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:m1(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Dg(o,s.version.toTimestamp()),createTime:Dg(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Bh(e.version)};else{if(!e.isUnknownDocument())return ln();r.unknownDocument={path:n.path.toArray(),version:Bh(e.version)}}return r}function v1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Bh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vh(t){const e=new qn(t.seconds,t.nanoseconds);return Cn.fromTimestamp(e)}function Uf(t,e){const n=(e.baseMutations||[]).map(o=>bM(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>bM(t.ct,o)),i=qn.fromMillis(e.localWriteTimeMs);return new XA(e.batchId,i,n,r)}function u0(t){const e=Vh(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Vh(t.lastLimboFreeSnapshotVersion):Cn.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return pn(o.documents.length===1),$a(oI(dK(o.documents[0])))}(t.query):function(o){return $a(mK(o))}(t.query),new Jc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ao.fromBase64String(t.resumeToken))}function xK(t,e){const n=Bh(e.snapshotVersion),r=Bh(e.lastLimboFreeSnapshotVersion);let i;i=f1(e.target)?hK(t.ct,e.target):pK(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fh(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function _K(t){const e=mK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?p1(e,e.limit,"L"):e}function mP(t,e){return new QA(e.largestBatchId,bM(t.ct,e.overlayMutation))}function fF(t,e){const n=e.path.lastSegment();return[t,ds(e.path.popLast()),n]}function hF(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Bh(r.readTime),documentKey:ds(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{getBundleMetadata(e,n){return pF(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Vh(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return pF(e).put(function(i){return{bundleId:i.id,createTime:Bh(fs(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return mF(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:_K(o.bundledQuery),readTime:Vh(o.readTime)}}(r)})}saveNamedQuery(e,n){return mF(e).put(function(i){return{name:i.name,readTime:Bh(fs(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function pF(t){return mo(t,"bundles")}function mF(t){return mo(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new uI(e,r)}getOverlay(e,n){return my(e).get(fF(this.userId,n)).next(r=>r?mP(this.serializer,r):null)}getOverlays(e,n){const r=Jl();return qe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new QA(n,s);i.push(this.ht(e,a))}),qe.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(ds(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(my(e).j("collectionPathOverlayIndex",a))}),qe.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Jl(),o=ds(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return my(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=mP(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Jl();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return my(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=mP(this.serializer,c);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}ht(e,n){return my(e).put(function(i,o,s){const[a,l,c]=fF(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:g1(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function my(t){return mo(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{Pt(e){return mo(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?ao.fromUint8Array(r):ao.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ui(e.integerValue));else if("doubleValue"in e){const r=ui(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ob(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Cu(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Xd(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?N7(e)?this.dt(n,Number.MAX_SAFE_INTEGER):iI(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ln()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ui(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),$t.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Kf.vt=new Kf;function Mue(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function gF(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=Mue(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class Oue{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=gF(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=gF(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Due{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Aue{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class gy{constructor(){this.jt=new Oue,this.Ht=new Due(this.jt),this.Jt=new Aue(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new qf(this.indexId,this.documentKey,this.arrayValue,r)}}function Vu(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=vF(t.arrayValue,e.arrayValue),n!==0?n:(n=vF(t.directionalValue,e.directionalValue),n!==0?n:$t.comparator(t.documentKey,e.documentKey)))}function vF(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.Xt=new Wr((n,r)=>xi.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(pn(e.collectionGroup===this.collectionId),this.nn)return!1;const n=lM(e);if(n!==void 0&&!this.sn(n))return!1;const r=$f(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Wr(xi.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new WC(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new WC(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new WC(r.field,r.dir==="asc"?0:1)));return new d1(d1.UNKNOWN_ID,this.collectionId,n,Mb.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(t){var e,n;if(pn(t instanceof Gn||t instanceof Dr),t instanceof Gn){if(t instanceof U7){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Gn.create(t.field,"==",o)))||[];return Dr.create(i,"or")}return t}const r=t.filters.map(i=>wK(i));return Dr.create(r,t.op)}function $ue(t){if(t.getFilters().length===0)return[];const e=wM(wK(t));return pn(CK(e)),xM(e)||_M(e)?[e]:e.getFilters()}function xM(t){return t instanceof Gn}function _M(t){return t instanceof Dr&&qA(t)}function CK(t){return xM(t)||_M(t)||function(n){if(n instanceof Dr&&fM(n)){for(const r of n.getFilters())if(!xM(r)&&!_M(r))return!1;return!0}return!1}(t)}function wM(t){if(pn(t instanceof Gn||t instanceof Dr),t instanceof Gn)return t;if(t.filters.length===1)return wM(t.filters[0]);const e=t.filters.map(r=>wM(r));let n=Dr.create(e,t.op);return n=y1(n),CK(n)?n:(pn(n instanceof Dr),pn(kg(n)),pn(n.filters.length>1),n.filters.reduce((r,i)=>t$(r,i)))}function t$(t,e){let n;return pn(t instanceof Gn||t instanceof Dr),pn(e instanceof Gn||e instanceof Dr),n=t instanceof Gn?e instanceof Gn?function(i,o){return Dr.create([i,o],"and")}(t,e):bF(t,e):e instanceof Gn?bF(e,t):function(i,o){if(pn(i.filters.length>0&&o.filters.length>0),kg(i)&&kg(o))return V7(i,o.getFilters());const s=fM(i)?i:o,a=fM(i)?o:i,l=s.filters.map(c=>t$(c,a));return Dr.create(l,"or")}(t,e),y1(n)}function bF(t,e){if(kg(e))return V7(e,t.getFilters());{const n=e.filters.map(r=>t$(t,r));return Dr.create(n,"or")}}function y1(t){if(pn(t instanceof Gn||t instanceof Dr),t instanceof Gn)return t;const e=t.getFilters();if(e.length===1)return y1(e[0]);if(F7(t))return t;const n=e.map(i=>y1(i)),r=[];return n.forEach(i=>{i instanceof Gn?r.push(i):i instanceof Dr&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Dr.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(){this.un=new n$}addToCollectionParentIndex(e,n){return this.un.add(n),qe.resolve()}getCollectionParents(e,n){return qe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return qe.resolve()}deleteFieldIndex(e,n){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,n){return qe.resolve()}getDocumentsMatchingTarget(e,n){return qe.resolve(null)}getIndexType(e,n){return qe.resolve(0)}getFieldIndexes(e,n){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,n){return qe.resolve(la.min())}getMinOffsetFromCollectionGroup(e,n){return qe.resolve(la.min())}updateCollectionGroup(e,n,r){return qe.resolve()}updateIndexEntries(e,n){return qe.resolve()}}class n${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wr(_r.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wr(_r.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Uint8Array(0);class Lue{constructor(e,n){this.databaseId=n,this.cn=new n$,this.ln=new vf(r=>Fh(r),(r,i)=>jx(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:ds(i)};return xF(e).put(o)}return qe.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[E7(n),""],!1,!0);return xF(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Ql(s.parent))}return r})}addFieldIndex(e,n){const r=vy(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=Up(e);return o.next(a=>{s.put(hF(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=vy(e),i=Up(e),o=Wp(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=vy(e),r=Wp(e),i=Up(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return qe.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new yF(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=Wp(e);let i=!0;const o=new Map;return qe.forEach(this.hn(n),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Ln();const a=[];return qe.forEach(o,(l,c)=>{_t("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(E=>`${E.fieldPath}:${E.kind}`).join(",")}`}(l)} to execute ${Fh(n)}`);const u=function(w,E){const T=lM(E);if(T===void 0)return null;for(const I of h1(w,T.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(c,l),d=function(w,E){const T=new Map;for(const I of $f(E))for(const S of h1(w,I.fieldPath))switch(S.op){case"==":case"in":T.set(I.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return T.set(I.fieldPath.canonicalString(),S.value),Array.from(T.values())}return null}(c,l),f=function(w,E){const T=[];let I=!0;for(const S of $f(E)){const P=S.kind===0?Qz(w,S.fieldPath,w.startAt):Jz(w,S.fieldPath,w.startAt);T.push(P.value),I&&(I=P.inclusive)}return new Qd(T,I)}(c,l),p=function(w,E){const T=[];let I=!0;for(const S of $f(E)){const P=S.kind===0?Jz(w,S.fieldPath,w.endAt):Qz(w,S.fieldPath,w.endAt);T.push(P.value),I&&(I=P.inclusive)}return new Qd(T,I)}(c,l),v=this.In(l,c,f),y=this.In(l,c,p),b=this.Tn(l,c,d),x=this.En(l.indexId,u,v,f.inclusive,y,p.inclusive,b);return qe.forEach(x,_=>r.G(_,n.limit).next(w=>{w.forEach(E=>{const T=$t.fromSegments(E.documentKey);s.has(T)||(s=s.add(T),a.push(T))})}))}).next(()=>a)}return qe.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=$ue(Dr.create(e.filters,"and")).map(r=>pM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.dn(n[d/c]):Ew,p=this.An(e,f,r[d%c],i),v=this.Rn(e,f,o[d%c],s),y=a.map(b=>this.An(e,f,b,!0));u.push(...this.createRange(p,v,y))}return u}An(e,n,r,i){const o=new qf(e,$t.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new qf(e,$t.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new yF(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.hn(n);return qe.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new Wr(xi.comparator),u=!1;for(const d of l.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:c=c.add(f.field));for(const d of l.orderBy)d.field.isKeyField()||(c=c.add(d.field));return c.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new gy;for(const i of $f(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Yt(i.kind);Kf.vt.It(o,s)}return r.zt()}dn(e){const n=new gy;return Kf.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new gy;return Kf.vt.It(zh(this.databaseId,n),r.Yt(function(o){const s=$f(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new gy);let o=0;for(const s of $f(e)){const a=r[o++];for(const l of i)if(this.fn(n,s.fieldPath)&&$b(a))i=this.gn(i,s,a);else{const c=l.Yt(s.kind);Kf.vt.It(a,c)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new gy;l.seed(a.zt()),Kf.vt.It(s,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof Gn&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=vy(e),i=Up(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return qe.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(u,d){const f=d?new Mb(d.sequenceNumber,new la(Vh(d.readTime),new $t(Ql(d.documentKey)),d.largestBatchId)):Mb.empty(),p=u.fields.map(([v,y])=>new WC(xi.fromServerFormat(v),y));return new d1(u.indexId,u.collectionGroup,p,f)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:On(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=vy(e),o=Up(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>qe.forEach(a,l=>o.put(hF(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return qe.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?qe.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),qe.forEach(a,l=>this.wn(e,i,l).next(c=>{const u=this.Sn(o,l);return c.isEqual(u)?qe.resolve():this.bn(e,o,l,c,u)}))))})}Dn(e,n,r,i){return Wp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Wp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Wp(e);let o=new Wr(Vu);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,a)=>{o=o.add(new qf(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,n){let r=new Wr(Vu);const i=this.Vn(n,e);if(i==null)return r;const o=lM(n);if(o!=null){const s=e.data.field(o.fieldPath);if($b(s))for(const a of s.arrayValue.values||[])r=r.add(new qf(n.indexId,e.key,this.dn(a),i))}else r=r.add(new qf(n.indexId,e.key,Ew,i));return r}bn(e,n,r,i,o){_t("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,c,u,d,f){const p=l.getIterator(),v=c.getIterator();let y=Hp(p),b=Hp(v);for(;y||b;){let x=!1,_=!1;if(y&&b){const w=u(y,b);w<0?_=!0:w>0&&(x=!0)}else y!=null?_=!0:x=!0;x?(d(b),b=Hp(v)):_?(f(y),y=Hp(p)):(y=Hp(p),b=Hp(v))}}(i,o,Vu,a=>{s.push(this.Dn(e,n,r,a))},a=>{s.push(this.vn(e,n,r,a))}),qe.waitFor(s)}yn(e){let n=1;return Up(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Vu(s,a)).filter((s,a,l)=>!a||Vu(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=Vu(s,e),l=Vu(s,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(s),i.push(s.Zt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Ew,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Ew,[]];o.push(IDBKeyRange.bound(a,l))}return o}Cn(e,n){return Vu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(_F)}getMinOffset(e,n){return qe.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ln())).next(_F)}}function xF(t){return mo(t,"collectionParents")}function Wp(t){return mo(t,"indexEntries")}function vy(t){return mo(t,"indexConfiguration")}function Up(t){return mo(t,"indexState")}function _F(t){pn(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;HA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new la(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Is{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Is(e,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SK(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(u,d,f)=>(a++,f.delete()));o.push(l.next(()=>{pn(a===1)}));const c=[];for(const u of n.mutations){const d=k7(e,u.key.path,n.batchId);o.push(i.delete(d)),c.push(u.key)}return qe.waitFor(o).next(()=>c)}function b1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ln();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(41943040,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);class dI{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){pn(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new dI(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Cm(e),s=Hu(e);return s.add({}).next(a=>{pn(typeof a=="number");const l=new XA(a,n,r,i),c=function(p,v,y){const b=y.baseMutations.map(_=>g1(p.ct,_)),x=y.mutations.map(_=>g1(p.ct,_));return{userId:v,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:b,mutations:x}}(this.serializer,this.userId,l),u=[];let d=new Wr((f,p)=>On(f.canonicalString(),p.canonicalString()));for(const f of i){const p=k7(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(s.put(c)),u.push(o.put(p,vce))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),qe.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Hu(e).get(n).next(r=>r?(pn(r.userId===this.userId),Uf(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?qe.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Hu(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(pn(a.batchId>=r),o=Uf(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Hu(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).U("userMutationsIndex",n).next(r=>r.map(i=>Uf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=UC(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Cm(e).J({range:i},(s,a,l)=>{const[c,u,d]=s,f=Ql(u);if(c===this.userId&&n.path.isEqual(f))return Hu(e).get(d).next(p=>{if(!p)throw ln();pn(p.userId===this.userId),o.push(Uf(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wr(On);const i=[];return n.forEach(o=>{const s=UC(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Cm(e).J({range:a},(c,u,d)=>{const[f,p,v]=c,y=Ql(p);f===this.userId&&o.path.isEqual(y)?r=r.add(v):d.done()});i.push(l)}),qe.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=UC(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Wr(On);return Cm(e).J({range:s},(l,c,u)=>{const[d,f,p]=l,v=Ql(f);d===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(p)):u.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Hu(e).get(o).next(s=>{if(s===null)throw ln();pn(s.userId===this.userId),r.push(Uf(this.serializer,s))}))}),qe.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return SK(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),qe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return qe.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Cm(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Ql(o[1]);i.push(l)}else a.done()}).next(()=>{pn(i.length===0)})})}containsKey(e,n){return EK(e,this.userId,n)}Nn(e){return IK(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function EK(t,e,n){const r=UC(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Cm(t).J({range:o,H:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===i&&(s=!0),c.done()}).next(()=>s)}function Hu(t){return mo(t,"mutations")}function Cm(t){return mo(t,"documentMutations")}function IK(t){return mo(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Hh(0)}static kn(){return new Hh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Hh(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>Cn.fromTimestamp(new qn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Kp(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(pn(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Kp(e).J((s,a)=>{const l=u0(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>qe.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Kp(e).J((r,i)=>{const o=u0(i);n(o)})}qn(e){return CF(e).get("targetGlobalKey").next(n=>(pn(n!==null),n))}Qn(e,n){return CF(e).put("targetGlobalKey",n)}Kn(e,n){return Kp(e).put(xK(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Fh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Kp(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const c=u0(a);jx(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=ld(e);return n.forEach(s=>{const a=ds(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),qe.waitFor(i)}removeMatchingKeys(e,n,r){const i=ld(e);return qe.forEach(n,o=>{const s=ds(o.path);return qe.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=ld(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ld(e);let o=Ln();return i.J({range:r,H:!0},(s,a,l)=>{const c=Ql(s[1]),u=new $t(c);o=o.add(u)}).next(()=>o)}containsKey(e,n){const r=ds(n.path),i=IDBKeyRange.bound([r],[E7(r)],!1,!0);let o=0;return ld(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,c)=>{s!==0&&(o++,c.done())}).next(()=>o>0)}ot(e,n){return Kp(e).get(n).next(r=>r?u0(r):null)}}function Kp(t){return mo(t,"targets")}function CF(t){return mo(t,"targetGlobal")}function ld(t){return mo(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF([t,e],[n,r]){const i=On(t,n);return i===0?On(e,r):i}class zue{constructor(e){this.Un=e,this.buffer=new Wr(SF),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Fue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){_t("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gf(n)?_t("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await cp(n)}await this.Hn(3e5)})}}class Bue{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return qe.resolve(Oa.oe);const r=new zue(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(wF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wF):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),bm()<=Un.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),qe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function Vue(t,e){return new Bue(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hue{constructor(e,n){this.db=e,this.garbageCollector=Vue(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Iw(e,r)}removeReference(e,n,r){return Iw(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Iw(e,n)}nr(e,n){return function(i,o){let s=!1;return IK(i).Y(a=>EK(i,a,o).next(l=>(l&&(s=!0),qe.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(s,a)=>{if(a<=n){const l=this.nr(e,s).next(c=>{if(!c)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Cn.min()),ld(e).delete(function(d){return[0,ds(d.path)]}(s))))});i.push(l)}}).next(()=>qe.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Iw(e,n)}tr(e,n){const r=ld(e);let i,o=Oa.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{s===0?(o!==Oa.oe&&n(new $t(Ql(i)),o),o=c,i=l):o=Oa.oe}).next(()=>{o!==Oa.oe&&n(new $t(Ql(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Iw(t,e){return ld(t).put(function(r,i){return{targetId:0,path:ds(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(){this.changes=new vf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Di.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?qe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wue{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ef(e).put(r)}removeEntry(e,n,r){return Ef(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],v1(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Di.newInvalidDocument(n);return Ef(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yy(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:Di.newInvalidDocument(n)};return Ef(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yy(n))},(i,o)=>{r={document:this.ir(n,o),size:b1(o)}}).next(()=>r)}getEntries(e,n){let r=Zs();return this._r(e,n,(i,o)=>{const s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,n){let r=Zs(),i=new mi($t.comparator);return this._r(e,n,(o,s)=>{const a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,b1(s))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return qe.resolve();let i=new Wr(TF);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(yy(i.first()),yy(i.last())),s=i.getIterator();let a=s.getNext();return Ef(e).J({index:"documentKeyIndex",range:o},(l,c,u)=>{const d=$t.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&TF(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?u.$(yy(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),v1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ef(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let u=Zs();for(const d of c){const f=this.ir($t.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(zx(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let o=Zs();const s=IF(n,r),a=IF(n,la.max());return Ef(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,u)=>{const d=this.ir($t.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(d.key,d),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new Uue(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return EF(e).get("remoteDocumentGlobalKey").next(n=>(pn(!!n),n))}rr(e,n){return EF(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=Pue(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Cn.min())))return r}return Di.newInvalidDocument(e)}}function PK(t){return new Wue(t)}class Uue extends TK{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new vf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Wr((o,s)=>On(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=dF(this.cr.serializer,s);i=i.add(o.path.popLast());const c=b1(l);r+=c-a.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=dF(this.cr.serializer,s.convertToNoDocument(Cn.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),qe.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function EF(t){return mo(t,"remoteDocumentGlobal")}function Ef(t){return mo(t,"remoteDocumentsV14")}function yy(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IF(t,e){const n=e.documentKey.path.toArray();return[t,v1(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function TF(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=On(n[o],r[o]),i)return i;return i=On(n.length,r.length),i||(i=On(n[n.length-2],r[r.length-2]),i||On(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&z0(r.mutation,i,Os.empty(),qn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ln()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ln()){const i=Jl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=l0();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Jl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ln()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zs();const s=j0(),a=function(){return j0()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ru)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),z0(u.mutation,c,u.mutation.getFieldMask(),qn.now())):s.set(c.key,Os.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Kue(u,(d=s.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=j0();let i=new mi((s,a)=>s-a),o=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Os.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Ln()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=X7();u.forEach(f=>{if(!o.has(f)){const p=nK(n.get(f),r.get(f));p!==null&&d.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return qe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return $t.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):qe.resolve(Jl());let a=-1,l=o;return s.next(c=>qe.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?qe.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ln())).next(u=>({batchId:a,changes:Y7(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $t(n)).next(r=>{let i=l0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=l0();return this.indexManager.getCollectionParents(e,o).next(a=>qe.forEach(a,l=>{const c=function(d,f){return new dp(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Di.newInvalidDocument(u)))});let a=l0();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&z0(u.mutation,c,Os.empty(),qn.now()),zx(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return qe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fs(i.createTime)}}(n)),qe.resolve()}getNamedQuery(e,n){return qe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_K(i.bundledQuery),readTime:fs(i.readTime)}}(n)),qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gue{constructor(){this.overlays=new mi($t.comparator),this.Ir=new Map}getOverlay(e,n){return qe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jl();return qe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),qe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),qe.resolve()}getOverlaysForCollection(e,n,r){const i=Jl(),o=n.length+1,s=new $t(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return qe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mi((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=Jl(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Jl(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return qe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QA(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ln(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{constructor(){this.sessionToken=ao.EMPTY_BYTE_STRING}getSessionToken(e){return qe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.Tr=new Wr(_o.Er),this.dr=new Wr(_o.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _o(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _o(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new $t(new _r([])),r=new _o(n,e),i=new _o(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new $t(new _r([])),r=new _o(n,e),i=new _o(n,e+1);let o=Ln();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new _o(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _o{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return $t.comparator(e.key,n.key)||On(e.wr,n.wr)}static Ar(e,n){return On(e.wr,n.wr)||$t.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Wr(_o.Er)}checkEmpty(e){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new XA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new _o(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qe.resolve(s)}lookupMutationBatch(e,n){return qe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return qe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _o(n,0),i=new _o(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),qe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wr(On);return n.forEach(i=>{const o=new _o(i,0),s=new _o(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),qe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;$t.isDocumentKey(o)||(o=o.child(""));const s=new _o(new $t(o),0);let a=new Wr(On);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},s),qe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return qe.forEach(n.mutations,i=>{const o=new _o(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new _o(n,0),i=this.br.firstAfterOrEqual(r);return qe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,qe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(e){this.Mr=e,this.docs=function(){return new mi($t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return qe.resolve(r?r.document.mutableCopy():Di.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Di.newInvalidDocument(i))}),qe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zs();const s=n.path,a=new $t(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||HA(I7(u),r)<=0||(i.has(u.key)||zx(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return qe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ln()}Or(e,n){return qe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Que(this)}getSize(e){return qe.resolve(this.size)}}class Que extends TK{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),qe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jue{constructor(e){this.persistence=e,this.Nr=new vf(n=>Fh(n),jx),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r$,this.targetCount=0,this.kr=Hh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),qe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Hh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,qe.resolve()}updateTargetData(e,n){return this.Kn(n),qe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),qe.waitFor(o).next(()=>i)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return qe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),qe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),qe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),qe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return qe.resolve(r)}containsKey(e,n){return qe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Oa(0),this.Kr=!1,this.Kr=!0,this.$r=new Yue,this.referenceDelegate=e(this),this.Ur=new Jue(this),this.indexManager=new Nue,this.remoteDocumentCache=function(i){return new Zue(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bK(n),this.Gr=new que(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Xue(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){_t("MemoryPersistence","Starting transaction:",e);const i=new ede(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return qe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ede extends P7{constructor(e){super(),this.currentSequenceNumber=e}}class fI{constructor(e){this.persistence=e,this.Jr=new r$,this.Yr=null}static Zr(e){return new fI(e)}get Xr(){if(this.Yr)return this.Yr;throw ln()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),qe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),qe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),qe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Xr,r=>{const i=$t.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Cn.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return qe.or([()=>qe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{constructor(e){this.serializer=e}O(e,n,r,i){const o=new tI("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bz,{unique:!0}),l.createObjectStore("documentMutations")}(e),PF(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=qe.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),PF(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cn.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Bz,{unique:!0});const d=c.store("mutations"),f=u.map(p=>d.put(p));return qe.waitFor(f)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Rce});c.createIndex("collectionPathOverlayIndex",kce,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Mce,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:yce});c.createIndex("documentKeyIndex",bce),c.createIndex("collectionGroupIndex",xce)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Ece}).createIndex("sequenceNumberIndex",Ice,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Tce}).createIndex("documentKeyIndex",Pce,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=b1(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>qe.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>qe.forEach(a,l=>{pn(l.userId===o.userId);const c=Uf(this.serializer,l);return SK(e,o.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new _r(s),c=function(d){return[0,ds(d)]}(l);o.push(n.get(c).next(u=>u?qe.resolve():(d=>n.put({targetId:0,path:ds(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>qe.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Sce});const r=n.store("collectionParents"),i=new n$,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:ds(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new _r(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],c)=>{const u=Ql(a);return o(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=u0(i),s=xK(this.serializer,o);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new $t(_r.fromString(d.document.name).popFirst(5)):d.noDocument?$t.fromSegments(d.noDocument.path):d.unknownDocument?$t.fromSegments(d.unknownDocument.path):ln()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(c))}).next(()=>qe.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=PK(this.serializer),o=new kK(fI.Zr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Ln();Uf(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),qe.forEach(a,(l,c)=>{const u=new ko(c),d=uI.lt(this.serializer,u),f=o.getIndexManager(u),p=dI.lt(u,this.serializer,f,o.referenceDelegate);return new RK(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new cM(n,Oa.oe),l).next()})})}}function PF(t){t.createObjectStore("targetDocuments",{keyPath:wce}).createIndex("documentTargetsIndex",Cce,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_ce,{unique:!0}),t.createObjectStore("targetGlobal")}const gP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class i${constructor(e,n,r,i,o,s,a,l,c,u,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=c,this.li=u,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!i$.D())throw new Et(nt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hue(this,i),this.Ai=n+"main",this.serializer=new bK(l),this.Ri=new jd(this.Ai,this.hi,new tde(this.serializer)),this.$r=new kue,this.Ur=new jue(this.referenceDelegate,this.serializer),this.remoteDocumentCache=PK(this.serializer),this.Gr=new Rue,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&as("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Et(nt.FAILED_PRECONDITION,gP);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Oa(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Tw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(gf(e))return _t("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _t("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return by(e).get("owner").next(n=>qe.resolve(this.vi(n)))}Ci(e){return Tw(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=mo(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return qe.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?qe.resolve(!0):by(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new Et(nt.FAILED_PRECONDITION,gP);return!1}}return!(!this.networkEnabled||!this.inForeground)||Tw(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&_t("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new cM(e,Oa.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Tw(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return dI.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Lue(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return uI.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){_t("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?Ace:l===16?Dce:l===15?UA:l===14?D7:l===13?O7:l===12?Oce:l===11?M7:void ln()}(this.hi);let s;return this.Ri.runTransaction(e,i,o,a=>(s=new cM(a,this.Qr?this.Qr.next():Oa.oe),n==="readwrite-primary"?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw as(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Et(nt.FAILED_PRECONDITION,T7);return r(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return by(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Et(nt.FAILED_PRECONDITION,gP)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return by(e).put("owner",n)}static D(){return jd.D()}bi(e){const n=by(e);return n.get("owner").next(r=>this.vi(r)?(_t("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):qe.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(as(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;u7()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return _t("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return as("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){as("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function by(t){return mo(t,"owner")}function Tw(t){return mo(t,"clientMetadata")}function nde(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ln(),i=Ln();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new o$(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return u7()?8:R7(ho())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new rde;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(bm()<=Un.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",xm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qe.resolve()):(bm()<=Un.DEBUG&&_t("QueryEngine","Query:",xm(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(bm()<=Un.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",xm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$a(n))):qe.resolve())}Yi(e,n){if(eF(n))return qe.resolve(null);let r=$a(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=p1(n,null,"F"),r=$a(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ln(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,s,l.readTime)?this.Yi(e,p1(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return eF(n)||i.isEqual(Cn.min())?qe.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?qe.resolve(null):(bm()<=Un.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xm(n)),this.rs(e,s,n,uce(i,-1)).next(a=>a))})}ts(e,n){let r=new Wr(q7(e));return n.forEach((i,o)=>{zx(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return bm()<=Un.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",xm(n)),this.Ji.getDocumentsMatchingQuery(e,n,la.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new mi(On),this._s=new vf(o=>Fh(o),jx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function OK(t,e,n,r){return new ide(t,e,n,r)}async function DK(t,e){const n=kn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ln();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function ode(t,e){const n=kn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=qe.resolve();return f.forEach(v=>{p=p.next(()=>u.getEntry(l,v)).next(y=>{const b=c.docVersions.get(v);pn(b!==null),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ln();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AK(t){const e=kn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function sde(t,e){const n=kn(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,u.addedDocuments,d)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(ao.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(y,b,x){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,p,u)&&a.push(n.Ur.updateTargetData(o,p))});let l=Zs(),c=Ln();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(ade(o,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Cn.min())){const u=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return qe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.os=i,o))}function ade(t,e,n){let r=Ln(),i=Ln();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zs();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Cn.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):_t("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function lde(t,e){const n=kn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cde(t,e){const n=kn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,qe.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Jc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function CM(t,e,n){const r=kn(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!gf(s))throw s;_t("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function RF(t,e,n){const r=kn(t);let i=Cn.min(),o=Ln();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=kn(l),f=d._s.get(u);return f!==void 0?qe.resolve(d.os.get(f)):d.Ur.getTargetData(c,u)}(r,s,$a(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Cn.min(),n?o:Ln())).next(a=>(ude(r,Yce(e),a),{documents:a,Ts:o})))}function ude(t,e,n){let r=t.us.get(e)||Cn.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class kF{constructor(){this.activeTargetIds=tue()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $K{constructor(){this.so=new kF,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new kF,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dde{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_t("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_t("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pw=null;function vP(){return Pw===null?Pw=function(){return 268435456+Math.round(2147483648*Math.random())}():Pw++,"0x"+Pw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fde={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="WebChannelConnection";class pde extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=vP(),l=this.xo(n,r.toUriEncodedString());_t("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,l,c,i).then(u=>(_t("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Nh("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bv}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=fde[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=vP();return new Promise((s,a)=>{const l=new y7;l.setWithCredentials(!0),l.listenOnce(b7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case HC.NO_ERROR:const u=l.getResponseJson();_t(Wo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case HC.TIMEOUT:_t(Wo,`RPC '${e}' ${o} timed out`),a(new Et(nt.DEADLINE_EXCEEDED,"Request time out"));break;case HC.HTTP_ERROR:const d=l.getStatus();if(_t(Wo,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(x)>=0?x:nt.UNKNOWN}(p.status);a(new Et(v,p.message))}else a(new Et(nt.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Et(nt.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{_t(Wo,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);_t(Wo,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=vP(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=w7(),a=_7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");_t(Wo,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let f=!1,p=!1;const v=new hde({Io:b=>{p?_t(Wo,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(_t(Wo,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),_t(Wo,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},To:()=>d.close()}),y=(b,x,_)=>{b.listen(x,w=>{try{_(w)}catch(E){setTimeout(()=>{throw E},0)}})};return y(d,a0.EventType.OPEN,()=>{p||(_t(Wo,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),y(d,a0.EventType.CLOSE,()=>{p||(p=!0,_t(Wo,`RPC '${e}' stream ${i} transport closed`),v.So())}),y(d,a0.EventType.ERROR,b=>{p||(p=!0,Nh(Wo,`RPC '${e}' stream ${i} transport errored:`,b),v.So(new Et(nt.UNAVAILABLE,"The operation could not be completed")))}),y(d,a0.EventType.MESSAGE,b=>{var x;if(!p){const _=b.data[0];pn(!!_);const w=_,E=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(E){_t(Wo,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let I=function(R){const O=Zi[R];if(O!==void 0)return oK(O)}(T),S=E.message;I===void 0&&(I=nt.INTERNAL,S="Unknown error status: "+T+" with message "+E.message),p=!0,v.So(new Et(I,S)),d.close()}else _t(Wo,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),y(a,x7.STAT_EVENT,b=>{b.stat===aM.PROXY?_t(Wo,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===aM.NOPROXY&&_t(Wo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mde(){return typeof window<"u"?window:null}function XC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){return new yue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&_t("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NK(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Et(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return _t("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(_t("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gde extends LK{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_ue(this.serializer,e),r=function(o){if(!("targetChange"in o))return Cn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Cn.min():s.readTime?fs(s.readTime):Cn.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=yM(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=f1(l)?{documents:hK(o,l)}:{query:pK(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=lK(o,s.resumeToken);const c=gM(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Cn.min())>0){a.readTime=Dg(o,s.snapshotVersion.toTimestamp());const c=gM(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Cue(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=yM(this.serializer),n.removeTarget=e,this.a_(n)}}class vde extends LK{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return pn(!!e.streamToken),this.lastStreamToken=e.streamToken,pn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wue(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=yM(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>g1(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yde extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Et(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,vM(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Et(nt.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,vM(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Et(nt.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(as(n),this.D_=!1):_t("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xde{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{fp(this)&&(_t("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=kn(l);c.L_.add(4),await _v(c),c.q_.set("Unknown"),c.L_.delete(4),await Vx(c)}(this))})}),this.q_=new bde(r,i)}}async function Vx(t){if(fp(t))for(const e of t.B_)await e(!0)}async function _v(t){for(const e of t.B_)await e(!1)}function jK(t,e){const n=kn(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),c$(n)?l$(n):wv(n).r_()&&a$(n,e))}function s$(t,e){const n=kn(t),r=wv(n);n.N_.delete(e),r.r_()&&zK(n,e),n.N_.size===0&&(r.r_()?r.o_():fp(n)&&n.q_.set("Unknown"))}function a$(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Cn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wv(t).A_(e)}function zK(t,e){t.Q_.xe(e),wv(t).R_(e)}function l$(t){t.Q_=new pue({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wv(t).start(),t.q_.v_()}function c$(t){return fp(t)&&!wv(t).n_()&&t.N_.size>0}function fp(t){return kn(t).L_.size===0}function FK(t){t.Q_=void 0}async function _de(t){t.q_.set("Online")}async function wde(t){t.N_.forEach((e,n)=>{a$(t,e)})}async function Cde(t,e){FK(t),c$(t)?(t.q_.M_(e),l$(t)):t.q_.set("Unknown")}async function Sde(t,e,n){if(t.q_.set("Online"),e instanceof aK&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){_t("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await x1(t,r)}else if(e instanceof YC?t.Q_.Ke(e):e instanceof sK?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Cn.min()))try{const r=await AK(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.N_.get(c);u&&o.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.N_.get(l);if(!u)return;o.N_.set(l,u.withResumeToken(ao.EMPTY_BYTE_STRING,u.snapshotVersion)),zK(o,l);const d=new Jc(u.target,l,c,u.sequenceNumber);a$(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){_t("RemoteStore","Failed to raise snapshot:",r),await x1(t,r)}}async function x1(t,e,n){if(!gf(e))throw e;t.L_.add(1),await _v(t),t.q_.set("Offline"),n||(n=()=>AK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_t("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Vx(t)})}function BK(t,e){return e().catch(n=>x1(t,n,e))}async function Hx(t){const e=kn(t),n=Jd(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ede(e);)try{const i=await lde(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Ide(e,i)}catch(i){await x1(e,i)}VK(e)&&HK(e)}function Ede(t){return fp(t)&&t.O_.length<10}function Ide(t,e){t.O_.push(e);const n=Jd(t);n.r_()&&n.V_&&n.m_(e.mutations)}function VK(t){return fp(t)&&!Jd(t).n_()&&t.O_.length>0}function HK(t){Jd(t).start()}async function Tde(t){Jd(t).p_()}async function Pde(t){const e=Jd(t);for(const n of t.O_)e.m_(n.mutations)}async function Rde(t,e,n){const r=t.O_.shift(),i=ZA.from(r,e,n);await BK(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hx(t)}async function kde(t,e){e&&Jd(t).V_&&await async function(r,i){if(function(s){return due(s)&&s!==nt.ABORTED}(i.code)){const o=r.O_.shift();Jd(r).s_(),await BK(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hx(r)}}(t,e),VK(t)&&HK(t)}async function OF(t,e){const n=kn(t);n.asyncQueue.verifyOperationInProgress(),_t("RemoteStore","RemoteStore received new credentials");const r=fp(n);n.L_.add(3),await _v(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Vx(n)}async function Mde(t,e){const n=kn(t);e?(n.L_.delete(2),await Vx(n)):e||(n.L_.add(2),await _v(n),n.q_.set("Unknown"))}function wv(t){return t.K_||(t.K_=function(n,r,i){const o=kn(n);return o.w_(),new gde(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_de.bind(null,t),Ro:wde.bind(null,t),mo:Cde.bind(null,t),d_:Sde.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),c$(t)?l$(t):t.q_.set("Unknown")):(await t.K_.stop(),FK(t))})),t.K_}function Jd(t){return t.U_||(t.U_=function(n,r,i){const o=kn(n);return o.w_(),new vde(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Tde.bind(null,t),mo:kde.bind(null,t),f_:Pde.bind(null,t),g_:Rde.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hx(t)):(await t.U_.stop(),t.O_.length>0&&(_t("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new oc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new u$(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d$(t,e){if(as("AsyncQueue",`${e}: ${t}`),gf(t))return new Et(nt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$t.comparator(n.key,r.key):(n,r)=>$t.comparator(n.key,r.key),this.keyedMap=l0(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new ig(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ig)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ig;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.W_=new mi($t.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ln():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ag{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ag(e,n,ig.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Dde{constructor(){this.queries=AF(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=kn(n),o=i.queries;i.queries=AF(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Et(nt.ABORTED,"Firestore shutting down"))}}function AF(){return new vf(t=>K7(t),sI)}async function WK(t,e){const n=kn(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Ode,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=d$(s,`Initialization of query '${xm(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&f$(n)}async function UK(t,e){const n=kn(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ade(t,e){const n=kn(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&f$(n)}function $de(t,e,n){const r=kn(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function f$(t){t.Y_.forEach(e=>{e.next()})}var SM,$F;($F=SM||(SM={})).ea="default",$F.Cache="cache";class KK{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ag(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ag.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==SM.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e){this.key=e}}class GK{constructor(e){this.key=e}}class Nde{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ln(),this.mutatedKeys=Ln(),this.Aa=q7(e),this.Ra=new ig(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new DF,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=zx(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),b=!0):this.ga(f,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(p?(s=s.add(p),o=y?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,d)=>function(p,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return y(p)-y(v)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new Ag(this.query,e.Ra,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DF,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ln(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new GK(r))}),this.da.forEach(r=>{e.has(r)||n.push(new qK(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ln();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ag.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Lde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jde{constructor(e){this.key=e,this.va=!1}}class zde{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new vf(a=>K7(a),sI),this.Ma=new Map,this.xa=new Set,this.Oa=new mi($t.comparator),this.Na=new Map,this.La=new r$,this.Ba={},this.ka=new Map,this.qa=Hh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Fde(t,e,n=!0){const r=eq(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await YK(r,e,n,!0),i}async function Bde(t,e){const n=eq(t);await YK(n,e,!0,!1)}async function YK(t,e,n,r){const i=await cde(t.localStore,$a(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Vde(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&jK(t.remoteStore,i),a}async function Vde(t,e,n,r,i){t.Ka=(d,f,p)=>async function(y,b,x,_){let w=b.view.ma(x);w.ns&&(w=await RF(y.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,w)));const E=_&&_.targetChanges.get(b.targetId),T=_&&_.targetMismatches.get(b.targetId)!=null,I=b.view.applyChanges(w,y.isPrimaryClient,E,T);return LF(y,b.targetId,I.wa),I.snapshot}(t,d,f,p);const o=await RF(t.localStore,e,!0),s=new Nde(e,o.Ts),a=s.ma(o.documents),l=Bx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);LF(t,n,c.wa);const u=new Lde(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Hde(t,e,n){const r=kn(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!sI(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await CM(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&s$(r.remoteStore,i.targetId),EM(r,i.targetId)}).catch(cp)):(EM(r,i.targetId),await CM(r.localStore,i.targetId,!0))}async function Wde(t,e){const n=kn(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),s$(n.remoteStore,r.targetId))}async function Ude(t,e,n){const r=tq(t);try{const i=await function(s,a){const l=kn(s),c=qn.now(),u=a.reduce((p,v)=>p.add(v.key),Ln());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Zs(),y=Ln();return l.cs.getEntries(p,u).next(b=>{v=b,v.forEach((x,_)=>{_.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(b=>{d=b;const x=[];for(const _ of a){const w=cue(_,d.get(_.key).overlayedDocument);w!=null&&x.push(new Ru(_.key,w,j7(w.value.mapValue),uo.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,x,a)}).next(b=>{f=b;const x=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,x)})}).then(()=>({batchId:f.batchId,changes:Y7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new mi(On)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Wx(r,i.changes),await Hx(r.remoteStore)}catch(i){const o=d$(i,"Failed to persist write");n.reject(o)}}async function XK(t,e){const n=kn(t);try{const r=await sde(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?pn(s.va):i.removedDocuments.size>0&&(pn(s.va),s.va=!1))}),await Wx(n,r,e)}catch(r){await cp(r)}}function NF(t,e,n){const r=kn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=kn(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&f$(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kde(t,e,n){const r=kn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new mi($t.comparator);s=s.insert(o,Di.newNoDocument(o,Cn.min()));const a=Ln().add(o),l=new cI(Cn.min(),new Map,new mi(On),s,a);await XK(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),h$(r)}else await CM(r.localStore,e,!1).then(()=>EM(r,e,n)).catch(cp)}async function qde(t,e){const n=kn(t),r=e.batch.batchId;try{const i=await ode(n.localStore,e);QK(n,r,null),ZK(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wx(n,i)}catch(i){await cp(i)}}async function Gde(t,e,n){const r=kn(t);try{const i=await function(s,a){const l=kn(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(pn(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);QK(r,e,n),ZK(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wx(r,i)}catch(i){await cp(i)}}function ZK(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QK(t,e,n){const r=kn(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function EM(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JK(t,r)})}function JK(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(s$(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),h$(t))}function LF(t,e,n){for(const r of n)r instanceof qK?(t.La.addReference(r.key,e),Yde(t,r)):r instanceof GK?(_t("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JK(t,r.key)):ln()}function Yde(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(_t("SyncEngine","New document in limbo: "+n),t.xa.add(r),h$(t))}function h$(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new $t(_r.fromString(e)),r=t.qa.next();t.Na.set(r,new jde(n)),t.Oa=t.Oa.insert(n,r),jK(t.remoteStore,new Jc($a(oI(n.path)),r,"TargetPurposeLimboResolution",Oa.oe))}}async function Wx(t,e,n){const r=kn(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=o$.Wi(l.targetId,c);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const u=kn(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>qe.forEach(c,f=>qe.forEach(f.$i,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>qe.forEach(f.Ui,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!gf(d))throw d;_t("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.os.get(f),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);u.os=u.os.insert(f,y)}}}(r.localStore,o))}async function Xde(t,e){const n=kn(t);if(!n.currentUser.isEqual(e)){_t("SyncEngine","User change. New user:",e.toKey());const r=await DK(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Et(nt.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wx(n,r.hs)}}function Zde(t,e){const n=kn(t),r=n.Na.get(e);if(r&&r.va)return Ln().add(r.key);{let i=Ln();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function eq(t){const e=kn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kde.bind(null,e),e.Ca.d_=Ade.bind(null,e.eventManager),e.Ca.$a=$de.bind(null,e.eventManager),e}function tq(t){const e=kn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gde.bind(null,e),e}class zb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hI(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return OK(this.persistence,new MK,e.initialUser,this.serializer)}Ga(e){return new kK(fI.Zr,this.serializer)}Wa(e){return new $K}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zb.provider={build:()=>new zb};class Qde extends zb{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await tq(this.Ja.syncEngine),await Hx(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return OK(this.persistence,new MK,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Fue(r,e.asyncQueue,n)}Ha(e,n){const r=new pce(n,this.persistence);return new hce(e.asyncQueue,r)}Ga(e){const n=nde(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new i$(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,mde(),XC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new $K}}class _1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NF(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xde.bind(null,this.syncEngine),await Mde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dde}()}createDatastore(e){const n=hI(e.databaseInfo.databaseId),r=function(o){return new pde(o)}(e.databaseInfo);return function(o,s,a,l){return new yde(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new xde(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>NF(this.syncEngine,n,0),function(){return MF.D()?new MF:new dde}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const d=new zde(i,o,s,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=kn(i);_t("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await _v(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_1.provider={build:()=>new _1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jde{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ko.UNAUTHENTICATED,this.clientId=S7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{_t("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(_t("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d$(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yP(t,e){t.asyncQueue.verifyOperationInProgress(),_t("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DK(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jF(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rq(t);_t("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OF(e.remoteStore,i)),t._onlineComponents=e}async function rq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_t("FirestoreClient","Using user provided OfflineComponentProvider");try{await yP(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===nt.FAILED_PRECONDITION||i.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Nh("Error using user provided cache. Falling back to memory cache: "+n),await yP(t,new zb)}}else _t("FirestoreClient","Using default OfflineComponentProvider"),await yP(t,new zb);return t._offlineComponents}async function p$(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_t("FirestoreClient","Using user provided OnlineComponentProvider"),await jF(t,t._uninitializedComponentsProvider._online)):(_t("FirestoreClient","Using default OnlineComponentProvider"),await jF(t,new _1))),t._onlineComponents}function iq(t){return rq(t).then(e=>e.persistence)}function oq(t){return p$(t).then(e=>e.remoteStore)}function efe(t){return p$(t).then(e=>e.syncEngine)}async function sq(t){const e=await p$(t),n=e.eventManager;return n.onListen=Fde.bind(null,e.syncEngine),n.onUnlisten=Hde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wde.bind(null,e.syncEngine),n}function tfe(t){return t.asyncQueue.enqueue(async()=>{const e=await iq(t),n=await oq(t);return e.setNetworkEnabled(!0),function(i){const o=kn(i);return o.L_.delete(0),Vx(o)}(n)})}function nfe(t){return t.asyncQueue.enqueue(async()=>{const e=await iq(t),n=await oq(t);return e.setNetworkEnabled(!1),async function(i){const o=kn(i);o.L_.add(0),await _v(o),o.q_.set("Offline")}(n)})}function rfe(t,e,n={}){const r=new oc;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new nq({next:f=>{u.Za(),s.enqueueAndForget(()=>UK(o,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new Et(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new Et(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new KK(oI(a.path),u,{includeMetadataChanges:!0,_a:!0});return WK(o,d)}(await sq(t),t.asyncQueue,e,n,r)),r.promise}function aq(t,e,n={}){const r=new oc;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new nq({next:f=>{u.Za(),s.enqueueAndForget(()=>UK(o,d)),f.fromCache&&l.source==="server"?c.reject(new Et(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new KK(a,u,{includeMetadataChanges:!0,_a:!0});return WK(o,d)}(await sq(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e,n){if(!n)throw new Et(nt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ife(t,e,n,r){if(e===!0&&r===!0)throw new Et(nt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FF(t){if(!$t.isDocumentKey(t))throw new Et(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BF(t){if($t.isDocumentKey(t))throw new Et(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pI(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ln()}function jo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Et(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pI(t);throw new Et(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ofe(t,e){if(e<=0)throw new Et(nt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Et(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Et(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ife("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Et(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Et(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Et(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mI{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VF({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Et(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VF(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tce;switch(r.type){case"firstParty":return new oce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zF.get(n);r&&(_t("ComponentProvider","Removing Datastore"),zF.delete(n),r.terminate())}(this),Promise.resolve()}}function sfe(t,e,n,r={}){var i;const o=(t=jo(t,mI))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Nh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ko.MOCK_USER;else{a=c7(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Et(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ko(c)}t._authCredentials=new nce(new C7(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pc(this.firestore,e,this._query)}}class hs{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hs(this.firestore,e,this._key)}}class zd extends Pc{constructor(e,n,r){super(e,n,oI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hs(this.firestore,null,new $t(e))}withConverter(e){return new zd(this.firestore,e,this._path)}}function nn(t,e,...n){if(t=Ur(t),cq("collection","path",e),t instanceof mI){const r=_r.fromString(e,...n);return BF(r),new zd(t,null,r)}{if(!(t instanceof hs||t instanceof zd))throw new Et(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_r.fromString(e,...n));return BF(r),new zd(t.firestore,null,r)}}function Sn(t,e,...n){if(t=Ur(t),arguments.length===1&&(e=S7.newId()),cq("doc","path",e),t instanceof mI){const r=_r.fromString(e,...n);return FF(r),new hs(t,null,new $t(r))}{if(!(t instanceof hs||t instanceof zd))throw new Et(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_r.fromString(e,...n));return FF(r),new hs(t.firestore,t instanceof zd?t.converter:null,new $t(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NK(this,"async_queue_retry"),this.Vu=()=>{const r=XC();r&&_t("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=XC();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=XC();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new oc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gf(e))throw e;_t("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw as("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=u$.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ln()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class qa extends mI{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HF(e),this._firestoreClient=void 0,await e}}}function afe(t,e){const n=typeof t=="object"?t:eI(),r=typeof t=="string"?t:"(default)",i=JE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=s7("firestore");o&&sfe(i,...o)}return i}function hp(t){if(t._terminated)throw new Et(nt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uq(t),t._firestoreClient}function uq(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new Nce(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,lq(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Jde(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function lfe(t,e){Nh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return cfe(t,_1.provider,{build:r=>new Qde(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function cfe(t,e,n){if((t=jo(t,qa))._firestoreClient||t._terminated)throw new Et(nt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Et(nt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},uq(t)}function ufe(t){return tfe(hp(t=jo(t,qa)))}function dfe(t){return nfe(hp(t=jo(t,qa)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $g(ao.fromBase64String(e))}catch(n){throw new Et(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $g(ao.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Et(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Et(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Et(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ffe=/^__.*__$/;class hfe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ru(e,this.data,this.fieldMask,n,this.fieldTransforms):new xv(e,this.data,n,this.fieldTransforms)}}class dq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ru(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class y${constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new y$(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return w1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(fq(this.Cu)&&ffe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pfe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hI(e)}Qu(e,n,r,i=!1){return new y$({Cu:e,methodName:n,qu:r,path:xi.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cv(t){const e=t._freezeSettings(),n=hI(t._databaseId);return new pfe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b$(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);x$("Data must be an object, but it was:",s,r);const a=gq(r,s);let l,c;if(o.merge)l=new Os(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const f=IM(e,d,n);if(!s.contains(f))throw new Et(nt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);yq(u,f)||u.push(f)}l=new Os(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new hfe(new Xo(a),l,c)}class gI extends m${_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gI}}function hq(t,e,n,r){const i=t.Qu(1,e,n);x$("Data must be an object, but it was:",i,r);const o=[],s=Xo.empty();up(r,(l,c)=>{const u=_$(e,l,n);c=Ur(c);const d=i.Nu(u);if(c instanceof gI)o.push(u);else{const f=Kx(c,d);f!=null&&(o.push(u),s.set(u,f))}});const a=new Os(o);return new dq(s,a,i.fieldTransforms)}function pq(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[IM(e,r,n)],l=[i];if(o.length%2!=0)throw new Et(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(IM(e,o[f])),l.push(o[f+1]);const c=[],u=Xo.empty();for(let f=a.length-1;f>=0;--f)if(!yq(c,a[f])){const p=a[f];let v=l[f];v=Ur(v);const y=s.Nu(p);if(v instanceof gI)c.push(p);else{const b=Kx(v,y);b!=null&&(c.push(p),u.set(p,b))}}const d=new Os(c);return new dq(u,d,s.fieldTransforms)}function mq(t,e,n,r=!1){return Kx(n,t.Qu(r?4:3,e))}function Kx(t,e){if(vq(t=Ur(t)))return x$("Unsupported field value:",e,t),gq(t,e);if(t instanceof m$)return function(r,i){if(!fq(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Kx(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nue(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=qn.fromDate(r);return{timestampValue:Dg(i.serializer,o)}}if(r instanceof qn){const o=new qn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dg(i.serializer,o)}}if(r instanceof g$)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $g)return{bytesValue:lK(i.serializer,r._byteString)};if(r instanceof hs){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e$(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof v$)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return YA(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${pI(r)}`)}(t,e)}function gq(t,e){const n={};return A7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):up(t,(r,i)=>{const o=Kx(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function vq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qn||t instanceof g$||t instanceof $g||t instanceof hs||t instanceof m$||t instanceof v$)}function x$(t,e,n){if(!vq(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=pI(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function IM(t,e,n){if((e=Ur(e))instanceof Ux)return e._internalPath;if(typeof e=="string")return _$(t,e);throw w1("Field path arguments must be of type string or ",t,!1,void 0,n)}const mfe=new RegExp("[~\\*/\\[\\]]");function _$(t,e,n){if(e.search(mfe)>=0)throw w1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ux(...e.split("."))._internalPath}catch{throw w1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function w1(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Et(nt.INVALID_ARGUMENT,a+t+l)}function yq(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gfe extends w${data(){return super.data()}}function vI(t,e){return typeof e=="string"?_$(t,e):e instanceof Ux?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vfe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Et(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C${}class yI extends C${}function mr(t,e,...n){let r=[];e instanceof C$&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof S$).length,a=o.filter(l=>l instanceof bI).length;if(s>1||s>0&&a>0)throw new Et(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bI extends yI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bI(e,n,r)}_apply(e){const n=this._parse(e);return bq(e._query,n),new Pc(e.firestore,e.converter,mM(e._query,n))}_parse(e){const n=Cv(e.firestore);return function(o,s,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Et(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){UF(d,u);const p=[];for(const v of d)p.push(WF(l,o,v));f={arrayValue:{values:p}}}else f=WF(l,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||UF(d,u),f=mq(a,s,d,u==="in"||u==="not-in");return Gn.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zr(t,e,n){const r=e,i=vI("where",t);return bI._create(i,r,n)}class S$ extends C${constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S$(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)bq(s,l),s=mM(s,l)}(e._query,n),new Pc(e.firestore,e.converter,mM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E$ extends yI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new E$(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Et(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Et(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nb(o,s)}(e._query,this._field,this._direction);return new Pc(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new dp(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function C1(t,e="asc"){const n=e,r=vI("orderBy",t);return E$._create(r,n)}class I$ extends yI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new I$(e,n,r)}_apply(e){return new Pc(e.firestore,e.converter,p1(e._query,this._limit,this._limitType))}}function F0(t){return ofe("limit",t),I$._create("limit",t,"F")}class T$ extends yI{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new T$(e,n,r)}_apply(e){const n=bfe(e,this.type,this._docOrFields,this._inclusive);return new Pc(e.firestore,e.converter,function(i,o){return new dp(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function yfe(...t){return T$._create("startAfter",t,!1)}function bfe(t,e,n,r){if(n[0]=Ur(n[0]),n[0]instanceof w$)return function(o,s,a,l,c){if(!l)throw new Et(nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of rg(o))if(d.field.isKeyField())u.push(zh(s,l.key));else{const f=l.data.field(d.field);if(rI(f))throw new Et(nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=d.field.canonicalString();throw new Et(nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}u.push(f)}return new Qd(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Cv(t.firestore);return function(s,a,l,c,u,d){const f=s.explicitOrderBy;if(u.length>f.length)throw new Et(nt.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let v=0;v<u.length;v++){const y=u[v];if(f[v].field.isKeyField()){if(typeof y!="string")throw new Et(nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!GA(s)&&y.indexOf("/")!==-1)throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const b=s.path.child(_r.fromString(y));if(!$t.isDocumentKey(b))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const x=new $t(b);p.push(zh(a,x))}else{const b=mq(l,c,y);p.push(b)}}return new Qd(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function WF(t,e,n){if(typeof(n=Ur(n))=="string"){if(n==="")throw new Et(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GA(e)&&n.indexOf("/")!==-1)throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_r.fromString(n));if(!$t.isDocumentKey(r))throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zh(t,new $t(r))}if(n instanceof hs)return zh(t,n._key);throw new Et(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pI(n)}.`)}function UF(t,e){if(!Array.isArray(t)||t.length===0)throw new Et(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bq(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Et(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Et(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xfe{convertValue(e,n="none"){switch(jh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ln()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return up(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ui(s.doubleValue));return new v$(o)}convertGeoPoint(e){return new g$(ui(e.latitude),ui(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=KA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Db(e));default:return null}}convertTimestamp(e){const n=Cu(e);return new qn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_r.fromString(e);pn(yK(r));const i=new Lh(r.get(1),r.get(3)),o=new $t(r.popFirst(5));return i.isEqual(n)||as(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xq extends w${constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ZC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ZC extends xq{data(e={}){return super.data(e)}}class _q{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new d0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ZC(this._firestore,this._userDataWriter,r.key,r,new d0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ZC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new d0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ZC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new d0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:_fe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _fe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t){t=jo(t,hs);const e=jo(t.firestore,qa);return rfe(hp(e),t._key).then(n=>Cfe(e,t,n))}class R$ extends xfe{constructor(e){super(),this.firestore=e}convertBytes(e){return new $g(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,n)}}function yn(t){t=jo(t,Pc);const e=jo(t.firestore,qa),n=hp(e),r=new R$(e);return vfe(t._query),aq(n,t._query).then(i=>new _q(e,r,t,i))}function wfe(t){t=jo(t,Pc);const e=jo(t.firestore,qa),n=hp(e),r=new R$(e);return aq(n,t._query,{source:"server"}).then(i=>new _q(e,r,t,i))}function Fb(t,e,n){t=jo(t,hs);const r=jo(t.firestore,qa),i=P$(t.converter,e,n);return qx(r,[b$(Cv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,uo.none())])}function Co(t,e,n,...r){t=jo(t,hs);const i=jo(t.firestore,qa),o=Cv(i);let s;return s=typeof(e=Ur(e))=="string"||e instanceof Ux?pq(o,"updateDoc",t._key,e,n,r):hq(o,"updateDoc",t._key,e),qx(i,[s.toMutation(t._key,uo.exists(!0))])}function eo(t){return qx(jo(t.firestore,qa),[new Fx(t._key,uo.none())])}function ia(t,e){const n=jo(t.firestore,qa),r=Sn(t),i=P$(t.converter,e);return qx(n,[b$(Cv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,uo.exists(!1))]).then(()=>r)}function qx(t,e){return function(r,i){const o=new oc;return r.asyncQueue.enqueueAndForget(async()=>Ude(await efe(r),i,o)),o.promise}(hp(t),e)}function Cfe(t,e,n){const r=n.docs.get(e._key),i=new R$(t);return new xq(t,i,e._key,r,new d0(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cv(e)}set(e,n,r){this._verifyNotCommitted();const i=bP(e,this._firestore),o=P$(i.converter,n,r),s=b$(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,uo.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=bP(e,this._firestore);let s;return s=typeof(n=Ur(n))=="string"||n instanceof Ux?pq(this._dataReader,"WriteBatch.update",o._key,n,r,i):hq(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,uo.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=bP(e,this._firestore);return this._mutations=this._mutations.concat(new Fx(n._key,uo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Et(nt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bP(t,e){if((t=Ur(t)).firestore!==e)throw new Et(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return hp(t=jo(t,qa)),new Sfe(t,e=>qx(t,e))}(function(e,n=!0){(function(i){bv=i})(lp),$h(new Gd("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new qa(new rce(r.getProvider("auth-internal")),new ace(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Et(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ic(jz,"4.7.3",e),ic(jz,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="firebasestorage.googleapis.com",Cq="storageBucket",Efe=2*60*1e3,Ife=10*60*1e3,Tfe=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Tc{constructor(e,n,r=0){super(xP(e),`Firebase Storage: ${n} (${xP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ti.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oi||(oi={}));function xP(t){return"storage/"+t}function k$(){const t="An unknown error occurred, please check the error payload for server response.";return new Ti(oi.UNKNOWN,t)}function Pfe(t){return new Ti(oi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Rfe(t){return new Ti(oi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kfe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ti(oi.UNAUTHENTICATED,t)}function Mfe(){return new Ti(oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ofe(t){return new Ti(oi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Sq(){return new Ti(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Eq(){return new Ti(oi.CANCELED,"User canceled the upload/download.")}function Dfe(t){return new Ti(oi.INVALID_URL,"Invalid URL '"+t+"'.")}function Afe(t){return new Ti(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $fe(){return new Ti(oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cq+"' property when initializing the app?")}function Iq(){return new Ti(oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Nfe(){return new Ti(oi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Lfe(){return new Ti(oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jfe(t){return new Ti(oi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function TM(t){return new Ti(oi.INVALID_ARGUMENT,t)}function Tq(){return new Ti(oi.APP_DELETED,"The Firebase app was deleted.")}function zfe(t){return new Ti(oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function B0(t,e){return new Ti(oi.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xy(t){throw new Ti(oi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qs.makeFromUrl(e,n)}catch{return new Qs(e,"")}if(r.path==="")return r;throw Afe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},y=n===wq?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${b}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:p,indices:v,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const T=w[E],I=T.regex.exec(e);if(I){const S=I[T.indices.bucket];let P=I[T.indices.path];P||(P=""),r=new Qs(S,P),T.postModify(r);break}}if(r==null)throw Dfe(e);return r}}class Ffe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bfe(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function f(){o&&clearTimeout(o)}function p(b,...x){if(c){f();return}if(b){f(),u.call(null,b,...x);return}if(l()||s){f(),u.call(null,b,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let v=!1;function y(b){v||(v=!0,f(),!c&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function Vfe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hfe(t){return t!==void 0}function Wfe(t){return typeof t=="function"}function Ufe(t){return typeof t=="object"&&!Array.isArray(t)}function xI(t){return typeof t=="string"||t instanceof String}function KF(t){return M$()&&t instanceof Blob}function M$(){return typeof Blob<"u"}function qF(t,e,n,r){if(r<e)throw TM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw TM(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Pq(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ph;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ph||(ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kfe{constructor(e,n,r,i,o,s,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Rw(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===ph.NO_ERROR,l=o.getStatus();if(!a||Rq(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===ph.ABORT;r(!1,new Rw(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Rw(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Hfe(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=k$();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?Tq():Eq();s(l)}else{const l=Sq();s(l)}};this.canceled_?n(!1,new Rw(!1,null,!0)):this.backoffId_=Bfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Vfe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rw{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Gfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Xfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Zfe(t,e,n,r,i,o,s=!0){const a=Pq(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Yfe(c,e),qfe(c,n),Gfe(c,o),Xfe(c,r),new Kfe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qfe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jfe(...t){const e=Qfe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(M$())return new Blob(t);throw new Ti(oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ehe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function the(t){if(typeof atob>"u")throw jfe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _P{constructor(e,n){this.data=e,this.contentType=n||null}}function nhe(t,e){switch(t){case ec.RAW:return new _P(kq(e));case ec.BASE64:case ec.BASE64URL:return new _P(Mq(t,e));case ec.DATA_URL:return new _P(ihe(e),ohe(e))}throw k$()}function kq(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rhe(t){let e;try{e=decodeURIComponent(t)}catch{throw B0(ec.DATA_URL,"Malformed data URL.")}return kq(e)}function Mq(t,e){switch(t){case ec.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw B0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ec.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw B0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=the(e)}catch(i){throw i.message.includes("polyfill")?i:B0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Oq{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw B0(ec.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=she(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ihe(t){const e=new Oq(t);return e.base64?Mq(ec.BASE64,e.rest):rhe(e.rest)}function ohe(t){return new Oq(t).contentType}function she(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){let r=0,i="";KF(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(KF(this.data_)){const r=this.data_,i=ehe(r,e,n);return i===null?null:new Gc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Gc(r,!0)}}static getBlob(...e){if(M$()){const n=e.map(r=>r instanceof Gc?r.data_:r);return new Gc(Jfe.apply(null,n))}else{const n=e.map(s=>xI(s)?nhe(ec.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Gc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t){let e;try{e=JSON.parse(t)}catch{return null}return Ufe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ahe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lhe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Aq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function che(t,e){return e}class is{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||che}}let kw=null;function uhe(t){return!xI(t)||t.length<2?t:Aq(t)}function O$(){if(kw)return kw;const t=[];t.push(new is("bucket")),t.push(new is("generation")),t.push(new is("metageneration")),t.push(new is("name","fullPath",!0));function e(o,s){return uhe(s)}const n=new is("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new is("size");return i.xform=r,t.push(i),t.push(new is("timeCreated")),t.push(new is("updated")),t.push(new is("md5Hash",null,!0)),t.push(new is("cacheControl",null,!0)),t.push(new is("contentDisposition",null,!0)),t.push(new is("contentEncoding",null,!0)),t.push(new is("contentLanguage",null,!0)),t.push(new is("contentType",null,!0)),t.push(new is("metadata","customMetadata",!0)),kw=t,kw}function dhe(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Qs(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function fhe(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return dhe(r,t),r}function $q(t,e,n){const r=Dq(e);return r===null?null:fhe(t,r,n)}function hhe(t,e,n,r){const i=Dq(e);if(i===null||!xI(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+s(u)+"/o/"+s(d),p=Sv(f,n,r),v=Pq({alt:"media",token:c});return p+v})[0]}function Nq(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class pp{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){if(!t)throw k$()}function D$(t,e){function n(r,i){const o=$q(t,i,e);return au(o!==null),o}return n}function phe(t,e){function n(r,i){const o=$q(t,i,e);return au(o!==null),hhe(o,i,t.host,t._protocol)}return n}function Gx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Mfe():i=kfe():n.getStatus()===402?i=Rfe(t.bucket):n.getStatus()===403?i=Ofe(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function A$(t){const e=Gx(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Pfe(t.path)),o.serverResponse=i.serverResponse,o}return n}function mhe(t,e,n){const r=e.fullServerUrl(),i=Sv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new pp(i,o,D$(t,n),s);return a.errorHandler=A$(e),a}function ghe(t,e,n){const r=e.fullServerUrl(),i=Sv(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new pp(i,o,phe(t,n),s);return a.errorHandler=A$(e),a}function vhe(t,e){const n=e.fullServerUrl(),r=Sv(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,c){}const a=new pp(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=A$(e),a}function yhe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Lq(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yhe(null,e)),r}function jq(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=Lq(e,r,i),u=Nq(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Gc.getBlob(d,r,f);if(p===null)throw Iq();const v={name:c.fullPath},y=Sv(o,t.host,t._protocol),b="POST",x=t.maxUploadRetryTime,_=new pp(y,b,D$(t,n),x);return _.urlParams=v,_.headers=s,_.body=p.uploadData(),_.errorHandler=Gx(e),_}class S1{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function $$(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{au(!1)}return au(!!n&&(e||["active"]).indexOf(n)!==-1),n}function bhe(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=Lq(e,r,i),a={name:s.fullPath},l=Sv(o,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=Nq(s,n),f=t.maxUploadRetryTime;function p(y){$$(y);let b;try{b=y.getResponseHeader("X-Goog-Upload-URL")}catch{au(!1)}return au(xI(b)),b}const v=new pp(l,c,p,f);return v.urlParams=a,v.headers=u,v.body=d,v.errorHandler=Gx(e),v}function xhe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(c){const u=$$(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{au(!1)}d||au(!1);const f=Number(d);return au(!isNaN(f)),new S1(f,r.size(),u==="final")}const s="POST",a=t.maxUploadRetryTime,l=new pp(n,s,o,a);return l.headers=i,l.errorHandler=Gx(e),l}const GF=256*1024;function _he(t,e,n,r,i,o,s,a){const l=new S1(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Nfe();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,f=d+u;let p="";u===0?p="finalize":c===u?p="upload, finalize":p="upload";const v={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(d,f);if(y===null)throw Iq();function b(E,T){const I=$$(E,["active","final"]),S=l.current+u,P=r.size();let R;return I==="final"?R=D$(e,o)(E,T):R=null,new S1(S,P,I==="final",R)}const x="POST",_=e.maxUploadRetryTime,w=new pp(n,x,b,_);return w.headers=v,w.body=y.uploadData(),w.progressCallback=a||null,w.errorHandler=Gx(t),w}const Ts={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wP(t){switch(t){case"running":case"pausing":case"canceling":return Ts.RUNNING;case"paused":return Ts.PAUSED;case"success":return Ts.SUCCESS;case"canceled":return Ts.CANCELED;case"error":return Ts.ERROR;default:return Ts.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class whe{constructor(e,n,r){if(Wfe(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Che{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ph.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ph.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ph.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xy("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class She extends Che{initXhr(){this.xhr_.responseType="text"}}function ud(){return new She}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=O$(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(oi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(Rq(i.status,[]))if(o)i=Sq();else{this.sleepTime=Math.max(this.sleepTime*2,Tfe),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(oi.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=bhe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ud,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=xhe(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,ud,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=GF*this._chunkMultiplier,n=new S1(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=_he(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,ud,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){GF*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=mhe(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ud,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=jq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ud,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Eq(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=wP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new whe(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(wP(this._state)){case Ts.SUCCESS:qp(this._resolve.bind(null,this.snapshot))();break;case Ts.CANCELED:case Ts.ERROR:const n=this._reject;qp(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wP(this._state)){case Ts.RUNNING:case Ts.PAUSED:e.next&&qp(e.next.bind(e,this.snapshot))();break;case Ts.SUCCESS:e.complete&&qp(e.complete.bind(e))();break;case Ts.CANCELED:case Ts.ERROR:e.error&&qp(e.error.bind(e,this._error))();break;default:e.error&&qp(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this._service=e,n instanceof Qs?this._location=n:this._location=Qs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wh(e,n)}get root(){const e=new Qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Aq(this._location.path)}get storage(){return this._service}get parent(){const e=ahe(this._location.path);if(e===null)return null;const n=new Qs(this._location.bucket,e);return new Wh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zfe(e)}}function Ihe(t,e,n){t._throwIfRoot("uploadBytes");const r=jq(t.storage,t._location,O$(),new Gc(e,!0),n);return t.storage.makeRequestWithTokens(r,ud).then(i=>({metadata:i,ref:t}))}function The(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Ehe(t,new Gc(e),n)}function Phe(t){t._throwIfRoot("getDownloadURL");const e=ghe(t.storage,t._location,O$());return t.storage.makeRequestWithTokens(e,ud).then(n=>{if(n===null)throw Lfe();return n})}function Rhe(t){t._throwIfRoot("deleteObject");const e=vhe(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ud)}function khe(t,e){const n=lhe(t._location.path,e),r=new Qs(t._location.bucket,n);return new Wh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mhe(t){return/^[A-Za-z]+:\/\//.test(t)}function Ohe(t,e){return new Wh(t,e)}function zq(t,e){if(t instanceof N$){const n=t;if(n._bucket==null)throw $fe();const r=new Wh(n,n._bucket);return e!=null?zq(r,e):r}else return e!==void 0?khe(t,e):t}function Dhe(t,e){if(e&&Mhe(e)){if(t instanceof N$)return Ohe(t,e);throw TM("To use ref(service, url), the first argument must be a Storage instance.")}else return zq(t,e)}function YF(t,e){const n=e==null?void 0:e[Cq];return n==null?null:Qs.makeFromBucketSpec(n,t)}function Ahe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:c7(i,t.app.options.projectId))}class N${constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=wq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Efe,this._maxUploadRetryTime=Ife,this._requests=new Set,i!=null?this._bucket=Qs.makeFromBucketSpec(i,this._host):this._bucket=YF(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qs.makeFromBucketSpec(this._url,e):this._bucket=YF(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wh(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ffe(Tq());{const s=Zfe(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const XF="@firebase/storage",ZF="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="storage";function $he(t,e,n){return t=Ur(t),Ihe(t,e,n)}function Nhe(t,e,n){return t=Ur(t),The(t,e,n)}function Bq(t){return t=Ur(t),Phe(t)}function Lhe(t){return t=Ur(t),Rhe(t)}function PM(t,e){return t=Ur(t),Dhe(t,e)}function Vq(t=eI(),e){t=Ur(t);const r=JE(t,Fq).getImmediate({identifier:e}),i=s7("storage");return i&&jhe(r,...i),r}function jhe(t,e,n,r={}){Ahe(t,e,n,r)}function zhe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new N$(n,r,i,e,lp)}function Fhe(){$h(new Gd(Fq,zhe,"PUBLIC").setMultipleInstances(!0)),ic(XF,ZF,""),ic(XF,ZF,"esm2017")}Fhe();function L$(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bhe=Hq,Wq=new Nx("auth","Firebase",Hq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new FA("@firebase/auth");function Vhe(t,...e){E1.logLevel<=Un.WARN&&E1.warn(`Auth (${lp}): ${t}`,...e)}function QC(t,...e){E1.logLevel<=Un.ERROR&&E1.error(`Auth (${lp}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,...e){throw j$(t,...e)}function sc(t,...e){return j$(t,...e)}function Uq(t,e,n){const r=Object.assign(Object.assign({},Bhe()),{[e]:n});return new Nx("auth","Firebase",r).create(e,{appName:t.name})}function lu(t){return Uq(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j$(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wq.create(t,...e)}function En(t,e,...n){if(!t)throw j$(e,...n)}function eu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw QC(e),new Error(e)}function Su(t,e){t||eu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Hhe(){return QF()==="http:"||QF()==="https:"}function QF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Whe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hhe()||Dae()||"connection"in navigator)?navigator.onLine:!0}function Uhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.shortDelay=e,this.longDelay=n,Su(n>e,"Short delay should be less than long delay!"),this.isMobile=kae()||Aae()}get(){return Whe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t,e){Su(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe=new Yx(3e4,6e4);function ku(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mu(t,e,n,r,i={}){return qq(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Lx(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return Oae()||(c.referrerPolicy="no-referrer"),Kq.fetch()(Gq(t,t.config.apiHost,n,a),c)})}async function qq(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Khe),e);try{const i=new Yhe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Mw(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mw(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Mw(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Mw(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Uq(t,u,c);ml(t,u)}}catch(i){if(i instanceof Tc)throw i;ml(t,"network-request-failed",{message:String(i)})}}async function Xx(t,e,n,r,i={}){const o=await Mu(t,e,n,r,i);return"mfaPendingCredential"in o&&ml(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Gq(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?z$(t.config,i):`${t.config.apiScheme}://${i}`}function Ghe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yhe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sc(this.auth,"network-request-failed")),qhe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mw(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sc(t,e,r);return i.customData._tokenResponse=n,i}function JF(t){return t!==void 0&&t.enterprise!==void 0}class Xhe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ghe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Zhe(t,e){return Mu(t,"GET","/v2/recaptchaConfig",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qhe(t,e){return Mu(t,"POST","/v1/accounts:delete",e)}async function Yq(t,e){return Mu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jhe(t,e=!1){const n=Ur(t),r=await n.getIdToken(e),i=F$(r);En(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:V0(CP(i.auth_time)),issuedAtTime:V0(CP(i.iat)),expirationTime:V0(CP(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function CP(t){return Number(t)*1e3}function F$(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return QC("JWT malformed, contained fewer than 3 sections"),null;try{const i=i7(n);return i?JSON.parse(i):(QC("Failed to decode base64 JWT payload"),null)}catch(i){return QC("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e5(t){const e=F$(t);return En(e,"internal-error"),En(typeof e.exp<"u","internal-error"),En(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tc&&epe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function epe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tpe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=V0(this.lastLoginAt),this.creationTime=V0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bb(t,Yq(n,{idToken:r}));En(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Xq(o.providerUserInfo):[],a=rpe(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kM(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function npe(t){const e=Ur(t);await I1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rpe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xq(t){return t.map(e=>{var{providerId:n}=e,r=L$(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ipe(t,e){const n=await qq(t,{},async()=>{const r=Lx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Gq(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kq.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ope(t,e){return Mu(t,"POST","/v2/accounts:revokeToken",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){En(e.idToken,"internal-error"),En(typeof e.idToken<"u","internal-error"),En(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){En(e.length!==0,"internal-error");const n=e5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(En(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await ipe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new og;return r&&(En(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(En(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(En(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new og,this.toJSON())}_performRefresh(){return eu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e){En(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=L$(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tpe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kM(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bb(this,this.stsTokenManager.getToken(this.auth,e));return En(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jhe(this,e)}reload(){return npe(this)}_assign(e){this!==e&&(En(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){En(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await I1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zl(this.auth.app))return Promise.reject(lu(this.auth));const e=await this.getIdToken();return await Bb(this,Qhe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:E,isAnonymous:T,providerData:I,stsTokenManager:S}=n;En(w&&S,e,"internal-error");const P=og.fromJSON(this.name,S);En(typeof w=="string",e,"internal-error"),Wu(d,e.name),Wu(f,e.name),En(typeof E=="boolean",e,"internal-error"),En(typeof T=="boolean",e,"internal-error"),Wu(p,e.name),Wu(v,e.name),Wu(y,e.name),Wu(b,e.name),Wu(x,e.name),Wu(_,e.name);const R=new tu({uid:w,auth:e,email:f,emailVerified:E,displayName:d,isAnonymous:T,photoURL:v,phoneNumber:p,tenantId:y,stsTokenManager:P,createdAt:x,lastLoginAt:_});return I&&Array.isArray(I)&&(R.providerData=I.map(O=>Object.assign({},O))),b&&(R._redirectEventId=b),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new og;i.updateFromServerResponse(n);const o=new tu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await I1(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];En(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Xq(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new og;a.updateFromIdToken(r);const l=new tu({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kM(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Map;function nu(t){Su(t instanceof Function,"Expected a class definition");let e=t5.get(t);return e?(Su(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,t5.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zq.type="NONE";const n5=Zq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e,n){return`firebase:${t}:${e}:${n}`}class sg{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=JC(this.userKey,i.apiKey,o),this.fullPersistenceKey=JC("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new sg(nu(n5),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||nu(n5);const s=JC(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=tu._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new sg(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new sg(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rG(e))return"Blackberry";if(iG(e))return"Webos";if(Jq(e))return"Safari";if((e.includes("chrome/")||eG(e))&&!e.includes("edge/"))return"Chrome";if(nG(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Qq(t=ho()){return/firefox\//i.test(t)}function Jq(t=ho()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eG(t=ho()){return/crios\//i.test(t)}function tG(t=ho()){return/iemobile/i.test(t)}function nG(t=ho()){return/android/i.test(t)}function rG(t=ho()){return/blackberry/i.test(t)}function iG(t=ho()){return/webos/i.test(t)}function B$(t=ho()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function spe(t=ho()){var e;return B$(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ape(){return $ae()&&document.documentMode===10}function oG(t=ho()){return B$(t)||nG(t)||iG(t)||rG(t)||/windows phone/i.test(t)||tG(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t,e=[]){let n;switch(t){case"Browser":n=r5(ho());break;case"Worker":n=`${r5(ho())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lp}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lpe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cpe(t,e={}){return Mu(t,"GET","/v2/passwordPolicy",ku(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const upe=6;class dpe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:upe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fpe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i5(this),this.idTokenSubscription=new i5(this),this.beforeStateQueue=new lpe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nu(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await sg.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yq(this,{idToken:e}),r=await tu._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return En(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await I1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Uhe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zl(this.app))return Promise.reject(lu(this));const n=e?Ur(e):null;return n&&En(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&En(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zl(this.app)?Promise.reject(lu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zl(this.app)?Promise.reject(lu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cpe(this),n=new dpe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ope(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nu(e)||this._popupRedirectResolver;En(n,this,"argument-error"),this.redirectPersistenceManager=await sg.create(this,[nu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(En(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return En(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sG(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Vhe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yf(t){return Ur(t)}class i5{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bae(n=>this.observer=n)}get next(){return En(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _I={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hpe(t){_I=t}function aG(t){return _I.loadJS(t)}function ppe(){return _I.recaptchaEnterpriseScript}function mpe(){return _I.gapiScript}function gpe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vpe="recaptcha-enterprise",ype="NO_RECAPTCHA";class bpe{constructor(e){this.type=vpe,this.auth=yf(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Zhe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Xhe(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;JF(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(ype)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&JF(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ppe();l.length!==0&&(l+=a),aG(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function o5(t,e,n,r=!1){const i=new bpe(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function T1(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await o5(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await o5(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xpe(t,e){const n=JE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(u1(o,e??{}))return i;ml(i,"already-initialized")}return n.initialize({options:e})}function _pe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wpe(t,e,n){const r=yf(t);En(r._canInitEmulator,r,"emulator-config-failed"),En(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=lG(e),{host:s,port:a}=Cpe(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Spe()}function lG(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cpe(t){const e=lG(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:s5(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:s5(s)}}}function s5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Spe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return eu("not implemented")}_getIdTokenResponse(e){return eu("not implemented")}_linkToIdToken(e,n){return eu("not implemented")}_getReauthenticationResolver(e){return eu("not implemented")}}async function Epe(t,e){return Mu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ipe(t,e){return Xx(t,"POST","/v1/accounts:signInWithPassword",ku(t,e))}async function Tpe(t,e){return Mu(t,"POST","/v1/accounts:sendOobCode",ku(t,e))}async function Ppe(t,e){return Tpe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rpe(t,e){return Xx(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,e))}async function kpe(t,e){return Xx(t,"POST","/v1/accounts:signInWithEmailLink",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends V${constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vb(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vb(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T1(e,n,"signInWithPassword",Ipe);case"emailLink":return Rpe(e,{email:this._email,oobCode:this._password});default:ml(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T1(e,r,"signUpPassword",Epe);case"emailLink":return kpe(e,{idToken:n,email:this._email,oobCode:this._password});default:ml(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(t,e){return Xx(t,"POST","/v1/accounts:signInWithIdp",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mpe="http://localhost";class Uh extends V${constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ml("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=L$(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Uh(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ag(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ag(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ag(e,n)}buildRequest(){const e={requestUri:Mpe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ope(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dpe(t){const e=o0(s0(t)).link,n=e?o0(s0(e)).deep_link_id:null,r=o0(s0(t)).deep_link_id;return(r?o0(s0(r)).link:null)||r||n||e||t}class H${constructor(e){var n,r,i,o,s,a;const l=o0(s0(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Ope((i=l.mode)!==null&&i!==void 0?i:null);En(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Dpe(e);try{return new H$(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.providerId=Ev.PROVIDER_ID}static credential(e,n){return Vb._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=H$.parseLink(n);return En(r,"argument-error"),Vb._fromEmailAndCode(e,r.code,r.tenantId)}}Ev.PROVIDER_ID="password";Ev.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ev.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx extends cG{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends Zx{constructor(){super("facebook.com")}static credential(e){return Uh._fromParams({providerId:dd.PROVIDER_ID,signInMethod:dd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dd.credentialFromTaggedObject(e)}static credentialFromError(e){return dd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dd.credential(e.oauthAccessToken)}catch{return null}}}dd.FACEBOOK_SIGN_IN_METHOD="facebook.com";dd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Zx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uh._fromParams({providerId:fd.PROVIDER_ID,signInMethod:fd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fd.credentialFromTaggedObject(e)}static credentialFromError(e){return fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fd.credential(n,r)}catch{return null}}}fd.GOOGLE_SIGN_IN_METHOD="google.com";fd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Zx{constructor(){super("github.com")}static credential(e){return Uh._fromParams({providerId:hd.PROVIDER_ID,signInMethod:hd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hd.credentialFromTaggedObject(e)}static credentialFromError(e){return hd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hd.credential(e.oauthAccessToken)}catch{return null}}}hd.GITHUB_SIGN_IN_METHOD="github.com";hd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends Zx{constructor(){super("twitter.com")}static credential(e,n){return Uh._fromParams({providerId:pd.PROVIDER_ID,signInMethod:pd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pd.credentialFromTaggedObject(e)}static credentialFromError(e){return pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pd.credential(n,r)}catch{return null}}}pd.TWITTER_SIGN_IN_METHOD="twitter.com";pd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ape(t,e){return Xx(t,"POST","/v1/accounts:signUp",ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await tu._fromIdTokenResponse(e,r,i),s=a5(r);return new Kh({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=a5(r);return new Kh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function a5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Tc{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,P1.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new P1(e,n,r,i)}}function uG(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?P1._fromErrorAndOperation(t,o,e,r):o})}async function $pe(t,e,n=!1){const r=await Bb(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Kh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Npe(t,e,n=!1){const{auth:r}=t;if(Zl(r.app))return Promise.reject(lu(r));const i="reauthenticate";try{const o=await Bb(t,uG(r,i,e,t),n);En(o.idToken,r,"internal-error");const s=F$(o.idToken);En(s,r,"internal-error");const{sub:a}=s;return En(t.uid===a,r,"user-mismatch"),Kh._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ml(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dG(t,e,n=!1){if(Zl(t.app))return Promise.reject(lu(t));const r="signIn",i=await uG(t,r,e),o=await Kh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Lpe(t,e){return dG(yf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jpe(t,e,n){var r;En(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),En(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(En(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(En(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fG(t){const e=yf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wI(t,e,n){const r=yf(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&jpe(r,i,n),await T1(r,i,"getOobCode",Ppe)}async function zpe(t,e,n){if(Zl(t.app))return Promise.reject(lu(t));const r=yf(t),s=await T1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ape).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fG(t),l}),a=await Kh._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Fpe(t,e,n){return Zl(t.app)?Promise.reject(lu(t)):Lpe(Ur(t),Ev.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fG(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bpe(t,e){return Ur(t).setPersistence(e)}function Vpe(t,e,n,r){return Ur(t).onIdTokenChanged(e,n,r)}function Hpe(t,e,n){return Ur(t).beforeAuthStateChanged(e,n)}function Wpe(t,e,n,r){return Ur(t).onAuthStateChanged(e,n,r)}function Upe(t){return Ur(t).signOut()}const R1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(R1,"1"),this.storage.removeItem(R1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kpe=1e3,qpe=10;class pG extends hG{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oG(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);ape()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qpe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Kpe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pG.type="LOCAL";const Gpe=pG;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG extends hG{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mG.type="SESSION";const W$=mG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ype(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new CI(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await Ype(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}CI.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xpe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=U$("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(){return window}function Zpe(t){ac().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(){return typeof ac().WorkerGlobalScope<"u"&&typeof ac().importScripts=="function"}async function Qpe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jpe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eme(){return gG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG="firebaseLocalStorageDb",tme=1,k1="firebaseLocalStorage",yG="fbase_key";class Qx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function SI(t,e){return t.transaction([k1],e?"readwrite":"readonly").objectStore(k1)}function nme(){const t=indexedDB.deleteDatabase(vG);return new Qx(t).toPromise()}function MM(){const t=indexedDB.open(vG,tme);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(k1,{keyPath:yG})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(k1)?e(r):(r.close(),await nme(),e(await MM()))})})}async function l5(t,e,n){const r=SI(t,!0).put({[yG]:e,value:n});return new Qx(r).toPromise()}async function rme(t,e){const n=SI(t,!1).get(e),r=await new Qx(n).toPromise();return r===void 0?null:r.value}function c5(t,e){const n=SI(t,!0).delete(e);return new Qx(n).toPromise()}const ime=800,ome=3;class bG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await MM(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ome)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=CI._getInstance(eme()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qpe(),!this.activeServiceWorker)return;this.sender=new Xpe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jpe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await MM();return await l5(e,R1,"1"),await c5(e,R1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>l5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rme(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>c5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=SI(i,!1).getAll();return new Qx(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ime)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bG.type="LOCAL";const sme=bG;new Yx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ame(t,e){return e?nu(e):(En(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K$ extends V${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ag(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ag(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ag(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lme(t){return dG(t.auth,new K$(t),t.bypassAuthState)}function cme(t){const{auth:e,user:n}=t;return En(n,e,"internal-error"),Npe(n,new K$(t),t.bypassAuthState)}async function ume(t){const{auth:e,user:n}=t;return En(n,e,"internal-error"),$pe(n,new K$(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lme;case"linkViaPopup":case"linkViaRedirect":return ume;case"reauthViaPopup":case"reauthViaRedirect":return cme;default:ml(this.auth,"internal-error")}}resolve(e){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dme=new Yx(2e3,1e4);class Fm extends xG{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fm.currentPopupAction&&Fm.currentPopupAction.cancel(),Fm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return En(e,this.auth,"internal-error"),e}async onExecution(){Su(this.filter.length===1,"Popup operations only handle one event");const e=U$();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dme.get())};e()}}Fm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fme="pendingRedirect",eS=new Map;class hme extends xG{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eS.get(this.auth._key());if(!e){try{const r=await pme(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eS.set(this.auth._key(),e)}return this.bypassAuthState||eS.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pme(t,e){const n=vme(e),r=gme(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mme(t,e){eS.set(t._key(),e)}function gme(t){return nu(t._redirectPersistence)}function vme(t){return JC(fme,t.config.apiKey,t.name)}async function yme(t,e,n=!1){if(Zl(t.app))return Promise.reject(lu(t));const r=yf(t),i=ame(r,e),s=await new hme(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme=10*60*1e3;class xme{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_me(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_G(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bme&&this.cachedEventUids.clear(),this.cachedEventUids.has(u5(e))}saveEventToCache(e){this.cachedEventUids.add(u5(e)),this.lastProcessedEventTime=Date.now()}}function u5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _G({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _me(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _G(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wme(t,e={}){return Mu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sme=/^https?/;async function Eme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wme(t);for(const n of e)try{if(Ime(n))return}catch{}ml(t,"unauthorized-domain")}function Ime(t){const e=RM(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Sme.test(n))return!1;if(Cme.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tme=new Yx(3e4,6e4);function d5(){const t=ac().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Pme(t){return new Promise((e,n)=>{var r,i,o;function s(){d5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d5(),n(sc(t,"network-request-failed"))},timeout:Tme.get()})}if(!((i=(r=ac().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ac().gapi)===null||o===void 0)&&o.load)s();else{const a=gpe("iframefcb");return ac()[a]=()=>{gapi.load?s():n(sc(t,"network-request-failed"))},aG(`${mpe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tS=null,e})}let tS=null;function Rme(t){return tS=tS||Pme(t),tS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kme=new Yx(5e3,15e3),Mme="__/auth/iframe",Ome="emulator/auth/iframe",Dme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ame=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $me(t){const e=t.config;En(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z$(e,Ome):`https://${t.config.authDomain}/${Mme}`,r={apiKey:e.apiKey,appName:t.name,v:lp},i=Ame.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Lx(r).slice(1)}`}async function Nme(t){const e=await Rme(t),n=ac().gapi;return En(n,t,"internal-error"),e.open({where:document.body,url:$me(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dme,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=sc(t,"network-request-failed"),a=ac().setTimeout(()=>{o(s)},kme.get());function l(){ac().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jme=500,zme=600,Fme="_blank",Bme="http://localhost";class f5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vme(t,e,n,r=jme,i=zme){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Lme),{width:r.toString(),height:i.toString(),top:o,left:s}),c=ho().toLowerCase();n&&(a=eG(c)?Fme:n),Qq(c)&&(e=e||Bme,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(spe(c)&&a!=="_self")return Hme(e||"",a),new f5(null);const d=window.open(e||"",a,u);En(d,t,"popup-blocked");try{d.focus()}catch{}return new f5(d)}function Hme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wme="__/auth/handler",Ume="emulator/auth/handler",Kme=encodeURIComponent("fac");async function h5(t,e,n,r,i,o){En(t.config.authDomain,t,"auth-domain-config-required"),En(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lp,eventId:i};if(e instanceof cG){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Fae(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))s[u]=d}if(e instanceof Zx){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Kme}=${encodeURIComponent(l)}`:"";return`${qme(t)}?${Lx(a).slice(1)}${c}`}function qme({config:t}){return t.emulator?z$(t,Ume):`https://${t.authDomain}/${Wme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="webStorageSupport";class Gme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W$,this._completeRedirectFn=yme,this._overrideRedirectResult=mme}async _openPopup(e,n,r,i){var o;Su((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await h5(e,n,r,RM(),i);return Vme(e,s,U$())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await h5(e,n,r,RM(),i);return Zpe(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Su(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Nme(e),r=new xme(e);return n.register("authEvent",i=>(En(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(SP,{type:SP},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[SP];s!==void 0&&n(!!s),ml(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Eme(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oG()||Jq()||B$()}}const Yme=Gme;var p5="@firebase/auth",m5="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){En(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qme(t){$h(new Gd("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;En(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sG(t)},c=new fpe(r,i,o,l);return _pe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$h(new Gd("auth-internal",e=>{const n=yf(e.getProvider("auth").getImmediate());return(r=>new Xme(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ic(p5,m5,Zme(t)),ic(p5,m5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme=5*60,ege=l7("authIdTokenMaxAge")||Jme;let g5=null;const tge=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ege)return;const i=n==null?void 0:n.token;g5!==i&&(g5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yc(t=eI()){const e=JE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xpe(t,{popupRedirectResolver:Yme,persistence:[sme,Gpe,W$]}),r=l7("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=tge(o.toString());Hpe(n,s,()=>s(n.currentUser)),Vpe(n,a=>s(a))}}const i=o7("auth");return i&&wpe(n,`http://${i}`),n}function nge(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hpe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=sc("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",nge().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qme("Browser");const rge={apiKey:"AIzaSyBWDncE18JG9yjPX4kxTbSB9wLPi2qcAOw",authDomain:"application-inovie-scan.firebaseapp.com",projectId:"application-inovie-scan",storageBucket:"application-inovie-scan.firebasestorage.app",messagingSenderId:"703727839643",appId:"1:703727839643:web:f58c9241fb0d05a813593e",measurementId:"G-ZQF14KV51G"};ece("warn");const wG="https://application-inovie-scan.web.app",q$=Vle().length===0?p7(rge):eI(),dt=afe(q$),v5=Vq(q$),ul=yc(q$);try{Bpe(ul,W$).then(()=>{console.log("Persistance de session configurée")}).catch(t=>{console.error("Erreur de configuration de la persistance:",t)}),lfe(dt).then(()=>{console.log("✅ Persistance Firestore activée")}).catch(t=>{t.code==="failed-precondition"?console.warn("⚠️ La persistance Firestore ne peut pas être activée car plusieurs onglets sont ouverts"):t.code==="unimplemented"&&console.warn("⚠️ Le navigateur ne prend pas en charge la persistance Firestore")})}catch(t){console.error("❌ Erreur lors de la configuration de la persistance",t)}const CG=h.createContext({currentUser:null,loading:!0,error:null,logout:async()=>{},hasPermission:()=>!1,isAllowedRoute:()=>!1,login:async()=>{throw new Error("Login function not implemented")}}),bf=()=>h.useContext(CG),y5={Administrateur:["dashboard.view","passages.view","passages.create","passages.edit","passages.delete","sites.view","sites.create","sites.edit","sites.delete","tournees.view","tournees.create","tournees.edit","tournees.delete","vehicules.view","vehicules.create","vehicules.edit","vehicules.delete","users.view","users.create","users.edit","users.delete","init-passages.view","carte.view","carte.edit"],Utilisateur:["dashboard.view","passages.view","passages.create","passages.edit","sites.view","sites.create","sites.edit","tournees.view","tournees.create","tournees.edit","vehicules.view","vehicules.create","vehicules.edit","users.view","users.create","users.edit","init-passages.view","carte.view"],Coursier:["passages.view","passages.create","passages.edit"]},ige={"/":"dashboard.view","/passages":"passages.view","/sites":"sites.view","/tournees":"tournees.view","/vehicules":"vehicules.view","/admin/users":"users.view","/admin":"dashboard.view","/init-passages":"init-passages.view","/map":"carte.view"},oge={Administrateur:["/","/passages","/sites","/tournees","/vehicules","/admin/users","/init-passages"],Utilisateur:["/","/passages","/sites","/tournees","/vehicules","/admin/users","/init-passages"],Coursier:["/passages"]},SG=({children:t})=>{const[e,n]=h.useState(null),[r,i]=h.useState(!0),[o,s]=h.useState(null),a=p=>{var y;return e?((y=e.email)==null?void 0:y.toLowerCase())==="mickael.volle@inovie.fr"?!0:(y5[e.role]||[]).includes(p):!1},l=p=>{var b;if(!e)return!1;if(((b=e.email)==null?void 0:b.toLowerCase())==="mickael.volle@inovie.fr")return!0;const v=ige[p];if(v&&a(v))return!0;const y=oge[e.role]||[];return y.includes(p)?!0:y.some(x=>p.startsWith(x)&&x!=="/")},c=async()=>{try{n(null),Upe(ul).catch(p=>{console.error("Erreur lors de la déconnexion Firebase:",p)})}catch(p){console.error("Erreur lors de la déconnexion:",p),s("Erreur lors de la déconnexion"),n(null)}},u=p=>{const v=p.split("@")[0].split(".");return v.length>1?v.map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):v[0].split("-").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ")},d=async(p,v)=>{try{i(!0),s(null);const b=(await Fpe(ul,p,v)).user;console.log("🔍 Détails de l'utilisateur Firebase:",{uid:b.uid,email:b.email,displayName:b.displayName});const x=Sn(dt,"users",b.uid),_=await Do(x);if(!_.exists())throw console.error("❌ Aucun compte utilisateur trouvé. Veuillez contacter l'administrateur."),new Error("Compte utilisateur non trouvé. Contactez votre administrateur.");const w=_.data();console.log("🔍 Données Firestore de l'utilisateur:",w);const E={id:_.id,identifiant:w.identifiant||p.split("@")[0],email:w.email||p,nom:w.nom||w.displayName||b.displayName||u(p),role:w.role||"Utilisateur",pole:w.pole||"",statut:w.statut||"actif",uid:b.uid,permissions:w.permissions||[],dateCreation:w.dateCreation,dateModification:w.dateModification};return console.log("🏷️ Nom d'utilisateur final:",E.nom),p.toLowerCase()==="mickael.volle@inovie.fr"&&(E.role="Administrateur",E.pole="Informatique",E.permissions=y5.Administrateur),console.log("👤 Données utilisateur finales:",E),n(E),E}catch(y){console.error("Erreur lors de la connexion:",y);let b="Erreur lors de la connexion";throw y.code==="auth/invalid-credential"?b="Compte non trouvé ou identifiants incorrects":y.code==="auth/too-many-requests"&&(b="Trop de tentatives de connexion. Veuillez réessayer plus tard."),s(b),new Error(b)}finally{i(!1)}};h.useEffect(()=>{console.log("✅ Initialisation du gestionnaire d'authentification Firebase");const p=Wpe(ul,async v=>{console.log("🔍 État de l'authentification changé:",v?v.email:"Aucun utilisateur connecté");try{if(v){if(!navigator.onLine){console.warn("⚠️ Mode hors ligne détecté. Utilisation des données en cache.");const x=localStorage.getItem("currentUser");if(x){const _=JSON.parse(x);n(_),i(!1);return}}const y=Sn(dt,"users",v.uid),b=async(x=3)=>{var _,w;try{const E=await Do(y);if(E.exists()){const T=E.data(),I={...T,id:E.id,uid:v.uid,nom:T.nom||v.displayName||u(v.email||"")||"Utilisateur",email:T.email||v.email||"",permissions:T.permissions||[],dateModification:new Date().toISOString()};console.log("👤 Données utilisateur récupérées:",I),localStorage.setItem("currentUser",JSON.stringify(I)),n(I),i(!1)}else{console.warn("❌ Aucun document utilisateur trouvé pour l'UID:",v.uid);const T={id:v.uid,uid:v.uid,identifiant:((_=v.email)==null?void 0:_.split("@")[0])||"utilisateur",email:v.email||"",nom:u(v.email||"")||"Utilisateur",role:"Utilisateur",pole:"",statut:"actif",permissions:[],dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()};await Fb(y,T),n(T),i(!1)}}catch(E){if(console.error("❌ Erreur de récupération utilisateur:",E),x>0)return console.log(`🔄 Nouvelle tentative (${x} restantes)...`),await new Promise(I=>setTimeout(I,1e3)),b(x-1);const T={id:v.uid,uid:v.uid,identifiant:((w=v.email)==null?void 0:w.split("@")[0])||"utilisateur",email:v.email||"",nom:u(v.email||"")||"Utilisateur",role:"Utilisateur",pole:"",statut:"actif",permissions:[],dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()};n(T),i(!1)}};await b()}else console.log("🚪 Aucun utilisateur connecté"),n(null),localStorage.removeItem("currentUser"),i(!1)}catch(y){console.error("❌ Erreur globale lors de la récupération utilisateur:",y),n(null),i(!1)}},v=>{console.error("❌ Erreur dans onAuthStateChanged:",v),i(!1)});return()=>p()},[]);const f={currentUser:e,loading:r,error:o,logout:c,hasPermission:a,isAllowedRoute:l,login:d};return g.jsx(CG.Provider,{value:f,children:t})},Xf=class Xf{constructor(){Ye(this,"collectionName","selas")}static getInstance(){return Xf.instance||(Xf.instance=new Xf),Xf.instance}async getSELAS(){try{const n=yc().currentUser;if(!n)throw console.error("Erreur lors de la récupération des SELAS: Utilisateur non authentifié"),new Error("Utilisateur non authentifié. Veuillez vous connecter pour accéder aux SELAS.");console.log(`Tentative d'accès à la collection SELAS avec l'utilisateur: ${n.email}`);const r=nn(dt,this.collectionName);return(await yn(r)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){throw console.error("Erreur lors de la récupération des SELAS:",e),e}}async getSELASById(e){try{if(!yc().currentUser)throw console.error(`Erreur lors de la récupération de la SELAS ${e}: Utilisateur non authentifié`),new Error("Utilisateur non authentifié. Veuillez vous connecter pour accéder aux SELAS.");const i=Sn(dt,this.collectionName,e),o=await Do(i);return o.exists()?{id:o.id,...o.data()}:null}catch(n){throw console.error(`Erreur lors de la récupération de la SELAS ${e}:`,n),n}}async addSELAS(e){try{const n=new Date().toISOString(),r={...e,dateCreation:n,dateModification:n},i=nn(dt,this.collectionName);return{id:(await ia(i,r)).id,...r}}catch(n){throw console.error("Erreur lors de l'ajout de la SELAS:",n),n}}async updateSELAS(e,n){try{const r=Sn(dt,this.collectionName,e),i={...n,dateModification:new Date().toISOString()};await Co(r,i)}catch(r){throw console.error(`Erreur lors de la mise à jour de la SELAS ${e}:`,r),r}}async deleteSELAS(e){try{const n=Sn(dt,this.collectionName,e);await eo(n)}catch(n){throw console.error(`Erreur lors de la suppression de la SELAS ${e}:`,n),n}}async getSELASStats(e){try{const n=await this.getSELASById(e);if(!n)return null;const r=["users","sites","passages","tournees","vehicules"],i={};for(const o of r){const s=mr(nn(dt,o),Zr("selasId","==",e)),a=await yn(s);i[o]=a.size}return{id:e,nom:n.nom,nbUtilisateurs:i.users||0,nbSites:i.sites||0,nbPassages:i.passages||0,nbTournees:i.tournees||0,nbVehicules:i.vehicules||0}}catch(n){throw console.error(`Erreur lors de la récupération des statistiques de la SELAS ${e}:`,n),n}}async exportSELAS(e=[]){try{let n=[];if(e.length===0)n=await this.getSELAS();else{const i=e.map(s=>this.getSELASById(s));n=(await Promise.all(i)).filter(s=>s!==null)}return{exportDate:new Date().toISOString(),selasCount:n.length,data:n.map(i=>({...i}))}}catch(n){throw console.error("Erreur lors de l'exportation des SELAS:",n),n}}};Ye(Xf,"instance");let Hb=Xf;const EG=h.createContext({currentSelasId:null,setCurrentSelasId:()=>{},availableSelas:[],loading:!1,error:null}),sge=()=>h.useContext(EG),age=({children:t})=>{const[e,n]=h.useState(localStorage.getItem("currentSelasId")),[r,i]=h.useState([]),[o,s]=h.useState(!1),[a,l]=h.useState(null),{currentUser:c}=bf();h.useEffect(()=>{(async()=>{if(!c){i([]),s(!1);return}try{s(!0);const y=(await Hb.getInstance().getSELAS()).filter(b=>b.active);i(y),y.length===0&&(console.warn("Aucune SELAS active n'a été trouvée!"),l("Aucune SELAS active disponible")),e&&!y.some(b=>b.id===e)&&(y.length>0?u(y[0].id):u(null)),!e&&y.length>0&&u(y[0].id)}catch(p){console.error("Erreur lors du chargement des SELAS:",p),l("Erreur lors du chargement des SELAS")}finally{s(!1)}})()},[e,c]);const u=f=>{f?localStorage.setItem("currentSelasId",f):localStorage.removeItem("currentSelasId"),n(f)},d={currentSelasId:e,setCurrentSelasId:u,availableSelas:r,loading:o,error:a};return g.jsx(EG.Provider,{value:d,children:t})},lge="/assets/logo-inovie-DthkRB2j.png",EP=()=>{const[t,e]=h.useState(""),[n,r]=h.useState(""),[i,o]=h.useState(null),[s,a]=h.useState(!1),[l,c]=h.useState(""),[u,d]=h.useState(""),[f,p]=h.useState(!1),[v,y]=h.useState(!1),[b,x]=h.useState(!1),[_,w]=h.useState(""),[E,T]=h.useState(!1),[I,S]=h.useState(!1),P=mf(),{login:R,currentUser:O}=bf();h.useEffect(()=>{O&&I&&(console.log("Redirection automatique vers / car utilisateur connecté:",O),P("/"))},[O,I,P]),h.useEffect(()=>{const j=new URLSearchParams(window.location.search),B=j.get("email"),W=j.get("newUser")==="true",q=j.get("reset")==="true",G=j.get("nom"),X=j.get("role");if(console.log("🔍 Paramètres URL détectés:",{email:B,isNewUser:W,isReset:q,nom:G,role:X,fullUrl:window.location.href}),B&&(e(B),console.log("📝 Email pré-rempli:",B)),W&&G){p(!0);const ue=`Bienvenue ${G} ! Votre compte a été créé avec succès. Veuillez vous connecter avec le mot de passe que vous venez de définir.`;c(ue),d("Si vous n'avez pas encore défini votre mot de passe via l'email, vous pouvez également utiliser le mot de passe temporaire fourni par votre administrateur."),console.log("✨ Message de bienvenue affiché pour nouvel utilisateur:",ue)}else if(q){y(!0);const ue="Votre mot de passe a été réinitialisé avec succès !";c(ue),d("Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."),console.log("🔄 Message de réinitialisation affiché:",ue)}else console.log("ℹ️ Aucun message spécial à afficher")},[]);const N=async j=>{try{if(j.includes("@"))return console.log(`📧 Identifiant contient déjà un @ - utilisation directe: ${j}`),j;console.log(`🔍 Recherche de l'utilisateur avec l'identifiant exact: "${j}"`);const B=nn(dt,"users"),W=await yn(B);console.log(`📊 Nombre total d'utilisateurs dans Firestore: ${W.size}`);const q=W.docs.slice(0,3).map(ge=>{const le=ge.data();return{id:ge.id,identifiant:le.identifiant,email:le.email}});console.log("📋 Échantillon d'utilisateurs:",q);const G=nn(dt,"users"),X=mr(G,Zr("identifiant","==",j)),ue=await yn(X);if(ue.empty){console.log(`⚠️ Aucun utilisateur trouvé avec l'identifiant exact: "${j}"`),console.log("🔄 Recherche manuelle insensible à la casse...");const ge=j.toLowerCase();for(const we of W.docs){const ce=we.data();if(ce.identifiant&&ce.identifiant.toLowerCase()===ge&&(console.log(`✅ Utilisateur trouvé avec correspondance insensible à la casse: "${ce.identifiant}"`),ce.email))return console.log(`📧 Email trouvé: ${ce.email}`),ce.email}console.log("⚠️ Aucune correspondance trouvée, essai avec @inovie.fr");const le=`${j}@inovie.fr`;return console.log(`📧 Email construit: ${le}`),le}const J=ue.docs[0].data(),se=J.email;return console.log(`✅ Utilisateur trouvé: "${j}" -> "${se}"`),console.log("📊 Données complètes:",J),se}catch(B){console.error("❌ Erreur lors de la recherche de l'utilisateur:",B);const W=`${j}@inovie.fr`;return console.log(`🔄 Solution de secours après erreur: ${W}`),W}},A=()=>{console.log("Forçage de la redirection..."),P("/")},$=async j=>{if(j.preventDefault(),s||I){console.log("Soumission déjà en cours, ignorée");return}o(null),a(!0),S(!0),console.log("Début de la tentative de connexion");try{const B=await N(t);if(!B){o("Identifiant non reconnu"),a(!1),S(!1);return}console.log(`Email identifié: ${B}, tentative de connexion...`);const W=await R(B,n);console.log("Login réussi, utilisateur:",W),setTimeout(A,300)}catch(B){console.error("Erreur de connexion:",B),S(!1);try{const q=nn(dt,"users"),G=await N(t);if(G){const X=mr(q,Zr("email","==",G)),ue=await yn(X);if(!ue.empty){const te=ue.docs[0].data();if(te.tempPassword&&te.tempPassword===n){console.log("✅ Mot de passe temporaire valide, mais connexion Firebase impossible"),o("Votre mot de passe temporaire est correct, mais une erreur technique empêche la connexion. Veuillez contacter l'administrateur."),a(!1);return}}}}catch(q){console.error("Erreur lors de la vérification du mot de passe temporaire:",q)}const W=M(B.code);o(W)}finally{a(!1)}},M=j=>j==="auth/invalid-credential"||j==="auth/wrong-password"||j==="auth/user-not-found"?"Identifiant ou mot de passe incorrect. Vérifiez vos informations et réessayez.":j==="auth/too-many-requests"?"Trop de tentatives de connexion. Veuillez réessayer plus tard ou contactez votre administrateur.":j==="auth/user-disabled"?"Ce compte a été désactivé. Veuillez contacter votre administrateur.":j==="auth/invalid-email"?"Format d'identifiant invalide. Veuillez réessayer avec votre identifiant Inovie.":"Une erreur s'est produite lors de la connexion. Veuillez réessayer.",F=async j=>{j.preventDefault(),a(!0),o(null);try{console.log("🔄 Début de la réinitialisation du mot de passe");const B=_||await N(t);if(console.log("📧 Email à réinitialiser:",B),!B){console.error("❌ Aucun email fourni"),o("Veuillez saisir une adresse email valide."),a(!1);return}await wI(ul,B),console.log("✅ Email de réinitialisation envoyé avec succès"),T(!0),w(""),alert(`Un email de réinitialisation a été envoyé à ${B}. Veuillez vérifier votre boîte de réception et suivre les instructions.`),setTimeout(()=>{x(!1),T(!1)},5e3)}catch(B){console.error("❌ Erreur lors de la réinitialisation:",B),console.error("Détails:",{code:B.code,message:B.message,stack:B.stack});let W="Une erreur est survenue lors de la réinitialisation du mot de passe.";switch(B.code){case"auth/invalid-email":W="Format d'email invalide.";break;case"auth/user-not-found":W="Aucun compte associé à cet email.";break;case"auth/too-many-requests":W="Trop de tentatives. Veuillez réessayer plus tard.";break;default:W=`Erreur: ${B.message}`}o(W),alert(W)}finally{a(!1)}},z=(j,B="",W="")=>{const q=`https://outlook.office.com/mail/deeplink/compose?to=${encodeURIComponent(j)}&subject=${encodeURIComponent(B)}&body=${encodeURIComponent(W)}`;window.open(q,"_blank")};return g.jsxs("div",{className:"login-container",children:[g.jsxs("div",{className:"login-content",children:[g.jsx("img",{src:lge,alt:"Groupe Inovie",className:"header-logo"}),g.jsx("h2",{className:"login-title",style:{textTransform:"none",color:"#263471"},children:"inovie SCAN"}),l&&g.jsx("div",{className:`welcome-message ${f?"welcome-message-new-user":""} ${v?"welcome-message-reset":""}`,children:l}),u&&g.jsx("div",{className:"info-message",children:u}),i&&g.jsx("div",{className:"error-message",children:i}),g.jsxs("form",{onSubmit:$,className:"login-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"identifier",children:"Identifiant"}),g.jsx("input",{type:"text",id:"identifier",value:t,onChange:j=>e(j.target.value),required:!0,autoFocus:!t,placeholder:"Votre identifiant"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"password",children:"Mot de passe"}),g.jsx("input",{type:"password",id:"password",value:n,onChange:j=>r(j.target.value),required:!0,autoFocus:!!t,placeholder:"••••••••"})]}),g.jsx("button",{type:"submit",className:"login-button",disabled:s,children:s?"Connexion en cours...":"Se connecter"})]}),g.jsxs("footer",{className:"login-footer",children:[g.jsx("p",{children:"Pour vous connecter, utilisez votre identifiant Inovie"}),g.jsxs("p",{children:[g.jsx("a",{href:"#",onClick:j=>{j.preventDefault();const B=`Bonjour,

Je vous contacte au sujet de l'application Inovie SCAN.

Mon identifiant : `+(t||"[À compléter]")+`

Description du problème : [Veuillez décrire votre problème ici]

Merci pour votre aide.

Cordialement.`;z("mickael.volle@inovie.fr","Demande d'assistance - Application Inovie SCAN",B)},children:"Contacter l'administrateur"})," | ",g.jsx("a",{href:"#",onClick:j=>{j.preventDefault(),x(!0)},children:"Mot de passe oublié ?"})]})]})]}),g.jsx("p",{className:"version",children:"version 1.0 | © 2025 inovie SCAN"}),b&&g.jsx("div",{className:"modal-overlay",children:g.jsxs("div",{className:"modal-content",children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h3",{className:"modal-title",children:"Réinitialisation de mot de passe"}),g.jsx("button",{className:"modal-close",onClick:()=>{x(!1),T(!1),w(""),o(null)},children:"×"})]}),E?g.jsxs("div",{className:"reset-success",children:[g.jsx("p",{children:"Un email de réinitialisation a été envoyé à l'adresse indiquée."}),g.jsx("p",{children:"Veuillez vérifier votre boîte de réception et suivre les instructions pour réinitialiser votre mot de passe."}),g.jsx("p",{children:"Cette fenêtre se fermera automatiquement dans quelques secondes..."})]}):g.jsxs("form",{onSubmit:F,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{htmlFor:"reset-email",children:"Adresse email"}),g.jsx("input",{type:"email",id:"reset-email",value:_,onChange:j=>w(j.target.value),placeholder:"Votre adresse email",required:!0,autoFocus:!0}),g.jsx("small",{className:"form-text",children:"Saisissez l'adresse email associée à votre compte pour recevoir un lien de réinitialisation."})]}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{type:"button",className:"button button-secondary",onClick:()=>{x(!1),w(""),o(null)},children:"Annuler"}),g.jsx("button",{type:"submit",className:"button button-primary",disabled:s,children:s?"Envoi en cours...":"Envoyer le lien"})]})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Jx(t){return t+.5|0}const bd=(t,e,n)=>Math.max(Math.min(t,n),e);function f0(t){return bd(Jx(t*2.55),0,255)}function Fd(t){return bd(Jx(t*255),0,255)}function qc(t){return bd(Jx(t/2.55)/100,0,1)}function b5(t){return bd(Jx(t*100),0,100)}const va={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},OM=[..."0123456789ABCDEF"],cge=t=>OM[t&15],uge=t=>OM[(t&240)>>4]+OM[t&15],Ow=t=>(t&240)>>4===(t&15),dge=t=>Ow(t.r)&&Ow(t.g)&&Ow(t.b)&&Ow(t.a);function fge(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&va[t[1]]*17,g:255&va[t[2]]*17,b:255&va[t[3]]*17,a:e===5?va[t[4]]*17:255}:(e===7||e===9)&&(n={r:va[t[1]]<<4|va[t[2]],g:va[t[3]]<<4|va[t[4]],b:va[t[5]]<<4|va[t[6]],a:e===9?va[t[7]]<<4|va[t[8]]:255})),n}const hge=(t,e)=>t<255?e(t):"";function pge(t){var e=dge(t)?cge:uge;return t?"#"+e(t.r)+e(t.g)+e(t.b)+hge(t.a,e):void 0}const mge=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function IG(t,e,n){const r=e*Math.min(n,1-n),i=(o,s=(o+t/30)%12)=>n-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function gge(t,e,n){const r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function vge(t,e,n){const r=IG(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function yge(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function G$(t){const n=t.r/255,r=t.g/255,i=t.b/255,o=Math.max(n,r,i),s=Math.min(n,r,i),a=(o+s)/2;let l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=yge(n,r,i,u,o),l=l*60+.5),[l|0,c||0,a]}function Y$(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Fd)}function X$(t,e,n){return Y$(IG,t,e,n)}function bge(t,e,n){return Y$(vge,t,e,n)}function xge(t,e,n){return Y$(gge,t,e,n)}function TG(t){return(t%360+360)%360}function _ge(t){const e=mge.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?f0(+e[5]):Fd(+e[5]));const i=TG(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=bge(i,o,s):e[1]==="hsv"?r=xge(i,o,s):r=X$(i,o,s),{r:r[0],g:r[1],b:r[2],a:n}}function wge(t,e){var n=G$(t);n[0]=TG(n[0]+e),n=X$(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Cge(t){if(!t)return;const e=G$(t),n=e[0],r=b5(e[1]),i=b5(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${qc(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const x5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Sge(){const t={},e=Object.keys(_5),n=Object.keys(x5);let r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,x5[o]);o=parseInt(_5[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let Dw;function Ege(t){Dw||(Dw=Sge(),Dw.transparent=[0,0,0,0]);const e=Dw[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ige=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Tge(t){const e=Ige.exec(t);let n=255,r,i,o;if(e){if(e[7]!==r){const s=+e[7];n=e[8]?f0(s):bd(s*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?f0(r):bd(r,0,255)),i=255&(e[4]?f0(i):bd(i,0,255)),o=255&(e[6]?f0(o):bd(o,0,255)),{r,g:i,b:o,a:n}}}function Pge(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const IP=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gp=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Rge(t,e,n){const r=Gp(qc(t.r)),i=Gp(qc(t.g)),o=Gp(qc(t.b));return{r:Fd(IP(r+n*(Gp(qc(e.r))-r))),g:Fd(IP(i+n*(Gp(qc(e.g))-i))),b:Fd(IP(o+n*(Gp(qc(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Aw(t,e,n){if(t){let r=G$(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=X$(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function PG(t,e){return t&&Object.assign(e||{},t)}function w5(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Fd(t[3]))):(e=PG(t,{r:0,g:0,b:0,a:1}),e.a=Fd(e.a)),e}function kge(t){return t.charAt(0)==="r"?Tge(t):_ge(t)}let RG=class DM{constructor(e){if(e instanceof DM)return e;const n=typeof e;let r;n==="object"?r=w5(e):n==="string"&&(r=fge(e)||Ege(e)||kge(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=PG(this._rgb);return e&&(e.a=qc(e.a)),e}set rgb(e){this._rgb=w5(e)}rgbString(){return this._valid?Pge(this._rgb):void 0}hexString(){return this._valid?pge(this._rgb):void 0}hslString(){return this._valid?Cge(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let o;const s=n===o?.5:n,a=2*s-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,r.r=255&c*r.r+o*i.r+.5,r.g=255&c*r.g+o*i.g+.5,r.b=255&c*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Rge(this._rgb,e._rgb,n)),this}clone(){return new DM(this.rgb)}alpha(e){return this._rgb.a=Fd(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Jx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Aw(this._rgb,2,e),this}darken(e){return Aw(this._rgb,2,-e),this}saturate(e){return Aw(this._rgb,1,e),this}desaturate(e){return Aw(this._rgb,1,-e),this}rotate(e){return wge(this._rgb,e),this}};/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jc(){}const Mge=(()=>{let t=0;return()=>t++})();function Sr(t){return t==null}function oo(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Yn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function es(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $l(t,e){return es(t)?t:e}function Bn(t,e){return typeof t>"u"?e:t}const Oge=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,kG=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ni(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function kr(t,e,n,r){let i,o,s;if(oo(t))for(o=t.length,i=0;i<o;i++)e.call(n,t[i],i);else if(Yn(t))for(s=Object.keys(t),o=s.length,i=0;i<o;i++)e.call(n,t[s[i]],s[i])}function M1(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function O1(t){if(oo(t))return t.map(O1);if(Yn(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=O1(t[n[i]]);return e}return t}function MG(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Dge(t,e,n,r){if(!MG(t))return;const i=e[t],o=n[t];Yn(i)&&Yn(o)?Wb(i,o,r):e[t]=O1(o)}function Wb(t,e,n){const r=oo(e)?e:[e],i=r.length;if(!Yn(t))return t;n=n||{};const o=n.merger||Dge;let s;for(let a=0;a<i;++a){if(s=r[a],!Yn(s))continue;const l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)o(l[c],t,s,n)}return t}function H0(t,e){return Wb(t,e,{merger:Age})}function Age(t,e,n){if(!MG(t))return;const r=e[t],i=n[t];Yn(r)&&Yn(i)?H0(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=O1(i))}const C5={"":t=>t,x:t=>t.x,y:t=>t.y};function $ge(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Nge(t){const e=$ge(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function qh(t,e){return(C5[e]||(C5[e]=Nge(e)))(t)}function Z$(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ub=t=>typeof t<"u",ef=t=>typeof t=="function",S5=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Lge(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const $i=Math.PI,wi=2*$i,jge=wi+$i,D1=Number.POSITIVE_INFINITY,zge=$i/180,fo=$i/2,If=$i/4,E5=$i*2/3,OG=Math.log10,lc=Math.sign;function W0(t,e,n){return Math.abs(t-e)<n}function I5(t){const e=Math.round(t);t=W0(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(OG(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Fge(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function Bge(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Kb(t){return!Bge(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Vge(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Hge(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ru(t){return t*($i/180)}function Wge(t){return t*(180/$i)}function T5(t){if(!es(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function DG(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*$i&&(o+=wi),{angle:o,distance:i}}function AM(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Uge(t,e){return(t-e+jge)%wi-$i}function Bl(t){return(t%wi+wi)%wi}function qb(t,e,n,r){const i=Bl(t),o=Bl(e),s=Bl(n),a=Bl(o-i),l=Bl(s-i),c=Bl(i-o),u=Bl(i-s);return i===o||i===s||r&&o===s||a>l&&c<u}function Zo(t,e,n){return Math.max(e,Math.min(n,t))}function Kge(t){return Zo(t,-32768,32767)}function iu(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Q$(t,e,n){n=n||(s=>t[s]<e);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const rh=(t,e,n,r)=>Q$(t,n,r?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),qge=(t,e,n)=>Q$(t,n,r=>t[r][e]>=n);function Gge(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const AG=["push","pop","shift","splice","unshift"];function Yge(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),AG.forEach(n=>{const r="_onData"+Z$(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const s=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function P5(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(AG.forEach(o=>{delete t[o]}),delete t._chartjs)}function $G(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const NG=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function LG(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,NG.call(window,()=>{r=!1,t.apply(e,n)}))}}function Xge(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const J$=t=>t==="start"?"left":t==="end"?"right":"center",qo=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Zge=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Qge(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:s,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=s.axis,{min:d,max:f,minDefined:p,maxDefined:v}=s.getUserBounds();if(p){if(i=Math.min(rh(l,u,d).lo,n?r:rh(e,u,s.getPixelForValue(d)).lo),c){const y=l.slice(0,i+1).reverse().findIndex(b=>!Sr(b[a.axis]));i-=Math.max(0,y)}i=Zo(i,0,r-1)}if(v){let y=Math.max(rh(l,s.axis,f,!0).hi+1,n?0:rh(e,u,s.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(y-1).findIndex(x=>!Sr(x[a.axis]));y+=Math.max(0,b)}o=Zo(y,i,r)-i}else o=r-i}return{start:i,count:o}}function Jge(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const $w=t=>t===0||t===1,R5=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*wi/n)),k5=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*wi/n)+1,U0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*fo)+1,easeOutSine:t=>Math.sin(t*fo),easeInOutSine:t=>-.5*(Math.cos($i*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>$w(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>$w(t)?t:R5(t,.075,.3),easeOutElastic:t=>$w(t)?t:k5(t,.075,.3),easeInOutElastic(t){return $w(t)?t:t<.5?.5*R5(t*2,.1125,.45):.5+.5*k5(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-U0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?U0.easeInBounce(t*2)*.5:U0.easeOutBounce(t*2-1)*.5+.5};function eN(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function M5(t){return eN(t)?t:new RG(t)}function TP(t){return eN(t)?t:new RG(t).saturate(.5).darken(.1).hexString()}const eve=["x","y","borderWidth","radius","tension"],tve=["color","borderColor","backgroundColor"];function nve(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tve},numbers:{type:"number",properties:eve}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rve(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const O5=new Map;function ive(t,e){e=e||{};const n=t+JSON.stringify(e);let r=O5.get(n);return r||(r=new Intl.NumberFormat(t,e),O5.set(n,r)),r}function tN(t,e,n){return ive(e,n).format(t)}const ove={values(t){return oo(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=sve(t,n)}const s=OG(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),tN(t,r,l)}};function sve(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var jG={formatters:ove};function ave(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jG.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Gh=Object.create(null),$M=Object.create(null);function K0(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function PP(t,e,n){return typeof e=="string"?Wb(K0(t,e),n):Wb(K0(t,""),e)}class lve{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>TP(i.backgroundColor),this.hoverBorderColor=(r,i)=>TP(i.borderColor),this.hoverColor=(r,i)=>TP(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return PP(this,e,n)}get(e){return K0(this,e)}describe(e,n){return PP($M,e,n)}override(e,n){return PP(Gh,e,n)}route(e,n,r,i){const o=K0(this,e),s=K0(this,r),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=s[i];return Yn(l)?Object.assign({},c,l):Bn(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Bi=new lve({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nve,rve,ave]);function cve(t){return!t||Sr(t.size)||Sr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function D5(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Tf(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function A5(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function NM(t,e,n,r){zG(t,e,n,r,null)}function zG(t,e,n,r,i){let o,s,a,l,c,u,d,f;const p=e.pointStyle,v=e.rotation,y=e.radius;let b=(v||0)*zge;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,y,0,0,wi):t.arc(n,r,y,0,wi),t.closePath();break;case"triangle":u=i?i/2:y,t.moveTo(n+Math.sin(b)*u,r-Math.cos(b)*y),b+=E5,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*y),b+=E5,t.lineTo(n+Math.sin(b)*u,r-Math.cos(b)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,s=Math.cos(b+If)*l,d=Math.cos(b+If)*(i?i/2-c:l),a=Math.sin(b+If)*l,f=Math.sin(b+If)*(i?i/2-c:l),t.arc(n-d,r-a,c,b-$i,b-fo),t.arc(n+f,r-s,c,b-fo,b),t.arc(n+d,r+a,c,b,b+fo),t.arc(n-f,r+s,c,b+fo,b+$i),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*y,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}b+=If;case"rectRot":d=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+f,r-s),t.lineTo(n+d,r+a),t.lineTo(n-f,r+s),t.closePath();break;case"crossRot":b+=If;case"cross":d=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-s),t.lineTo(n-f,r+s);break;case"star":d=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-s),t.lineTo(n-f,r+s),b+=If,d=Math.cos(b)*(i?i/2:y),s=Math.cos(b)*y,a=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-s),t.lineTo(n-f,r+s);break;case"line":s=i?i/2:Math.cos(b)*y,a=Math.sin(b)*y,t.moveTo(n-s,r-a),t.lineTo(n+s,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(i?i/2:y),r+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Gb(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function EI(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function II(t){t.restore()}function uve(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function dve(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function fve(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Sr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function hve(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function pve(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Yb(t,e,n,r,i,o={}){const s=oo(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,fve(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&pve(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Sr(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,r,o.maxWidth)),t.fillText(c,n,r,o.maxWidth),hve(t,n,r,c,o),r+=Number(i.lineHeight);t.restore()}function A1(t,e){const{x:n,y:r,w:i,h:o,radius:s}=e;t.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*$i,$i,!0),t.lineTo(n,r+o-s.bottomLeft),t.arc(n+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,$i,fo,!0),t.lineTo(n+i-s.bottomRight,r+o),t.arc(n+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,fo,0,!0),t.lineTo(n+i,r+s.topRight),t.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-fo,!0),t.lineTo(n+s.topLeft,r)}const mve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vve(t,e){const n=(""+t).match(mve);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const yve=t=>+t||0;function nN(t,e){const n={},r=Yn(e),i=r?Object.keys(e):e,o=Yn(t)?r?s=>Bn(t[s],t[e[s]]):s=>t[s]:()=>t;for(const s of i)n[s]=yve(o(s));return n}function FG(t){return nN(t,{top:"y",right:"x",bottom:"y",left:"x"})}function lg(t){return nN(t,["topLeft","topRight","bottomLeft","bottomRight"])}function za(t){const e=FG(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qo(t,e){t=t||{},e=e||Bi.font;let n=Bn(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Bn(t.style,e.style);r&&!(""+r).match(gve)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Bn(t.family,e.family),lineHeight:vve(Bn(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Bn(t.weight,e.weight),string:""};return i.string=cve(i),i}function Nw(t,e,n,r){let i,o,s;for(i=0,o=t.length;i<o;++i)if(s=t[i],s!==void 0&&s!==void 0)return s}function bve(t,e,n){const{min:r,max:i}=t,o=kG(e,(i-r)/2),s=(a,l)=>n&&a===0?0:a+l;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function mp(t,e){return Object.assign(Object.create(t),e)}function rN(t,e=[""],n,r,i=()=>t[0]){const o=n||t;typeof r>"u"&&(r=WG("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>rN([a,...t],e,o,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return VG(a,l,()=>Tve(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return N5(a).includes(l)},ownKeys(a){return N5(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Ng(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:BG(t,r),setContext:o=>Ng(t,o,n,r),override:o=>Ng(t.override(o),e,n,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return VG(o,s,()=>_ve(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function BG(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ef(n)?n:()=>n,isIndexable:ef(r)?r:()=>r}}const xve=(t,e)=>t?t+Z$(e):e,iN=(t,e)=>Yn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function VG(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function _ve(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=t;let a=r[e];return ef(a)&&s.isScriptable(e)&&(a=wve(e,a,t,n)),oo(a)&&a.length&&(a=Cve(e,a,t,s.isIndexable)),iN(e,a)&&(a=Ng(a,i,o&&o[e],s)),a}function wve(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||r);return a.delete(t),iN(t,l)&&(l=oN(i._scopes,i,t,l)),l}function Cve(t,e,n,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(Yn(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=oN(c,i,t,u);e.push(Ng(d,o,s&&s[t],a))}}return e}function HG(t,e,n){return ef(t)?t(e,n):t}const Sve=(t,e)=>t===!0?e:typeof t=="string"?qh(e,t):void 0;function Eve(t,e,n,r,i){for(const o of e){const s=Sve(n,o);if(s){t.add(s);const a=HG(s._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(s===!1&&typeof r<"u"&&n!==r)return null}return!1}function oN(t,e,n,r){const i=e._rootScopes,o=HG(e._fallback,n,r),s=[...t,...i],a=new Set;a.add(r);let l=$5(a,s,n,o||n,r);return l===null||typeof o<"u"&&o!==n&&(l=$5(a,s,o,l,r),l===null)?!1:rN(Array.from(a),[""],i,o,()=>Ive(e,n,r))}function $5(t,e,n,r,i){for(;n;)n=Eve(t,e,n,r,i);return n}function Ive(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return oo(i)&&Yn(n)?n:i||{}}function Tve(t,e,n,r){let i;for(const o of e)if(i=WG(xve(o,t),n),typeof i<"u")return iN(t,i)?oN(n,r,t,i):i}function WG(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function N5(t){let e=t._keys;return e||(e=t._keys=Pve(t._scopes)),e}function Pve(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const Rve=Number.EPSILON||1e-14,Lg=(t,e)=>e<t.length&&!t[e].skip&&t[e],UG=t=>t==="x"?"y":"x";function kve(t,e,n,r){const i=t.skip?e:t,o=e,s=n.skip?e:n,a=AM(o,i),l=AM(s,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+f*(s.x-i.x),y:o.y+f*(s.y-i.y)}}}function Mve(t,e,n){const r=t.length;let i,o,s,a,l,c=Lg(t,0);for(let u=0;u<r-1;++u)if(l=c,c=Lg(t,u+1),!(!l||!c)){if(W0(e[u],0,Rve)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),n[u]=i*s*e[u],n[u+1]=o*s*e[u])}}function Ove(t,e,n="x"){const r=UG(n),i=t.length;let o,s,a,l=Lg(t,0);for(let c=0;c<i;++c){if(s=a,a=l,l=Lg(t,c+1),!a)continue;const u=a[n],d=a[r];s&&(o=(u-s[n])/3,a[`cp1${n}`]=u-o,a[`cp1${r}`]=d-o*e[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${r}`]=d+o*e[c])}}function Dve(t,e="x"){const n=UG(e),r=t.length,i=Array(r).fill(0),o=Array(r);let s,a,l,c=Lg(t,0);for(s=0;s<r;++s)if(a=l,l=c,c=Lg(t,s+1),!!l){if(c){const u=c[e]-l[e];i[s]=u!==0?(c[n]-l[n])/u:0}o[s]=a?c?lc(i[s-1])!==lc(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}Mve(t,i,o),Ove(t,o,e)}function Lw(t,e,n){return Math.max(Math.min(t,n),e)}function Ave(t,e){let n,r,i,o,s,a=Gb(t[0],e);for(n=0,r=t.length;n<r;++n)s=o,o=a,a=n<r-1&&Gb(t[n+1],e),o&&(i=t[n],s&&(i.cp1x=Lw(i.cp1x,e.left,e.right),i.cp1y=Lw(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Lw(i.cp2x,e.left,e.right),i.cp2y=Lw(i.cp2y,e.top,e.bottom)))}function $ve(t,e,n,r,i){let o,s,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Dve(t,i);else{let c=r?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=kve(c,a,t[Math.min(o+1,s-(r?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Ave(t,n)}function sN(){return typeof window<"u"&&typeof document<"u"}function aN(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function $1(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const TI=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Nve(t,e){return TI(t).getPropertyValue(e)}const Lve=["top","right","bottom","left"];function mh(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=Lve[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const jve=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function zve(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let s=!1,a,l;if(jve(i,o,t.target))a=i,l=o;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function Nf(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=TI(n),o=i.boxSizing==="border-box",s=mh(i,"padding"),a=mh(i,"border","width"),{x:l,y:c,box:u}=zve(t,n),d=s.left+(u&&a.left),f=s.top+(u&&a.top);let{width:p,height:v}=e;return o&&(p-=s.width+a.width,v-=s.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-f)/v*n.height/r)}}function Fve(t,e,n){let r,i;if(e===void 0||n===void 0){const o=t&&aN(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const s=o.getBoundingClientRect(),a=TI(o),l=mh(a,"border","width"),c=mh(a,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,r=$1(a.maxWidth,o,"clientWidth"),i=$1(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||D1,maxHeight:i||D1}}const jw=t=>Math.round(t*10)/10;function Bve(t,e,n,r){const i=TI(t),o=mh(i,"margin"),s=$1(i.maxWidth,t,"clientWidth")||D1,a=$1(i.maxHeight,t,"clientHeight")||D1,l=Fve(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=mh(i,"border","width"),p=mh(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=jw(Math.min(c,s,l.maxWidth)),u=jw(Math.min(u,a,l.maxHeight)),c&&!u&&(u=jw(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=jw(Math.floor(u*r))),{width:c,height:u}}function L5(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(t.currentDevicePixelRatio=r,s.height=i,s.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Vve=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};sN()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function j5(t,e){const n=Nve(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Lf(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Hve(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Wve(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Lf(t,i,n),a=Lf(i,o,n),l=Lf(o,e,n),c=Lf(s,a,n),u=Lf(a,l,n);return Lf(c,u,n)}const Uve=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Kve=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function cg(t,e,n){return t?Uve(e,n):Kve()}function KG(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function qG(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function GG(t){return t==="angle"?{between:qb,compare:Uge,normalize:Bl}:{between:iu,compare:(e,n)=>e-n,normalize:e=>e}}function z5({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function qve(t,e,n){const{property:r,start:i,end:o}=n,{between:s,normalize:a}=GG(r),l=e.length;let{start:c,end:u,loop:d}=t,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&s(a(e[c%l][r]),i,o);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function YG(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,s=e.length,{compare:a,between:l,normalize:c}=GG(r),{start:u,end:d,loop:f,style:p}=qve(t,e,n),v=[];let y=!1,b=null,x,_,w;const E=()=>l(i,w,x)&&a(i,w)!==0,T=()=>a(o,x)===0||l(o,w,x),I=()=>y||E(),S=()=>!y||T();for(let P=u,R=u;P<=d;++P)_=e[P%s],!_.skip&&(x=c(_[r]),x!==w&&(y=l(x,i,o),b===null&&I()&&(b=a(x,i)===0?P:R),b!==null&&S()&&(v.push(z5({start:b,end:P,loop:f,count:s,style:p})),b=null),R=P,w=x));return b!==null&&v.push(z5({start:b,end:d,loop:f,count:s,style:p})),v}function XG(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=YG(r[i],t.points,e);o.length&&n.push(...o)}return n}function Gve(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function Yve(t,e,n,r){const i=t.length,o=[];let s=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,o.push({start:e%i,end:(l-1)%i,loop:r}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&o.push({start:e%i,end:s%i,loop:r}),o}function Xve(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:s,end:a}=Gve(n,i,o,r);if(r===!0)return F5(t,[{start:s,end:a,loop:o}],n,e);const l=a<s?a+i:a,c=!!t._fullLoop&&s===0&&a===i-1;return F5(t,Yve(n,s,l,c),n,e)}function F5(t,e,n,r){return!r||!r.setContext||!n?e:Zve(t,e,n,r)}function Zve(t,e,n,r){const i=t._chart.getContext(),o=B5(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[];let u=o,d=e[0].start,f=d;function p(v,y,b,x){const _=a?-1:1;if(v!==y){for(v+=l;n[v%l].skip;)v-=_;for(;n[y%l].skip;)y+=_;v%l!==y%l&&(c.push({start:v%l,end:y%l,loop:b,style:x}),u=x,d=y%l)}}for(const v of e){d=a?d:v.start;let y=n[d%l],b;for(f=d+1;f<=v.end;f++){const x=n[f%l];b=B5(r.setContext(mp(i,{type:"segment",p0:y,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:s}))),Qve(b,u)&&p(d,f-1,v.loop,u),y=x,u=b}d<f-1&&p(d,f-1,v.loop,u)}return c}function B5(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Qve(t,e){if(!e)return!1;const n=[],r=function(i,o){return eN(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Jve{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.listeners[i],s=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(r-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=NG.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bc=new Jve;const V5="transparent",eye={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=M5(t||V5),i=r.valid&&M5(e||V5);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class tye{constructor(e,n,r,i){const o=n[r];i=Nw([e.to,i,o,e.from]);const s=Nw([e.from,o,i]);this._active=!0,this._fn=e.fn||eye[e.type||typeof s],this._easing=U0[e.easing]||U0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Nw([e.to,n,i,e.from]),this._from=Nw([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to;let l;if(this._active=o!==a&&(s||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}l=n/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class ZG{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Yn(e))return;const n=Object.keys(Bi.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!Yn(o))return;const s={};for(const a of n)s[a]=o[a];(oo(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,n){const r=n.options,i=rye(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&nye(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),s=Object.keys(n),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=o[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}o[c]=d=new tye(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Bc.add(this._chart,r),!0}}function nye(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function rye(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function H5(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function iye(t,e,n){if(n===!1)return!1;const r=H5(t,n),i=H5(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function oye(t){let e,n,r,i;return Yn(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function QG(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function W5(t,e,n,r={}){const i=t.keys,o=r.mode==="single";let s,a,l,c;if(e===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===n){if(u=!0,r.all)continue;break}c=t.values[l],es(c)&&(o||e===0||lc(e)===lc(c))&&(e+=c)}return!u&&!r.all?0:e}function sye(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(t),a=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[i]:u,[o]:t[u]};return a}function RP(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function aye(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function lye(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function cye(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function U5(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function K5(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,c=s.axis,u=aye(o,s,r),d=e.length;let f;for(let p=0;p<d;++p){const v=e[p],{[l]:y,[c]:b}=v,x=v._stacks||(v._stacks={});f=x[c]=cye(i,u,y),f[a]=b,f._top=U5(f,s,!0,r.type),f._bottom=U5(f,s,!1,r.type);const _=f._visualValues||(f._visualValues={});_[a]=b}}function kP(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function uye(t,e){return mp(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function dye(t,e,n){return mp(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function _y(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const MP=t=>t==="reset"||t==="none",q5=(t,e)=>e?t:Object.assign({},t),fye=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:QG(n,!0),values:null};class gh{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=RP(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_y(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,p,v)=>d==="x"?f:d==="r"?v:p,o=n.xAxisID=Bn(r.xAxisID,kP(e,"x")),s=n.yAxisID=Bn(r.yAxisID,kP(e,"y")),a=n.rAxisID=Bn(r.rAxisID,kP(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,o,s,a),u=n.vAxisID=i(l,s,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(s),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&P5(this._data,this),e._stacked&&_y(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Yn(n)){const i=this._cachedMeta;this._data=sye(n,i)}else if(r!==n){if(r){P5(r,this);const i=this._cachedMeta;_y(i),i._parsed=[]}n&&Object.isExtensible(n)&&Yge(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=RP(n.vScale,n),n.stack!==r.stack&&(i=!0,_y(n),n.stack=r.stack),this._resyncElements(e),(i||o!==n._stacked)&&(K5(this,n._parsed),n._stacked=RP(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:s}=r,a=o.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{oo(i[e])?f=this.parseArrayData(r,i,e,n):Yn(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);r._sorted=l}s&&K5(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:o,vScale:s}=e,a=o.axis,l=s.axis,c=o.getLabels(),u=o===s,d=new Array(i);let f,p,v;for(f=0,p=i;f<p;++f)v=f+r,d[f]={[a]:u||o.parse(c[v],v),[l]:s.parse(n[v],v)};return d}parseArrayData(e,n,r,i){const{xScale:o,yScale:s}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:o.parse(d[0],u),y:s.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:o,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+r,p=n[f],c[u]={x:o.parse(qh(p,a),f),y:s.parse(qh(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,o=this._cachedMeta,s=n[e.axis],a={keys:QG(i,!0),values:n._stacks[e.axis]._visualValues};return W5(a,s,o.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const o=r[n.axis];let s=o===null?NaN:o;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,s=W5(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,s=i.length,a=this._getOtherScale(e),l=fye(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=lye(a);let f,p;function v(){p=i[f];const y=p[a.axis];return!es(p[e.axis])||u>y||d<y}for(f=0;f<s&&!(!v()&&(this.updateRangeFromParsed(c,e,p,l),o));++f);if(o){for(f=s-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,o,s;for(i=0,o=n.length;i<o;++i)s=n[i][e.axis],es(s)&&r.push(s);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=oye(Bn(this.options.clip,iye(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],o=n.chartArea,s=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,o,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?s.push(d):d.draw(e,o))}for(u=0;u<s.length;++u)s[u].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];o=s.$context||(s.$context=dye(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=uye(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",o=this._cachedDataOpts,s=e+"-"+n,a=o[s],l=this.enableOptionSharing&&Ub(r);if(a)return q5(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Bi.elements[e]),v=()=>this.getContext(r,i,n),y=c.resolveNamedOptions(f,p,v,d);return y.$shared&&(y.$shared=l,o[s]=Object.freeze(q5(y,l))),y}_resolveAnimations(e,n,r){const i=this.chart,o=this._cachedDataOpts,s=`animation-${n}`,a=o[s];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new ZG(i,l&&l.animations);return l&&l._cacheable&&(o[s]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||MP(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(r),s=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:s}}updateElement(e,n,r,i){MP(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!MP(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,o=n.length,s=Math.min(o,i);s&&this.parse(0,s),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,r=!0){const i=this._cachedMeta,o=i.data,s=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=s;a--)c[a]=c[a-n]};for(l(o),a=e;a<s;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&_y(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ye(gh,"defaults",{}),Ye(gh,"datasetElementType",null),Ye(gh,"dataElementType",null);function hye(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,o=n.length;i<o;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=$G(r.sort((i,o)=>i-o))}return t._cache.$bar}function pye(t){const e=t.iScale,n=hye(e,t.type);let r=e._length,i,o,s,a;const l=()=>{s===32767||s===-32768||(Ub(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=n.length;i<o;++i)s=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)s=e.getPixelForTick(i),l();return r}function mye(t,e,n,r){const i=n.barThickness;let o,s;return Sr(i)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:e.pixels[t]-o/2}}function gye(t,e,n,r){const i=e.pixels,o=i[t];let s=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:n.barPercentage,start:c}}function vye(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),s=Math.min(i,o),a=Math.max(i,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:s,max:a}}function JG(t,e,n,r){return oo(t)?vye(t,e,n,r):e[n.axis]=n.parse(t,r),e}function G5(t,e,n,r){const i=t.iScale,o=t.vScale,s=i.getLabels(),a=i===o,l=[];let c,u,d,f;for(c=n,u=n+r;c<u;++c)f=e[c],d={},d[i.axis]=a||i.parse(s[c],c),l.push(JG(f,d,o,c));return l}function OP(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function yye(t,e,n){return t!==0?lc(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function bye(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function xye(t,e,n,r){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:a,reverse:l,top:c,bottom:u}=bye(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(o[Y5(u,s,a,l)]=!0,i=c)),o[Y5(i,s,a,l)]=!0,t.borderSkipped=o}function Y5(t,e,n,r){return r?(t=_ye(t,e,n),t=X5(t,n,e)):t=X5(t,e,n),t}function _ye(t,e,n){return t===e?n:t===n?e:t}function X5(t,e,n){return t==="start"?e:t==="end"?n:t}function wye(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class nS extends gh{parsePrimitiveData(e,n,r,i){return G5(e,n,r,i)}parseArrayData(e,n,r,i){return G5(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:o,vScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=s.axis==="x"?a:l,d=[];let f,p,v,y;for(f=r,p=r+i;f<p;++f)y=n[f],v={},v[o.axis]=o.parse(qh(y,c),f),d.push(JG(qh(y,u),v,s,f));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,o=this.getParsed(e),s=o._custom,a=OP(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const o=i==="reset",{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const v=this.getParsed(p),y=o||Sr(v[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),x=(v._stacks||{})[a.axis],_={horizontal:c,base:y.base,enableBorderRadius:!x||OP(v._custom)||s===x._top||s===x._bottom,x:c?y.head:b.center,y:c?b.center:y.head,height:c?b.size:Math.abs(y.size),width:c?Math.abs(y.size):b.size};f&&(_.options=d||this.resolveDataElementOptions(p,e[p].active?"active":i));const w=_.options||e[p].options;xye(_,w,x,s),wye(_,w,u.ratio),this.updateElement(e[p],p,_,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=r.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(p=>p[r.axis]===l),f=d&&d[u.vScale.axis];if(Sr(f)||isNaN(f))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((o===!1||s.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&s.push(u.stack),u.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let o,s;for(o=0,s=n.data.length;o<s;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const a=e.barThickness;return{min:a||pye(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:o,minBarLength:s}}=this,a=o||0,l=this.getParsed(e),c=l._custom,u=OP(c);let d=l[n.axis],f=0,p=r?this.applyStack(n,l,r):d,v,y;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&lc(d)!==lc(c.barEnd)&&(f=0),f+=d);const b=!Sr(o)&&!u?o:f;let x=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(f+p):v=x,y=v-x,Math.abs(y)<s){y=yye(y,n,a)*s,d===a&&(x-=y/2);const _=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),E=Math.min(_,w),T=Math.max(_,w);x=Math.max(Math.min(x,T),E),v=x+y,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(v)-n.getValueForPixel(x))}if(x===n.getPixelForValue(a)){const _=lc(y)*n.getLineWidthForValue(a)/2;x+=_,y-=_}return{size:y,base:x,head:v,center:v+y/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,o=i.skipNull,s=Bn(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=o?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?gye(e,n,i,c):mye(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(s,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(s,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}Ye(nS,"id","bar"),Ye(nS,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ye(nS,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Cye(t,e,n){let r=1,i=1,o=0,s=0;if(e<wi){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(w,E,T)=>qb(w,a,l,!0)?1:Math.max(E,E*n,T,T*n),v=(w,E,T)=>qb(w,a,l,!0)?-1:Math.min(E,E*n,T,T*n),y=p(0,c,d),b=p(fo,u,f),x=v($i,c,d),_=v($i+fo,u,f);r=(y-x)/2,i=(b-_)/2,o=-(y+x)/2,s=-(b+_)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}class h0 extends gh{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=l=>+r[l];if(Yn(r[e])){const{key:l="value"}=this._parsing;o=c=>+qh(r[c],l)}let s,a;for(s=e,a=e+n;s<a;++s)i._parsed[s]=o(s)}}_getRotation(){return ru(this.options.rotation-90)}_getCircumference(){return ru(this.options.circumference)}_getRotationExtents(){let e=wi,n=-wi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),s=i._getCircumference();e=Math.min(e,o),n=Math.max(n,o+s)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,o=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-s)/2,0),l=Math.min(Oge(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:v,offsetY:y}=Cye(d,u,l),b=(r.width-s)/f,x=(r.height-s)/p,_=Math.max(Math.min(b,x)/2,0),w=kG(this.options.radius,_),E=Math.max(w*l,0),T=(w-E)/this._getVisibleDatasetWeightTotal();this.offsetX=v*w,this.offsetY=y*w,i.total=this.calculateTotal(),this.outerRadius=w-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/wi)}updateElements(e,n,r,i){const o=i==="reset",s=this.chart,a=s.chartArea,c=s.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=o&&c.animateScale,p=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,i);let x=this._getRotation(),_;for(_=0;_<n;++_)x+=this._circumference(_,o);for(_=n;_<n+r;++_){const w=this._circumference(_,o),E=e[_],T={x:u+this.offsetX,y:d+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:v,innerRadius:p};b&&(T.options=y||this.resolveDataElementOptions(_,E.active?"active":i)),x+=w,this.updateElement(E,_,T,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?wi*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=tN(n._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,o,s,a,l;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){s=r.getDatasetMeta(i),e=s.data,a=s.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Bn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ye(h0,"id","doughnut"),Ye(h0,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ye(h0,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Ye(h0,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((o,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class rS extends gh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=n,s=this.chart._animationsDisabled;let{start:a,count:l}=Qge(n,i,s);this._drawStart=a,this._drawCount=l,Jge(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!s,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const o=i==="reset",{iScale:s,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=s.axis,p=a.axis,{spanGaps:v,segment:y}=this.options,b=Kb(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||i==="none",_=n+r,w=e.length;let E=n>0&&this.getParsed(n-1);for(let T=0;T<w;++T){const I=e[T],S=x?I:{};if(T<n||T>=_){S.skip=!0;continue}const P=this.getParsed(T),R=Sr(P[p]),O=S[f]=s.getPixelForValue(P[f],T),N=S[p]=o||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[p],T);S.skip=isNaN(O)||isNaN(N)||R,S.stop=T>0&&Math.abs(P[f]-E[f])>b,y&&(S.parsed=P,S.raw=c.data[T]),d&&(S.options=u||this.resolveDataElementOptions(T,I.active?"active":i)),x||this.updateElement(I,T,S,i),E=P}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ye(rS,"id","line"),Ye(rS,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ye(rS,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class LM extends h0{}Ye(LM,"id","pie"),Ye(LM,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Pf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lN{constructor(e){Ye(this,"options");this.options=e||{}}static override(e){Object.assign(lN.prototype,e)}init(){}formats(){return Pf()}parse(){return Pf()}format(){return Pf()}add(){return Pf()}diff(){return Pf()}startOf(){return Pf()}endOf(){return Pf()}}var Sye={_date:lN};function Eye(t,e,n,r){const{controller:i,data:o,_sorted:s}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){const c=a._reversePixels?qge:rh;if(r){if(i._sharedOptions){const u=o[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(o,e,n-d),p=c(o,e,n+d);return{lo:f.lo,hi:p.hi}}}}else{const u=c(o,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(y=>!Sr(y[d.axis]));u.lo-=Math.max(0,p);const v=f.slice(u.hi).findIndex(y=>!Sr(y[d.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:o.length-1}}function PI(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:d,hi:f}=Eye(o[a],e,s,i);for(let p=d;p<=f;++p){const v=u[p];v.skip||r(v,c,p)}}}function Iye(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,s=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function DP(t,e,n,r,i){const o=[];return!i&&!t.isPointInArea(e)||PI(t,n,e,function(a,l,c){!i&&!Gb(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function Tye(t,e,n,r){let i=[];function o(s,a,l){const{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=DG(s,{x:e.x,y:e.y});qb(d,c,u)&&i.push({element:s,datasetIndex:a,index:l})}return PI(t,n,e,o),i}function Pye(t,e,n,r,i,o){let s=[];const a=Iye(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,i);if(r&&!p)return;const v=u.getCenterPoint(i);if(!(!!o||t.isPointInArea(v))&&!p)return;const b=a(e,v);b<l?(s=[{element:u,datasetIndex:d,index:f}],l=b):b===l&&s.push({element:u,datasetIndex:d,index:f})}return PI(t,n,e,c),s}function AP(t,e,n,r,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?Tye(t,e,n,i):Pye(t,e,n,r,i,o)}function Z5(t,e,n,r,i){const o=[],s=n==="x"?"inXRange":"inYRange";let a=!1;return PI(t,n,e,(l,c,u)=>{l[s]&&l[s](e[n],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:o}var Rye={modes:{index(t,e,n,r){const i=Nf(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?DP(t,i,o,r,s):AP(t,i,o,!1,r,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Nf(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?DP(t,i,o,r,s):AP(t,i,o,!1,r,s);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Nf(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return DP(t,i,o,r,s)},nearest(t,e,n,r){const i=Nf(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return AP(t,i,o,n.intersect,r,s)},x(t,e,n,r){const i=Nf(e,t);return Z5(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Nf(e,t);return Z5(t,i,"y",n.intersect,r)}}};const eY=["left","top","right","bottom"];function wy(t,e){return t.filter(n=>n.pos===e)}function Q5(t,e){return t.filter(n=>eY.indexOf(n.pos)===-1&&n.box.axis===e)}function Cy(t,e){return t.sort((n,r)=>{const i=e?r:n,o=e?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function kye(t){const e=[];let n,r,i,o,s,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:o,options:{stack:s,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function Mye(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!eY.includes(i))continue;const s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function Oye(t,e){const n=Mye(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function Dye(t){const e=kye(t),n=Cy(e.filter(c=>c.box.fullSize),!0),r=Cy(wy(e,"left"),!0),i=Cy(wy(e,"right")),o=Cy(wy(e,"top"),!0),s=Cy(wy(e,"bottom")),a=Q5(e,"x"),l=Q5(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:wy(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function J5(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function tY(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Aye(t,e,n,r){const{pos:i,box:o}=n,s=t.maxPadding;if(!Yn(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?o.height:o.width),n.size=d.size/d.count,t[i]+=n.size}o.getPadding&&tY(s,o.getPadding());const a=Math.max(0,e.outerWidth-J5(s,t,"left","right")),l=Math.max(0,e.outerHeight-J5(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function $ye(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Nye(t,e){const n=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(e[s],n[s])}),o}return r(t?["left","right"]:["top","bottom"])}function p0(t,e,n,r){const i=[];let o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,Nye(a.horizontal,e));const{same:d,other:f}=Aye(e,n,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&p0(i,e,n,r)||u}function zw(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function eB(t,e,n,r){const i=n.padding;let{x:o,y:s}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;Ub(c.start)&&(s=c.start),l.fullSize?zw(l,i.left,s,n.outerWidth-i.right-i.left,f):zw(l,e.left+c.placed,s,d,f),c.start=s,c.placed+=d,s=l.bottom}else{const d=e.h*u,f=c.size||l.width;Ub(c.start)&&(o=c.start),l.fullSize?zw(l,o,i.top,f,n.outerHeight-i.bottom-i.top):zw(l,o,e.top+c.placed,f,d),c.start=o,c.placed+=d,o=l.right}}e.x=o,e.y=s}var Da={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=za(t.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(n-i.height,0),a=Dye(t.boxes),l=a.vertical,c=a.horizontal;kr(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),f=Object.assign({},i);tY(f,za(r));const p=Object.assign({maxPadding:f,w:o,h:s,x:i.left,y:i.top},i),v=Oye(l.concat(c),d);p0(a.fullSize,p,d,v),p0(l,p,d,v),p0(c,p,d,v)&&p0(l,p,d,v),$ye(p),eB(a.leftAndTop,p,d,v),p.x+=p.w,p.y+=p.h,eB(a.rightAndBottom,p,d,v),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},kr(a.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class nY{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Lye extends nY{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const iS="$chartjs",jye={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tB=t=>t===null||t==="";function zye(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[iS]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tB(i)){const o=j5(t,"width");o!==void 0&&(t.width=o)}if(tB(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=j5(t,"height");o!==void 0&&(t.height=o)}return t}const rY=Vve?{passive:!0}:!1;function Fye(t,e,n){t&&t.addEventListener(e,n,rY)}function Bye(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,rY)}function Vye(t,e){const n=jye[t.type]||t.type,{x:r,y:i}=Nf(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function N1(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Hye(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||N1(a.addedNodes,r),s=s&&!N1(a.removedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Wye(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||N1(a.removedNodes,r),s=s&&!N1(a.addedNodes,r);s&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Xb=new Map;let nB=0;function iY(){const t=window.devicePixelRatio;t!==nB&&(nB=t,Xb.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Uye(t,e){Xb.size||window.addEventListener("resize",iY),Xb.set(t,e)}function Kye(t){Xb.delete(t),Xb.size||window.removeEventListener("resize",iY)}function qye(t,e,n){const r=t.canvas,i=r&&aN(r);if(!i)return;const o=LG((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),s=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(i),Uye(t,o),s}function $P(t,e,n){n&&n.disconnect(),e==="resize"&&Kye(t)}function Gye(t,e,n){const r=t.canvas,i=LG(o=>{t.ctx!==null&&n(Vye(o,t))},t);return Fye(r,e,i),i}class Yye extends nY{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(zye(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[iS])return!1;const r=n[iS].initial;["height","width"].forEach(o=>{const s=r[o];Sr(s)?n.removeAttribute(o):n.setAttribute(o,s)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[iS],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),s={attach:Hye,detach:Wye,resize:qye}[n]||Gye;i[n]=s(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:$P,detach:$P,resize:$P}[n]||Bye)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return Bve(e,n,r,i)}isAttached(e){const n=e&&aN(e);return!!(n&&n.isConnected)}}function Xye(t){return!sN()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Lye:Yye}var RC;let Ou=(RC=class{constructor(){Ye(this,"x");Ye(this,"y");Ye(this,"active",!1);Ye(this,"options");Ye(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Kb(this.x)&&Kb(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}},Ye(RC,"defaults",{}),Ye(RC,"defaultRoutes"),RC);function Zye(t,e){const n=t.options.ticks,r=Qye(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?e0e(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>i)return t0e(e,c,o,s/i),c;const u=Jye(o,e,i);if(s>0){let d,f;const p=s>1?Math.round((l-a)/(s-1)):null;for(Fw(e,c,u,Sr(p)?0:a-p,a),d=0,f=s-1;d<f;d++)Fw(e,c,u,o[d],o[d+1]);return Fw(e,c,u,l,Sr(p)?e.length:l+p),c}return Fw(e,c,u),c}function Qye(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Jye(t,e,n){const r=n0e(t),i=e.length/n;if(!r)return Math.max(i,1);const o=Fge(r);for(let s=0,a=o.length-1;s<a;s++){const l=o[s];if(l>i)return l}return Math.max(i,1)}function e0e(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function t0e(t,e,n,r){let i=0,o=n[0],s;for(r=Math.ceil(r),s=0;s<t.length;s++)s===o&&(e.push(t[s]),i++,o=n[i*r])}function Fw(t,e,n,r,i){const o=Bn(r,0),s=Math.min(Bn(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<s;c++)c===u&&(e.push(t[c]),a++,u=Math.round(o+a*n))}function n0e(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const r0e=t=>t==="left"?"right":t==="right"?"left":t,rB=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,iB=(t,e)=>Math.min(e||t,t);function oB(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function i0e(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,s=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-o,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<o-a||l>s+a)))return l}function o0e(t,e){kr(t,n=>{const r=n.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function Sy(t){return t.drawTicks?t.tickLength:0}function sB(t,e){if(!t.display)return 0;const n=Qo(t.font,e),r=za(t.padding);return(oo(t.text)?t.text.length:1)*n.lineHeight+r.height}function s0e(t,e){return mp(t,{scale:e,type:"scale"})}function a0e(t,e,n){return mp(t,{tick:n,index:e,type:"tick"})}function l0e(t,e,n){let r=J$(t);return(n&&e!=="right"||!n&&e==="right")&&(r=r0e(r)),r}function c0e(t,e,n,r){const{top:i,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,p,v;const y=s-i,b=a-o;if(t.isHorizontal()){if(p=qo(r,o,a),Yn(n)){const x=Object.keys(n)[0],_=n[x];v=u[x].getPixelForValue(_)+y-e}else n==="center"?v=(c.bottom+c.top)/2+y-e:v=rB(t,n,e);f=a-o}else{if(Yn(n)){const x=Object.keys(n)[0],_=n[x];p=u[x].getPixelForValue(_)-b+e}else n==="center"?p=(c.left+c.right)/2-b+e:p=rB(t,n,e);v=qo(r,s,i),d=n==="left"?-fo:fo}return{titleX:p,titleY:v,maxWidth:f,rotation:d}}class Iv extends Ou{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=$l(e,Number.POSITIVE_INFINITY),n=$l(n,Number.NEGATIVE_INFINITY),r=$l(r,Number.POSITIVE_INFINITY),i=$l(i,Number.NEGATIVE_INFINITY),{min:$l(e,r),max:$l(n,i),minDefined:es(e),maxDefined:es(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,s.min)),o||(r=Math.max(r,s.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:$l(n,$l(r,n)),max:$l(r,$l(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ni(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bve(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?oB(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Zye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ni(this.options.afterUpdate,[this])}beforeSetDimensions(){ni(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ni(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ni(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ni(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=ni(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){ni(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ni(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=iB(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let s=i,a,l,c;if(!this._isVisible()||!n.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=Zo(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-Sy(e.grid)-n.padding-sB(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),s=Wge(Math.min(Math.asin(Zo((u.highest.height+6)/a,-1,1)),Math.asin(Zo(l/c,-1,1))-Math.asin(Zo(f/c,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){ni(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ni(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=sB(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Sy(o)+l):(e.height=this.maxHeight,e.width=Sy(o)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,v=ru(this.labelRotation),y=Math.cos(v),b=Math.sin(v);if(a){const x=r.mirror?0:b*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=r.mirror?0:y*d.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(c,u,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=r*n.height):(f=r*e.height,p=i*n.width):o==="start"?p=n.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+s)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;o==="start"?(u=0,d=e.height):o==="end"&&(u=n.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ni(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Sr(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=oB(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(n/iB(n,r));let c=0,u=0,d,f,p,v,y,b,x,_,w,E,T;for(d=0;d<n;d+=l){if(v=e[d].label,y=this._resolveTickFontOptions(d),i.font=b=y.string,x=o[b]=o[b]||{data:{},gc:[]},_=y.lineHeight,w=E=0,!Sr(v)&&!oo(v))w=D5(i,x.data,x.gc,w,v),E=_;else if(oo(v))for(f=0,p=v.length;f<p;++f)T=v[f],!Sr(T)&&!oo(T)&&(w=D5(i,x.data,x.gc,w,T),E+=_);s.push(w),a.push(E),c=Math.max(w,c),u=Math.max(E,u)}o0e(o,n);const I=s.indexOf(c),S=a.indexOf(u),P=R=>({width:s[R]||0,height:a[R]||0});return{first:P(0),last:P(n-1),widest:P(I),highest:P(S),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Kge(this._alignToPixels?Tf(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=a0e(this.getContext(),e,r))}return this.$context||(this.$context=s0e(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ru(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Sy(o),p=[],v=a.setContext(this.getContext()),y=v.display?v.width:0,b=y/2,x=function(z){return Tf(r,z,y)};let _,w,E,T,I,S,P,R,O,N,A,$;if(s==="top")_=x(this.bottom),S=this.bottom-f,R=_-b,N=x(e.top)+b,$=e.bottom;else if(s==="bottom")_=x(this.top),N=e.top,$=x(e.bottom)-b,S=_+b,R=this.top+f;else if(s==="left")_=x(this.right),I=this.right-f,P=_-b,O=x(e.left)+b,A=e.right;else if(s==="right")_=x(this.left),O=e.left,A=x(e.right)-b,I=_+b,P=this.left+f;else if(n==="x"){if(s==="center")_=x((e.top+e.bottom)/2+.5);else if(Yn(s)){const z=Object.keys(s)[0],j=s[z];_=x(this.chart.scales[z].getPixelForValue(j))}N=e.top,$=e.bottom,S=_+b,R=S+f}else if(n==="y"){if(s==="center")_=x((e.left+e.right)/2);else if(Yn(s)){const z=Object.keys(s)[0],j=s[z];_=x(this.chart.scales[z].getPixelForValue(j))}I=_-b,P=I-f,O=e.left,A=e.right}const M=Bn(i.ticks.maxTicksLimit,d),F=Math.max(1,Math.ceil(d/M));for(w=0;w<d;w+=F){const z=this.getContext(w),j=o.setContext(z),B=a.setContext(z),W=j.lineWidth,q=j.color,G=B.dash||[],X=B.dashOffset,ue=j.tickWidth,te=j.tickColor,J=j.tickBorderDash||[],se=j.tickBorderDashOffset;E=i0e(this,w,l),E!==void 0&&(T=Tf(r,E,W),c?I=P=O=A=T:S=R=N=$=T,p.push({tx1:I,ty1:S,tx2:P,ty2:R,x1:O,y1:N,x2:A,y2:$,width:W,color:q,borderDash:G,borderDashOffset:X,tickWidth:ue,tickColor:te,tickBorderDash:J,tickBorderDashOffset:se}))}return this._ticksLength=d,this._borderValue=_,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,f=Sy(r.grid),p=f+u,v=d?-u:p,y=-ru(this.labelRotation),b=[];let x,_,w,E,T,I,S,P,R,O,N,A,$="middle";if(i==="top")I=this.bottom-v,S=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+v,S=this._getXAxisLabelAlignment();else if(i==="left"){const F=this._getYAxisLabelAlignment(f);S=F.textAlign,T=F.x}else if(i==="right"){const F=this._getYAxisLabelAlignment(f);S=F.textAlign,T=F.x}else if(n==="x"){if(i==="center")I=(e.top+e.bottom)/2+p;else if(Yn(i)){const F=Object.keys(i)[0],z=i[F];I=this.chart.scales[F].getPixelForValue(z)+p}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(e.left+e.right)/2-p;else if(Yn(i)){const F=Object.keys(i)[0],z=i[F];T=this.chart.scales[F].getPixelForValue(z)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const M=this._getLabelSizes();for(x=0,_=a.length;x<_;++x){w=a[x],E=w.label;const F=o.setContext(this.getContext(x));P=this.getPixelForTick(x)+o.labelOffset,R=this._resolveTickFontOptions(x),O=R.lineHeight,N=oo(E)?E.length:1;const z=N/2,j=F.color,B=F.textStrokeColor,W=F.textStrokeWidth;let q=S;s?(T=P,S==="inner"&&(x===_-1?q=this.options.reverse?"left":"right":x===0?q=this.options.reverse?"right":"left":q="center"),i==="top"?c==="near"||y!==0?A=-N*O+O/2:c==="center"?A=-M.highest.height/2-z*O+O:A=-M.highest.height+O/2:c==="near"||y!==0?A=O/2:c==="center"?A=M.highest.height/2-z*O:A=M.highest.height-N*O,d&&(A*=-1),y!==0&&!F.showLabelBackdrop&&(T+=O/2*Math.sin(y))):(I=P,A=(1-N)*O/2);let G;if(F.showLabelBackdrop){const X=za(F.backdropPadding),ue=M.heights[x],te=M.widths[x];let J=A-X.top,se=0-X.left;switch($){case"middle":J-=ue/2;break;case"bottom":J-=ue;break}switch(S){case"center":se-=te/2;break;case"right":se-=te;break;case"inner":x===_-1?se-=te:x>0&&(se-=te/2);break}G={left:se,top:J,width:te+X.width,height:ue+X.height,color:F.backdropColor}}b.push({label:E,font:R,textOffset:A,options:{rotation:y,color:j,strokeColor:B,strokeWidth:W,textAlign:q,textBaseline:$,translation:[T,I],backdrop:G}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ru(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width;let c,u;return n==="left"?i?(u=this.right+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:o,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,o,s),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,s;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(o=0,s=i.length;o<s;++o){const l=i[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Tf(e,this.left,s)-s/2,u=Tf(e,this.right,a)+a/2,d=f=l):(d=Tf(e,this.top,s)-s/2,f=Tf(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&EI(r,i);const o=this.getLabelItems(e);for(const s of o){const a=s.options,l=s.font,c=s.label,u=s.textOffset;Yb(r,c,0,u,l,a)}i&&II(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=Qo(r.font),s=za(r.padding),a=r.align;let l=o.lineHeight/2;n==="bottom"||n==="center"||Yn(n)?(l+=s.bottom,oo(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=s.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=c0e(this,l,n,a);Yb(e,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:f,textAlign:l0e(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Bn(e.grid&&e.grid.z,-1),i=Bn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Iv.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,s;for(o=0,s=n.length;o<s;++o){const a=n[o];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Qo(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Bw{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;f0e(n)&&(r=this.register(n));const i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,u0e(e,s,r),this.override&&Bi.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Bi[i]&&(delete Bi[i][r],this.override&&delete Gh[r])}}function u0e(t,e,n){const r=Wb(Object.create(null),[n?Bi.get(n):{},Bi.get(e),t.defaults]);Bi.set(e,r),t.defaultRoutes&&d0e(e,t.defaultRoutes),t.descriptors&&Bi.describe(e,t.descriptors)}function d0e(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Bi.route(o,i,l,a)})}function f0e(t){return"id"in t&&"defaults"in t}class h0e{constructor(){this.controllers=new Bw(gh,"datasets",!0),this.elements=new Bw(Ou,"elements"),this.plugins=new Bw(Object,"plugins"),this.scales=new Bw(Iv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):kr(i,s=>{const a=r||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,n,r){const i=Z$(e);ni(r["before"+i],[],r),n[e](r),ni(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Fl=new h0e;class p0e{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,r,i){i=i||{};for(const o of e){const s=o.plugin,a=s[r],l=[n,i,o.options];if(ni(a,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Sr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Bn(r.options&&r.options.plugins,{}),o=m0e(r);return i===!1&&!n?[]:v0e(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function m0e(t){const e={},n=[],r=Object.keys(Fl.plugins.items);for(let o=0;o<r.length;o++)n.push(Fl.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const s=i[o];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function g0e(t,e){return!e&&t===!1?null:t===!0?{}:t}function v0e(t,{plugins:e,localIds:n},r,i){const o=[],s=t.getContext();for(const a of e){const l=a.id,c=g0e(r[l],i);c!==null&&o.push({plugin:a,options:y0e(t.config,{plugin:a,local:n[l]},c,s)})}return o}function y0e(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),s=t.getOptionScopes(r,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jM(t,e){const n=Bi.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function b0e(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function x0e(t,e){return t===e?"_index_":"_value_"}function aB(t){if(t==="x"||t==="y"||t==="r")return t}function _0e(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function zM(t,...e){if(aB(t))return t;for(const n of e){const r=n.axis||_0e(n.position)||t.length>1&&aB(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function lB(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function w0e(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return lB(t,"x",n[0])||lB(t,"y",n[0])}return{}}function C0e(t,e){const n=Gh[t.type]||{scales:{}},r=e.scales||{},i=jM(t.type,e),o=Object.create(null);return Object.keys(r).forEach(s=>{const a=r[s];if(!Yn(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=zM(s,a,w0e(s,t),Bi.scales[a.type]),c=x0e(l,i),u=n.scales||{};o[s]=H0(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(s=>{const a=s.type||t.type,l=s.indexAxis||jM(a,e),u=(Gh[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=b0e(d,l),p=s[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),H0(o[p],[{axis:f},r[p],u[d]])})}),Object.keys(o).forEach(s=>{const a=o[s];H0(a,[Bi.scales[a.type],Bi.scale])}),o}function oY(t){const e=t.options||(t.options={});e.plugins=Bn(e.plugins,{}),e.scales=C0e(t,e)}function sY(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function S0e(t){return t=t||{},t.data=sY(t.data),oY(t),t}const cB=new Map,aY=new Set;function Vw(t,e){let n=cB.get(t);return n||(n=e(),cB.set(t,n),aY.add(n)),n}const Ey=(t,e,n)=>{const r=qh(e,n);r!==void 0&&t.add(r)};class E0e{constructor(e){this._config=S0e(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sY(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oY(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vw(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vw(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vw(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Vw(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:o}=this,s=this._cachedScopes(e,r),a=s.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Ey(l,e,d))),u.forEach(d=>Ey(l,i,d)),u.forEach(d=>Ey(l,Gh[o]||{},d)),u.forEach(d=>Ey(l,Bi,d)),u.forEach(d=>Ey(l,$M,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),aY.has(n)&&s.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Gh[n]||{},Bi.datasets[n]||{},{type:n},Bi,$M]}resolveNamedOptions(e,n,r,i=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=uB(this._resolverCache,e,i);let l=s;if(T0e(s,n)){o.$shared=!1,r=ef(r)?r():r;const c=this.createResolver(e,r,a);l=Ng(s,r,c)}for(const c of n)o[c]=l[c];return o}createResolver(e,n,r=[""],i){const{resolver:o}=uB(this._resolverCache,e,r);return Yn(n)?Ng(o,n,void 0,i):o}}function uB(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:rN(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}const I0e=t=>Yn(t)&&Object.getOwnPropertyNames(t).some(e=>ef(t[e]));function T0e(t,e){const{isScriptable:n,isIndexable:r}=BG(t);for(const i of e){const o=n(i),s=r(i),a=(s||o)&&t[i];if(o&&(ef(a)||I0e(a))||s&&oo(a))return!0}return!1}var P0e="4.4.8";const R0e=["top","bottom","left","right","chartArea"];function dB(t,e){return t==="top"||t==="bottom"||R0e.indexOf(t)===-1&&e==="x"}function fB(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function hB(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ni(n&&n.onComplete,[t],e)}function k0e(t){const e=t.chart,n=e.options.animation;ni(n&&n.onProgress,[t],e)}function lY(t){return sN()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const oS={},pB=t=>{const e=lY(t);return Object.values(oS).filter(n=>n.canvas===e).pop()};function M0e(t,e,n){const r=Object.keys(t);for(const i of r){const o=+i;if(o>=e){const s=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=s)}}}function O0e(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Hw(t,e,n){return t.options.clip?t[n]:e[n]}function D0e(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Hw(n,e,"left"),right:Hw(n,e,"right"),top:Hw(r,e,"top"),bottom:Hw(r,e,"bottom")}:e}var Qu;let RI=(Qu=class{static register(...e){Fl.add(...e),mB()}static unregister(...e){Fl.remove(...e),mB()}constructor(e,n){const r=this.config=new E0e(n),i=lY(e),o=pB(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Xye(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,s.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Mge(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new p0e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Xge(d=>this.update(d),s.resizeDelay||0),this._dataChanges=[],oS[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Bc.listen(this,"complete",hB),Bc.listen(this,"progress",k0e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return Sr(e)?n&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():L5(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return A5(this.canvas,this.ctx),this}stop(){return Bc.stop(this),this}resize(e,n){Bc.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,n,o),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,L5(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),ni(r.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kr(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((s,a)=>(s[a]=!1,s),{});let o=[];n&&(o=o.concat(Object.keys(n).map(s=>{const a=n[s],l=zM(s,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),kr(o,s=>{const a=s.options,l=a.id,c=zM(l,a),u=Bn(a.type,s.dtype);(a.position===void 0||dB(a.position,c)!==dB(s.dposition))&&(a.position=s.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=Fl.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),kr(i,(s,a)=>{s||delete r[a]}),kr(r,s=>{Da.configure(this,s,s.options),Da.addBox(this,s)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(fB("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const o=n[r];let s=this.getDatasetMeta(r);const a=o.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=a,s.indexAxis=o.indexAxis||jM(a,this.options),s.order=o.order||0,s.index=r,s.label=""+o.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const l=Fl.getController(a),{datasetElementType:c,dataElementType:u}=Bi.datasets[a];Object.assign(l,{dataElementType:Fl.getElement(u),datasetElementType:c&&Fl.getElement(c)}),s.controller=new l(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){kr(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&o.indexOf(d)===-1;d.buildOrUpdateElements(f),s=Math.max(+d.getMaxOverflow(),s)}s=this._minPadding=r.layout.autoPadding?s:0,this._updateLayout(s),i||kr(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fB("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){kr(this.scales,e=>{Da.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!S5(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of n){const s=r==="_removeElements"?-o:o;M0e(e,i,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(s=>s[0]===o).map((s,a)=>a+","+s.splice(1).join(","))),i=r(0);for(let o=1;o<n;o++)if(!S5(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Da.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],kr(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ef(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bc.has(this)?this.attached&&!Bc.running(this)&&Bc.start(this):(this.draw(),hB({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,o;for(i=0,o=n.length;i<o;++i){const s=n[i];(!e||s.visible)&&r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,o=D0e(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&EI(n,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),e.controller.draw(),i&&II(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Gb(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const o=Rye.modes[n];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=mp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,i);Ub(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),s.update(o,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Bc.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),A5(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete oS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,s)=>{n.addEventListener(this,o,s),e[o]=s},i=(o,s,a)=>{o.offsetX=s,o.offsetY=a,this._eventHandler(o)};kr(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let s;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",o),r("detach",s)};s=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():s()}unbindEvents(){kr(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},kr(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let o,s,a,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){s=e[a];const c=s&&this.getDatasetMeta(s.datasetIndex).controller;c&&c[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:s})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[s],index:s}});!M1(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),s=o(n,e),a=r?e:o(e,n);s.length&&this.updateHoverStyle(s,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:o}=this,s=n,a=this._getActiveElements(e,i,r,s),l=Lge(e),c=O0e(e,this._lastEvent,r,l);r&&(this._lastEvent=null,ni(o.onHover,[e,a,this],this),l&&ni(o.onClick,[e,a,this],this));const u=!M1(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}},Ye(Qu,"defaults",Bi),Ye(Qu,"instances",oS),Ye(Qu,"overrides",Gh),Ye(Qu,"registry",Fl),Ye(Qu,"version",P0e),Ye(Qu,"getChart",pB),Qu);function mB(){return kr(RI.instances,t=>t._plugins.invalidate())}function A0e(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(o,s,a,r-c,n+c),l>i?(c=i/l,t.arc(o,s,l,n+c,r-c,!0)):t.arc(o,s,i,n+fo,r-fo),t.closePath(),t.clip()}function $0e(t){return nN(t,["outerStart","outerEnd","innerStart","innerEnd"])}function N0e(t,e,n,r){const i=$0e(t.options.borderRadius),o=(n-e)/2,s=Math.min(o,r*e/2),a=l=>{const c=(n-Math.min(o,l))*r/2;return Zo(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Zo(i.innerStart,0,s),innerEnd:Zo(i.innerEnd,0,s)}}function Yp(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function L1(t,e,n,r,i,o){const{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let p=0;const v=i-l;if(r){const F=u>0?u-r:0,z=d>0?d-r:0,j=(F+z)/2,B=j!==0?v*j/(j+r):v;p=(v-B)/2}const y=Math.max(.001,v*d-n/$i)/d,b=(v-y)/2,x=l+b+p,_=i-b-p,{outerStart:w,outerEnd:E,innerStart:T,innerEnd:I}=N0e(e,f,d,_-x),S=d-w,P=d-E,R=x+w/S,O=_-E/P,N=f+T,A=f+I,$=x+T/N,M=_-I/A;if(t.beginPath(),o){const F=(R+O)/2;if(t.arc(s,a,d,R,F),t.arc(s,a,d,F,O),E>0){const W=Yp(P,O,s,a);t.arc(W.x,W.y,E,O,_+fo)}const z=Yp(A,_,s,a);if(t.lineTo(z.x,z.y),I>0){const W=Yp(A,M,s,a);t.arc(W.x,W.y,I,_+fo,M+Math.PI)}const j=(_-I/f+(x+T/f))/2;if(t.arc(s,a,f,_-I/f,j,!0),t.arc(s,a,f,j,x+T/f,!0),T>0){const W=Yp(N,$,s,a);t.arc(W.x,W.y,T,$+Math.PI,x-fo)}const B=Yp(S,x,s,a);if(t.lineTo(B.x,B.y),w>0){const W=Yp(S,R,s,a);t.arc(W.x,W.y,w,x-fo,R)}}else{t.moveTo(s,a);const F=Math.cos(R)*d+s,z=Math.sin(R)*d+a;t.lineTo(F,z);const j=Math.cos(O)*d+s,B=Math.sin(O)*d+a;t.lineTo(j,B)}t.closePath()}function L0e(t,e,n,r,i){const{fullCircles:o,startAngle:s,circumference:a}=e;let l=e.endAngle;if(o){L1(t,e,n,r,l,i);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=s+(a%wi||wi))}return L1(t,e,n,r,l,i),t.fill(),l}function j0e(t,e,n,r,i){const{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(o){L1(t,e,n,r,v,i);for(let y=0;y<o;++y)t.stroke();isNaN(a)||(v=s+(a%wi||wi))}p&&A0e(t,e,v),o||(L1(t,e,n,r,v,i),t.stroke())}class m0 extends Ou{constructor(n){super();Ye(this,"circumference");Ye(this,"endAngle");Ye(this,"fullCircles");Ye(this,"innerRadius");Ye(this,"outerRadius");Ye(this,"pixelMargin");Ye(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.getProps(["x","y"],i),{angle:s,distance:a}=DG(o,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,v=Bn(f,c-l),y=qb(s,l,c)&&l!==c,b=v>=wi||y,x=iu(a,u+p,d+p);return b&&x}getCenterPoint(n){const{x:r,y:i,startAngle:o,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(o+s)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,o=(r.offset||0)/4,s=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>wi?Math.floor(i/wi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min($i,i||0)),u=o*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,L0e(n,this,u,s,a),j0e(n,this,u,s,a),n.restore()}}Ye(m0,"id","arc"),Ye(m0,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ye(m0,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ye(m0,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function cY(t,e,n=e){t.lineCap=Bn(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Bn(n.borderDash,e.borderDash)),t.lineDashOffset=Bn(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Bn(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Bn(n.borderWidth,e.borderWidth),t.strokeStyle=Bn(n.borderColor,e.borderColor)}function z0e(t,e,n){t.lineTo(n.x,n.y)}function F0e(t){return t.stepped?uve:t.tension||t.cubicInterpolationMode==="monotone"?dve:z0e}function uY(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:s,end:a}=e,l=Math.max(i,s),c=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function B0e(t,e,n,r){const{points:i,options:o}=e,{count:s,start:a,loop:l,ilen:c}=uY(i,n,r),u=F0e(o);let{move:d=!0,reverse:f}=r||{},p,v,y;for(p=0;p<=c;++p)v=i[(a+(f?c-p:p))%s],!v.skip&&(d?(t.moveTo(v.x,v.y),d=!1):u(t,y,v,f,o.stepped),y=v);return l&&(v=i[(a+(f?c:0))%s],u(t,y,v,f,o.stepped)),!!l}function V0e(t,e,n,r){const i=e.points,{count:o,start:s,ilen:a}=uY(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,p,v,y,b,x;const _=E=>(s+(c?a-E:E))%o,w=()=>{y!==b&&(t.lineTo(u,b),t.lineTo(u,y),t.lineTo(u,x))};for(l&&(p=i[_(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[_(f)],p.skip)continue;const E=p.x,T=p.y,I=E|0;I===v?(T<y?y=T:T>b&&(b=T),u=(d*u+E)/++d):(w(),t.lineTo(E,T),v=I,d=0,y=b=T),x=T}w()}function FM(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?V0e:B0e}function H0e(t){return t.stepped?Hve:t.tension||t.cubicInterpolationMode==="monotone"?Wve:Lf}function W0e(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),cY(t,e.options),t.stroke(i)}function U0e(t,e,n,r){const{segments:i,options:o}=e,s=FM(e);for(const a of i)cY(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const K0e=typeof Path2D=="function";function q0e(t,e,n,r){K0e&&!e.options.segment?W0e(t,e,n,r):U0e(t,e,n,r)}class xd extends Ou{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;$ve(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Xve(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],o=this.points,s=XG(this,{property:n,start:i,end:i});if(!s.length)return;const a=[],l=H0e(r);let c,u;for(c=0,u=s.length;c<u;++c){const{start:d,end:f}=s[c],p=o[d],v=o[f];if(p===v){a.push(p);continue}const y=Math.abs((i-p[n])/(v[n]-p[n])),b=l(p,v,y,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return FM(this)(e,this,n,r)}path(e,n,r){const i=this.segments,o=FM(this);let s=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)s&=o(e,this,a,{start:n,end:n+r-1});return!!s}draw(e,n,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),q0e(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ye(xd,"id","line"),Ye(xd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ye(xd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ye(xd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function gB(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class sS extends Ou{constructor(n){super();Ye(this,"parsed");Ye(this,"skip");Ye(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(n-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,r){return gB(this,n,"x",r)}inYRange(n,r){return gB(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Gb(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,NM(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Ye(sS,"id","point"),Ye(sS,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ye(sS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function dY(t,e){const{x:n,y:r,base:i,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=s/2,a=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=o/2,a=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function _d(t,e,n,r){return t?0:Zo(e,n,r)}function G0e(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=FG(r);return{t:_d(i.top,o.top,0,n),r:_d(i.right,o.right,0,e),b:_d(i.bottom,o.bottom,0,n),l:_d(i.left,o.left,0,e)}}function Y0e(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=lg(i),s=Math.min(e,n),a=t.borderSkipped,l=r||Yn(i);return{topLeft:_d(!l||a.top||a.left,o.topLeft,0,s),topRight:_d(!l||a.top||a.right,o.topRight,0,s),bottomLeft:_d(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:_d(!l||a.bottom||a.right,o.bottomRight,0,s)}}function X0e(t){const e=dY(t),n=e.right-e.left,r=e.bottom-e.top,i=G0e(t,n/2,r/2),o=Y0e(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function NP(t,e,n,r){const i=e===null,o=n===null,a=t&&!(i&&o)&&dY(t,r);return a&&(i||iu(e,a.left,a.right))&&(o||iu(n,a.top,a.bottom))}function Z0e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Q0e(t,e){t.rect(e.x,e.y,e.w,e.h)}function LP(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,s=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+s,radius:t.radius}}class aS extends Ou{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=X0e(this),a=Z0e(s.radius)?A1:Q0e;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,LP(s,n,o)),e.clip(),a(e,LP(o,-n,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,LP(o,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return NP(this,e,n,r)}inXRange(e,n){return NP(this,e,null,n)}inYRange(e,n){return NP(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Ye(aS,"id","bar"),Ye(aS,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ye(aS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function J0e(t,e,n){const r=t.segments,i=t.points,o=e.points,s=[];for(const a of r){let{start:l,end:c}=a;c=cN(l,c,i);const u=BM(n,i[l],i[c],a.loop);if(!e.segments){s.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=XG(e,u);for(const f of d){const p=BM(n,o[f.start],o[f.end],f.loop),v=YG(a,i,p);for(const y of v)s.push({source:y,target:f,start:{[n]:vB(u,p,"start",Math.max)},end:{[n]:vB(u,p,"end",Math.min)}})}}return s}function BM(t,e,n,r){if(r)return;let i=e[t],o=n[t];return t==="angle"&&(i=Bl(i),o=Bl(o)),{property:t,start:i,end:o}}function ebe(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=cN(s,a,i);const l=i[s],c=i[a];r!==null?(o.push({x:l.x,y:r}),o.push({x:c.x,y:r})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function cN(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function vB(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function fY(t,e){let n=[],r=!1;return oo(t)?(r=!0,n=t):n=ebe(t,e),n.length?new xd({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function yB(t){return t&&t.fill!==!1}function tbe(t,e,n){let i=t[e].fill;const o=[e];let s;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!es(i))return i;if(s=t[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function nbe(t,e,n){const r=sbe(t);if(Yn(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return es(i)&&Math.floor(i)===i?rbe(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function rbe(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function ibe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Yn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function obe(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Yn(t)?r=t.value:r=e.getBaseValue(),r}function sbe(t){const e=t.options,n=e.fill;let r=Bn(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function abe(t){const{scale:e,index:n,line:r}=t,i=[],o=r.segments,s=r.points,a=lbe(e,n);a.push(fY({x:null,y:e.bottom},r));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)cbe(i,s[u],a)}return new xd({points:i,options:{}})}function lbe(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function cbe(t,e,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:s,last:a,point:l}=ube(o,e,"x");if(!(!l||s&&a)){if(s)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function ube(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],o=t.segments,s=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=s[u.start][n],f=s[u.end][n];if(iu(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:r}}class hY{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:o,radius:s}=this;return n=n||{start:0,end:wi},e.arc(i,o,s,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,o=e.angle;return{x:n+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function dbe(t){const{chart:e,fill:n,line:r}=t;if(es(n))return fbe(e,n);if(n==="stack")return abe(t);if(n==="shape")return!0;const i=hbe(t);return i instanceof hY?i:fY(i,r)}function fbe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function hbe(t){return(t.scale||{}).getPointPositionForValue?mbe(t):pbe(t)}function pbe(t){const{scale:e={},fill:n}=t,r=ibe(n,e);if(es(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function mbe(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,s=obe(n,e,o),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,o);return new hY({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,s));return a}function jP(t,e,n){const r=dbe(e),{line:i,scale:o,axis:s}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};r&&i.points.length&&(EI(t,n),gbe(t,{line:i,target:r,above:u,below:d,area:n,scale:o,axis:s}),II(t))}function gbe(t,e){const{line:n,target:r,above:i,below:o,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&o!==i&&(bB(t,r,s.top),xB(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore(),t.save(),bB(t,r,s.bottom)),xB(t,{line:n,target:r,color:o,scale:a,property:l}),t.restore()}function bB(t,e,n){const{segments:r,points:i}=e;let o=!0,s=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,u=i[l],d=i[cN(l,c,i)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function xB(t,e){const{line:n,target:r,property:i,color:o,scale:s}=e,a=J0e(n,r,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=o}={}}=l,p=r!==!0;t.save(),t.fillStyle=f,vbe(t,s,p&&BM(i,u,d)),t.beginPath();const v=!!n.pathSegment(t,l);let y;if(p){v?t.closePath():_B(t,r,d,i);const b=!!r.pathSegment(t,c,{move:v,reverse:!0});y=v&&b,y||_B(t,r,u,i)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function vbe(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:o,start:s,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(s,r,a-s,i-r),t.clip())}function _B(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var ybe={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let o,s,a,l;for(s=0;s<r;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof xd&&(l={visible:t.isDatasetVisible(s),index:s,fill:nbe(a,s,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=tbe(i,s,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=i.length-1;s>=0;--s){const a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&jP(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;yB(o)&&jP(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!yB(r)||n.drawTime!=="beforeDatasetDraw"||jP(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wB=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},bbe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class CB extends Ou{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ni(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Qo(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=wB(r,o);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((v,y)=>{const b=r+n/2+o.measureText(v.text).width;(y===0||c[c.length-1]+b+2*a>s)&&(d+=u,c[c.length-(y>0?0:1)]=0,p+=u,f++),l[y]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),d}_fitCols(e,n,r,i){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e;let d=a,f=0,p=0,v=0,y=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:_,itemHeight:w}=xbe(r,n,o,b,i);x>0&&p+w+2*a>u&&(d+=f+a,c.push({width:f,height:p}),v+=f+a,y++,f=p=0),l[x]={left:v,top:p,col:y,width:_,height:w},f=Math.max(f,_),p+=w+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:o}}=this,s=cg(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=qo(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=qo(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+i}else{let a=0,l=qo(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=qo(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;EI(e,this),this._draw(),II(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:o,labels:s}=e,a=Bi.color,l=cg(e.rtl,this.left,this.width),c=Qo(s.font),{padding:u}=s,d=c.size,f=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:v,boxHeight:y,itemHeight:b}=wB(s,d),x=function(I,S,P){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;i.save();const R=Bn(P.lineWidth,1);if(i.fillStyle=Bn(P.fillStyle,a),i.lineCap=Bn(P.lineCap,"butt"),i.lineDashOffset=Bn(P.lineDashOffset,0),i.lineJoin=Bn(P.lineJoin,"miter"),i.lineWidth=R,i.strokeStyle=Bn(P.strokeStyle,a),i.setLineDash(Bn(P.lineDash,[])),s.usePointStyle){const O={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:R},N=l.xPlus(I,v/2),A=S+f;zG(i,O,N,A,s.pointStyleWidth&&v)}else{const O=S+Math.max((d-y)/2,0),N=l.leftForLtr(I,v),A=lg(P.borderRadius);i.beginPath(),Object.values(A).some($=>$!==0)?A1(i,{x:N,y:O,w:v,h:y,radius:A}):i.rect(N,O,v,y),i.fill(),R!==0&&i.stroke()}i.restore()},_=function(I,S,P){Yb(i,P.text,I,S+b/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},w=this.isHorizontal(),E=this._computeTitleHeight();w?p={x:qo(o,this.left+u,this.right-r[0]),y:this.top+u+E,line:0}:p={x:this.left+u,y:qo(o,this.top+E+u,this.bottom-n[0].height),line:0},KG(this.ctx,e.textDirection);const T=b+u;this.legendItems.forEach((I,S)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const P=i.measureText(I.text).width,R=l.textAlign(I.textAlign||(I.textAlign=s.textAlign)),O=v+f+P;let N=p.x,A=p.y;l.setWidth(this.width),w?S>0&&N+O+u>this.right&&(A=p.y+=T,p.line++,N=p.x=qo(o,this.left+u,this.right-r[p.line])):S>0&&A+T>this.bottom&&(N=p.x=N+n[p.line].width+u,p.line++,A=p.y=qo(o,this.top+E+u,this.bottom-n[p.line].height));const $=l.x(N);if(x($,A,I),N=Zge(R,N+v+f,w?N+O:this.right,e.rtl),_(l.x(N),A,I),w)p.x+=O+u;else if(typeof I.text!="string"){const M=c.lineHeight;p.y+=pY(I,M)+u}else p.y+=T}),qG(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Qo(n.font),i=za(n.padding);if(!n.display)return;const o=cg(e.rtl,this.left,this.width),s=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=qo(e.align,d,this.right-f);else{const v=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=c+qo(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const p=qo(a,d,d+f);s.textAlign=o.textAlign(J$(a)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=r.string,Yb(s,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Qo(e.font),r=za(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,o;if(iu(e,this.left,this.right)&&iu(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],iu(e,i.left,i.left+i.width)&&iu(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Cbe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=bbe(i,r);i&&!o&&ni(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&ni(n.onHover,[e,r,this],this)}else r&&ni(n.onClick,[e,r,this],this)}}function xbe(t,e,n,r,i){const o=_be(r,t,e,n),s=wbe(i,r,e.lineHeight);return{itemWidth:o,itemHeight:s}}function _be(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),e+n.size/2+r.measureText(i).width}function wbe(t,e,n){let r=t;return typeof e.text!="string"&&(r=pY(e,n)),r}function pY(t,e){const n=t.text?t.text.length:0;return e*n}function Cbe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Sbe={id:"legend",_element:CB,start(t,e,n){const r=t.legend=new CB({ctx:t.ctx,options:n,chart:t});Da.configure(t,r,n),Da.addBox(t,r)},stop(t){Da.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Da.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=za(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};let mY=class extends Ou{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=oo(r.text)?r.text.length:1;this._padding=za(r.padding);const o=i*Qo(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:o,options:s}=this,a=s.align;let l=0,c,u,d;return this.isHorizontal()?(u=qo(a,r,o),d=n+e,c=o-r):(s.position==="left"?(u=r+e,d=qo(a,i,n),l=$i*-.5):(u=o-e,d=qo(a,n,i),l=$i*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Qo(n.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Yb(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:J$(n.align),textBaseline:"middle",translation:[s,a]})}};function Ebe(t,e){const n=new mY({ctx:t.ctx,options:e,chart:t});Da.configure(t,n,e),Da.addBox(t,n),t.titleBlock=n}var Ibe={id:"title",_element:mY,start(t,e,n){Ebe(t,n)},stop(t){const e=t.titleBlock;Da.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Da.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const g0={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,o=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){const l=t[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=AM(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Nl(t,e){return e&&(oo(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vc(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Tbe(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:t,label:s,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function SB(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=Qo(e.bodyFont),c=Qo(e.titleFont),u=Qo(e.footerFont),d=o.length,f=i.length,p=r.length,v=za(e.padding);let y=v.height,b=0,x=r.reduce((E,T)=>E+T.before.length+T.lines.length+T.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*E+(x-p)*l.lineHeight+(x-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let _=0;const w=function(E){b=Math.max(b,n.measureText(E).width+_)};return n.save(),n.font=c.string,kr(t.title,w),n.font=l.string,kr(t.beforeBody.concat(t.afterBody),w),_=e.displayColors?s+2+e.boxPadding:0,kr(r,E=>{kr(E.before,w),kr(E.lines,w),kr(E.after,w)}),_=0,n.font=u.string,kr(t.footer,w),n.restore(),b+=v.width,{width:b,height:y}}function Pbe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Rbe(t,e,n,r){const{x:i,width:o}=r,s=n.caretSize+n.caretPadding;if(t==="left"&&i+o+s>e.width||t==="right"&&i-o-s<0)return!0}function kbe(t,e,n,r){const{x:i,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),Rbe(c,t,e,n)&&(c="center"),c}function EB(t,e,n){const r=n.yAlign||e.yAlign||Pbe(t,n);return{xAlign:n.xAlign||e.xAlign||kbe(t,e,n,r),yAlign:r}}function Mbe(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Obe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function IB(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=i+o,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=lg(s);let v=Mbe(e,a);const y=Obe(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,f)+i:a==="right"&&(v+=Math.max(d,p)+i),{x:Zo(v,0,r.width-e.width),y:Zo(y,0,r.height-e.height)}}function Ww(t,e,n){const r=za(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function TB(t){return Nl([],Vc(t))}function Dbe(t,e,n){return mp(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function PB(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const gY={beforeTitle:jc,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:jc,beforeBody:jc,beforeLabel:jc,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Sr(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:jc,afterBody:jc,beforeFooter:jc,footer:jc,afterFooter:jc};function Cs(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?gY[e].call(n,r):i}var ok;let RB=(ok=class extends Ou{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new ZG(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Dbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Cs(r,"beforeTitle",this,e),o=Cs(r,"title",this,e),s=Cs(r,"afterTitle",this,e);let a=[];return a=Nl(a,Vc(i)),a=Nl(a,Vc(o)),a=Nl(a,Vc(s)),a}getBeforeBody(e,n){return TB(Cs(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return kr(e,o=>{const s={before:[],lines:[],after:[]},a=PB(r,o);Nl(s.before,Vc(Cs(a,"beforeLabel",this,o))),Nl(s.lines,Cs(a,"label",this,o)),Nl(s.after,Vc(Cs(a,"afterLabel",this,o))),i.push(s)}),i}getAfterBody(e,n){return TB(Cs(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Cs(r,"beforeFooter",this,e),o=Cs(r,"footer",this,e),s=Cs(r,"afterFooter",this,e);let a=[];return a=Nl(a,Vc(i)),a=Nl(a,Vc(o)),a=Nl(a,Vc(s)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],o=[],s=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Tbe(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),kr(a,u=>{const d=PB(e.callbacks,u);i.push(Cs(d,"labelColor",this,u)),o.push(Cs(d,"labelPointStyle",this,u)),s.push(Cs(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let o,s=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=g0[r.position].call(this,i,this._eventPosition);s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r);const l=this._size=SB(this,r),c=Object.assign({},a,l),u=EB(this.chart,r,c),d=IB(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const o=this.getCaretPosition(e,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:o}=this,{caretSize:s,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=lg(a),{x:f,y:p}=e,{width:v,height:y}=n;let b,x,_,w,E,T;return o==="center"?(E=p+y/2,i==="left"?(b=f,x=b-s,w=E+s,T=E-s):(b=f+v,x=b+s,w=E-s,T=E+s),_=b):(i==="left"?x=f+Math.max(l,u)+s:i==="right"?x=f+v-Math.max(c,d)-s:x=this.caretX,o==="top"?(w=p,E=w-s,b=x-s,_=x+s):(w=p+y,E=w+s,b=x+s,_=x-s),T=w),{x1:b,x2:x,x3:_,y1:w,y2:E,y3:T}}drawTitle(e,n,r){const i=this.title,o=i.length;let s,a,l;if(o){const c=cg(r.rtl,this.x,this.width);for(e.x=Ww(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",s=Qo(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=s.string,l=0;l<o;++l)n.fillText(i[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===o&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,o){const s=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=o,u=Qo(o.bodyFont),d=Ww(this,"left",o),f=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+p;if(o.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,x=v+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,NM(e,y,b,x),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,NM(e,y,b,x)}else{e.lineWidth=Yn(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const y=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),x=lg(s.borderRadius);Object.values(x).some(_=>_!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,A1(e,{x:y,y:v,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),A1(e,{x:b,y:v+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(y,v,c,l),e.strokeRect(y,v,c,l),e.fillStyle=s.backgroundColor,e.fillRect(b,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Qo(r.bodyFont);let f=d.lineHeight,p=0;const v=cg(r.rtl,this.x,this.width),y=function(P){n.fillText(P,v.x(e.x+p),e.y+f/2),e.y+=f+o},b=v.textAlign(s);let x,_,w,E,T,I,S;for(n.textAlign=s,n.textBaseline="middle",n.font=d.string,e.x=Ww(this,b,r),n.fillStyle=r.bodyColor,kr(this.beforeBody,y),p=a&&b!=="right"?s==="center"?c/2+u:c+2+u:0,E=0,I=i.length;E<I;++E){for(x=i[E],_=this.labelTextColors[E],n.fillStyle=_,kr(x.before,y),w=x.lines,a&&w.length&&(this._drawColorBox(n,e,E,v,r),f=Math.max(d.lineHeight,l)),T=0,S=w.length;T<S;++T)y(w[T]),f=d.lineHeight;kr(x.after,y)}p=0,f=d.lineHeight,kr(this.afterBody,y),e.y-=o}drawFooter(e,n,r){const i=this.footer,o=i.length;let s,a;if(o){const l=cg(r.rtl,this.x,this.width);for(e.x=Ww(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",s=Qo(r.footerFont),n.fillStyle=r.footerColor,n.font=s.string,a=0;a<o;++a)n.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:o,yAlign:s}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:v}=lg(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),s==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),s==="center"&&o==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),s==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),s==="center"&&o==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const s=g0[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=SB(this,e),l=Object.assign({},s,this._size),c=EB(n,e,l),u=IB(e,l,c,n);(i._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const s=za(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,n),KG(e,n.textDirection),o.y+=s.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),qG(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!M1(r,i),s=this._positionChanged(i,n);(o||s)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],s=this._getActiveElements(e,o,n,r),a=this._positionChanged(s,e),l=n||!M1(s,o)||a;return l&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&s.reverse(),s}_positionChanged(e,n){const{caretX:r,caretY:i,options:o}=this,s=g0[o.position].call(this,e,n);return s!==!1&&(r!==s.x||i!==s.y)}},Ye(ok,"positioners",g0),ok);var Abe={id:"tooltip",_element:RB,positioners:g0,afterInit(t,e,n){n&&(t.tooltip=new RB({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gY},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const $be=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Nbe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return $be(t,e,n,r);const o=t.lastIndexOf(e);return i!==o?n:i}const Lbe=(t,e)=>t===null?null:Zo(Math.round(t),0,e);function kB(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class VM extends Iv{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:o}of n)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Sr(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Nbe(r,e,Bn(n,e),this._addedLabels),Lbe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let s=e;s<=n;s++)i.push({value:s});return i}getLabelForValue(e){return kB.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ye(VM,"id","category"),Ye(VM,"defaults",{ticks:{callback:kB}});function jbe(t,e){const n=[],{bounds:i,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,p=o||1,v=u-1,{min:y,max:b}=e,x=!Sr(s),_=!Sr(a),w=!Sr(c),E=(b-y)/(d+1);let T=I5((b-y)/v/p)*p,I,S,P,R;if(T<1e-14&&!x&&!_)return[{value:y},{value:b}];R=Math.ceil(b/T)-Math.floor(y/T),R>v&&(T=I5(R*T/v/p)*p),Sr(l)||(I=Math.pow(10,l),T=Math.ceil(T*I)/I),i==="ticks"?(S=Math.floor(y/T)*T,P=Math.ceil(b/T)*T):(S=y,P=b),x&&_&&o&&Vge((a-s)/o,T/1e3)?(R=Math.round(Math.min((a-s)/T,u)),T=(a-s)/R,S=s,P=a):w?(S=x?s:S,P=_?a:P,R=c-1,T=(P-S)/R):(R=(P-S)/T,W0(R,Math.round(R),T/1e3)?R=Math.round(R):R=Math.ceil(R));const O=Math.max(T5(T),T5(S));I=Math.pow(10,Sr(l)?O:l),S=Math.round(S*I)/I,P=Math.round(P*I)/I;let N=0;for(x&&(f&&S!==s?(n.push({value:s}),S<s&&N++,W0(Math.round((S+N*T)*I)/I,s,MB(s,E,t))&&N++):S<s&&N++);N<R;++N){const A=Math.round((S+N*T)*I)/I;if(_&&A>a)break;n.push({value:A})}return _&&f&&P!==a?n.length&&W0(n[n.length-1].value,a,MB(a,E,t))?n[n.length-1].value=a:n.push({value:a}):(!_||P===a)&&n.push({value:P}),n}function MB(t,e,{horizontal:n,minRotation:r}){const i=ru(r),o=(n?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}class zbe extends Iv{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Sr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const s=l=>i=n?i:l,a=l=>o=r?o:l;if(e){const l=lc(i),c=lc(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(i-l)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,s=jbe(i,o);return e.bounds==="ticks"&&Hge(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return tN(e,this.chart.options.locale,this.options.ticks.format)}}class HM extends zbe{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=es(e)?e:0,this.max=es(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ru(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ye(HM,"id","linear"),Ye(HM,"defaults",{ticks:{callback:jG.formatters.numeric}});const kI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ks=Object.keys(kI);function OB(t,e){return t-e}function DB(t,e){if(Sr(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let s=e;return typeof r=="function"&&(s=r(s)),es(s)||(s=typeof r=="string"?n.parse(s,r):n.parse(s)),s===null?null:(i&&(s=i==="week"&&(Kb(o)||o===!0)?n.startOf(s,"isoWeek",o):n.startOf(s,i)),+s)}function AB(t,e,n,r){const i=ks.length;for(let o=ks.indexOf(t);o<i-1;++o){const s=kI[ks[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(a*s.size))<=r)return ks[o]}return ks[i-1]}function Fbe(t,e,n,r,i){for(let o=ks.length-1;o>=ks.indexOf(n);o--){const s=ks[o];if(kI[s].common&&t._adapter.diff(i,r,s)>=e-1)return s}return ks[n?ks.indexOf(n):0]}function Bbe(t){for(let e=ks.indexOf(t)+1,n=ks.length;e<n;++e)if(kI[ks[e]].common)return ks[e]}function $B(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Q$(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}function Vbe(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value;let a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function NB(t,e,n){const r=[],i={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return o===0||!n?r:Vbe(t,r,i,n)}class j1 extends Iv{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Sye._date(e.adapters.date);i.init(n),H0(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:DB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();function l(c){!s&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!s||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=es(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),o=es(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,s=this.max,a=Gge(i,o,s);return this._unit=n.unit||(r.autoSkip?AB(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Fbe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Bbe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),NB(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;n=Zo(n,0,s),r=Zo(r,0,s),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,o=i.time,s=o.unit||AB(o.minUnit,n,r,this._getLabelCapacity(n)),a=Bn(i.ticks.stepSize,1),l=s==="week"?o.isoWeekday:!1,c=Kb(l)||l===!0,u={};let d=n,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":s),e.diff(r,n,s)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+s);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,a,s),p++)$B(u,f,v);return(f===r||i.bounds==="ticks"||p===1)&&$B(u,f,v),Object.keys(u).sort(OB).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,s=n||i[o];return this._adapter.format(e,s)}_tickFormatFunction(e,n,r,i){const o=this.options,s=o.ticks.callback;if(s)return ni(s,[e,n,r],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],p=c&&d&&f&&f.major;return this._adapter.format(e,i||(p?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ru(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),s=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*o+a*s,h:r*s+a*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,NB(this,[e],this._majorUnit),i),s=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(DB(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $G(e.sort(OB))}}Ye(j1,"id","time"),Ye(j1,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Uw(t,e,n){let r=0,i=t.length-1,o,s,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=rh(t,"pos",e)),{pos:o,time:a}=t[r],{pos:s,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=rh(t,"time",e)),{time:o,pos:a}=t[r],{time:s,pos:l}=t[i]);const c=s-o;return c?a+(l-a)*(e-o)/c:a}class LB extends j1{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Uw(n,this.min),this._tableRange=Uw(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],o=[];let s,a,l,c,u;for(s=0,a=e.length;s<a;++s)c=e[s],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],l=i[s-1],c=i[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Uw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Uw(this._table,r*this._tableRange+this._minPos,!0)}}Ye(LB,"id","timeseries"),Ye(LB,"defaults",j1.defaults);const vY="label";function jB(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Hbe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function yY(t,e){t.labels=e}function bY(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vY;const r=[];t.datasets=e.map(i=>{const o=t.datasets.find(s=>s[n]===i[n]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function Wbe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vY;const n={labels:[],datasets:[]};return yY(n,t.labels),bY(n,t.datasets,e),n}function Ube(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:s,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,p=h.useRef(null),v=h.useRef(null),y=()=>{p.current&&(v.current=new RI(p.current,{type:s,data:Wbe(a,o),options:l&&{...l},plugins:c}),jB(e,v.current))},b=()=>{jB(e,null),v.current&&(v.current.destroy(),v.current=null)};return h.useEffect(()=>{!i&&v.current&&l&&Hbe(v.current,l)},[i,l]),h.useEffect(()=>{!i&&v.current&&yY(v.current.config.data,a.labels)},[i,a.labels]),h.useEffect(()=>{!i&&v.current&&a.datasets&&bY(v.current.config.data,a.datasets,o)},[i,a.datasets]),h.useEffect(()=>{v.current&&(i?(b(),setTimeout(y)):v.current.update(d))},[i,l,a.labels,a.datasets,d]),h.useEffect(()=>{v.current&&(b(),setTimeout(y))},[s]),h.useEffect(()=>(y(),()=>b()),[]),ae.createElement("canvas",{ref:p,role:"img",height:n,width:r,...f},u)}const Kbe=h.forwardRef(Ube);function uN(t,e){return RI.register(e),h.forwardRef((n,r)=>ae.createElement(Kbe,{...n,ref:r,type:t}))}const qbe=uN("line",rS),Gbe=uN("bar",nS),Ybe=uN("pie",LM);RI.register(m0,Abe,Sbe,VM,HM,aS,Ibe,sS,xd,ybe);const Xbe=()=>{const[t,e]=h.useState({livraisons:0,enCours:0,totalColis:0,tempsMoyen:"00:00",tauxLivraison:0}),[n,r]=h.useState([]),[i,o]=h.useState([]),[s,a]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState([]),f=["#4CAF50","#2196F3","#FFC107","#9C27B0","#F44336","#009688","#673AB7","#FF9800","#03A9F4","#E91E63"];h.useEffect(()=>{(async()=>{c(!0);try{const T=nn(dt,"passages"),S=(await yn(T)).docs.map(le=>({id:le.id,...le.data()})),P=mr(nn(dt,"passages"),C1("dateHeureDepart","desc"),F0(5)),O=(await yn(P)).docs.map(le=>({id:le.id,...le.data()}));d(O);const N=S.filter(le=>le.statut==="Livré").length,A=S.filter(le=>le.statut==="En cours").length,$=S.length;let M=0,F=0;S.forEach(le=>{if(le.statut==="Livré"&&le.dateHeureDepart&&le.dateHeureFin){const we=le.dateHeureDepart.toDate(),be=le.dateHeureFin.toDate().getTime()-we.getTime();M+=be,F++}});const z=F>0?M/F:0,j=Math.floor(z/6e4),B=Math.floor(j/60),W=j%60,q=`${B.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`,G=$>0?N/$*100:0;e({livraisons:N,enCours:A,totalColis:$,tempsMoyen:q,tauxLivraison:Math.round(G)});const X=new Map;S.forEach(le=>{const we=le.siteDepart;X.set(we,(X.get(we)||0)+1)});const ue=Array.from(X.entries()).map(([le,we],ce)=>({nom:le,count:we,color:f[ce%f.length]})).sort((le,we)=>we.count-le.count).slice(0,5);r(ue);const te=new Map;S.forEach(le=>{if(le.coursierLivraison){const we=le.coursierLivraison;te.set(we,(te.get(we)||0)+1)}});const J=Array.from(te.entries()).map(([le,we],ce)=>({nom:le,livraisons:we,color:f[ce%f.length]})).sort((le,we)=>we.livraisons-le.livraisons).slice(0,5);o(J);const se=new Map;S.forEach(le=>{if(le.dateHeureDepart){const we=le.dateHeureDepart.toDate().getHours();se.set(we,(se.get(we)||0)+1)}});const ge=Array.from({length:24},(le,we)=>we).map(le=>({heure:`${le}h`,count:se.get(le)||0}));a(ge)}catch(T){console.error("Erreur lors de la récupération des données:",T),e({livraisons:235,enCours:42,totalColis:277,tempsMoyen:"01:12",tauxLivraison:85})}finally{c(!1)}})()},[]);const p={labels:n.map(E=>E.nom),datasets:[{data:n.map(E=>E.count),backgroundColor:n.map(E=>E.color),borderColor:n.map(E=>E.color),borderWidth:1}]},v={labels:i.map(E=>E.nom),datasets:[{label:"Livraisons effectuées",data:i.map(E=>E.livraisons),backgroundColor:i.map(E=>E.color),borderColor:i.map(E=>E.color),borderWidth:1}]},y={labels:s.map(E=>E.heure),datasets:[{label:"Nombre de passages",data:s.map(E=>E.count),fill:!0,backgroundColor:"rgba(33, 150, 243, 0.2)",borderColor:"rgba(33, 150, 243, 1)",tension:.4}]},b={responsive:!0,plugins:{legend:{position:"right"},title:{display:!0,text:"Répartition par site",font:{size:16}}}},x={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Performance par coursier",font:{size:16}}}},_={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Activité par heure",font:{size:16}}},scales:{y:{beginAtZero:!0}}};if(l)return g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement des données..."})]});const w=E=>{const T=E.toDate();return new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(T)};return g.jsxs("div",{className:"dashboard-container",children:[g.jsx("h1",{className:"dashboard-title",children:"Tableau de bord"}),g.jsxs("div",{className:"stats-cards",children:[g.jsxs("div",{className:"stat-card delivered",children:[g.jsx("div",{className:"stat-icon",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("polyline",{points:"20 6 9 17 4 12"})})}),g.jsxs("div",{className:"stat-info",children:[g.jsx("h3",{children:"Livraisons effectuées"}),g.jsx("div",{className:"stat-value",children:t.livraisons}),g.jsx("div",{className:"stat-progress",children:g.jsx("div",{className:"progress-bar",style:{width:`${t.tauxLivraison}%`}})}),g.jsxs("div",{className:"stat-subtext",children:[t.tauxLivraison,"% du total"]})]})]}),g.jsxs("div",{className:"stat-card in-progress",children:[g.jsx("div",{className:"stat-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),g.jsxs("div",{className:"stat-info",children:[g.jsx("h3",{children:"En cours de livraison"}),g.jsx("div",{className:"stat-value",children:t.enCours}),g.jsx("div",{className:"stat-subtext",children:"Colis en transit"})]})]}),g.jsxs("div",{className:"stat-card total",children:[g.jsx("div",{className:"stat-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),g.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]})}),g.jsxs("div",{className:"stat-info",children:[g.jsx("h3",{children:"Total des colis"}),g.jsx("div",{className:"stat-value",children:t.totalColis}),g.jsx("div",{className:"stat-subtext",children:"Tous statuts confondus"})]})]}),g.jsxs("div",{className:"stat-card time",children:[g.jsx("div",{className:"stat-icon",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),g.jsxs("div",{className:"stat-info",children:[g.jsx("h3",{children:"Temps moyen de livraison"}),g.jsx("div",{className:"stat-value",children:t.tempsMoyen}),g.jsx("div",{className:"stat-subtext",children:"Heures:Minutes"})]})]})]}),g.jsxs("div",{className:"dashboard-charts",children:[g.jsxs("div",{className:"chart-row",children:[g.jsx("div",{className:"chart-card",children:g.jsx("div",{className:"chart-content",children:g.jsx(Gbe,{data:v,options:x})})}),g.jsx("div",{className:"chart-card",children:g.jsx("div",{className:"chart-content",children:g.jsx(Ybe,{data:p,options:b})})})]}),g.jsx("div",{className:"chart-card full-width",children:g.jsx("div",{className:"chart-content",children:g.jsx(qbe,{data:y,options:_})})})]}),g.jsxs("div",{className:"recent-passages",children:[g.jsx("h2",{children:"Passages récents"}),g.jsx("div",{className:"table-container",children:g.jsxs("table",{children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"ID Colis"}),g.jsx("th",{children:"Site de départ"}),g.jsx("th",{children:"Date de départ"}),g.jsx("th",{children:"Statut"}),g.jsx("th",{children:"Coursier"})]})}),g.jsx("tbody",{children:u.map(E=>g.jsxs("tr",{className:E.statut==="Livré"?"status-delivered":"status-in-progress",children:[g.jsx("td",{children:E.idColis}),g.jsx("td",{children:E.siteDepart}),g.jsx("td",{children:E.dateHeureDepart?w(E.dateHeureDepart):"N/A"}),g.jsx("td",{children:g.jsx("span",{className:`status-badge ${E.statut==="Livré"?"delivered":"in-progress"}`,children:E.statut})}),g.jsx("td",{children:E.coursierLivraison||"Non assigné"})]},E.id))})]})})]})]})};function xY(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=xY(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=xY(t))&&(r&&(r+=" "),r+=e);return r}const _Y=6048e5,Zbe=864e5,MI=6e4,OI=36e5,Qbe=1e3,zB=Symbol.for("constructDateFrom");function $r(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zB in t?t[zB](e):t instanceof Date?new t.constructor(e):new Date(e)}function dn(t,e){return $r(e||t,t)}function dl(t,e,n){const r=dn(t,n==null?void 0:n.in);return isNaN(e)?$r((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function gl(t,e,n){const r=dn(t,n==null?void 0:n.in);if(isNaN(e))return $r(t,NaN);if(!e)return r;const i=r.getDate(),o=$r(t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const s=o.getDate();return i>=s?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function wY(t,e,n){return $r(t,+dn(t)+e)}function Jbe(t,e,n){return wY(t,e*OI)}let exe={};function gp(){return exe}function Eu(t,e){var a,l,c,u;const n=gp(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=dn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function jg(t,e){return Eu(t,{...e,weekStartsOn:1})}function CY(t,e){const n=dn(t,e==null?void 0:e.in),r=n.getFullYear(),i=$r(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=jg(i),s=$r(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=jg(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function z1(t){const e=dn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Du(t,...e){const n=$r.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Yh(t,e){const n=dn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function zg(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e),o=Yh(r),s=Yh(i),a=+o-z1(o),l=+s-z1(s);return Math.round((a-l)/Zbe)}function txe(t,e){const n=CY(t,e),r=$r(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),jg(r)}function WM(t,e,n){const r=dn(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*MI),r}function dN(t,e,n){return gl(t,e*3,n)}function nxe(t,e,n){return wY(t,e*1e3)}function F1(t,e,n){return dl(t,e*7,n)}function cu(t,e,n){return gl(t,e*12,n)}function FB(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=$r.bind(null,i));const o=dn(i,r);(!n||n<o||isNaN(+o))&&(n=o)}),$r(r,n||NaN)}function BB(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=$r.bind(null,i));const o=dn(i,r);(!n||n>o||isNaN(+o))&&(n=o)}),$r(r,n||NaN)}function rxe(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e);return+Yh(r)==+Yh(i)}function uu(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function B1(t){return!(!uu(t)&&typeof t!="number"||isNaN(+dn(t)))}function V1(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e),o=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return o*12+s}function vh(t,e){const n=dn(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function H1(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e),o=r.getFullYear()-i.getFullYear(),s=vh(r)-vh(i);return o*4+s}function W1(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}function ixe(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e),o=VB(r,i),s=Math.abs(zg(r,i));r.setDate(r.getDate()-o*s);const a=+(VB(r,i)===-o),l=o*(s-a);return l===0?0:l}function VB(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function SY(t,e){const n=dn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function EY(t,e){const n=dn(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function UM(t,e){const n=dn(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function IY(t,e){const n=dn(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function TY(t,e){const n=dn(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function DI(t,e){const n=dn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function oxe(t,e){var a,l;const n=gp(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=dn(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const sxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},axe=(t,e,n)=>{let r;const i=sxe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zP(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dxe={date:zP({formats:lxe,defaultWidth:"full"}),time:zP({formats:cxe,defaultWidth:"full"}),dateTime:zP({formats:uxe,defaultWidth:"full"})},fxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hxe=(t,e,n,r)=>fxe[t];function Iy(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const pxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xxe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_xe={ordinalNumber:xxe,era:Iy({values:pxe,defaultWidth:"wide"}),quarter:Iy({values:mxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Iy({values:gxe,defaultWidth:"wide"}),day:Iy({values:vxe,defaultWidth:"wide"}),dayPeriod:Iy({values:yxe,defaultWidth:"wide",formattingValues:bxe,defaultFormattingWidth:"wide"})};function Ty(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Cxe(a,d=>d.test(s)):wxe(a,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function wxe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Cxe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Sxe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const Exe=/^(\d+)(th|st|nd|rd)?/i,Ixe=/\d+/i,Txe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pxe={any:[/^b/i,/^(a|c)/i]},Rxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kxe={any:[/1/i,/2/i,/3/i,/4/i]},Mxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Axe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$xe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lxe={ordinalNumber:Sxe({matchPattern:Exe,parsePattern:Ixe,valueCallback:t=>parseInt(t,10)}),era:Ty({matchPatterns:Txe,defaultMatchWidth:"wide",parsePatterns:Pxe,defaultParseWidth:"any"}),quarter:Ty({matchPatterns:Rxe,defaultMatchWidth:"wide",parsePatterns:kxe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ty({matchPatterns:Mxe,defaultMatchWidth:"wide",parsePatterns:Oxe,defaultParseWidth:"any"}),day:Ty({matchPatterns:Dxe,defaultMatchWidth:"wide",parsePatterns:Axe,defaultParseWidth:"any"}),dayPeriod:Ty({matchPatterns:$xe,defaultMatchWidth:"any",parsePatterns:Nxe,defaultParseWidth:"any"})},PY={code:"en-US",formatDistance:axe,formatLong:dxe,formatRelative:hxe,localize:_xe,match:Lxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jxe(t,e){const n=dn(t,e==null?void 0:e.in);return zg(n,DI(n))+1}function fN(t,e){const n=dn(t,e==null?void 0:e.in),r=+jg(n)-+txe(n);return Math.round(r/_Y)+1}function hN(t,e){var u,d,f,p;const n=dn(t,e==null?void 0:e.in),r=n.getFullYear(),i=gp(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=$r((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Eu(s,e),l=$r((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=Eu(l,e);return+n>=+a?r+1:+n>=+c?r:r-1}function zxe(t,e){var a,l,c,u;const n=gp(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=hN(t,e),o=$r((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Eu(o,e)}function RY(t,e){const n=dn(t,e==null?void 0:e.in),r=+Eu(n,e)-+zxe(n,e);return Math.round(r/_Y)+1}function Pr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Uu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Pr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pr(n+1,2)},d(t,e){return Pr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pr(t.getHours()%12||12,e.length)},H(t,e){return Pr(t.getHours(),e.length)},m(t,e){return Pr(t.getMinutes(),e.length)},s(t,e){return Pr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pr(i,e.length)}},Xp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HB={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Uu.y(t,e)},Y:function(t,e,n,r){const i=hN(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Pr(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Pr(o,e.length)},R:function(t,e){const n=CY(t);return Pr(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Uu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=RY(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Pr(i,e.length)},I:function(t,e,n){const r=fN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Pr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Uu.d(t,e)},D:function(t,e,n){const r=jxe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Pr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Pr(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xp.noon:r===0?i=Xp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xp.evening:r>=12?i=Xp.afternoon:r>=4?i=Xp.morning:i=Xp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Uu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Uu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Uu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Uu.s(t,e)},S:function(t,e){return Uu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return UB(r);case"XXXX":case"XX":return jf(r);case"XXXXX":case"XXX":default:return jf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return UB(r);case"xxxx":case"xx":return jf(r);case"xxxxx":case"xxx":default:return jf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WB(r,":");case"OOOO":default:return"GMT"+jf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WB(r,":");case"zzzz":default:return"GMT"+jf(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Pr(r,e.length)},T:function(t,e,n){return Pr(+t,e.length)}};function WB(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Pr(o,2)}function UB(t,e){return t%60===0?(t>0?"-":"+")+Pr(Math.abs(t)/60,2):jf(t,e)}function jf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Pr(Math.trunc(r/60),2),o=Pr(r%60,2);return n+i+e+o}const KB=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},kY=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Fxe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return KB(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",KB(r,e)).replace("{{time}}",kY(i,e))},KM={p:kY,P:Fxe},Bxe=/^D+$/,Vxe=/^Y+$/,Hxe=["D","DD","YY","YYYY"];function Wxe(t){return Bxe.test(t)}function Uxe(t){return Vxe.test(t)}function Kxe(t,e,n){const r=qxe(t,e,n);if(console.warn(r),Hxe.includes(t))throw new RangeError(r)}function qxe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xxe=/^'([^]*?)'?$/,Zxe=/''/g,Qxe=/[a-zA-Z]/;function qB(t,e,n){var u,d,f,p,v,y,b,x;const r=gp(),i=(n==null?void 0:n.locale)??r.locale??PY,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,a=dn(t,n==null?void 0:n.in);if(!B1(a))throw new RangeError("Invalid time value");let l=e.match(Yxe).map(_=>{const w=_[0];if(w==="p"||w==="P"){const E=KM[w];return E(_,i.formatLong)}return _}).join("").match(Gxe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const w=_[0];if(w==="'")return{isToken:!1,value:Jxe(_)};if(HB[w])return{isToken:!0,value:_};if(w.match(Qxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const w=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Uxe(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Wxe(w))&&Kxe(w,e,String(t));const E=HB[w[0]];return E(a,w,i.localize,c)}).join("")}function Jxe(t){const e=t.match(Xxe);return e?e[1].replace(Zxe,"'"):t}function GB(t,e){return dn(t,e==null?void 0:e.in).getDate()}function e_e(t,e){return dn(t,e==null?void 0:e.in).getDay()}function t_e(t,e){const n=dn(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),o=$r(n,0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function n_e(){return Object.assign({},gp())}function du(t,e){return dn(t,e==null?void 0:e.in).getHours()}function r_e(t,e){const n=dn(t,e==null?void 0:e.in).getDay();return n===0?7:n}function fu(t,e){return dn(t,e==null?void 0:e.in).getMinutes()}function ls(t,e){return dn(t,e==null?void 0:e.in).getMonth()}function Bd(t){return dn(t).getSeconds()}function qM(t){return+dn(t)}function Fn(t,e){return dn(t,e==null?void 0:e.in).getFullYear()}function tf(t,e){return+dn(t)>+dn(e)}function Xh(t,e){return+dn(t)<+dn(e)}function i_e(t,e){return+dn(t)==+dn(e)}function o_e(t,e){const n=s_e(e)?new e(0):$r(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function s_e(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const a_e=10;class MY{constructor(){Ye(this,"subPriority",0)}validate(e,n){return!0}}class l_e extends MY{constructor(e,n,r,i,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class c_e extends MY{constructor(n,r){super();Ye(this,"priority",a_e);Ye(this,"subPriority",-1);this.context=n||(i=>$r(r,i))}set(n,r){return r.timestampIsSet?n:$r(n,o_e(n,this.context))}}class wr{run(e,n,r,i){const o=this.parse(e,n,r,i);return o?{setter:new l_e(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class u_e extends wr{constructor(){super(...arguments);Ye(this,"priority",140);Ye(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Vi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Gl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hi(t,e){return t&&{value:e(t.value),rest:t.rest}}function _i(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Yl(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*OI+o*MI+s*Qbe),rest:e.slice(n[0].length)}}function OY(t){return _i(Vi.anyDigitsSigned,t)}function Ni(t,e){switch(t){case 1:return _i(Vi.singleDigit,e);case 2:return _i(Vi.twoDigits,e);case 3:return _i(Vi.threeDigits,e);case 4:return _i(Vi.fourDigits,e);default:return _i(new RegExp("^\\d{1,"+t+"}"),e)}}function U1(t,e){switch(t){case 1:return _i(Vi.singleDigitSigned,e);case 2:return _i(Vi.twoDigitsSigned,e);case 3:return _i(Vi.threeDigitsSigned,e);case 4:return _i(Vi.fourDigitsSigned,e);default:return _i(new RegExp("^-?\\d{1,"+t+"}"),e)}}function pN(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function DY(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const o=r+50,s=Math.trunc(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function AY(t){return t%400===0||t%4===0&&t%100!==0}class d_e extends wr{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return Hi(Ni(4,n),o);case"yo":return Hi(i.ordinalNumber(n,{unit:"year"}),o);default:return Hi(Ni(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const o=n.getFullYear();if(i.isTwoDigitYear){const a=DY(i.year,o);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const s=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class f_e extends wr{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const o=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Hi(Ni(4,n),o);case"Yo":return Hi(i.ordinalNumber(n,{unit:"year"}),o);default:return Hi(Ni(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,o){const s=hN(n,o);if(i.isTwoDigitYear){const l=DY(i.year,s);return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Eu(n,o)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Eu(n,o)}}class h_e extends wr{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return U1(r==="R"?4:r.length,n)}set(n,r,i){const o=$r(n,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),jg(o)}}class p_e extends wr{constructor(){super(...arguments);Ye(this,"priority",130);Ye(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return U1(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class m_e extends wr{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Ni(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class g_e extends wr{constructor(){super(...arguments);Ye(this,"priority",120);Ye(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Ni(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class v_e extends wr{constructor(){super(...arguments);Ye(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ye(this,"priority",110)}parse(n,r,i){const o=s=>s-1;switch(r){case"M":return Hi(_i(Vi.month,n),o);case"MM":return Hi(Ni(2,n),o);case"Mo":return Hi(i.ordinalNumber(n,{unit:"month"}),o);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class y_e extends wr{constructor(){super(...arguments);Ye(this,"priority",110);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const o=s=>s-1;switch(r){case"L":return Hi(_i(Vi.month,n),o);case"LL":return Hi(Ni(2,n),o);case"Lo":return Hi(i.ordinalNumber(n,{unit:"month"}),o);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function b_e(t,e,n){const r=dn(t,n==null?void 0:n.in),i=RY(r,n)-e;return r.setDate(r.getDate()-i*7),dn(r,n==null?void 0:n.in)}class x_e extends wr{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return _i(Vi.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Ni(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,o){return Eu(b_e(n,i,o),o)}}function __e(t,e,n){const r=dn(t,n==null?void 0:n.in),i=fN(r,n)-e;return r.setDate(r.getDate()-i*7),r}class w_e extends wr{constructor(){super(...arguments);Ye(this,"priority",100);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return _i(Vi.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Ni(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return jg(__e(n,i))}}const C_e=[31,28,31,30,31,30,31,31,30,31,30,31],S_e=[31,29,31,30,31,30,31,31,30,31,30,31];class E_e extends wr{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subPriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return _i(Vi.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Ni(r.length,n)}}validate(n,r){const i=n.getFullYear(),o=AY(i),s=n.getMonth();return o?r>=1&&r<=S_e[s]:r>=1&&r<=C_e[s]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class I_e extends wr{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"subpriority",1);Ye(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return _i(Vi.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Ni(r.length,n)}}validate(n,r){const i=n.getFullYear();return AY(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function mN(t,e,n){var d,f,p,v;const r=gp(),i=(n==null?void 0:n.weekStartsOn)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,o=dn(t,n==null?void 0:n.in),s=o.getDay(),l=(e%7+7)%7,c=7-i,u=e<0||e>6?e-(s+c)%7:(l+c)%7-(s+c)%7;return dl(o,u,n)}class T_e extends wr{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=mN(n,i,o),n.setHours(0,0,0,0),n}}class P_e extends wr{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Hi(Ni(r.length,n),s);case"eo":return Hi(i.ordinalNumber(n,{unit:"day"}),s);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=mN(n,i,o),n.setHours(0,0,0,0),n}}class R_e extends wr{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,o){const s=a=>{const l=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Hi(Ni(r.length,n),s);case"co":return Hi(i.ordinalNumber(n,{unit:"day"}),s);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,o){return n=mN(n,i,o),n.setHours(0,0,0,0),n}}function k_e(t,e,n){const r=dn(t,n==null?void 0:n.in),i=r_e(r,n),o=e-i;return dl(r,o,n)}class M_e extends wr{constructor(){super(...arguments);Ye(this,"priority",90);Ye(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const o=s=>s===0?7:s;switch(r){case"i":case"ii":return Ni(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Hi(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return Hi(i.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Hi(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Hi(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=k_e(n,i),n.setHours(0,0,0,0),n}}class O_e extends wr{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(pN(i),0,0,0),n}}class D_e extends wr{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(pN(i),0,0,0),n}}class A_e extends wr{constructor(){super(...arguments);Ye(this,"priority",80);Ye(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(pN(i),0,0,0),n}}class $_e extends wr{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return _i(Vi.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ni(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const o=n.getHours()>=12;return o&&i<12?n.setHours(i+12,0,0,0):!o&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class N_e extends wr{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return _i(Vi.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Ni(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class L_e extends wr{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return _i(Vi.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ni(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class j_e extends wr{constructor(){super(...arguments);Ye(this,"priority",70);Ye(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return _i(Vi.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Ni(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const o=i<=24?i%24:i;return n.setHours(o,0,0,0),n}}class z_e extends wr{constructor(){super(...arguments);Ye(this,"priority",60);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return _i(Vi.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Ni(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class F_e extends wr{constructor(){super(...arguments);Ye(this,"priority",50);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return _i(Vi.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Ni(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class B_e extends wr{constructor(){super(...arguments);Ye(this,"priority",30);Ye(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Hi(Ni(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class V_e extends wr{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Yl(Gl.basicOptionalMinutes,n);case"XX":return Yl(Gl.basic,n);case"XXXX":return Yl(Gl.basicOptionalSeconds,n);case"XXXXX":return Yl(Gl.extendedOptionalSeconds,n);case"XXX":default:return Yl(Gl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:$r(n,n.getTime()-z1(n)-i)}}class H_e extends wr{constructor(){super(...arguments);Ye(this,"priority",10);Ye(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Yl(Gl.basicOptionalMinutes,n);case"xx":return Yl(Gl.basic,n);case"xxxx":return Yl(Gl.basicOptionalSeconds,n);case"xxxxx":return Yl(Gl.extendedOptionalSeconds,n);case"xxx":default:return Yl(Gl.extended,n)}}set(n,r,i){return r.timestampIsSet?n:$r(n,n.getTime()-z1(n)-i)}}class W_e extends wr{constructor(){super(...arguments);Ye(this,"priority",40);Ye(this,"incompatibleTokens","*")}parse(n){return OY(n)}set(n,r,i){return[$r(n,i*1e3),{timestampIsSet:!0}]}}class U_e extends wr{constructor(){super(...arguments);Ye(this,"priority",20);Ye(this,"incompatibleTokens","*")}parse(n){return OY(n)}set(n,r,i){return[$r(n,i),{timestampIsSet:!0}]}}const K_e={G:new u_e,y:new d_e,Y:new f_e,R:new h_e,u:new p_e,Q:new m_e,q:new g_e,M:new v_e,L:new y_e,w:new x_e,I:new w_e,d:new E_e,D:new I_e,E:new T_e,e:new P_e,c:new R_e,i:new M_e,a:new O_e,b:new D_e,B:new A_e,h:new $_e,H:new N_e,K:new L_e,k:new j_e,m:new z_e,s:new F_e,S:new B_e,X:new V_e,x:new H_e,t:new W_e,T:new U_e},q_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y_e=/^'([^]*?)'?$/,X_e=/''/g,Z_e=/\S/,Q_e=/[a-zA-Z]/;function J_e(t,e,n,r){var b,x,_,w,E,T,I,S;const i=()=>$r((r==null?void 0:r.in)||n,NaN),o=n_e(),s=(r==null?void 0:r.locale)??o.locale??PY,a=(r==null?void 0:r.firstWeekContainsDate)??((x=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??o.firstWeekContainsDate??((w=(_=o.locale)==null?void 0:_.options)==null?void 0:w.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((T=(E=r==null?void 0:r.locale)==null?void 0:E.options)==null?void 0:T.weekStartsOn)??o.weekStartsOn??((S=(I=o.locale)==null?void 0:I.options)==null?void 0:S.weekStartsOn)??0;if(!e)return t?i():dn(n,r==null?void 0:r.in);const c={firstWeekContainsDate:a,weekStartsOn:l,locale:s},u=[new c_e(r==null?void 0:r.in,n)],d=e.match(G_e).map(P=>{const R=P[0];if(R in KM){const O=KM[R];return O(P,s.formatLong)}return P}).join("").match(q_e),f=[];for(let P of d){const R=P[0],O=K_e[R];if(O){const{incompatibleTokens:N}=O;if(Array.isArray(N)){const $=f.find(M=>N.includes(M.token)||M.token===R);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${P}\` at the same time`)}else if(O.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);f.push({token:R,fullToken:P});const A=O.run(t,P,s.match,c);if(!A)return i();u.push(A.setter),t=A.rest}else{if(R.match(Q_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(P==="''"?P="'":R==="'"&&(P=ewe(P)),t.indexOf(P)===0)t=t.slice(P.length);else return i()}}if(t.length>0&&Z_e.test(t))return i();const p=u.map(P=>P.priority).sort((P,R)=>R-P).filter((P,R,O)=>O.indexOf(P)===R).map(P=>u.filter(R=>R.priority===P).sort((R,O)=>O.subPriority-R.subPriority)).map(P=>P[0]);let v=dn(n,r==null?void 0:r.in);if(isNaN(+v))return i();const y={};for(const P of p){if(!P.validate(v,c))return i();const R=P.set(v,y,c);Array.isArray(R)?(v=R[0],Object.assign(y,R[1])):v=R}return v}function ewe(t){return t.match(Y_e)[1].replace(X_e,"'")}function twe(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function nwe(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e);return+UM(r)==+UM(i)}function rwe(t,e,n){const[r,i]=Du(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function Zb(t,e,n){const r=+dn(t,n==null?void 0:n.in),[i,o]=[+dn(e.start,n==null?void 0:n.in),+dn(e.end,n==null?void 0:n.in)].sort((s,a)=>s-a);return r>=i&&r<=o}function iwe(t,e,n){return dl(t,-1,n)}function owe(t,e){const n=()=>$r(e==null?void 0:e.in,NaN),i=cwe(t);let o;if(i.date){const c=uwe(i.date,2);o=dwe(c.restDateString,c.year)}if(!o||isNaN(+o))return n();const s=+o;let a=0,l;if(i.time&&(a=fwe(i.time),isNaN(a)))return n();if(i.timezone){if(l=hwe(i.timezone),isNaN(l))return n()}else{const c=new Date(s+a),u=dn(0,e==null?void 0:e.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return dn(s+a+l,e==null?void 0:e.in)}const Kw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},swe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,awe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cwe(t){const e={},n=t.split(Kw.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Kw.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Kw.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Kw.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function uwe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function dwe(t,e){if(e===null)return new Date(NaN);const n=t.match(swe);if(!n)return new Date(NaN);const r=!!n[4],i=Py(n[1]),o=Py(n[2])-1,s=Py(n[3]),a=Py(n[4]),l=Py(n[5])-1;if(r)return ywe(e,a,l)?pwe(e,a,l):new Date(NaN);{const c=new Date(0);return!gwe(e,o,s)||!vwe(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function Py(t){return t?parseInt(t):1}function fwe(t){const e=t.match(awe);if(!e)return NaN;const n=FP(e[1]),r=FP(e[2]),i=FP(e[3]);return bwe(n,r,i)?n*OI+r*MI+i*1e3:NaN}function FP(t){return t&&parseFloat(t.replace(",","."))||0}function hwe(t){if(t==="Z")return 0;const e=t.match(lwe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return xwe(r,i)?n*(r*OI+i*MI):NaN}function pwe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const mwe=[31,null,31,30,31,30,31,31,30,31,30,31];function $Y(t){return t%400===0||t%4===0&&t%100!==0}function gwe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(mwe[e]||($Y(t)?29:28))}function vwe(t,e){return e>=1&&e<=($Y(t)?366:365)}function ywe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function bwe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function xwe(t,e){return e>=0&&e<=59}function Ea(t,e,n){const r=dn(t,n==null?void 0:n.in),i=r.getFullYear(),o=r.getDate(),s=$r(t,0);s.setFullYear(i,e,15),s.setHours(0,0,0,0);const a=t_e(s);return r.setMonth(e,Math.min(o,a)),r}function lS(t,e,n){const r=dn(t,n==null?void 0:n.in);return r.setHours(e),r}function cS(t,e,n){const r=dn(t,n==null?void 0:n.in);return r.setMinutes(e),r}function Sm(t,e,n){const r=dn(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,o=e-i;return Ea(r,r.getMonth()+o*3)}function uS(t,e,n){const r=dn(t,n==null?void 0:n.in);return r.setSeconds(e),r}function Vl(t,e,n){const r=dn(t,n==null?void 0:n.in);return isNaN(+r)?$r(t,NaN):(r.setFullYear(e),r)}function yh(t,e,n){return gl(t,-e,n)}function NY(t,e,n){return dN(t,-1,n)}function YB(t,e,n){return F1(t,-1,n)}function Fg(t,e,n){return cu(t,-e,n)}function AI(){return typeof window<"u"}function Tv(t){return LY(t)?(t.nodeName||"").toLowerCase():"#document"}function oa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rc(t){var e;return(e=(LY(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LY(t){return AI()?t instanceof Node||t instanceof oa(t).Node:!1}function cs(t){return AI()?t instanceof Element||t instanceof oa(t).Element:!1}function bc(t){return AI()?t instanceof HTMLElement||t instanceof oa(t).HTMLElement:!1}function XB(t){return!AI()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof oa(t).ShadowRoot}function e_(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Fa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function _we(t){return["table","td","th"].includes(Tv(t))}function $I(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function gN(t){const e=vN(),n=cs(t)?Fa(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wwe(t){let e=nf(t);for(;bc(e)&&!Bg(e);){if(gN(e))return e;if($I(e))return null;e=nf(e)}return null}function vN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bg(t){return["html","body","#document"].includes(Tv(t))}function Fa(t){return oa(t).getComputedStyle(t)}function NI(t){return cs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function nf(t){if(Tv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||XB(t)&&t.host||Rc(t);return XB(e)?e.host:e}function jY(t){const e=nf(t);return Bg(e)?t.ownerDocument?t.ownerDocument.body:t.body:bc(e)&&e_(e)?e:jY(e)}function Qb(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=jY(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=oa(i);if(o){const a=GM(s);return e.concat(s,s.visualViewport||[],e_(i)?i:[],a&&n?Qb(a):[])}return e.concat(i,Qb(i,[],n))}function GM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Vg=Math.min,bh=Math.max,K1=Math.round,qw=Math.floor,cc=t=>({x:t,y:t}),Cwe={left:"right",right:"left",bottom:"top",top:"bottom"},Swe={start:"end",end:"start"};function Ewe(t,e,n){return bh(t,Vg(e,n))}function LI(t,e){return typeof t=="function"?t(e):t}function Hg(t){return t.split("-")[0]}function t_(t){return t.split("-")[1]}function Iwe(t){return t==="x"?"y":"x"}function yN(t){return t==="y"?"height":"width"}function Jb(t){return["top","bottom"].includes(Hg(t))?"y":"x"}function bN(t){return Iwe(Jb(t))}function Twe(t,e,n){n===void 0&&(n=!1);const r=t_(t),i=bN(t),o=yN(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=q1(s)),[s,q1(s)]}function Pwe(t){const e=q1(t);return[YM(t),e,YM(e)]}function YM(t){return t.replace(/start|end/g,e=>Swe[e])}function Rwe(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function kwe(t,e,n,r){const i=t_(t);let o=Rwe(Hg(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(YM)))),o}function q1(t){return t.replace(/left|right|bottom|top/g,e=>Cwe[e])}function Mwe(t){return{top:0,right:0,bottom:0,left:0,...t}}function zY(t){return typeof t!="number"?Mwe(t):{top:t,right:t,bottom:t,left:t}}function G1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ZB(t,e,n){let{reference:r,floating:i}=t;const o=Jb(e),s=bN(e),a=yN(s),l=Hg(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(t_(e)){case"start":p[s]-=f*(n&&c?-1:1);break;case"end":p[s]+=f*(n&&c?-1:1);break}return p}const Owe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=ZB(c,r,l),f=r,p={},v=0;for(let y=0;y<a.length;y++){const{name:b,fn:x}=a[y],{x:_,y:w,data:E,reset:T}=await x({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});u=_??u,d=w??d,p={...p,[b]:{...p[b],...E}},T&&v<=50&&(v++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:d}=ZB(c,f,l)),y=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Dwe(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=LI(e,t),v=zY(p),b=a[f?d==="floating"?"reference":"floating":d],x=G1(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},T=G1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:w,strategy:l}):_);return{top:(x.top-T.top+v.top)/E.y,bottom:(T.bottom-x.bottom+v.bottom)/E.y,left:(x.left-T.left+v.left)/E.x,right:(T.right-x.right+v.right)/E.x}}const Awe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=LI(t,e)||{};if(c==null)return{};const d=zY(u),f={x:n,y:r},p=bN(i),v=yN(p),y=await s.getDimensions(c),b=p==="y",x=b?"top":"left",_=b?"bottom":"right",w=b?"clientHeight":"clientWidth",E=o.reference[v]+o.reference[p]-f[p]-o.floating[v],T=f[p]-o.reference[p],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=I?I[w]:0;(!S||!await(s.isElement==null?void 0:s.isElement(I)))&&(S=a.floating[w]||o.floating[v]);const P=E/2-T/2,R=S/2-y[v]/2-1,O=Vg(d[x],R),N=Vg(d[_],R),A=O,$=S-y[v]-N,M=S/2-y[v]/2+P,F=Ewe(A,M,$),z=!l.arrow&&t_(i)!=null&&M!==F&&o.reference[v]/2-(M<A?O:N)-y[v]/2<0,j=z?M<A?M-A:M-$:0;return{[p]:f[p]+j,data:{[p]:F,centerOffset:M-F-j,...z&&{alignmentOffset:j}},reset:z}}}),$we=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=LI(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Hg(i),_=Jb(a),w=Hg(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=f||(w||!y?[q1(a)]:Pwe(a)),I=v!=="none";!f&&I&&T.push(...kwe(a,y,v,E));const S=[a,...T],P=await Dwe(e,b),R=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&R.push(P[x]),d){const M=Twe(i,s,E);R.push(P[M[0]],P[M[1]])}if(O=[...O,{placement:i,overflows:R}],!R.every(M=>M<=0)){var N,A;const M=(((N=o.flip)==null?void 0:N.index)||0)+1,F=S[M];if(F)return{data:{index:M,overflows:O},reset:{placement:F}};let z=(A=O.filter(j=>j.overflows[0]<=0).sort((j,B)=>j.overflows[1]-B.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(p){case"bestFit":{var $;const j=($=O.filter(B=>{if(I){const W=Jb(B.placement);return W===_||W==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(W=>W>0).reduce((W,q)=>W+q,0)]).sort((B,W)=>B[1]-W[1])[0])==null?void 0:$[0];j&&(z=j);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};async function Nwe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Hg(n),a=t_(n),l=Jb(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=LI(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const Lwe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Nwe(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}};function FY(t){const e=Fa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=bc(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=K1(n)!==o||K1(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function xN(t){return cs(t)?t:t.contextElement}function ug(t){const e=xN(t);if(!bc(e))return cc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=FY(e);let s=(o?K1(n.width):n.width)/r,a=(o?K1(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const jwe=cc(0);function BY(t){const e=oa(t);return!vN()||!e.visualViewport?jwe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zwe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==oa(t)?!1:e}function Zh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=xN(t);let s=cc(1);e&&(r?cs(r)&&(s=ug(r)):s=ug(t));const a=zwe(o,n,r)?BY(o):cc(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=oa(o),p=r&&cs(r)?oa(r):r;let v=f,y=GM(v);for(;y&&r&&p!==v;){const b=ug(y),x=y.getBoundingClientRect(),_=Fa(y),w=x.left+(y.clientLeft+parseFloat(_.paddingLeft))*b.x,E=x.top+(y.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,d*=b.y,l+=w,c+=E,v=oa(y),y=GM(v)}}return G1({width:u,height:d,x:l,y:c})}function _N(t,e){const n=NI(t).scrollLeft;return e?e.left+n:Zh(Rc(t)).left+n}function VY(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:_N(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function Fwe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Rc(r),a=e?$I(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=cc(1);const u=cc(0),d=bc(r);if((d||!d&&!o)&&((Tv(r)!=="body"||e_(s))&&(l=NI(r)),bc(r))){const p=Zh(r);c=ug(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=s&&!d&&!o?VY(s,l,!0):cc(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Bwe(t){return Array.from(t.getClientRects())}function Vwe(t){const e=Rc(t),n=NI(t),r=t.ownerDocument.body,i=bh(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=bh(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+_N(t);const a=-n.scrollTop;return Fa(r).direction==="rtl"&&(s+=bh(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Hwe(t,e){const n=oa(t),r=Rc(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=vN();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Wwe(t,e){const n=Zh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=bc(t)?ug(t):cc(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function QB(t,e,n){let r;if(e==="viewport")r=Hwe(t,n);else if(e==="document")r=Vwe(Rc(t));else if(cs(e))r=Wwe(e,n);else{const i=BY(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return G1(r)}function HY(t,e){const n=nf(t);return n===e||!cs(n)||Bg(n)?!1:Fa(n).position==="fixed"||HY(n,e)}function Uwe(t,e){const n=e.get(t);if(n)return n;let r=Qb(t,[],!1).filter(a=>cs(a)&&Tv(a)!=="body"),i=null;const o=Fa(t).position==="fixed";let s=o?nf(t):t;for(;cs(s)&&!Bg(s);){const a=Fa(s),l=gN(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||e_(s)&&!l&&HY(t,s))?r=r.filter(u=>u!==s):i=a,s=nf(s)}return e.set(t,r),r}function Kwe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?$I(e)?[]:Uwe(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=QB(e,u,i);return c.top=bh(d.top,c.top),c.right=Vg(d.right,c.right),c.bottom=Vg(d.bottom,c.bottom),c.left=bh(d.left,c.left),c},QB(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function qwe(t){const{width:e,height:n}=FY(t);return{width:e,height:n}}function Gwe(t,e,n){const r=bc(e),i=Rc(e),o=n==="fixed",s=Zh(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=cc(0);if(r||!r&&!o)if((Tv(e)!=="body"||e_(i))&&(a=NI(e)),r){const f=Zh(e,!0,o,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=_N(i));const c=i&&!r&&!o?VY(i,a):cc(0),u=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:s.width,height:s.height}}function BP(t){return Fa(t).position==="static"}function JB(t,e){if(!bc(t)||Fa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rc(t)===n&&(n=n.ownerDocument.body),n}function WY(t,e){const n=oa(t);if($I(t))return n;if(!bc(t)){let i=nf(t);for(;i&&!Bg(i);){if(cs(i)&&!BP(i))return i;i=nf(i)}return n}let r=JB(t,e);for(;r&&_we(r)&&BP(r);)r=JB(r,e);return r&&Bg(r)&&BP(r)&&!gN(r)?n:r||wwe(t)||n}const Ywe=async function(t){const e=this.getOffsetParent||WY,n=this.getDimensions,r=await n(t.floating);return{reference:Gwe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xwe(t){return Fa(t).direction==="rtl"}const Zwe={convertOffsetParentRelativeRectToViewportRelativeRect:Fwe,getDocumentElement:Rc,getClippingRect:Kwe,getOffsetParent:WY,getElementRects:Ywe,getClientRects:Bwe,getDimensions:qwe,getScale:ug,isElement:cs,isRTL:Xwe};function UY(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Qwe(t,e){let n=null,r;const i=Rc(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||e(),!f||!p)return;const v=qw(d),y=qw(i.clientWidth-(u+f)),b=qw(i.clientHeight-(d+p)),x=qw(u),w={rootMargin:-v+"px "+-y+"px "+-b+"px "+-x+"px",threshold:bh(0,Vg(1,l))||1};let E=!0;function T(I){const S=I[0].intersectionRatio;if(S!==l){if(!E)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!UY(c,t.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(T,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,w)}n.observe(t)}return s(!0),o}function Jwe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=xN(t),u=i||o?[...c?Qb(c):[],...Qb(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const d=c&&a?Qwe(c,n):null;let f=-1,p=null;s&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let v,y=l?Zh(t):null;l&&b();function b(){const x=Zh(t);y&&!UY(y,x)&&n(),y=x,v=requestAnimationFrame(b)}return n(),()=>{var x;u.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const eCe=Lwe,tCe=$we,e3=Awe,nCe=(t,e,n)=>{const r=new Map,i={platform:Zwe,...n},o={...i.platform,_c:r};return Owe(t,e,{...i,platform:o})};var dS=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Y1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Y1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Y1(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function KY(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function t3(t,e){const n=KY(t);return Math.round(e*n)/n}function VP(t){const e=h.useRef(t);return dS(()=>{e.current=t}),e}function rCe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=h.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=h.useState(r);Y1(f,r)||p(r);const[v,y]=h.useState(null),[b,x]=h.useState(null),_=h.useCallback(B=>{B!==I.current&&(I.current=B,y(B))},[]),w=h.useCallback(B=>{B!==S.current&&(S.current=B,x(B))},[]),E=o||v,T=s||b,I=h.useRef(null),S=h.useRef(null),P=h.useRef(u),R=l!=null,O=VP(l),N=VP(i),A=VP(c),$=h.useCallback(()=>{if(!I.current||!S.current)return;const B={placement:e,strategy:n,middleware:f};N.current&&(B.platform=N.current),nCe(I.current,S.current,B).then(W=>{const q={...W,isPositioned:A.current!==!1};M.current&&!Y1(P.current,q)&&(P.current=q,js.flushSync(()=>{d(q)}))})},[f,e,n,N,A]);dS(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(B=>({...B,isPositioned:!1})))},[c]);const M=h.useRef(!1);dS(()=>(M.current=!0,()=>{M.current=!1}),[]),dS(()=>{if(E&&(I.current=E),T&&(S.current=T),E&&T){if(O.current)return O.current(E,T,$);$()}},[E,T,$,O,R]);const F=h.useMemo(()=>({reference:I,floating:S,setReference:_,setFloating:w}),[_,w]),z=h.useMemo(()=>({reference:E,floating:T}),[E,T]),j=h.useMemo(()=>{const B={position:n,left:0,top:0};if(!z.floating)return B;const W=t3(z.floating,u.x),q=t3(z.floating,u.y);return a?{...B,transform:"translate("+W+"px, "+q+"px)",...KY(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:q}},[n,a,z.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:$,refs:F,elements:z,floatingStyles:j}),[u,$,F,z,j])}const iCe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?e3({element:r.current,padding:i}).fn(n):{}:r?e3({element:r,padding:i}).fn(n):{}}}},oCe=(t,e)=>({...eCe(t),options:[t,e]}),sCe=(t,e)=>({...tCe(t),options:[t,e]}),aCe=(t,e)=>({...iCe(t),options:[t,e]}),qY={...vu},lCe=qY.useInsertionEffect,cCe=lCe||(t=>t());function uCe(t){const e=h.useRef(()=>{});return cCe(()=>{e.current=t}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var X1=typeof document<"u"?h.useLayoutEffect:h.useEffect;let n3=!1,dCe=0;const r3=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+dCe++;function fCe(){const[t,e]=h.useState(()=>n3?r3():void 0);return X1(()=>{t==null&&e(r3())},[]),h.useEffect(()=>{n3=!0},[]),t}const hCe=qY.useId,GY=hCe||fCe,pCe=h.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:s}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:f,d:p,style:{transform:v,...y}={},...b}=e,x=GY(),[_,w]=h.useState(!1);if(X1(()=>{if(!i)return;Fa(i).direction==="rtl"&&w(!0)},[i]),!i)return null;const[E,T]=r.split("-"),I=E==="top"||E==="bottom";let S=d;(I&&s!=null&&s.x||!I&&s!=null&&s.y)&&(S=null);const P=u*2,R=P/2,O=a/2*(c/-8+1),N=l/2*c/4,A=!!p,$=S&&T==="end"?"bottom":"top";let M=S&&T==="end"?"right":"left";S&&_&&(M=T==="end"?"left":"right");const F=(o==null?void 0:o.x)!=null?S||o.x:"",z=(o==null?void 0:o.y)!=null?S||o.y:"",j=p||"M0,0"+(" H"+a)+(" L"+(a-O)+","+(l-N))+(" Q"+a/2+","+l+" "+O+","+(l-N))+" Z",B={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[E];return g.jsxs("svg",{...b,"aria-hidden":!0,ref:n,width:A?a:a+P,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[M]:F,[$]:z,[E]:I||A?"100%":"calc(100% - "+P/2+"px)",transform:[B,v].filter(W=>!!W).join(" "),...y},children:[P>0&&g.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:f,strokeWidth:P+(p?0:1),d:j}),g.jsx("path",{stroke:P&&!p?b.fill:"none",d:j}),g.jsx("clipPath",{id:x,children:g.jsx("rect",{x:-R,y:R*(A?-1:1),width:a+P,height:a})})]})});function mCe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const gCe=h.createContext(null),vCe=h.createContext(null),yCe=()=>{var t;return((t=h.useContext(gCe))==null?void 0:t.id)||null},bCe=()=>h.useContext(vCe);function xCe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=GY(),o=h.useRef({}),[s]=h.useState(()=>mCe()),a=yCe()!=null,[l,c]=h.useState(r.reference),u=uCe((p,v,y)=>{o.current.openEvent=p?v:void 0,s.emit("openchange",{open:p,event:v,reason:y,nested:a}),n==null||n(p,v,y)}),d=h.useMemo(()=>({setPositionReference:c}),[]),f=h.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return h.useMemo(()=>({dataRef:o,open:e,onOpenChange:u,elements:f,events:s,floatingId:i,refs:d}),[e,u,f,s,i,d])}function _Ce(t){t===void 0&&(t={});const{nodeId:e}=t,n=xCe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=h.useState(null),[a,l]=h.useState(null),u=(i==null?void 0:i.domReference)||o,d=h.useRef(null),f=bCe();X1(()=>{u&&(d.current=u)},[u]);const p=rCe({...t,elements:{...i,...a&&{reference:a}}}),v=h.useCallback(w=>{const E=cs(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l(E),p.refs.setReference(E)},[p.refs]),y=h.useCallback(w=>{(cs(w)||w===null)&&(d.current=w,s(w)),(cs(p.refs.reference.current)||p.refs.reference.current===null||w!==null&&!cs(w))&&p.refs.setReference(w)},[p.refs]),b=h.useMemo(()=>({...p.refs,setReference:y,setPositionReference:v,domReference:d}),[p.refs,y,v]),x=h.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),_=h.useMemo(()=>({...p,...r,refs:b,elements:x,nodeId:e}),[p,b,x,e,r]);return X1(()=>{r.dataRef.current.floatingContext=_;const w=f==null?void 0:f.nodesRef.current.find(E=>E.id===e);w&&(w.context=_)}),h.useMemo(()=>({...p,context:_,refs:b,elements:x}),[p,b,x,_])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var XM=function(e,n){return XM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},XM(e,n)};function Io(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");XM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var cr=function(){return cr=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},cr.apply(this,arguments)};function tc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var wCe=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,o=t.className,s=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return ae.createElement("div",{className:o,role:"dialog","aria-label":a,"aria-modal":"true"},s)},CCe=function(t,e){var n=h.useRef(null),r=h.useRef(t);r.current=t;var i=h.useCallback(function(o){var s,a=o.composed&&o.composedPath&&o.composedPath().find(function(l){return l instanceof Node})||o.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(s=r.current)===null||s===void 0||s.call(r,o))},[e]);return h.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},jI=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,o=t.style,s=t.ignoreClass,a=CCe(n,s);return ae.createElement("div",{className:r,style:o,ref:function(l){a.current=l,i&&(i.current=l)}},e)},jt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(jt||(jt={}));function wN(){var t=typeof window<"u"?window:globalThis;return t}var n_=12;function Er(t){if(t==null)return new Date;var e=typeof t=="string"?owe(t):dn(t);return zI(e)?e:new Date}function HP(t,e,n,r,i){i===void 0&&(i=Er());for(var o=Wg(n)||Wg(CN()),s=Array.isArray(e)?e:[e],a=0,l=s;a<l.length;a++){var c=l[a],u=J_e(t,c,i,{locale:o});if(zI(u)&&(!r||t===hi(u,c,n)))return u}return null}function zI(t,e){return B1(t)&&!Xh(t,new Date("1/1/1800"))}function hi(t,e,n){if(n==="en")return qB(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Wg(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Wg(CN()),qB(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function _a(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&hi(t,i,r)||""}function SCe(t,e,n){if(!t)return"";var r=_a(t,n),i=e?_a(e,n):"";return"".concat(r," - ").concat(i)}function ECe(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?_a(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=_a(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function WP(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,o=i===void 0?0:i,s=e.second,a=s===void 0?0:s;return lS(cS(uS(t,a),o),r)}function ICe(t){return fN(t)}function TCe(t,e){return hi(t,"ddd",e)}function fS(t){return Yh(t)}function Vd(t,e,n){var r=Wg(e||CN());return Eu(t,{locale:r,weekStartsOn:n})}function hu(t){return IY(t)}function v0(t){return DI(t)}function i3(t){return UM(t)}function o3(){return Yh(Er())}function s3(t){return SY(t)}function PCe(t){return oxe(t)}function RCe(t){return EY(t)}function Wl(t,e){return t&&e?rwe(t,e):!t&&!e}function ss(t,e){return t&&e?twe(t,e):!t&&!e}function Z1(t,e){return t&&e?nwe(t,e):!t&&!e}function lr(t,e){return t&&e?rxe(t,e):!t&&!e}function ih(t,e){return t&&e?i_e(t,e):!t&&!e}function y0(t,e,n){var r,i=Yh(e),o=SY(n);try{r=Zb(t,{start:i,end:o})}catch{r=!1}return r}function YY(t,e){var n=wN();n.__localeData__||(n.__localeData__={}),n.__localeData__[t]=e}function CN(){var t=wN();return t.__localeId__}function Wg(t){if(typeof t=="string"){var e=wN();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function kCe(t,e,n){return e(hi(t,"EEEE",n))}function MCe(t,e){return hi(t,"EEEEEE",e)}function OCe(t,e){return hi(t,"EEE",e)}function SN(t,e){return hi(Ea(Er(),t),"LLLL",e)}function XY(t,e){return hi(Ea(Er(),t),"LLL",e)}function DCe(t,e){return hi(Sm(Er(),t),"QQQ",e)}function Ra(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return r_(t,{minDate:r,maxDate:i})||o&&o.some(function(u){return u instanceof Date?lr(t,u):lr(t,u.date)})||s&&s.some(function(u){var d=u.start,f=u.end;return Zb(t,{start:d,end:f})})||a&&!a.some(function(u){return lr(t,u)})||l&&!l.some(function(u){var d=u.start,f=u.end;return Zb(t,{start:d,end:f})})||c&&!c(Er(t))||!1}function EN(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var s=o.start,a=o.end;return Zb(t,{start:s,end:a})}):r&&r.some(function(o){var s;return o instanceof Date?lr(t,o):lr(t,(s=o.date)!==null&&s!==void 0?s:new Date)})||!1}function ZY(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return r_(t,{minDate:r?IY(r):void 0,maxDate:i?EY(i):void 0})||(o==null?void 0:o.some(function(l){return ss(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return ss(t,l)})||a&&!a(Er(t))||!1}function Gw(t,e,n,r){var i=Fn(t),o=ls(t),s=Fn(e),a=ls(e),l=Fn(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:!1}function ACe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates;return r_(t,{minDate:r,maxDate:i})||o&&o.some(function(a){return ss(a instanceof Date?a:a.date,t)})||s&&!s.some(function(a){return ss(a,t)})||!1}function Yw(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate;return r_(t,{minDate:r,maxDate:i})||(o==null?void 0:o.some(function(l){return Z1(t,l instanceof Date?l:l.date)}))||s&&!s.some(function(l){return Z1(t,l)})||a&&!a(Er(t))||!1}function Xw(t,e,n){if(!e||!n||!B1(e)||!B1(n))return!1;var r=Fn(e),i=Fn(n);return r<=t&&i>=t}function hS(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,o=n.excludeDates,s=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return r_(l,{minDate:r?DI(r):void 0,maxDate:i?TY(i):void 0})||(o==null?void 0:o.some(function(c){return Wl(l,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return Wl(l,c)})||a&&!a(Er(l))||!1}function Zw(t,e,n,r){var i=Fn(t),o=vh(t),s=Fn(e),a=vh(e),l=Fn(r);return i===s&&i===l?o<=n&&n<=a:i<s?l===i&&o<=n||l===s&&a>=n||l<s&&l>i:!1}function r_(t,e){var n,r=e===void 0?{}:e,i=r.minDate,o=r.maxDate;return(n=i&&zg(t,i)<0||o&&zg(t,o)>0)!==null&&n!==void 0?n:!1}function a3(t,e){return e.some(function(n){return du(n)===du(t)&&fu(n)===fu(t)&&Bd(n)===Bd(t)})}function l3(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,o=n.filterTime;return r&&a3(t,r)||i&&!a3(t,i)||o&&!o(t)||!1}function c3(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Er();i=lS(i,du(t)),i=cS(i,fu(t)),i=uS(i,Bd(t));var o=Er();o=lS(o,du(n)),o=cS(o,fu(n)),o=uS(o,Bd(n));var s=Er();s=lS(s,du(r)),s=cS(s,fu(r)),s=uS(s,Bd(r));var a;try{a=!Zb(i,{start:o,end:s})}catch{a=!1}return a}function u3(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=yh(t,1);return r&&V1(r,o)>0||i&&i.every(function(s){return V1(s,o)>0})||!1}function d3(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=gl(t,1);return r&&V1(o,r)>0||i&&i.every(function(s){return V1(o,s)>0})||!1}function $Ce(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=DI(t),s=NY(o);return r&&H1(r,s)>0||i&&i.every(function(a){return H1(a,s)>0})||!1}function NCe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=TY(t),s=dN(o,1);return r&&H1(s,r)>0||i&&i.every(function(a){return H1(s,a)>0})||!1}function f3(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,o=Fg(t,1);return r&&W1(r,o)>0||i&&i.every(function(s){return W1(s,o)>0})||!1}function LCe(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,o=i===void 0?n_:i,s=v0(Fg(t,o)),a=wd(s,o).endPeriod,l=r&&Fn(r);return l&&l>a||!1}function h3(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,o=cu(t,1);return r&&W1(o,r)>0||i&&i.every(function(s){return W1(o,s)>0})||!1}function jCe(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,o=i===void 0?n_:i,s=cu(t,o),a=wd(s,o).startPeriod,l=r&&Fn(r);return l&&l<a||!1}function QY(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return zg(i,e)>=0});return BB(r)}else return n?BB(n):e}function JY(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return zg(i,e)<=0});return FB(r)}else return n?FB(n):e}function p3(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,o=t.length;i<o;i++){var s=t[i];if(uu(s)){var a=hi(s,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof s=="object"){var c=Object.keys(s),u=(n=c[0])!==null&&n!==void 0?n:"",d=s[u];if(typeof u=="string"&&Array.isArray(d))for(var f=0,p=d.length;f<p;f++){var v=d[f];if(v){var a=hi(v,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(u)||(l.push(u),r.set(a,l))}}}}return r}function zCe(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function FCe(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,o=r.holidayName;if(uu(i)){var s=hi(i,"MM.dd.yyyy"),a=n.get(s)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&zCe(a.holidayNames,[o]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?tc(tc([],l,!0),[o],!1):[o],n.set(s,a)}}}),n}function BCe(t,e,n,r,i){for(var o=i.length,s=[],a=0;a<o;a++){var l=t,c=i[a];c&&(l=Jbe(l,du(c)),l=WM(l,fu(c)),l=nxe(l,Bd(c)));var u=WM(t,(n+1)*r);tf(l,e)&&Xh(l,u)&&c!=null&&s.push(c)}return s}function m3(t){return t<10?"0".concat(t):"".concat(t)}function wd(t,e){e===void 0&&(e=n_);var n=Math.ceil(Fn(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function VCe(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function g3(t){var e=t.getSeconds(),n=t.getMilliseconds();return dn(t.getTime()-e*1e3-n)}function HCe(t,e){return g3(t).getTime()===g3(e).getTime()}function v3(t){if(!uu(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function y3(t,e){if(!uu(t)||!uu(e))throw new Error("Invalid date received");var n=v3(t),r=v3(e);return Xh(n,r)}function eX(t){return t.key===jt.Space}var WCe=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=ae.createRef(),r.onTimeChange=function(i){var o,s;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),c=l?a:new Date;if(i!=null&&i.includes(":")){var u=i.split(":"),d=u[0],f=u[1];c.setHours(Number(d)),c.setMinutes(Number(f))}(s=(o=r.props).onChange)===null||s===void 0||s.call(o,c)},r.renderTimeInput=function(){var i=r.state.time,o=r.props,s=o.date,a=o.timeString,l=o.customTimeInput;return l?h.cloneElement(l,{date:s,value:i,onChange:r.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(h.Component),UCe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=h.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isSameDay=function(r){return lr(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected),o=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!o},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),Ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return EN(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return lr(n.props.day,Vd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&lr(r,Vd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,o=r.highlightDates;if(!o)return!1;var s=hi(i,"MM.dd.yyyy");return o.get(s)},n.getHolidaysClass=function(){var r,i=n.props,o=i.day,s=i.holidays;if(!s)return[void 0];var a=hi(o,"MM.dd.yyyy");return s.has(a)?[(r=s.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:y0(i,o,s)},n.isInSelectingRange=function(){var r,i=n.props,o=i.day,s=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,u=i.startDate,d=i.endDate,f=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(s||a||l)||!f||!c&&n.isDisabled()?!1:s&&d&&(Xh(f,d)||ih(f,d))?y0(o,f,d):a&&u&&(tf(f,u)||ih(f,u))||l&&u&&!d&&(tf(f,u)||ih(f,u))?y0(o,u,f):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?lr(o,l):lr(o,s)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,o=i.day,s=i.endDate,a=i.selectsEnd,l=i.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?lr(o,c):lr(o,s)},n.isRangeStart=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:lr(o,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,o=r.startDate,s=r.endDate;return!o||!s?!1:lr(s,i)},n.isWeekend=function(){var r=e_e(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===ls(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(ls(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Er())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return ut("react-datepicker__day",i,"react-datepicker__day--"+TCe(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,o=r.ariaLabelPrefixWhenEnabled,s=o===void 0?"Choose":o,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,c=n.isDisabled()||n.isExcluded()?l:s;return"".concat(c," ").concat(hi(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,o=r.holidays,s=o===void 0?new Map:o,a=r.excludeDates,l=hi(i,"MM.dd.yyyy"),c=[];return s.has(l)&&c.push.apply(c,s.get(l).holidayNames),n.isExcluded()&&c.push(a==null?void 0:a.filter(function(u){return u instanceof Date?lr(u,i):lr(u==null?void 0:u.date,i)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,o=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&lr(i,r))?0:-1;return o},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(GB(n.props.day),n.props.day):GB(n.props.day)},n.render=function(){return ae.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&ae.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(h.Component),KCe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=h.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,o,s=r.key;s===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(o=(i=n.props).handleOnKeyDown)===null||o===void 0||o.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!lr(n.props.date,n.props.selected)&&lr(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||lr(n.props.date,n.props.selected)&&lr(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&lr(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,o=n.ariaLabelPrefix,s=o===void 0?e.defaultProps.ariaLabelPrefix:o,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&lr(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:ut(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(h.Component),qCe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return Ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,o){for(var s,a,l,c=new Date(r),u=0;u<7;u++){var d=new Date(r);d.setDate(d.getDate()+u);var f=!n.isDisabled(d);if(f){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,i,o),n.props.showWeekPicker&&n.handleDayClick(c,o),((s=n.props.shouldCloseOnSelect)!==null&&s!==void 0?s:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):ICe(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=dl(r,6),o=new Date(r);o<=i;){if(!n.isDisabled(o))return!1;o=dl(o,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],o=n.formatWeekNumber(r);if(n.props.showWeekNumber){var s=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,o):void 0;i.push(ae.createElement(KCe,cr({key:"W"},e.defaultProps,n.props,{weekNumber:o,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=dl(r,a);return ae.createElement(UCe,cr({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return Vd(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!lr(n.startOfWeek(),n.props.selected)&&lr(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":lr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ae.createElement("div",{className:ut(n)},this.renderDays())},e}(h.Component),Ry,GCe=6,dg={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},UP=(Ry={},Ry[dg.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Ry[dg.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Ry[dg.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Ry),Qw=1;function b3(t,e){return t?dg.FOUR_COLUMNS:e?dg.TWO_COLUMNS:dg.THREE_COLUMNS}var YCe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=tc([],Array(12),!0).map(function(){return h.createRef()}),n.QUARTER_REFS=tc([],Array(4),!0).map(function(){return h.createRef()}),n.isDisabled=function(r){return Ra(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return EN(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var o,s;(s=(o=n.props).onDayClick)===null||s===void 0||s.call(o,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,o;(o=(i=n.props).onDayMouseEnter)===null||o===void 0||o.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:ss(Ea(o,r),s)},n.isRangeStartQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Z1(Sm(o,r),s)},n.isRangeEndMonth=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:ss(Ea(o,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate;return!s||!a?!1:Z1(Sm(o,r),a)},n.isInSelectingRangeMonth=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?Gw(f,d,r,s):l&&u||c&&u&&!d?Gw(u,f,r,s):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.startDate,l=o.selectsStart,c=Ea(s,r),u=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?ss(c,u):ss(c,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var o=n.props,s=o.day,a=o.endDate,l=o.selectsEnd,c=o.selectsRange,u=Ea(s,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||c?ss(u,d):ss(u,a)},n.isInSelectingRangeQuarter=function(r){var i,o=n.props,s=o.day,a=o.selectsStart,l=o.selectsEnd,c=o.selectsRange,u=o.startDate,d=o.endDate,f=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||c)||!f?!1:a&&d?Zw(f,d,r,s):l&&u||c&&u&&!d?Zw(u,f,r,s):!1},n.isWeekInMonth=function(r){var i=n.props.day,o=dl(r,6);return ss(r,i)||ss(o,i)},n.isCurrentMonth=function(r,i){return Fn(r)===Fn(Er())&&i===ls(Er())},n.isCurrentQuarter=function(r,i){return Fn(r)===Fn(Er())&&i===vh(Er())},n.isSelectedMonth=function(r,i,o){return ls(o)===i&&Fn(r)===Fn(o)},n.isSelectMonthInList=function(r,i,o){return o.some(function(s){return n.isSelectedMonth(r,i,s)})},n.isSelectedQuarter=function(r,i,o){return vh(r)===i&&Fn(r)===Fn(o)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,o=0,s=!1,a=Vd(hu(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(v){return n.props.showWeekPicker?Vd(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(v){return n.props.showWeekPicker?Vd(v,n.props.locale,n.props.calendarStartDay):n.props.selected},u=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;r.push(ae.createElement(qCe,cr({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:a,month:ls(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:u,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!s;){o++,a=F1(a,1);var f=i&&o>=GCe,p=!i&&!n.isWeekInMonth(a);if(f||p)if(n.props.peekNextMonth)s=!0;else break}return r},n.onMonthClick=function(r,i){var o=n.isMonthDisabledForLabelDate(i),s=o.isDisabled,a=o.labelDate;s||n.handleDayClick(hu(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),o=i.isDisabled,s=i.labelDate;o||n.handleDayMouseEnter(hu(s))},n.handleMonthNavigation=function(r,i){var o,s,a,l;(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,o){var s,a=n.props,l=a.selected,c=a.preSelection,u=a.setPreSelection,d=a.minDate,f=a.maxDate,p=a.showFourColumnMonthYearPicker,v=a.showTwoColumnMonthYearPicker;if(c){var y=b3(p,v),b=n.getVerticalOffset(y),x=(s=UP[y])===null||s===void 0?void 0:s.grid,_=function(S,P,R){var O,N,A=P,$=R;switch(S){case jt.ArrowRight:A=gl(P,Qw),$=R===11?0:R+Qw;break;case jt.ArrowLeft:A=yh(P,Qw),$=R===0?11:R-Qw;break;case jt.ArrowUp:A=yh(P,b),$=!((O=x==null?void 0:x[0])===null||O===void 0)&&O.includes(R)?R+12-b:R-b;break;case jt.ArrowDown:A=gl(P,b),$=!((N=x==null?void 0:x[x.length-1])===null||N===void 0)&&N.includes(R)?R-12+b:R+b;break}return{newCalculatedDate:A,newCalculatedMonth:$}},w=function(S,P,R){for(var O=40,N=S,A=!1,$=0,M=_(N,P,R),F=M.newCalculatedDate,z=M.newCalculatedMonth;!A;){if($>=O){F=P,z=R;break}if(d&&F<d){N=jt.ArrowRight;var j=_(N,F,z);F=j.newCalculatedDate,z=j.newCalculatedMonth}if(f&&F>f){N=jt.ArrowLeft;var j=_(N,F,z);F=j.newCalculatedDate,z=j.newCalculatedMonth}if(ACe(F,n.props)){var j=_(N,F,z);F=j.newCalculatedDate,z=j.newCalculatedMonth}else A=!0;$++}return{newCalculatedDate:F,newCalculatedMonth:z}};if(i===jt.Enter){n.isMonthDisabled(o)||(n.onMonthClick(r,o),u==null||u(l));return}var E=w(i,c,o),T=E.newCalculatedDate,I=E.newCalculatedMonth;switch(i){case jt.ArrowRight:case jt.ArrowLeft:case jt.ArrowUp:case jt.ArrowDown:n.handleMonthNavigation(I,T);break}}},n.getVerticalOffset=function(r){var i,o;return(o=(i=UP[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},n.onMonthKeyDown=function(r,i){var o=n.props,s=o.disabledKeyboardNavigation,a=o.handleOnMonthKeyDown,l=r.key;l!==jt.Tab&&r.preventDefault(),s||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var o=Sm(n.props.day,i);Yw(o,n.props)||n.handleDayClick(i3(o),r)},n.onQuarterMouseEnter=function(r){var i=Sm(n.props.day,r);Yw(i,n.props)||n.handleDayMouseEnter(i3(i))},n.handleQuarterNavigation=function(r,i){var o,s,a,l;n.isDisabled(i)||n.isExcluded(i)||((s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var o,s,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case jt.Enter:n.onQuarterClick(r,i),(s=(o=n.props).setPreSelection)===null||s===void 0||s.call(o,n.props.selected);break;case jt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,dN(n.props.preSelection,1));break;case jt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,NY(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,o=n.props,s=o.day,a=o.minDate,l=o.maxDate,c=o.excludeDates,u=o.includeDates,d=Ea(s,r);return{isDisabled:(i=(a||l||c||u)&&ZY(d,n.props))!==null&&i!==void 0?i:!1,labelDate:d}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,l=i.preSelection,c=i.monthClassName,u=c?c(Ea(o,r)):void 0,d=n.getSelection();return ut("react-datepicker__month-text","react-datepicker__month-".concat(r),u,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(o,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(o,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&a?Gw(s,a,r,o):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(o,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=ls(n.props.preSelection),o=n.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=vh(n.props.preSelection),o=Yw(n.props.day,n.props),s=r===i&&!(o||n.props.disabledKeyboardNavigation)?"0":"-1";return s},n.getAriaLabel=function(r){var i=n.props,o=i.chooseDayAriaLabelPrefix,s=o===void 0?"Choose":o,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,c=i.day,u=i.locale,d=Ea(c,r),f=n.isDisabled(d)||n.isExcluded(d)?l:s;return"".concat(f," ").concat(hi(d,"MMMM yyyy",u))},n.getQuarterClassNames=function(r){var i=n.props,o=i.day,s=i.startDate,a=i.endDate,l=i.selected,c=i.minDate,u=i.maxDate,d=i.excludeDates,f=i.includeDates,p=i.filterDate,v=i.preSelection,y=i.disabledKeyboardNavigation,b=(c||u||d||f||p)&&Yw(Sm(o,r),n.props);return ut("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(o,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&v&&n.isSelectedQuarter(o,r,v)&&!b,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&a?Zw(s,a,r,o):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(o,r)})},n.getMonthContent=function(r){var i=n.props,o=i.showFullMonthYearPicker,s=i.renderMonthContent,a=i.locale,l=i.day,c=XY(r,a),u=SN(r,a);return s?s(r,c,u,l):o?u:c},n.getQuarterContent=function(r){var i,o=n.props,s=o.renderQuarterContent,a=o.locale,l=DCe(r,a);return(i=s==null?void 0:s(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,o=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,c=(r=UP[b3(s,o)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(u,d){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:d},u.map(function(f,p){return ae.createElement("div",{ref:n.MONTH_REFS[f],key:p,onClick:function(v){n.onMonthClick(v,f)},onKeyDown:function(v){eX(v)&&(v.preventDefault(),v.key=jt.Enter),n.onMonthKeyDown(v,f)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(f)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(f)}:void 0,tabIndex:Number(n.getTabIndex(f)),className:n.getMonthClassNames(f),"aria-disabled":n.isMonthDisabled(f),role:"option","aria-label":n.getAriaLabel(f),"aria-current":n.isCurrentMonth(a,f)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,f,l):void 0},n.getMonthContent(f))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,o=r.selected,s=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(a,l){return ae.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(c){n.onQuarterClick(c,a)},onKeyDown:function(c){n.onQuarterKeyDown(c,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":o?n.isSelectedQuarter(i,a,o):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,o=r.selectsStart,s=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return ut("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||s)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,o=n.selectsMultiple;if(o)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,s=n.ariaLabelPrefix,a=s===void 0?"Month ":s,l=a?a.trim()+" ":"";return ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(hi(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(h.Component),XCe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return ae.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return ae.createElement(jI,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(h.Component),ZCe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,o){return ae.createElement("option",{key:i,value:o},i)})},n.renderSelectMode=function(r){return ae.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return ae.createElement(XCe,cr({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,o=[n.renderReadView(!i,r)];return i&&o.unshift(n.renderDropdown(r)),o},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return XY(o,n.props.locale)}:function(o){return SN(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(h.Component);function QCe(t,e){for(var n=[],r=hu(t),i=hu(e);!tf(r,i);)n.push(Er(r)),r=gl(r,1);return n}var JCe=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var o=qM(i),s=Wl(r.props.date,i)&&ss(r.props.date,i);return ae.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":s?"true":void 0},s?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",hi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:QCe(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=ut({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(jI,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(h.Component),eSe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=hu(n.props.minDate),i=hu(n.props.maxDate),o=[];!tf(r,i);){var s=qM(r);o.push(ae.createElement("option",{key:s,value:s},hi(r,n.props.dateFormat,n.props.locale))),r=gl(r,1)}return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ae.createElement("select",{value:qM(hu(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=hi(n.props.date,n.props.dateFormat,n.props.locale);return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return ae.createElement(JCe,cr({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Er(r);Wl(n.props.date,i)&&ss(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(h.Component),tSe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,o;n.list&&(n.list.scrollTop=(o=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&o!==void 0?o:0)})},n.handleClick=function(r){var i,o;(n.props.minTime||n.props.maxTime)&&c3(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&l3(r,n.props)||(o=(i=n.props).onChange)===null||o===void 0||o.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&HCe(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&c3(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&l3(r,n.props)},n.liClasses=function(r){var i,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(du(r)*3600+fu(r)*60+Bd(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(r,i){var o,s;r.key===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(r.key===jt.ArrowUp||r.key===jt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===jt.ArrowDown||r.key===jt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===jt.Enter&&n.handleClick(i),(s=(o=n.props).handleOnKeyDown)===null||s===void 0||s.call(o,r)},n.renderTimes=function(){for(var r,i=[],o=typeof n.props.format=="string"?n.props.format:"p",s=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Er(),l=fS(a),c=n.props.injectTimes&&n.props.injectTimes.sort(function(b,x){return b.getTime()-x.getTime()}),u=60*VCe(a),d=u/s,f=0;f<d;f++){var p=WM(l,f*s);if(i.push(p),c){var v=BCe(l,p,f,s,c);i=i.concat(v)}}var y=i.reduce(function(b,x){return x.getTime()<=a.getTime()?x:b},i[0]);return i.map(function(b){return ae.createElement("li",{key:b.valueOf(),onClick:n.handleClick.bind(n,b),className:n.liClasses(b),ref:function(x){b===y&&(n.centerLi=x)},onKeyDown:function(x){n.handleOnKeyDown(x,b)},tabIndex:b===y?0:-1,role:"option","aria-selected":n.isSelectedTime(b)?"true":void 0,"aria-disabled":n.isDisabledTime(b)?"true":void 0},hi(b,o,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},ae.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(h.Component),x3=3,nSe=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=tc([],Array(r.props.yearItemNumber),!0).map(function(){return h.createRef()}),r.isDisabled=function(i){return Ra(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return EN(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var o=function(){var s,a;(a=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(i,o){r.props.onDayClick&&r.props.onDayClick(i,o)},r.handleYearNavigation=function(i,o){var s,a,l,c,u=r.props,d=u.date,f=u.yearItemNumber;if(!(d===void 0||f===void 0)){var p=wd(d,f).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,o),i-p<0?r.updateFocusOnPaginate(f-(p-i)):i-p>=f?r.updateFocusOnPaginate(Math.abs(f-(i-p))):(c=(l=r.YEAR_REFS[i-p])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,o){return lr(i,o)},r.isCurrentYear=function(i){return i===Fn(Er())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Wl(Vl(Er(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Wl(Vl(Er(),i),r.props.endDate)},r.isInRange=function(i){return Xw(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var o=r.props,s=o.selectsStart,a=o.selectsEnd,l=o.selectsRange,c=o.startDate,u=o.endDate;return!(s||a||l)||!r.selectingDate()?!1:s&&u?Xw(i,r.selectingDate(),u):a&&c||l&&c&&!u?Xw(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.startDate,l=s.selectsStart,c=Vl(Er(),i);return l?Wl(c,(o=r.selectingDate())!==null&&o!==void 0?o:null):Wl(c,a??null)},r.isSelectingRangeEnd=function(i){var o;if(!r.isInSelectingRange(i))return!1;var s=r.props,a=s.endDate,l=s.selectsEnd,c=s.selectsRange,u=Vl(Er(),i);return l||c?Wl(u,(o=r.selectingDate())!==null&&o!==void 0?o:null):Wl(u,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,s=o.minDate,a=o.maxDate,l=o.excludeDates,c=o.includeDates,u=o.filterDate,d=v0(Vl(r.props.date,i)),f=(s||a||l||c||u)&&hS(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!lr(d,v0(r.props.selected))&&lr(d,v0(r.props.preSelection))&&!f}},r.onYearClick=function(i,o){var s=r.props.date;s!==void 0&&r.handleYearClick(v0(Vl(s,o)),i)},r.onYearKeyDown=function(i,o){var s,a,l=i.key,c=r.props,u=c.date,d=c.yearItemNumber,f=c.handleOnKeyDown;if(l!==jt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case jt.Enter:if(r.props.selected==null)break;r.onYearClick(i,o),(a=(s=r.props).setPreSelection)===null||a===void 0||a.call(s,r.props.selected);break;case jt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,cu(r.props.preSelection,1));break;case jt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Fg(r.props.preSelection,1));break;case jt.ArrowUp:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var p=wd(u,d).startPeriod,v=x3,y=o-v;if(y<p){var b=d%v;o>=p&&o<p+b?v=b:v+=b,y=o-v}r.handleYearNavigation(y,Fg(r.props.preSelection,v));break}case jt.ArrowDown:{if(u===void 0||d===void 0||r.props.preSelection==null)break;var x=wd(u,d).endPeriod,v=x3,y=o+v;if(y>x){var b=d%v;o<=x&&o>x-b?v=b:v+=b,y=o+v}r.handleYearNavigation(y,cu(r.props.preSelection,v));break}}f&&f(i)},r.getYearClassNames=function(i){var o=r.props,s=o.date,a=o.minDate,l=o.maxDate,c=o.selected,u=o.excludeDates,d=o.includeDates,f=o.filterDate,p=o.yearClassName;return ut("react-datepicker__year-text","react-datepicker__year-".concat(i),s?p==null?void 0:p(Vl(s,i)):void 0,{"react-datepicker__year-text--selected":c?i===Fn(c):void 0,"react-datepicker__year-text--disabled":(a||l||u||d||f)&&hS(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=Fn(r.props.preSelection),s=hS(i,r.props);return i===o&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,o=i.date,s=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(o===void 0)return null;for(var c=wd(o,s),u=c.startPeriod,d=c.endPeriod,f=function(y){r.push(ae.createElement("div",{ref:p.YEAR_REFS[y-u],onClick:function(b){n.onYearClick(b,y)},onKeyDown:function(b){eX(b)&&(b.preventDefault(),b.key=jt.Enter),n.onYearKeyDown(b,y)},tabIndex:Number(p.getYearTabIndex(y)),className:p.getYearClassNames(y),onMouseEnter:p.props.usePointerEvent?void 0:function(b){return a(b,y)},onPointerEnter:p.props.usePointerEvent?function(b){return a(b,y)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(b){return l(b,y)},onPointerLeave:p.props.usePointerEvent?function(b){return l(b,y)}:void 0,key:y,"aria-current":p.isCurrentYear(y)?"date":void 0},p.getYearContent(y)))},p=this,v=u;v<=d;v++)f(v);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(h.Component);function rSe(t,e,n,r){for(var i=[],o=0;o<2*e+1;o++){var s=t+e-o,a=!0;n&&(a=Fn(n)<=s),r&&a&&(a=Fn(r)>=s),a&&i.push(s)}return i}var iSe=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return ae.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?ae.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),c=r.props.minDate?Fn(r.props.minDate):null,u=r.props.maxDate?Fn(r.props.maxDate):null;return(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,o=n.scrollableYearDropdown,s=i||(o?10:5);return r.state={yearsList:rSe(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=h.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(o){return o.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=ut({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(jI,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(h.Component),oSe=function(t){Io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Fn(n.props.minDate):1900,i=n.props.maxDate?Fn(n.props.maxDate):2100,o=[],s=r;s<=i;s++)o.push(ae.createElement("option",{key:s,value:s},s));return o},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return ae.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return ae.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return ae.createElement(iSe,cr({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var o;(o=n.onSelect)===null||o===void 0||o.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var o,s;(s=(o=n.props).onSelect)===null||s===void 0||s.call(o,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(h.Component),sSe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],aSe=function(t){var e=(t.className||"").split(/\s+/);return sSe.some(function(n){return e.indexOf(n)>=0})},lSe=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var o,s;aSe(i.target)&&((s=(o=r.props).onDropdownFocus)===null||s===void 0||s.call(o,i))},r.getDateInView=function(){var i=r.props,o=i.preSelection,s=i.selected,a=i.openToDate,l=QY(r.props),c=JY(r.props),u=Er(),d=a||s||o;return d||(l&&Xh(u,l)?l:c&&tf(u,c)?c:u)},r.increaseMonth=function(){r.setState(function(i){var o=i.date;return{date:gl(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var o=i.date;return{date:yh(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,o,s){r.props.onSelect(i,o,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,o){r.setState({selectingDate:Vl(Er(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,o)},r.handleYearMouseLeave=function(i,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,o)},r.handleYearChange=function(i){var o,s,a,l;(s=(o=r.props).onYearChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!Ra(i,r.props))return i;for(var o=hu(i),s=RCe(i),a=ixe(s,o),l=null,c=0;c<=a;c++){var u=dl(o,c);if(!Ra(u,r.props)){l=u;break}}return l},r.handleMonthChange=function(i){var o,s,a,l=(o=r.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(s=r.props).setOpen)===null||a===void 0||a.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var o,s;(s=(o=r.props).onMonthChange)===null||s===void 0||s.call(o,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(o){var s=o.date;return{date:Vl(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(o){var s=o.date;return{date:Ea(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(o){var s=o.date;return{date:Vl(Ea(s,ls(i)),Fn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var o=Vd(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(a){var l=dl(o,a),c=r.formatWeekday(l,r.props.locale),u=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return ae.createElement("div",{key:a,"aria-label":hi(l,"EEEE",r.props.locale),className:ut("react-datepicker__day-name",u)},c)}))},r.formatWeekday=function(i,o){return r.props.formatWeekDay?kCe(i,r.props.formatWeekDay,o):r.props.useWeekdaysShort?OCe(i,o):MCe(i,o)},r.decreaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:Fg(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,o,s;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,u=yh(r.state.date,c),d;switch(!0){case r.props.showMonthYearPicker:d=f3(r.state.date,r.props);break;case r.props.showYearPicker:d=LCe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:d=$Ce(r.state.date,r.props);break;default:d=u3(u,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&d||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.decreaseYear),d&&r.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,b=r.props,x=b.previousMonthButtonLabel,_=x===void 0?e.defaultProps.previousMonthButtonLabel:x,w=b.previousYearButtonLabel,E=w===void 0?e.defaultProps.previousYearButtonLabel:w,T=r.props,I=T.previousMonthAriaLabel,S=I===void 0?typeof _=="string"?_:"Previous Month":I,P=T.previousYearAriaLabel,R=P===void 0?typeof E=="string"?E:"Previous Year":P;return ae.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?R:S},ae.createElement("span",{className:f.join(" ")},y?E:_))}}},r.increaseYear=function(){r.setState(function(i){var o,s=i.date;return{date:cu(s,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=h3(r.state.date,r.props);break;case r.props.showYearPicker:o=jCe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=NCe(r.state.date,r.props);break;default:o=d3(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,f=d===void 0?e.defaultProps.nextMonthButtonLabel:d,p=u.nextYearButtonLabel,v=p===void 0?e.defaultProps.nextYearButtonLabel:p,y=r.props,b=y.nextMonthAriaLabel,x=b===void 0?typeof f=="string"?f:"Next Month":b,_=y.nextYearAriaLabel,w=_===void 0?typeof v=="string"?v:"Next Year":_;return ae.createElement("button",{type:"button",className:s.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?w:x},ae.createElement("span",{className:a.join(" ")},c?v:f))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:o.join(" ")},hi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return ae.createElement(oSe,cr({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Fn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return ae.createElement(ZCe,cr({},e.defaultProps,r.props,{month:ls(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return ae.createElement(eSe,cr({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(o3(),i),r.props.setPreSelection&&r.props.setPreSelection(o3())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var o=i.monthDate,s=i.i;return ae.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),ae.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(i){var o,s,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=u3(r.state.date,r.props),u=d3(r.state.date,r.props),d=f3(r.state.date,r.props),f=h3(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(o=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(o,cr(cr({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:u,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),p&&ae.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var o=i.monthDate,s=r.props,a=s.showYearPicker,l=s.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,u=wd(o,c),d=u.startPeriod,f=u.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(f):Fn(o))},r.renderHeader=function(i){var o=i.monthDate,s=i.i,a=s===void 0?0:s,l={monthDate:o,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?cu(r.state.date,l):yh(r.state.date,l),u=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:l,d=0;d<a;++d){var f=d-u+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?cu(c,f):gl(c,f),v="month-".concat(d),y=d<a-1,b=d>0;s.push(ae.createElement("div",{key:v,ref:function(x){r.monthContainer=x??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),ae.createElement(YCe,cr({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:b}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),ae.createElement(nSe,cr({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return ae.createElement(tSe,cr({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,o=i&&zI(i)&&!!r.props.selected,s=o?"".concat(m3(i.getHours()),":").concat(m3(i.getMinutes())):"";if(r.props.showTimeInput)return ae.createElement(WCe,cr({},e.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,o=wd(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),s=o.startPeriod,a=o.endPeriod,l;return r.props.showYearPicker?l="".concat(s," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Fn(r.state.date):l="".concat(SN(ls(r.state.date),r.props.locale)," ").concat(Fn(r.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=h.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:n_}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!lr(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!ss(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!lr(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||wCe;return ae.createElement(jI,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},ae.createElement(n,{className:ut("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(h.Component),cSe=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return ae.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(ae.isValidElement(e)){var s=e;return ae.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(o," ").concat(r),onClick:function(a){typeof s.props.onClick=="function"&&s.props.onClick(a),typeof i=="function"&&i(a)}})}return ae.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},tX=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Xl.createPortal(this.props.children,this.el)},e}(h.Component),uSe="[tabindex], a, button, input, select, textarea",dSe=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},nX=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(uSe),1,-1).filter(dSe)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=h.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(h.Component);function fSe(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,o=h.useRef(null),s=_Ce(cr({open:!i,whileElementsMounted:Jwe,placement:n.popperPlacement,middleware:tc([sCe({padding:15}),oCe(10),aCe({element:o})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=cr(cr({},n),{hidePopper:i,popperProps:cr(cr({},s),{arrowRef:o})});return ae.createElement(t,cr({},a))};return e}var hSe=function(t){Io(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,o=n.hidePopper,s=o===void 0?e.defaultProps.hidePopper:o,a=n.popperComponent,l=n.targetComponent,c=n.enableTabLoop,u=n.popperOnKeyDown,d=n.portalId,f=n.portalHost,p=n.popperProps,v=n.showArrow,y=void 0;if(!s){var b=ut("react-datepicker-popper",r);y=ae.createElement(nX,{enableTabLoop:c},ae.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:b,"data-placement":p.placement,onKeyDown:u},a,v&&ae.createElement(pCe,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=h.createElement(this.props.popperContainer,{},y)),d&&!s&&(y=ae.createElement(tX,{portalId:d,portalHost:f},y));var x=ut("react-datepicker-wrapper",i);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:p.refs.setReference,className:x},l),y)},e}(h.Component),pSe=fSe(hSe),_3="react-datepicker-ignore-onclickoutside";function mSe(t,e){return t&&e?ls(t)!==ls(e)||Fn(t)!==Fn(e):t!==e}var KP="Date input not valid.",Bm=function(t){Io(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Er()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,s){var a=new Date(s.date);return zI(a)?tc(tc([],o,!0),[cr(cr({},s),{date:a})],!1):o},[])},r.calcInitialState=function(){var i,o=r.getPreSelection(),s=QY(r.props),a=JY(r.props),l=s&&Xh(o,fS(s))?s:a&&tf(o,s3(a))?a:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:p3(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(cr(cr({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(cr(cr({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},r.setBlur=function(){var i,o;(o=(i=r.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,o){o===void 0&&(o=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:qP},function(){i||r.setState(function(s){return{focused:o?s.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return uu(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var o,s,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((s=(o=r.props).onFocus)===null||s===void 0||s.call(o,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var o,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(o=r.props).onBlur)===null||s===void 0||s.call(o,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var o,s;r.props.inline||r.setOpen(!1),(s=(o=r.props).onClickOutside)===null||s===void 0||s.call(o,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,o,s,a,l,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var d=c[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,c),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){r.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:gSe});var f=r.props,p=f.selectsRange,v=f.startDate,y=f.endDate,b=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,x=(o=r.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,_=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(p){var w=_.split("-",2).map(function(N){return N.trim()}),E=w[0],T=w[1],I=HP(E??"",b,r.props.locale,x),S=HP(T??"",b,r.props.locale,x),P=(v==null?void 0:v.getTime())!==(I==null?void 0:I.getTime()),R=(y==null?void 0:y.getTime())!==(S==null?void 0:S.getTime());if(!P&&!R||I&&Ra(I,r.props)||S&&Ra(S,r.props))return;(a=(s=r.props).onChange)===null||a===void 0||a.call(s,[I,S],d)}else{var O=HP(_,b,r.props.locale,x,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(O||!_)&&r.setSelected(O,d,!0)}}},r.handleSelect=function(i,o,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(i,o,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;l&&!c&&(r.props.swapRange||!y3(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,o,s,a){var l,c,u=i;if(r.props.showYearPicker){if(u!==null&&hS(Fn(u),r.props))return}else if(r.props.showMonthYearPicker){if(u!==null&&ZY(u,r.props))return}else if(u!==null&&Ra(u,r.props))return;var d=r.props,f=d.onChange,p=d.selectsRange,v=d.startDate,y=d.endDate,b=d.selectsMultiple,x=d.selectedDates,_=d.minTime,w=d.swapRange;if(!ih(r.props.selected,u)||r.props.allowSameDay||p||b)if(u!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(u=WP(u,{hour:du(r.props.selected),minute:fu(r.props.selected),second:Bd(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&_&&(u=WP(u,{hour:_.getHours(),minute:_.getMinutes(),second:_.getSeconds()})),r.props.inline||r.setState({preSelection:u}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),p){var E=!v&&!y,T=v&&!y,I=v&&y;E?f==null||f([u,null],o):T&&(u===null?f==null||f([null,null],o):y3(u,v)?w?f==null||f([u,v],o):f==null||f([u,null],o):f==null||f([v,u],o)),I&&(f==null||f([u,null],o))}else if(b){if(u!==null)if(!(x!=null&&x.length))f==null||f([u],o);else{var S=x.some(function(R){return lr(R,u)});if(S){var P=x.filter(function(R){return!lr(R,u)});f==null||f(P,o)}else f==null||f(tc(tc([],x,!0),[u],!1),o)}}else f==null||f(u,o);s||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,u,o),r.setState({inputValue:null}))},r.setPreSelection=function(i){var o=uu(r.props.minDate),s=uu(r.props.maxDate),a=!0;if(i){var l=fS(i);if(o&&s)a=y0(i,r.props.minDate,r.props.maxDate);else if(o){var c=fS(r.props.minDate);a=tf(i,c)||ih(l,c)}else if(s){var u=s3(r.props.maxDate);a=Xh(i,u)||ih(l,u)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var o,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:WP(a,{hour:du(i),minute:fu(i)});r.setState({preSelection:l}),(s=(o=r.props).onChange)===null||s===void 0||s.call(o,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(i=r.props).onInputClick)===null||o===void 0||o.call(i)},r.onInputKeyDown=function(i){var o,s,a,l,c,u;(s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i);var d=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===jt.ArrowDown||d===jt.ArrowUp||d===jt.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(d===jt.ArrowDown||d===jt.ArrowUp){i.preventDefault();var f=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(f);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=Er(r.state.preSelection);d===jt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===qP?(r.handleSelect(v,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):d===jt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):d===jt.Tab&&r.setOpen(!1),r.inputOk()||(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:KP})}},r.onPortalKeyDown=function(i){var o=i.key;o===jt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var o,s,a,l,c,u,d=r.props,f=d.minDate,p=d.maxDate,v=d.disabledKeyboardNavigation,y=d.showWeekPicker,b=d.shouldCloseOnSelect,x=d.locale,_=d.calendarStartDay,w=d.adjustDateOnChange,E=d.inline;if((s=(o=r.props).onKeyDown)===null||s===void 0||s.call(o,i),!v){var T=i.key,I=i.shiftKey,S=Er(r.state.preSelection),P=function(F,z){var j=z;switch(F){case jt.ArrowRight:j=y?F1(z,1):dl(z,1);break;case jt.ArrowLeft:j=y?YB(z):iwe(z);break;case jt.ArrowUp:j=YB(z);break;case jt.ArrowDown:j=F1(z,1);break;case jt.PageUp:j=I?Fg(z,1):yh(z,1);break;case jt.PageDown:j=I?cu(z,1):gl(z,1);break;case jt.Home:j=Vd(z,x,_);break;case jt.End:j=PCe(z);break}return j},R=function(F,z){for(var j=40,B=F,W=!1,q=0,G=P(F,z);!W;){if(q>=j){G=z;break}f&&G<f&&(B=jt.ArrowRight,G=Ra(f,r.props)?P(B,G):f),p&&G>p&&(B=jt.ArrowLeft,G=Ra(p,r.props)?P(B,G):p),Ra(G,r.props)?((B===jt.PageUp||B===jt.Home)&&(B=jt.ArrowRight),(B===jt.PageDown||B===jt.End)&&(B=jt.ArrowLeft),G=P(B,G)):W=!0,q++}return G};if(T===jt.Enter){i.preventDefault(),r.handleSelect(S,i),!b&&r.setPreSelection(S);return}else if(T===jt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:KP});return}var O=null;switch(T){case jt.ArrowLeft:case jt.ArrowRight:case jt.ArrowUp:case jt.ArrowDown:case jt.PageUp:case jt.PageDown:case jt.Home:case jt.End:O=R(T,S);break}if(!O){(u=(c=r.props).onInputError)===null||u===void 0||u.call(c,{code:1,msg:KP});return}if(i.preventDefault(),r.setState({lastPreSelectChange:qP}),w&&r.setSelected(O),r.setPreSelection(O),E){var N=ls(S),A=ls(O),$=Fn(S),M=Fn(O);N!==A||$!==M?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var o=i.key;o===jt.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var o=r.props,s=o.selectsRange,a=o.onChange;s?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,o;return!r.props.inline&&!r.isCalendarOpen()?null:ae.createElement(lSe,cr({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:FCe(r.modifyHolidays()),outsideClickIgnoreClass:_3,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,o=i.dateFormat,s=o===void 0?e.defaultProps.dateFormat:o,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(_a(r.props.startDate,{dateFormat:c,locale:a}),". ").concat(r.props.endDate?"End date: "+_a(r.props.endDate,{dateFormat:c,locale:a}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(_a(r.props.selected,{dateFormat:s,locale:a})):r.props.showYearPicker?u="Selected year: ".concat(_a(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?u="Selected month: ".concat(_a(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(_a(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):u="Selected date: ".concat(_a(r.props.selected,{dateFormat:c,locale:a})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},r.renderDateInput=function(){var i,o,s,a=ut(r.props.className,(i={},i[_3]=r.state.open,i)),l=r.props.customInput||ae.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",u=r.props,d=u.dateFormat,f=d===void 0?e.defaultProps.dateFormat:d,p=u.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?SCe(r.props.startDate,r.props.endDate,{dateFormat:f,locale:p}):r.props.selectsMultiple?ECe((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:f,locale:p}):_a(r.props.selected,{dateFormat:f,locale:p});return h.cloneElement(l,(o={},o[c]=function(y){r.input=y},o.value=v,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=ut(l.props.className,a),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var i=r.props,o=i.isClearable,s=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,u=i.clearButtonTitle,d=i.clearButtonClassName,f=d===void 0?"":d,p=i.ariaLabelClose,v=p===void 0?"Close":p,y=i.selectedDates;return o&&(a!=null||l!=null||c!=null||y!=null&&y.length)?ae.createElement("button",{type:"button",className:ut("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":v,onClick:r.onClearClick,title:u,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:n_,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,o,s,a;n.inline&&mSe(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:p3(this.props.highlightDates)}),!r.focused&&!ih(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),r.open===!0&&this.state.open===!1&&((a=(s=this.props).onCalendarClose)===null||a===void 0||a.call(s)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,o=n.calendarIconClassname,s=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&ae.createElement(cSe,cr({icon:i,className:ut(s,!s&&o,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?ae.createElement(nX,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=ae.createElement(tX,cr({portalId:this.props.portalId},this.props),r)),ae.createElement("div",null,this.renderInputContainer(),r)}return ae.createElement(pSe,cr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(h.Component),gSe="input",qP="navigate";const vSe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},ySe=(t,e,n)=>{let r;const i=vSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r};function GP(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const bSe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},xSe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_Se={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wSe={date:GP({formats:bSe,defaultWidth:"full"}),time:GP({formats:xSe,defaultWidth:"full"}),dateTime:GP({formats:_Se,defaultWidth:"full"})},CSe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},SSe=(t,e,n,r)=>CSe[t];function ky(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const ESe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},ISe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},TSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},PSe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},RSe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},kSe=(t,e)=>{const n=Number(t),r=e==null?void 0:e.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let o;return n===1?o=r&&i.includes(r)?"ère":"er":o="ème",n+o},MSe=["MMM","MMMM"],OSe={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&MSe.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:kSe,era:ky({values:ESe,defaultWidth:"wide"}),quarter:ky({values:ISe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ky({values:TSe,defaultWidth:"wide"}),day:ky({values:PSe,defaultWidth:"wide"}),dayPeriod:ky({values:RSe,defaultWidth:"wide"})};function My(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?ASe(a,d=>d.test(s)):DSe(a,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function DSe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function ASe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $Se(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const NSe=/^(\d+)(ième|ère|ème|er|e)?/i,LSe=/\d+/i,jSe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},zSe={any:[/^av/i,/^ap/i]},FSe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},BSe={any:[/1/i,/2/i,/3/i,/4/i]},VSe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},HSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},WSe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},USe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},KSe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},qSe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},GSe={ordinalNumber:$Se({matchPattern:NSe,parsePattern:LSe,valueCallback:t=>parseInt(t)}),era:My({matchPatterns:jSe,defaultMatchWidth:"wide",parsePatterns:zSe,defaultParseWidth:"any"}),quarter:My({matchPatterns:FSe,defaultMatchWidth:"wide",parsePatterns:BSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:My({matchPatterns:VSe,defaultMatchWidth:"wide",parsePatterns:HSe,defaultParseWidth:"any"}),day:My({matchPatterns:WSe,defaultMatchWidth:"wide",parsePatterns:USe,defaultParseWidth:"any"}),dayPeriod:My({matchPatterns:KSe,defaultMatchWidth:"any",parsePatterns:qSe,defaultParseWidth:"any"})},rX={code:"fr",formatDistance:ySe,formatLong:wSe,formatRelative:SSe,localize:OSe,match:GSe,options:{weekStartsOn:1,firstWeekContainsDate:4}},Zf=class Zf{constructor(){Ye(this,"collectionName","poles");Ye(this,"poles",[]);Ye(this,"lastFetch",0);Ye(this,"fetchPromise",null)}static getInstance(){return Zf.instance||(Zf.instance=new Zf),Zf.instance}async getPoles(e=!1,n=5*60*1e3){const r=Date.now();if(this.fetchPromise)return this.fetchPromise;if(!e&&this.poles.length>0&&r-this.lastFetch<n)return this.poles;this.fetchPromise=this.fetchPolesFromFirestore();try{return this.poles=await this.fetchPromise,this.lastFetch=r,this.poles}catch(i){throw console.error("Erreur lors de la récupération des pôles:",i),i}finally{this.fetchPromise=null}}async fetchPolesFromFirestore(){try{const e=nn(dt,this.collectionName);return(await yn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Erreur lors de la récupération des pôles depuis Firestore:",e),e}}async getPoleById(e){try{if(this.poles.length>0){const i=this.poles.find(o=>o.id===e);if(i)return i}const n=Sn(dt,this.collectionName,e),r=await Do(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw console.error(`Erreur lors de la récupération du pôle ${e}:`,n),n}}async getPoleByName(e){try{if(this.poles.length>0){const o=this.poles.find(s=>s.nom===e);if(o)return o}const n=nn(dt,this.collectionName),r=mr(n,Zr("nom","==",e)),i=await yn(r);if(!i.empty){const o=i.docs[0];return{id:o.id,...o.data()}}return null}catch(n){throw console.error(`Erreur lors de la recherche du pôle ${e}:`,n),n}}};Ye(Zf,"instance");let ZM=Zf;const i_=(t=!1)=>{const[e,n]=h.useState([]),[r,i]=h.useState(!0),[o,s]=h.useState(null);return h.useEffect(()=>{(async()=>{try{i(!0);const c=await ZM.getInstance().getPoles(t);n(c),s(null)}catch(l){s(l)}finally{i(!1)}})()},[t]),{poles:e,loading:r,error:o}};var iX={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(iX);var YSe=iX.exports;const Oe=kx(YSe);function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(null,arguments)}function zt(t){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}var XSe=Symbol.for("react.element"),ZSe=Symbol.for("react.transitional.element"),QSe=Symbol.for("react.fragment");function oX(t){return t&&zt(t)==="object"&&(t.$$typeof===XSe||t.$$typeof===ZSe)&&t.type===QSe}function vl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return ae.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(vl(r)):oX(r)&&r.props?n=n.concat(vl(r.props.children,e)):n.push(r))}),n}var QM={},JSe=function(e){};function e1e(t,e){}function t1e(t,e){}function n1e(){QM={}}function sX(t,e,n){!e&&!QM[n]&&(t(!1,n),QM[n]=!0)}function pi(t,e){sX(e1e,t,e)}function r1e(t,e){sX(t1e,t,e)}pi.preMessage=JSe;pi.resetWarned=n1e;pi.noteOnce=r1e;function i1e(t,e){if(zt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aX(t){var e=i1e(t,"string");return zt(e)=="symbol"?e:e+""}function ve(t,e,n){return(e=aX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ex(t){return t instanceof HTMLElement||t instanceof SVGElement}function FI(t){return t&&zt(t)==="object"&&ex(t.nativeElement)?t.nativeElement:ex(t)?t:null}function pS(t){var e=FI(t);if(e)return e;if(t instanceof ae.Component){var n;return(n=Xl.findDOMNode)===null||n===void 0?void 0:n.call(Xl,t)}return null}var lX={exports:{}},Nr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN=Symbol.for("react.element"),TN=Symbol.for("react.portal"),BI=Symbol.for("react.fragment"),VI=Symbol.for("react.strict_mode"),HI=Symbol.for("react.profiler"),WI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),o1e=Symbol.for("react.server_context"),KI=Symbol.for("react.forward_ref"),qI=Symbol.for("react.suspense"),GI=Symbol.for("react.suspense_list"),YI=Symbol.for("react.memo"),XI=Symbol.for("react.lazy"),s1e=Symbol.for("react.offscreen"),cX;cX=Symbol.for("react.module.reference");function Ga(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case IN:switch(t=t.type,t){case BI:case HI:case VI:case qI:case GI:return t;default:switch(t=t&&t.$$typeof,t){case o1e:case UI:case KI:case XI:case YI:case WI:return t;default:return e}}case TN:return e}}}Nr.ContextConsumer=UI;Nr.ContextProvider=WI;Nr.Element=IN;Nr.ForwardRef=KI;Nr.Fragment=BI;Nr.Lazy=XI;Nr.Memo=YI;Nr.Portal=TN;Nr.Profiler=HI;Nr.StrictMode=VI;Nr.Suspense=qI;Nr.SuspenseList=GI;Nr.isAsyncMode=function(){return!1};Nr.isConcurrentMode=function(){return!1};Nr.isContextConsumer=function(t){return Ga(t)===UI};Nr.isContextProvider=function(t){return Ga(t)===WI};Nr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===IN};Nr.isForwardRef=function(t){return Ga(t)===KI};Nr.isFragment=function(t){return Ga(t)===BI};Nr.isLazy=function(t){return Ga(t)===XI};Nr.isMemo=function(t){return Ga(t)===YI};Nr.isPortal=function(t){return Ga(t)===TN};Nr.isProfiler=function(t){return Ga(t)===HI};Nr.isStrictMode=function(t){return Ga(t)===VI};Nr.isSuspense=function(t){return Ga(t)===qI};Nr.isSuspenseList=function(t){return Ga(t)===GI};Nr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===BI||t===HI||t===VI||t===qI||t===GI||t===s1e||typeof t=="object"&&t!==null&&(t.$$typeof===XI||t.$$typeof===YI||t.$$typeof===WI||t.$$typeof===UI||t.$$typeof===KI||t.$$typeof===cX||t.getModuleId!==void 0)};Nr.typeOf=Ga;lX.exports=Nr;var YP=lX.exports;function vp(t,e,n){var r=h.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var a1e=Number(h.version.split(".")[0]),tx=function(e,n){typeof e=="function"?e(n):zt(e)==="object"&&e&&"current"in e&&(e.current=n)},Ya=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(o){n.forEach(function(s){tx(s,o)})}},xf=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return vp(function(){return Ya.apply(void 0,n)},n,function(i,o){return i.length!==o.length||i.every(function(s,a){return s!==o[a]})})},xc=function(e){var n,r;if(!e)return!1;if(PN(e)&&a1e>=19)return!0;var i=YP.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==YP.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==YP.ForwardRef)};function PN(t){return h.isValidElement(t)&&!oX(t)}var l1e=function(e){return PN(e)&&xc(e)},yp=function(e){if(e&&PN(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},JM=h.createContext(null);function c1e(t){var e=t.children,n=t.onBatchResize,r=h.useRef(0),i=h.useRef([]),o=h.useContext(JM),s=h.useCallback(function(a,l,c){r.current+=1;var u=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(a,l,c)},[n,o]);return h.createElement(JM.Provider,{value:s},e)}var uX=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),eO=typeof window<"u"&&typeof document<"u"&&window.document===document,Q1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),u1e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Q1):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),d1e=2;function f1e(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){u1e(o)}function a(){var l=Date.now();if(n){if(l-i<d1e)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var h1e=20,p1e=["top","right","bottom","left","width","height","size","weight"],m1e=typeof MutationObserver<"u",g1e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=f1e(this.refresh.bind(this),h1e)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!eO||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),m1e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!eO||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=p1e.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),dX=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ug=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Q1},fX=ZI(0,0,0,0);function J1(t){return parseFloat(t)||0}function C3(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+J1(o)},0)}function v1e(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=J1(s)}return n}function y1e(t){var e=t.getBBox();return ZI(0,0,e.width,e.height)}function b1e(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return fX;var r=Ug(t).getComputedStyle(t),i=v1e(r),o=i.left+i.right,s=i.top+i.bottom,a=J1(r.width),l=J1(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=C3(r,"left","right")+o),Math.round(l+s)!==n&&(l-=C3(r,"top","bottom")+s)),!_1e(t)){var c=Math.round(a+o)-e,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return ZI(i.left,i.top,a,l)}var x1e=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ug(t).SVGGraphicsElement}:function(t){return t instanceof Ug(t).SVGElement&&typeof t.getBBox=="function"}}();function _1e(t){return t===Ug(t).document.documentElement}function w1e(t){return eO?x1e(t)?y1e(t):b1e(t):fX}function C1e(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return dX(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function ZI(t,e,n,r){return{x:t,y:e,width:n,height:r}}var S1e=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ZI(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=w1e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),E1e=function(){function t(e,n){var r=C1e(n);dX(this,{target:e,contentRect:r})}return t}(),I1e=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new uX,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ug(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new S1e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ug(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new E1e(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),hX=typeof WeakMap<"u"?new WeakMap:new uX,pX=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=g1e.getInstance(),r=new I1e(e,n,this);hX.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){pX.prototype[t]=function(){var e;return(e=hX.get(this))[t].apply(e,arguments)}});var T1e=function(){return typeof Q1.ResizeObserver<"u"?Q1.ResizeObserver:pX}(),Cd=new Map;function P1e(t){t.forEach(function(e){var n,r=e.target;(n=Cd.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var mX=new T1e(P1e);function R1e(t,e){Cd.has(t)||(Cd.set(t,new Set),mX.observe(t)),Cd.get(t).add(e)}function k1e(t,e){Cd.has(t)&&(Cd.get(t).delete(e),Cd.get(t).size||(mX.unobserve(t),Cd.delete(t)))}function Wi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aX(r.key),r)}}function Ui(t,e,n){return e&&S3(t.prototype,e),n&&S3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Kg(t,e)}function kc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}function nx(t){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nx(t)}function RN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RN=function(){return!!t})()}function Mt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M1e(t,e){if(e&&(zt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mt(t)}function Mc(t){var e=RN();return function(){var n,r=nx(t);if(e){var i=nx(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M1e(this,n)}}var O1e=function(t){kc(n,t);var e=Mc(n);function n(){return Wi(this,n),e.apply(this,arguments)}return Ui(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component);function D1e(t,e){var n=t.children,r=t.disabled,i=h.useRef(null),o=h.useRef(null),s=h.useContext(JM),a=typeof n=="function",l=a?n(i):n,c=h.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&h.isValidElement(l)&&xc(l),d=u?yp(l):null,f=xf(d,i),p=function(){var x;return pS(i.current)||(i.current&&zt(i.current)==="object"?pS((x=i.current)===null||x===void 0?void 0:x.nativeElement):null)||pS(o.current)};h.useImperativeHandle(e,function(){return p()});var v=h.useRef(t);v.current=t;var y=h.useCallback(function(b){var x=v.current,_=x.onResize,w=x.data,E=b.getBoundingClientRect(),T=E.width,I=E.height,S=b.offsetWidth,P=b.offsetHeight,R=Math.floor(T),O=Math.floor(I);if(c.current.width!==R||c.current.height!==O||c.current.offsetWidth!==S||c.current.offsetHeight!==P){var N={width:R,height:O,offsetWidth:S,offsetHeight:P};c.current=N;var A=S===Math.round(T)?T:S,$=P===Math.round(I)?I:P,M=_e(_e({},N),{},{offsetWidth:A,offsetHeight:$});s==null||s(M,b,w),_&&Promise.resolve().then(function(){_(M,b)})}},[]);return h.useEffect(function(){var b=p();return b&&!r&&R1e(b,y),function(){return k1e(b,y)}},[i.current,r]),h.createElement(O1e,{ref:o},u?h.cloneElement(l,{ref:f}):l)}var A1e=h.forwardRef(D1e),$1e="rc-observer-key";function N1e(t,e){var n=t.children,r=typeof n=="function"?[n]:vl(n);return r.map(function(i,o){var s=(i==null?void 0:i.key)||"".concat($1e,"-").concat(o);return h.createElement(A1e,Q({},t,{key:s,ref:o===0?e:void 0}),i)})}var Sl=h.forwardRef(N1e);Sl.Collection=c1e;function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function L1e(t){if(Array.isArray(t))return tO(t)}function gX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kN(t,e){if(t){if(typeof t=="string")return tO(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tO(t,e):void 0}}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(t){return L1e(t)||gX(t)||kN(t)||j1e()}var vX=function(e){return+setTimeout(e,16)},yX=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(vX=function(e){return window.requestAnimationFrame(e)},yX=function(e){return window.cancelAnimationFrame(e)});var E3=0,MN=new Map;function bX(t){MN.delete(t)}var nr=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;E3+=1;var r=E3;function i(o){if(o===0)bX(r),e();else{var s=vX(function(){i(o-1)});MN.set(r,s)}}return i(n),r};nr.cancel=function(t){var e=MN.get(t);return bX(t),yX(e)};function xX(t){if(Array.isArray(t))return t}function z1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function _X(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(t,e){return xX(t)||z1e(t,e)||kN(t,e)||_X()}function rx(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function zo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function nO(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var I3="data-rc-order",T3="data-rc-priority",F1e="rc-util-key",rO=new Map;function wX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):F1e}function QI(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function B1e(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function ON(t){return Array.from((rO.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function CX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!zo())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,s=B1e(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(I3,s),a&&o&&l.setAttribute(T3,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var c=QI(e),u=c.firstChild;if(r){if(a){var d=(e.styles||ON(c)).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(I3)))return!1;var p=Number(f.getAttribute(T3)||0);return o>=p});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function SX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=QI(e);return(e.styles||ON(n)).find(function(r){return r.getAttribute(wX(e))===t})}function ix(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=SX(t,e);if(n){var r=QI(e);r.removeChild(n)}}function V1e(t,e){var n=rO.get(t);if(!n||!nO(document,n)){var r=CX("",e),i=r.parentNode;rO.set(t,i),t.removeChild(r)}}function pu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=QI(n),i=ON(r),o=_e(_e({},n),{},{styles:i});V1e(r,o);var s=SX(e,o);if(s){var a,l;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;s.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var u=CX(t,o);return u.setAttribute(wX(o),e),u}function xt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bn(t,e){if(t==null)return{};var n,r,i=xt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _c(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(pi(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var c=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],s[u],c))return!1;return!0}if(o&&s&&zt(o)==="object"&&zt(s)==="object"){var d=Object.keys(o);return d.length!==Object.keys(s).length?!1:d.every(function(f){return i(o[f],s[f],c)})}return!1}return i(t,e)}var H1e="%";function iO(t){return t.join(H1e)}var W1e=function(){function t(e){Wi(this,t),ve(this,"instanceId",void 0),ve(this,"cache",new Map),this.instanceId=e}return Ui(t,[{key:"get",value:function(n){return this.opGet(iO(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(iO(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}]),t}(),qg="data-token-hash",fl="data-css-hash",Sd="__cssinjs_instance__";function U1e(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(fl,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[Sd]=i[Sd]||t,i[Sd]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(fl,"]"))).forEach(function(i){var o=i.getAttribute(fl);if(r[o]){if(i[Sd]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new W1e(t)}var o_=h.createContext({hashPriority:"low",cache:U1e(),defaultCache:!0});function K1e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var DN=function(){function t(){Wi(this,t),ve(this,"cache",void 0),ve(this,"keys",void 0),ve(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ui(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var d=Fe(c,2),f=d[1];return i.internalGet(u)[1]<f?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=Fe(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!K1e(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();ve(DN,"MAX_CACHE_SIZE",20);ve(DN,"MAX_CACHE_OFFSET",5);var P3=0,EX=function(){function t(e){Wi(this,t),ve(this,"derivatives",void 0),ve(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=P3,e.length===0&&(e.length>0,void 0),P3+=1}return Ui(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),XP=new DN;function oO(t){var e=Array.isArray(t)?t:[t];return XP.has(e)||XP.set(e,new EX(e)),XP.get(e)}var q1e=new WeakMap,ZP={};function G1e(t,e){for(var n=q1e,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(ZP)||n.set(ZP,t()),n.get(ZP)}var R3=new WeakMap;function q0(t){var e=R3.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof EX?e+=r.id:r&&zt(r)==="object"?e+=q0(r):e+=r}),e=rx(e),R3.set(t,e)),e}function k3(t,e){return rx("".concat(e,"_").concat(q0(t)))}var sO=zo();function Ne(t){return typeof t=="number"?"".concat(t,"px"):t}function eE(t,e,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return t;var s=_e(_e({},i),{},(r={},ve(r,qg,e),ve(r,fl,n),r)),a=Object.keys(s).map(function(l){var c=s[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var mS=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Y1e=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=Fe(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},IX=function(e,n,r){var i={},o={};return Object.entries(e).forEach(function(s){var a,l,c=Fe(s,2),u=c[0],d=c[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[u])o[u]=d;else if((typeof d=="string"||typeof d=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var f,p=mS(u,r==null?void 0:r.prefix);i[p]=typeof d=="number"&&!(r!=null&&(f=r.unitless)!==null&&f!==void 0&&f[u])?"".concat(d,"px"):String(d),o[u]="var(".concat(p,")")}}),[o,Y1e(i,n,{scope:r==null?void 0:r.scope})]},M3=zo()?h.useLayoutEffect:h.useEffect,gr=function(e,n){var r=h.useRef(!0);M3(function(){return e(r.current)},n),M3(function(){return r.current=!1,function(){r.current=!0}},[])},O3=function(e,n){gr(function(r){if(!r)return e()},n)},X1e=_e({},vu),D3=X1e.useInsertionEffect,Z1e=function(e,n,r){h.useMemo(e,r),gr(function(){return n(!0)},r)},Q1e=D3?function(t,e,n){return D3(function(){return t(),e()},n)}:Z1e,J1e=_e({},vu),eEe=J1e.useInsertionEffect,tEe=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return h.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},nEe=function(){return function(e){e()}},rEe=typeof eEe<"u"?tEe:nEe;function AN(t,e,n,r,i){var o=h.useContext(o_),s=o.cache,a=[t].concat(it(e)),l=iO(a),c=rEe([l]),u=function(v){s.opUpdate(l,function(y){var b=y||[void 0,void 0],x=Fe(b,2),_=x[0],w=_===void 0?0:_,E=x[1],T=E,I=T||n(),S=[w,I];return v?v(S):S})};h.useMemo(function(){u()},[l]);var d=s.opGet(l),f=d[1];return Q1e(function(){i==null||i(f)},function(p){return u(function(v){var y=Fe(v,2),b=y[0],x=y[1];return p&&b===0&&(i==null||i(f)),[b+1,x]}),function(){s.opUpdate(l,function(v){var y=v||[],b=Fe(y,2),x=b[0],_=x===void 0?0:x,w=b[1],E=_-1;return E===0?(c(function(){(p||!s.opGet(l))&&(r==null||r(w,!1))}),null):[_-1,w]})}},[l]),f}var iEe={},oEe="css",Gf=new Map;function sEe(t){Gf.set(t,(Gf.get(t)||0)+1)}function aEe(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(qg,'="').concat(t,'"]'));n.forEach(function(r){if(r[Sd]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var lEe=0;function cEe(t,e){Gf.set(t,(Gf.get(t)||0)-1);var n=Array.from(Gf.keys()),r=n.filter(function(i){var o=Gf.get(i)||0;return o<=0});n.length-r.length>lEe&&r.forEach(function(i){aEe(i,e),Gf.delete(i)})}var uEe=function(e,n,r,i){var o=r.getDerivativeToken(e),s=_e(_e({},o),n);return i&&(s=i(s)),s},TX="token";function dEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.useContext(o_),i=r.cache.instanceId,o=r.container,s=n.salt,a=s===void 0?"":s,l=n.override,c=l===void 0?iEe:l,u=n.formatToken,d=n.getComputedToken,f=n.cssVar,p=G1e(function(){return Object.assign.apply(Object,[{}].concat(it(e)))},e),v=q0(p),y=q0(c),b=f?q0(f):"",x=AN(TX,[a,t.id,v,y,b],function(){var _,w=d?d(p,c,t):uEe(p,c,t,u),E=_e({},w),T="";if(f){var I=IX(w,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),S=Fe(I,2);w=S[0],T=S[1]}var P=k3(w,a);w._tokenKey=P,E._tokenKey=k3(E,a);var R=(_=f==null?void 0:f.key)!==null&&_!==void 0?_:P;w._themeKey=R,sEe(R);var O="".concat(oEe,"-").concat(rx(P));return w._hashId=O,[w,O,E,T,(f==null?void 0:f.key)||""]},function(_){cEe(_[0]._themeKey,i)},function(_){var w=Fe(_,4),E=w[0],T=w[3];if(f&&T){var I=pu(T,rx("css-variables-".concat(E._themeKey)),{mark:fl,prepend:"queue",attachTo:o,priority:-999});I[Sd]=i,I.setAttribute(qg,E._themeKey)}});return x}var fEe=function(e,n,r){var i=Fe(e,5),o=i[2],s=i[3],a=i[4],l=r||{},c=l.plain;if(!s)return null;var u=o._tokenKey,d=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},p=eE(s,a,u,f,c);return[d,u,p]},hEe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PX="comm",RX="rule",kX="decl",pEe="@import",mEe="@namespace",gEe="@keyframes",vEe="@layer",MX=Math.abs,$N=String.fromCharCode;function OX(t){return t.trim()}function gS(t,e,n){return t.replace(e,n)}function yEe(t,e,n){return t.indexOf(e,n)}function fg(t,e){return t.charCodeAt(e)|0}function Gg(t,e,n){return t.slice(e,n)}function Hl(t){return t.length}function bEe(t){return t.length}function Jw(t,e){return e.push(t),t}var JI=1,Yg=1,DX=0,Ba=0,to=0,Pv="";function NN(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:JI,column:Yg,length:s,return:"",siblings:a}}function xEe(){return to}function _Ee(){return to=Ba>0?fg(Pv,--Ba):0,Yg--,to===10&&(Yg=1,JI--),to}function hl(){return to=Ba<DX?fg(Pv,Ba++):0,Yg++,to===10&&(Yg=1,JI++),to}function Ed(){return fg(Pv,Ba)}function vS(){return Ba}function eT(t,e){return Gg(Pv,t,e)}function ox(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wEe(t){return JI=Yg=1,DX=Hl(Pv=t),Ba=0,[]}function CEe(t){return Pv="",t}function QP(t){return OX(eT(Ba-1,aO(t===91?t+2:t===40?t+1:t)))}function SEe(t){for(;(to=Ed())&&to<33;)hl();return ox(t)>2||ox(to)>3?"":" "}function EEe(t,e){for(;--e&&hl()&&!(to<48||to>102||to>57&&to<65||to>70&&to<97););return eT(t,vS()+(e<6&&Ed()==32&&hl()==32))}function aO(t){for(;hl();)switch(to){case t:return Ba;case 34:case 39:t!==34&&t!==39&&aO(to);break;case 40:t===41&&aO(t);break;case 92:hl();break}return Ba}function IEe(t,e){for(;hl()&&t+to!==57;)if(t+to===84&&Ed()===47)break;return"/*"+eT(e,Ba-1)+"*"+$N(t===47?t:hl())}function TEe(t){for(;!ox(Ed());)hl();return eT(t,Ba)}function PEe(t){return CEe(yS("",null,null,null,[""],t=wEe(t),0,[0],t))}function yS(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,p=0,v=0,y=1,b=1,x=1,_=0,w="",E=i,T=o,I=r,S=w;b;)switch(v=_,_=hl()){case 40:if(v!=108&&fg(S,d-1)==58){yEe(S+=gS(QP(_),"&","&\f"),"&\f",MX(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:S+=QP(_);break;case 9:case 10:case 13:case 32:S+=SEe(v);break;case 92:S+=EEe(vS()-1,7);continue;case 47:switch(Ed()){case 42:case 47:Jw(REe(IEe(hl(),vS()),e,n,l),l),(ox(v||1)==5||ox(Ed()||1)==5)&&Hl(S)&&Gg(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*y:a[c++]=Hl(S)*x;case 125*y:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+u:x==-1&&(S=gS(S,/\f/g,"")),p>0&&(Hl(S)-d||y===0&&v===47)&&Jw(p>32?$3(S+";",r,n,d-1,l):$3(gS(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(Jw(I=A3(S,e,n,c,u,i,a,w,E=[],T=[],d,o),o),_===123)if(u===0)yS(S,e,I,I,E,o,d,a,T);else{switch(f){case 99:if(fg(S,3)===110)break;case 108:if(fg(S,2)===97)break;default:u=0;case 100:case 109:case 115:}u?yS(t,I,I,r&&Jw(A3(t,I,I,0,0,i,a,w,i,E=[],d,T),T),i,T,d,a,r?E:T):yS(S,I,I,I,[""],T,0,a,T)}}c=u=p=0,y=x=1,w=S="",d=s;break;case 58:d=1+Hl(S),p=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&_Ee()==125)continue}switch(S+=$N(_),_*y){case 38:x=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Hl(S)-1)*x,x=1;break;case 64:Ed()===45&&(S+=QP(hl())),f=Ed(),u=d=Hl(w=S+=TEe(vS())),_++;break;case 45:v===45&&Hl(S)==2&&(y=0)}}return o}function A3(t,e,n,r,i,o,s,a,l,c,u,d){for(var f=i-1,p=i===0?o:[""],v=bEe(p),y=0,b=0,x=0;y<r;++y)for(var _=0,w=Gg(t,f+1,f=MX(b=s[y])),E=t;_<v;++_)(E=OX(b>0?p[_]+" "+w:gS(w,/&\f/g,p[_])))&&(l[x++]=E);return NN(t,e,n,i===0?RX:a,l,c,u,d)}function REe(t,e,n,r){return NN(t,e,n,PX,$N(xEe()),Gg(t,2,-2),0,r)}function $3(t,e,n,r,i){return NN(t,e,n,kX,Gg(t,0,r),Gg(t,r+1,-1),r,i)}function lO(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function kEe(t,e,n,r){switch(t.type){case vEe:if(t.children.length)break;case pEe:case mEe:case kX:return t.return=t.return||t.value;case PX:return"";case gEe:return t.return=t.value+"{"+lO(t.children,r)+"}";case RX:if(!Hl(t.value=t.props.join(",")))return""}return Hl(n=lO(t.children,r))?t.return=t.value+"{"+n+"}":""}var N3="data-ant-cssinjs-cache-path",AX="_FILE_STYLE__",xh,$X=!0;function MEe(){if(!xh&&(xh={},zo())){var t=document.createElement("div");t.className=N3,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=Fe(o,2),a=s[0],l=s[1];xh[a]=l});var n=document.querySelector("style[".concat(N3,"]"));if(n){var r;$X=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function OEe(t){return MEe(),!!xh[t]}function DEe(t){var e=xh[t],n=null;if(e&&zo())if($X)n=AX;else{var r=document.querySelector("style[".concat(fl,'="').concat(xh[t],'"]'));r?n=r.innerHTML:delete xh[t]}return[n,e]}var AEe="_skip_check_",NX="_multi_value_";function bS(t){var e=lO(PEe(t),kEe);return e.replace(/\{%%%\:[^;];}/g,";")}function $Ee(t){return zt(t)==="object"&&t&&(AEe in t||NX in t)}function L3(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(it(l.slice(1))).join(" ")});return o.join(",")}var NEe=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var f="",p={};function v(x){var _=x.getName(a);if(!p[_]){var w=t(x.style,n,{root:!1,parentSelectors:s}),E=Fe(w,1),T=E[0];p[_]="@keyframes ".concat(x.getName(a)).concat(T)}}function y(x){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return x.forEach(function(w){Array.isArray(w)?y(w,_):w&&_.push(w)}),_}var b=y(Array.isArray(e)?e:[e]);return b.forEach(function(x){var _=typeof x=="string"&&!i?{}:x;if(typeof _=="string")f+="".concat(_,`
`);else if(_._keyframe)v(_);else{var w=d.reduce(function(E,T){var I;return(T==null||(I=T.visit)===null||I===void 0?void 0:I.call(T,E))||E},_);Object.keys(w).forEach(function(E){var T=w[E];if(zt(T)==="object"&&T&&(E!=="animationName"||!T._keyframe)&&!$Ee(T)){var I=!1,S=E.trim(),P=!1;(i||o)&&a?S.startsWith("@")?I=!0:S==="&"?S=L3("",a,c):S=L3(E,a,c):i&&!a&&(S==="&"||S==="")&&(S="",P=!0);var R=t(T,n,{root:P,injectHash:I,parentSelectors:[].concat(it(s),[S])}),O=Fe(R,2),N=O[0],A=O[1];p=_e(_e({},p),A),f+="".concat(S).concat(N)}else{let F=function(z,j){var B=z.replace(/[A-Z]/g,function(q){return"-".concat(q.toLowerCase())}),W=j;!hEe[z]&&typeof W=="number"&&W!==0&&(W="".concat(W,"px")),z==="animationName"&&j!==null&&j!==void 0&&j._keyframe&&(v(j),W=j.getName(a)),f+="".concat(B,":").concat(W,";")};var $,M=($=T==null?void 0:T.value)!==null&&$!==void 0?$:T;zt(T)==="object"&&T!==null&&T!==void 0&&T[NX]&&Array.isArray(M)?M.forEach(function(z){F(E,z)}):F(E,M)}})}}),i?l&&(f&&(f="@layer ".concat(l.name," {").concat(f,"}")),l.dependencies&&(p["@layer ".concat(l.name)]=l.dependencies.map(function(x){return"@layer ".concat(x,", ").concat(l.name,";")}).join(`
`))):f="{".concat(f,"}"),[f,p]};function LX(t,e){return rx("".concat(t.join("%")).concat(e))}function LEe(){return null}var jX="style";function cO(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=t.clientOnly,l=t.order,c=l===void 0?0:l,u=h.useContext(o_),d=u.autoClear;u.mock;var f=u.defaultCache,p=u.hashPriority,v=u.container,y=u.ssrInline,b=u.transformers,x=u.linters,_=u.cache,w=u.layer,E=n._tokenKey,T=[E];w&&T.push("layer"),T.push.apply(T,it(r));var I=sO,S=AN(jX,T,function(){var A=T.join("|");if(OEe(A)){var $=DEe(A),M=Fe($,2),F=M[0],z=M[1];if(F)return[F,E,z,{},a,c]}var j=e(),B=NEe(j,{hashId:i,hashPriority:p,layer:w?o:void 0,path:r.join("-"),transformers:b,linters:x}),W=Fe(B,2),q=W[0],G=W[1],X=bS(q),ue=LX(T,X);return[X,E,ue,G,a,c]},function(A,$){var M=Fe(A,3),F=M[2];($||d)&&sO&&ix(F,{mark:fl})},function(A){var $=Fe(A,4),M=$[0];$[1];var F=$[2],z=$[3];if(I&&M!==AX){var j={mark:fl,prepend:w?!1:"queue",attachTo:v,priority:c},B=typeof s=="function"?s():s;B&&(j.csp={nonce:B});var W=[],q=[];Object.keys(z).forEach(function(X){X.startsWith("@layer")?W.push(X):q.push(X)}),W.forEach(function(X){pu(bS(z[X]),"_layer-".concat(X),_e(_e({},j),{},{prepend:!0}))});var G=pu(M,F,j);G[Sd]=_.instanceId,G.setAttribute(qg,E),q.forEach(function(X){pu(bS(z[X]),"_effect-".concat(X),j)})}}),P=Fe(S,3),R=P[0],O=P[1],N=P[2];return function(A){var $;if(!y||I||!f)$=h.createElement(LEe,null);else{var M;$=h.createElement("style",Q({},(M={},ve(M,qg,O),ve(M,fl,N),M),{dangerouslySetInnerHTML:{__html:R}}))}return h.createElement(h.Fragment,null,$,A)}}var jEe=function(e,n,r){var i=Fe(e,6),o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=r||{},f=d.plain;if(c)return null;var p=o,v={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return p=eE(o,s,a,v,f),l&&Object.keys(l).forEach(function(y){if(!n[y]){n[y]=!0;var b=bS(l[y]),x=eE(b,s,"_effect-".concat(y),v,f);y.startsWith("@layer")?p=x+p:p+=x}}),[u,a,p]},zX="cssVar",zEe=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,u=h.useContext(o_),d=u.cache.instanceId,f=u.container,p=a._tokenKey,v=[].concat(it(e.path),[r,c,p]),y=AN(zX,v,function(){var b=n(),x=IX(b,r,{prefix:i,unitless:o,ignore:s,scope:c}),_=Fe(x,2),w=_[0],E=_[1],T=LX(v,E);return[w,E,T,r]},function(b){var x=Fe(b,3),_=x[2];sO&&ix(_,{mark:fl})},function(b){var x=Fe(b,3),_=x[1],w=x[2];if(_){var E=pu(_,w,{mark:fl,prepend:"queue",attachTo:f,priority:-999});E[Sd]=d,E.setAttribute(qg,r)}});return y},FEe=function(e,n,r){var i=Fe(e,4),o=i[1],s=i[2],a=i[3],l=r||{},c=l.plain;if(!o)return null;var u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},f=eE(o,a,s,d,c);return[u,s,f]},Oy;Oy={},ve(Oy,jX,jEe),ve(Oy,TX,fEe),ve(Oy,zX,FEe);var Qn=function(){function t(e,n){Wi(this,t),ve(this,"name",void 0),ve(this,"style",void 0),ve(this,"_keyframe",!0),this.name=e,this.style=n}return Ui(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function Zp(t){return t.notSplit=!0,t}Zp(["borderTop","borderBottom"]),Zp(["borderTop"]),Zp(["borderBottom"]),Zp(["borderLeft","borderRight"]),Zp(["borderLeft"]),Zp(["borderRight"]);var LN=h.createContext({});function FX(t){return xX(t)||gX(t)||kN(t)||_X()}function Js(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function BX(t,e,n,r){if(!e.length)return n;var i=FX(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=it(t):a=_e({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=BX(a[o],s,n,r),a}function il(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Js(t,e.slice(0,-1))?t:BX(t,e,n,r)}function BEe(t){return zt(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function j3(t){return Array.isArray(t)?[]:{}}var VEe=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Vm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=j3(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),c=Js(i,s),u=Array.isArray(c);if(u||BEe(c)){if(!l.has(c)){l.add(c);var d=Js(r,s);u?r=il(r,s,[]):(!d||zt(d)!=="object")&&(r=il(r,s,j3(c))),VEe(c).forEach(function(f){o([].concat(it(s),[f]),l)})}}else r=il(r,s,c)}o([])}),r}function HEe(){}const WEe=h.createContext({}),bp=()=>{const t=()=>{};return t.deprecated=HEe,t},UEe=h.createContext(void 0);var VX={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},KEe={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},qEe=_e(_e({},KEe),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const HX={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},z3={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},qEe),timePickerLocale:Object.assign({},HX)},Ws="${label} is not a valid ${type}",rf={locale:"en",Pagination:VX,DatePicker:z3,TimePicker:HX,Calendar:z3,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Ws,method:Ws,array:Ws,object:Ws,number:Ws,date:Ws,boolean:Ws,integer:Ws,float:Ws,regexp:Ws,email:Ws,url:Ws,hex:Ws},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let xS=Object.assign({},rf.Modal),_S=[];const F3=()=>_S.reduce((t,e)=>Object.assign(Object.assign({},t),e),rf.Modal);function GEe(t){if(t){const e=Object.assign({},t);return _S.push(e),xS=F3(),()=>{_S=_S.filter(n=>n!==e),xS=F3()}}xS=Object.assign({},rf.Modal)}function WX(){return xS}const jN=h.createContext(void 0),xp=(t,e)=>{const n=h.useContext(jN),r=h.useMemo(()=>{var o;const s=e||rf[t],a=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),i=h.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?rf.locale:o},[n]);return[r,i]},YEe="internalMark",XEe=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;h.useEffect(()=>GEe(e==null?void 0:e.Modal),[e]);const i=h.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return h.createElement(jN.Provider,{value:i},n)},UX={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},sx=Object.assign(Object.assign({},UX),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),xo=Math.round;function JP(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const B3=(t,e,n)=>n===0?t:t/100;function Dy(t,e){const n=e||255;return t>n?n:t<0?0:t}class Xn{constructor(e){ve(this,"isValid",!0),ve(this,"r",0),ve(this,"g",0),ve(this,"b",0),ve(this,"a",1),ve(this,"_h",void 0),ve(this,"_s",void 0),ve(this,"_l",void 0),ve(this,"_v",void 0),ve(this,"_max",void 0),ve(this,"_min",void 0),ve(this,"_brightness",void 0);function n(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let o=function(s){return i.startsWith(s)};var r=o;const i=e.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):o("rgb")?this.fromRgbString(i):o("hsl")?this.fromHslString(i):(o("hsv")||o("hsb"))&&this.fromHsvString(i)}else if(e instanceof Xn)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Dy(e.r),this.g=Dy(e.g),this.b=Dy(e.b),this.a=typeof e.a=="number"?Dy(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(o){const s=o/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=xo(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,o=a=>(r[a]-this[a])*i+this[a],s={r:xo(o("r")),g:xo(o("g")),b:xo(o("b")),a:xo(o("a")*100)/100};return this._c(s)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=o=>xo((this[o]*this.a+n[o]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=xo(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=xo(this.getSaturation()*100),r=xo(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=Dy(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,o){return parseInt(n[i]+n[o||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const f=xo(r*255);this.r=f,this.g=f,this.b=f}let o=0,s=0,a=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,s=u):l>=1&&l<2?(o=u,s=c):l>=2&&l<3?(s=c,a=u):l>=3&&l<4?(s=u,a=c):l>=4&&l<5?(o=u,a=c):l>=5&&l<6&&(o=c,a=u);const d=r-c/2;this.r=xo((o+d)*255),this.g=xo((s+d)*255),this.b=xo((a+d)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const o=xo(r*255);if(this.r=o,this.g=o,this.b=o,n<=0)return;const s=e/60,a=Math.floor(s),l=s-a,c=xo(r*(1-n)*255),u=xo(r*(1-n*l)*255),d=xo(r*(1-n*(1-l))*255);switch(a){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const n=JP(e,B3);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=JP(e,B3);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=JP(e,(r,i)=>i.includes("%")?xo(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var eC=2,V3=.16,ZEe=.05,QEe=.05,JEe=.15,KX=5,qX=4,eIe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function H3(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-eC*e:Math.round(t.h)+eC*e:r=n?Math.round(t.h)+eC*e:Math.round(t.h)-eC*e,r<0?r+=360:r>=360&&(r-=360),r}function W3(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-V3*e:e===qX?r=t.s+V3:r=t.s+ZEe*e,r>1&&(r=1),n&&e===KX&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function U3(t,e,n){var r;return n?r=t.v+QEe*e:r=t.v-JEe*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function ax(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new Xn(t),i=r.toHsv(),o=KX;o>0;o-=1){var s=new Xn({h:H3(i,o,!0),s:W3(i,o,!0),v:U3(i,o,!0)});n.push(s)}n.push(r);for(var a=1;a<=qX;a+=1){var l=new Xn({h:H3(i,a),s:W3(i,a),v:U3(i,a)});n.push(l)}return e.theme==="dark"?eIe.map(function(c){var u=c.index,d=c.amount;return new Xn(e.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}var eR={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},uO=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];uO.primary=uO[5];var dO=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];dO.primary=dO[5];var fO=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];fO.primary=fO[5];var hO=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];hO.primary=hO[5];var pO=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];pO.primary=pO[5];var mO=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];mO.primary=mO[5];var gO=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];gO.primary=gO[5];var vO=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];vO.primary=vO[5];var tE=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];tE.primary=tE[5];var yO=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];yO.primary=yO[5];var bO=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];bO.primary=bO[5];var xO=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];xO.primary=xO[5];var _O=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];_O.primary=_O[5];var tR={red:uO,volcano:dO,orange:fO,gold:hO,yellow:pO,lime:mO,green:gO,cyan:vO,blue:tE,geekblue:yO,purple:bO,magenta:xO,grey:_O};function tIe(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,d=n(l),f=n(i),p=n(o),v=n(s),y=n(a),b=r(c,u),x=t.colorLink||t.colorInfo,_=n(x),w=new Xn(v[1]).mix(new Xn(v[3]),50).toHexString();return Object.assign(Object.assign({},b),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBgFilledHover:w,colorErrorBgActive:v[3],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:y[1],colorInfoBgHover:y[2],colorInfoBorder:y[3],colorInfoBorderHover:y[4],colorInfoHover:y[4],colorInfo:y[6],colorInfoActive:y[7],colorInfoTextHover:y[8],colorInfoText:y[9],colorInfoTextActive:y[10],colorLinkHover:_[4],colorLink:_[6],colorLinkActive:_[7],colorBgMask:new Xn("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const nIe=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}};function rIe(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},nIe(r))}const iIe=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function wS(t){return(t+8)/t}function oIe(t){const e=Array.from({length:10}).map((n,r)=>{const i=r-1,o=t*Math.pow(Math.E,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:wS(n)}))}const sIe=t=>{const e=oIe(t),n=e.map(u=>u.size),r=e.map(u=>u.lineHeight),i=n[1],o=n[0],s=n[2],a=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function aIe(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const ya=(t,e)=>new Xn(t).setA(e).toRgbString(),Ay=(t,e)=>new Xn(t).darken(e).toHexString(),lIe=t=>{const e=ax(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},cIe=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:ya(r,.88),colorTextSecondary:ya(r,.65),colorTextTertiary:ya(r,.45),colorTextQuaternary:ya(r,.25),colorFill:ya(r,.15),colorFillSecondary:ya(r,.06),colorFillTertiary:ya(r,.04),colorFillQuaternary:ya(r,.02),colorBgSolid:ya(r,1),colorBgSolidHover:ya(r,.75),colorBgSolidActive:ya(r,.95),colorBgLayout:Ay(n,4),colorBgContainer:Ay(n,0),colorBgElevated:Ay(n,0),colorBgSpotlight:ya(r,.85),colorBgBlur:"transparent",colorBorder:Ay(n,15),colorBorderSecondary:Ay(n,6)}};function uIe(t){eR.pink=eR.magenta,tR.pink=tR.magenta;const e=Object.keys(UX).map(n=>{const r=t[n]===eR[n]?tR[n]:ax(t[n]);return Array.from({length:10},()=>1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),tIe(t,{generateColorPalettes:lIe,generateNeutralColorPalettes:cIe})),sIe(t.fontSize)),aIe(t)),iIe(t)),rIe(t))}const GX=oO(uIe),wO={token:sx,override:{override:sx},hashed:!0},YX=ae.createContext(wO),lx="ant",tT="anticon",dIe=["outlined","borderless","filled","underlined"],fIe=(t,e)=>e||(t?`${lx}-${t}`:lx),Pn=h.createContext({getPrefixCls:fIe,iconPrefixCls:tT}),{Consumer:nXe}=Pn,K3={};function Oc(t){const e=h.useContext(Pn),{getPrefixCls:n,direction:r,getPopupContainer:i}=e,o=e[t];return Object.assign(Object.assign({classNames:K3,styles:K3},o),{getPrefixCls:n,direction:r,getPopupContainer:i})}const hIe=`-ant-${Date.now()}-${Math.random()}`;function pIe(t,e){const n={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new Xn(s),c=ax(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=c[1],n[`${a}-color-hover`]=c[4],n[`${a}-color-active`]=c[6],n[`${a}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=c[0],n[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new Xn(e.primaryColor),a=ax(s.toRgbString());a.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(s,c=>c.setA(c.a*.12));const l=new Xn(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setA(c.a*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function mIe(t,e){const n=pIe(t,e);zo()&&pu(n,`${hIe}-dynamic-theme`)}const yl=h.createContext(!1),XX=t=>{let{children:e,disabled:n}=t;const r=h.useContext(yl);return h.createElement(yl.Provider,{value:n??r},e)},Xg=h.createContext(void 0),gIe=t=>{let{children:e,size:n}=t;const r=h.useContext(Xg);return h.createElement(Xg.Provider,{value:n||r},e)};function vIe(){const t=h.useContext(yl),e=h.useContext(Xg);return{componentDisabled:t,componentSize:e}}var ZX=Ui(function t(){Wi(this,t)}),QX="CALC_UNIT",yIe=new RegExp(QX,"g");function nR(t){return typeof t=="number"?"".concat(t).concat(QX):t}var bIe=function(t){kc(n,t);var e=Mc(n);function n(r,i){var o;Wi(this,n),o=e.call(this),ve(Mt(o),"result",""),ve(Mt(o),"unitlessCssVar",void 0),ve(Mt(o),"lowPriority",void 0);var s=zt(r);return o.unitlessCssVar=i,r instanceof n?o.result="(".concat(r.result,")"):s==="number"?o.result=nR(r):s==="string"&&(o.result=r),o}return Ui(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(nR(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(nR(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var o=this,s=i||{},a=s.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(c){return o.result.includes(c)})&&(l=!1),this.result=this.result.replace(yIe,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(ZX),xIe=function(t){kc(n,t);var e=Mc(n);function n(r){var i;return Wi(this,n),i=e.call(this),ve(Mt(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return Ui(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(ZX),_Ie=function(e,n){var r=e==="css"?bIe:xIe;return function(i){return new r(i,n)}},q3=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Or(t){var e=h.useRef();e.current=t;var n=h.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function Zg(t){var e=h.useRef(!1),n=h.useState(t),r=Fe(n,2),i=r[0],o=r[1];h.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function rR(t){return t!==void 0}function so(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Zg(function(){return rR(i)?i:rR(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=Fe(a,2),c=l[0],u=l[1],d=i!==void 0?i:c,f=s?s(d):d,p=Or(o),v=Zg([d]),y=Fe(v,2),b=y[0],x=y[1];O3(function(){var w=b[0];c!==w&&p(c,w)},[b]),O3(function(){rR(i)||u(i)},[i]);var _=Or(function(w,E){u(w,E),x([d],E)});return[f,_]}function G3(t,e,n,r){var i=_e({},e[t]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(a){var l=Fe(a,2),c=l[0],u=l[1];if(i!=null&&i[c]||i!=null&&i[u]){var d;(d=i[u])!==null&&d!==void 0||(i[u]=i==null?void 0:i[c])}})}var s=_e(_e({},n),i);return Object.keys(s).forEach(function(a){s[a]===e[a]&&delete s[a]}),s}var JX=typeof CSSINJS_STATISTIC<"u",CO=!0;function Jn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!JX)return Object.assign.apply(Object,[{}].concat(e));CO=!1;var r={};return e.forEach(function(i){if(zt(i)==="object"){var o=Object.keys(i);o.forEach(function(s){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return i[s]}})})}}),CO=!0,r}var Y3={};function wIe(){}var CIe=function(e){var n,r=e,i=wIe;return JX&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(s,a){if(CO){var l;(l=n)===null||l===void 0||l.add(a)}return s[a]}}),i=function(s,a){var l;Y3[s]={global:Array.from(n),component:_e(_e({},(l=Y3[s])===null||l===void 0?void 0:l.component),a)}}),{token:r,keys:n,flush:i}};function X3(t,e,n){if(typeof n=="function"){var r;return n(Jn(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function SIe(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(o){return Ne(o)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(o){return Ne(o)}).join(","),")")}}}var EIe=1e3*60*10,IIe=function(){function t(){Wi(this,t),ve(this,"map",new Map),ve(this,"objectIDMap",new WeakMap),ve(this,"nextID",0),ve(this,"lastAccessBeat",new Map),ve(this,"accessBeat",0)}return Ui(t,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(o){return o&&zt(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat(zt(o),"_").concat(o)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,o){r-i>EIe&&(n.map.delete(o),n.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),t}(),Z3=new IIe;function TIe(t,e){return ae.useMemo(function(){var n=Z3.get(e);if(n)return n;var r=t();return Z3.set(e,r),r},e)}var PIe=function(){return{}};function RIe(t){var e=t.useCSP,n=e===void 0?PIe:e,r=t.useToken,i=t.usePrefix,o=t.getResetStyles,s=t.getCommonStyle,a=t.getCompUnitless;function l(f,p,v,y){var b=Array.isArray(f)?f[0]:f;function x(P){return"".concat(String(b)).concat(P.slice(0,1).toUpperCase()).concat(P.slice(1))}var _=(y==null?void 0:y.unitless)||{},w=typeof a=="function"?a(f):{},E=_e(_e({},w),{},ve({},x("zIndexPopup"),!0));Object.keys(_).forEach(function(P){E[x(P)]=_[P]});var T=_e(_e({},y),{},{unitless:E,prefixToken:x}),I=u(f,p,v,T),S=c(b,v,T);return function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P,O=I(P,R),N=Fe(O,2),A=N[1],$=S(R),M=Fe($,2),F=M[0],z=M[1];return[F,A,z]}}function c(f,p,v){var y=v.unitless,b=v.injectStyle,x=b===void 0?!0:b,_=v.prefixToken,w=v.ignore,E=function(S){var P=S.rootCls,R=S.cssVar,O=R===void 0?{}:R,N=r(),A=N.realToken;return zEe({path:[f],prefix:O.prefix,key:O.key,unitless:y,ignore:w,token:A,scope:P},function(){var $=X3(f,A,p),M=G3(f,A,$,{deprecatedTokens:v==null?void 0:v.deprecatedTokens});return Object.keys($).forEach(function(F){M[_(F)]=M[F],delete M[F]}),M}),null},T=function(S){var P=r(),R=P.cssVar;return[function(O){return x&&R?ae.createElement(ae.Fragment,null,ae.createElement(E,{rootCls:S,cssVar:R,component:f}),O):O},R==null?void 0:R.key]};return T}function u(f,p,v){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=Array.isArray(f)?f:[f,f],x=Fe(b,1),_=x[0],w=b.join("-"),E=t.layer||{name:"antd"};return function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,S=r(),P=S.theme,R=S.realToken,O=S.hashId,N=S.token,A=S.cssVar,$=i(),M=$.rootPrefixCls,F=$.iconPrefixCls,z=n(),j=A?"css":"js",B=TIe(function(){var te=new Set;return A&&Object.keys(y.unitless||{}).forEach(function(J){te.add(mS(J,A.prefix)),te.add(mS(J,q3(_,A.prefix)))}),_Ie(j,te)},[j,_,A==null?void 0:A.prefix]),W=SIe(j),q=W.max,G=W.min,X={theme:P,token:N,hashId:O,nonce:function(){return z.nonce},clientOnly:y.clientOnly,layer:E,order:y.order||-999};typeof o=="function"&&cO(_e(_e({},X),{},{clientOnly:!1,path:["Shared",M]}),function(){return o(N,{prefix:{rootPrefixCls:M,iconPrefixCls:F},csp:z})});var ue=cO(_e(_e({},X),{},{path:[w,T,F]}),function(){if(y.injectStyle===!1)return[];var te=CIe(N),J=te.token,se=te.flush,ge=X3(_,R,v),le=".".concat(T),we=G3(_,R,ge,{deprecatedTokens:y.deprecatedTokens});A&&ge&&zt(ge)==="object"&&Object.keys(ge).forEach(function(oe){ge[oe]="var(".concat(mS(oe,q3(_,A.prefix)),")")});var ce=Jn(J,{componentCls:le,prefixCls:T,iconCls:".".concat(F),antCls:".".concat(M),calc:B,max:q,min:G},A?ge:we),be=p(ce,{hashId:O,prefixCls:T,rootPrefixCls:M,iconPrefixCls:F});se(_,we);var K=typeof s=="function"?s(ce,T,I,y.resetFont):null;return[y.resetStyle===!1?null:K,be]});return[ue,O]}}function d(f,p,v){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=u(f,p,v,_e({resetStyle:!1,order:-998},y)),x=function(w){var E=w.prefixCls,T=w.rootCls,I=T===void 0?E:T;return b(E,I),null};return x}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:u}}const Qh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],kIe="5.24.4";function iR(t){return t>=0&&t<=255}function b0(t,e){const{r:n,g:r,b:i,a:o}=new Xn(t).toRgb();if(o<1)return t;const{r:s,g:a,b:l}=new Xn(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-s*(1-c))/c),d=Math.round((r-a*(1-c))/c),f=Math.round((i-l*(1-c))/c);if(iR(u)&&iR(d)&&iR(f))return new Xn({r:u,g:d,b:f,a:Math.round(c*100)/100}).toRgbString()}return new Xn({r:n,g:r,b:i,a:1}).toRgbString()}var MIe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function eZ(t){const{override:e}=t,n=MIe(t,["override"]),r=Object.assign({},e);Object.keys(sx).forEach(f=>{delete r[f]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const f="0s";i.motionDurationFast=f,i.motionDurationMid=f,i.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:b0(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:b0(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:b0(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:b0(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Xn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Xn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Xn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Q3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const tZ={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},OIe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},DIe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},nZ=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=Q3(e,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=eZ(s),o&&Object.entries(o).forEach(a=>{let[l,c]=a;const{theme:u}=c,d=Q3(c,["theme"]);let f=d;u&&(f=nZ(Object.assign(Object.assign({},s),d),{override:d},u)),s[l]=f}),s};function Bo(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=ae.useContext(YX),o=`${kIe}-${e||""}`,s=n||GX,[a,l,c]=dEe(s,[sx,t],{salt:o,override:r,getComputedToken:nZ,formatToken:eZ,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:tZ,ignore:OIe,preserve:DIe}});return[s,c,e?l:"",a,i]}const cx={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Si=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},s_=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),ux=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),AIe=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),$Ie=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=n?`.${n}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},of=(t,e)=>({outline:`${Ne(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),Jh=(t,e)=>({"&:focus-visible":Object.assign({},of(t,e))}),rZ=t=>({[`.${t}`]:Object.assign(Object.assign({},s_()),{[`.${t} .${t}-icon`]:{display:"block"}})}),NIe=t=>Object.assign(Object.assign({color:t.colorLink,textDecoration:t.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},Jh(t)),{"&:focus, &:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive}}),{genStyleHooks:gi,genComponentStyleHook:LIe,genSubStyleComponent:a_}=RIe({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=h.useContext(Pn);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=Bo();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t}=h.useContext(Pn);return t??{}},getResetStyles:(t,e)=>{var n;const r=AIe(t);return[r,{"&":r},rZ((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:tT)]},getCommonStyle:$Ie,getCompUnitless:()=>tZ});function iZ(t,e){return Qh.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],s=t[`${r}6`],a=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const jIe=(t,e)=>{const[n,r]=Bo();return cO({token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[rZ(t)])},zIe=Object.assign({},vu),{useId:J3}=zIe,FIe=()=>"",BIe=typeof J3>"u"?FIe:J3;function VIe(t,e,n){var r;bp();const i=t||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},wO),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:wO.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=BIe();return vp(()=>{var a,l;if(!t)return e;const c=Object.assign({},o.components);Object.keys(t.components||{}).forEach(f=>{c[f]=Object.assign(Object.assign({},c[f]),t.components[f])});const u=`css-var-${s.replace(/:/g,"")}`,d=((a=i.cssVar)!==null&&a!==void 0?a:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:c,cssVar:d})},[i,o],(a,l)=>a.some((c,u)=>{const d=l[u];return!_c(c,d,!0)}))}var HIe=["children"],oZ=h.createContext({});function WIe(t){var e=t.children,n=bn(t,HIe);return h.createElement(oZ.Provider,{value:n},e)}var UIe=function(t){kc(n,t);var e=Mc(n);function n(){return Wi(this,n),e.apply(this,arguments)}return Ui(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component);function KIe(t){var e=h.useReducer(function(a){return a+1},0),n=Fe(e,2),r=n[1],i=h.useRef(t),o=Or(function(){return i.current}),s=Or(function(a){i.current=typeof a=="function"?a(i.current):a,r()});return[o,s]}var ed="none",tC="appear",nC="enter",rC="leave",e6="none",ol="prepare",Hm="start",Wm="active",zN="end",sZ="prepared";function t6(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function qIe(t,e){var n={animationend:t6("Animation","AnimationEnd"),transitionend:t6("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var GIe=qIe(zo(),typeof window<"u"?window:{}),aZ={};if(zo()){var YIe=document.createElement("div");aZ=YIe.style}var iC={};function lZ(t){if(iC[t])return iC[t];var e=GIe[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in aZ)return iC[t]=e[o],iC[t]}return""}var cZ=lZ("animationend"),uZ=lZ("transitionend"),dZ=!!(cZ&&uZ),n6=cZ||"animationend",r6=uZ||"transitionend";function i6(t,e){if(!t)return null;if(zt(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const XIe=function(t){var e=h.useRef();function n(i){i&&(i.removeEventListener(r6,t),i.removeEventListener(n6,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener(r6,t),i.addEventListener(n6,t),e.current=i)}return h.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var fZ=zo()?h.useLayoutEffect:h.useEffect;const ZIe=function(){var t=h.useRef(null);function e(){nr.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=nr(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return h.useEffect(function(){return function(){e()}},[]),[n,e]};var QIe=[ol,Hm,Wm,zN],JIe=[ol,sZ],hZ=!1,eTe=!0;function pZ(t){return t===Wm||t===zN}const tTe=function(t,e,n){var r=Zg(e6),i=Fe(r,2),o=i[0],s=i[1],a=ZIe(),l=Fe(a,2),c=l[0],u=l[1];function d(){s(ol,!0)}var f=e?JIe:QIe;return fZ(function(){if(o!==e6&&o!==zN){var p=f.indexOf(o),v=f[p+1],y=n(o);y===hZ?s(v,!0):v&&c(function(b){function x(){b.isCanceled()||s(v,!0)}y===!0?x():Promise.resolve(y).then(x)})}},[t,o]),h.useEffect(function(){return function(){u()}},[]),[d,o]};function nTe(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,p=r.onEnterPrepare,v=r.onLeavePrepare,y=r.onAppearStart,b=r.onEnterStart,x=r.onLeaveStart,_=r.onAppearActive,w=r.onEnterActive,E=r.onLeaveActive,T=r.onAppearEnd,I=r.onEnterEnd,S=r.onLeaveEnd,P=r.onVisibleChanged,R=Zg(),O=Fe(R,2),N=O[0],A=O[1],$=KIe(ed),M=Fe($,2),F=M[0],z=M[1],j=Zg(null),B=Fe(j,2),W=B[0],q=B[1],G=F(),X=h.useRef(!1),ue=h.useRef(null);function te(){return n()}var J=h.useRef(!1);function se(){z(ed),q(null,!0)}var ge=Or(function(me){var fe=F();if(fe!==ed){var ye=te();if(!(me&&!me.deadline&&me.target!==ye)){var Te=J.current,ke;fe===tC&&Te?ke=T==null?void 0:T(ye,me):fe===nC&&Te?ke=I==null?void 0:I(ye,me):fe===rC&&Te&&(ke=S==null?void 0:S(ye,me)),Te&&ke!==!1&&se()}}}),le=XIe(ge),we=Fe(le,1),ce=we[0],be=function(fe){switch(fe){case tC:return ve(ve(ve({},ol,f),Hm,y),Wm,_);case nC:return ve(ve(ve({},ol,p),Hm,b),Wm,w);case rC:return ve(ve(ve({},ol,v),Hm,x),Wm,E);default:return{}}},K=h.useMemo(function(){return be(G)},[G]),oe=tTe(G,!t,function(me){if(me===ol){var fe=K[ol];return fe?fe(te()):hZ}if(re in K){var ye;q(((ye=K[re])===null||ye===void 0?void 0:ye.call(K,te(),null))||null)}return re===Wm&&G!==ed&&(ce(te()),u>0&&(clearTimeout(ue.current),ue.current=setTimeout(function(){ge({deadline:!0})},u))),re===sZ&&se(),eTe}),V=Fe(oe,2),ie=V[0],re=V[1],ee=pZ(re);J.current=ee;var Y=h.useRef(null);fZ(function(){if(!(X.current&&Y.current===e)){A(e);var me=X.current;X.current=!0;var fe;!me&&e&&a&&(fe=tC),me&&e&&o&&(fe=nC),(me&&!e&&c||!me&&d&&!e&&c)&&(fe=rC);var ye=be(fe);fe&&(t||ye[ol])?(z(fe),ie()):z(ed),Y.current=e}},[e]),h.useEffect(function(){(G===tC&&!a||G===nC&&!o||G===rC&&!c)&&z(ed)},[a,o,c]),h.useEffect(function(){return function(){X.current=!1,clearTimeout(ue.current)}},[]);var he=h.useRef(!1);h.useEffect(function(){N&&(he.current=!0),N!==void 0&&G===ed&&((he.current||N)&&(P==null||P(N)),he.current=!0)},[N,G]);var Ce=W;return K[ol]&&re===Hm&&(Ce=_e({transition:"none"},Ce)),[G,re,Ce,N??e]}function rTe(t){var e=t;zt(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=h.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,f=i.motionName,p=i.leavedClassName,v=i.eventProps,y=h.useContext(oZ),b=y.motion,x=n(i,b),_=h.useRef(),w=h.useRef();function E(){try{return _.current instanceof HTMLElement?_.current:pS(w.current)}catch{return null}}var T=nTe(x,a,E,i),I=Fe(T,4),S=I[0],P=I[1],R=I[2],O=I[3],N=h.useRef(O);O&&(N.current=!0);var A=h.useCallback(function(B){_.current=B,tx(o,B)},[o]),$,M=_e(_e({},v),{},{visible:a});if(!d)$=null;else if(S===ed)O?$=d(_e({},M),A):!c&&N.current&&p?$=d(_e(_e({},M),{},{className:p}),A):u||!c&&!p?$=d(_e(_e({},M),{},{style:{display:"none"}}),A):$=null;else{var F;P===ol?F="prepare":pZ(P)?F="active":P===Hm&&(F="start");var z=i6(f,"".concat(S,"-").concat(F));$=d(_e(_e({},M),{},{className:Oe(i6(f,S),ve(ve({},z,z&&F),f,typeof f=="string")),style:R}),A)}if(h.isValidElement($)&&xc($)){var j=yp($);j||($=h.cloneElement($,{ref:A}))}return h.createElement(UIe,{ref:w},$)});return r.displayName="CSSMotion",r}const Au=rTe(dZ);var SO="add",EO="keep",IO="remove",oR="removed";function iTe(t){var e;return t&&zt(t)==="object"&&"key"in t?e=t:e={key:t},_e(_e({},e),{},{key:String(e.key)})}function TO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(iTe)}function oTe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=TO(t),s=TO(e);o.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var f=s[d];if(f.key===c.key){r<d&&(n=n.concat(s.slice(r,d).map(function(p){return _e(_e({},p),{},{status:SO})})),r=d),n.push(_e(_e({},f),{},{status:EO})),r+=1,u=!0;break}}u||n.push(_e(_e({},c),{},{status:IO}))}),r<i&&(n=n.concat(s.slice(r).map(function(c){return _e(_e({},c),{},{status:SO})})));var a={};n.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,f=u.status;return d!==c||f!==IO}),n.forEach(function(u){u.key===c&&(u.status=EO)})}),n}var sTe=["component","children","onVisibleChanged","onAllRemoved"],aTe=["status"],lTe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function cTe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Au,n=function(r){kc(o,r);var i=Mc(o);function o(){var s;Wi(this,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),ve(Mt(s),"state",{keyEntities:[]}),ve(Mt(s),"removeKey",function(u){s.setState(function(d){var f=d.keyEntities.map(function(p){return p.key!==u?p:_e(_e({},p),{},{status:oR})});return{keyEntities:f}},function(){var d=s.state.keyEntities,f=d.filter(function(p){var v=p.status;return v!==oR}).length;f===0&&s.props.onAllRemoved&&s.props.onAllRemoved()})}),s}return Ui(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,f=c.onVisibleChanged;c.onAllRemoved;var p=bn(c,sTe),v=u||h.Fragment,y={};return lTe.forEach(function(b){y[b]=p[b],delete p[b]}),delete p.keys,h.createElement(v,p,l.map(function(b,x){var _=b.status,w=bn(b,aTe),E=_===SO||_===EO;return h.createElement(e,Q({},y,{key:w.key,visible:E,eventProps:w,onVisibleChanged:function(I){f==null||f(I,{key:w.key}),I||a.removeKey(w.key)}}),function(T,I){return d(_e(_e({},T),{},{index:x}),I)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,d=TO(c),f=oTe(u,d);return{keyEntities:f.filter(function(p){var v=u.find(function(y){var b=y.key;return p.key===b});return!(v&&v.status===oR&&p.status===IO)})}}}]),o}(h.Component);return ve(n,"defaultProps",{component:"div"}),n}const uTe=cTe(dZ);function dTe(t){const{children:e}=t,[,n]=Bo(),{motion:r}=n,i=h.useRef(!1);return i.current=i.current||r===!1,i.current?h.createElement(WIe,{motion:r},e):e}const fTe=()=>null;var hTe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pTe=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let nE,mZ,gZ,vZ;function CS(){return nE||lx}function mTe(){return mZ||tT}function gTe(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const vTe=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(nE=e),n!==void 0&&(mZ=n),"holderRender"in t&&(vZ=i),r&&(gTe(r)?mIe(CS(),r):gZ=r)},yZ=()=>({getPrefixCls:(t,e)=>e||(t?`${CS()}-${t}`:CS()),getIconPrefixCls:mTe,getRootPrefixCls:()=>nE||CS(),getTheme:()=>gZ,holderRender:vZ}),yTe=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:c,space:u,splitter:d,virtual:f,dropdownMatchSelectWidth:p,popupMatchSelectWidth:v,popupOverflow:y,legacyLocale:b,parentContext:x,iconPrefixCls:_,theme:w,componentDisabled:E,segmented:T,statistic:I,spin:S,calendar:P,carousel:R,cascader:O,collapse:N,typography:A,checkbox:$,descriptions:M,divider:F,drawer:z,skeleton:j,steps:B,image:W,layout:q,list:G,mentions:X,modal:ue,progress:te,result:J,slider:se,breadcrumb:ge,menu:le,pagination:we,input:ce,textArea:be,empty:K,badge:oe,radio:V,rate:ie,switch:re,transfer:ee,avatar:Y,message:he,tag:Ce,table:me,card:fe,tabs:ye,timeline:Te,timePicker:ke,upload:je,notification:de,tree:Se,colorPicker:Re,datePicker:Ve,rangePicker:De,flex:ze,wave:$e,dropdown:Ke,warning:Ae,tour:Ue,tooltip:rt,popover:mt,popconfirm:ot,floatButtonGroup:Bt,variant:Xt,inputNumber:Lt,treeSelect:en}=t,on=h.useCallback((Qe,at)=>{const{prefixCls:Ze}=t;if(at)return at;const Xe=Ze||x.getPrefixCls("");return Qe?`${Xe}-${Qe}`:Xe},[x.getPrefixCls,t.prefixCls]),xn=_||x.iconPrefixCls||tT,qt=n||x.csp;jIe(xn,qt);const St=VIe(w,x.theme,{prefixCls:on("")}),gt={csp:qt,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||b,direction:c,space:u,splitter:d,virtual:f,popupMatchSelectWidth:v??p,popupOverflow:y,getPrefixCls:on,iconPrefixCls:xn,theme:St,segmented:T,statistic:I,spin:S,calendar:P,carousel:R,cascader:O,collapse:N,typography:A,checkbox:$,descriptions:M,divider:F,drawer:z,skeleton:j,steps:B,image:W,input:ce,textArea:be,layout:q,list:G,mentions:X,modal:ue,progress:te,result:J,slider:se,breadcrumb:ge,menu:le,pagination:we,empty:K,badge:oe,radio:V,rate:ie,switch:re,transfer:ee,avatar:Y,message:he,tag:Ce,table:me,card:fe,tabs:ye,timeline:Te,timePicker:ke,upload:je,notification:de,tree:Se,colorPicker:Re,datePicker:Ve,rangePicker:De,flex:ze,wave:$e,dropdown:Ke,warning:Ae,tour:Ue,tooltip:rt,popover:mt,popconfirm:ot,floatButtonGroup:Bt,variant:Xt,inputNumber:Lt,treeSelect:en},lt=Object.assign({},x);Object.keys(gt).forEach(Qe=>{gt[Qe]!==void 0&&(lt[Qe]=gt[Qe])}),pTe.forEach(Qe=>{const at=t[Qe];at&&(lt[Qe]=at)}),typeof r<"u"&&(lt.button=Object.assign({autoInsertSpace:r},lt.button));const kt=vp(()=>lt,lt,(Qe,at)=>{const Ze=Object.keys(Qe),Xe=Object.keys(at);return Ze.length!==Xe.length||Ze.some(et=>Qe[et]!==at[et])}),{layer:Ie}=h.useContext(o_),Ee=h.useMemo(()=>({prefixCls:xn,csp:qt,layer:Ie?"antd":void 0}),[xn,qt,Ie]);let Pe=h.createElement(h.Fragment,null,h.createElement(fTe,{dropdownMatchSelectWidth:p}),e);const Be=h.useMemo(()=>{var Qe,at,Ze,Xe;return Vm(((Qe=rf.Form)===null||Qe===void 0?void 0:Qe.defaultValidateMessages)||{},((Ze=(at=kt.locale)===null||at===void 0?void 0:at.Form)===null||Ze===void 0?void 0:Ze.defaultValidateMessages)||{},((Xe=kt.form)===null||Xe===void 0?void 0:Xe.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[kt,s==null?void 0:s.validateMessages]);Object.keys(Be).length>0&&(Pe=h.createElement(UEe.Provider,{value:Be},Pe)),a&&(Pe=h.createElement(XEe,{locale:a,_ANT_MARK__:YEe},Pe)),Pe=h.createElement(LN.Provider,{value:Ee},Pe),l&&(Pe=h.createElement(gIe,{size:l},Pe)),Pe=h.createElement(dTe,null,Pe);const Le=h.useMemo(()=>{const Qe=St||{},{algorithm:at,token:Ze,components:Xe,cssVar:et}=Qe,st=hTe(Qe,["algorithm","token","components","cssVar"]),bt=at&&(!Array.isArray(at)||at.length>0)?oO(at):GX,Tt={};Object.entries(Xe||{}).forEach(Wt=>{let[pt,Vt]=Wt;const ht=Object.assign({},Vt);"algorithm"in ht&&(ht.algorithm===!0?ht.theme=bt:(Array.isArray(ht.algorithm)||typeof ht.algorithm=="function")&&(ht.theme=oO(ht.algorithm)),delete ht.algorithm),Tt[pt]=ht});const tn=Object.assign(Object.assign({},sx),Ze);return Object.assign(Object.assign({},st),{theme:bt,token:tn,components:Tt,override:Object.assign({override:tn},Tt),cssVar:et})},[St]);return w&&(Pe=h.createElement(YX.Provider,{value:Le},Pe)),kt.warning&&(Pe=h.createElement(WEe.Provider,{value:kt.warning},Pe)),E!==void 0&&(Pe=h.createElement(XX,{disabled:E},Pe)),h.createElement(Pn.Provider,{value:kt},Pe)},$u=t=>{const e=h.useContext(Pn),n=h.useContext(jN);return h.createElement(yTe,Object.assign({parentContext:e,legacyLocale:n},t))};$u.ConfigContext=Pn;$u.SizeContext=Xg;$u.config=vTe;$u.useConfig=vIe;Object.defineProperty($u,"SizeContext",{get:()=>Xg});var bTe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function bZ(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function xTe(t){return bZ(t)instanceof ShadowRoot}function rE(t){return xTe(t)?bZ(t):null}function _Te(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function wTe(t,e){pi(t,"[@ant-design/icons] ".concat(e))}function o6(t){return zt(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(zt(t.icon)==="object"||typeof t.icon=="function")}function s6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[_Te(n)]=r}return e},{})}function PO(t,e,n){return n?ae.createElement(t.tag,_e(_e({key:e},s6(t.attrs)),n),(t.children||[]).map(function(r,i){return PO(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):ae.createElement(t.tag,_e({key:e},s6(t.attrs)),(t.children||[]).map(function(r,i){return PO(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function xZ(t){return ax(t)[0]}function _Z(t){return t?Array.isArray(t)?t:[t]:[]}var CTe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,STe=function(e){var n=h.useContext(LN),r=n.csp,i=n.prefixCls,o=n.layer,s=CTe;i&&(s=s.replace(/anticon/g,i)),o&&(s="@layer ".concat(o,` {
`).concat(s,`
}`)),h.useEffect(function(){var a=e.current,l=rE(a);pu(s,"@ant-design-icons",{prepend:!o,csp:r,attachTo:l})},[])},ETe=["icon","className","onClick","style","primaryColor","secondaryColor"],G0={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ITe(t){var e=t.primaryColor,n=t.secondaryColor;G0.primaryColor=e,G0.secondaryColor=n||xZ(e),G0.calculated=!!n}function TTe(){return _e({},G0)}var Rv=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=bn(e,ETe),c=h.useRef(),u=G0;if(s&&(u={primaryColor:s,secondaryColor:a||xZ(s)}),STe(c),wTe(o6(n),"icon should be icon definiton, but got ".concat(n)),!o6(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=_e(_e({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),PO(d.icon,"svg-".concat(d.name),_e(_e({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Rv.displayName="IconReact";Rv.getTwoToneColors=TTe;Rv.setTwoToneColors=ITe;function wZ(t){var e=_Z(t),n=Fe(e,2),r=n[0],i=n[1];return Rv.setTwoToneColors({primaryColor:r,secondaryColor:i})}function PTe(){var t=Rv.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var RTe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];wZ(tE.primary);var Lr=h.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,o=t.rotate,s=t.tabIndex,a=t.onClick,l=t.twoToneColor,c=bn(t,RTe),u=h.useContext(LN),d=u.prefixCls,f=d===void 0?"anticon":d,p=u.rootClassName,v=Oe(p,f,ve(ve({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!i||r.name==="loading"),n),y=s;y===void 0&&a&&(y=-1);var b=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,x=_Z(l),_=Fe(x,2),w=_[0],E=_[1];return h.createElement("span",Q({role:"img","aria-label":r.name},c,{ref:e,tabIndex:y,onClick:a,className:v}),h.createElement(Rv,{icon:r,primaryColor:w,secondaryColor:E,style:b}))});Lr.displayName="AntdIcon";Lr.getTwoToneColor=PTe;Lr.setTwoToneColor=wZ;var kTe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:bTe}))},CZ=h.forwardRef(kTe),MTe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},OTe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:MTe}))},nT=h.forwardRef(OTe),DTe={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},ATe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:DTe}))},l_=h.forwardRef(ATe),$Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},NTe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:$Te}))},SZ=h.forwardRef(NTe),LTe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},jTe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:LTe}))},EZ=h.forwardRef(jTe),zTe=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,FTe=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,BTe="".concat(zTe," ").concat(FTe).split(/[\s\n]+/),VTe="aria-",HTe="data-";function a6(t,e){return t.indexOf(e)===0}function ms(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=_e({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||a6(i,VTe))||n.data&&a6(i,HTe)||n.attr&&BTe.includes(i))&&(r[i]=t[i])}),r}function IZ(t){return t&&ae.isValidElement(t)&&t.type===ae.Fragment}const TZ=(t,e,n)=>ae.isValidElement(t)?ae.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function Va(t,e){return TZ(t,t,e)}function RO(t){return t!=null&&t===t.window}const WTe=t=>{var e,n;if(typeof window>"u")return 0;let r=0;return RO(t)?r=t.pageYOffset:t instanceof Document?r=t.documentElement.scrollTop:(t instanceof HTMLElement||t)&&(r=t.scrollTop),t&&!RO(t)&&typeof r!="number"&&(r=(n=((e=t.ownerDocument)!==null&&e!==void 0?e:t).documentElement)===null||n===void 0?void 0:n.scrollTop),r};function UTe(t,e,n,r){const i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function KTe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:n=()=>window,callback:r,duration:i=450}=e,o=n(),s=WTe(o),a=Date.now(),l=()=>{const u=Date.now()-a,d=UTe(u>i?i:u,s,t,i);RO(o)?o.scrollTo(window.pageXOffset,d):o instanceof Document||o.constructor.name==="HTMLDocument"?o.documentElement.scrollTop=d:o.scrollTop=d,u<i?nr(l):typeof r=="function"&&r()};nr(l)}const Bs=t=>{const[,,,,e]=Bo();return e?`${t}-css-var`:""};var At={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},PZ=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.className,o=t.duration,s=o===void 0?4.5:o,a=t.showProgress,l=t.pauseOnHover,c=l===void 0?!0:l,u=t.eventKey,d=t.content,f=t.closable,p=t.closeIcon,v=p===void 0?"x":p,y=t.props,b=t.onClick,x=t.onNoticeClose,_=t.times,w=t.hovering,E=h.useState(!1),T=Fe(E,2),I=T[0],S=T[1],P=h.useState(0),R=Fe(P,2),O=R[0],N=R[1],A=h.useState(0),$=Fe(A,2),M=$[0],F=$[1],z=w||I,j=s>0&&a,B=function(){x(u)},W=function(J){(J.key==="Enter"||J.code==="Enter"||J.keyCode===At.ENTER)&&B()};h.useEffect(function(){if(!z&&s>0){var te=Date.now()-M,J=setTimeout(function(){B()},s*1e3-M);return function(){c&&clearTimeout(J),F(Date.now()-te)}}},[s,z,_]),h.useEffect(function(){if(!z&&j&&(c||M===0)){var te=performance.now(),J,se=function ge(){cancelAnimationFrame(J),J=requestAnimationFrame(function(le){var we=le+M-te,ce=Math.min(we/(s*1e3),1);N(ce*100),ce<1&&ge()})};return se(),function(){c&&cancelAnimationFrame(J)}}},[s,M,z,j,_]);var q=h.useMemo(function(){return zt(f)==="object"&&f!==null?f:f?{closeIcon:v}:{}},[f,v]),G=ms(q,!0),X=100-(!O||O<0?0:O>100?100:O),ue="".concat(n,"-notice");return h.createElement("div",Q({},y,{ref:e,className:Oe(ue,i,ve({},"".concat(ue,"-closable"),f)),style:r,onMouseEnter:function(J){var se;S(!0),y==null||(se=y.onMouseEnter)===null||se===void 0||se.call(y,J)},onMouseLeave:function(J){var se;S(!1),y==null||(se=y.onMouseLeave)===null||se===void 0||se.call(y,J)},onClick:b}),h.createElement("div",{className:"".concat(ue,"-content")},d),f&&h.createElement("a",Q({tabIndex:0,className:"".concat(ue,"-close"),onKeyDown:W,"aria-label":"Close"},G,{onClick:function(J){J.preventDefault(),J.stopPropagation(),B()}}),q.closeIcon),j&&h.createElement("progress",{className:"".concat(ue,"-progress"),max:"100",value:X},X+"%"))}),RZ=ae.createContext({}),qTe=function(e){var n=e.children,r=e.classNames;return ae.createElement(RZ.Provider,{value:{classNames:r}},n)},l6=8,c6=3,u6=16,GTe=function(e){var n={offset:l6,threshold:c6,gap:u6};if(e&&zt(e)==="object"){var r,i,o;n.offset=(r=e.offset)!==null&&r!==void 0?r:l6,n.threshold=(i=e.threshold)!==null&&i!==void 0?i:c6,n.gap=(o=e.gap)!==null&&o!==void 0?o:u6}return[!!e,n]},YTe=["className","style","classNames","styles"],XTe=function(e){var n=e.configList,r=e.placement,i=e.prefixCls,o=e.className,s=e.style,a=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,u=e.stack,d=h.useContext(RZ),f=d.classNames,p=h.useRef({}),v=h.useState(null),y=Fe(v,2),b=y[0],x=y[1],_=h.useState([]),w=Fe(_,2),E=w[0],T=w[1],I=n.map(function(z){return{config:z,key:String(z.key)}}),S=GTe(u),P=Fe(S,2),R=P[0],O=P[1],N=O.offset,A=O.threshold,$=O.gap,M=R&&(E.length>0||I.length<=A),F=typeof a=="function"?a(r):a;return h.useEffect(function(){R&&E.length>1&&T(function(z){return z.filter(function(j){return I.some(function(B){var W=B.key;return j===W})})})},[E,I,R]),h.useEffect(function(){var z;if(R&&p.current[(z=I[I.length-1])===null||z===void 0?void 0:z.key]){var j;x(p.current[(j=I[I.length-1])===null||j===void 0?void 0:j.key])}},[I,R]),ae.createElement(uTe,Q({key:r,className:Oe(i,"".concat(i,"-").concat(r),f==null?void 0:f.list,o,ve(ve({},"".concat(i,"-stack"),!!R),"".concat(i,"-stack-expanded"),M)),style:s,keys:I,motionAppear:!0},F,{onAllRemoved:function(){l(r)}}),function(z,j){var B=z.config,W=z.className,q=z.style,G=z.index,X=B,ue=X.key,te=X.times,J=String(ue),se=B,ge=se.className,le=se.style,we=se.classNames,ce=se.styles,be=bn(se,YTe),K=I.findIndex(function(Te){return Te.key===J}),oe={};if(R){var V=I.length-1-(K>-1?K:G-1),ie=r==="top"||r==="bottom"?"-50%":"0";if(V>0){var re,ee,Y;oe.height=M?(re=p.current[J])===null||re===void 0?void 0:re.offsetHeight:b==null?void 0:b.offsetHeight;for(var he=0,Ce=0;Ce<V;Ce++){var me;he+=((me=p.current[I[I.length-1-Ce].key])===null||me===void 0?void 0:me.offsetHeight)+$}var fe=(M?he:V*N)*(r.startsWith("top")?1:-1),ye=!M&&b!==null&&b!==void 0&&b.offsetWidth&&(ee=p.current[J])!==null&&ee!==void 0&&ee.offsetWidth?((b==null?void 0:b.offsetWidth)-N*2*(V<3?V:3))/((Y=p.current[J])===null||Y===void 0?void 0:Y.offsetWidth):1;oe.transform="translate3d(".concat(ie,", ").concat(fe,"px, 0) scaleX(").concat(ye,")")}else oe.transform="translate3d(".concat(ie,", 0, 0)")}return ae.createElement("div",{ref:j,className:Oe("".concat(i,"-notice-wrapper"),W,we==null?void 0:we.wrapper),style:_e(_e(_e({},q),oe),ce==null?void 0:ce.wrapper),onMouseEnter:function(){return T(function(ke){return ke.includes(J)?ke:[].concat(it(ke),[J])})},onMouseLeave:function(){return T(function(ke){return ke.filter(function(je){return je!==J})})}},ae.createElement(PZ,Q({},be,{ref:function(ke){K>-1?p.current[J]=ke:delete p.current[J]},prefixCls:i,classNames:we,styles:ce,className:Oe(ge,f==null?void 0:f.notice),style:le,times:te,key:ue,eventKey:ue,onNoticeClose:c,hovering:R&&E.length>0})))})},ZTe=h.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,i=t.container,o=t.motion,s=t.maxCount,a=t.className,l=t.style,c=t.onAllRemoved,u=t.stack,d=t.renderNotifications,f=h.useState([]),p=Fe(f,2),v=p[0],y=p[1],b=function(R){var O,N=v.find(function(A){return A.key===R});N==null||(O=N.onClose)===null||O===void 0||O.call(N),y(function(A){return A.filter(function($){return $.key!==R})})};h.useImperativeHandle(e,function(){return{open:function(R){y(function(O){var N=it(O),A=N.findIndex(function(F){return F.key===R.key}),$=_e({},R);if(A>=0){var M;$.times=(((M=O[A])===null||M===void 0?void 0:M.times)||0)+1,N[A]=$}else $.times=0,N.push($);return s>0&&N.length>s&&(N=N.slice(-s)),N})},close:function(R){b(R)},destroy:function(){y([])}}});var x=h.useState({}),_=Fe(x,2),w=_[0],E=_[1];h.useEffect(function(){var P={};v.forEach(function(R){var O=R.placement,N=O===void 0?"topRight":O;N&&(P[N]=P[N]||[],P[N].push(R))}),Object.keys(w).forEach(function(R){P[R]=P[R]||[]}),E(P)},[v]);var T=function(R){E(function(O){var N=_e({},O),A=N[R]||[];return A.length||delete N[R],N})},I=h.useRef(!1);if(h.useEffect(function(){Object.keys(w).length>0?I.current=!0:I.current&&(c==null||c(),I.current=!1)},[w]),!i)return null;var S=Object.keys(w);return js.createPortal(h.createElement(h.Fragment,null,S.map(function(P){var R=w[P],O=h.createElement(XTe,{key:P,configList:R,placement:P,prefixCls:r,className:a==null?void 0:a(P),style:l==null?void 0:l(P),motion:o,onNoticeClose:b,onAllNoticeRemoved:T,stack:u});return d?d(O,{prefixCls:r,key:P}):O})),i)}),QTe=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],JTe=function(){return document.body},d6=0;function e2e(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(o){var s=i[o];s!==void 0&&(t[o]=s)})}),t}function t2e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?JTe:e,r=t.motion,i=t.prefixCls,o=t.maxCount,s=t.className,a=t.style,l=t.onAllRemoved,c=t.stack,u=t.renderNotifications,d=bn(t,QTe),f=h.useState(),p=Fe(f,2),v=p[0],y=p[1],b=h.useRef(),x=h.createElement(ZTe,{container:v,ref:b,prefixCls:i,motion:r,maxCount:o,className:s,style:a,onAllRemoved:l,stack:c,renderNotifications:u}),_=h.useState([]),w=Fe(_,2),E=w[0],T=w[1],I=h.useMemo(function(){return{open:function(P){var R=e2e(d,P);(R.key===null||R.key===void 0)&&(R.key="rc-notification-".concat(d6),d6+=1),T(function(O){return[].concat(it(O),[{type:"open",config:R}])})},close:function(P){T(function(R){return[].concat(it(R),[{type:"close",key:P}])})},destroy:function(){T(function(P){return[].concat(it(P),[{type:"destroy"}])})}}},[]);return h.useEffect(function(){y(n())}),h.useEffect(function(){if(b.current&&E.length){E.forEach(function(R){switch(R.type){case"open":b.current.open(R.config);break;case"close":b.current.close(R.key);break;case"destroy":b.current.destroy();break}});var S,P;T(function(R){return(S!==R||!P)&&(S=R,P=R.filter(function(O){return!E.includes(O)})),P})}},[E]),[I,x]}var n2e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},r2e=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:n2e}))},c_=h.forwardRef(r2e);const rT=ae.createContext(void 0),td=100,i2e=10,kZ=td*i2e,MZ={Modal:td,Drawer:td,Popover:td,Popconfirm:td,Tooltip:td,Tour:td,FloatButton:td},o2e={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function s2e(t){return t in MZ}const u_=(t,e)=>{const[,n]=Bo(),r=ae.useContext(rT),i=s2e(t);let o;if(e!==void 0)o=[e,e];else{let s=r??0;i?s+=(r?0:n.zIndexPopupBase)+MZ[t]:s+=o2e[t],o=[r===void 0?e:s,s]}return o},a2e=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:i,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:p,borderRadiusLG:v,zIndexPopup:y,contentPadding:b,contentBg:x}=t,_=`${e}-notice`,w=new Qn("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:p,transform:"translateY(0)",opacity:1}}),E=new Qn("MessageMoveOut",{"0%":{maxHeight:t.height,padding:p,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),T={padding:p,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:f,fontSize:c},[`${_}-content`]:{display:"inline-block",padding:b,background:x,borderRadius:v,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:o},[`${e}-error > ${n}`]:{color:s},[`${e}-warning > ${n}`]:{color:a},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},Si(t)),{color:i,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:y,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:w,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:E,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${_}-wrapper`]:Object.assign({},T)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},T),{padding:0,textAlign:"start"})}]},l2e=t=>({zIndexPopup:t.zIndexPopupBase+kZ+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),OZ=gi("Message",t=>{const e=Jn(t,{height:150});return[a2e(e)]},l2e);var c2e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const u2e={info:h.createElement(EZ,null),success:h.createElement(CZ,null),error:h.createElement(nT,null),warning:h.createElement(SZ,null),loading:h.createElement(c_,null)},DZ=t=>{let{prefixCls:e,type:n,icon:r,children:i}=t;return h.createElement("div",{className:Oe(`${e}-custom-content`,`${e}-${n}`)},r||u2e[n],h.createElement("span",null,i))},d2e=t=>{const{prefixCls:e,className:n,type:r,icon:i,content:o}=t,s=c2e(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:a}=h.useContext(Pn),l=e||a("message"),c=Bs(l),[u,d,f]=OZ(l,c);return u(h.createElement(PZ,Object.assign({},s,{prefixCls:l,className:Oe(n,d,`${l}-notice-pure-panel`,f,c),eventKey:"pure",duration:null,content:h.createElement(DZ,{prefixCls:l,type:r,icon:i},o)})))};function f2e(t,e){return{motionName:e??`${t}-move-up`}}function FN(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e==null||e()};return r.then=(i,o)=>n.then(i,o),r.promise=n,r}var h2e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const p2e=8,m2e=3,g2e=t=>{let{children:e,prefixCls:n}=t;const r=Bs(n),[i,o,s]=OZ(n,r);return i(h.createElement(qTe,{classNames:{list:Oe(o,s,r)}},e))},v2e=(t,e)=>{let{prefixCls:n,key:r}=e;return h.createElement(g2e,{prefixCls:n,key:r},t)},y2e=h.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:o,duration:s=m2e,rtl:a,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:u,getPopupContainer:d,message:f,direction:p}=h.useContext(Pn),v=r||u("message"),y=()=>({left:"50%",transform:"translateX(-50%)",top:n??p2e}),b=()=>Oe({[`${v}-rtl`]:a??p==="rtl"}),x=()=>f2e(v,l),_=h.createElement("span",{className:`${v}-close-x`},h.createElement(l_,{className:`${v}-close-icon`})),[w,E]=t2e({prefixCls:v,style:y,className:b,motion:x,closable:!1,closeIcon:_,duration:s,getContainer:()=>(i==null?void 0:i())||(d==null?void 0:d())||document.body,maxCount:o,onAllRemoved:c,renderNotifications:v2e});return h.useImperativeHandle(e,()=>Object.assign(Object.assign({},w),{prefixCls:v,message:f})),E});let f6=0;function AZ(t){const e=h.useRef(null);return bp(),[h.useMemo(()=>{const r=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},i=l=>{if(!e.current){const I=()=>{};return I.then=()=>{},I}const{open:c,prefixCls:u,message:d}=e.current,f=`${u}-notice`,{content:p,icon:v,type:y,key:b,className:x,style:_,onClose:w}=l,E=h2e(l,["content","icon","type","key","className","style","onClose"]);let T=b;return T==null&&(f6+=1,T=`antd-message-${f6}`),FN(I=>(c(Object.assign(Object.assign({},E),{key:T,content:h.createElement(DZ,{prefixCls:u,type:y,icon:v},p),placement:"top",className:Oe(y&&`${f}-${y}`,x,d==null?void 0:d.className),style:Object.assign(Object.assign({},d==null?void 0:d.style),_),onClose:()=>{w==null||w(),I()}})),()=>{r(T)}))},s={open:i,destroy:l=>{var c;l!==void 0?r(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,d,f)=>{let p;u&&typeof u=="object"&&"content"in u?p=u:p={content:u};let v,y;typeof d=="function"?y=d:(v=d,y=f);const b=Object.assign(Object.assign({onClose:y,duration:v},p),{type:l});return i(b)};s[l]=c}),s},[]),h.createElement(y2e,Object.assign({key:"message-holder"},t,{ref:e}))]}function b2e(t){return AZ(t)}function x2e(){const[t,e]=h.useState([]),n=h.useCallback(r=>(e(i=>[].concat(it(i),[r])),()=>{e(i=>i.filter(o=>o!==r))}),[]);return[t,n]}function gs(){gs=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(z,j,B){z[j]=B.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(z,j,B){return Object.defineProperty(z,j,{value:B,enumerable:!0,configurable:!0,writable:!0}),z[j]}try{c({},"")}catch{c=function(B,W,q){return B[W]=q}}function u(z,j,B,W){var q=j&&j.prototype instanceof x?j:x,G=Object.create(q.prototype),X=new M(W||[]);return i(G,"_invoke",{value:O(z,B,X)}),G}function d(z,j,B){try{return{type:"normal",arg:z.call(j,B)}}catch(W){return{type:"throw",arg:W}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",v="executing",y="completed",b={};function x(){}function _(){}function w(){}var E={};c(E,s,function(){return this});var T=Object.getPrototypeOf,I=T&&T(T(F([])));I&&I!==n&&r.call(I,s)&&(E=I);var S=w.prototype=x.prototype=Object.create(E);function P(z){["next","throw","return"].forEach(function(j){c(z,j,function(B){return this._invoke(j,B)})})}function R(z,j){function B(q,G,X,ue){var te=d(z[q],z,G);if(te.type!=="throw"){var J=te.arg,se=J.value;return se&&zt(se)=="object"&&r.call(se,"__await")?j.resolve(se.__await).then(function(ge){B("next",ge,X,ue)},function(ge){B("throw",ge,X,ue)}):j.resolve(se).then(function(ge){J.value=ge,X(J)},function(ge){return B("throw",ge,X,ue)})}ue(te.arg)}var W;i(this,"_invoke",{value:function(G,X){function ue(){return new j(function(te,J){B(G,X,te,J)})}return W=W?W.then(ue,ue):ue()}})}function O(z,j,B){var W=f;return function(q,G){if(W===v)throw Error("Generator is already running");if(W===y){if(q==="throw")throw G;return{value:t,done:!0}}for(B.method=q,B.arg=G;;){var X=B.delegate;if(X){var ue=N(X,B);if(ue){if(ue===b)continue;return ue}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(W===f)throw W=y,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);W=v;var te=d(z,j,B);if(te.type==="normal"){if(W=B.done?y:p,te.arg===b)continue;return{value:te.arg,done:B.done}}te.type==="throw"&&(W=y,B.method="throw",B.arg=te.arg)}}}function N(z,j){var B=j.method,W=z.iterator[B];if(W===t)return j.delegate=null,B==="throw"&&z.iterator.return&&(j.method="return",j.arg=t,N(z,j),j.method==="throw")||B!=="return"&&(j.method="throw",j.arg=new TypeError("The iterator does not provide a '"+B+"' method")),b;var q=d(W,z.iterator,j.arg);if(q.type==="throw")return j.method="throw",j.arg=q.arg,j.delegate=null,b;var G=q.arg;return G?G.done?(j[z.resultName]=G.value,j.next=z.nextLoc,j.method!=="return"&&(j.method="next",j.arg=t),j.delegate=null,b):G:(j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,b)}function A(z){var j={tryLoc:z[0]};1 in z&&(j.catchLoc=z[1]),2 in z&&(j.finallyLoc=z[2],j.afterLoc=z[3]),this.tryEntries.push(j)}function $(z){var j=z.completion||{};j.type="normal",delete j.arg,z.completion=j}function M(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(A,this),this.reset(!0)}function F(z){if(z||z===""){var j=z[s];if(j)return j.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var B=-1,W=function q(){for(;++B<z.length;)if(r.call(z,B))return q.value=z[B],q.done=!1,q;return q.value=t,q.done=!0,q};return W.next=W}}throw new TypeError(zt(z)+" is not iterable")}return _.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:_,configurable:!0}),_.displayName=c(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(z){var j=typeof z=="function"&&z.constructor;return!!j&&(j===_||(j.displayName||j.name)==="GeneratorFunction")},e.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,w):(z.__proto__=w,c(z,l,"GeneratorFunction")),z.prototype=Object.create(S),z},e.awrap=function(z){return{__await:z}},P(R.prototype),c(R.prototype,a,function(){return this}),e.AsyncIterator=R,e.async=function(z,j,B,W,q){q===void 0&&(q=Promise);var G=new R(u(z,j,B,W),q);return e.isGeneratorFunction(j)?G:G.next().then(function(X){return X.done?X.value:G.next()})},P(S),c(S,l,"Generator"),c(S,s,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),e.keys=function(z){var j=Object(z),B=[];for(var W in j)B.push(W);return B.reverse(),function q(){for(;B.length;){var G=B.pop();if(G in j)return q.value=G,q.done=!1,q}return q.done=!0,q}},e.values=F,M.prototype={constructor:M,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach($),!j)for(var B in this)B.charAt(0)==="t"&&r.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=t)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var B=this;function W(J,se){return X.type="throw",X.arg=j,B.next=J,se&&(B.method="next",B.arg=t),!!se}for(var q=this.tryEntries.length-1;q>=0;--q){var G=this.tryEntries[q],X=G.completion;if(G.tryLoc==="root")return W("end");if(G.tryLoc<=this.prev){var ue=r.call(G,"catchLoc"),te=r.call(G,"finallyLoc");if(ue&&te){if(this.prev<G.catchLoc)return W(G.catchLoc,!0);if(this.prev<G.finallyLoc)return W(G.finallyLoc)}else if(ue){if(this.prev<G.catchLoc)return W(G.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return W(G.finallyLoc)}}}},abrupt:function(j,B){for(var W=this.tryEntries.length-1;W>=0;--W){var q=this.tryEntries[W];if(q.tryLoc<=this.prev&&r.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var G=q;break}}G&&(j==="break"||j==="continue")&&G.tryLoc<=B&&B<=G.finallyLoc&&(G=null);var X=G?G.completion:{};return X.type=j,X.arg=B,G?(this.method="next",this.next=G.finallyLoc,b):this.complete(X)},complete:function(j,B){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&B&&(this.next=B),b},finish:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var W=this.tryEntries[B];if(W.finallyLoc===j)return this.complete(W.completion,W.afterLoc),$(W),b}},catch:function(j){for(var B=this.tryEntries.length-1;B>=0;--B){var W=this.tryEntries[B];if(W.tryLoc===j){var q=W.completion;if(q.type==="throw"){var G=q.arg;$(W)}return G}}throw Error("illegal catch attempt")},delegateYield:function(j,B,W){return this.delegate={iterator:F(j),resultName:B,nextLoc:W},this.method==="next"&&(this.arg=t),b}},e}function h6(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function _p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){h6(o,r,i,s,a,"next",l)}function a(l){h6(o,r,i,s,a,"throw",l)}s(void 0)})}}var d_=_e({},zU),_2e=d_.version,sR=d_.render,w2e=d_.unmountComponentAtNode,iT;try{var C2e=Number((_2e||"").split(".")[0]);C2e>=18&&(iT=d_.createRoot)}catch{}function p6(t){var e=d_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&zt(e)==="object"&&(e.usingClientEntryPoint=t)}var iE="__rc_react_root__";function S2e(t,e){p6(!0);var n=e[iE]||iT(e);p6(!1),n.render(t),e[iE]=n}function E2e(t,e){sR==null||sR(t,e)}function I2e(t,e){if(iT){S2e(t,e);return}E2e(t,e)}function T2e(t){return kO.apply(this,arguments)}function kO(){return kO=_p(gs().mark(function t(e){return gs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[iE])===null||i===void 0||i.unmount(),delete e[iE]}));case 1:case"end":return r.stop()}},t)})),kO.apply(this,arguments)}function P2e(t){w2e(t)}function R2e(t){return MO.apply(this,arguments)}function MO(){return MO=_p(gs().mark(function t(e){return gs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(iT===void 0){r.next=2;break}return r.abrupt("return",T2e(e));case 2:P2e(e);case 3:case"end":return r.stop()}},t)})),MO.apply(this,arguments)}const k2e=(t,e)=>(I2e(t,e),()=>R2e(e));let M2e=k2e;function BN(){return M2e}const aR=()=>({height:0,opacity:0}),m6=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},O2e=t=>({height:t?t.offsetHeight:0}),lR=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",$Z=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:lx}-motion-collapse`,onAppearStart:aR,onEnterStart:aR,onAppearActive:m6,onEnterActive:m6,onLeaveStart:O2e,onLeaveActive:aR,onAppearEnd:lR,onEnterEnd:lR,onLeaveEnd:lR,motionDeadline:500}},Qg=(t,e,n)=>n!==void 0?n:`${t}-${e}`;function go(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}const oT=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},D2e=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},A2e=LIe("Wave",t=>[D2e(t)]),sT=`${lx}-wave-target`;function cR(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function $2e(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return cR(e)?e:cR(n)?n:cR(r)?r:null}function uR(t){return Number.isNaN(t)?0:t}const N2e=t=>{const{className:e,target:n,component:r,registerUnmount:i}=t,o=h.useRef(null),s=h.useRef(null);h.useEffect(()=>{s.current=i()},[]);const[a,l]=h.useState(null),[c,u]=h.useState([]),[d,f]=h.useState(0),[p,v]=h.useState(0),[y,b]=h.useState(0),[x,_]=h.useState(0),[w,E]=h.useState(!1),T={left:d,top:p,width:y,height:x,borderRadius:c.map(P=>`${P}px`).join(" ")};a&&(T["--wave-color"]=a);function I(){const P=getComputedStyle(n);l($2e(n));const R=P.position==="static",{borderLeftWidth:O,borderTopWidth:N}=P;f(R?n.offsetLeft:uR(-parseFloat(O))),v(R?n.offsetTop:uR(-parseFloat(N))),b(n.offsetWidth),_(n.offsetHeight);const{borderTopLeftRadius:A,borderTopRightRadius:$,borderBottomLeftRadius:M,borderBottomRightRadius:F}=P;u([A,$,F,M].map(z=>uR(parseFloat(z))))}if(h.useEffect(()=>{if(n){const P=nr(()=>{I(),E(!0)});let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(I),R.observe(n)),()=>{nr.cancel(P),R==null||R.disconnect()}}},[]),!w)return null;const S=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(sT));return h.createElement(Au,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(P,R)=>{var O,N;if(R.deadline||R.propertyName==="opacity"){const A=(O=o.current)===null||O===void 0?void 0:O.parentElement;(N=s.current)===null||N===void 0||N.call(s).then(()=>{A==null||A.remove()})}return!1}},(P,R)=>{let{className:O}=P;return h.createElement("div",{ref:Ya(o,R),className:Oe(e,O,{"wave-quick":S}),style:T})})},L2e=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild);const o=BN();let s=null;function a(){return s}s=o(h.createElement(N2e,Object.assign({},e,{target:t,registerUnmount:a})),i)},j2e=(t,e,n)=>{const{wave:r}=h.useContext(Pn),[,i,o]=Bo(),s=Or(c=>{const u=t.current;if(r!=null&&r.disabled||!u)return;const d=u.querySelector(`.${sT}`)||u,{showEffect:f}=r||{};(f||L2e)(d,{className:e,token:i,component:n,event:c,hashId:o})}),a=h.useRef(null);return c=>{nr.cancel(a.current),a.current=nr(()=>{s(c)})}},f_=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=h.useContext(Pn),o=h.useRef(null),s=i("wave"),[,a]=A2e(s),l=j2e(o,Oe(s,a),r);if(ae.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==1||n)return;const d=f=>{!oT(f.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(f)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!ae.isValidElement(e))return e??null;const c=xc(e)?Ya(yp(e),o):o;return Va(e,{ref:c})},El=t=>{const e=ae.useContext(Xg);return ae.useMemo(()=>t?typeof t=="string"?t??e:typeof t=="function"?t(e):e:e,[t,e])},z2e=t=>{const{componentCls:e}=t;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},F2e=t=>{const{componentCls:e,antCls:n}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},B2e=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},NZ=gi("Space",t=>{const e=Jn(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[F2e(e),B2e(e),z2e(e)]},()=>({}),{resetStyle:!1});var LZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const aT=h.createContext(null),kv=(t,e)=>{const n=h.useContext(aT),r=h.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return Oe(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},V2e=t=>{const{children:e}=t;return h.createElement(aT.Provider,{value:null},e)},H2e=t=>{const{children:e}=t,n=LZ(t,["children"]);return h.createElement(aT.Provider,{value:h.useMemo(()=>n,[n])},e)},W2e=t=>{const{getPrefixCls:e,direction:n}=h.useContext(Pn),{size:r,direction:i,block:o,prefixCls:s,className:a,rootClassName:l,children:c}=t,u=LZ(t,["size","direction","block","prefixCls","className","rootClassName","children"]),d=El(w=>r??w),f=e("space-compact",s),[p,v]=NZ(f),y=Oe(f,v,{[`${f}-rtl`]:n==="rtl",[`${f}-block`]:o,[`${f}-vertical`]:i==="vertical"},a,l),b=h.useContext(aT),x=vl(c),_=h.useMemo(()=>x.map((w,E)=>{const T=(w==null?void 0:w.key)||`${f}-item-${E}`;return h.createElement(H2e,{key:T,compactSize:d,compactDirection:i,isFirstItem:E===0&&(!b||(b==null?void 0:b.isFirstItem)),isLastItem:E===x.length-1&&(!b||(b==null?void 0:b.isLastItem))},w)}),[r,x,b]);return x.length===0?null:p(h.createElement("div",Object.assign({className:y},u),_))};var U2e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jZ=h.createContext(void 0),K2e=t=>{const{getPrefixCls:e,direction:n}=h.useContext(Pn),{prefixCls:r,size:i,className:o}=t,s=U2e(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=Bo(),c=h.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),u=Oe(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},o,l);return h.createElement(jZ.Provider,{value:i},h.createElement("div",Object.assign({},s,{className:u})))},g6=/^[\u4E00-\u9FA5]{2}$/,OO=g6.test.bind(g6);function zZ(t){return t==="danger"?{danger:!0}:{type:t}}function v6(t){return typeof t=="string"}function dR(t){return t==="text"||t==="link"}function q2e(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&v6(t.type)&&OO(t.props.children)?Va(t,{children:t.props.children.split("").join(n)}):v6(t)?OO(t)?ae.createElement("span",null,t.split("").join(n)):ae.createElement("span",null,t):IZ(t)?ae.createElement("span",null,t):t}function G2e(t,e){let n=!1;const r=[];return ae.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),ae.Children.map(r,i=>q2e(i,e))}["default","primary","danger"].concat(it(Qh));const DO=h.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=Oe(`${o}-icon`,n);return ae.createElement("span",{ref:e,className:s,style:r},i)}),y6=h.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:i,iconClassName:o}=t,s=Oe(`${n}-loading-icon`,r);return ae.createElement(DO,{prefixCls:n,className:s,style:i,ref:e},ae.createElement(c_,{className:o}))}),fR=()=>({width:0,opacity:0,transform:"scale(0)"}),hR=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),Y2e=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o,mount:s}=t,a=!!n;return r?ae.createElement(y6,{prefixCls:e,className:i,style:o}):ae.createElement(Au,{visible:a,motionName:`${e}-loading-icon-motion`,motionAppear:!s,motionEnter:!s,motionLeave:!s,removeOnLeave:!0,onAppearStart:fR,onAppearActive:hR,onEnterStart:fR,onEnterActive:hR,onLeaveStart:hR,onLeaveActive:fR},(l,c)=>{let{className:u,style:d}=l;const f=Object.assign(Object.assign({},o),d);return ae.createElement(y6,{prefixCls:e,className:Oe(i,u),style:f,ref:c})})},b6=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),X2e=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},b6(`${e}-primary`,i),b6(`${e}-danger`,o)]}};var Z2e=["b"],Q2e=["v"],pR=function(e){return Math.round(Number(e||0))},J2e=function(e){if(e instanceof Xn)return e;if(e&&zt(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,i=bn(n,Z2e);return _e(_e({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},dx=function(t){kc(n,t);var e=Mc(n);function n(r){return Wi(this,n),e.call(this,J2e(r))}return Ui(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=pR(i.s*100),s=pR(i.b*100),a=pR(i.h),l=i.a,c="hsb(".concat(a,", ").concat(o,"%, ").concat(s,"%)"),u="hsba(".concat(a,", ").concat(o,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv(),o=i.v,s=bn(i,Q2e);return _e(_e({},s),{},{b:o,a:this.a})}}]),n}(Xn),ePe=function(e){return e instanceof dx?e:new dx(e)};ePe("#1677ff");const tPe=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",nPe=(t,e)=>t?tPe(t,e):"";let rPe=function(){function t(e){Wi(this,t);var n;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(n=e.colors)===null||n===void 0?void 0:n.map(i=>({color:new t(i.color),percent:i.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(i=>{let{color:o,percent:s}=i;return{color:new t(o),percent:s}}),this.metaColor=new dx(this.colors[0].color.metaColor)):this.metaColor=new dx(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return Ui(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return nPe(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const o=n.colors[i];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===n.toHexString()}}])}();var iPe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},oPe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:iPe}))},AO=h.forwardRef(oPe);const FZ=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),sPe=t=>({animationDuration:t,animationFillMode:"both"}),aPe=t=>({animationDuration:t,animationFillMode:"both"}),lT=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},sPe(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},aPe(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},lPe=new Qn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),cPe=new Qn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),uPe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r=`${n}-fade`,i=e?"&":"";return[lT(r,lPe,cPe,t.motionDurationMid,e),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},dPe=new Qn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),fPe=new Qn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),hPe=new Qn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),pPe=new Qn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),mPe=new Qn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),gPe=new Qn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),vPe=new Qn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),yPe=new Qn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),bPe={"move-up":{inKeyframes:vPe,outKeyframes:yPe},"move-down":{inKeyframes:dPe,outKeyframes:fPe},"move-left":{inKeyframes:hPe,outKeyframes:pPe},"move-right":{inKeyframes:mPe,outKeyframes:gPe}},oE=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=bPe[e];return[lT(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},VN=new Qn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),HN=new Qn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),WN=new Qn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),UN=new Qn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),xPe=new Qn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),_Pe=new Qn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),wPe=new Qn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),CPe=new Qn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),SPe={"slide-up":{inKeyframes:VN,outKeyframes:HN},"slide-down":{inKeyframes:WN,outKeyframes:UN},"slide-left":{inKeyframes:xPe,outKeyframes:_Pe},"slide-right":{inKeyframes:wPe,outKeyframes:CPe}},Jg=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=SPe[e];return[lT(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},EPe=new Qn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),IPe=new Qn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),x6=new Qn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),_6=new Qn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),TPe=new Qn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),PPe=new Qn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),RPe=new Qn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),kPe=new Qn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),MPe=new Qn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),OPe=new Qn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),DPe=new Qn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),APe=new Qn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),$Pe={zoom:{inKeyframes:EPe,outKeyframes:IPe},"zoom-big":{inKeyframes:x6,outKeyframes:_6},"zoom-big-fast":{inKeyframes:x6,outKeyframes:_6},"zoom-left":{inKeyframes:RPe,outKeyframes:kPe},"zoom-right":{inKeyframes:MPe,outKeyframes:OPe},"zoom-up":{inKeyframes:TPe,outKeyframes:PPe},"zoom-down":{inKeyframes:DPe,outKeyframes:APe}},cT=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=$Pe[e];return[lT(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},NPe=(t,e)=>{const{r:n,g:r,b:i,a:o}=t.toRgb(),s=new dx(t.toRgbString()).onBackground(e).toHsv();return o<=.5?s.v>.5:n*.299+r*.587+i*.114>192},BZ=t=>{const{paddingInline:e,onlyIconSize:n}=t;return Jn(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},VZ=t=>{var e,n,r,i,o,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,u=(i=t.contentLineHeight)!==null&&i!==void 0?i:wS(a),d=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:wS(l),f=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:wS(c),p=NPe(new rPe(t.colorBgSolid),"#fff")?"#000":"#fff",v=Qh.reduce((y,b)=>Object.assign(Object.assign({},y),{[`${b}ShadowColor`]:`0 ${Ne(t.controlOutlineWidth)} 0 ${b0(t[`${b}1`],t.colorBgContainer)}`}),{});return Object.assign(Object.assign({},v),{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorFillTertiary,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:p,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((t.controlHeight-a*u)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*d)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*f)/2-t.lineWidth,0)})},LPe=t=>{const{componentCls:e,iconCls:n,fontWeight:r,opacityLoading:i,motionDurationSlow:o,motionEaseInOut:s,marginXS:a,calc:l}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Ne(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:s_(),"> a":{color:"currentColor"},"&:not(:disabled)":Jh(t),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"},[`&${e}-round`]:{width:"auto"}},[`&${e}-loading`]:{opacity:i,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(c=>`${c} ${o} ${s}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(a).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(a).mul(-1).equal()}}}}}},HZ=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),jPe=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),zPe=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),FPe=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),uT=(t,e,n,r,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},HZ(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),BPe=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},FPe(t))}),VPe=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),dT=(t,e,n,r)=>{const o=r&&["link","text"].includes(r)?VPe:BPe;return Object.assign(Object.assign({},o(t)),HZ(t.componentCls,e,n))},fT=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:n},dT(t,r,i))}),hT=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:n},dT(t,r,i))}),pT=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),mT=(t,e,n,r)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},dT(t,n,r))}),wc=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-${n}`]:Object.assign({color:e,boxShadow:"none"},dT(t,r,i,n))}),HPe=t=>{const{componentCls:e}=t;return Qh.reduce((n,r)=>{const i=t[`${r}6`],o=t[`${r}1`],s=t[`${r}5`],a=t[`${r}2`],l=t[`${r}3`],c=t[`${r}7`];return Object.assign(Object.assign({},n),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:t[`${r}ShadowColor`]},fT(t,t.colorTextLightSolid,i,{background:s},{background:c})),hT(t,i,t.colorBgContainer,{color:s,borderColor:s,background:t.colorBgContainer},{color:c,borderColor:c,background:t.colorBgContainer})),pT(t)),mT(t,o,{background:a},{background:l})),wc(t,i,"link",{color:s},{color:c})),wc(t,i,"text",{color:s,background:o},{color:c,background:l}))})},{})},WPe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},fT(t,t.solidTextColor,t.colorBgSolid,{color:t.solidTextColor,background:t.colorBgSolidHover},{color:t.solidTextColor,background:t.colorBgSolidActive})),pT(t)),mT(t,t.colorFillTertiary,{background:t.colorFillSecondary},{background:t.colorFill})),uT(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),wc(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),UPe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},hT(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),pT(t)),mT(t,t.colorPrimaryBg,{background:t.colorPrimaryBgHover},{background:t.colorPrimaryBorder})),wc(t,t.colorPrimaryText,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),wc(t,t.colorPrimaryText,"link",{color:t.colorPrimaryTextHover,background:t.linkHoverBg},{color:t.colorPrimaryTextActive})),uT(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),KPe=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},fT(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),hT(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),pT(t)),mT(t,t.colorErrorBg,{background:t.colorErrorBgFilledHover},{background:t.colorErrorBgActive})),wc(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),wc(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),uT(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),qPe=t=>Object.assign(Object.assign({},wc(t,t.colorLink,"link",{color:t.colorLinkHover},{color:t.colorLinkActive})),uT(t.componentCls,t.ghostBg,t.colorInfo,t.colorInfo,t.colorTextDisabled,t.colorBorder,{color:t.colorInfoHover,borderColor:t.colorInfoHover},{color:t.colorInfoActive,borderColor:t.colorInfoActive})),GPe=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-color-default`]:WPe(t),[`${e}-color-primary`]:UPe(t),[`${e}-color-dangerous`]:KPe(t),[`${e}-color-link`]:qPe(t)},HPe(t))},YPe=t=>Object.assign(Object.assign(Object.assign(Object.assign({},hT(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),wc(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),fT(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),wc(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),KN=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:o,buttonPaddingHorizontal:s,iconCls:a,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=t;return[{[e]:{fontSize:i,height:r,padding:`${Ne(l)} ${Ne(s)}`,borderRadius:o,[`&${n}-icon-only`]:{width:r,[a]:{fontSize:c}}}},{[`${n}${n}-circle${e}`]:jPe(t)},{[`${n}${n}-round${e}`]:zPe(t)}]},XPe=t=>{const e=Jn(t,{fontSize:t.contentFontSize});return KN(e,t.componentCls)},ZPe=t=>{const e=Jn(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:0,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return KN(e,`${t.componentCls}-sm`)},QPe=t=>{const e=Jn(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:0,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return KN(e,`${t.componentCls}-lg`)},JPe=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},eRe=gi("Button",t=>{const e=BZ(t);return[LPe(e),XPe(e),ZPe(e),QPe(e),JPe(e),GPe(e),YPe(e),X2e(e)]},VZ,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function tRe(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function nRe(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function qN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},tRe(t,r,e)),nRe(n,r,e))}}function rRe(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function iRe(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function oRe(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},rRe(t,e)),iRe(t.componentCls,e))}}const sRe=t=>{const{componentCls:e,colorPrimaryHover:n,lineWidth:r,calc:i}=t,o=i(r).mul(-1).equal(),s=a=>{const l=`${e}-compact${a?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:a?o:0,insetInlineStart:a?0:o,backgroundColor:n,content:'""',width:a?"100%":r,height:a?r:"100%"}}};return Object.assign(Object.assign({},s()),s(!0))},aRe=a_(["Button","compact"],t=>{const e=BZ(t);return[qN(e),oRe(e),sRe(e)]},VZ);var lRe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cRe(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const uRe={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},dRe=ae.forwardRef((t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,color:s,variant:a,type:l,danger:c=!1,shape:u="default",size:d,styles:f,disabled:p,className:v,rootClassName:y,children:b,icon:x,iconPosition:_="start",ghost:w=!1,block:E=!1,htmlType:T="button",classNames:I,style:S={},autoInsertSpace:P,autoFocus:R}=t,O=lRe(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),N=l||"default",[A,$]=h.useMemo(()=>{if(s&&a)return[s,a];const Ae=uRe[N]||[];return c?["danger",Ae[1]]:Ae},[l,s,a,c]),F=A==="danger"?"dangerous":A,{getPrefixCls:z,direction:j,autoInsertSpace:B,className:W,style:q,classNames:G,styles:X}=Oc("button"),ue=(n=P??B)!==null&&n!==void 0?n:!0,te=z("btn",o),[J,se,ge]=eRe(te),le=h.useContext(yl),we=p??le,ce=h.useContext(jZ),be=h.useMemo(()=>cRe(i),[i]),[K,oe]=h.useState(be.loading),[V,ie]=h.useState(!1),re=h.useRef(null),ee=xf(e,re),Y=h.Children.count(b)===1&&!x&&!dR($),he=h.useRef(!0);ae.useEffect(()=>(he.current=!1,()=>{he.current=!0}),[]),h.useEffect(()=>{let Ae=null;be.delay>0?Ae=setTimeout(()=>{Ae=null,oe(!0)},be.delay):oe(be.loading);function Ue(){Ae&&(clearTimeout(Ae),Ae=null)}return Ue},[be]),h.useEffect(()=>{if(!re.current||!ue)return;const Ae=re.current.textContent||"";Y&&OO(Ae)?V||ie(!0):V&&ie(!1)}),h.useEffect(()=>{R&&re.current&&re.current.focus()},[]);const Ce=ae.useCallback(Ae=>{var Ue;if(K||we){Ae.preventDefault();return}(Ue=t.onClick)===null||Ue===void 0||Ue.call(t,("href"in t,Ae))},[t.onClick,K,we]),{compactSize:me,compactItemClassnames:fe}=kv(te,j),ye={large:"lg",small:"sm",middle:void 0},Te=El(Ae=>{var Ue,rt;return(rt=(Ue=d??me)!==null&&Ue!==void 0?Ue:ce)!==null&&rt!==void 0?rt:Ae}),ke=Te&&(r=ye[Te])!==null&&r!==void 0?r:"",je=K?"loading":x,de=go(O,["navigate"]),Se=Oe(te,se,ge,{[`${te}-${u}`]:u!=="default"&&u,[`${te}-${N}`]:N,[`${te}-dangerous`]:c,[`${te}-color-${F}`]:F,[`${te}-variant-${$}`]:$,[`${te}-${ke}`]:ke,[`${te}-icon-only`]:!b&&b!==0&&!!je,[`${te}-background-ghost`]:w&&!dR($),[`${te}-loading`]:K,[`${te}-two-chinese-chars`]:V&&ue&&!K,[`${te}-block`]:E,[`${te}-rtl`]:j==="rtl",[`${te}-icon-end`]:_==="end"},fe,v,y,W),Re=Object.assign(Object.assign({},q),S),Ve=Oe(I==null?void 0:I.icon,G.icon),De=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),X.icon||{}),ze=x&&!K?ae.createElement(DO,{prefixCls:te,className:Ve,style:De},x):i&&typeof i=="object"&&i.icon?ae.createElement(DO,{prefixCls:te,className:Ve,style:De},i.icon):ae.createElement(Y2e,{existIcon:!!x,prefixCls:te,loading:K,mount:he.current}),$e=b||b===0?G2e(b,Y&&ue):null;if(de.href!==void 0)return J(ae.createElement("a",Object.assign({},de,{className:Oe(Se,{[`${te}-disabled`]:we}),href:we?void 0:de.href,style:Re,onClick:Ce,ref:ee,tabIndex:we?-1:0}),ze,$e));let Ke=ae.createElement("button",Object.assign({},O,{type:T,className:Se,style:Re,onClick:Ce,disabled:we,ref:ee}),ze,$e,fe&&ae.createElement(aRe,{prefixCls:te}));return dR($)||(Ke=ae.createElement(f_,{component:"Button",disabled:K},Ke)),J(Ke)}),Ha=dRe;Ha.Group=K2e;Ha.__ANT_BUTTON=!0;function mR(t){return!!(t!=null&&t.then)}const WZ=t=>{const{type:e,children:n,prefixCls:r,buttonProps:i,close:o,autoFocus:s,emitEvent:a,isSilent:l,quitOnNullishReturnValue:c,actionFn:u}=t,d=h.useRef(!1),f=h.useRef(null),[p,v]=Zg(!1),y=function(){o==null||o.apply(void 0,arguments)};h.useEffect(()=>{let _=null;return s&&(_=setTimeout(()=>{var w;(w=f.current)===null||w===void 0||w.focus({preventScroll:!0})})),()=>{_&&clearTimeout(_)}},[]);const b=_=>{mR(_)&&(v(!0),_.then(function(){v(!1,!0),y.apply(void 0,arguments),d.current=!1},w=>{if(v(!1,!0),d.current=!1,!(l!=null&&l()))return Promise.reject(w)}))},x=_=>{if(d.current)return;if(d.current=!0,!u){y();return}let w;if(a){if(w=u(_),c&&!mR(w)){d.current=!1,y(_);return}}else if(u.length)w=u(o),d.current=!1;else if(w=u(),!mR(w)){y();return}b(w)};return h.createElement(Ha,Object.assign({},zZ(e),{onClick:x,loading:p,prefixCls:r},i,{ref:f}),n)},h_=ae.createContext({}),{Provider:UZ}=h_,w6=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:o,close:s,onCancel:a,onConfirm:l}=h.useContext(h_);return i?ae.createElement(WZ,{isSilent:r,actionFn:a,close:function(){s==null||s.apply(void 0,arguments),l==null||l(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:`${o}-btn`},n):null},C6=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:o,okType:s,onConfirm:a,onOk:l}=h.useContext(h_);return ae.createElement(WZ,{isSilent:n,type:s||"primary",actionFn:l,close:function(){e==null||e.apply(void 0,arguments),a==null||a(!0)},autoFocus:t==="ok",buttonProps:r,prefixCls:`${i}-btn`},o)};var KZ=h.createContext(null),S6=[];function fRe(t,e){var n=h.useState(function(){if(!zo())return null;var v=document.createElement("div");return v}),r=Fe(n,1),i=r[0],o=h.useRef(!1),s=h.useContext(KZ),a=h.useState(S6),l=Fe(a,2),c=l[0],u=l[1],d=s||(o.current?void 0:function(v){u(function(y){var b=[v].concat(it(y));return b})});function f(){i.parentElement||document.body.appendChild(i),o.current=!0}function p(){var v;(v=i.parentElement)===null||v===void 0||v.removeChild(i),o.current=!1}return gr(function(){return t?s?s(f):f():p(),p},[t]),gr(function(){c.length&&(c.forEach(function(v){return v()}),u(S6))},[c]),[i,d]}var gR;function qZ(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,o;if(t){var s=getComputedStyle(t);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(a.width,10),c=parseInt(a.height,10);try{var u=l?"width: ".concat(a.width,";"):"",d=c?"height: ".concat(a.height,";"):"";pu(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(u,`
`).concat(d,`
}`),e)}catch(v){console.error(v),i=l,o=c}}document.body.appendChild(n);var f=t&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,p=t&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),ix(e),{width:f,height:p}}function E6(t){return typeof document>"u"?0:(gR===void 0&&(gR=qZ()),gR.width)}function $O(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:qZ(t)}function hRe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var pRe="rc-util-locker-".concat(Date.now()),I6=0;function mRe(t){var e=!!t,n=h.useState(function(){return I6+=1,"".concat(pRe,"_").concat(I6)}),r=Fe(n,1),i=r[0];gr(function(){if(e){var o=$O(document.body).width,s=hRe();pu(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else ix(i);return function(){ix(i)}},[e,i])}var gRe=!1;function vRe(t){return gRe}var T6=function(e){return e===!1?!1:!zo()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},GN=h.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,s=o===void 0?!0:o,a=t.children,l=h.useState(n),c=Fe(l,2),u=c[0],d=c[1],f=u||n;h.useEffect(function(){(s||n)&&d(n)},[n,s]);var p=h.useState(function(){return T6(i)}),v=Fe(p,2),y=v[0],b=v[1];h.useEffect(function(){var N=T6(i);b(N??null)});var x=fRe(f&&!y),_=Fe(x,2),w=_[0],E=_[1],T=y??w;mRe(r&&n&&zo()&&(T===w||T===document.body));var I=null;if(a&&xc(a)&&e){var S=a;I=S.ref}var P=xf(I,e);if(!f||!zo()||y===void 0)return null;var R=T===!1||vRe(),O=a;return e&&(O=h.cloneElement(a,{ref:P})),h.createElement(KZ.Provider,{value:E},R?O:js.createPortal(O,T))}),GZ=h.createContext({});function yRe(){var t=_e({},vu);return t.useId}var P6=0,R6=yRe();const gT=R6?function(e){var n=R6();return e||n}:function(e){var n=h.useState("ssr-id"),r=Fe(n,2),i=r[0],o=r[1];return h.useEffect(function(){var s=P6;P6+=1,o("rc_unique_".concat(s))},[]),e||i};function k6(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function M6(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function bRe(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=M6(i),n.top+=M6(i,!0),n}const xRe=h.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var _Re={width:0,height:0,overflow:"hidden",outline:"none"},wRe={outline:"none"},YZ=ae.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,s=t.ariaId,a=t.footer,l=t.closable,c=t.closeIcon,u=t.onClose,d=t.children,f=t.bodyStyle,p=t.bodyProps,v=t.modalRender,y=t.onMouseDown,b=t.onMouseUp,x=t.holderRef,_=t.visible,w=t.forceRender,E=t.width,T=t.height,I=t.classNames,S=t.styles,P=ae.useContext(GZ),R=P.panel,O=xf(x,R),N=h.useRef(),A=h.useRef();ae.useImperativeHandle(e,function(){return{focus:function(){var X;(X=N.current)===null||X===void 0||X.focus({preventScroll:!0})},changeActive:function(X){var ue=document,te=ue.activeElement;X&&te===A.current?N.current.focus({preventScroll:!0}):!X&&te===N.current&&A.current.focus({preventScroll:!0})}}});var $={};E!==void 0&&($.width=E),T!==void 0&&($.height=T);var M=a?ae.createElement("div",{className:Oe("".concat(n,"-footer"),I==null?void 0:I.footer),style:_e({},S==null?void 0:S.footer)},a):null,F=o?ae.createElement("div",{className:Oe("".concat(n,"-header"),I==null?void 0:I.header),style:_e({},S==null?void 0:S.header)},ae.createElement("div",{className:"".concat(n,"-title"),id:s},o)):null,z=h.useMemo(function(){return zt(l)==="object"&&l!==null?l:l?{closeIcon:c??ae.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[l,c,n]),j=ms(z,!0),B=zt(l)==="object"&&l.disabled,W=l?ae.createElement("button",Q({type:"button",onClick:u,"aria-label":"Close"},j,{className:"".concat(n,"-close"),disabled:B}),z.closeIcon):null,q=ae.createElement("div",{className:Oe("".concat(n,"-content"),I==null?void 0:I.content),style:S==null?void 0:S.content},W,F,ae.createElement("div",Q({className:Oe("".concat(n,"-body"),I==null?void 0:I.body),style:_e(_e({},f),S==null?void 0:S.body)},p),d),M);return ae.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:O,style:_e(_e({},i),$),className:Oe(n,r),onMouseDown:y,onMouseUp:b},ae.createElement("div",{ref:N,tabIndex:0,style:wRe},ae.createElement(xRe,{shouldUpdate:_||w},v?v(q):q)),ae.createElement("div",{tabIndex:0,ref:A,style:_Re}))}),XZ=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,s=t.visible,a=t.forceRender,l=t.destroyOnClose,c=t.motionName,u=t.ariaId,d=t.onVisibleChanged,f=t.mousePosition,p=h.useRef(),v=h.useState(),y=Fe(v,2),b=y[0],x=y[1],_={};b&&(_.transformOrigin=b);function w(){var E=bRe(p.current);x(f&&(f.x||f.y)?"".concat(f.x-E.left,"px ").concat(f.y-E.top,"px"):"")}return h.createElement(Au,{visible:s,onVisibleChanged:d,onAppearPrepare:w,onEnterPrepare:w,forceRender:a,motionName:c,removeOnLeave:l,ref:p},function(E,T){var I=E.className,S=E.style;return h.createElement(YZ,Q({},t,{ref:e,title:r,ariaId:u,prefixCls:n,holderRef:T,style:_e(_e(_e({},S),i),_),className:Oe(o,I)}))})});XZ.displayName="Content";var CRe=function(e){var n=e.prefixCls,r=e.style,i=e.visible,o=e.maskProps,s=e.motionName,a=e.className;return h.createElement(Au,{key:"mask",visible:i,motionName:s,leavedClassName:"".concat(n,"-mask-hidden")},function(l,c){var u=l.className,d=l.style;return h.createElement("div",Q({ref:c,style:_e(_e({},d),r),className:Oe("".concat(n,"-mask"),u,a)},o))})},SRe=function(e){var n=e.prefixCls,r=n===void 0?"rc-dialog":n,i=e.zIndex,o=e.visible,s=o===void 0?!1:o,a=e.keyboard,l=a===void 0?!0:a,c=e.focusTriggerAfterClose,u=c===void 0?!0:c,d=e.wrapStyle,f=e.wrapClassName,p=e.wrapProps,v=e.onClose,y=e.afterOpenChange,b=e.afterClose,x=e.transitionName,_=e.animation,w=e.closable,E=w===void 0?!0:w,T=e.mask,I=T===void 0?!0:T,S=e.maskTransitionName,P=e.maskAnimation,R=e.maskClosable,O=R===void 0?!0:R,N=e.maskStyle,A=e.maskProps,$=e.rootClassName,M=e.classNames,F=e.styles,z=h.useRef(),j=h.useRef(),B=h.useRef(),W=h.useState(s),q=Fe(W,2),G=q[0],X=q[1],ue=gT();function te(){nO(j.current,document.activeElement)||(z.current=document.activeElement)}function J(){if(!nO(j.current,document.activeElement)){var ie;(ie=B.current)===null||ie===void 0||ie.focus()}}function se(ie){if(ie)J();else{if(X(!1),I&&z.current&&u){try{z.current.focus({preventScroll:!0})}catch{}z.current=null}G&&(b==null||b())}y==null||y(ie)}function ge(ie){v==null||v(ie)}var le=h.useRef(!1),we=h.useRef(),ce=function(){clearTimeout(we.current),le.current=!0},be=function(){we.current=setTimeout(function(){le.current=!1})},K=null;O&&(K=function(re){le.current?le.current=!1:j.current===re.target&&ge(re)});function oe(ie){if(l&&ie.keyCode===At.ESC){ie.stopPropagation(),ge(ie);return}s&&ie.keyCode===At.TAB&&B.current.changeActive(!ie.shiftKey)}h.useEffect(function(){s&&(X(!0),te())},[s]),h.useEffect(function(){return function(){clearTimeout(we.current)}},[]);var V=_e(_e(_e({zIndex:i},d),F==null?void 0:F.wrapper),{},{display:G?null:"none"});return h.createElement("div",Q({className:Oe("".concat(r,"-root"),$)},ms(e,{data:!0})),h.createElement(CRe,{prefixCls:r,visible:I&&s,motionName:k6(r,S,P),style:_e(_e({zIndex:i},N),F==null?void 0:F.mask),maskProps:A,className:M==null?void 0:M.mask}),h.createElement("div",Q({tabIndex:-1,onKeyDown:oe,className:Oe("".concat(r,"-wrap"),f,M==null?void 0:M.wrapper),ref:j,onClick:K,style:V},p),h.createElement(XZ,Q({},e,{onMouseDown:ce,onMouseUp:be,ref:B,closable:E,ariaId:ue,prefixCls:r,visible:s&&G,onClose:ge,onVisibleChanged:se,motionName:k6(r,x,_)}))))},ZZ=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,o=e.destroyOnClose,s=o===void 0?!1:o,a=e.afterClose,l=e.panelRef,c=h.useState(n),u=Fe(c,2),d=u[0],f=u[1],p=h.useMemo(function(){return{panel:l}},[l]);return h.useEffect(function(){n&&f(!0)},[n]),!i&&s&&!d?null:h.createElement(GZ.Provider,{value:p},h.createElement(GN,{open:n||i||d,autoDestroy:!1,getContainer:r,autoLock:n||d},h.createElement(SRe,Q({},e,{destroyOnClose:s,afterClose:function(){a==null||a(),f(!1)}}))))};ZZ.displayName="Dialog";var oh="RC_FORM_INTERNAL_HOOKS",Vr=function(){pi(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ev=h.createContext({getFieldValue:Vr,getFieldsValue:Vr,getFieldError:Vr,getFieldWarning:Vr,getFieldsError:Vr,isFieldsTouched:Vr,isFieldTouched:Vr,isFieldValidating:Vr,isFieldsValidating:Vr,resetFields:Vr,setFields:Vr,setFieldValue:Vr,setFieldsValue:Vr,validateFields:Vr,submit:Vr,getInternalHooks:function(){return Vr(),{dispatch:Vr,initEntityValue:Vr,registerField:Vr,useSubscribe:Vr,setInitialValues:Vr,destroyForm:Vr,setCallbacks:Vr,registerWatch:Vr,getFields:Vr,setValidateMessages:Vr,setPreserve:Vr,getInitialValue:Vr}}}),sE=h.createContext(null);function NO(t){return t==null?[]:Array.isArray(t)?t:[t]}function ERe(t){return t&&!!t._init}function LO(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var jO=LO();function IRe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function TRe(t,e,n){if(RN())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&Kg(i,n.prototype),i}function zO(t){var e=typeof Map=="function"?new Map:void 0;return zO=function(r){if(r===null||!IRe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return TRe(r,arguments,nx(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Kg(i,r)},zO(t)}var PRe=/%[sdj%]/g,RRe=function(){};function FO(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function ea(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(PRe,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function kRe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function po(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||kRe(e)&&typeof t=="string"&&!t)}function MRe(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,it(a||[])),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function O6(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function ORe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,it(t[n]||[]))}),e}var D6=function(t){kc(n,t);var e=Mc(n);function n(r,i){var o;return Wi(this,n),o=e.call(this,"Async Validation Error"),ve(Mt(o),"errors",void 0),ve(Mt(o),"fields",void 0),o.errors=r,o.fields=i,o}return Ui(n)}(zO(Error));function DRe(t,e,n,r,i){if(e.first){var o=new Promise(function(f,p){var v=function(x){return r(x),x.length?p(new D6(x,FO(x))):f(i)},y=ORe(t);O6(y,n,v)});return o.catch(function(f){return f}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],d=new Promise(function(f,p){var v=function(b){if(u.push.apply(u,b),c++,c===l)return r(u),u.length?p(new D6(u,FO(u))):f(i)};a.length||(r(u),f(i)),a.forEach(function(y){var b=t[y];s.indexOf(y)!==-1?O6(b,n,v):MRe(b,n,v)})});return d.catch(function(f){return f}),d}function ARe(t){return!!(t&&t.message!==void 0)}function $Re(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function A6(t,e){return function(n){var r;return t.fullFields?r=$Re(e,t.fullFields):r=e[n.field||t.fullField],ARe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function $6(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];zt(r)==="object"&&zt(t[n])==="object"?t[n]=_e(_e({},t[n]),r):t[n]=r}}return t}var Qp="enum",NRe=function(e,n,r,i,o){e[Qp]=Array.isArray(e[Qp])?e[Qp]:[],e[Qp].indexOf(n)===-1&&i.push(ea(o.messages[Qp],e.fullField,e[Qp].join(", ")))},LRe=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(ea(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(ea(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},jRe=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",p=typeof n=="string",v=Array.isArray(n);if(f?d="number":p?d="string":v&&(d="array"),!d)return!1;v&&(u=n.length),p&&(u=n.replace(c,"_").length),s?u!==e.len&&i.push(ea(o.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?i.push(ea(o.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?i.push(ea(o.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&i.push(ea(o.messages[d].range,e.fullField,e.min,e.max))},QZ=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||po(n,s||e.type))&&i.push(ea(o.messages.required,e.fullField))},oC;const zRe=function(){if(oC)return oC;var t="[a-fA-F\\d:]",e=function(I){return I&&I.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(i.join("|"),")").concat(o),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(s,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(s,"$")),u=function(I){return I&&I.exact?a:new RegExp("(?:".concat(e(I)).concat(n).concat(e(I),")|(?:").concat(e(I)).concat(s).concat(e(I),")"),"g")};u.v4=function(T){return T&&T.exact?l:new RegExp("".concat(e(T)).concat(n).concat(e(T)),"g")},u.v6=function(T){return T&&T.exact?c:new RegExp("".concat(e(T)).concat(s).concat(e(T)),"g")};var d="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",p=u.v4().source,v=u.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",b="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",x="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',E="(?:".concat(d,"|www\\.)").concat(f,"(?:localhost|").concat(p,"|").concat(v,"|").concat(y).concat(b).concat(x,")").concat(_).concat(w);return oC=new RegExp("(?:^".concat(E,"$)"),"i"),oC};var N6={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},x0={integer:function(e){return x0.number(e)&&parseInt(e,10)===e},float:function(e){return x0.number(e)&&!x0.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return zt(e)==="object"&&!x0.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(N6.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(zRe())},hex:function(e){return typeof e=="string"&&!!e.match(N6.hex)}},FRe=function(e,n,r,i,o){if(e.required&&n===void 0){QZ(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?x0[a](n)||i.push(ea(o.messages.types[a],e.fullField,e.type)):a&&zt(n)!==e.type&&i.push(ea(o.messages.types[a],e.fullField,e.type))},BRe=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(ea(o.messages.whitespace,e.fullField))};const Zn={required:QZ,whitespace:BRe,type:FRe,range:jRe,enum:NRe,pattern:LRe};var VRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o)}r(s)},HRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();Zn.required(e,n,i,s,o,"array"),n!=null&&(Zn.type(e,n,i,s,o),Zn.range(e,n,i,s,o))}r(s)},WRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),n!==void 0&&Zn.type(e,n,i,s,o)}r(s)},URe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n,"date")&&!e.required)return r();if(Zn.required(e,n,i,s,o),!po(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Zn.type(e,l,i,s,o),l&&Zn.range(e,l.getTime(),i,s,o)}}r(s)},KRe="enum",qRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),n!==void 0&&Zn[KRe](e,n,i,s,o)}r(s)},GRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),n!==void 0&&(Zn.type(e,n,i,s,o),Zn.range(e,n,i,s,o))}r(s)},YRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),n!==void 0&&(Zn.type(e,n,i,s,o),Zn.range(e,n,i,s,o))}r(s)},XRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),n!==void 0&&Zn.type(e,n,i,s,o)}r(s)},ZRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),n!==void 0&&(Zn.type(e,n,i,s,o),Zn.range(e,n,i,s,o))}r(s)},QRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),n!==void 0&&Zn.type(e,n,i,s,o)}r(s)},JRe=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n,"string")&&!e.required)return r();Zn.required(e,n,i,s,o),po(n,"string")||Zn.pattern(e,n,i,s,o)}r(s)},eke=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n)&&!e.required)return r();Zn.required(e,n,i,s,o),po(n)||Zn.type(e,n,i,s,o)}r(s)},tke=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":zt(n);Zn.required(e,n,i,s,o,a),r(s)},nke=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(po(n,"string")&&!e.required)return r();Zn.required(e,n,i,s,o,"string"),po(n,"string")||(Zn.type(e,n,i,s,o),Zn.range(e,n,i,s,o),Zn.pattern(e,n,i,s,o),e.whitespace===!0&&Zn.whitespace(e,n,i,s,o))}r(s)},vR=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(po(n,s)&&!e.required)return r();Zn.required(e,n,i,a,o,s),po(n,s)||Zn.type(e,n,i,a,o)}r(a)};const Y0={string:nke,method:XRe,number:ZRe,boolean:WRe,regexp:eke,integer:YRe,float:GRe,array:HRe,object:QRe,enum:qRe,pattern:JRe,date:URe,url:vR,hex:vR,email:vR,required:tke,any:VRe};var p_=function(){function t(e){Wi(this,t),ve(this,"rules",null),ve(this,"_messages",jO),this.define(e)}return Ui(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(zt(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];r.rules[i]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(n){return n&&(this._messages=$6(LO(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=n,a=i,l=o;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function c(v){var y=[],b={};function x(w){if(Array.isArray(w)){var E;y=(E=y).concat.apply(E,it(w))}else y.push(w)}for(var _=0;_<v.length;_++)x(v[_]);y.length?(b=FO(y),l(y,b)):l(null,s)}if(a.messages){var u=this.messages();u===jO&&(u=LO()),$6(u,a.messages),a.messages=u}else a.messages=this.messages();var d={},f=a.keys||Object.keys(this.rules);f.forEach(function(v){var y=r.rules[v],b=s[v];y.forEach(function(x){var _=x;typeof _.transform=="function"&&(s===n&&(s=_e({},s)),b=s[v]=_.transform(b),b!=null&&(_.type=_.type||(Array.isArray(b)?"array":zt(b)))),typeof _=="function"?_={validator:_}:_=_e({},_),_.validator=r.getValidationMethod(_),_.validator&&(_.field=v,_.fullField=_.fullField||v,_.type=r.getType(_),d[v]=d[v]||[],d[v].push({rule:_,value:b,source:s,field:v}))})});var p={};return DRe(d,a,function(v,y){var b=v.rule,x=(b.type==="object"||b.type==="array")&&(zt(b.fields)==="object"||zt(b.defaultField)==="object");x=x&&(b.required||!b.required&&v.value),b.field=v.field;function _(S,P){return _e(_e({},P),{},{fullField:"".concat(b.fullField,".").concat(S),fullFields:b.fullFields?[].concat(it(b.fullFields),[S]):[S]})}function w(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=Array.isArray(S)?S:[S];!a.suppressWarning&&P.length&&t.warning("async-validator:",P),P.length&&b.message!==void 0&&(P=[].concat(b.message));var R=P.map(A6(b,s));if(a.first&&R.length)return p[b.field]=1,y(R);if(!x)y(R);else{if(b.required&&!v.value)return b.message!==void 0?R=[].concat(b.message).map(A6(b,s)):a.error&&(R=[a.error(b,ea(a.messages.required,b.field))]),y(R);var O={};b.defaultField&&Object.keys(v.value).map(function($){O[$]=b.defaultField}),O=_e(_e({},O),v.rule.fields);var N={};Object.keys(O).forEach(function($){var M=O[$],F=Array.isArray(M)?M:[M];N[$]=F.map(_.bind(null,$))});var A=new t(N);A.messages(a.messages),v.rule.options&&(v.rule.options.messages=a.messages,v.rule.options.error=a.error),A.validate(v.value,v.rule.options||a,function($){var M=[];R&&R.length&&M.push.apply(M,it(R)),$&&$.length&&M.push.apply(M,it($)),y(M.length?M:null)})}}var E;if(b.asyncValidator)E=b.asyncValidator(b,v.value,w,v.source,a);else if(b.validator){try{E=b.validator(b,v.value,w,v.source,a)}catch(S){var T,I;(T=(I=console).error)===null||T===void 0||T.call(I,S),a.suppressValidatorError||setTimeout(function(){throw S},0),w(S.message)}E===!0?w():E===!1?w(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||"".concat(b.fullField||b.field," fails")):E instanceof Array?w(E):E instanceof Error&&w(E.message)}E&&E.then&&E.then(function(){return w()},function(S){return w(S)})},function(v){c(v)},s)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Y0.hasOwnProperty(n.type))throw new Error(ea("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?Y0.required:Y0[this.getType(n)]||void 0}}]),t}();ve(p_,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Y0[e]=n});ve(p_,"warning",RRe);ve(p_,"messages",jO);ve(p_,"validators",Y0);var Us="'${name}' is not a valid ${type}",JZ={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Us,method:Us,array:Us,object:Us,number:Us,date:Us,boolean:Us,integer:Us,float:Us,regexp:Us,email:Us,url:Us,hex:Us},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},L6=p_;function rke(t,e){return t.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return e[r]})}var j6="CODE_LOGIC_ERROR";function BO(t,e,n,r,i){return VO.apply(this,arguments)}function VO(){return VO=_p(gs().mark(function t(e,n,r,i,o){var s,a,l,c,u,d,f,p,v;return gs().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return s=_e({},r),delete s.ruleIndex,L6.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(x){return console.error(x),Promise.reject(j6)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new L6(ve({},e,[s])),u=Vm(JZ,i.validateMessages),c.messages(u),d=[],b.prev=10,b.next=13,Promise.resolve(c.validate(ve({},e,n),_e({},i)));case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(10),b.t0.errors&&(d=b.t0.errors.map(function(x,_){var w=x.message,E=w===j6?u.default:w;return h.isValidElement(E)?h.cloneElement(E,{key:"error_".concat(_)}):E}));case 18:if(!(!d.length&&l)){b.next=23;break}return b.next=21,Promise.all(n.map(function(x,_){return BO("".concat(e,".").concat(_),x,l,i,o)}));case 21:return f=b.sent,b.abrupt("return",f.reduce(function(x,_){return[].concat(it(x),it(_))},[]));case 23:return p=_e(_e({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),v=d.map(function(x){return typeof x=="string"?rke(x,p):x}),b.abrupt("return",v);case 26:case"end":return b.stop()}},t,null,[[10,15]])})),VO.apply(this,arguments)}function ike(t,e,n,r,i,o){var s=t.join("."),a=n.map(function(u,d){var f=u.validator,p=_e(_e({},u),{},{ruleIndex:d});return f&&(p.validator=function(v,y,b){var x=!1,_=function(){for(var T=arguments.length,I=new Array(T),S=0;S<T;S++)I[S]=arguments[S];Promise.resolve().then(function(){pi(!x,"Your validator function has already return a promise. `callback` will be ignored."),x||b.apply(void 0,I)})},w=f(v,y,_);x=w&&typeof w.then=="function"&&typeof w.catch=="function",pi(x,"`callback` is deprecated. Please return a promise instead."),x&&w.then(function(){b()}).catch(function(E){b(E||" ")})}),p}).sort(function(u,d){var f=u.warningOnly,p=u.ruleIndex,v=d.warningOnly,y=d.ruleIndex;return!!f==!!v?p-y:f?1:-1}),l;if(i===!0)l=new Promise(function(){var u=_p(gs().mark(function d(f,p){var v,y,b;return gs().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:v=0;case 1:if(!(v<a.length)){_.next=12;break}return y=a[v],_.next=5,BO(s,e,y,r,o);case 5:if(b=_.sent,!b.length){_.next=9;break}return p([{errors:b,rule:y}]),_.abrupt("return");case 9:v+=1,_.next=1;break;case 12:f([]);case 13:case"end":return _.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return BO(s,e,u,r,o).then(function(d){return{errors:d,rule:u}})});l=(i?ske(c):oke(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function oke(t){return HO.apply(this,arguments)}function HO(){return HO=_p(gs().mark(function t(e){return gs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,it(i));return s}));case 1:case"end":return r.stop()}},t)})),HO.apply(this,arguments)}function ske(t){return WO.apply(this,arguments)}function WO(){return WO=_p(gs().mark(function t(e){var n;return gs().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),WO.apply(this,arguments)}function zi(t){return NO(t)}function z6(t,e){var n={};return e.forEach(function(r){var i=Js(t,r);n=il(n,r,i)}),n}function hg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return eQ(e,r,n)})}function eQ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function ake(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||zt(t)!=="object"||zt(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return it(i).every(function(o){var s=t[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function lke(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&zt(e.target)==="object"&&t in e.target?e.target[t]:e}function F6(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(it(t.slice(0,n)),[i],it(t.slice(n,e)),it(t.slice(e+1,r))):o<0?[].concat(it(t.slice(0,e)),it(t.slice(e+1,n+1)),[i],it(t.slice(n+1,r))):t}var cke=["name"],ba=[];function yR(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var YN=function(t){kc(n,t);var e=Mc(n);function n(r){var i;if(Wi(this,n),i=e.call(this,r),ve(Mt(i),"state",{resetCount:0}),ve(Mt(i),"cancelRegisterFunc",null),ve(Mt(i),"mounted",!1),ve(Mt(i),"touched",!1),ve(Mt(i),"dirty",!1),ve(Mt(i),"validatePromise",void 0),ve(Mt(i),"prevValidating",void 0),ve(Mt(i),"errors",ba),ve(Mt(i),"warnings",ba),ve(Mt(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,zi(d)),i.cancelRegisterFunc=null}),ve(Mt(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(it(f),it(c)):[]}),ve(Mt(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),ve(Mt(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),ve(Mt(i),"metaCache",null),ve(Mt(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=_e(_e({},i.getMeta()),{},{destroy:l});_c(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),ve(Mt(i),"onStoreChange",function(l,c,u){var d=i.props,f=d.shouldUpdate,p=d.dependencies,v=p===void 0?[]:p,y=d.onReset,b=u.store,x=i.getNamePath(),_=i.getValue(l),w=i.getValue(b),E=c&&hg(c,x);switch(u.type==="valueUpdate"&&u.source==="external"&&!_c(_,w)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ba,i.warnings=ba,i.triggerMetaEvent()),u.type){case"reset":if(!c||E){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=ba,i.warnings=ba,i.triggerMetaEvent(),y==null||y(),i.refresh();return}break;case"remove":{if(f&&yR(f,l,b,_,w,u)){i.reRender();return}break}case"setField":{var T=u.data;if(E){"touched"in T&&(i.touched=T.touched),"validating"in T&&!("originRCField"in T)&&(i.validatePromise=T.validating?Promise.resolve([]):null),"errors"in T&&(i.errors=T.errors||ba),"warnings"in T&&(i.warnings=T.warnings||ba),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in T&&hg(c,x,!0)){i.reRender();return}if(f&&!x.length&&yR(f,l,b,_,w,u)){i.reRender();return}break}case"dependenciesUpdate":{var I=v.map(zi);if(I.some(function(S){return hg(u.relatedFields,S)})){i.reRender();return}break}default:if(E||(!v.length||x.length||f)&&yR(f,l,b,_,w,u)){i.reRender();return}break}f===!0&&i.reRender()}),ve(Mt(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},f=d.triggerName,p=d.validateOnly,v=p===void 0?!1:p,y=Promise.resolve().then(_p(gs().mark(function b(){var x,_,w,E,T,I,S;return gs().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(i.mounted){R.next=2;break}return R.abrupt("return",[]);case 2:if(x=i.props,_=x.validateFirst,w=_===void 0?!1:_,E=x.messageVariables,T=x.validateDebounce,I=i.getRules(),f&&(I=I.filter(function(O){return O}).filter(function(O){var N=O.validateTrigger;if(!N)return!0;var A=NO(N);return A.includes(f)})),!(T&&f)){R.next=10;break}return R.next=8,new Promise(function(O){setTimeout(O,T)});case 8:if(i.validatePromise===y){R.next=10;break}return R.abrupt("return",[]);case 10:return S=ike(c,u,I,l,w,E),S.catch(function(O){return O}).then(function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ba;if(i.validatePromise===y){var N;i.validatePromise=null;var A=[],$=[];(N=O.forEach)===null||N===void 0||N.call(O,function(M){var F=M.rule.warningOnly,z=M.errors,j=z===void 0?ba:z;F?$.push.apply($,it(j)):A.push.apply(A,it(j))}),i.errors=A,i.warnings=$,i.triggerMetaEvent(),i.reRender()}}),R.abrupt("return",S);case 13:case"end":return R.stop()}},b)})));return v||(i.validatePromise=y,i.dirty=!0,i.errors=ba,i.warnings=ba,i.triggerMetaEvent(),i.reRender()),y}),ve(Mt(i),"isFieldValidating",function(){return!!i.validatePromise}),ve(Mt(i),"isFieldTouched",function(){return i.touched}),ve(Mt(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(oh),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),ve(Mt(i),"getErrors",function(){return i.errors}),ve(Mt(i),"getWarnings",function(){return i.warnings}),ve(Mt(i),"isListField",function(){return i.props.isListField}),ve(Mt(i),"isList",function(){return i.props.isList}),ve(Mt(i),"isPreserve",function(){return i.props.preserve}),ve(Mt(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),ve(Mt(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return _e(_e({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=vl(l);return u.length!==1||!h.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),ve(Mt(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return Js(l||c(!0),u)}),ve(Mt(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.name,d=c.trigger,f=c.validateTrigger,p=c.getValueFromEvent,v=c.normalize,y=c.valuePropName,b=c.getValueProps,x=c.fieldContext,_=f!==void 0?f:x.validateTrigger,w=i.getNamePath(),E=x.getInternalHooks,T=x.getFieldsValue,I=E(oh),S=I.dispatch,P=i.getValue(),R=b||function(M){return ve({},y,M)},O=l[d],N=u!==void 0?R(P):{},A=_e(_e({},l),N);A[d]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var M,F=arguments.length,z=new Array(F),j=0;j<F;j++)z[j]=arguments[j];p?M=p.apply(void 0,z):M=lke.apply(void 0,[y].concat(z)),v&&(M=v(M,P,T(!0))),M!==P&&S({type:"updateValue",namePath:w,value:M}),O&&O.apply(void 0,z)};var $=NO(_||[]);return $.forEach(function(M){var F=A[M];A[M]=function(){F&&F.apply(void 0,arguments);var z=i.props.rules;z&&z.length&&S({type:"validateField",namePath:w,triggerName:M})}}),A}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(oh),a=s.initEntityValue;a(Mt(i))}return i}return Ui(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(oh),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,c;return l?c=a:h.isValidElement(a)?c=h.cloneElement(a,this.getControlled(a.props)):(pi(!a,"`children` of Field is not validate ReactElement."),c=a),h.createElement(h.Fragment,{key:i},c)}}]),n}(h.Component);ve(YN,"contextType",ev);ve(YN,"defaultProps",{trigger:"onChange",valuePropName:"value"});function tQ(t){var e,n=t.name,r=bn(t,cke),i=h.useContext(ev),o=h.useContext(sE),s=n!==void 0?zi(n):void 0,a=(e=r.isListField)!==null&&e!==void 0?e:!!o,l="keep";return a||(l="_".concat((s||[]).join("_"))),h.createElement(YN,Q({key:l,name:s,isListField:a},r,{fieldContext:i}))}function uke(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,s=t.isListField,a=h.useContext(ev),l=h.useContext(sE),c=h.useRef({keys:[],id:0}),u=c.current,d=h.useMemo(function(){var y=zi(a.prefixName)||[];return[].concat(it(y),it(zi(e)))},[a.prefixName,e]),f=h.useMemo(function(){return _e(_e({},a),{},{prefixName:d})},[a,d]),p=h.useMemo(function(){return{getKey:function(b){var x=d.length,_=b[x];return[u.keys[_],b.slice(x+1)]}}},[d]);if(typeof r!="function")return pi(!1,"Form.List only accepts function as children."),null;var v=function(b,x,_){var w=_.source;return w==="internal"?!1:b!==x};return h.createElement(sE.Provider,{value:p},h.createElement(ev.Provider,{value:f},h.createElement(tQ,{name:[],shouldUpdate:v,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:s??!!l},function(y,b){var x=y.value,_=x===void 0?[]:x,w=y.onChange,E=a.getFieldValue,T=function(){var R=E(d||[]);return R||[]},I={add:function(R,O){var N=T();O>=0&&O<=N.length?(u.keys=[].concat(it(u.keys.slice(0,O)),[u.id],it(u.keys.slice(O))),w([].concat(it(N.slice(0,O)),[R],it(N.slice(O))))):(u.keys=[].concat(it(u.keys),[u.id]),w([].concat(it(N),[R]))),u.id+=1},remove:function(R){var O=T(),N=new Set(Array.isArray(R)?R:[R]);N.size<=0||(u.keys=u.keys.filter(function(A,$){return!N.has($)}),w(O.filter(function(A,$){return!N.has($)})))},move:function(R,O){if(R!==O){var N=T();R<0||R>=N.length||O<0||O>=N.length||(u.keys=F6(u.keys,R,O),w(F6(N,R,O)))}}},S=_||[];return Array.isArray(S)||(S=[]),r(S.map(function(P,R){var O=u.keys[R];return O===void 0&&(u.keys[R]=u.id,O=u.keys[R],u.id+=1),{name:R,key:O,isListField:!0}}),I,b)})))}function dke(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var nQ="__@field_split__";function bR(t){return t.map(function(e){return"".concat(zt(e),":").concat(e)}).join(nQ)}var Jp=function(){function t(){Wi(this,t),ve(this,"kvs",new Map)}return Ui(t,[{key:"set",value:function(n,r){this.kvs.set(bR(n),r)}},{key:"get",value:function(n){return this.kvs.get(bR(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(bR(n))}},{key:"map",value:function(n){return it(this.kvs.entries()).map(function(r){var i=Fe(r,2),o=i[0],s=i[1],a=o.split(nQ);return n({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=Fe(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),fke=["name"],hke=Ui(function t(e){var n=this;Wi(this,t),ve(this,"formHooked",!1),ve(this,"forceRootUpdate",void 0),ve(this,"subscribable",!0),ve(this,"store",{}),ve(this,"fieldEntities",[]),ve(this,"initialValues",{}),ve(this,"callbacks",{}),ve(this,"validateMessages",null),ve(this,"preserve",null),ve(this,"lastValidatePromise",null),ve(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),ve(this,"getInternalHooks",function(r){return r===oh?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(pi(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ve(this,"useSubscribe",function(r){n.subscribable=r}),ve(this,"prevWithoutPreserves",null),ve(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,s=Vm(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=il(s,l,Js(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),ve(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new Jp;n.getFieldEntities(!0).forEach(function(o){n.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),ve(this,"getInitialValue",function(r){var i=Js(n.initialValues,r);return r.length?Vm(i):i}),ve(this,"setCallbacks",function(r){n.callbacks=r}),ve(this,"setValidateMessages",function(r){n.validateMessages=r}),ve(this,"setPreserve",function(r){n.preserve=r}),ve(this,"watchList",[]),ve(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),ve(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}}),ve(this,"timeoutId",null),ve(this,"warningUnhooked",function(){}),ve(this,"updateStore",function(r){n.store=r}),ve(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),ve(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Jp;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),ve(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=zi(o);return i.get(s)||{INVALIDATE_NAME_PATH:zi(o)}})}),ve(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&zt(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var d,f,p="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(a){var v,y;if((v=(y=u).isList)!==null&&v!==void 0&&v.call(y))return}else if(!o&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!s)c.push(p);else{var b="getMeta"in u?u.getMeta():null;s(b)&&c.push(p)}}),z6(n.store,c.map(zi))}),ve(this,"getFieldValue",function(r){n.warningUnhooked();var i=zi(r);return Js(n.store,i)}),ve(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:zi(r[s]),errors:[],warnings:[]}})}),ve(this,"getFieldError",function(r){n.warningUnhooked();var i=zi(r),o=n.getFieldsError([i])[0];return o.errors}),ve(this,"getFieldWarning",function(r){n.warningUnhooked();var i=zi(r),o=n.getFieldsError([i])[0];return o.warnings}),ve(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(zi),c=!1):(l=null,c=s):(l=s.map(zi),c=a);var u=n.getFieldEntities(!0),d=function(b){return b.isFieldTouched()};if(!l)return c?u.every(function(y){return d(y)||y.isList()}):u.some(d);var f=new Jp;l.forEach(function(y){f.set(y,[])}),u.forEach(function(y){var b=y.getNamePath();l.forEach(function(x){x.every(function(_,w){return b[w]===_})&&f.update(x,function(_){return[].concat(it(_),[y])})})});var p=function(b){return b.some(d)},v=f.map(function(y){var b=y.value;return b});return c?v.every(p):v.some(p)}),ve(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),ve(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(zi);return i.some(function(s){var a=s.getNamePath();return hg(o,a)&&s.isFieldValidating()})}),ve(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),ve(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Jp,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var s=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),p=n.getInitialValue(f);if(p!==void 0)pi(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var v=i.get(f);if(v&&v.size>1)pi(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(v){var y=n.getFieldValue(f),b=u.isListField();!b&&(!r.skipExist||y===void 0)&&n.updateStore(il(n.store,f,it(v)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=a).push.apply(u,it(it(c).map(function(d){return d.entity})))}})):a=o,s(a)}),ve(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Vm(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(zi);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(il(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),ve(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=bn(s,fke),c=zi(a);o.push(c),"value"in l&&n.updateStore(il(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:s})}),n.notifyWatch(o)}),ve(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=_e(_e({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),ve(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=Js(n.store,o);s===void 0&&n.updateStore(il(n.store,o,i))}}),ve(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),ve(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!eQ(d.getNamePath(),i)})){var u=n.store;n.updateStore(il(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),ve(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),ve(this,"notifyObservers",function(r,i,o){if(n.subscribable){var s=_e(_e({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),ve(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(it(o))}),o}),ve(this,"updateValue",function(r,i){var o=zi(r),s=n.store;n.updateStore(il(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var c=z6(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(it(a)))}),ve(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=Vm(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),ve(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i,errors:[],warnings:[]}])}),ve(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new Jp;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=zi(u);s.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var a=function l(c){var u=s.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return a(r),o}),ve(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new Jp;i.forEach(function(c){var u=c.name,d=c.errors;a.set(u,d)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return hg(r,u)});l.length&&o(l,s)}}),ve(this,"validateFields",function(r,i){n.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(zi):[],c=[],u=String(Date.now()),d=new Set,f=s||{},p=f.recursive,v=f.dirty;n.getFieldEntities(!0).forEach(function(_){if(a||l.push(_.getNamePath()),!(!_.props.rules||!_.props.rules.length)&&!(v&&!_.isFieldDirty())){var w=_.getNamePath();if(d.add(w.join(u)),!a||hg(l,w,p)){var E=_.validateRules(_e({validateMessages:_e(_e({},JZ),n.validateMessages)},s));c.push(E.then(function(){return{name:w,errors:[],warnings:[]}}).catch(function(T){var I,S=[],P=[];return(I=T.forEach)===null||I===void 0||I.call(T,function(R){var O=R.rule.warningOnly,N=R.errors;O?P.push.apply(P,it(N)):S.push.apply(S,it(N))}),S.length?Promise.reject({name:w,errors:S,warnings:P}):{name:w,errors:S,warnings:P}}))}}});var y=dke(c);n.lastValidatePromise=y,y.catch(function(_){return _}).then(function(_){var w=_.map(function(E){var T=E.name;return T});n.notifyObservers(n.store,w,{type:"validateFinish"}),n.triggerOnFieldsChange(w,_)});var b=y.then(function(){return n.lastValidatePromise===y?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(_){var w=_.filter(function(E){return E&&E.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:w,outOfDate:n.lastValidatePromise!==y})});b.catch(function(_){return _});var x=l.filter(function(_){return d.has(_.join(u))});return n.triggerOnFieldsChange(x),b}),ve(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function rQ(t){var e=h.useRef(),n=h.useState({}),r=Fe(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},s=new hke(o);e.current=s.getForm()}return[e.current]}var UO=h.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),pke=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=h.useContext(UO),a=h.useRef({});return h.createElement(UO.Provider,{value:_e(_e({},s),{},{validateMessages:_e(_e({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:a.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=_e(_e({},a.current),{},ve({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=_e({},a.current);delete u[c],a.current=u,s.unregisterForm(c)}})},o)},mke=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],gke=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,f=e.validateTrigger,p=f===void 0?"onChange":f,v=e.onValuesChange,y=e.onFieldsChange,b=e.onFinish,x=e.onFinishFailed,_=e.clearOnDestroy,w=bn(e,mke),E=h.useRef(null),T=h.useContext(UO),I=rQ(s),S=Fe(I,1),P=S[0],R=P.getInternalHooks(oh),O=R.useSubscribe,N=R.setInitialValues,A=R.setCallbacks,$=R.setValidateMessages,M=R.setPreserve,F=R.destroyForm;h.useImperativeHandle(n,function(){return _e(_e({},P),{},{nativeElement:E.current})}),h.useEffect(function(){return T.registerForm(r,P),function(){T.unregisterForm(r)}},[T,P,r]),$(_e(_e({},T.validateMessages),d)),A({onValuesChange:v,onFieldsChange:function(te){if(T.triggerFormChange(r,te),y){for(var J=arguments.length,se=new Array(J>1?J-1:0),ge=1;ge<J;ge++)se[ge-1]=arguments[ge];y.apply(void 0,[te].concat(se))}},onFinish:function(te){T.triggerFormFinish(r,te),b&&b(te)},onFinishFailed:x}),M(a);var z=h.useRef(null);N(i,!z.current),z.current||(z.current=!0),h.useEffect(function(){return function(){return F(_)}},[]);var j,B=typeof l=="function";if(B){var W=P.getFieldsValue(!0);j=l(W,P)}else j=l;O(!B);var q=h.useRef();h.useEffect(function(){ake(q.current||[],o||[])||P.setFields(o||[]),q.current=o},[o,P]);var G=h.useMemo(function(){return _e(_e({},P),{},{validateTrigger:p})},[P,p]),X=h.createElement(sE.Provider,{value:null},h.createElement(ev.Provider,{value:G},j));return u===!1?X:h.createElement(u,Q({},w,{ref:E,onSubmit:function(te){te.preventDefault(),te.stopPropagation(),P.submit()},onReset:function(te){var J;te.preventDefault(),P.resetFields(),(J=w.onReset)===null||J===void 0||J.call(w,te)}}),X)};function B6(t){try{return JSON.stringify(t)}catch{return Math.random()}}function vke(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=i===void 0?{}:i,s=ERe(o)?{form:o}:o,a=s.form,l=h.useState(),c=Fe(l,2),u=c[0],d=c[1],f=h.useMemo(function(){return B6(u)},[u]),p=h.useRef(f);p.current=f;var v=h.useContext(ev),y=a||v,b=y&&y._init,x=zi(r),_=h.useRef(x);return _.current=x,h.useEffect(function(){if(b){var w=y.getFieldsValue,E=y.getInternalHooks,T=E(oh),I=T.registerWatch,S=function(N,A){var $=s.preserve?A:N;return typeof r=="function"?r($):Js($,_.current)},P=I(function(O,N){var A=S(O,N),$=B6(A);p.current!==$&&(p.current=$,d(A))}),R=S(w(),w(!0));return u!==R&&d(R),P}},[b]),u}var yke=h.forwardRef(gke),m_=yke;m_.FormProvider=pke;m_.Field=tQ;m_.List=uke;m_.useForm=rQ;m_.useWatch=vke;const bl=h.createContext({}),bke=t=>{let{children:e,status:n,override:r}=t;const i=h.useContext(bl),o=h.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return h.createElement(bl.Provider,{value:o},e)},xke=h.createContext(void 0),fx=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let i=r;return n&&(i=ae.createElement(bke,{override:!0,status:!0},i)),e&&(i=ae.createElement(V2e,null,i)),i};function aE(t){if(t)return{closable:t.closable,closeIcon:t.closeIcon}}function V6(t){const{closable:e,closeIcon:n}=t||{};return ae.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let r={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(r=Object.assign(Object.assign({},r),e)),r},[e,n])}function H6(){const t={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(i=>{i&&Object.keys(i).forEach(o=>{i[o]!==void 0&&(t[o]=i[o])})}),t}const _ke={};function iQ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_ke;const r=V6(t),i=V6(e),o=typeof r!="boolean"?!!(r!=null&&r.disabled):!1,s=ae.useMemo(()=>Object.assign({closeIcon:ae.createElement(l_,null)},n),[n]),a=ae.useMemo(()=>r===!1?!1:r?H6(s,i,r):i===!1?!1:i?H6(s,i):s.closable?s:!1,[r,i,s]);return ae.useMemo(()=>{if(a===!1)return[!1,null,o];const{closeIconRender:l}=s,{closeIcon:c}=a;let u=c;if(u!=null){l&&(u=l(c));const d=ms(a,!0);Object.keys(d).length&&(u=ae.isValidElement(u)?ae.cloneElement(u,d):ae.createElement("span",Object.assign({},d),u))}return[!0,u,o]},[a,s])}var oQ=function(e){if(zo()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},wke=function(e,n){if(!oQ(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=n,r.style[e]!==i};function Cke(t,e){return!Array.isArray(t)&&e!==void 0?wke(t,e):oQ(t)}const Ske=()=>zo()&&window.document.documentElement,vT=t=>{const{prefixCls:e,className:n,style:r,size:i,shape:o}=t,s=Oe({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),a=Oe({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),l=h.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return h.createElement("span",{className:Oe(e,s,a,n),style:Object.assign(Object.assign({},l),r)})},Eke=new Qn("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),yT=t=>({height:t,lineHeight:Ne(t)}),pg=t=>Object.assign({width:t},yT(t)),Ike=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Eke,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),xR=(t,e)=>Object.assign({width:e(t).mul(5).equal(),minWidth:e(t).mul(5).equal()},yT(t)),Tke=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=t;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},pg(r)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},pg(i)),[`${e}${e}-sm`]:Object.assign({},pg(o))}},Pke=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s,calc:a}=t;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:n},xR(e,a)),[`${r}-lg`]:Object.assign({},xR(i,a)),[`${r}-sm`]:Object.assign({},xR(o,a))}},W6=t=>Object.assign({width:t},yT(t)),Rke=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:i,calc:o}=t;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:i},W6(o(n).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},W6(n)),{maxWidth:o(n).mul(4).equal(),maxHeight:o(n).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},_R=(t,e,n)=>{const{skeletonButtonCls:r}=t;return{[`${n}${r}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:e}}},wR=(t,e)=>Object.assign({width:e(t).mul(2).equal(),minWidth:e(t).mul(2).equal()},yT(t)),kke=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,gradientFromColor:s,calc:a}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:e,width:a(r).mul(2).equal(),minWidth:a(r).mul(2).equal()},wR(r,a))},_R(t,r,n)),{[`${n}-lg`]:Object.assign({},wR(i,a))}),_R(t,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},wR(o,a))}),_R(t,o,`${n}-sm`))},Mke=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:s,skeletonImageCls:a,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:f,marginSM:p,borderRadius:v,titleHeight:y,blockRadius:b,paragraphLiHeight:x,controlHeightXS:_,paragraphMarginTop:w}=t;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},pg(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},pg(c)),[`${n}-sm`]:Object.assign({},pg(u))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:y,background:d,borderRadius:b,[`+ ${i}`]:{marginBlockStart:u}},[i]:{padding:0,"> li":{width:"100%",height:x,listStyle:"none",background:d,borderRadius:b,"+ li":{marginBlockStart:_}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${r}, ${i} > li`]:{borderRadius:v}}},[`${e}-with-avatar ${e}-content`]:{[r]:{marginBlockStart:p,[`+ ${i}`]:{marginBlockStart:w}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},kke(t)),Tke(t)),Pke(t)),Rke(t)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[s]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${r},
        ${i} > li,
        ${n},
        ${o},
        ${s},
        ${a}
      `]:Object.assign({},Ike(t))}}},Oke=t=>{const{colorFillContent:e,colorFill:n}=t,r=e,i=n;return{color:r,colorGradientEnd:i,gradientFromColor:r,gradientToColor:i,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},Mv=gi("Skeleton",t=>{const{componentCls:e,calc:n}=t,r=Jn(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n(t.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Mke(r)]},Oke,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Dke=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,shape:o="circle",size:s="default"}=t,{getPrefixCls:a}=h.useContext(Pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=go(t,["prefixCls","className"]),p=Oe(l,`${l}-element`,{[`${l}-active`]:i},n,r,u,d);return c(h.createElement("div",{className:p},h.createElement(vT,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:s},f))))},Ake=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o=!1,size:s="default"}=t,{getPrefixCls:a}=h.useContext(Pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=go(t,["prefixCls"]),p=Oe(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u,d);return c(h.createElement("div",{className:p},h.createElement(vT,Object.assign({prefixCls:`${l}-button`,size:s},f))))},$ke="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Nke=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o}=t,{getPrefixCls:s}=h.useContext(Pn),a=s("skeleton",e),[l,c,u]=Mv(a),d=Oe(a,`${a}-element`,{[`${a}-active`]:o},n,r,c,u);return l(h.createElement("div",{className:d},h.createElement("div",{className:Oe(`${a}-image`,n),style:i},h.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${a}-image-svg`},h.createElement("title",null,"Image placeholder"),h.createElement("path",{d:$ke,className:`${a}-image-path`})))))},Lke=t=>{const{prefixCls:e,className:n,rootClassName:r,active:i,block:o,size:s="default"}=t,{getPrefixCls:a}=h.useContext(Pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=go(t,["prefixCls"]),p=Oe(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},n,r,u,d);return c(h.createElement("div",{className:p},h.createElement(vT,Object.assign({prefixCls:`${l}-input`,size:s},f))))},jke=t=>{const{prefixCls:e,className:n,rootClassName:r,style:i,active:o,children:s}=t,{getPrefixCls:a}=h.useContext(Pn),l=a("skeleton",e),[c,u,d]=Mv(l),f=Oe(l,`${l}-element`,{[`${l}-active`]:o},u,n,r,d);return c(h.createElement("div",{className:f},h.createElement("div",{className:Oe(`${l}-image`,n),style:i},s)))},zke=(t,e)=>{const{width:n,rows:r=2}=e;if(Array.isArray(n))return n[t];if(r-1===t)return n},Fke=t=>{const{prefixCls:e,className:n,style:r,rows:i=0}=t,o=Array.from({length:i}).map((s,a)=>h.createElement("li",{key:a,style:{width:zke(a,t)}}));return h.createElement("ul",{className:Oe(e,n),style:r},o)},Bke=t=>{let{prefixCls:e,className:n,width:r,style:i}=t;return h.createElement("h3",{className:Oe(e,n),style:Object.assign({width:r},i)})};function CR(t){return t&&typeof t=="object"?t:{}}function Vke(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Hke(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function Wke(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const Ov=t=>{const{prefixCls:e,loading:n,className:r,rootClassName:i,style:o,children:s,avatar:a=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=t,{getPrefixCls:f,direction:p,className:v,style:y}=Oc("skeleton"),b=f("skeleton",e),[x,_,w]=Mv(b);if(n||!("loading"in t)){const E=!!a,T=!!l,I=!!c;let S;if(E){const O=Object.assign(Object.assign({prefixCls:`${b}-avatar`},Vke(T,I)),CR(a));S=h.createElement("div",{className:`${b}-header`},h.createElement(vT,Object.assign({},O)))}let P;if(T||I){let O;if(T){const A=Object.assign(Object.assign({prefixCls:`${b}-title`},Hke(E,I)),CR(l));O=h.createElement(Bke,Object.assign({},A))}let N;if(I){const A=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},Wke(E,T)),CR(c));N=h.createElement(Fke,Object.assign({},A))}P=h.createElement("div",{className:`${b}-content`},O,N)}const R=Oe(b,{[`${b}-with-avatar`]:E,[`${b}-active`]:u,[`${b}-rtl`]:p==="rtl",[`${b}-round`]:d},v,r,i,_,w);return x(h.createElement("div",{className:R,style:Object.assign(Object.assign({},y),o)},S,P))}return s??null};Ov.Button=Ake;Ov.Avatar=Dke;Ov.Input=Lke;Ov.Image=Nke;Ov.Node=jke;function U6(){}const Uke=h.createContext({add:U6,remove:U6});function Kke(t){const e=h.useContext(Uke),n=h.useRef(null);return Or(i=>{if(i){const o=t?i.querySelector(t):i;e.add(o),n.current=o}else e.remove(n.current)})}const K6=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=h.useContext(h_);return ae.createElement(Ha,Object.assign({onClick:n},t),e)},q6=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:r,onOk:i}=h.useContext(h_);return ae.createElement(Ha,Object.assign({},zZ(n),{loading:t,onClick:i},e),r)};function sQ(t,e){return ae.createElement("span",{className:`${t}-close-x`},e||ae.createElement(l_,{className:`${t}-close-icon`}))}const aQ=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:i,onOk:o,onCancel:s,okButtonProps:a,cancelButtonProps:l,footer:c}=t,[u]=xp("Modal",WX()),d=e||(u==null?void 0:u.okText),f=r||(u==null?void 0:u.cancelText),p={confirmLoading:i,okButtonProps:a,cancelButtonProps:l,okTextLocale:d,cancelTextLocale:f,okType:n,onOk:o,onCancel:s},v=ae.useMemo(()=>p,it(Object.values(p)));let y;return typeof c=="function"||typeof c>"u"?(y=ae.createElement(ae.Fragment,null,ae.createElement(K6,null),ae.createElement(q6,null)),typeof c=="function"&&(y=c(y,{OkBtn:q6,CancelBtn:K6})),y=ae.createElement(UZ,{value:v},y)):y=c,ae.createElement(XX,{disabled:!1},y)},qke=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Gke=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Yke=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=t,o={};for(let s=i;s>=0;s--)s===0?(o[`${r}${e}-${s}`]={display:"none"},o[`${r}-push-${s}`]={insetInlineStart:"auto"},o[`${r}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${s}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${s}`]={marginInlineStart:0},o[`${r}${e}-order-${s}`]={order:0}):(o[`${r}${e}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:`${s/i*100}%`}],o[`${r}${e}-push-${s}`]={insetInlineStart:`${s/i*100}%`},o[`${r}${e}-pull-${s}`]={insetInlineEnd:`${s/i*100}%`},o[`${r}${e}-offset-${s}`]={marginInlineStart:`${s/i*100}%`},o[`${r}${e}-order-${s}`]={order:s});return o[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},o},KO=(t,e)=>Yke(t,e),Xke=(t,e,n)=>({[`@media (min-width: ${Ne(e)})`]:Object.assign({},KO(t,n))}),Zke=()=>({}),Qke=()=>({});gi("Grid",qke,Zke);const lQ=t=>({xs:t.screenXSMin,sm:t.screenSMMin,md:t.screenMDMin,lg:t.screenLGMin,xl:t.screenXLMin,xxl:t.screenXXLMin});gi("Grid",t=>{const e=Jn(t,{gridColumns:24}),n=lQ(e);return delete n.xs,[Gke(e),KO(e,""),KO(e,"-xs"),Object.keys(n).map(r=>Xke(e,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},Qke);function G6(t){return{position:t,inset:0}}const Jke=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},G6("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},G6("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:uPe(t)}]},eMe=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${Ne(t.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Si(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Ne(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:Ne(t.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},Jh(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${Ne(t.borderRadiusLG)} ${Ne(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Ne(t.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},tMe=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},nMe=t=>{const{componentCls:e}=t,n=lQ(t);delete n.xs;const r=Object.keys(n).map(i=>({[`@media (min-width: ${Ne(n[i])})`]:{width:`var(--${e.replace(".","")}-${i}-width)`}}));return{[`${e}-root`]:{[e]:[{width:`var(--${e.replace(".","")}-xs-width)`}].concat(it(r))}}},cQ=t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5;return Jn(t,{modalHeaderHeight:t.calc(t.calc(r).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},uQ=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${Ne(t.paddingMD)} ${Ne(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${Ne(t.padding)} ${Ne(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${Ne(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${Ne(t.paddingXS)} ${Ne(t.padding)}`:0,footerBorderTop:t.wireframe?`${Ne(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${Ne(t.borderRadiusLG)} ${Ne(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${Ne(t.padding*2)} ${Ne(t.padding*2)} ${Ne(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),dQ=gi("Modal",t=>{const e=cQ(t);return[eMe(e),tMe(e),Jke(e),cT(e,"zoom"),nMe(e)]},uQ,{unitless:{titleLineHeight:!0}});var rMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let qO;const iMe=t=>{qO={x:t.pageX,y:t.pageY},setTimeout(()=>{qO=null},100)};Ske()&&document.documentElement.addEventListener("click",iMe,!0);const fQ=t=>{var e;const{getPopupContainer:n,getPrefixCls:r,direction:i,modal:o}=h.useContext(Pn),s=se=>{const{onCancel:ge}=t;ge==null||ge(se)},a=se=>{const{onOk:ge}=t;ge==null||ge(se)},{prefixCls:l,className:c,rootClassName:u,open:d,wrapClassName:f,centered:p,getContainer:v,focusTriggerAfterClose:y=!0,style:b,visible:x,width:_=520,footer:w,classNames:E,styles:T,children:I,loading:S}=t,P=rMe(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),R=r("modal",l),O=r(),N=Bs(R),[A,$,M]=dQ(R,N),F=Oe(f,{[`${R}-centered`]:p??(o==null?void 0:o.centered),[`${R}-wrap-rtl`]:i==="rtl"}),z=w!==null&&!S?h.createElement(aQ,Object.assign({},t,{onOk:a,onCancel:s})):null,[j,B,W]=iQ(aE(t),aE(o),{closable:!0,closeIcon:h.createElement(l_,{className:`${R}-close-icon`}),closeIconRender:se=>sQ(R,se)}),q=Kke(`.${R}-content`),[G,X]=u_("Modal",P.zIndex),[ue,te]=h.useMemo(()=>_&&typeof _=="object"?[void 0,_]:[_,void 0],[_]),J=h.useMemo(()=>{const se={};return te&&Object.keys(te).forEach(ge=>{const le=te[ge];le!==void 0&&(se[`--${R}-${ge}-width`]=typeof le=="number"?`${le}px`:le)}),se},[te]);return A(h.createElement(fx,{form:!0,space:!0},h.createElement(rT.Provider,{value:X},h.createElement(ZZ,Object.assign({width:ue},P,{zIndex:G,getContainer:v===void 0?n:v,prefixCls:R,rootClassName:Oe($,u,M,N),footer:z,visible:d??x,mousePosition:(e=P.mousePosition)!==null&&e!==void 0?e:qO,onClose:s,closable:j&&{disabled:W,closeIcon:B},closeIcon:B,focusTriggerAfterClose:y,transitionName:Qg(O,"zoom",t.transitionName),maskTransitionName:Qg(O,"fade",t.maskTransitionName),className:Oe($,c,o==null?void 0:o.className),style:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.style),b),J),classNames:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.classNames),E),{wrapper:Oe(F,E==null?void 0:E.wrapper)}),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),T),panelRef:q}),S?h.createElement(Ov,{active:!0,title:!1,paragraph:{rows:4},className:`${R}-body-skeleton`}):I))))},oMe=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:o,lineHeight:s,modalTitleHeight:a,fontHeight:l,confirmBodyPadding:c}=t,u=`${e}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},ux()),[`&${e} ${e}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(l).sub(i).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(a).sub(i).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS,maxWidth:`calc(100% - ${Ne(t.marginSM)})`},[`${t.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${Ne(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${u}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:t.colorText,fontSize:o,lineHeight:s},[`${u}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${u}-error ${u}-body > ${t.iconCls}`]:{color:t.colorError},[`${u}-warning ${u}-body > ${t.iconCls},
        ${u}-confirm ${u}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${u}-info ${u}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${u}-success ${u}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},sMe=a_(["Modal","confirm"],t=>{const e=cQ(t);return[oMe(e)]},uQ,{order:-1e3});var aMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function hQ(t){const{prefixCls:e,icon:n,okText:r,cancelText:i,confirmPrefixCls:o,type:s,okCancel:a,footer:l,locale:c}=t,u=aMe(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let d=n;if(!n&&n!==null)switch(s){case"info":d=h.createElement(EZ,null);break;case"success":d=h.createElement(CZ,null);break;case"error":d=h.createElement(nT,null);break;default:d=h.createElement(SZ,null)}const f=a??s==="confirm",p=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[v]=xp("Modal"),y=c||v,b=r||(f?y==null?void 0:y.okText:y==null?void 0:y.justOkText),x=i||(y==null?void 0:y.cancelText),_=Object.assign({autoFocusButton:p,cancelTextLocale:x,okTextLocale:b,mergedOkCancel:f},u),w=h.useMemo(()=>_,it(Object.values(_))),E=h.createElement(h.Fragment,null,h.createElement(w6,null),h.createElement(C6,null)),T=t.title!==void 0&&t.title!==null,I=`${o}-body`;return h.createElement("div",{className:`${o}-body-wrapper`},h.createElement("div",{className:Oe(I,{[`${I}-has-title`]:T})},d,h.createElement("div",{className:`${o}-paragraph`},T&&h.createElement("span",{className:`${o}-title`},t.title),h.createElement("div",{className:`${o}-content`},t.content))),l===void 0||typeof l=="function"?h.createElement(UZ,{value:w},h.createElement("div",{className:`${o}-btns`},typeof l=="function"?l(E,{OkBtn:C6,CancelBtn:w6}):E)):l,h.createElement(sMe,{prefixCls:e}))}const lMe=t=>{const{close:e,zIndex:n,maskStyle:r,direction:i,prefixCls:o,wrapClassName:s,rootPrefixCls:a,bodyStyle:l,closable:c=!1,onConfirm:u,styles:d}=t,f=`${o}-confirm`,p=t.width||416,v=t.style||{},y=t.mask===void 0?!0:t.mask,b=t.maskClosable===void 0?!1:t.maskClosable,x=Oe(f,`${f}-${t.type}`,{[`${f}-rtl`]:i==="rtl"},t.className),[,_]=Bo(),w=h.useMemo(()=>n!==void 0?n:_.zIndexPopupBase+kZ,[n,_]);return h.createElement(fQ,Object.assign({},t,{className:x,wrapClassName:Oe({[`${f}-centered`]:!!t.centered},s),onCancel:()=>{e==null||e({triggerCancel:!0}),u==null||u(!1)},title:"",footer:null,transitionName:Qg(a||"","zoom",t.transitionName),maskTransitionName:Qg(a||"","fade",t.maskTransitionName),mask:y,maskClosable:b,style:v,styles:Object.assign({body:l,mask:r},d),width:p,zIndex:w,closable:c}),h.createElement(hQ,Object.assign({},t,{confirmPrefixCls:f})))},pQ=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:r,theme:i}=t;return h.createElement($u,{prefixCls:e,iconPrefixCls:n,direction:r,theme:i},h.createElement(lMe,Object.assign({},t)))},sh=[];let mQ="";function gQ(){return mQ}const cMe=t=>{var e,n;const{prefixCls:r,getContainer:i,direction:o}=t,s=WX(),a=h.useContext(Pn),l=gQ()||a.getPrefixCls(),c=r||`${l}-modal`;let u=i;return u===!1&&(u=void 0),ae.createElement(pQ,Object.assign({},t,{rootPrefixCls:l,prefixCls:c,iconPrefixCls:a.iconPrefixCls,theme:a.theme,direction:o??a.direction,locale:(n=(e=a.locale)===null||e===void 0?void 0:e.Modal)!==null&&n!==void 0?n:s,getContainer:u}))};function g_(t){const e=yZ(),n=document.createDocumentFragment();let r=Object.assign(Object.assign({},t),{close:l,open:!0}),i,o;function s(){for(var u,d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];if(f.some(b=>b==null?void 0:b.triggerCancel)){var y;(u=t.onCancel)===null||u===void 0||(y=u).call.apply(y,[t,()=>{}].concat(it(f.slice(1))))}for(let b=0;b<sh.length;b++)if(sh[b]===l){sh.splice(b,1);break}o()}function a(u){clearTimeout(i),i=setTimeout(()=>{const d=e.getPrefixCls(void 0,gQ()),f=e.getIconPrefixCls(),p=e.getTheme(),v=ae.createElement(cMe,Object.assign({},u));o=BN()(ae.createElement($u,{prefixCls:d,iconPrefixCls:f,theme:p},e.holderRender?e.holderRender(v):v),n)})}function l(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),s.apply(this,d)}}),r.visible&&delete r.visible,a(r)}function c(u){typeof u=="function"?r=u(r):r=Object.assign(Object.assign({},r),u),a(r)}return a(r),sh.push(l),{destroy:l,update:c}}function vQ(t){return Object.assign(Object.assign({},t),{type:"warning"})}function yQ(t){return Object.assign(Object.assign({},t),{type:"info"})}function bQ(t){return Object.assign(Object.assign({},t),{type:"success"})}function xQ(t){return Object.assign(Object.assign({},t),{type:"error"})}function _Q(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function uMe(t){let{rootPrefixCls:e}=t;mQ=e}var dMe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const fMe=(t,e)=>{var n,{afterClose:r,config:i}=t,o=dMe(t,["afterClose","config"]);const[s,a]=h.useState(!0),[l,c]=h.useState(i),{direction:u,getPrefixCls:d}=h.useContext(Pn),f=d("modal"),p=d(),v=()=>{var _;r(),(_=l.afterClose)===null||_===void 0||_.call(l)},y=function(){var _;a(!1);for(var w=arguments.length,E=new Array(w),T=0;T<w;T++)E[T]=arguments[T];if(E.some(P=>P==null?void 0:P.triggerCancel)){var S;(_=l.onCancel)===null||_===void 0||(S=_).call.apply(S,[l,()=>{}].concat(it(E.slice(1))))}};h.useImperativeHandle(e,()=>({destroy:y,update:_=>{c(w=>Object.assign(Object.assign({},w),_))}}));const b=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[x]=xp("Modal",rf.Modal);return h.createElement(pQ,Object.assign({prefixCls:f,rootPrefixCls:p},l,{close:y,open:s,afterClose:v,okText:l.okText||(b?x==null?void 0:x.okText:x==null?void 0:x.justOkText),direction:l.direction||u,cancelText:l.cancelText||(x==null?void 0:x.cancelText)},o))},hMe=h.forwardRef(fMe);let Y6=0;const pMe=h.memo(h.forwardRef((t,e)=>{const[n,r]=x2e();return h.useImperativeHandle(e,()=>({patchElement:r}),[]),h.createElement(h.Fragment,null,n)}));function mMe(){const t=h.useRef(null),[e,n]=h.useState([]);h.useEffect(()=>{e.length&&(it(e).forEach(s=>{s()}),n([]))},[e]);const r=h.useCallback(o=>function(a){var l;Y6+=1;const c=h.createRef();let u;const d=new Promise(b=>{u=b});let f=!1,p;const v=h.createElement(hMe,{key:`modal-${Y6}`,config:o(a),ref:c,afterClose:()=>{p==null||p()},isSilent:()=>f,onConfirm:b=>{u(b)}});return p=(l=t.current)===null||l===void 0?void 0:l.patchElement(v),p&&sh.push(p),{destroy:()=>{function b(){var x;(x=c.current)===null||x===void 0||x.destroy()}c.current?b():n(x=>[].concat(it(x),[b]))},update:b=>{function x(){var _;(_=c.current)===null||_===void 0||_.update(b)}c.current?x():n(_=>[].concat(it(_),[x]))},then:b=>(f=!0,d.then(b))}},[]);return[h.useMemo(()=>({info:r(yQ),success:r(bQ),error:r(xQ),warning:r(vQ),confirm:r(_Q)}),[]),h.createElement(pMe,{key:"modal-holder",ref:t})]}const gMe=ae.createContext({});function wQ(t){return e=>h.createElement($u,{theme:{token:{motion:!1,zIndexPopupBase:0}}},h.createElement(t,Object.assign({},e)))}const CQ=(t,e,n,r,i)=>wQ(s=>{const{prefixCls:a,style:l}=s,c=h.useRef(null),[u,d]=h.useState(0),[f,p]=h.useState(0),[v,y]=so(!1,{value:s.open}),{getPrefixCls:b}=h.useContext(Pn),x=b(r||"select",a);h.useEffect(()=>{if(y(!0),typeof ResizeObserver<"u"){const E=new ResizeObserver(I=>{const S=I[0].target;d(S.offsetHeight+8),p(S.offsetWidth)}),T=setInterval(()=>{var I;const S=i?`.${i(x)}`:`.${x}-dropdown`,P=(I=c.current)===null||I===void 0?void 0:I.querySelector(S);P&&(clearInterval(T),E.observe(P))},10);return()=>{clearInterval(T),E.disconnect()}}},[]);let _=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},l),{margin:0}),open:v,visible:v,getPopupContainer:()=>c.current});e&&Object.assign(_,{[e]:{overflow:{adjustX:!1,adjustY:!1}}});const w={paddingBottom:u,position:"relative",minWidth:f};return h.createElement("div",{ref:c,style:w},h.createElement(t,Object.assign({},_)))}),SQ=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var bT=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.children,s=e.onMouseDown,a=e.onClick,l=typeof r=="function"?r(i):r;return h.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),s==null||s(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},l!==void 0?l:h.createElement("span",{className:Oe(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},o))},vMe=function(e,n,r,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=ae.useMemo(function(){if(zt(i)==="object")return i.clearIcon;if(o)return o},[i,o]),u=ae.useMemo(function(){return!!(!s&&i&&(r.length||a)&&!(l==="combobox"&&a===""))},[i,s,r.length,a,l]);return{allowClear:u,clearIcon:ae.createElement(bT,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"×")}},EQ=h.createContext(null);function yMe(){return h.useContext(EQ)}function bMe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=h.useState(!1),n=Fe(e,2),r=n[0],i=n[1],o=h.useRef(null),s=function(){window.clearTimeout(o.current)};h.useEffect(function(){return s},[]);var a=function(c,u){s(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,a,s]}function IQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=h.useRef(null),n=h.useRef(null);h.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function xMe(t,e,n,r){var i=h.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},h.useEffect(function(){function o(s){var a;if(!((a=i.current)!==null&&a!==void 0&&a.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function _Me(t){return t&&![At.ESC,At.SHIFT,At.BACKSPACE,At.TAB,At.WIN_KEY,At.ALT,At.META,At.WIN_KEY_RIGHT,At.CTRL,At.SEMICOLON,At.EQUALS,At.CAPS_LOCK,At.CONTEXT_MENU,At.F1,At.F2,At.F3,At.F4,At.F5,At.F6,At.F7,At.F8,At.F9,At.F10,At.F11,At.F12].includes(t)}var wMe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],em=void 0;function CMe(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,s=t.responsive,a=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,d=t.style,f=t.children,p=t.display,v=t.order,y=t.component,b=y===void 0?"div":y,x=bn(t,wMe),_=s&&!p;function w(P){l(c,P)}h.useEffect(function(){return function(){w(null)}},[]);var E=o&&i!==em?o(i,{index:v}):f,T;r||(T={opacity:_?0:1,height:_?0:em,overflowY:_?"hidden":em,order:s?v:em,pointerEvents:_?"none":em,position:_?"absolute":em});var I={};_&&(I["aria-hidden"]=!0);var S=h.createElement(b,Q({className:Oe(!r&&n,u),style:_e(_e({},T),d)},I,x,{ref:e}),E);return s&&(S=h.createElement(Sl,{onResize:function(R){var O=R.offsetWidth;w(O)},disabled:a},S)),S}var X0=h.forwardRef(CMe);X0.displayName="Item";function SMe(t){if(typeof MessageChannel>"u")nr(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function EMe(){var t=h.useRef(null),e=function(r){t.current||(t.current=[],SMe(function(){js.unstable_batchedUpdates(function(){t.current.forEach(function(i){i()}),t.current=null})})),t.current.push(r)};return e}function $y(t,e){var n=h.useState(e),r=Fe(n,2),i=r[0],o=r[1],s=Or(function(a){t(function(){o(a)})});return[i,s]}var lE=ae.createContext(null),IMe=["component"],TMe=["className"],PMe=["className"],RMe=function(e,n){var r=h.useContext(lE);if(!r){var i=e.component,o=i===void 0?"div":i,s=bn(e,IMe);return h.createElement(o,Q({},s,{ref:n}))}var a=r.className,l=bn(r,TMe),c=e.className,u=bn(e,PMe);return h.createElement(lE.Provider,{value:null},h.createElement(X0,Q({ref:n,className:Oe(a,c)},l,u)))},TQ=h.forwardRef(RMe);TQ.displayName="RawItem";var kMe=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],PQ="responsive",RQ="invalidate";function MMe(t){return"+ ".concat(t.length," ...")}function OMe(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,s=t.renderItem,a=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,d=t.ssr,f=t.style,p=t.className,v=t.maxCount,y=t.renderRest,b=t.renderRawRest,x=t.suffix,_=t.component,w=_===void 0?"div":_,E=t.itemComponent,T=t.onVisibleChange,I=bn(t,kMe),S=d==="full",P=EMe(),R=$y(P,null),O=Fe(R,2),N=O[0],A=O[1],$=N||0,M=$y(P,new Map),F=Fe(M,2),z=F[0],j=F[1],B=$y(P,0),W=Fe(B,2),q=W[0],G=W[1],X=$y(P,0),ue=Fe(X,2),te=ue[0],J=ue[1],se=$y(P,0),ge=Fe(se,2),le=ge[0],we=ge[1],ce=h.useState(null),be=Fe(ce,2),K=be[0],oe=be[1],V=h.useState(null),ie=Fe(V,2),re=ie[0],ee=ie[1],Y=h.useMemo(function(){return re===null&&S?Number.MAX_SAFE_INTEGER:re||0},[re,N]),he=h.useState(!1),Ce=Fe(he,2),me=Ce[0],fe=Ce[1],ye="".concat(r,"-item"),Te=Math.max(q,te),ke=v===PQ,je=o.length&&ke,de=v===RQ,Se=je||typeof v=="number"&&o.length>v,Re=h.useMemo(function(){var St=o;return je?N===null&&S?St=o:St=o.slice(0,Math.min(o.length,$/u)):typeof v=="number"&&(St=o.slice(0,v)),St},[o,u,N,v,je]),Ve=h.useMemo(function(){return je?o.slice(Y+1):o.slice(Re.length)},[o,Re,je,Y]),De=h.useCallback(function(St,gt){var lt;return typeof l=="function"?l(St):(lt=l&&(St==null?void 0:St[l]))!==null&&lt!==void 0?lt:gt},[l]),ze=h.useCallback(s||function(St){return St},[s]);function $e(St,gt,lt){re===St&&(gt===void 0||gt===K)||(ee(St),lt||(fe(St<o.length-1),T==null||T(St)),gt!==void 0&&oe(gt))}function Ke(St,gt){A(gt.clientWidth)}function Ae(St,gt){j(function(lt){var kt=new Map(lt);return gt===null?kt.delete(St):kt.set(St,gt),kt})}function Ue(St,gt){J(gt),G(te)}function rt(St,gt){we(gt)}function mt(St){return z.get(De(Re[St],St))}gr(function(){if($&&typeof Te=="number"&&Re){var St=le,gt=Re.length,lt=gt-1;if(!gt){$e(0,null);return}for(var kt=0;kt<gt;kt+=1){var Ie=mt(kt);if(S&&(Ie=Ie||0),Ie===void 0){$e(kt-1,void 0,!0);break}if(St+=Ie,lt===0&&St<=$||kt===lt-1&&St+mt(lt)<=$){$e(lt,null);break}else if(St+Te>$){$e(kt-1,St-Ie-le+te);break}}x&&mt(0)+le>$&&oe(null)}},[$,z,te,le,De,Re]);var ot=me&&!!Ve.length,Bt={};K!==null&&je&&(Bt={position:"absolute",left:K,top:0});var Xt={prefixCls:ye,responsive:je,component:E,invalidate:de},Lt=a?function(St,gt){var lt=De(St,gt);return h.createElement(lE.Provider,{key:lt,value:_e(_e({},Xt),{},{order:gt,item:St,itemKey:lt,registerSize:Ae,display:gt<=Y})},a(St,gt))}:function(St,gt){var lt=De(St,gt);return h.createElement(X0,Q({},Xt,{order:gt,key:lt,item:St,renderItem:ze,itemKey:lt,registerSize:Ae,display:gt<=Y}))},en={order:ot?Y:Number.MAX_SAFE_INTEGER,className:"".concat(ye,"-rest"),registerSize:Ue,display:ot},on=y||MMe,xn=b?h.createElement(lE.Provider,{value:_e(_e({},Xt),en)},b(Ve)):h.createElement(X0,Q({},Xt,en),typeof on=="function"?on(Ve):on),qt=h.createElement(w,Q({className:Oe(!de&&r,p),style:f,ref:e},I),Re.map(Lt),Se?xn:null,x&&h.createElement(X0,Q({},Xt,{responsive:ke,responsiveDisabled:!je,order:Y,className:"".concat(ye,"-suffix"),registerSize:rt,display:!0,style:Bt}),x));return ke?h.createElement(Sl,{onResize:Ke,disabled:!je},qt):qt}var uc=h.forwardRef(OMe);uc.displayName="Overflow";uc.Item=TQ;uc.RESPONSIVE=PQ;uc.INVALIDATE=RQ;var DMe=function(e,n){var r,i=e.prefixCls,o=e.id,s=e.inputElement,a=e.disabled,l=e.tabIndex,c=e.autoFocus,u=e.autoComplete,d=e.editable,f=e.activeDescendantId,p=e.value,v=e.maxLength,y=e.onKeyDown,b=e.onMouseDown,x=e.onChange,_=e.onPaste,w=e.onCompositionStart,E=e.onCompositionEnd,T=e.onBlur,I=e.open,S=e.attrs,P=s||h.createElement("input",null),R=P,O=R.ref,N=R.props,A=N.onKeyDown,$=N.onChange,M=N.onMouseDown,F=N.onCompositionStart,z=N.onCompositionEnd,j=N.onBlur,B=N.style;return"maxLength"in P.props,P=h.cloneElement(P,_e(_e(_e({type:"search"},N),{},{id:o,ref:Ya(n,O),disabled:a,tabIndex:l,autoComplete:u||"off",autoFocus:c,className:Oe("".concat(i,"-selection-search-input"),(r=P)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":I||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":I?f:void 0},S),{},{value:d?p:"",maxLength:v,readOnly:!d,unselectable:d?null:"on",style:_e(_e({},B),{},{opacity:d?null:0}),onKeyDown:function(q){y(q),A&&A(q)},onMouseDown:function(q){b(q),M&&M(q)},onChange:function(q){x(q),$&&$(q)},onCompositionStart:function(q){w(q),F&&F(q)},onCompositionEnd:function(q){E(q),z&&z(q)},onPaste:_,onBlur:function(q){T(q),j&&j(q)}})),P},kQ=h.forwardRef(DMe);function MQ(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var AMe=typeof window<"u"&&window.document&&window.document.documentElement,$Me=AMe;function NMe(t){return t!=null}function LMe(t){return!t&&t!==0}function X6(t){return["string","number"].includes(zt(t))}function OQ(t){var e=void 0;return t&&(X6(t.title)?e=t.title.toString():X6(t.label)&&(e=t.label.toString())),e}function jMe(t,e){$Me?h.useLayoutEffect(t,e):h.useEffect(t,e)}function zMe(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var Z6=function(e){e.preventDefault(),e.stopPropagation()},FMe=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,s=e.searchValue,a=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,f=e.showSearch,p=e.autoFocus,v=e.autoComplete,y=e.activeDescendantId,b=e.tabIndex,x=e.removeIcon,_=e.maxTagCount,w=e.maxTagTextLength,E=e.maxTagPlaceholder,T=E===void 0?function(V){return"+ ".concat(V.length," ...")}:E,I=e.tagRender,S=e.onToggleOpen,P=e.onRemove,R=e.onInputChange,O=e.onInputPaste,N=e.onInputKeyDown,A=e.onInputMouseDown,$=e.onInputCompositionStart,M=e.onInputCompositionEnd,F=e.onInputBlur,z=h.useRef(null),j=h.useState(0),B=Fe(j,2),W=B[0],q=B[1],G=h.useState(!1),X=Fe(G,2),ue=X[0],te=X[1],J="".concat(r,"-selection"),se=o||d==="multiple"&&a===!1||d==="tags"?s:"",ge=d==="tags"||d==="multiple"&&a===!1||f&&(o||ue);jMe(function(){q(z.current.scrollWidth)},[se]);var le=function(ie,re,ee,Y,he){return h.createElement("span",{title:OQ(ie),className:Oe("".concat(J,"-item"),ve({},"".concat(J,"-item-disabled"),ee))},h.createElement("span",{className:"".concat(J,"-item-content")},re),Y&&h.createElement(bT,{className:"".concat(J,"-item-remove"),onMouseDown:Z6,onClick:he,customizeIcon:x},"×"))},we=function(ie,re,ee,Y,he,Ce){var me=function(ye){Z6(ye),S(!o)};return h.createElement("span",{onMouseDown:me},I({label:re,value:ie,disabled:ee,closable:Y,onClose:he,isMaxTag:!!Ce}))},ce=function(ie){var re=ie.disabled,ee=ie.label,Y=ie.value,he=!u&&!re,Ce=ee;if(typeof w=="number"&&(typeof ee=="string"||typeof ee=="number")){var me=String(Ce);me.length>w&&(Ce="".concat(me.slice(0,w),"..."))}var fe=function(Te){Te&&Te.stopPropagation(),P(ie)};return typeof I=="function"?we(Y,Ce,re,he,fe):le(ie,Ce,re,he,fe)},be=function(ie){if(!i.length)return null;var re=typeof T=="function"?T(ie):T;return typeof I=="function"?we(void 0,re,!1,!1,void 0,!0):le({title:re},re,!1)},K=h.createElement("div",{className:"".concat(J,"-search"),style:{width:W},onFocus:function(){te(!0)},onBlur:function(){te(!1)}},h.createElement(kQ,{ref:l,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:p,autoComplete:v,editable:ge,activeDescendantId:y,value:se,onKeyDown:N,onMouseDown:A,onChange:R,onPaste:O,onCompositionStart:$,onCompositionEnd:M,onBlur:F,tabIndex:b,attrs:ms(e,!0)}),h.createElement("span",{ref:z,className:"".concat(J,"-search-mirror"),"aria-hidden":!0},se," ")),oe=h.createElement(uc,{prefixCls:"".concat(J,"-overflow"),data:i,renderItem:ce,renderRest:be,suffix:K,itemKey:zMe,maxCount:_});return h.createElement("span",{className:"".concat(J,"-wrap")},oe,!i.length&&!se&&h.createElement("span",{className:"".concat(J,"-placeholder")},c))},BMe=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,s=e.disabled,a=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,p=e.placeholder,v=e.tabIndex,y=e.showSearch,b=e.searchValue,x=e.activeValue,_=e.maxLength,w=e.onInputKeyDown,E=e.onInputMouseDown,T=e.onInputChange,I=e.onInputPaste,S=e.onInputCompositionStart,P=e.onInputCompositionEnd,R=e.onInputBlur,O=e.title,N=h.useState(!1),A=Fe(N,2),$=A[0],M=A[1],F=u==="combobox",z=F||y,j=f[0],B=b||"";F&&x&&!$&&(B=x),h.useEffect(function(){F&&M(!1)},[F,x]);var W=u!=="combobox"&&!d&&!y?!1:!!B,q=O===void 0?OQ(j):O,G=h.useMemo(function(){return j?null:h.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:W?{visibility:"hidden"}:void 0},p)},[j,W,p,r]);return h.createElement("span",{className:"".concat(r,"-selection-wrap")},h.createElement("span",{className:"".concat(r,"-selection-search")},h.createElement(kQ,{ref:o,prefixCls:r,id:i,open:d,inputElement:n,disabled:s,autoFocus:a,autoComplete:l,editable:z,activeDescendantId:c,value:B,onKeyDown:w,onMouseDown:E,onChange:function(ue){M(!0),T(ue)},onPaste:I,onCompositionStart:S,onCompositionEnd:P,onBlur:R,tabIndex:v,attrs:ms(e,!0),maxLength:F?_:void 0})),!F&&j?h.createElement("span",{className:"".concat(r,"-selection-item"),title:q,style:W?{visibility:"hidden"}:void 0},j.label):null,G)},VMe=function(e,n){var r=h.useRef(null),i=h.useRef(!1),o=e.prefixCls,s=e.open,a=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.disabled,d=e.prefix,f=e.autoClearSearchValue,p=e.onSearch,v=e.onSearchSubmit,y=e.onToggleOpen,b=e.onInputKeyDown,x=e.onInputBlur,_=e.domRef;h.useImperativeHandle(n,function(){return{focus:function(q){r.current.focus(q)},blur:function(){r.current.blur()}}});var w=IQ(0),E=Fe(w,2),T=E[0],I=E[1],S=function(q){var G=q.which,X=r.current instanceof HTMLTextAreaElement;!X&&s&&(G===At.UP||G===At.DOWN)&&q.preventDefault(),b&&b(q),G===At.ENTER&&a==="tags"&&!i.current&&!s&&(v==null||v(q.target.value)),!(X&&!s&&~[At.UP,At.DOWN,At.LEFT,At.RIGHT].indexOf(G))&&_Me(G)&&y(!0)},P=function(){I(!0)},R=h.useRef(null),O=function(q){p(q,!0,i.current)!==!1&&y(!0)},N=function(){i.current=!0},A=function(q){i.current=!1,a!=="combobox"&&O(q.target.value)},$=function(q){var G=q.target.value;if(c&&R.current&&/[\r\n]/.test(R.current)){var X=R.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");G=G.replace(X,R.current)}R.current=null,O(G)},M=function(q){var G=q.clipboardData,X=G==null?void 0:G.getData("text");R.current=X||""},F=function(q){var G=q.target;if(G!==r.current){var X=document.body.style.msTouchAction!==void 0;X?setTimeout(function(){r.current.focus()}):r.current.focus()}},z=function(q){var G=T();q.target!==r.current&&!G&&!(a==="combobox"&&u)&&q.preventDefault(),(a!=="combobox"&&(!l||!G)||!s)&&(s&&f!==!1&&p("",!0,!1),y())},j={inputRef:r,onInputKeyDown:S,onInputMouseDown:P,onInputChange:$,onInputPaste:M,onInputCompositionStart:N,onInputCompositionEnd:A,onInputBlur:x},B=a==="multiple"||a==="tags"?h.createElement(FMe,Q({},e,j)):h.createElement(BMe,Q({},e,j));return h.createElement("div",{ref:_,className:"".concat(o,"-selector"),onClick:F,onMouseDown:z},d&&h.createElement("div",{className:"".concat(o,"-prefix")},d),B)},HMe=h.forwardRef(VMe);function WMe(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,f=h.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(n.autoArrow!==!1){var v=n.points[0],y=n.points[1],b=v[0],x=v[1],_=y[0],w=y[1];b===_||!["t","b"].includes(b)?p.top=d:b==="t"?p.top=0:p.bottom=0,x===w||!["l","r"].includes(x)?p.left=c:x==="l"?p.left=0:p.right=0}return h.createElement("div",{ref:f,className:Oe("".concat(e,"-arrow"),s),style:p},a)}function UMe(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?h.createElement(Au,Q({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return h.createElement("div",{style:{zIndex:r},className:Oe("".concat(e,"-mask"),a)})}):null}var KMe=h.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),qMe=h.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,s=t.target,a=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,f=t.mask,p=t.arrow,v=t.arrowPos,y=t.align,b=t.motion,x=t.maskMotion,_=t.forceRender,w=t.getPopupContainer,E=t.autoDestroy,T=t.portal,I=t.zIndex,S=t.onMouseEnter,P=t.onMouseLeave,R=t.onPointerEnter,O=t.onPointerDownCapture,N=t.ready,A=t.offsetX,$=t.offsetY,M=t.offsetR,F=t.offsetB,z=t.onAlign,j=t.onPrepare,B=t.stretch,W=t.targetWidth,q=t.targetHeight,G=typeof n=="function"?n():n,X=l||c,ue=(w==null?void 0:w.length)>0,te=h.useState(!w||!ue),J=Fe(te,2),se=J[0],ge=J[1];if(gr(function(){!se&&ue&&s&&ge(!0)},[se,ue,s]),!se)return null;var le="auto",we={left:"-1000vw",top:"-1000vh",right:le,bottom:le};if(N||!l){var ce,be=y.points,K=y.dynamicInset||((ce=y._experimental)===null||ce===void 0?void 0:ce.dynamicInset),oe=K&&be[0][1]==="r",V=K&&be[0][0]==="b";oe?(we.right=M,we.left=le):(we.left=A,we.right=le),V?(we.bottom=F,we.top=le):(we.top=$,we.bottom=le)}var ie={};return B&&(B.includes("height")&&q?ie.height=q:B.includes("minHeight")&&q&&(ie.minHeight=q),B.includes("width")&&W?ie.width=W:B.includes("minWidth")&&W&&(ie.minWidth=W)),l||(ie.pointerEvents="none"),h.createElement(T,{open:_||X,getContainer:w&&function(){return w(s)},autoDestroy:E},h.createElement(UMe,{prefixCls:i,open:l,zIndex:I,mask:f,motion:x}),h.createElement(Sl,{onResize:z,disabled:!l},function(re){return h.createElement(Au,Q({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:_,leavedClassName:"".concat(i,"-hidden")},b,{onAppearPrepare:j,onEnterPrepare:j,visible:l,onVisibleChanged:function(Y){var he;b==null||(he=b.onVisibleChanged)===null||he===void 0||he.call(b,Y),a(Y)}}),function(ee,Y){var he=ee.className,Ce=ee.style,me=Oe(i,he,r);return h.createElement("div",{ref:Ya(re,e,Y),className:me,style:_e(_e(_e(_e({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},we),ie),Ce),{},{boxSizing:"border-box",zIndex:I},o),onMouseEnter:S,onMouseLeave:P,onPointerEnter:R,onClick:d,onPointerDownCapture:O},p&&h.createElement(WMe,{prefixCls:i,arrow:p,arrowPos:v,align:y}),h.createElement(KMe,{cache:!l&&!u},G))})}))}),GMe=h.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=xc(n),o=h.useCallback(function(a){tx(e,r?r(a):a)},[r]),s=xf(o,yp(n));return i?h.cloneElement(n,{ref:s}):n}),Q6=h.createContext(null);function J6(t){return t?Array.isArray(t)?t:[t]:[]}function YMe(t,e,n,r){return h.useMemo(function(){var i=J6(n??e),o=J6(r??e),s=new Set(i),a=new Set(o);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function XMe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function ZMe(t,e,n,r){for(var i=n.points,o=Object.keys(t),s=0;s<o.length;s+=1){var a,l=o[s];if(XMe((a=t[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function eV(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function v_(t){return t.ownerDocument.defaultView}function GO(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=v_(n).getComputedStyle(n),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function hx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Ny(t){return hx(parseFloat(t),0)}function tV(t,e){var n=_e({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=v_(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,p=r.clientHeight,v=r.offsetWidth,y=r.clientWidth,b=Ny(a),x=Ny(l),_=Ny(c),w=Ny(u),E=hx(Math.round(d.width/v*1e3)/1e3),T=hx(Math.round(d.height/f*1e3)/1e3),I=(v-y-_-w)*E,S=(f-p-b-x)*T,P=b*T,R=x*T,O=_*E,N=w*E,A=0,$=0;if(o==="clip"){var M=Ny(s);A=M*E,$=M*T}var F=d.x+O-A,z=d.y+P-$,j=F+d.width+2*A-O-N-I,B=z+d.height+2*$-P-R-S;n.left=Math.max(n.left,F),n.top=Math.max(n.top,z),n.right=Math.min(n.right,j),n.bottom=Math.min(n.bottom,B)}}),n}function nV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function rV(t,e){var n=e||[],r=Fe(n,2),i=r[0],o=r[1];return[nV(t.width,i),nV(t.height,o)]}function iV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function tm(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function Ku(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function QMe(t,e,n,r,i,o,s){var a=h.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=Fe(a,2),c=l[0],u=l[1],d=h.useRef(0),f=h.useMemo(function(){return e?GO(e):[]},[e]),p=h.useRef({}),v=function(){p.current={}};t||v();var y=Or(function(){if(e&&n&&t){let fr=function(Gi,Li){var ts=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Te,_n=te.x+Gi,Po=te.y+Li,hr=_n+oe,Kt=Po+K,an=Math.max(_n,ts.left),Cr=Math.max(Po,ts.top),qr=Math.min(hr,ts.right),Vn=Math.min(Kt,ts.bottom);return Math.max(0,(qr-an)*(Vn-Cr))},Fr=function(){bt=te.y+lt,Tt=bt+K,tn=te.x+gt,Wt=tn+oe};var Ri=fr,Yr=Fr,_,w,E,T,I=e,S=I.ownerDocument,P=v_(I),R=P.getComputedStyle(I),O=R.width,N=R.height,A=R.position,$=I.style.left,M=I.style.top,F=I.style.right,z=I.style.bottom,j=I.style.overflow,B=_e(_e({},i[r]),o),W=S.createElement("div");(_=I.parentElement)===null||_===void 0||_.appendChild(W),W.style.left="".concat(I.offsetLeft,"px"),W.style.top="".concat(I.offsetTop,"px"),W.style.position=A,W.style.height="".concat(I.offsetHeight,"px"),W.style.width="".concat(I.offsetWidth,"px"),I.style.left="0",I.style.top="0",I.style.right="auto",I.style.bottom="auto",I.style.overflow="hidden";var q;if(Array.isArray(n))q={x:n[0],y:n[1],width:0,height:0};else{var G,X,ue=n.getBoundingClientRect();ue.x=(G=ue.x)!==null&&G!==void 0?G:ue.left,ue.y=(X=ue.y)!==null&&X!==void 0?X:ue.top,q={x:ue.x,y:ue.y,width:ue.width,height:ue.height}}var te=I.getBoundingClientRect();te.x=(w=te.x)!==null&&w!==void 0?w:te.left,te.y=(E=te.y)!==null&&E!==void 0?E:te.top;var J=S.documentElement,se=J.clientWidth,ge=J.clientHeight,le=J.scrollWidth,we=J.scrollHeight,ce=J.scrollTop,be=J.scrollLeft,K=te.height,oe=te.width,V=q.height,ie=q.width,re={left:0,top:0,right:se,bottom:ge},ee={left:-be,top:-ce,right:le-be,bottom:we-ce},Y=B.htmlRegion,he="visible",Ce="visibleFirst";Y!=="scroll"&&Y!==Ce&&(Y=he);var me=Y===Ce,fe=tV(ee,f),ye=tV(re,f),Te=Y===he?ye:fe,ke=me?ye:Te;I.style.left="auto",I.style.top="auto",I.style.right="0",I.style.bottom="0";var je=I.getBoundingClientRect();I.style.left=$,I.style.top=M,I.style.right=F,I.style.bottom=z,I.style.overflow=j,(T=I.parentElement)===null||T===void 0||T.removeChild(W);var de=hx(Math.round(oe/parseFloat(O)*1e3)/1e3),Se=hx(Math.round(K/parseFloat(N)*1e3)/1e3);if(de===0||Se===0||ex(n)&&!oT(n))return;var Re=B.offset,Ve=B.targetOffset,De=rV(te,Re),ze=Fe(De,2),$e=ze[0],Ke=ze[1],Ae=rV(q,Ve),Ue=Fe(Ae,2),rt=Ue[0],mt=Ue[1];q.x-=rt,q.y-=mt;var ot=B.points||[],Bt=Fe(ot,2),Xt=Bt[0],Lt=Bt[1],en=iV(Lt),on=iV(Xt),xn=tm(q,en),qt=tm(te,on),St=_e({},B),gt=xn.x-qt.x+$e,lt=xn.y-qt.y+Ke,kt=fr(gt,lt),Ie=fr(gt,lt,ye),Ee=tm(q,["t","l"]),Pe=tm(te,["t","l"]),Be=tm(q,["b","r"]),Le=tm(te,["b","r"]),Qe=B.overflow||{},at=Qe.adjustX,Ze=Qe.adjustY,Xe=Qe.shiftX,et=Qe.shiftY,st=function(Li){return typeof Li=="boolean"?Li:Li>=0},bt,Tt,tn,Wt;Fr();var pt=st(Ze),Vt=on[0]===en[0];if(pt&&on[0]==="t"&&(Tt>ke.bottom||p.current.bt)){var ht=lt;Vt?ht-=K-V:ht=Ee.y-Le.y-Ke;var Pt=fr(gt,ht),Nt=fr(gt,ht,ye);Pt>kt||Pt===kt&&(!me||Nt>=Ie)?(p.current.bt=!0,lt=ht,Ke=-Ke,St.points=[Ku(on,0),Ku(en,0)]):p.current.bt=!1}if(pt&&on[0]==="b"&&(bt<ke.top||p.current.tb)){var Zt=lt;Vt?Zt+=K-V:Zt=Be.y-Pe.y-Ke;var Rn=fr(gt,Zt),rr=fr(gt,Zt,ye);Rn>kt||Rn===kt&&(!me||rr>=Ie)?(p.current.tb=!0,lt=Zt,Ke=-Ke,St.points=[Ku(on,0),Ku(en,0)]):p.current.tb=!1}var $n=st(at),Ir=on[1]===en[1];if($n&&on[1]==="l"&&(Wt>ke.right||p.current.rl)){var Ot=gt;Ir?Ot-=oe-ie:Ot=Ee.x-Le.x-$e;var Ct=fr(Ot,lt),Ft=fr(Ot,lt,ye);Ct>kt||Ct===kt&&(!me||Ft>=Ie)?(p.current.rl=!0,gt=Ot,$e=-$e,St.points=[Ku(on,1),Ku(en,1)]):p.current.rl=!1}if($n&&on[1]==="r"&&(tn<ke.left||p.current.lr)){var jn=gt;Ir?jn+=oe-ie:jn=Be.x-Pe.x-$e;var dr=fr(jn,lt),Ut=fr(jn,lt,ye);dr>kt||dr===kt&&(!me||Ut>=Ie)?(p.current.lr=!0,gt=jn,$e=-$e,St.points=[Ku(on,1),Ku(en,1)]):p.current.lr=!1}Fr();var wn=Xe===!0?0:Xe;typeof wn=="number"&&(tn<ye.left&&(gt-=tn-ye.left-$e,q.x+ie<ye.left+wn&&(gt+=q.x-ye.left+ie-wn)),Wt>ye.right&&(gt-=Wt-ye.right-$e,q.x>ye.right-wn&&(gt+=q.x-ye.right+wn)));var zr=et===!0?0:et;typeof zr=="number"&&(bt<ye.top&&(lt-=bt-ye.top-Ke,q.y+V<ye.top+zr&&(lt+=q.y-ye.top+V-zr)),Tt>ye.bottom&&(lt-=Tt-ye.bottom-Ke,q.y>ye.bottom-zr&&(lt+=q.y-ye.bottom+zr)));var si=te.x+gt,Pi=si+oe,Jr=te.y+lt,mn=Jr+K,un=q.x,Dt=un+ie,It=q.y,hn=It+V,Dn=Math.max(si,un),An=Math.min(Pi,Dt),Nn=(Dn+An)/2,Gt=Nn-si,ar=Math.max(Jr,It),vr=Math.min(mn,hn),yr=(ar+vr)/2,vi=yr-Jr;s==null||s(e,St);var sn=je.right-te.x-(gt+te.width),fn=je.bottom-te.y-(lt+te.height);de===1&&(gt=Math.round(gt),sn=Math.round(sn)),Se===1&&(lt=Math.round(lt),fn=Math.round(fn));var Kr={ready:!0,offsetX:gt/de,offsetY:lt/Se,offsetR:sn/de,offsetB:fn/Se,arrowX:Gt/de,arrowY:vi/Se,scaleX:de,scaleY:Se,align:St};u(Kr)}}),b=function(){d.current+=1;var w=d.current;Promise.resolve().then(function(){d.current===w&&y()})},x=function(){u(function(w){return _e(_e({},w),{},{ready:!1})})};return gr(x,[r]),gr(function(){t||x()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,b]}function JMe(t,e,n,r,i){gr(function(){if(t&&e&&n){let f=function(){r(),i()};var d=f,o=e,s=n,a=GO(o),l=GO(s),c=v_(s),u=new Set([c].concat(it(a),it(l)));return u.forEach(function(p){p.addEventListener("scroll",f,{passive:!0})}),c.addEventListener("resize",f,{passive:!0}),r(),function(){u.forEach(function(p){p.removeEventListener("scroll",f),c.removeEventListener("resize",f)})}}},[t,e,n])}function eOe(t,e,n,r,i,o,s,a){var l=h.useRef(t);l.current=t;var c=h.useRef(!1);h.useEffect(function(){if(e&&r&&(!i||o)){var d=function(){c.current=!1},f=function(b){var x;l.current&&!s(((x=b.composedPath)===null||x===void 0||(x=x.call(b))===null||x===void 0?void 0:x[0])||b.target)&&!c.current&&a(!1)},p=v_(r);p.addEventListener("pointerdown",d,!0),p.addEventListener("mousedown",f,!0),p.addEventListener("contextmenu",f,!0);var v=rE(n);return v&&(v.addEventListener("mousedown",f,!0),v.addEventListener("contextmenu",f,!0)),function(){p.removeEventListener("pointerdown",d,!0),p.removeEventListener("mousedown",f,!0),p.removeEventListener("contextmenu",f,!0),v&&(v.removeEventListener("mousedown",f,!0),v.removeEventListener("contextmenu",f,!0))}}},[e,n,r,i,o]);function u(){c.current=!0}return u}var tOe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function nOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GN,e=h.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=n.children,a=n.action,l=a===void 0?"hover":a,c=n.showAction,u=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,p=n.onPopupVisibleChange,v=n.afterPopupVisibleChange,y=n.mouseEnterDelay,b=n.mouseLeaveDelay,x=b===void 0?.1:b,_=n.focusDelay,w=n.blurDelay,E=n.mask,T=n.maskClosable,I=T===void 0?!0:T,S=n.getPopupContainer,P=n.forceRender,R=n.autoDestroy,O=n.destroyPopupOnHide,N=n.popup,A=n.popupClassName,$=n.popupStyle,M=n.popupPlacement,F=n.builtinPlacements,z=F===void 0?{}:F,j=n.popupAlign,B=n.zIndex,W=n.stretch,q=n.getPopupClassNameFromAlign,G=n.fresh,X=n.alignPoint,ue=n.onPopupClick,te=n.onPopupAlign,J=n.arrow,se=n.popupMotion,ge=n.maskMotion,le=n.popupTransitionName,we=n.popupAnimation,ce=n.maskTransitionName,be=n.maskAnimation,K=n.className,oe=n.getTriggerDOMNode,V=bn(n,tOe),ie=R||O||!1,re=h.useState(!1),ee=Fe(re,2),Y=ee[0],he=ee[1];gr(function(){he(SQ())},[]);var Ce=h.useRef({}),me=h.useContext(Q6),fe=h.useMemo(function(){return{registerSubPopup:function(an,Cr){Ce.current[an]=Cr,me==null||me.registerSubPopup(an,Cr)}}},[me]),ye=gT(),Te=h.useState(null),ke=Fe(Te,2),je=ke[0],de=ke[1],Se=h.useRef(null),Re=Or(function(Kt){Se.current=Kt,ex(Kt)&&je!==Kt&&de(Kt),me==null||me.registerSubPopup(ye,Kt)}),Ve=h.useState(null),De=Fe(Ve,2),ze=De[0],$e=De[1],Ke=h.useRef(null),Ae=Or(function(Kt){ex(Kt)&&ze!==Kt&&($e(Kt),Ke.current=Kt)}),Ue=h.Children.only(s),rt=(Ue==null?void 0:Ue.props)||{},mt={},ot=Or(function(Kt){var an,Cr,qr=ze;return(qr==null?void 0:qr.contains(Kt))||((an=rE(qr))===null||an===void 0?void 0:an.host)===Kt||Kt===qr||(je==null?void 0:je.contains(Kt))||((Cr=rE(je))===null||Cr===void 0?void 0:Cr.host)===Kt||Kt===je||Object.values(Ce.current).some(function(Vn){return(Vn==null?void 0:Vn.contains(Kt))||Kt===Vn})}),Bt=eV(o,se,we,le),Xt=eV(o,ge,be,ce),Lt=h.useState(f||!1),en=Fe(Lt,2),on=en[0],xn=en[1],qt=d??on,St=Or(function(Kt){d===void 0&&xn(Kt)});gr(function(){xn(d||!1)},[d]);var gt=h.useRef(qt);gt.current=qt;var lt=h.useRef([]);lt.current=[];var kt=Or(function(Kt){var an;St(Kt),((an=lt.current[lt.current.length-1])!==null&&an!==void 0?an:qt)!==Kt&&(lt.current.push(Kt),p==null||p(Kt))}),Ie=h.useRef(),Ee=function(){clearTimeout(Ie.current)},Pe=function(an){var Cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ee(),Cr===0?kt(an):Ie.current=setTimeout(function(){kt(an)},Cr*1e3)};h.useEffect(function(){return Ee},[]);var Be=h.useState(!1),Le=Fe(Be,2),Qe=Le[0],at=Le[1];gr(function(Kt){(!Kt||qt)&&at(!0)},[qt]);var Ze=h.useState(null),Xe=Fe(Ze,2),et=Xe[0],st=Xe[1],bt=h.useState(null),Tt=Fe(bt,2),tn=Tt[0],Wt=Tt[1],pt=function(an){Wt([an.clientX,an.clientY])},Vt=QMe(qt,je,X&&tn!==null?tn:ze,M,z,j,te),ht=Fe(Vt,11),Pt=ht[0],Nt=ht[1],Zt=ht[2],Rn=ht[3],rr=ht[4],$n=ht[5],Ir=ht[6],Ot=ht[7],Ct=ht[8],Ft=ht[9],jn=ht[10],dr=YMe(Y,l,c,u),Ut=Fe(dr,2),wn=Ut[0],zr=Ut[1],si=wn.has("click"),Pi=zr.has("click")||zr.has("contextMenu"),Jr=Or(function(){Qe||jn()}),mn=function(){gt.current&&X&&Pi&&Pe(!1)};JMe(qt,ze,je,Jr,mn),gr(function(){Jr()},[tn,M]),gr(function(){qt&&!(z!=null&&z[M])&&Jr()},[JSON.stringify(j)]);var un=h.useMemo(function(){var Kt=ZMe(z,o,Ft,X);return Oe(Kt,q==null?void 0:q(Ft))},[Ft,q,z,o,X]);h.useImperativeHandle(r,function(){return{nativeElement:Ke.current,popupElement:Se.current,forceAlign:Jr}});var Dt=h.useState(0),It=Fe(Dt,2),hn=It[0],Dn=It[1],An=h.useState(0),Nn=Fe(An,2),Gt=Nn[0],ar=Nn[1],vr=function(){if(W&&ze){var an=ze.getBoundingClientRect();Dn(an.width),ar(an.height)}},yr=function(){vr(),Jr()},vi=function(an){at(!1),jn(),v==null||v(an)},sn=function(){return new Promise(function(an){vr(),st(function(){return an})})};gr(function(){et&&(jn(),et(),st(null))},[et]);function fn(Kt,an,Cr,qr){mt[Kt]=function(Vn){var Vs;qr==null||qr(Vn),Pe(an,Cr);for(var pa=arguments.length,Xr=new Array(pa>1?pa-1:0),vo=1;vo<pa;vo++)Xr[vo-1]=arguments[vo];(Vs=rt[Kt])===null||Vs===void 0||Vs.call.apply(Vs,[rt,Vn].concat(Xr))}}(si||Pi)&&(mt.onClick=function(Kt){var an;gt.current&&Pi?Pe(!1):!gt.current&&si&&(pt(Kt),Pe(!0));for(var Cr=arguments.length,qr=new Array(Cr>1?Cr-1:0),Vn=1;Vn<Cr;Vn++)qr[Vn-1]=arguments[Vn];(an=rt.onClick)===null||an===void 0||an.call.apply(an,[rt,Kt].concat(qr))});var Kr=eOe(qt,Pi,ze,je,E,I,ot,Pe),Ri=wn.has("hover"),Yr=zr.has("hover"),fr,Fr;Ri&&(fn("onMouseEnter",!0,y,function(Kt){pt(Kt)}),fn("onPointerEnter",!0,y,function(Kt){pt(Kt)}),fr=function(an){(qt||Qe)&&je!==null&&je!==void 0&&je.contains(an.target)&&Pe(!0,y)},X&&(mt.onMouseMove=function(Kt){var an;(an=rt.onMouseMove)===null||an===void 0||an.call(rt,Kt)})),Yr&&(fn("onMouseLeave",!1,x),fn("onPointerLeave",!1,x),Fr=function(){Pe(!1,x)}),wn.has("focus")&&fn("onFocus",!0,_),zr.has("focus")&&fn("onBlur",!1,w),wn.has("contextMenu")&&(mt.onContextMenu=function(Kt){var an;gt.current&&zr.has("contextMenu")?Pe(!1):(pt(Kt),Pe(!0)),Kt.preventDefault();for(var Cr=arguments.length,qr=new Array(Cr>1?Cr-1:0),Vn=1;Vn<Cr;Vn++)qr[Vn-1]=arguments[Vn];(an=rt.onContextMenu)===null||an===void 0||an.call.apply(an,[rt,Kt].concat(qr))}),K&&(mt.className=Oe(rt.className,K));var Gi=_e(_e({},rt),mt),Li={},ts=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];ts.forEach(function(Kt){V[Kt]&&(Li[Kt]=function(){for(var an,Cr=arguments.length,qr=new Array(Cr),Vn=0;Vn<Cr;Vn++)qr[Vn]=arguments[Vn];(an=Gi[Kt])===null||an===void 0||an.call.apply(an,[Gi].concat(qr)),V[Kt].apply(V,qr)})});var _n=h.cloneElement(Ue,_e(_e({},Gi),Li)),Po={x:$n,y:Ir},hr=J?_e({},J!==!0?J:{}):null;return h.createElement(h.Fragment,null,h.createElement(Sl,{disabled:!qt,ref:Ae,onResize:yr},h.createElement(GMe,{getTriggerDOMNode:oe},_n)),h.createElement(Q6.Provider,{value:fe},h.createElement(qMe,{portal:t,ref:Re,prefixCls:o,popup:N,className:Oe(A,un),style:$,target:ze,onMouseEnter:fr,onMouseLeave:Fr,onPointerEnter:fr,zIndex:B,open:qt,keepDom:Qe,fresh:G,onClick:ue,onPointerDownCapture:Kr,mask:E,motion:Bt,maskMotion:Xt,onVisibleChanged:vi,onPrepare:sn,forceRender:P,autoDestroy:ie,getPopupContainer:S,align:Ft,arrow:hr,arrowPos:Po,ready:Pt,offsetX:Nt,offsetY:Zt,offsetR:Rn,offsetB:rr,onAlign:Jr,stretch:W,targetWidth:hn/Ot,targetHeight:Gt/Ct})))});return e}const xT=nOe(GN);var rOe=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],iOe=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},oOe=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,s=e.popupElement,a=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=d===void 0?"ltr":d,p=e.placement,v=e.builtinPlacements,y=e.dropdownMatchSelectWidth,b=e.dropdownRender,x=e.dropdownAlign,_=e.getPopupContainer,w=e.empty,E=e.getTriggerDOMNode,T=e.onPopupVisibleChange,I=e.onPopupMouseEnter,S=bn(e,rOe),P="".concat(r,"-dropdown"),R=s;b&&(R=b(s));var O=h.useMemo(function(){return v||iOe(y)},[v,y]),N=a?"".concat(P,"-").concat(a):l,A=typeof y=="number",$=h.useMemo(function(){return A?null:y===!1?"minWidth":"width"},[y,A]),M=c;A&&(M=_e(_e({},M),{},{width:y}));var F=h.useRef(null);return h.useImperativeHandle(n,function(){return{getPopupElement:function(){var j;return(j=F.current)===null||j===void 0?void 0:j.popupElement}}}),h.createElement(xT,Q({},S,{showAction:T?["click"]:[],hideAction:T?["click"]:[],popupPlacement:p||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:O,prefixCls:P,popupTransitionName:N,popup:h.createElement("div",{onMouseEnter:I},R),ref:F,stretch:$,popupAlign:x,popupVisible:i,getPopupContainer:_,popupClassName:Oe(u,ve({},"".concat(P,"-empty"),w)),popupStyle:M,getTriggerDOMNode:E,onPopupVisibleChange:T}),o)},sOe=h.forwardRef(oOe);function oV(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function YO(t){return typeof t<"u"&&!Number.isNaN(t)}function DQ(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,s=n.groupLabel,a=r||(e?"children":"label");return{label:a,value:i||"value",options:o||"options",groupLabel:s||a}}function aOe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=DQ(n,!1),s=o.label,a=o.value,l=o.options,c=o.groupLabel;function u(d,f){Array.isArray(d)&&d.forEach(function(p){if(f||!(l in p)){var v=p[a];i.push({key:oV(p,i.length),groupOption:f,data:p,label:p[s],value:v})}else{var y=p[c];y===void 0&&r&&(y=p.label),i.push({key:oV(p,i.length),group:!0,data:p,label:y}),u(p[l],!0)}})}return u(t,!1),i}function XO(t){var e=_e({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return pi(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var lOe=function(e,n,r){if(!n||!n.length)return null;var i=!1,o=function a(l,c){var u=FX(c),d=u[0],f=u.slice(1);if(!d)return[l];var p=l.split(d);return i=i||p.length>1,p.reduce(function(v,y){return[].concat(it(v),it(a(y,f)))},[]).filter(Boolean)},s=o(e,n);return i?typeof r<"u"?s.slice(0,r):s:null},XN=h.createContext(null);function cOe(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return h.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var o=i.label,s=i.value;return["number","string"].includes(zt(o))?o:s}).join(", ")),n.length>r?", ...":null)}var uOe=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],dOe=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],ZO=function(e){return e==="tags"||e==="multiple"},fOe=h.forwardRef(function(t,e){var n,r=t.id,i=t.prefixCls,o=t.className,s=t.showSearch,a=t.tagRender,l=t.direction,c=t.omitDomProps,u=t.displayValues,d=t.onDisplayValuesChange,f=t.emptyOptions,p=t.notFoundContent,v=p===void 0?"Not Found":p,y=t.onClear,b=t.mode,x=t.disabled,_=t.loading,w=t.getInputElement,E=t.getRawInputElement,T=t.open,I=t.defaultOpen,S=t.onDropdownVisibleChange,P=t.activeValue,R=t.onActiveValueChange,O=t.activeDescendantId,N=t.searchValue,A=t.autoClearSearchValue,$=t.onSearch,M=t.onSearchSplit,F=t.tokenSeparators,z=t.allowClear,j=t.prefix,B=t.suffixIcon,W=t.clearIcon,q=t.OptionList,G=t.animation,X=t.transitionName,ue=t.dropdownStyle,te=t.dropdownClassName,J=t.dropdownMatchSelectWidth,se=t.dropdownRender,ge=t.dropdownAlign,le=t.placement,we=t.builtinPlacements,ce=t.getPopupContainer,be=t.showAction,K=be===void 0?[]:be,oe=t.onFocus,V=t.onBlur,ie=t.onKeyUp,re=t.onKeyDown,ee=t.onMouseDown,Y=bn(t,uOe),he=ZO(b),Ce=(s!==void 0?s:he)||b==="combobox",me=_e({},Y);dOe.forEach(function(Dt){delete me[Dt]}),c==null||c.forEach(function(Dt){delete me[Dt]});var fe=h.useState(!1),ye=Fe(fe,2),Te=ye[0],ke=ye[1];h.useEffect(function(){ke(SQ())},[]);var je=h.useRef(null),de=h.useRef(null),Se=h.useRef(null),Re=h.useRef(null),Ve=h.useRef(null),De=h.useRef(!1),ze=bMe(),$e=Fe(ze,3),Ke=$e[0],Ae=$e[1],Ue=$e[2];h.useImperativeHandle(e,function(){var Dt,It;return{focus:(Dt=Re.current)===null||Dt===void 0?void 0:Dt.focus,blur:(It=Re.current)===null||It===void 0?void 0:It.blur,scrollTo:function(Dn){var An;return(An=Ve.current)===null||An===void 0?void 0:An.scrollTo(Dn)},nativeElement:je.current||de.current}});var rt=h.useMemo(function(){var Dt;if(b!=="combobox")return N;var It=(Dt=u[0])===null||Dt===void 0?void 0:Dt.value;return typeof It=="string"||typeof It=="number"?String(It):""},[N,b,u]),mt=b==="combobox"&&typeof w=="function"&&w()||null,ot=typeof E=="function"&&E(),Bt=xf(de,ot==null||(n=ot.props)===null||n===void 0?void 0:n.ref),Xt=h.useState(!1),Lt=Fe(Xt,2),en=Lt[0],on=Lt[1];gr(function(){on(!0)},[]);var xn=so(!1,{defaultValue:I,value:T}),qt=Fe(xn,2),St=qt[0],gt=qt[1],lt=en?St:!1,kt=!v&&f;(x||kt&&lt&&b==="combobox")&&(lt=!1);var Ie=kt?!1:lt,Ee=h.useCallback(function(Dt){var It=Dt!==void 0?Dt:!lt;x||(gt(It),lt!==It&&(S==null||S(It)))},[x,lt,gt,S]),Pe=h.useMemo(function(){return(F||[]).some(function(Dt){return[`
`,`\r
`].includes(Dt)})},[F]),Be=h.useContext(XN)||{},Le=Be.maxCount,Qe=Be.rawValues,at=function(It,hn,Dn){if(!(he&&YO(Le)&&(Qe==null?void 0:Qe.size)>=Le)){var An=!0,Nn=It;R==null||R(null);var Gt=lOe(It,F,YO(Le)?Le-Qe.size:void 0),ar=Dn?null:Gt;return b!=="combobox"&&ar&&(Nn="",M==null||M(ar),Ee(!1),An=!1),$&&rt!==Nn&&$(Nn,{source:hn?"typing":"effect"}),An}},Ze=function(It){!It||!It.trim()||$(It,{source:"submit"})};h.useEffect(function(){!lt&&!he&&b!=="combobox"&&at("",!1,!1)},[lt]),h.useEffect(function(){St&&x&&gt(!1),x&&!De.current&&Ae(!1)},[x]);var Xe=IQ(),et=Fe(Xe,2),st=et[0],bt=et[1],Tt=h.useRef(!1),tn=function(It){var hn=st(),Dn=It.key,An=Dn==="Enter";if(An&&(b!=="combobox"&&It.preventDefault(),lt||Ee(!0)),bt(!!rt),Dn==="Backspace"&&!hn&&he&&!rt&&u.length){for(var Nn=it(u),Gt=null,ar=Nn.length-1;ar>=0;ar-=1){var vr=Nn[ar];if(!vr.disabled){Nn.splice(ar,1),Gt=vr;break}}Gt&&d(Nn,{type:"remove",values:[Gt]})}for(var yr=arguments.length,vi=new Array(yr>1?yr-1:0),sn=1;sn<yr;sn++)vi[sn-1]=arguments[sn];if(lt&&(!An||!Tt.current)){var fn;An&&(Tt.current=!0),(fn=Ve.current)===null||fn===void 0||fn.onKeyDown.apply(fn,[It].concat(vi))}re==null||re.apply(void 0,[It].concat(vi))},Wt=function(It){for(var hn=arguments.length,Dn=new Array(hn>1?hn-1:0),An=1;An<hn;An++)Dn[An-1]=arguments[An];if(lt){var Nn;(Nn=Ve.current)===null||Nn===void 0||Nn.onKeyUp.apply(Nn,[It].concat(Dn))}It.key==="Enter"&&(Tt.current=!1),ie==null||ie.apply(void 0,[It].concat(Dn))},pt=function(It){var hn=u.filter(function(Dn){return Dn!==It});d(hn,{type:"remove",values:[It]})},Vt=function(){Tt.current=!1},ht=h.useRef(!1),Pt=function(){Ae(!0),x||(oe&&!ht.current&&oe.apply(void 0,arguments),K.includes("focus")&&Ee(!0)),ht.current=!0},Nt=function(){De.current=!0,Ae(!1,function(){ht.current=!1,De.current=!1,Ee(!1)}),!x&&(rt&&(b==="tags"?$(rt,{source:"submit"}):b==="multiple"&&$("",{source:"blur"})),V&&V.apply(void 0,arguments))},Zt=[];h.useEffect(function(){return function(){Zt.forEach(function(Dt){return clearTimeout(Dt)}),Zt.splice(0,Zt.length)}},[]);var Rn=function(It){var hn,Dn=It.target,An=(hn=Se.current)===null||hn===void 0?void 0:hn.getPopupElement();if(An&&An.contains(Dn)){var Nn=setTimeout(function(){var yr=Zt.indexOf(Nn);if(yr!==-1&&Zt.splice(yr,1),Ue(),!Te&&!An.contains(document.activeElement)){var vi;(vi=Re.current)===null||vi===void 0||vi.focus()}});Zt.push(Nn)}for(var Gt=arguments.length,ar=new Array(Gt>1?Gt-1:0),vr=1;vr<Gt;vr++)ar[vr-1]=arguments[vr];ee==null||ee.apply(void 0,[It].concat(ar))},rr=h.useState({}),$n=Fe(rr,2),Ir=$n[1];function Ot(){Ir({})}var Ct;ot&&(Ct=function(It){Ee(It)}),xMe(function(){var Dt;return[je.current,(Dt=Se.current)===null||Dt===void 0?void 0:Dt.getPopupElement()]},Ie,Ee,!!ot);var Ft=h.useMemo(function(){return _e(_e({},t),{},{notFoundContent:v,open:lt,triggerOpen:Ie,id:r,showSearch:Ce,multiple:he,toggleOpen:Ee})},[t,v,Ie,lt,r,Ce,he,Ee]),jn=!!B||_,dr;jn&&(dr=h.createElement(bT,{className:Oe("".concat(i,"-arrow"),ve({},"".concat(i,"-arrow-loading"),_)),customizeIcon:B,customizeIconProps:{loading:_,searchValue:rt,open:lt,focused:Ke,showSearch:Ce}}));var Ut=function(){var It;y==null||y(),(It=Re.current)===null||It===void 0||It.focus(),d([],{type:"clear",values:u}),at("",!1,!1)},wn=vMe(i,Ut,u,z,W,x,rt,b),zr=wn.allowClear,si=wn.clearIcon,Pi=h.createElement(q,{ref:Ve}),Jr=Oe(i,o,ve(ve(ve(ve(ve(ve(ve(ve(ve(ve({},"".concat(i,"-focused"),Ke),"".concat(i,"-multiple"),he),"".concat(i,"-single"),!he),"".concat(i,"-allow-clear"),z),"".concat(i,"-show-arrow"),jn),"".concat(i,"-disabled"),x),"".concat(i,"-loading"),_),"".concat(i,"-open"),lt),"".concat(i,"-customize-input"),mt),"".concat(i,"-show-search"),Ce)),mn=h.createElement(sOe,{ref:Se,disabled:x,prefixCls:i,visible:Ie,popupElement:Pi,animation:G,transitionName:X,dropdownStyle:ue,dropdownClassName:te,direction:l,dropdownMatchSelectWidth:J,dropdownRender:se,dropdownAlign:ge,placement:le,builtinPlacements:we,getPopupContainer:ce,empty:f,getTriggerDOMNode:function(It){return de.current||It},onPopupVisibleChange:Ct,onPopupMouseEnter:Ot},ot?h.cloneElement(ot,{ref:Bt}):h.createElement(HMe,Q({},t,{domRef:de,prefixCls:i,inputElement:mt,ref:Re,id:r,prefix:j,showSearch:Ce,autoClearSearchValue:A,mode:b,activeDescendantId:O,tagRender:a,values:u,open:lt,onToggleOpen:Ee,activeValue:P,searchValue:rt,onSearch:at,onSearchSubmit:Ze,onRemove:pt,tokenWithEnter:Pe,onInputBlur:Vt}))),un;return ot?un=mn:un=h.createElement("div",Q({className:Jr},me,{ref:je,onMouseDown:Rn,onKeyDown:tn,onKeyUp:Wt,onFocus:Pt,onBlur:Nt}),h.createElement(cOe,{visible:Ke&&!lt,values:u}),mn,dr,zr&&si),h.createElement(EQ.Provider,{value:Ft},un)}),ZN=function(){return null};ZN.isSelectOptGroup=!0;var QN=function(){return null};QN.isSelectOption=!0;var AQ=h.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,s=t.prefixCls,a=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,d={},f={display:"flex",flexDirection:"column"};return r!==void 0&&(d={height:n,position:"relative",overflow:"hidden"},f=_e(_e({},f),{},ve(ve(ve(ve(ve({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),h.createElement("div",{style:d},h.createElement(Sl,{onResize:function(v){var y=v.offsetHeight;y&&a&&a()}},h.createElement("div",Q({style:f,className:Oe(ve({},"".concat(s,"-holder-inner"),s)),ref:e},l),o,u)))});AQ.displayName="Filler";function hOe(t){var e=t.children,n=t.setRef,r=h.useCallback(function(i){n(i)},[]);return h.cloneElement(e,{ref:r})}function pOe(t,e,n,r,i,o,s,a){var l=a.getKey;return t.slice(e,n+1).map(function(c,u){var d=e+u,f=s(c,d,{style:{width:r},offsetX:i}),p=l(c);return h.createElement(hOe,{key:p,setRef:function(y){return o(c,y)}},f)})}function mOe(t,e,n){var r=t.length,i=e.length,o,s;if(r===0&&i===0)return null;r<i?(o=t,s=e):(o=e,s=t);var a={__EMPTY_ITEM__:!0};function l(v){return v!==void 0?n(v):a}for(var c=null,u=Math.abs(r-i)!==1,d=0;d<s.length;d+=1){var f=l(o[d]),p=l(s[d]);if(f!==p){c=d,u=u||f!==l(s[d+1]);break}}return c===null?null:{index:c,multiple:u}}function gOe(t,e,n){var r=h.useState(t),i=Fe(r,2),o=i[0],s=i[1],a=h.useState(null),l=Fe(a,2),c=l[0],u=l[1];return h.useEffect(function(){var d=mOe(o||[],t||[],e);(d==null?void 0:d.index)!==void 0&&u(t[d.index]),s(t)},[t]),[c]}var sV=(typeof navigator>"u"?"undefined":zt(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const $Q=function(t,e,n,r){var i=h.useRef(!1),o=h.useRef(null);function s(){clearTimeout(o.current),i.current=!0,o.current=setTimeout(function(){i.current=!1},50)}var a=h.useRef({top:t,bottom:e,left:n,right:r});return a.current.top=t,a.current.bottom=e,a.current.left=n,a.current.right=r,function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?c<0&&a.current.left||c>0&&a.current.right:c<0&&a.current.top||c>0&&a.current.bottom;return u&&d?(clearTimeout(o.current),i.current=!1):(!d||i.current)&&s(),!i.current&&d}};function vOe(t,e,n,r,i,o,s){var a=h.useRef(0),l=h.useRef(null),c=h.useRef(null),u=h.useRef(!1),d=$Q(e,n,r,i);function f(_,w){if(nr.cancel(l.current),!d(!1,w)){var E=_;if(!E._virtualHandled)E._virtualHandled=!0;else return;a.current+=w,c.current=w,sV||E.preventDefault(),l.current=nr(function(){var T=u.current?10:1;s(a.current*T,!1),a.current=0})}}function p(_,w){s(w,!0),sV||_.preventDefault()}var v=h.useRef(null),y=h.useRef(null);function b(_){if(t){nr.cancel(y.current),y.current=nr(function(){v.current=null},2);var w=_.deltaX,E=_.deltaY,T=_.shiftKey,I=w,S=E;(v.current==="sx"||!v.current&&T&&E&&!w)&&(I=E,S=0,v.current="sx");var P=Math.abs(I),R=Math.abs(S);v.current===null&&(v.current=o&&P>R?"x":"y"),v.current==="y"?f(_,S):p(_,I)}}function x(_){t&&(u.current=_.detail===c.current)}return[b,x]}function yOe(t,e,n,r){var i=h.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=Fe(i,2),s=o[0],a=o[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,f=s.get(u),p=s.get(d);if(f===void 0||p===void 0)for(var v=t.length,y=a.length;y<v;y+=1){var b,x=t[y],_=e(x);s.set(_,y);var w=(b=n.get(_))!==null&&b!==void 0?b:r;if(a[y]=(a[y-1]||0)+w,_===u&&(f=y),_===d&&(p=y),f!==void 0&&p!==void 0)break}return{top:a[f-1]||0,bottom:a[p]}};return l}var bOe=function(){function t(){Wi(this,t),ve(this,"maps",void 0),ve(this,"id",0),ve(this,"diffKeys",new Set),this.maps=Object.create(null)}return Ui(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1,this.diffKeys.add(n)}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),t}();function aV(t){var e=parseFloat(t);return isNaN(e)?0:e}function xOe(t,e,n){var r=h.useState(0),i=Fe(r,2),o=i[0],s=i[1],a=h.useRef(new Map),l=h.useRef(new bOe),c=h.useRef(0);function u(){c.current+=1}function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var v=function(){var x=!1;a.current.forEach(function(_,w){if(_&&_.offsetParent){var E=_.offsetHeight,T=getComputedStyle(_),I=T.marginTop,S=T.marginBottom,P=aV(I),R=aV(S),O=E+P+R;l.current.get(w)!==O&&(l.current.set(w,O),x=!0)}}),x&&s(function(_){return _+1})};if(p)v();else{c.current+=1;var y=c.current;Promise.resolve().then(function(){y===c.current&&v()})}}function f(p,v){var y=t(p);a.current.get(y),v?(a.current.set(y,v),d()):a.current.delete(y)}return h.useEffect(function(){return u},[]),[f,d,l.current,o]}var lV=14/15;function _Oe(t,e,n){var r=h.useRef(!1),i=h.useRef(0),o=h.useRef(0),s=h.useRef(null),a=h.useRef(null),l,c=function(p){if(r.current){var v=Math.ceil(p.touches[0].pageX),y=Math.ceil(p.touches[0].pageY),b=i.current-v,x=o.current-y,_=Math.abs(b)>Math.abs(x);_?i.current=v:o.current=y;var w=n(_,_?b:x,!1,p);w&&p.preventDefault(),clearInterval(a.current),w&&(a.current=setInterval(function(){_?b*=lV:x*=lV;var E=Math.floor(_?b:x);(!n(_,E,!0)||Math.abs(E)<=.1)&&clearInterval(a.current)},16))}},u=function(){r.current=!1,l()},d=function(p){l(),p.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(p.touches[0].pageX),o.current=Math.ceil(p.touches[0].pageY),s.current=p.target,s.current.addEventListener("touchmove",c,{passive:!1}),s.current.addEventListener("touchend",u,{passive:!0}))};l=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},gr(function(){return t&&e.current.addEventListener("touchstart",d,{passive:!0}),function(){var f;(f=e.current)===null||f===void 0||f.removeEventListener("touchstart",d),l(),clearInterval(a.current)}},[t])}function cV(t){return Math.floor(Math.pow(t,.5))}function QO(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]-window[e?"scrollX":"scrollY"]}function wOe(t,e,n){h.useEffect(function(){var r=e.current;if(t&&r){var i=!1,o,s,a=function(){nr.cancel(o)},l=function f(){a(),o=nr(function(){n(s),f()})},c=function(p){if(!(p.target.draggable||p.button!==0)){var v=p;v._virtualHandled||(v._virtualHandled=!0,i=!0)}},u=function(){i=!1,a()},d=function(p){if(i){var v=QO(p,!1),y=r.getBoundingClientRect(),b=y.top,x=y.bottom;if(v<=b){var _=b-v;s=-cV(_),l()}else if(v>=x){var w=v-x;s=cV(w),l()}else a()}};return r.addEventListener("mousedown",c),r.ownerDocument.addEventListener("mouseup",u),r.ownerDocument.addEventListener("mousemove",d),function(){r.removeEventListener("mousedown",c),r.ownerDocument.removeEventListener("mouseup",u),r.ownerDocument.removeEventListener("mousemove",d),a()}}},[t])}var COe=10;function SOe(t,e,n,r,i,o,s,a){var l=h.useRef(),c=h.useState(null),u=Fe(c,2),d=u[0],f=u[1];return gr(function(){if(d&&d.times<COe){if(!t.current){f(function(W){return _e({},W)});return}o();var p=d.targetAlign,v=d.originAlign,y=d.index,b=d.offset,x=t.current.clientHeight,_=!1,w=p,E=null;if(x){for(var T=p||v,I=0,S=0,P=0,R=Math.min(e.length-1,y),O=0;O<=R;O+=1){var N=i(e[O]);S=I;var A=n.get(N);P=S+(A===void 0?r:A),I=P}for(var $=T==="top"?b:x-b,M=R;M>=0;M-=1){var F=i(e[M]),z=n.get(F);if(z===void 0){_=!0;break}if($-=z,$<=0)break}switch(T){case"top":E=S-b;break;case"bottom":E=P-x+b;break;default:{var j=t.current.scrollTop,B=j+x;S<j?w="top":P>B&&(w="bottom")}}E!==null&&s(E),E!==d.lastTop&&(_=!0)}_&&f(_e(_e({},d),{},{times:d.times+1,targetAlign:w,lastTop:E}))}},[d,t.current]),function(p){if(p==null){a();return}if(nr.cancel(l.current),typeof p=="number")s(p);else if(p&&zt(p)==="object"){var v,y=p.align;"index"in p?v=p.index:v=e.findIndex(function(_){return i(_)===p.key});var b=p.offset,x=b===void 0?0:b;f({times:0,index:v,offset:x,originAlign:y})}}}var uV=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,i=t.scrollOffset,o=t.scrollRange,s=t.onStartMove,a=t.onStopMove,l=t.onScroll,c=t.horizontal,u=t.spinSize,d=t.containerSize,f=t.style,p=t.thumbStyle,v=t.showScrollBar,y=h.useState(!1),b=Fe(y,2),x=b[0],_=b[1],w=h.useState(null),E=Fe(w,2),T=E[0],I=E[1],S=h.useState(null),P=Fe(S,2),R=P[0],O=P[1],N=!r,A=h.useRef(),$=h.useRef(),M=h.useState(v),F=Fe(M,2),z=F[0],j=F[1],B=h.useRef(),W=function(){v===!0||v===!1||(clearTimeout(B.current),j(!0),B.current=setTimeout(function(){j(!1)},3e3))},q=o-d||0,G=d-u||0,X=h.useMemo(function(){if(i===0||q===0)return 0;var be=i/q;return be*G},[i,q,G]),ue=function(K){K.stopPropagation(),K.preventDefault()},te=h.useRef({top:X,dragging:x,pageY:T,startTop:R});te.current={top:X,dragging:x,pageY:T,startTop:R};var J=function(K){_(!0),I(QO(K,c)),O(te.current.top),s(),K.stopPropagation(),K.preventDefault()};h.useEffect(function(){var be=function(ie){ie.preventDefault()},K=A.current,oe=$.current;return K.addEventListener("touchstart",be,{passive:!1}),oe.addEventListener("touchstart",J,{passive:!1}),function(){K.removeEventListener("touchstart",be),oe.removeEventListener("touchstart",J)}},[]);var se=h.useRef();se.current=q;var ge=h.useRef();ge.current=G,h.useEffect(function(){if(x){var be,K=function(ie){var re=te.current,ee=re.dragging,Y=re.pageY,he=re.startTop;nr.cancel(be);var Ce=A.current.getBoundingClientRect(),me=d/(c?Ce.width:Ce.height);if(ee){var fe=(QO(ie,c)-Y)*me,ye=he;!N&&c?ye-=fe:ye+=fe;var Te=se.current,ke=ge.current,je=ke?ye/ke:0,de=Math.ceil(je*Te);de=Math.max(de,0),de=Math.min(de,Te),be=nr(function(){l(de,c)})}},oe=function(){_(!1),a()};return window.addEventListener("mousemove",K,{passive:!0}),window.addEventListener("touchmove",K,{passive:!0}),window.addEventListener("mouseup",oe,{passive:!0}),window.addEventListener("touchend",oe,{passive:!0}),function(){window.removeEventListener("mousemove",K),window.removeEventListener("touchmove",K),window.removeEventListener("mouseup",oe),window.removeEventListener("touchend",oe),nr.cancel(be)}}},[x]),h.useEffect(function(){return W(),function(){clearTimeout(B.current)}},[i]),h.useImperativeHandle(e,function(){return{delayHidden:W}});var le="".concat(n,"-scrollbar"),we={position:"absolute",visibility:z?null:"hidden"},ce={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(we.height=8,we.left=0,we.right=0,we.bottom=0,ce.height="100%",ce.width=u,N?ce.left=X:ce.right=X):(we.width=8,we.top=0,we.bottom=0,N?we.right=0:we.left=0,ce.width="100%",ce.height=u,ce.top=X),h.createElement("div",{ref:A,className:Oe(le,ve(ve(ve({},"".concat(le,"-horizontal"),c),"".concat(le,"-vertical"),!c),"".concat(le,"-visible"),z)),style:_e(_e({},we),f),onMouseDown:ue,onMouseMove:W},h.createElement("div",{ref:$,className:Oe("".concat(le,"-thumb"),ve({},"".concat(le,"-thumb-moving"),x)),style:_e(_e({},ce),p),onMouseDown:J}))}),EOe=20;function dV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,EOe),Math.floor(n)}var IOe=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],TOe=[],POe={overflowY:"auto",overflowAnchor:"none"};function ROe(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,s=t.itemHeight,a=t.fullHeight,l=a===void 0?!0:a,c=t.style,u=t.data,d=t.children,f=t.itemKey,p=t.virtual,v=t.direction,y=t.scrollWidth,b=t.component,x=b===void 0?"div":b,_=t.onScroll,w=t.onVirtualScroll,E=t.onVisibleChange,T=t.innerProps,I=t.extraRender,S=t.styles,P=t.showScrollBar,R=P===void 0?"optional":P,O=bn(t,IOe),N=h.useCallback(function(ht){return typeof f=="function"?f(ht):ht==null?void 0:ht[f]},[f]),A=xOe(N),$=Fe(A,4),M=$[0],F=$[1],z=$[2],j=$[3],B=!!(p!==!1&&o&&s),W=h.useMemo(function(){return Object.values(z.maps).reduce(function(ht,Pt){return ht+Pt},0)},[z.id,z.maps]),q=B&&u&&(Math.max(s*u.length,W)>o||!!y),G=v==="rtl",X=Oe(r,ve({},"".concat(r,"-rtl"),G),i),ue=u||TOe,te=h.useRef(),J=h.useRef(),se=h.useRef(),ge=h.useState(0),le=Fe(ge,2),we=le[0],ce=le[1],be=h.useState(0),K=Fe(be,2),oe=K[0],V=K[1],ie=h.useState(!1),re=Fe(ie,2),ee=re[0],Y=re[1],he=function(){Y(!0)},Ce=function(){Y(!1)},me={getKey:N};function fe(ht){ce(function(Pt){var Nt;typeof ht=="function"?Nt=ht(Pt):Nt=ht;var Zt=on(Nt);return te.current.scrollTop=Zt,Zt})}var ye=h.useRef({start:0,end:ue.length}),Te=h.useRef(),ke=gOe(ue,N),je=Fe(ke,1),de=je[0];Te.current=de;var Se=h.useMemo(function(){if(!B)return{scrollHeight:void 0,start:0,end:ue.length-1,offset:void 0};if(!q){var ht;return{scrollHeight:((ht=J.current)===null||ht===void 0?void 0:ht.offsetHeight)||0,start:0,end:ue.length-1,offset:void 0}}for(var Pt=0,Nt,Zt,Rn,rr=ue.length,$n=0;$n<rr;$n+=1){var Ir=ue[$n],Ot=N(Ir),Ct=z.get(Ot),Ft=Pt+(Ct===void 0?s:Ct);Ft>=we&&Nt===void 0&&(Nt=$n,Zt=Pt),Ft>we+o&&Rn===void 0&&(Rn=$n),Pt=Ft}return Nt===void 0&&(Nt=0,Zt=0,Rn=Math.ceil(o/s)),Rn===void 0&&(Rn=ue.length-1),Rn=Math.min(Rn+1,ue.length-1),{scrollHeight:Pt,start:Nt,end:Rn,offset:Zt}},[q,B,we,ue,j,o]),Re=Se.scrollHeight,Ve=Se.start,De=Se.end,ze=Se.offset;ye.current.start=Ve,ye.current.end=De,h.useLayoutEffect(function(){var ht=z.getRecord();if(ht.size===1){var Pt=Array.from(ht)[0],Nt=ue[Ve];if(Nt){var Zt=N(Nt);if(Zt===Pt){var Rn=z.get(Pt),rr=Rn-s;fe(function($n){return $n+rr})}}}z.resetRecord()},[Re]);var $e=h.useState({width:0,height:o}),Ke=Fe($e,2),Ae=Ke[0],Ue=Ke[1],rt=function(Pt){Ue({width:Pt.offsetWidth,height:Pt.offsetHeight})},mt=h.useRef(),ot=h.useRef(),Bt=h.useMemo(function(){return dV(Ae.width,y)},[Ae.width,y]),Xt=h.useMemo(function(){return dV(Ae.height,Re)},[Ae.height,Re]),Lt=Re-o,en=h.useRef(Lt);en.current=Lt;function on(ht){var Pt=ht;return Number.isNaN(en.current)||(Pt=Math.min(Pt,en.current)),Pt=Math.max(Pt,0),Pt}var xn=we<=0,qt=we>=Lt,St=oe<=0,gt=oe>=y,lt=$Q(xn,qt,St,gt),kt=function(){return{x:G?-oe:oe,y:we}},Ie=h.useRef(kt()),Ee=Or(function(ht){if(w){var Pt=_e(_e({},kt()),ht);(Ie.current.x!==Pt.x||Ie.current.y!==Pt.y)&&(w(Pt),Ie.current=Pt)}});function Pe(ht,Pt){var Nt=ht;Pt?(js.flushSync(function(){V(Nt)}),Ee()):fe(Nt)}function Be(ht){var Pt=ht.currentTarget.scrollTop;Pt!==we&&fe(Pt),_==null||_(ht),Ee()}var Le=function(Pt){var Nt=Pt,Zt=y?y-Ae.width:0;return Nt=Math.max(Nt,0),Nt=Math.min(Nt,Zt),Nt},Qe=Or(function(ht,Pt){Pt?(js.flushSync(function(){V(function(Nt){var Zt=Nt+(G?-ht:ht);return Le(Zt)})}),Ee()):fe(function(Nt){var Zt=Nt+ht;return Zt})}),at=vOe(B,xn,qt,St,gt,!!y,Qe),Ze=Fe(at,2),Xe=Ze[0],et=Ze[1];_Oe(B,te,function(ht,Pt,Nt,Zt){var Rn=Zt;return lt(ht,Pt,Nt)?!1:!Rn||!Rn._virtualHandled?(Rn&&(Rn._virtualHandled=!0),Xe({preventDefault:function(){},deltaX:ht?Pt:0,deltaY:ht?0:Pt}),!0):!1}),wOe(q,te,function(ht){fe(function(Pt){return Pt+ht})}),gr(function(){function ht(Nt){var Zt=xn&&Nt.detail<0,Rn=qt&&Nt.detail>0;B&&!Zt&&!Rn&&Nt.preventDefault()}var Pt=te.current;return Pt.addEventListener("wheel",Xe,{passive:!1}),Pt.addEventListener("DOMMouseScroll",et,{passive:!0}),Pt.addEventListener("MozMousePixelScroll",ht,{passive:!1}),function(){Pt.removeEventListener("wheel",Xe),Pt.removeEventListener("DOMMouseScroll",et),Pt.removeEventListener("MozMousePixelScroll",ht)}},[B,xn,qt]),gr(function(){if(y){var ht=Le(oe);V(ht),Ee({x:ht})}},[Ae.width,y]);var st=function(){var Pt,Nt;(Pt=mt.current)===null||Pt===void 0||Pt.delayHidden(),(Nt=ot.current)===null||Nt===void 0||Nt.delayHidden()},bt=SOe(te,ue,z,s,N,function(){return F(!0)},fe,st);h.useImperativeHandle(e,function(){return{nativeElement:se.current,getScrollInfo:kt,scrollTo:function(Pt){function Nt(Zt){return Zt&&zt(Zt)==="object"&&("left"in Zt||"top"in Zt)}Nt(Pt)?(Pt.left!==void 0&&V(Le(Pt.left)),bt(Pt.top)):bt(Pt)}}}),gr(function(){if(E){var ht=ue.slice(Ve,De+1);E(ht,ue)}},[Ve,De,ue]);var Tt=yOe(ue,N,z,s),tn=I==null?void 0:I({start:Ve,end:De,virtual:q,offsetX:oe,offsetY:ze,rtl:G,getSize:Tt}),Wt=pOe(ue,Ve,De,y,oe,M,d,me),pt=null;o&&(pt=_e(ve({},l?"height":"maxHeight",o),POe),B&&(pt.overflowY="hidden",y&&(pt.overflowX="hidden"),ee&&(pt.pointerEvents="none")));var Vt={};return G&&(Vt.dir="rtl"),h.createElement("div",Q({ref:se,style:_e(_e({},c),{},{position:"relative"}),className:X},Vt,O),h.createElement(Sl,{onResize:rt},h.createElement(x,{className:"".concat(r,"-holder"),style:pt,ref:te,onScroll:Be,onMouseEnter:st},h.createElement(AQ,{prefixCls:r,height:Re,offsetX:oe,offsetY:ze,scrollWidth:y,onInnerResize:F,ref:J,innerProps:T,rtl:G,extra:tn},Wt))),q&&Re>o&&h.createElement(uV,{ref:mt,prefixCls:r,scrollOffset:we,scrollRange:Re,rtl:G,onScroll:Pe,onStartMove:he,onStopMove:Ce,spinSize:Xt,containerSize:Ae.height,style:S==null?void 0:S.verticalScrollBar,thumbStyle:S==null?void 0:S.verticalScrollBarThumb,showScrollBar:R}),q&&y>Ae.width&&h.createElement(uV,{ref:ot,prefixCls:r,scrollOffset:oe,scrollRange:y,rtl:G,onScroll:Pe,onStartMove:he,onStopMove:Ce,spinSize:Bt,containerSize:Ae.width,horizontal:!0,style:S==null?void 0:S.horizontalScrollBar,thumbStyle:S==null?void 0:S.horizontalScrollBarThumb,showScrollBar:R}))}var _T=h.forwardRef(ROe);_T.displayName="List";function kOe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var MOe=["disabled","title","children","style","className"];function fV(t){return typeof t=="string"||typeof t=="number"}var OOe=function(e,n){var r=yMe(),i=r.prefixCls,o=r.id,s=r.open,a=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,p=h.useContext(XN),v=p.maxCount,y=p.flattenOptions,b=p.onActiveValue,x=p.defaultActiveFirstOption,_=p.onSelect,w=p.menuItemSelectedIcon,E=p.rawValues,T=p.fieldNames,I=p.virtual,S=p.direction,P=p.listHeight,R=p.listItemHeight,O=p.optionRender,N="".concat(i,"-item"),A=vp(function(){return y},[s,y],function(be,K){return K[0]&&be[1]!==K[1]}),$=h.useRef(null),M=h.useMemo(function(){return a&&YO(v)&&(E==null?void 0:E.size)>=v},[a,v,E==null?void 0:E.size]),F=function(K){K.preventDefault()},z=function(K){var oe;(oe=$.current)===null||oe===void 0||oe.scrollTo(typeof K=="number"?{index:K}:K)},j=h.useCallback(function(be){return l==="combobox"?!1:E.has(be)},[l,it(E).toString(),E.size]),B=function(K){for(var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,V=A.length,ie=0;ie<V;ie+=1){var re=(K+ie*oe+V)%V,ee=A[re]||{},Y=ee.group,he=ee.data;if(!Y&&!(he!=null&&he.disabled)&&(j(he.value)||!M))return re}return-1},W=h.useState(function(){return B(0)}),q=Fe(W,2),G=q[0],X=q[1],ue=function(K){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;X(K);var V={source:oe?"keyboard":"mouse"},ie=A[K];if(!ie){b(null,-1,V);return}b(ie.value,K,V)};h.useEffect(function(){ue(x!==!1?B(0):-1)},[A.length,c]);var te=h.useCallback(function(be){return l==="combobox"?String(be).toLowerCase()===c.toLowerCase():E.has(be)},[l,c,it(E).toString(),E.size]);h.useEffect(function(){var be=setTimeout(function(){if(!a&&s&&E.size===1){var oe=Array.from(E)[0],V=A.findIndex(function(ie){var re=ie.data;return re.value===oe});V!==-1&&(ue(V),z(V))}});if(s){var K;(K=$.current)===null||K===void 0||K.scrollTo(void 0)}return function(){return clearTimeout(be)}},[s,c]);var J=function(K){K!==void 0&&_(K,{selected:!E.has(K)}),a||u(!1)};if(h.useImperativeHandle(n,function(){return{onKeyDown:function(K){var oe=K.which,V=K.ctrlKey;switch(oe){case At.N:case At.P:case At.UP:case At.DOWN:{var ie=0;if(oe===At.UP?ie=-1:oe===At.DOWN?ie=1:kOe()&&V&&(oe===At.N?ie=1:oe===At.P&&(ie=-1)),ie!==0){var re=B(G+ie,ie);z(re),ue(re,!0)}break}case At.TAB:case At.ENTER:{var ee,Y=A[G];Y&&!(Y!=null&&(ee=Y.data)!==null&&ee!==void 0&&ee.disabled)&&!M?J(Y.value):J(void 0),s&&K.preventDefault();break}case At.ESC:u(!1),s&&K.stopPropagation()}},onKeyUp:function(){},scrollTo:function(K){z(K)}}}),A.length===0)return h.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(N,"-empty"),onMouseDown:F},d);var se=Object.keys(T).map(function(be){return T[be]}),ge=function(K){return K.label};function le(be,K){var oe=be.group;return{role:oe?"presentation":"option",id:"".concat(o,"_list_").concat(K)}}var we=function(K){var oe=A[K];if(!oe)return null;var V=oe.data||{},ie=V.value,re=oe.group,ee=ms(V,!0),Y=ge(oe);return oe?h.createElement("div",Q({"aria-label":typeof Y=="string"&&!re?Y:null},ee,{key:K},le(oe,K),{"aria-selected":te(ie)}),ie):null},ce={role:"listbox",id:"".concat(o,"_list")};return h.createElement(h.Fragment,null,I&&h.createElement("div",Q({},ce,{style:{height:0,width:0,overflow:"hidden"}}),we(G-1),we(G),we(G+1)),h.createElement(_T,{itemKey:"key",ref:$,data:A,height:P,itemHeight:R,fullHeight:!1,onMouseDown:F,onScroll:f,virtual:I,direction:S,innerProps:I?null:ce},function(be,K){var oe=be.group,V=be.groupOption,ie=be.data,re=be.label,ee=be.value,Y=ie.key;if(oe){var he,Ce=(he=ie.title)!==null&&he!==void 0?he:fV(re)?re.toString():void 0;return h.createElement("div",{className:Oe(N,"".concat(N,"-group"),ie.className),title:Ce},re!==void 0?re:Y)}var me=ie.disabled,fe=ie.title;ie.children;var ye=ie.style,Te=ie.className,ke=bn(ie,MOe),je=go(ke,se),de=j(ee),Se=me||!de&&M,Re="".concat(N,"-option"),Ve=Oe(N,Re,Te,ve(ve(ve(ve({},"".concat(Re,"-grouped"),V),"".concat(Re,"-active"),G===K&&!Se),"".concat(Re,"-disabled"),Se),"".concat(Re,"-selected"),de)),De=ge(be),ze=!w||typeof w=="function"||de,$e=typeof De=="number"?De:De||ee,Ke=fV($e)?$e.toString():void 0;return fe!==void 0&&(Ke=fe),h.createElement("div",Q({},ms(je),I?{}:le(be,K),{"aria-selected":te(ee),className:Ve,title:Ke,onMouseMove:function(){G===K||Se||ue(K)},onClick:function(){Se||J(ee)},style:ye}),h.createElement("div",{className:"".concat(Re,"-content")},typeof O=="function"?O(be,{index:K}):$e),h.isValidElement(w)||de,ze&&h.createElement(bT,{className:"".concat(N,"-option-state"),customizeIcon:w,customizeIconProps:{value:ee,disabled:Se,isSelected:de}},de?"✓":null))}))},DOe=h.forwardRef(OOe);const AOe=function(t,e){var n=h.useRef({values:new Map,options:new Map}),r=h.useMemo(function(){var o=n.current,s=o.values,a=o.options,l=t.map(function(d){if(d.label===void 0){var f;return _e(_e({},d),{},{label:(f=s.get(d.value))===null||f===void 0?void 0:f.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,e.get(d.value)||a.get(d.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=h.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function SR(t,e){return MQ(t).join("").toUpperCase().includes(e)}const $Oe=function(t,e,n,r,i){return h.useMemo(function(){if(!n||r===!1)return t;var o=e.options,s=e.label,a=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(p,v){return i?SR(v[i],u):v[o]?SR(v[s!=="children"?s:"label"],u):SR(v[a],u)},f=c?function(p){return XO(p)}:function(p){return p};return t.forEach(function(p){if(p[o]){var v=d(n,f(p));if(v)l.push(p);else{var y=p[o].filter(function(b){return d(n,f(b))});y.length&&l.push(_e(_e({},p),{},ve({},o,y)))}return}d(n,f(p))&&l.push(p)}),l},[t,r,i,n,e])};var hV=0,NOe=zo();function LOe(){var t;return NOe?(t=hV,hV+=1):t="TEST_OR_SSR",t}function jOe(t){var e=h.useState(),n=Fe(e,2),r=n[0],i=n[1];return h.useEffect(function(){i("rc_select_".concat(LOe()))},[]),t||r}var zOe=["children","value"],FOe=["children"];function BOe(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,s=bn(r,zOe);return _e({key:n,value:o!==void 0?o:n,children:i},s)}function NQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return vl(t).map(function(n,r){if(!h.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,s=i.key,a=i.props,l=a.children,c=bn(a,FOe);return e||!o?BOe(n):_e(_e({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},c),{},{options:NQ(l)})}).filter(function(n){return n})}var VOe=function(e,n,r,i,o){return h.useMemo(function(){var s=e,a=!e;a&&(s=NQ(n));var l=new Map,c=new Map,u=function(p,v,y){y&&typeof y=="string"&&p.set(v[y],v)},d=function f(p){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=0;y<p.length;y+=1){var b=p[y];!b[r.options]||v?(l.set(b[r.value],b),u(c,b,r.label),u(c,b,i),u(c,b,o)):f(b[r.options],!0)}};return d(s),{options:s,valueOptions:l,labelOptions:c}},[e,n,r,i,o])};function pV(t){var e=h.useRef();e.current=t;var n=h.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var HOe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],WOe=["inputValue"];function UOe(t){return!t||zt(t)!=="object"}var KOe=h.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,s=t.backfill,a=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,f=d===void 0?!0:d,p=t.onSelect,v=t.onDeselect,y=t.dropdownMatchSelectWidth,b=y===void 0?!0:y,x=t.filterOption,_=t.filterSort,w=t.optionFilterProp,E=t.optionLabelProp,T=t.options,I=t.optionRender,S=t.children,P=t.defaultActiveFirstOption,R=t.menuItemSelectedIcon,O=t.virtual,N=t.direction,A=t.listHeight,$=A===void 0?200:A,M=t.listItemHeight,F=M===void 0?20:M,z=t.labelRender,j=t.value,B=t.defaultValue,W=t.labelInValue,q=t.onChange,G=t.maxCount,X=bn(t,HOe),ue=jOe(n),te=ZO(r),J=!!(!T&&S),se=h.useMemo(function(){return x===void 0&&r==="combobox"?!1:x},[x,r]),ge=h.useMemo(function(){return DQ(a,J)},[JSON.stringify(a),J]),le=so("",{value:c!==void 0?c:l,postState:function(Pe){return Pe||""}}),we=Fe(le,2),ce=we[0],be=we[1],K=VOe(T,S,ge,w,E),oe=K.valueOptions,V=K.labelOptions,ie=K.options,re=h.useCallback(function(Ee){var Pe=MQ(Ee);return Pe.map(function(Be){var Le,Qe,at,Ze,Xe;if(UOe(Be))Le=Be;else{var et;at=Be.key,Qe=Be.label,Le=(et=Be.value)!==null&&et!==void 0?et:at}var st=oe.get(Le);if(st){var bt;Qe===void 0&&(Qe=st==null?void 0:st[E||ge.label]),at===void 0&&(at=(bt=st==null?void 0:st.key)!==null&&bt!==void 0?bt:Le),Ze=st==null?void 0:st.disabled,Xe=st==null?void 0:st.title}return{label:Qe,value:Le,key:at,disabled:Ze,title:Xe}})},[ge,E,oe]),ee=so(B,{value:j}),Y=Fe(ee,2),he=Y[0],Ce=Y[1],me=h.useMemo(function(){var Ee,Pe=te&&he===null?[]:he,Be=re(Pe);return r==="combobox"&&LMe((Ee=Be[0])===null||Ee===void 0?void 0:Ee.value)?[]:Be},[he,re,r,te]),fe=AOe(me,oe),ye=Fe(fe,2),Te=ye[0],ke=ye[1],je=h.useMemo(function(){if(!r&&Te.length===1){var Ee=Te[0];if(Ee.value===null&&(Ee.label===null||Ee.label===void 0))return[]}return Te.map(function(Pe){var Be;return _e(_e({},Pe),{},{label:(Be=typeof z=="function"?z(Pe):Pe.label)!==null&&Be!==void 0?Be:Pe.value})})},[r,Te,z]),de=h.useMemo(function(){return new Set(Te.map(function(Ee){return Ee.value}))},[Te]);h.useEffect(function(){if(r==="combobox"){var Ee,Pe=(Ee=Te[0])===null||Ee===void 0?void 0:Ee.value;be(NMe(Pe)?String(Pe):"")}},[Te]);var Se=pV(function(Ee,Pe){var Be=Pe??Ee;return ve(ve({},ge.value,Ee),ge.label,Be)}),Re=h.useMemo(function(){if(r!=="tags")return ie;var Ee=it(ie),Pe=function(Le){return oe.has(Le)};return it(Te).sort(function(Be,Le){return Be.value<Le.value?-1:1}).forEach(function(Be){var Le=Be.value;Pe(Le)||Ee.push(Se(Le,Be.label))}),Ee},[Se,ie,oe,Te,r]),Ve=$Oe(Re,ge,ce,se,w),De=h.useMemo(function(){return r!=="tags"||!ce||Ve.some(function(Ee){return Ee[w||"value"]===ce})||Ve.some(function(Ee){return Ee[ge.value]===ce})?Ve:[Se(ce)].concat(it(Ve))},[Se,w,r,Ve,ce,ge]),ze=function Ee(Pe){var Be=it(Pe).sort(function(Le,Qe){return _(Le,Qe,{searchValue:ce})});return Be.map(function(Le){return Array.isArray(Le.options)?_e(_e({},Le),{},{options:Le.options.length>0?Ee(Le.options):Le.options}):Le})},$e=h.useMemo(function(){return _?ze(De):De},[De,_,ce]),Ke=h.useMemo(function(){return aOe($e,{fieldNames:ge,childrenAsData:J})},[$e,ge,J]),Ae=function(Pe){var Be=re(Pe);if(Ce(Be),q&&(Be.length!==Te.length||Be.some(function(at,Ze){var Xe;return((Xe=Te[Ze])===null||Xe===void 0?void 0:Xe.value)!==(at==null?void 0:at.value)}))){var Le=W?Be:Be.map(function(at){return at.value}),Qe=Be.map(function(at){return XO(ke(at.value))});q(te?Le:Le[0],te?Qe:Qe[0])}},Ue=h.useState(null),rt=Fe(Ue,2),mt=rt[0],ot=rt[1],Bt=h.useState(0),Xt=Fe(Bt,2),Lt=Xt[0],en=Xt[1],on=P!==void 0?P:r!=="combobox",xn=h.useCallback(function(Ee,Pe){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Le=Be.source,Qe=Le===void 0?"keyboard":Le;en(Pe),s&&r==="combobox"&&Ee!==null&&Qe==="keyboard"&&ot(String(Ee))},[s,r]),qt=function(Pe,Be,Le){var Qe=function(){var pt,Vt=ke(Pe);return[W?{label:Vt==null?void 0:Vt[ge.label],value:Pe,key:(pt=Vt==null?void 0:Vt.key)!==null&&pt!==void 0?pt:Pe}:Pe,XO(Vt)]};if(Be&&p){var at=Qe(),Ze=Fe(at,2),Xe=Ze[0],et=Ze[1];p(Xe,et)}else if(!Be&&v&&Le!=="clear"){var st=Qe(),bt=Fe(st,2),Tt=bt[0],tn=bt[1];v(Tt,tn)}},St=pV(function(Ee,Pe){var Be,Le=te?Pe.selected:!0;Le?Be=te?[].concat(it(Te),[Ee]):[Ee]:Be=Te.filter(function(Qe){return Qe.value!==Ee}),Ae(Be),qt(Ee,Le),r==="combobox"?ot(""):(!ZO||f)&&(be(""),ot(""))}),gt=function(Pe,Be){Ae(Pe);var Le=Be.type,Qe=Be.values;(Le==="remove"||Le==="clear")&&Qe.forEach(function(at){qt(at.value,!1,Le)})},lt=function(Pe,Be){if(be(Pe),ot(null),Be.source==="submit"){var Le=(Pe||"").trim();if(Le){var Qe=Array.from(new Set([].concat(it(de),[Le])));Ae(Qe),qt(Le,!0),be("")}return}Be.source!=="blur"&&(r==="combobox"&&Ae(Pe),u==null||u(Pe))},kt=function(Pe){var Be=Pe;r!=="tags"&&(Be=Pe.map(function(Qe){var at=V.get(Qe);return at==null?void 0:at.value}).filter(function(Qe){return Qe!==void 0}));var Le=Array.from(new Set([].concat(it(de),it(Be))));Ae(Le),Le.forEach(function(Qe){qt(Qe,!0)})},Ie=h.useMemo(function(){var Ee=O!==!1&&b!==!1;return _e(_e({},K),{},{flattenOptions:Ke,onActiveValue:xn,defaultActiveFirstOption:on,onSelect:St,menuItemSelectedIcon:R,rawValues:de,fieldNames:ge,virtual:Ee,direction:N,listHeight:$,listItemHeight:F,childrenAsData:J,maxCount:G,optionRender:I})},[G,K,Ke,xn,on,St,R,de,ge,O,b,N,$,F,J,I]);return h.createElement(XN.Provider,{value:Ie},h.createElement(fOe,Q({},X,{id:ue,prefixCls:o,ref:e,omitDomProps:WOe,mode:r,displayValues:je,onDisplayValuesChange:gt,direction:N,searchValue:ce,onSearch:lt,autoClearSearchValue:f,onSearchSplit:kt,dropdownMatchSelectWidth:b,OptionList:DOe,emptyOptions:!Ke.length,activeValue:mt,activeDescendantId:"".concat(ue,"_list_").concat(Lt)})))}),JN=KOe;JN.Option=QN;JN.OptGroup=ZN;function cE(t,e,n){return Oe({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const wT=(t,e)=>e||t,qOe=()=>{const[,t]=Bo(),[e]=xp("Empty"),r=new Xn(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return h.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},h.createElement("title",null,(e==null?void 0:e.description)||"Empty"),h.createElement("g",{fill:"none",fillRule:"evenodd"},h.createElement("g",{transform:"translate(24 31.67)"},h.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),h.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),h.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),h.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),h.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),h.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),h.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},h.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),h.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},GOe=()=>{const[,t]=Bo(),[e]=xp("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=t,{borderColor:s,shadowColor:a,contentColor:l}=h.useMemo(()=>({borderColor:new Xn(n).onBackground(o).toHexString(),shadowColor:new Xn(r).onBackground(o).toHexString(),contentColor:new Xn(i).onBackground(o).toHexString()}),[n,r,i,o]);return h.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},h.createElement("title",null,(e==null?void 0:e.description)||"Empty"),h.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},h.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),h.createElement("g",{fillRule:"nonzero",stroke:s},h.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),h.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},YOe=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:s}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},XOe=gi("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,i=Jn(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[YOe(i)]});var ZOe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const LQ=h.createElement(qOe,null),jQ=h.createElement(GOe,null),Yc=t=>{const{className:e,rootClassName:n,prefixCls:r,image:i=LQ,description:o,children:s,imageStyle:a,style:l,classNames:c,styles:u}=t,d=ZOe(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:f,direction:p,className:v,style:y,classNames:b,styles:x}=Oc("empty"),_=f("empty",r),[w,E,T]=XOe(_),[I]=xp("Empty"),S=typeof o<"u"?o:I==null?void 0:I.description,P=typeof S=="string"?S:"empty";let R=null;return typeof i=="string"?R=h.createElement("img",{alt:P,src:i}):R=i,w(h.createElement("div",Object.assign({className:Oe(E,T,_,v,{[`${_}-normal`]:i===jQ,[`${_}-rtl`]:p==="rtl"},e,n,b.root,c==null?void 0:c.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},x.root),y),u==null?void 0:u.root),l)},d),h.createElement("div",{className:Oe(`${_}-image`,b.image,c==null?void 0:c.image),style:Object.assign(Object.assign(Object.assign({},a),x.image),u==null?void 0:u.image)},R),S&&h.createElement("div",{className:Oe(`${_}-description`,b.description,c==null?void 0:c.description),style:Object.assign(Object.assign({},x.description),u==null?void 0:u.description)},S),s&&h.createElement("div",{className:Oe(`${_}-footer`,b.footer,c==null?void 0:c.footer),style:Object.assign(Object.assign({},x.footer),u==null?void 0:u.footer)},s)))};Yc.PRESENTED_IMAGE_DEFAULT=LQ;Yc.PRESENTED_IMAGE_SIMPLE=jQ;const zQ=t=>{const{componentName:e}=t,{getPrefixCls:n}=h.useContext(Pn),r=n("empty");switch(e){case"Table":case"List":return ae.createElement(Yc,{image:Yc.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return ae.createElement(Yc,{image:Yc.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return ae.createElement(Yc,null)}},eL=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,i;const{variant:o,[t]:s}=h.useContext(Pn),a=h.useContext(xke),l=s==null?void 0:s.variant;let c;typeof e<"u"?c=e:n===!1?c="borderless":c=(i=(r=a??l)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"outlined";const u=dIe.includes(c);return[c,u]},QOe=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function JOe(t,e){return t||QOe(e)}const mV=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},eDe=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,s=`&${e}-slide-up-leave${e}-slide-up-leave-active`,a=`${n}-dropdown-placement-`,l=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Si(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${a}bottomLeft,
          ${o}${a}bottomLeft
        `]:{animationName:VN},[`
          ${i}${a}topLeft,
          ${o}${a}topLeft,
          ${i}${a}topRight,
          ${o}${a}topRight
        `]:{animationName:WN},[`${s}${a}bottomLeft`]:{animationName:HN},[`
          ${s}${a}topLeft,
          ${s}${a}topRight
        `]:{animationName:UN},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},mV(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},cx),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},mV(t)),{color:t.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},Jg(t,"slide-up"),Jg(t,"slide-down"),oE(t,"move-up"),oE(t,"move-down")]},tDe=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=t,o=t.max(t.calc(n).sub(r).equal(),0),s=t.max(t.calc(o).sub(i).equal(),0);return{basePadding:o,containerPadding:s,itemHeight:Ne(e),itemLineHeight:Ne(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},nDe=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},rDe=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:o,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:a,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:t.calc(u).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:t.calc(o).div(2).equal(),[`${e}-disabled&`]:{color:s,borderColor:a,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},s_()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},iDe=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,s=nDe(t),a=e?`${n}-${e}`:"",l=tDe(t);return{[`${n}-multiple${a}`]:Object.assign(Object.assign({},rDe(t)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Ne(r)} 0`,lineHeight:Ne(o),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:Ne(l.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Ne(o),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${i}-item + ${i}-item,
        ${n}-prefix + ${n}-selection-wrap
      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${i}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:Ne(o),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function ER(t,e){const{componentCls:n}=t,r=e?`${n}-${e}`:"",i={[`${n}-multiple${r}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[iDe(t,e),i]}const oDe=t=>{const{componentCls:e}=t,n=Jn(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=Jn(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[ER(t),ER(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},ER(r,"lg")]};function IR(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),s=e?`${n}-${e}`:"";return{[`${n}-single${s}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Si(t,!0)),{display:"flex",borderRadius:i,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:Ne(o)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:Ne(o),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-search,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Ne(r)}`,[`${n}-selection-search-input`]:{height:o,fontSize:t.fontSize},"&:after":{lineHeight:Ne(o)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Ne(r)}`,"&:after":{display:"none"}}}}}}}function sDe(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[IR(t),IR(Jn(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selector`]:{padding:`0 ${Ne(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},IR(Jn(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const aDe=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:o,controlHeightLG:s,paddingXXS:a,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:f,controlItemBgHover:p,colorBgContainer:v,colorFillSecondary:y,colorBgContainerDisabled:b,colorTextDisabled:x,colorPrimaryHover:_,colorPrimary:w,controlOutline:E}=t,T=a*2,I=r*2,S=Math.min(i-T,i-I),P=Math.min(o-T,o-I),R=Math.min(s-T,s-I);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:f,optionActiveBg:p,optionPadding:`${(i-e*n)/2}px ${l}px`,optionFontSize:e,optionLineHeight:n,optionHeight:i,selectorBg:v,clearBg:v,singleItemHeightLG:s,multipleItemBg:y,multipleItemBorderColor:"transparent",multipleItemHeight:S,multipleItemHeightSM:P,multipleItemHeightLG:R,multipleSelectorBgDisabled:b,multipleItemColorDisabled:x,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:_,activeBorderColor:w,activeOutlineColor:E,selectAffixPadding:a}},FQ=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Ne(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${Ne(i)} ${e.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:e.color}}}},gV=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},FQ(t,e))}),lDe=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},FQ(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),gV(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),gV(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),BQ=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${Ne(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},vV=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},BQ(t,e))}),cDe=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},BQ(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),vV(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),vV(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),uDe=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",border:`${Ne(t.lineWidth)} ${t.lineType} transparent`},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),VQ=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${Ne(t.lineWidth)} 0`,borderStyle:`none none ${t.lineType} none`,borderColor:e.borderColor,background:t.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,outline:0},[`${n}-prefix`]:{color:e.color}}}},yV=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},VQ(t,e))}),dDe=t=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},VQ(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),yV(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),yV(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),fDe=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},lDe(t)),cDe(t)),uDe(t)),dDe(t))}),hDe=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},pDe=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},mDe=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t;return{[n]:Object.assign(Object.assign({},Si(t)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},hDe(t)),pDe(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},cx),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},cx),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},s_()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:t.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},[`&:hover ${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}}}},gDe=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},mDe(t),sDe(t),oDe(t),eDe(t),{[`${e}-rtl`]:{direction:"rtl"}},qN(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},vDe=gi("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=Jn(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[gDe(r),fDe(r)]},aDe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var yDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},bDe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:yDe}))},xDe=h.forwardRef(bDe),_De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},wDe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:_De}))},HQ=h.forwardRef(wDe),CDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},SDe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:CDe}))},tL=h.forwardRef(SDe);function EDe(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:o,multiple:s,hasFeedback:a,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:f}=t;const p=n??h.createElement(nT,null),v=_=>e===null&&!a&&!d?null:h.createElement(h.Fragment,null,c!==!1&&_,a&&u);let y=null;if(e!==void 0)y=v(e);else if(o)y=v(h.createElement(c_,{spin:!0}));else{const _=`${l}-suffix`;y=w=>{let{open:E,showSearch:T}=w;return v(E&&T?h.createElement(tL,{className:_}):h.createElement(HQ,{className:_}))}}let b=null;r!==void 0?b=r:s?b=h.createElement(xDe,null):b=null;let x=null;return i!==void 0?x=i:x=h.createElement(l_,null),{clearIcon:p,suffixIcon:y,itemIcon:b,removeIcon:x}}function IDe(t,e){return e!==void 0?e:t!==null}var TDe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const WQ="SECRET_COMBOBOX_MODE_DO_NOT_USE",PDe=(t,e)=>{var n;const{prefixCls:r,bordered:i,className:o,rootClassName:s,getPopupContainer:a,popupClassName:l,dropdownClassName:c,listHeight:u=256,placement:d,listItemHeight:f,size:p,disabled:v,notFoundContent:y,status:b,builtinPlacements:x,dropdownMatchSelectWidth:_,popupMatchSelectWidth:w,direction:E,style:T,allowClear:I,variant:S,dropdownStyle:P,transitionName:R,tagRender:O,maxCount:N,prefix:A}=t,$=TDe(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:M,getPrefixCls:F,renderEmpty:z,direction:j,virtual:B,popupMatchSelectWidth:W,popupOverflow:q}=h.useContext(Pn),G=Oc("select"),[,X]=Bo(),ue=f??(X==null?void 0:X.controlHeight),te=F("select",r),J=F(),se=E??j,{compactSize:ge,compactItemClassnames:le}=kv(te,se),[we,ce]=eL("select",S,i),be=Bs(te),[K,oe,V]=vDe(te,be),ie=h.useMemo(()=>{const{mode:mt}=t;if(mt!=="combobox")return mt===WQ?"combobox":mt},[t.mode]),re=ie==="multiple"||ie==="tags",ee=IDe(t.suffixIcon,t.showArrow),Y=(n=w??_)!==null&&n!==void 0?n:W,{status:he,hasFeedback:Ce,isFormItemInput:me,feedbackIcon:fe}=h.useContext(bl),ye=wT(he,b);let Te;y!==void 0?Te=y:ie==="combobox"?Te=null:Te=(z==null?void 0:z("Select"))||h.createElement(zQ,{componentName:"Select"});const{suffixIcon:ke,itemIcon:je,removeIcon:de,clearIcon:Se}=EDe(Object.assign(Object.assign({},$),{multiple:re,hasFeedback:Ce,feedbackIcon:fe,showSuffixIcon:ee,prefixCls:te,componentName:"Select"})),Re=I===!0?{clearIcon:Se}:I,Ve=go($,["suffixIcon","itemIcon"]),De=Oe(l||c,{[`${te}-dropdown-${se}`]:se==="rtl"},s,V,be,oe),ze=El(mt=>{var ot;return(ot=p??ge)!==null&&ot!==void 0?ot:mt}),$e=h.useContext(yl),Ke=v??$e,Ae=Oe({[`${te}-lg`]:ze==="large",[`${te}-sm`]:ze==="small",[`${te}-rtl`]:se==="rtl",[`${te}-${we}`]:ce,[`${te}-in-form-item`]:me},cE(te,ye,Ce),le,G.className,o,s,V,be,oe),Ue=h.useMemo(()=>d!==void 0?d:se==="rtl"?"bottomRight":"bottomLeft",[d,se]),[rt]=u_("SelectLike",P==null?void 0:P.zIndex);return K(h.createElement(JN,Object.assign({ref:e,virtual:B,showSearch:G.showSearch},Ve,{style:Object.assign(Object.assign({},G.style),T),dropdownMatchSelectWidth:Y,transitionName:Qg(J,"slide-up",R),builtinPlacements:JOe(x,q),listHeight:u,listItemHeight:ue,mode:ie,prefixCls:te,placement:Ue,direction:se,prefix:A,suffixIcon:ke,menuItemSelectedIcon:je,removeIcon:de,allowClear:Re,notFoundContent:Te,className:Ae,getPopupContainer:a||M,dropdownClassName:De,disabled:Ke,dropdownStyle:Object.assign(Object.assign({},P),{zIndex:rt}),maxCount:re?N:void 0,tagRender:re?O:void 0})))},xl=h.forwardRef(PDe),RDe=CQ(xl,"dropdownAlign");xl.SECRET_COMBOBOX_MODE_DO_NOT_USE=WQ;xl.Option=QN;xl.OptGroup=ZN;xl._InternalPanelDoNotUseOrYouWillBeFired=RDe;const kDe=["xxl","xl","lg","md","sm","xs"],MDe=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),ODe=t=>{const e=t,n=[].concat(kDe).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),s=`screen${o}Min`,a=`screen${o}`;if(!(e[s]<=e[a]))throw new Error(`${s}<=${a} fails : !(${e[s]}<=${e[a]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),t};function DDe(){const[,t]=Bo(),e=MDe(ODe(t));return ae.useMemo(()=>{const n=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(o){return i=o,n.forEach(s=>s(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const s=e[o],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),n.clear()},register(){Object.keys(e).forEach(o=>{const s=e[o],a=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},i),{[o]:u}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},responsiveMap:e}},[t])}function UQ(){const[,t]=h.useReducer(e=>e+1,0);return t}function KQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=h.useRef(e),r=UQ(),i=DDe();return gr(()=>{const o=i.subscribe(s=>{n.current=s,t&&r()});return()=>i.unsubscribe(o)},[]),n.current}function qQ(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.bodyClassName,s=t.className,a=t.style;return h.createElement("div",{className:Oe("".concat(n,"-content"),s),style:a},h.createElement("div",{className:Oe("".concat(n,"-inner"),o),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var nm={shiftX:64,adjustY:1},rm={adjustX:1,shiftY:!0},xa=[0,0],ADe={left:{points:["cr","cl"],overflow:rm,offset:[-4,0],targetOffset:xa},right:{points:["cl","cr"],overflow:rm,offset:[4,0],targetOffset:xa},top:{points:["bc","tc"],overflow:nm,offset:[0,-4],targetOffset:xa},bottom:{points:["tc","bc"],overflow:nm,offset:[0,4],targetOffset:xa},topLeft:{points:["bl","tl"],overflow:nm,offset:[0,-4],targetOffset:xa},leftTop:{points:["tr","tl"],overflow:rm,offset:[-4,0],targetOffset:xa},topRight:{points:["br","tr"],overflow:nm,offset:[0,-4],targetOffset:xa},rightTop:{points:["tl","tr"],overflow:rm,offset:[4,0],targetOffset:xa},bottomRight:{points:["tr","br"],overflow:nm,offset:[0,4],targetOffset:xa},rightBottom:{points:["bl","br"],overflow:rm,offset:[4,0],targetOffset:xa},bottomLeft:{points:["tl","bl"],overflow:nm,offset:[0,4],targetOffset:xa},leftBottom:{points:["br","bl"],overflow:rm,offset:[-4,0],targetOffset:xa}},$De=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],NDe=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,p=e.children,v=e.onVisibleChange,y=e.afterVisibleChange,b=e.transitionName,x=e.animation,_=e.motion,w=e.placement,E=w===void 0?"right":w,T=e.align,I=T===void 0?{}:T,S=e.destroyTooltipOnHide,P=S===void 0?!1:S,R=e.defaultVisible,O=e.getTooltipContainer,N=e.overlayInnerStyle;e.arrowContent;var A=e.overlay,$=e.id,M=e.showArrow,F=M===void 0?!0:M,z=e.classNames,j=e.styles,B=bn(e,$De),W=gT($),q=h.useRef(null);h.useImperativeHandle(n,function(){return q.current});var G=_e({},B);"visible"in e&&(G.popupVisible=e.visible);var X=function(){return h.createElement(qQ,{key:"content",prefixCls:f,id:W,bodyClassName:z==null?void 0:z.body,overlayInnerStyle:_e(_e({},N),j==null?void 0:j.body)},A)},ue=function(){var J=h.Children.only(p),se=(J==null?void 0:J.props)||{},ge=_e(_e({},se),{},{"aria-describedby":A?W:null});return h.cloneElement(p,ge)};return h.createElement(xT,Q({popupClassName:Oe(r,z==null?void 0:z.root),prefixCls:f,popup:X,action:o,builtinPlacements:ADe,popupPlacement:E,ref:q,popupAlign:I,getPopupContainer:O,onPopupVisibleChange:v,afterPopupVisibleChange:y,popupTransitionName:b,popupAnimation:x,popupMotion:_,defaultPopupVisible:R,autoDestroy:P,mouseLeaveDelay:c,popupStyle:_e(_e({},u),j==null?void 0:j.root),mouseEnterDelay:a,arrow:F},G),ue())};const LDe=h.forwardRef(NDe);function GQ(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,i=e/2,o=0,s=i,a=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),c=i-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),d=2*i-c,f=u,p=2*i-a,v=l,y=2*i-o,b=s,x=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),_=r*(Math.sqrt(2)-1),w=`polygon(${_}px 100%, 50% ${_}px, ${2*i-_}px 100%, ${_}px 100%)`,E=`path('M ${o} ${s} A ${r} ${r} 0 0 0 ${a} ${l} L ${c} ${u} A ${n} ${n} 0 0 1 ${d} ${f} L ${p} ${v} A ${r} ${r} 0 0 0 ${y} ${b} Z')`;return{arrowShadowWidth:x,arrowPath:E,arrowPolygon:w}}const jDe=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Ne(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},YQ=8;function nL(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?YQ:r}}function sC(t,e){return t?e:{}}function XQ(t,e,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=t,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},jDe(t,e,i)),{"&:before":{background:e}})]},sC(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Ne(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),sC(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Ne(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),sC(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),sC(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function zDe(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+n,o.shiftX=!0,o.adjustX=!0;break}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const bV={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},FDe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},BDe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function ZQ(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=t,a=e/2,l={};return Object.keys(bV).forEach(c=>{const u=r&&FDe[c]||bV[c],d=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(l[c]=d,BDe.has(c)&&(d.autoArrow=!1),c){case"top":case"topLeft":case"topRight":d.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=a+i;break}const f=nL({contentRadius:o,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":d.offset[0]=-f.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":d.offset[0]=f.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":d.offset[1]=-f.arrowOffsetHorizontal*2+a;break;case"leftBottom":case"rightBottom":d.offset[1]=f.arrowOffsetHorizontal*2-a;break}d.overflow=zDe(c,f,e,n),s&&(d.htmlRegion="visibleFirst")}),l}const VDe=t=>{const{calc:e,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:p}=t,v=e(s).add(p).add(f).equal(),y=e(s).mul(2).add(p).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Si(t)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${n}-inner`]:{minWidth:y,minHeight:l,padding:`${Ne(t.calc(u).div(2).equal())} ${Ne(d)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:s,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:v},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:t.min(s,YQ)}},[`${n}-content`]:{position:"relative"}}),iZ(t,(b,x)=>{let{darkColor:_}=x;return{[`&${n}-${b}`]:{[`${n}-inner`]:{backgroundColor:_},[`${n}-arrow`]:{"--antd-arrow-background-color":_}}}})),{"&-rtl":{direction:"rtl"}})},XQ(t,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},HDe=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},nL({contentRadius:t.borderRadius,limitVerticalRadius:!0})),GQ(Jn(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),QQ=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return gi("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:o,colorBgSpotlight:s}=r,a=Jn(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s});return[VDe(a),cT(r,"zoom-big-fast")]},HDe,{resetStyle:!1,injectStyle:e})(t)},WDe=Qh.map(t=>`${t}-inverse`),UDe=["success","processing","error","default","warning"];function JQ(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(it(WDe),it(Qh)).includes(t):Qh.includes(t)}function KDe(t){return UDe.includes(t)}function eJ(t,e){const n=JQ(e),r=Oe({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const qDe=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:s}=t,{getPrefixCls:a}=h.useContext(Pn),l=a("tooltip",e),[c,u,d]=QQ(l),f=eJ(l,o),p=f.arrowStyle,v=Object.assign(Object.assign({},s),f.overlayStyle),y=Oe(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,f.className);return c(h.createElement("div",{className:y,style:p},h.createElement("div",{className:`${l}-arrow`}),h.createElement(qQ,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:v}),i)))};var GDe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const YDe=h.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:s,color:a,overlayInnerStyle:l,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:f,arrow:p=!0,title:v,overlay:y,builtinPlacements:b,arrowPointAtCenter:x=!1,autoAdjustOverflow:_=!0,motion:w,getPopupContainer:E,placement:T="top",mouseEnterDelay:I=.1,mouseLeaveDelay:S=.1,overlayStyle:P,rootClassName:R,overlayClassName:O,styles:N,classNames:A}=t,$=GDe(t,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),M=!!p,[,F]=Bo(),{getPopupContainer:z,getPrefixCls:j,direction:B,className:W,style:q,classNames:G,styles:X}=Oc("tooltip"),ue=bp(),te=h.useRef(null),J=()=>{var Ve;(Ve=te.current)===null||Ve===void 0||Ve.forceAlign()};h.useImperativeHandle(e,()=>{var Ve,De;return{forceAlign:J,forcePopupAlign:()=>{ue.deprecated(!1,"forcePopupAlign","forceAlign"),J()},nativeElement:(Ve=te.current)===null||Ve===void 0?void 0:Ve.nativeElement,popupElement:(De=te.current)===null||De===void 0?void 0:De.popupElement}});const[se,ge]=so(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),le=!v&&!y&&v!==0,we=Ve=>{var De,ze;ge(le?!1:Ve),le||((De=t.onOpenChange)===null||De===void 0||De.call(t,Ve),(ze=t.onVisibleChange)===null||ze===void 0||ze.call(t,Ve))},ce=h.useMemo(()=>{var Ve,De;let ze=x;return typeof p=="object"&&(ze=(De=(Ve=p.pointAtCenter)!==null&&Ve!==void 0?Ve:p.arrowPointAtCenter)!==null&&De!==void 0?De:x),b||ZQ({arrowPointAtCenter:ze,autoAdjustOverflow:_,arrowWidth:M?F.sizePopupArrow:0,borderRadius:F.borderRadius,offset:F.marginXXS,visibleFirst:!0})},[x,p,b,F]),be=h.useMemo(()=>v===0?v:y||v||"",[y,v]),K=h.createElement(fx,{space:!0},typeof be=="function"?be():be),oe=j("tooltip",i),V=j(),ie=t["data-popover-inject"];let re=se;!("open"in t)&&!("visible"in t)&&le&&(re=!1);const ee=h.isValidElement(c)&&!IZ(c)?c:h.createElement("span",null,c),Y=ee.props,he=!Y.className||typeof Y.className=="string"?Oe(Y.className,o||`${oe}-open`):Y.className,[Ce,me,fe]=QQ(oe,!ie),ye=eJ(oe,a),Te=ye.arrowStyle,ke=Oe(O,{[`${oe}-rtl`]:B==="rtl"},ye.className,R,me,fe,W,G.root,A==null?void 0:A.root),je=Oe(G.body,A==null?void 0:A.body),[de,Se]=u_("Tooltip",$.zIndex),Re=h.createElement(LDe,Object.assign({},$,{zIndex:de,showArrow:M,placement:T,mouseEnterDelay:I,mouseLeaveDelay:S,prefixCls:oe,classNames:{root:ke,body:je},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Te),X.root),q),P),N==null?void 0:N.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},X.body),l),N==null?void 0:N.body),ye.overlayStyle)},getTooltipContainer:E||s||z,ref:te,builtinPlacements:ce,overlay:K,visible:re,onVisibleChange:we,afterVisibleChange:u??d,arrowContent:h.createElement("span",{className:`${oe}-arrow-content`}),motion:{motionName:Qg(V,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!f}),re?Va(ee,{className:he}):ee);return Ce(h.createElement(rT.Provider,{value:Se},Re))}),px=YDe;px._InternalPanelDoNotUseOrYouWillBeFired=qDe;var XDe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},ZDe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:XDe}))},JO=h.forwardRef(ZDe),QDe=At.ESC,JDe=At.TAB;function eAe(t){var e=t.visible,n=t.triggerRef,r=t.onVisibleChange,i=t.autoFocus,o=t.overlayRef,s=h.useRef(!1),a=function(){if(e){var d,f;(d=n.current)===null||d===void 0||(f=d.focus)===null||f===void 0||f.call(d),r==null||r(!1)}},l=function(){var d;return(d=o.current)!==null&&d!==void 0&&d.focus?(o.current.focus(),s.current=!0,!0):!1},c=function(d){switch(d.keyCode){case QDe:a();break;case JDe:{var f=!1;s.current||(f=l()),f?d.preventDefault():a();break}}};h.useEffect(function(){return e?(window.addEventListener("keydown",c),i&&nr(l,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}},[e])}var tAe=h.forwardRef(function(t,e){var n=t.overlay,r=t.arrow,i=t.prefixCls,o=h.useMemo(function(){var a;return typeof n=="function"?a=n():a=n,a},[n]),s=Ya(e,yp(o));return ae.createElement(ae.Fragment,null,r&&ae.createElement("div",{className:"".concat(i,"-arrow")}),ae.cloneElement(o,{ref:xc(o)?s:void 0}))}),im={adjustX:1,adjustY:1},om=[0,0],nAe={topLeft:{points:["bl","tl"],overflow:im,offset:[0,-4],targetOffset:om},top:{points:["bc","tc"],overflow:im,offset:[0,-4],targetOffset:om},topRight:{points:["br","tr"],overflow:im,offset:[0,-4],targetOffset:om},bottomLeft:{points:["tl","bl"],overflow:im,offset:[0,4],targetOffset:om},bottom:{points:["tc","bc"],overflow:im,offset:[0,4],targetOffset:om},bottomRight:{points:["tr","br"],overflow:im,offset:[0,4],targetOffset:om}},rAe=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function iAe(t,e){var n,r=t.arrow,i=r===void 0?!1:r,o=t.prefixCls,s=o===void 0?"rc-dropdown":o,a=t.transitionName,l=t.animation,c=t.align,u=t.placement,d=u===void 0?"bottomLeft":u,f=t.placements,p=f===void 0?nAe:f,v=t.getPopupContainer,y=t.showAction,b=t.hideAction,x=t.overlayClassName,_=t.overlayStyle,w=t.visible,E=t.trigger,T=E===void 0?["hover"]:E,I=t.autoFocus,S=t.overlay,P=t.children,R=t.onVisibleChange,O=bn(t,rAe),N=ae.useState(),A=Fe(N,2),$=A[0],M=A[1],F="visible"in t?w:$,z=ae.useRef(null),j=ae.useRef(null),B=ae.useRef(null);ae.useImperativeHandle(e,function(){return z.current});var W=function(le){M(le),R==null||R(le)};eAe({visible:F,triggerRef:B,onVisibleChange:W,autoFocus:I,overlayRef:j});var q=function(le){var we=t.onOverlayClick;M(!1),we&&we(le)},G=function(){return ae.createElement(tAe,{ref:j,overlay:S,prefixCls:s,arrow:i})},X=function(){return typeof S=="function"?G:G()},ue=function(){var le=t.minOverlayWidthMatchTrigger,we=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?le:!we},te=function(){var le=t.openClassName;return le!==void 0?le:"".concat(s,"-open")},J=ae.cloneElement(P,{className:Oe((n=P.props)===null||n===void 0?void 0:n.className,F&&te()),ref:xc(P)?Ya(B,yp(P)):void 0}),se=b;return!se&&T.indexOf("contextMenu")!==-1&&(se=["click"]),ae.createElement(xT,Q({builtinPlacements:p},O,{prefixCls:s,ref:z,popupClassName:Oe(x,ve({},"".concat(s,"-show-arrow"),i)),popupStyle:_,action:T,showAction:y,hideAction:se,popupPlacement:d,popupAlign:c,popupTransitionName:a,popupAnimation:l,popupVisible:F,stretch:ue()?"minWidth":"",popup:X(),onPopupVisibleChange:W,onPopupClick:q,getPopupContainer:v}),J)}const oAe=ae.forwardRef(iAe),sAe=t=>typeof t!="object"&&typeof t!="function"||t===null;var tJ=h.createContext(null);function nJ(t,e){return t===void 0?null:"".concat(t,"-").concat(e)}function rJ(t){var e=h.useContext(tJ);return nJ(e,t)}var aAe=["children","locked"],_l=h.createContext(null);function lAe(t,e){var n=_e({},t);return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(n[r]=i)}),n}function mx(t){var e=t.children,n=t.locked,r=bn(t,aAe),i=h.useContext(_l),o=vp(function(){return lAe(i,r)},[i,r],function(s,a){return!n&&(s[0]!==a[0]||!_c(s[1],a[1],!0))});return h.createElement(_l.Provider,{value:o},e)}var cAe=[],iJ=h.createContext(null);function CT(){return h.useContext(iJ)}var oJ=h.createContext(cAe);function Dv(t){var e=h.useContext(oJ);return h.useMemo(function(){return t!==void 0?[].concat(it(e),[t]):e},[e,t])}var sJ=h.createContext(null),rL=h.createContext({});function xV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(oT(t)){var n=t.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||t.isContentEditable||n==="a"&&!!t.getAttribute("href"),i=t.getAttribute("tabindex"),o=Number(i),s=null;return i&&!Number.isNaN(o)?s=o:r&&s===null&&(s=0),r&&t.disabled&&(s=null),s!==null&&(s>=0||e&&s<0)}return!1}function uAe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=it(t.querySelectorAll("*")).filter(function(r){return xV(r,e)});return xV(t,e)&&n.unshift(t),n}var eD=At.LEFT,tD=At.RIGHT,nD=At.UP,SS=At.DOWN,ES=At.ENTER,aJ=At.ESC,Ly=At.HOME,jy=At.END,_V=[nD,SS,eD,tD];function dAe(t,e,n,r){var i,o="prev",s="next",a="children",l="parent";if(t==="inline"&&r===ES)return{inlineTrigger:!0};var c=ve(ve({},nD,o),SS,s),u=ve(ve(ve(ve({},eD,n?s:o),tD,n?o:s),SS,a),ES,a),d=ve(ve(ve(ve(ve(ve({},nD,o),SS,s),ES,a),aJ,l),eD,n?a:l),tD,n?l:a),f={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d},p=(i=f["".concat(t).concat(e?"":"Sub")])===null||i===void 0?void 0:i[r];switch(p){case o:return{offset:-1,sibling:!0};case s:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case a:return{offset:1,sibling:!1};default:return null}}function fAe(t){for(var e=t;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function hAe(t,e){for(var n=t||document.activeElement;n;){if(e.has(n))return n;n=n.parentElement}return null}function iL(t,e){var n=uAe(t,!0);return n.filter(function(r){return e.has(r)})}function wV(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!t)return null;var i=iL(t,e),o=i.length,s=i.findIndex(function(a){return n===a});return r<0?s===-1?s=o-1:s-=1:r>0&&(s+=1),s=(s+o)%o,i[s]}var rD=function(e,n){var r=new Set,i=new Map,o=new Map;return e.forEach(function(s){var a=document.querySelector("[data-menu-id='".concat(nJ(n,s),"']"));a&&(r.add(a),o.set(a,s),i.set(s,a))}),{elements:r,key2element:i,element2key:o}};function pAe(t,e,n,r,i,o,s,a,l,c){var u=h.useRef(),d=h.useRef();d.current=e;var f=function(){nr.cancel(u.current)};return h.useEffect(function(){return function(){f()}},[]),function(p){var v=p.which;if([].concat(_V,[ES,aJ,Ly,jy]).includes(v)){var y=o(),b=rD(y,r),x=b,_=x.elements,w=x.key2element,E=x.element2key,T=w.get(e),I=hAe(T,_),S=E.get(I),P=dAe(t,s(S,!0).length===1,n,v);if(!P&&v!==Ly&&v!==jy)return;(_V.includes(v)||[Ly,jy].includes(v))&&p.preventDefault();var R=function(j){if(j){var B=j,W=j.querySelector("a");W!=null&&W.getAttribute("href")&&(B=W);var q=E.get(j);a(q),f(),u.current=nr(function(){d.current===q&&B.focus()})}};if([Ly,jy].includes(v)||P.sibling||!I){var O;!I||t==="inline"?O=i.current:O=fAe(I);var N,A=iL(O,_);v===Ly?N=A[0]:v===jy?N=A[A.length-1]:N=wV(O,_,I,P.offset),R(N)}else if(P.inlineTrigger)l(S);else if(P.offset>0)l(S,!0),f(),u.current=nr(function(){b=rD(y,r);var z=I.getAttribute("aria-controls"),j=document.getElementById(z),B=wV(j,b.elements);R(B)},5);else if(P.offset<0){var $=s(S,!0),M=$[$.length-2],F=w.get(M);l(M,!1),R(F)}}c==null||c(p)}}function mAe(t){Promise.resolve().then(t)}var oL="__RC_UTIL_PATH_SPLIT__",CV=function(e){return e.join(oL)},gAe=function(e){return e.split(oL)},iD="rc-menu-more";function vAe(){var t=h.useState({}),e=Fe(t,2),n=e[1],r=h.useRef(new Map),i=h.useRef(new Map),o=h.useState([]),s=Fe(o,2),a=s[0],l=s[1],c=h.useRef(0),u=h.useRef(!1),d=function(){u.current||n({})},f=h.useCallback(function(w,E){var T=CV(E);i.current.set(T,w),r.current.set(w,T),c.current+=1;var I=c.current;mAe(function(){I===c.current&&d()})},[]),p=h.useCallback(function(w,E){var T=CV(E);i.current.delete(T),r.current.delete(w)},[]),v=h.useCallback(function(w){l(w)},[]),y=h.useCallback(function(w,E){var T=r.current.get(w)||"",I=gAe(T);return E&&a.includes(I[0])&&I.unshift(iD),I},[a]),b=h.useCallback(function(w,E){return w.filter(function(T){return T!==void 0}).some(function(T){var I=y(T,!0);return I.includes(E)})},[y]),x=function(){var E=it(r.current.keys());return a.length&&E.push(iD),E},_=h.useCallback(function(w){var E="".concat(r.current.get(w)).concat(oL),T=new Set;return it(i.current.keys()).forEach(function(I){I.startsWith(E)&&T.add(i.current.get(I))}),T},[]);return h.useEffect(function(){return function(){u.current=!0}},[]),{registerPath:f,unregisterPath:p,refreshOverflowKeys:v,isSubPathKey:b,getKeyPath:y,getKeys:x,getSubPathKeys:_}}function _0(t){var e=h.useRef(t);e.current=t;var n=h.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return t?n:void 0}var yAe=Math.random().toFixed(5).toString().slice(2),SV=0;function bAe(t){var e=so(t,{value:t}),n=Fe(e,2),r=n[0],i=n[1];return h.useEffect(function(){SV+=1;var o="".concat(yAe,"-").concat(SV);i("rc-menu-uuid-".concat(o))},[]),r}function lJ(t,e,n,r){var i=h.useContext(_l),o=i.activeKey,s=i.onActive,a=i.onInactive,l={active:o===t};return e||(l.onMouseEnter=function(c){n==null||n({key:t,domEvent:c}),s(t)},l.onMouseLeave=function(c){r==null||r({key:t,domEvent:c}),a(t)}),l}function cJ(t){var e=h.useContext(_l),n=e.mode,r=e.rtl,i=e.inlineIndent;if(n!=="inline")return null;var o=t;return r?{paddingRight:o*i}:{paddingLeft:o*i}}function uJ(t){var e=t.icon,n=t.props,r=t.children,i;return e===null||e===!1?null:(typeof e=="function"?i=h.createElement(e,_e({},n)):typeof e!="boolean"&&(i=e),i||r||null)}var xAe=["item"];function uE(t){var e=t.item,n=bn(t,xAe);return Object.defineProperty(n,"item",{get:function(){return pi(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),n}var _Ae=["title","attribute","elementRef"],wAe=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],CAe=["active"],SAe=function(t){kc(n,t);var e=Mc(n);function n(){return Wi(this,n),e.apply(this,arguments)}return Ui(n,[{key:"render",value:function(){var i=this.props,o=i.title,s=i.attribute,a=i.elementRef,l=bn(i,_Ae),c=go(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return pi(!s,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),h.createElement(uc.Item,Q({},s,{title:typeof o=="string"?o:void 0},c,{ref:a}))}}]),n}(h.Component),EAe=h.forwardRef(function(t,e){var n=t.style,r=t.className,i=t.eventKey;t.warnKey;var o=t.disabled,s=t.itemIcon,a=t.children,l=t.role,c=t.onMouseEnter,u=t.onMouseLeave,d=t.onClick,f=t.onKeyDown,p=t.onFocus,v=bn(t,wAe),y=rJ(i),b=h.useContext(_l),x=b.prefixCls,_=b.onItemClick,w=b.disabled,E=b.overflowDisabled,T=b.itemIcon,I=b.selectedKeys,S=b.onActive,P=h.useContext(rL),R=P._internalRenderMenuItem,O="".concat(x,"-item"),N=h.useRef(),A=h.useRef(),$=w||o,M=xf(e,A),F=Dv(i),z=function(we){return{key:i,keyPath:it(F).reverse(),item:N.current,domEvent:we}},j=s||T,B=lJ(i,$,c,u),W=B.active,q=bn(B,CAe),G=I.includes(i),X=cJ(F.length),ue=function(we){if(!$){var ce=z(we);d==null||d(uE(ce)),_(ce)}},te=function(we){if(f==null||f(we),we.which===At.ENTER){var ce=z(we);d==null||d(uE(ce)),_(ce)}},J=function(we){S(i),p==null||p(we)},se={};t.role==="option"&&(se["aria-selected"]=G);var ge=h.createElement(SAe,Q({ref:N,elementRef:M,role:l===null?"none":l||"menuitem",tabIndex:o?null:-1,"data-menu-id":E&&y?null:y},go(v,["extra"]),q,se,{component:"li","aria-disabled":o,style:_e(_e({},X),n),className:Oe(O,ve(ve(ve({},"".concat(O,"-active"),W),"".concat(O,"-selected"),G),"".concat(O,"-disabled"),$),r),onClick:ue,onKeyDown:te,onFocus:J}),a,h.createElement(uJ,{props:_e(_e({},t),{},{isSelected:G}),icon:j}));return R&&(ge=R(ge,t,{selected:G})),ge});function IAe(t,e){var n=t.eventKey,r=CT(),i=Dv(n);return h.useEffect(function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}},[i]),r?null:h.createElement(EAe,Q({},t,{ref:e}))}const ST=h.forwardRef(IAe);var TAe=["className","children"],PAe=function(e,n){var r=e.className,i=e.children,o=bn(e,TAe),s=h.useContext(_l),a=s.prefixCls,l=s.mode,c=s.rtl;return h.createElement("ul",Q({className:Oe(a,c&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat(l==="inline"?"inline":"vertical"),r),role:"menu"},o,{"data-menu-list":!0,ref:n}),i)},sL=h.forwardRef(PAe);sL.displayName="SubMenuList";function aL(t,e){return vl(t).map(function(n,r){if(h.isValidElement(n)){var i,o,s=n.key,a=(i=(o=n.props)===null||o===void 0?void 0:o.eventKey)!==null&&i!==void 0?i:s,l=a==null;l&&(a="tmp_key-".concat([].concat(it(e),[r]).join("-")));var c={key:a,eventKey:a};return h.cloneElement(n,c)}return n})}var Go={adjustX:1,adjustY:1},RAe={topLeft:{points:["bl","tl"],overflow:Go},topRight:{points:["br","tr"],overflow:Go},bottomLeft:{points:["tl","bl"],overflow:Go},bottomRight:{points:["tr","br"],overflow:Go},leftTop:{points:["tr","tl"],overflow:Go},leftBottom:{points:["br","bl"],overflow:Go},rightTop:{points:["tl","tr"],overflow:Go},rightBottom:{points:["bl","br"],overflow:Go}},kAe={topLeft:{points:["bl","tl"],overflow:Go},topRight:{points:["br","tr"],overflow:Go},bottomLeft:{points:["tl","bl"],overflow:Go},bottomRight:{points:["tr","br"],overflow:Go},rightTop:{points:["tr","tl"],overflow:Go},rightBottom:{points:["br","bl"],overflow:Go},leftTop:{points:["tl","tr"],overflow:Go},leftBottom:{points:["bl","br"],overflow:Go}};function dJ(t,e,n){if(e)return e;if(n)return n[t]||n.other}var MAe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function OAe(t){var e=t.prefixCls,n=t.visible,r=t.children,i=t.popup,o=t.popupStyle,s=t.popupClassName,a=t.popupOffset,l=t.disabled,c=t.mode,u=t.onVisibleChange,d=h.useContext(_l),f=d.getPopupContainer,p=d.rtl,v=d.subMenuOpenDelay,y=d.subMenuCloseDelay,b=d.builtinPlacements,x=d.triggerSubMenuAction,_=d.forceSubMenuRender,w=d.rootClassName,E=d.motion,T=d.defaultMotions,I=h.useState(!1),S=Fe(I,2),P=S[0],R=S[1],O=_e(p?_e({},kAe):_e({},RAe),b),N=MAe[c],A=dJ(c,E,T),$=h.useRef(A);c!=="inline"&&($.current=A);var M=_e(_e({},$.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),F=h.useRef();return h.useEffect(function(){return F.current=nr(function(){R(n)}),function(){nr.cancel(F.current)}},[n]),h.createElement(xT,{prefixCls:e,popupClassName:Oe("".concat(e,"-popup"),ve({},"".concat(e,"-rtl"),p),s,w),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:f,builtinPlacements:O,popupPlacement:N,popupVisible:P,popup:i,popupStyle:o,popupAlign:a&&{offset:a},action:l?[]:[x],mouseEnterDelay:v,mouseLeaveDelay:y,onPopupVisibleChange:u,forceRender:_,popupMotion:M,fresh:!0},r)}function DAe(t){var e=t.id,n=t.open,r=t.keyPath,i=t.children,o="inline",s=h.useContext(_l),a=s.prefixCls,l=s.forceSubMenuRender,c=s.motion,u=s.defaultMotions,d=s.mode,f=h.useRef(!1);f.current=d===o;var p=h.useState(!f.current),v=Fe(p,2),y=v[0],b=v[1],x=f.current?n:!1;h.useEffect(function(){f.current&&b(!1)},[d]);var _=_e({},dJ(o,c,u));r.length>1&&(_.motionAppear=!1);var w=_.onVisibleChanged;return _.onVisibleChanged=function(E){return!f.current&&!E&&b(!0),w==null?void 0:w(E)},y?null:h.createElement(mx,{mode:o,locked:!f.current},h.createElement(Au,Q({visible:x},_,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(a,"-hidden")}),function(E){var T=E.className,I=E.style;return h.createElement(sL,{id:e,className:T,style:I},i)}))}var AAe=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],$Ae=["active"],NAe=h.forwardRef(function(t,e){var n=t.style,r=t.className,i=t.title,o=t.eventKey;t.warnKey;var s=t.disabled,a=t.internalPopupClose,l=t.children,c=t.itemIcon,u=t.expandIcon,d=t.popupClassName,f=t.popupOffset,p=t.popupStyle,v=t.onClick,y=t.onMouseEnter,b=t.onMouseLeave,x=t.onTitleClick,_=t.onTitleMouseEnter,w=t.onTitleMouseLeave,E=bn(t,AAe),T=rJ(o),I=h.useContext(_l),S=I.prefixCls,P=I.mode,R=I.openKeys,O=I.disabled,N=I.overflowDisabled,A=I.activeKey,$=I.selectedKeys,M=I.itemIcon,F=I.expandIcon,z=I.onItemClick,j=I.onOpenChange,B=I.onActive,W=h.useContext(rL),q=W._internalRenderSubMenuItem,G=h.useContext(sJ),X=G.isSubPathKey,ue=Dv(),te="".concat(S,"-submenu"),J=O||s,se=h.useRef(),ge=h.useRef(),le=c??M,we=u??F,ce=R.includes(o),be=!N&&ce,K=X($,o),oe=lJ(o,J,_,w),V=oe.active,ie=bn(oe,$Ae),re=h.useState(!1),ee=Fe(re,2),Y=ee[0],he=ee[1],Ce=function(Ue){J||he(Ue)},me=function(Ue){Ce(!0),y==null||y({key:o,domEvent:Ue})},fe=function(Ue){Ce(!1),b==null||b({key:o,domEvent:Ue})},ye=h.useMemo(function(){return V||(P!=="inline"?Y||X([A],o):!1)},[P,V,A,Y,o,X]),Te=cJ(ue.length),ke=function(Ue){J||(x==null||x({key:o,domEvent:Ue}),P==="inline"&&j(o,!ce))},je=_0(function(Ae){v==null||v(uE(Ae)),z(Ae)}),de=function(Ue){P!=="inline"&&j(o,Ue)},Se=function(){B(o)},Re=T&&"".concat(T,"-popup"),Ve=h.useMemo(function(){return h.createElement(uJ,{icon:P!=="horizontal"?we:void 0,props:_e(_e({},t),{},{isOpen:be,isSubMenu:!0})},h.createElement("i",{className:"".concat(te,"-arrow")}))},[P,we,t,be,te]),De=h.createElement("div",Q({role:"menuitem",style:Te,className:"".concat(te,"-title"),tabIndex:J?null:-1,ref:se,title:typeof i=="string"?i:null,"data-menu-id":N&&T?null:T,"aria-expanded":be,"aria-haspopup":!0,"aria-controls":Re,"aria-disabled":J,onClick:ke,onFocus:Se},ie),i,Ve),ze=h.useRef(P);if(P!=="inline"&&ue.length>1?ze.current="vertical":ze.current=P,!N){var $e=ze.current;De=h.createElement(OAe,{mode:$e,prefixCls:te,visible:!a&&be&&P!=="inline",popupClassName:d,popupOffset:f,popupStyle:p,popup:h.createElement(mx,{mode:$e==="horizontal"?"vertical":$e},h.createElement(sL,{id:Re,ref:ge},l)),disabled:J,onVisibleChange:de},De)}var Ke=h.createElement(uc.Item,Q({ref:e,role:"none"},E,{component:"li",style:n,className:Oe(te,"".concat(te,"-").concat(P),r,ve(ve(ve(ve({},"".concat(te,"-open"),be),"".concat(te,"-active"),ye),"".concat(te,"-selected"),K),"".concat(te,"-disabled"),J)),onMouseEnter:me,onMouseLeave:fe}),De,!N&&h.createElement(DAe,{id:Re,open:be,keyPath:ue},l));return q&&(Ke=q(Ke,t,{selected:K,active:ye,open:be,disabled:J})),h.createElement(mx,{onItemClick:je,mode:P==="horizontal"?"vertical":P,itemIcon:le,expandIcon:we},Ke)}),ET=h.forwardRef(function(t,e){var n=t.eventKey,r=t.children,i=Dv(n),o=aL(r,i),s=CT();h.useEffect(function(){if(s)return s.registerPath(n,i),function(){s.unregisterPath(n,i)}},[i]);var a;return s?a=o:a=h.createElement(NAe,Q({ref:e},t),o),h.createElement(oJ.Provider,{value:i},a)});function lL(t){var e=t.className,n=t.style,r=h.useContext(_l),i=r.prefixCls,o=CT();return o?null:h.createElement("li",{role:"separator",className:Oe("".concat(i,"-item-divider"),e),style:n})}var LAe=["className","title","eventKey","children"],jAe=h.forwardRef(function(t,e){var n=t.className,r=t.title;t.eventKey;var i=t.children,o=bn(t,LAe),s=h.useContext(_l),a=s.prefixCls,l="".concat(a,"-item-group");return h.createElement("li",Q({ref:e,role:"presentation"},o,{onClick:function(u){return u.stopPropagation()},className:Oe(l,n)}),h.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof r=="string"?r:void 0},r),h.createElement("ul",{role:"group",className:"".concat(l,"-list")},i))}),cL=h.forwardRef(function(t,e){var n=t.eventKey,r=t.children,i=Dv(n),o=aL(r,i),s=CT();return s?o:h.createElement(jAe,Q({ref:e},go(t,["warnKey"])),o)}),zAe=["label","children","key","type","extra"];function oD(t,e,n){var r=e.item,i=e.group,o=e.submenu,s=e.divider;return(t||[]).map(function(a,l){if(a&&zt(a)==="object"){var c=a,u=c.label,d=c.children,f=c.key,p=c.type,v=c.extra,y=bn(c,zAe),b=f??"tmp-".concat(l);return d||p==="group"?p==="group"?h.createElement(i,Q({key:b},y,{title:u}),oD(d,e,n)):h.createElement(o,Q({key:b},y,{title:u}),oD(d,e,n)):p==="divider"?h.createElement(s,Q({key:b},y)):h.createElement(r,Q({key:b},y,{extra:v}),u,(!!v||v===0)&&h.createElement("span",{className:"".concat(n,"-item-extra")},v))}return null}).filter(function(a){return a})}function EV(t,e,n,r,i){var o=t,s=_e({divider:lL,item:ST,group:cL,submenu:ET},r);return e&&(o=oD(e,s,i)),aL(o,n)}var FAe=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Rf=[],BAe=h.forwardRef(function(t,e){var n,r=t,i=r.prefixCls,o=i===void 0?"rc-menu":i,s=r.rootClassName,a=r.style,l=r.className,c=r.tabIndex,u=c===void 0?0:c,d=r.items,f=r.children,p=r.direction,v=r.id,y=r.mode,b=y===void 0?"vertical":y,x=r.inlineCollapsed,_=r.disabled,w=r.disabledOverflow,E=r.subMenuOpenDelay,T=E===void 0?.1:E,I=r.subMenuCloseDelay,S=I===void 0?.1:I,P=r.forceSubMenuRender,R=r.defaultOpenKeys,O=r.openKeys,N=r.activeKey,A=r.defaultActiveFirst,$=r.selectable,M=$===void 0?!0:$,F=r.multiple,z=F===void 0?!1:F,j=r.defaultSelectedKeys,B=r.selectedKeys,W=r.onSelect,q=r.onDeselect,G=r.inlineIndent,X=G===void 0?24:G,ue=r.motion,te=r.defaultMotions,J=r.triggerSubMenuAction,se=J===void 0?"hover":J,ge=r.builtinPlacements,le=r.itemIcon,we=r.expandIcon,ce=r.overflowedIndicator,be=ce===void 0?"...":ce,K=r.overflowedIndicatorPopupClassName,oe=r.getPopupContainer,V=r.onClick,ie=r.onOpenChange,re=r.onKeyDown;r.openAnimation,r.openTransitionName;var ee=r._internalRenderMenuItem,Y=r._internalRenderSubMenuItem,he=r._internalComponents,Ce=bn(r,FAe),me=h.useMemo(function(){return[EV(f,d,Rf,he,o),EV(f,d,Rf,{},o)]},[f,d,he]),fe=Fe(me,2),ye=fe[0],Te=fe[1],ke=h.useState(!1),je=Fe(ke,2),de=je[0],Se=je[1],Re=h.useRef(),Ve=bAe(v),De=p==="rtl",ze=so(R,{value:O,postState:function(Dt){return Dt||Rf}}),$e=Fe(ze,2),Ke=$e[0],Ae=$e[1],Ue=function(Dt){var It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function hn(){Ae(Dt),ie==null||ie(Dt)}It?js.flushSync(hn):hn()},rt=h.useState(Ke),mt=Fe(rt,2),ot=mt[0],Bt=mt[1],Xt=h.useRef(!1),Lt=h.useMemo(function(){return(b==="inline"||b==="vertical")&&x?["vertical",x]:[b,!1]},[b,x]),en=Fe(Lt,2),on=en[0],xn=en[1],qt=on==="inline",St=h.useState(on),gt=Fe(St,2),lt=gt[0],kt=gt[1],Ie=h.useState(xn),Ee=Fe(Ie,2),Pe=Ee[0],Be=Ee[1];h.useEffect(function(){kt(on),Be(xn),Xt.current&&(qt?Ae(ot):Ue(Rf))},[on,xn]);var Le=h.useState(0),Qe=Fe(Le,2),at=Qe[0],Ze=Qe[1],Xe=at>=ye.length-1||lt!=="horizontal"||w;h.useEffect(function(){qt&&Bt(Ke)},[Ke]),h.useEffect(function(){return Xt.current=!0,function(){Xt.current=!1}},[]);var et=vAe(),st=et.registerPath,bt=et.unregisterPath,Tt=et.refreshOverflowKeys,tn=et.isSubPathKey,Wt=et.getKeyPath,pt=et.getKeys,Vt=et.getSubPathKeys,ht=h.useMemo(function(){return{registerPath:st,unregisterPath:bt}},[st,bt]),Pt=h.useMemo(function(){return{isSubPathKey:tn}},[tn]);h.useEffect(function(){Tt(Xe?Rf:ye.slice(at+1).map(function(un){return un.key}))},[at,Xe]);var Nt=so(N||A&&((n=ye[0])===null||n===void 0?void 0:n.key),{value:N}),Zt=Fe(Nt,2),Rn=Zt[0],rr=Zt[1],$n=_0(function(un){rr(un)}),Ir=_0(function(){rr(void 0)});h.useImperativeHandle(e,function(){return{list:Re.current,focus:function(Dt){var It,hn=pt(),Dn=rD(hn,Ve),An=Dn.elements,Nn=Dn.key2element,Gt=Dn.element2key,ar=iL(Re.current,An),vr=Rn??(ar[0]?Gt.get(ar[0]):(It=ye.find(function(sn){return!sn.props.disabled}))===null||It===void 0?void 0:It.key),yr=Nn.get(vr);if(vr&&yr){var vi;yr==null||(vi=yr.focus)===null||vi===void 0||vi.call(yr,Dt)}}}});var Ot=so(j||[],{value:B,postState:function(Dt){return Array.isArray(Dt)?Dt:Dt==null?Rf:[Dt]}}),Ct=Fe(Ot,2),Ft=Ct[0],jn=Ct[1],dr=function(Dt){if(M){var It=Dt.key,hn=Ft.includes(It),Dn;z?hn?Dn=Ft.filter(function(Nn){return Nn!==It}):Dn=[].concat(it(Ft),[It]):Dn=[It],jn(Dn);var An=_e(_e({},Dt),{},{selectedKeys:Dn});hn?q==null||q(An):W==null||W(An)}!z&&Ke.length&&lt!=="inline"&&Ue(Rf)},Ut=_0(function(un){V==null||V(uE(un)),dr(un)}),wn=_0(function(un,Dt){var It=Ke.filter(function(Dn){return Dn!==un});if(Dt)It.push(un);else if(lt!=="inline"){var hn=Vt(un);It=It.filter(function(Dn){return!hn.has(Dn)})}_c(Ke,It,!0)||Ue(It,!0)}),zr=function(Dt,It){var hn=It??!Ke.includes(Dt);wn(Dt,hn)},si=pAe(lt,Rn,De,Ve,Re,pt,Wt,rr,zr,re);h.useEffect(function(){Se(!0)},[]);var Pi=h.useMemo(function(){return{_internalRenderMenuItem:ee,_internalRenderSubMenuItem:Y}},[ee,Y]),Jr=lt!=="horizontal"||w?ye:ye.map(function(un,Dt){return h.createElement(mx,{key:un.key,overflowDisabled:Dt>at},un)}),mn=h.createElement(uc,Q({id:v,ref:Re,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:ST,className:Oe(o,"".concat(o,"-root"),"".concat(o,"-").concat(lt),l,ve(ve({},"".concat(o,"-inline-collapsed"),Pe),"".concat(o,"-rtl"),De),s),dir:p,style:a,role:"menu",tabIndex:u,data:Jr,renderRawItem:function(Dt){return Dt},renderRawRest:function(Dt){var It=Dt.length,hn=It?ye.slice(-It):null;return h.createElement(ET,{eventKey:iD,title:be,disabled:Xe,internalPopupClose:It===0,popupClassName:K},hn)},maxCount:lt!=="horizontal"||w?uc.INVALIDATE:uc.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Dt){Ze(Dt)},onKeyDown:si},Ce));return h.createElement(rL.Provider,{value:Pi},h.createElement(tJ.Provider,{value:Ve},h.createElement(mx,{prefixCls:o,rootClassName:s,mode:lt,openKeys:Ke,rtl:De,disabled:_,motion:de?ue:null,defaultMotions:de?te:null,activeKey:Rn,onActive:$n,onInactive:Ir,selectedKeys:Ft,inlineIndent:X,subMenuOpenDelay:T,subMenuCloseDelay:S,forceSubMenuRender:P,builtinPlacements:ge,triggerSubMenuAction:se,getPopupContainer:oe,itemIcon:le,expandIcon:we,onItemClick:Ut,onOpenChange:wn},h.createElement(sJ.Provider,{value:Pt},mn),h.createElement("div",{style:{display:"none"},"aria-hidden":!0},h.createElement(iJ.Provider,{value:ht},Te)))))}),y_=BAe;y_.Item=ST;y_.SubMenu=ET;y_.ItemGroup=cL;y_.Divider=lL;const fJ=h.createContext({});var VAe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},HAe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:VAe}))},hJ=h.forwardRef(HAe);const dE=h.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var WAe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pJ=t=>{const{prefixCls:e,className:n,dashed:r}=t,i=WAe(t,["prefixCls","className","dashed"]),{getPrefixCls:o}=h.useContext(Pn),s=o("menu",e),a=Oe({[`${s}-item-divider-dashed`]:!!r},n);return h.createElement(lL,Object.assign({className:a},i))},mJ=t=>{var e;const{className:n,children:r,icon:i,title:o,danger:s,extra:a}=t,{prefixCls:l,firstLevel:c,direction:u,disableMenuItemTitleTooltip:d,inlineCollapsed:f}=h.useContext(dE),p=w=>{const E=r==null?void 0:r[0],T=h.createElement("span",{className:Oe(`${l}-title-content`,{[`${l}-title-content-with-extra`]:!!a||a===0})},r);return(!i||h.isValidElement(r)&&r.type==="span")&&r&&w&&c&&typeof E=="string"?h.createElement("div",{className:`${l}-inline-collapsed-noicon`},E.charAt(0)):T},{siderCollapsed:v}=h.useContext(fJ);let y=o;typeof o>"u"?y=c?r:"":o===!1&&(y="");const b={title:y};!v&&!f&&(b.title=null,b.open=!1);const x=vl(r).length;let _=h.createElement(ST,Object.assign({},go(t,["title","icon","danger"]),{className:Oe({[`${l}-item-danger`]:s,[`${l}-item-only-child`]:(i?x+1:x)===1},n),title:typeof o=="string"?o:void 0}),Va(i,{className:Oe(h.isValidElement(i)?(e=i.props)===null||e===void 0?void 0:e.className:"",`${l}-item-icon`)}),p(f));return d||(_=h.createElement(px,Object.assign({},b,{placement:u==="rtl"?"left":"right",classNames:{root:`${l}-inline-collapsed-tooltip`}}),_)),_};var UAe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const fE=h.createContext(null),gJ=h.forwardRef((t,e)=>{const{children:n}=t,r=UAe(t,["children"]),i=h.useContext(fE),o=h.useMemo(()=>Object.assign(Object.assign({},i),r),[i,r.prefixCls,r.mode,r.selectable,r.rootClassName]),s=l1e(n),a=xf(e,s?yp(n):null);return h.createElement(fE.Provider,{value:o},h.createElement(fx,{space:!0},s?h.cloneElement(n,{ref:a}):n))}),KAe=t=>{const{componentCls:e,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:i,lineWidth:o,lineType:s,itemPaddingInline:a}=t;return{[`${e}-horizontal`]:{lineHeight:r,border:0,borderBottom:`${Ne(o)} ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},qAe=t=>{let{componentCls:e,menuArrowOffset:n,calc:r}=t;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Ne(r(n).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Ne(n)})`}}}}},IV=t=>Object.assign({},of(t)),TV=(t,e)=>{const{componentCls:n,itemColor:r,itemSelectedColor:i,subMenuItemSelectedColor:o,groupTitleColor:s,itemBg:a,subMenuItemBg:l,itemSelectedBg:c,activeBarHeight:u,activeBarWidth:d,activeBarBorderWidth:f,motionDurationSlow:p,motionEaseInOut:v,motionEaseOut:y,itemPaddingInline:b,motionDurationMid:x,itemHoverColor:_,lineType:w,colorSplit:E,itemDisabledColor:T,dangerItemColor:I,dangerItemHoverColor:S,dangerItemSelectedColor:P,dangerItemActiveBg:R,dangerItemSelectedBg:O,popupBg:N,itemHoverBg:A,itemActiveBg:$,menuSubMenuBg:M,horizontalItemSelectedColor:F,horizontalItemSelectedBg:z,horizontalItemBorderRadius:j,horizontalItemHoverBg:B}=t;return{[`${n}-${e}, ${n}-${e} > ${n}`]:{color:r,background:a,[`&${n}-root:focus-visible`]:Object.assign({},IV(t)),[`${n}-item`]:{"&-group-title, &-extra":{color:s}},[`${n}-submenu-selected > ${n}-submenu-title`]:{color:o},[`${n}-item, ${n}-submenu-title`]:{color:r,[`&:not(${n}-item-disabled):focus-visible`]:Object.assign({},IV(t))},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${T} !important`},[`${n}-item:not(${n}-item-selected):not(${n}-submenu-selected)`]:{[`&:hover, > ${n}-submenu-title:hover`]:{color:_}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:A},"&:active":{backgroundColor:$}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:A},"&:active":{backgroundColor:$}}},[`${n}-item-danger`]:{color:I,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:S}},[`&${n}-item:active`]:{background:R}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:P},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:c,[`&${n}-item-danger`]:{backgroundColor:O}},[`&${n}-submenu > ${n}`]:{backgroundColor:M},[`&${n}-popup > ${n}`]:{backgroundColor:N},[`&${n}-submenu-popup > ${n}`]:{backgroundColor:N},[`&${n}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:f,marginTop:t.calc(f).mul(-1).equal(),marginBottom:0,borderRadius:j,"&::after":{position:"absolute",insetInline:b,bottom:0,borderBottom:`${Ne(u)} solid transparent`,transition:`border-color ${p} ${v}`,content:'""'},"&:hover, &-active, &-open":{background:B,"&::after":{borderBottomWidth:u,borderBottomColor:F}},"&-selected":{color:F,backgroundColor:z,"&:hover":{backgroundColor:z},"&::after":{borderBottomWidth:u,borderBottomColor:F}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${Ne(f)} ${w} ${E}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:l},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Ne(d)} solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${x} ${y}`,`opacity ${x} ${y}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:P}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${x} ${v}`,`opacity ${x} ${v}`].join(",")}}}}}},PV=t=>{const{componentCls:e,itemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:o,marginXS:s,itemMarginBlock:a,itemWidth:l,itemPaddingInline:c}=t,u=t.calc(o).add(i).add(s).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:n,lineHeight:Ne(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:a,width:l},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:n,lineHeight:Ne(n)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:u}}},GAe=t=>{const{componentCls:e,iconCls:n,itemHeight:r,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:s,motionEaseOut:a,paddingXL:l,itemMarginInline:c,fontSizeLG:u,motionDurationFast:d,motionDurationSlow:f,paddingXS:p,boxShadowSecondary:v,collapsedWidth:y,collapsedIconSize:b}=t,x={height:r,lineHeight:Ne(r),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},PV(t))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},PV(t)),{boxShadow:v})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${Ne(t.calc(s).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${f}`,`background ${f}`,`padding ${d} ${a}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:x,[`& ${e}-item-group-title`]:{paddingInlineStart:l}},[`${e}-item`]:x}},{[`${e}-inline-collapsed`]:{width:y,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Ne(t.calc(b).div(2).equal())} - ${Ne(c)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${n}`]:{margin:0,fontSize:b,lineHeight:Ne(r),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${e}-item-group-title`]:Object.assign(Object.assign({},cx),{paddingInline:p})}}]},RV=t=>{const{componentCls:e,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:i,motionEaseOut:o,iconCls:s,iconSize:a,iconMarginInlineEnd:l}=t;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${n}`,`background ${n}`,`padding calc(${n} + 0.1s) ${i}`].join(","),[`${e}-item-icon, ${s}`]:{minWidth:a,fontSize:a,transition:[`font-size ${r} ${o}`,`margin ${n} ${i}`,`color ${n}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${n} ${i}`,`margin ${n}`,`color ${n}`].join(",")}},[`${e}-item-icon`]:Object.assign({},s_()),[`&${e}-item-only-child`]:{[`> ${s}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},kV=t=>{const{componentCls:e,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:o,menuArrowOffset:s}=t;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:t.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:t.calc(o).mul(.6).equal(),height:t.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Ne(t.calc(s).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Ne(s)})`}}}}},YAe=t=>{const{antCls:e,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:s,paddingXS:a,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:f,subMenuItemBorderRadius:p,menuArrowSize:v,menuArrowOffset:y,lineType:b,groupTitleLineHeight:x,groupTitleFontSize:_}=t;return[{"":{[n]:Object.assign(Object.assign({},ux()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Si(t)),ux()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:t.itemBorderRadius},[`${n}-item-group-title`]:{padding:`${Ne(a)} ${Ne(l)}`,fontSize:_,lineHeight:x,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${o} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${n}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:t.padding}},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:b,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),RV(t)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${Ne(t.calc(r).mul(2).equal())} ${Ne(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:f,boxShadow:"none",transformOrigin:"0 0",[`&${n}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${n}`]:Object.assign(Object.assign(Object.assign({borderRadius:f},RV(t)),kV(t)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:p},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:t.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:t.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:t.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:t.paddingXS}}}),kV(t)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Ne(y)})`},"&::after":{transform:`rotate(45deg) translateX(${Ne(t.calc(y).mul(-1).equal())})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(${Ne(t.calc(v).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Ne(t.calc(y).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Ne(y)})`}}})},{[`${e}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},XAe=t=>{var e,n,r;const{colorPrimary:i,colorError:o,colorTextDisabled:s,colorErrorBg:a,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:f,lineWidth:p,lineWidthBold:v,controlItemBgActive:y,colorBgTextHover:b,controlHeightLG:x,lineHeight:_,colorBgElevated:w,marginXXS:E,padding:T,fontSize:I,controlHeightSM:S,fontSizeLG:P,colorTextLightSolid:R,colorErrorHover:O}=t,N=(e=t.activeBarWidth)!==null&&e!==void 0?e:0,A=(n=t.activeBarBorderWidth)!==null&&n!==void 0?n:p,$=(r=t.itemMarginInline)!==null&&r!==void 0?r:t.marginXXS,M=new Xn(R).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:t.zIndexPopupBase+50,radiusItem:t.borderRadiusLG,itemBorderRadius:t.borderRadiusLG,radiusSubMenuItem:t.borderRadiusSM,subMenuItemBorderRadius:t.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:i,itemSelectedColor:i,subMenuItemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:u,itemBg:u,colorItemBgHover:b,itemHoverBg:b,colorItemBgActive:f,itemActiveBg:y,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:y,itemSelectedBg:y,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:N,colorActiveBarHeight:v,activeBarHeight:v,colorActiveBarBorderSize:p,activeBarBorderWidth:A,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:a,dangerItemActiveBg:a,colorDangerItemBgSelected:a,dangerItemSelectedBg:a,itemMarginInline:$,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:x,groupTitleLineHeight:_,collapsedWidth:x*2,popupBg:w,itemMarginBlock:E,itemPaddingInline:T,horizontalLineHeight:`${x*1.15}px`,iconSize:I,iconMarginInlineEnd:S-I,collapsedIconSize:P,groupTitleFontSize:I,darkItemDisabledColor:new Xn(R).setA(.25).toRgbString(),darkItemColor:M,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:R,darkItemSelectedBg:i,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:M,darkItemHoverColor:R,darkDangerItemHoverColor:O,darkDangerItemSelectedColor:R,darkDangerItemActiveBg:o,itemWidth:N?`calc(100% + ${A}px)`:`calc(100% - ${$*2}px)`}},ZAe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return gi("Menu",i=>{const{colorBgElevated:o,controlHeightLG:s,fontSize:a,darkItemColor:l,darkDangerItemColor:c,darkItemBg:u,darkSubMenuItemBg:d,darkItemSelectedColor:f,darkItemSelectedBg:p,darkDangerItemSelectedBg:v,darkItemHoverBg:y,darkGroupTitleColor:b,darkItemHoverColor:x,darkItemDisabledColor:_,darkDangerItemHoverColor:w,darkDangerItemSelectedColor:E,darkDangerItemActiveBg:T,popupBg:I,darkPopupBg:S}=i,P=i.calc(a).div(7).mul(5).equal(),R=Jn(i,{menuArrowSize:P,menuHorizontalHeight:i.calc(s).mul(1.15).equal(),menuArrowOffset:i.calc(P).mul(.25).equal(),menuSubMenuBg:o,calc:i.calc,popupBg:I}),O=Jn(R,{itemColor:l,itemHoverColor:x,groupTitleColor:b,itemSelectedColor:f,subMenuItemSelectedColor:f,itemBg:u,popupBg:S,subMenuItemBg:d,itemActiveBg:"transparent",itemSelectedBg:p,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:y,itemDisabledColor:_,dangerItemColor:c,dangerItemHoverColor:w,dangerItemSelectedColor:E,dangerItemActiveBg:T,dangerItemSelectedBg:v,menuSubMenuBg:d,horizontalItemSelectedColor:f,horizontalItemSelectedBg:p});return[YAe(R),KAe(R),GAe(R),TV(R,"light"),TV(O,"dark"),qAe(R),FZ(R),Jg(R,"slide-up"),Jg(R,"slide-down"),cT(R,"zoom-big")]},XAe,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:n,unitless:{groupTitleLineHeight:!0}})(t,e)},vJ=t=>{var e;const{popupClassName:n,icon:r,title:i,theme:o}=t,s=h.useContext(dE),{prefixCls:a,inlineCollapsed:l,theme:c}=s,u=Dv();let d;if(!r)d=l&&!u.length&&i&&typeof i=="string"?h.createElement("div",{className:`${a}-inline-collapsed-noicon`},i.charAt(0)):h.createElement("span",{className:`${a}-title-content`},i);else{const v=h.isValidElement(i)&&i.type==="span";d=h.createElement(h.Fragment,null,Va(r,{className:Oe(h.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${a}-item-icon`)}),v?i:h.createElement("span",{className:`${a}-title-content`},i))}const f=h.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]),[p]=u_("Menu");return h.createElement(dE.Provider,{value:f},h.createElement(ET,Object.assign({},go(t,["icon"]),{title:d,popupClassName:Oe(a,n,`${a}-${o||c}`),popupStyle:Object.assign({zIndex:p},t.popupStyle)})))};var QAe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function TR(t){return t===null||t===!1}const JAe={item:mJ,submenu:vJ,divider:pJ},e$e=h.forwardRef((t,e)=>{var n;const r=h.useContext(fE),i=r||{},{getPrefixCls:o,getPopupContainer:s,direction:a,menu:l}=h.useContext(Pn),c=o(),{prefixCls:u,className:d,style:f,theme:p="light",expandIcon:v,_internalDisableMenuItemTitleTooltip:y,inlineCollapsed:b,siderCollapsed:x,rootClassName:_,mode:w,selectable:E,onClick:T,overflowedIndicatorPopupClassName:I}=t,S=QAe(t,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),P=go(S,["collapsedWidth"]);(n=i.validator)===null||n===void 0||n.call(i,{mode:w});const R=Or(function(){var X;T==null||T.apply(void 0,arguments),(X=i.onClick)===null||X===void 0||X.call(i)}),O=i.mode||w,N=E??i.selectable,A=b??x,$={horizontal:{motionName:`${c}-slide-up`},inline:$Z(c),other:{motionName:`${c}-zoom-big`}},M=o("menu",u||i.prefixCls),F=Bs(M),[z,j,B]=ZAe(M,F,!r),W=Oe(`${M}-${p}`,l==null?void 0:l.className,d),q=h.useMemo(()=>{var X,ue;if(typeof v=="function"||TR(v))return v||null;if(typeof i.expandIcon=="function"||TR(i.expandIcon))return i.expandIcon||null;if(typeof(l==null?void 0:l.expandIcon)=="function"||TR(l==null?void 0:l.expandIcon))return(l==null?void 0:l.expandIcon)||null;const te=(X=v??(i==null?void 0:i.expandIcon))!==null&&X!==void 0?X:l==null?void 0:l.expandIcon;return Va(te,{className:Oe(`${M}-submenu-expand-icon`,h.isValidElement(te)?(ue=te.props)===null||ue===void 0?void 0:ue.className:void 0)})},[v,i==null?void 0:i.expandIcon,l==null?void 0:l.expandIcon,M]),G=h.useMemo(()=>({prefixCls:M,inlineCollapsed:A||!1,direction:a,firstLevel:!0,theme:p,mode:O,disableMenuItemTitleTooltip:y}),[M,A,a,y,p]);return z(h.createElement(fE.Provider,{value:null},h.createElement(dE.Provider,{value:G},h.createElement(y_,Object.assign({getPopupContainer:s,overflowedIndicator:h.createElement(hJ,null),overflowedIndicatorPopupClassName:Oe(M,`${M}-${p}`,I),mode:O,selectable:N,onClick:R},P,{inlineCollapsed:A,style:Object.assign(Object.assign({},l==null?void 0:l.style),f),className:W,prefixCls:M,direction:a,defaultMotions:$,expandIcon:q,ref:e,rootClassName:Oe(_,j,i.rootClassName,B,F),_internalComponents:JAe})))))}),Av=h.forwardRef((t,e)=>{const n=h.useRef(null),r=h.useContext(fJ);return h.useImperativeHandle(e,()=>({menu:n.current,focus:i=>{var o;(o=n.current)===null||o===void 0||o.focus(i)}})),h.createElement(e$e,Object.assign({ref:n},t,r))});Av.Item=mJ;Av.SubMenu=vJ;Av.Divider=pJ;Av.ItemGroup=cL;const t$e=t=>{const{componentCls:e,menuCls:n,colorError:r,colorTextLightSolid:i}=t,o=`${n}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${n} ${o}`]:{[`&${o}-danger:not(${o}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},n$e=t=>{const{componentCls:e,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,sizePopupArrow:o,antCls:s,iconCls:a,motionDurationMid:l,paddingBlock:c,fontSize:u,dropdownEdgeChildPadding:d,colorTextDisabled:f,fontSizeIcon:p,controlPaddingHorizontal:v,colorBgElevated:y}=t;return[{[e]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:t.calc(o).div(2).sub(i).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${s}-btn`]:{[`& > ${a}-down, & > ${s}-btn-icon > ${a}-down`]:{fontSize:p}},[`${e}-wrap`]:{position:"relative",[`${s}-btn > ${a}-down`]:{fontSize:p},[`${a}-down::before`]:{transition:`transform ${l}`}},[`${e}-wrap-open`]:{[`${a}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:VN},[`&${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topRight`]:{animationName:WN},[`&${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:HN},[`&${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topRight`]:{animationName:UN}}},XQ(t,y,{arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:Object.assign(Object.assign({},Si(t)),{[n]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:y,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},Jh(t)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${Ne(c)} ${Ne(v)}`,color:t.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:u,marginInlineEnd:t.marginXS,fontSize:t.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:t.padding,marginInlineStart:"auto",fontSize:t.fontSizeSM,color:t.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${Ne(c)} ${Ne(v)}`,color:t.colorText,fontWeight:"normal",fontSize:u,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:t.borderRadiusSM,"&:hover, &-active":{backgroundColor:t.controlItemBgHover}},Jh(t)),{"&-selected":{color:t.colorPrimary,backgroundColor:t.controlItemBgActive,"&:hover, &-active":{backgroundColor:t.controlItemBgActiveHover}},"&-disabled":{color:f,cursor:"not-allowed","&:hover":{color:f,backgroundColor:y,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${Ne(t.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:t.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:t.colorTextDescription,fontSize:p,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${Ne(t.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:t.calc(v).add(t.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:f,backgroundColor:y,cursor:"not-allowed"}},[`${n}-submenu-selected ${e}-menu-submenu-title`]:{color:t.colorPrimary}})})},[Jg(t,"slide-up"),Jg(t,"slide-down"),oE(t,"move-up"),oE(t,"move-down"),cT(t,"zoom-big")]]},r$e=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+50,paddingBlock:(t.controlHeight-t.fontSize*t.lineHeight)/2},nL({contentRadius:t.borderRadiusLG,limitVerticalRadius:!0})),GQ(t)),i$e=gi("Dropdown",t=>{const{marginXXS:e,sizePopupArrow:n,paddingXXS:r,componentCls:i}=t,o=Jn(t,{menuCls:`${i}-menu`,dropdownArrowDistance:t.calc(n).div(2).add(e).equal(),dropdownEdgeChildPadding:r});return[n$e(o),t$e(o)]},r$e,{resetStyle:!1}),IT=t=>{var e;const{menu:n,arrow:r,prefixCls:i,children:o,trigger:s,disabled:a,dropdownRender:l,getPopupContainer:c,overlayClassName:u,rootClassName:d,overlayStyle:f,open:p,onOpenChange:v,visible:y,onVisibleChange:b,mouseEnterDelay:x=.15,mouseLeaveDelay:_=.1,autoAdjustOverflow:w=!0,placement:E="",overlay:T,transitionName:I}=t,{getPopupContainer:S,getPrefixCls:P,direction:R,dropdown:O}=h.useContext(Pn);bp();const N=h.useMemo(()=>{const oe=P();return I!==void 0?I:E.includes("top")?`${oe}-slide-down`:`${oe}-slide-up`},[P,E,I]),A=h.useMemo(()=>E?E.includes("Center")?E.slice(0,E.indexOf("Center")):E:R==="rtl"?"bottomRight":"bottomLeft",[E,R]),$=P("dropdown",i),M=Bs($),[F,z,j]=i$e($,M),[,B]=Bo(),W=h.Children.only(sAe(o)?h.createElement("span",null,o):o),q=Va(W,{className:Oe(`${$}-trigger`,{[`${$}-rtl`]:R==="rtl"},W.props.className),disabled:(e=W.props.disabled)!==null&&e!==void 0?e:a}),G=a?[]:s,X=!!(G!=null&&G.includes("contextMenu")),[ue,te]=so(!1,{value:p??y}),J=Or(oe=>{v==null||v(oe,{source:"trigger"}),b==null||b(oe),te(oe)}),se=Oe(u,d,z,j,M,O==null?void 0:O.className,{[`${$}-rtl`]:R==="rtl"}),ge=ZQ({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:w,offset:B.marginXXS,arrowWidth:r?B.sizePopupArrow:0,borderRadius:B.borderRadius}),le=h.useCallback(()=>{n!=null&&n.selectable&&(n!=null&&n.multiple)||(v==null||v(!1,{source:"menu"}),te(!1))},[n==null?void 0:n.selectable,n==null?void 0:n.multiple]),we=()=>{let oe;return n!=null&&n.items?oe=h.createElement(Av,Object.assign({},n)):typeof T=="function"?oe=T():oe=T,l&&(oe=l(oe)),oe=h.Children.only(typeof oe=="string"?h.createElement("span",null,oe):oe),h.createElement(gJ,{prefixCls:`${$}-menu`,rootClassName:Oe(j,M),expandIcon:h.createElement("span",{className:`${$}-menu-submenu-arrow`},R==="rtl"?h.createElement(JO,{className:`${$}-menu-submenu-arrow-icon`}):h.createElement(AO,{className:`${$}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:le,validator:V=>{let{mode:ie}=V}},oe)},[ce,be]=u_("Dropdown",f==null?void 0:f.zIndex);let K=h.createElement(oAe,Object.assign({alignPoint:X},go(t,["rootClassName"]),{mouseEnterDelay:x,mouseLeaveDelay:_,visible:ue,builtinPlacements:ge,arrow:!!r,overlayClassName:se,prefixCls:$,getPopupContainer:c||S,transitionName:N,trigger:G,overlay:we,placement:A,onVisibleChange:J,overlayStyle:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.style),f),{zIndex:ce})}),q);return ce&&(K=h.createElement(rT.Provider,{value:be},K)),F(K)},o$e=CQ(IT,"align",void 0,"dropdown",t=>t),s$e=t=>h.createElement(o$e,Object.assign({},t),h.createElement("span",null));IT._InternalPanelDoNotUseOrYouWillBeFired=s$e;const yJ=h.createContext(null),a$e=yJ.Provider,bJ=h.createContext(null),l$e=bJ.Provider;var c$e=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],xJ=h.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-checkbox":n,i=t.className,o=t.style,s=t.checked,a=t.disabled,l=t.defaultChecked,c=l===void 0?!1:l,u=t.type,d=u===void 0?"checkbox":u,f=t.title,p=t.onChange,v=bn(t,c$e),y=h.useRef(null),b=h.useRef(null),x=so(c,{value:s}),_=Fe(x,2),w=_[0],E=_[1];h.useImperativeHandle(e,function(){return{focus:function(P){var R;(R=y.current)===null||R===void 0||R.focus(P)},blur:function(){var P;(P=y.current)===null||P===void 0||P.blur()},input:y.current,nativeElement:b.current}});var T=Oe(r,i,ve(ve({},"".concat(r,"-checked"),w),"".concat(r,"-disabled"),a)),I=function(P){a||("checked"in t||E(P.target.checked),p==null||p({target:_e(_e({},t),{},{type:d,checked:P.target.checked}),stopPropagation:function(){P.stopPropagation()},preventDefault:function(){P.preventDefault()},nativeEvent:P.nativeEvent}))};return h.createElement("span",{className:T,title:f,style:o,ref:b},h.createElement("input",Q({},v,{className:"".concat(r,"-input"),ref:y,onChange:I,disabled:a,checked:!!w,type:d})),h.createElement("span",{className:"".concat(r,"-inner")}))});function _J(t){const e=ae.useRef(null),n=()=>{nr.cancel(e.current),e.current=null};return[()=>{n(),e.current=nr(()=>{e.current=null})},o=>{e.current&&(o.stopPropagation(),n()),t==null||t(o)}]}const u$e=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-group`;return{[r]:Object.assign(Object.assign({},Si(t)),{display:"inline-block",fontSize:0,[`&${r}-rtl`]:{direction:"rtl"},[`&${r}-block`]:{display:"flex"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},d$e=t=>{const{componentCls:e,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:i,motionDurationSlow:o,motionDurationMid:s,motionEaseInOutCirc:a,colorBgContainer:l,colorBorder:c,lineWidth:u,colorBgContainerDisabled:d,colorTextDisabled:f,paddingXS:p,dotColorDisabled:v,lineType:y,radioColor:b,radioBgColor:x,calc:_}=t,w=`${e}-inner`,T=_(i).sub(_(4).mul(2)),I=_(1).mul(i).equal({unit:!0});return{[`${e}-wrapper`]:Object.assign(Object.assign({},Si(t)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:t.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Ne(u)} ${y} ${r}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[e]:Object.assign(Object.assign({},Si(t)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${e}-wrapper:hover &,
        &:hover ${w}`]:{borderColor:r},[`${e}-input:focus-visible + ${w}`]:Object.assign({},of(t)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:I,height:I,marginBlockStart:_(1).mul(i).div(-2).equal({unit:!0}),marginInlineStart:_(1).mul(i).div(-2).equal({unit:!0}),backgroundColor:b,borderBlockStart:0,borderInlineStart:0,borderRadius:I,transform:"scale(0)",opacity:0,transition:`all ${o} ${a}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:I,height:I,backgroundColor:l,borderColor:c,borderStyle:"solid",borderWidth:u,borderRadius:"50%",transition:`all ${s}`},[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[w]:{borderColor:r,backgroundColor:x,"&::after":{transform:`scale(${t.calc(t.dotSize).div(i).equal()})`,opacity:1,transition:`all ${o} ${a}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[w]:{backgroundColor:d,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:v}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:f,cursor:"not-allowed"},[`&${e}-checked`]:{[w]:{"&::after":{transform:`scale(${_(T).div(i).equal()})`}}}},[`span${e} + *`]:{paddingInlineStart:p,paddingInlineEnd:p}})}},f$e=t=>{const{buttonColor:e,controlHeight:n,componentCls:r,lineWidth:i,lineType:o,colorBorder:s,motionDurationSlow:a,motionDurationMid:l,buttonPaddingInline:c,fontSize:u,buttonBg:d,fontSizeLG:f,controlHeightLG:p,controlHeightSM:v,paddingXS:y,borderRadius:b,borderRadiusSM:x,borderRadiusLG:_,buttonCheckedBg:w,buttonSolidCheckedColor:E,colorTextDisabled:T,colorBgContainerDisabled:I,buttonCheckedBgDisabled:S,buttonCheckedColorDisabled:P,colorPrimary:R,colorPrimaryHover:O,colorPrimaryActive:N,buttonSolidCheckedBg:A,buttonSolidCheckedHoverBg:$,buttonSolidCheckedActiveBg:M,calc:F}=t;return{[`${r}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:c,paddingBlock:0,color:e,fontSize:u,lineHeight:Ne(F(n).sub(F(i).mul(2)).equal()),background:d,border:`${Ne(i)} ${o} ${s}`,borderBlockStartWidth:F(i).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:i,cursor:"pointer",transition:[`color ${l}`,`background ${l}`,`box-shadow ${l}`].join(","),a:{color:e},[`> ${r}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:F(i).mul(-1).equal(),insetInlineStart:F(i).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:i,paddingInline:0,backgroundColor:s,transition:`background-color ${a}`,content:'""'}},"&:first-child":{borderInlineStart:`${Ne(i)} ${o} ${s}`,borderStartStartRadius:b,borderEndStartRadius:b},"&:last-child":{borderStartEndRadius:b,borderEndEndRadius:b},"&:first-child:last-child":{borderRadius:b},[`${r}-group-large &`]:{height:p,fontSize:f,lineHeight:Ne(F(p).sub(F(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:_,borderEndStartRadius:_},"&:last-child":{borderStartEndRadius:_,borderEndEndRadius:_}},[`${r}-group-small &`]:{height:v,paddingInline:F(y).sub(i).equal(),paddingBlock:0,lineHeight:Ne(F(v).sub(F(i).mul(2)).equal()),"&:first-child":{borderStartStartRadius:x,borderEndStartRadius:x},"&:last-child":{borderStartEndRadius:x,borderEndEndRadius:x}},"&:hover":{position:"relative",color:R},"&:has(:focus-visible)":Object.assign({},of(t)),[`${r}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${r}-button-wrapper-disabled)`]:{zIndex:1,color:R,background:w,borderColor:R,"&::before":{backgroundColor:R},"&:first-child":{borderColor:R},"&:hover":{color:O,borderColor:O,"&::before":{backgroundColor:O}},"&:active":{color:N,borderColor:N,"&::before":{backgroundColor:N}}},[`${r}-group-solid &-checked:not(${r}-button-wrapper-disabled)`]:{color:E,background:A,borderColor:A,"&:hover":{color:E,background:$,borderColor:$},"&:active":{color:E,background:M,borderColor:M}},"&-disabled":{color:T,backgroundColor:I,borderColor:s,cursor:"not-allowed","&:first-child, &:hover":{color:T,backgroundColor:I,borderColor:s}},[`&-disabled${r}-button-wrapper-checked`]:{color:P,backgroundColor:S,borderColor:s,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},h$e=t=>{const{wireframe:e,padding:n,marginXS:r,lineWidth:i,fontSizeLG:o,colorText:s,colorBgContainer:a,colorTextDisabled:l,controlItemBgActiveDisabled:c,colorTextLightSolid:u,colorPrimary:d,colorPrimaryHover:f,colorPrimaryActive:p,colorWhite:v}=t,y=4,b=o,x=e?b-y*2:b-(y+i)*2;return{radioSize:b,dotSize:x,dotColorDisabled:l,buttonSolidCheckedColor:u,buttonSolidCheckedBg:d,buttonSolidCheckedHoverBg:f,buttonSolidCheckedActiveBg:p,buttonBg:a,buttonCheckedBg:a,buttonColor:s,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:l,buttonPaddingInline:n-i,wrapperMarginInlineEnd:r,radioColor:e?d:v,radioBgColor:e?a:d}},wJ=gi("Radio",t=>{const{controlOutline:e,controlOutlineWidth:n}=t,r=`0 0 0 ${Ne(n)} ${e}`,o=Jn(t,{radioFocusShadow:r,radioButtonFocusShadow:r});return[u$e(o),d$e(o),f$e(o)]},h$e,{unitless:{radioSize:!0,dotSize:!0}});var p$e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const m$e=(t,e)=>{var n,r;const i=h.useContext(yJ),o=h.useContext(bJ),{getPrefixCls:s,direction:a,radio:l}=h.useContext(Pn),c=h.useRef(null),u=Ya(e,c),{isFormItemInput:d}=h.useContext(bl),f=z=>{var j,B;(j=t.onChange)===null||j===void 0||j.call(t,z),(B=i==null?void 0:i.onChange)===null||B===void 0||B.call(i,z)},{prefixCls:p,className:v,rootClassName:y,children:b,style:x,title:_}=t,w=p$e(t,["prefixCls","className","rootClassName","children","style","title"]),E=s("radio",p),T=((i==null?void 0:i.optionType)||o)==="button",I=T?`${E}-button`:E,S=Bs(E),[P,R,O]=wJ(E,S),N=Object.assign({},w),A=h.useContext(yl);i&&(N.name=i.name,N.onChange=f,N.checked=t.value===i.value,N.disabled=(n=N.disabled)!==null&&n!==void 0?n:i.disabled),N.disabled=(r=N.disabled)!==null&&r!==void 0?r:A;const $=Oe(`${I}-wrapper`,{[`${I}-wrapper-checked`]:N.checked,[`${I}-wrapper-disabled`]:N.disabled,[`${I}-wrapper-rtl`]:a==="rtl",[`${I}-wrapper-in-form-item`]:d,[`${I}-wrapper-block`]:!!(i!=null&&i.block)},l==null?void 0:l.className,v,y,R,O,S),[M,F]=_J(N.onClick);return P(h.createElement(f_,{component:"Radio",disabled:N.disabled},h.createElement("label",{className:$,style:Object.assign(Object.assign({},l==null?void 0:l.style),x),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,title:_,onClick:M},h.createElement(xJ,Object.assign({},N,{className:Oe(N.className,{[sT]:!T}),type:"radio",prefixCls:I,ref:u,onClick:F})),b!==void 0?h.createElement("span",{className:`${I}-label`},b):null)))},hE=h.forwardRef(m$e),g$e=h.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=h.useContext(Pn),i=gT(),{prefixCls:o,className:s,rootClassName:a,options:l,buttonStyle:c="outline",disabled:u,children:d,size:f,style:p,id:v,optionType:y,name:b=i,defaultValue:x,value:_,block:w=!1,onChange:E,onMouseEnter:T,onMouseLeave:I,onFocus:S,onBlur:P}=t,[R,O]=so(x,{value:_}),N=h.useCallback(X=>{const ue=R,te=X.target.value;"value"in t||O(te),te!==ue&&(E==null||E(X))},[R,O,E]),A=n("radio",o),$=`${A}-group`,M=Bs(A),[F,z,j]=wJ(A,M);let B=d;l&&l.length>0&&(B=l.map(X=>typeof X=="string"||typeof X=="number"?h.createElement(hE,{key:X.toString(),prefixCls:A,disabled:u,value:X,checked:R===X},X):h.createElement(hE,{key:`radio-group-value-options-${X.value}`,prefixCls:A,disabled:X.disabled||u,value:X.value,checked:R===X.value,title:X.title,style:X.style,id:X.id,required:X.required},X.label)));const W=El(f),q=Oe($,`${$}-${c}`,{[`${$}-${W}`]:W,[`${$}-rtl`]:r==="rtl",[`${$}-block`]:w},s,a,z,j,M),G=h.useMemo(()=>({onChange:N,value:R,disabled:u,name:b,optionType:y,block:w}),[N,R,u,b,y,w]);return F(h.createElement("div",Object.assign({},ms(t,{aria:!0,data:!0}),{className:q,style:p,onMouseEnter:T,onMouseLeave:I,onFocus:S,onBlur:P,id:v,ref:e}),h.createElement(a$e,{value:G},B)))}),v$e=h.memo(g$e);var y$e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const b$e=(t,e)=>{const{getPrefixCls:n}=h.useContext(Pn),{prefixCls:r}=t,i=y$e(t,["prefixCls"]),o=n("radio",r);return h.createElement(l$e,{value:"button"},h.createElement(hE,Object.assign({prefixCls:o},i,{type:"radio",ref:e})))},x$e=h.forwardRef(b$e),b_=hE;b_.Button=x$e;b_.Group=v$e;b_.__ANT_RADIO=!0;function x_(t){return Jn(t,{inputAffixPadding:t.paddingXXS})}const __=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:p,colorPrimary:v,controlOutlineWidth:y,controlOutline:b,colorErrorOutline:x,colorWarningOutline:_,colorBgContainer:w,inputFontSize:E,inputFontSizeLG:T,inputFontSizeSM:I}=t,S=E||n,P=I||S,R=T||a,O=Math.round((e-S*r)/2*10)/10-i,N=Math.round((o-P*r)/2*10)/10-i,A=Math.ceil((s-R*l)/2*10)/10-i;return{paddingBlock:Math.max(O,0),paddingBlockSM:Math.max(N,0),paddingBlockLG:Math.max(A,0),paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:f,activeBorderColor:v,hoverBorderColor:p,activeShadow:`0 0 0 ${y}px ${b}`,errorActiveShadow:`0 0 0 ${y}px ${x}`,warningActiveShadow:`0 0 0 ${y}px ${_}`,hoverBg:w,activeBg:w,inputFontSize:S,inputFontSizeLG:R,inputFontSizeSM:P}},_$e=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),TT=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},_$e(Jn(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),uL=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),MV=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},uL(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),w$e=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uL(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},TT(t))}),MV(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),MV(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),OV=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),C$e=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},OV(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),OV(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},TT(t))}})}),S$e=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},CJ=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),DV=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},CJ(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),E$e=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},CJ(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},TT(t))}),DV(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),DV(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),AV=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),I$e=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary},[`${t.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}}},AV(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),AV(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),SJ=(t,e)=>({background:t.colorBgContainer,borderWidth:`${Ne(t.lineWidth)} 0`,borderStyle:`${t.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.borderColor} transparent`,outline:0,backgroundColor:t.activeBg}}),$V=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},SJ(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),T$e=(t,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},SJ(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:{color:t.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${t.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),$V(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),$V(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),P$e=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),EJ=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=t;return{padding:`${Ne(e)} ${Ne(i)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},dL=t=>({padding:`${Ne(t.paddingBlockSM)} ${Ne(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),fL=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Ne(t.paddingBlock)} ${Ne(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},P$e(t.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},EJ(t)),"&-sm":Object.assign({},dL(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),R$e=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},EJ(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},dL(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Ne(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Ne(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${Ne(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Ne(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${Ne(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},ux()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},k$e=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:i}=t,s=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Si(t)),fL(t)),w$e(t)),E$e(t)),S$e(t)),T$e(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},M$e=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Ne(t.inputAffixPadding)}`}}}},O$e=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=t,l=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},fL(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),M$e(t)),{[`${a}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),[`${e}-underlined`]:{borderRadius:0},[c]:{[`${a}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},D$e=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},Si(t)),R$e(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},C$e(t)),I$e(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},A$e=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:t.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},$$e=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},IJ=gi(["Input","Shared"],t=>{const e=Jn(t,x_(t));return[k$e(e),O$e(e)]},__,{resetFont:!1}),TJ=gi(["Input","Component"],t=>{const e=Jn(t,x_(t));return[D$e(e),A$e(e),$$e(e),qN(e)]},__,{resetFont:!1});function N$e(t,e,n){var r=n||{},i=r.noTrailing,o=i===void 0?!1:i,s=r.noLeading,a=s===void 0?!1:s,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,f=0;function p(){u&&clearTimeout(u)}function v(b){var x=b||{},_=x.upcomingOnly,w=_===void 0?!1:_;p(),d=!w}function y(){for(var b=arguments.length,x=new Array(b),_=0;_<b;_++)x[_]=arguments[_];var w=this,E=Date.now()-f;if(d)return;function T(){f=Date.now(),e.apply(w,x)}function I(){u=void 0}!a&&c&&!u&&T(),p(),c===void 0&&E>t?a?(f=Date.now(),o||(u=setTimeout(c?I:T,t))):T():o!==!0&&(u=setTimeout(c?I:T,c===void 0?t-E:t))}return y.cancel=v,y}function L$e(t,e,n){var r={},i=r.atBegin,o=i===void 0?!1:i;return N$e(t,e,{debounceMode:o!==!1})}function Rs(t,e){return t[e]}var j$e=["children"];function PJ(t,e){return"".concat(t,"-").concat(e)}function z$e(t){return t&&t.type&&t.type.isTreeNode}function w_(t,e){return t??e}function tv(t){var e=t||{},n=e.title,r=e._title,i=e.key,o=e.children,s=n||"title";return{title:s,_title:r||[s],key:i||"key",children:o||"children"}}function RJ(t){function e(n){var r=vl(n);return r.map(function(i){if(!z$e(i))return pi(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var o=i.key,s=i.props,a=s.children,l=bn(s,j$e),c=_e({key:o},l),u=e(a);return u.length&&(c.children=u),c}).filter(function(i){return i})}return e(t)}function PR(t,e,n){var r=tv(n),i=r._title,o=r.key,s=r.children,a=new Set(e===!0?[]:e),l=[];function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map(function(f,p){for(var v=PJ(d?d.pos:"0",p),y=w_(f[o],v),b,x=0;x<i.length;x+=1){var _=i[x];if(f[_]!==void 0){b=f[_];break}}var w=Object.assign(go(f,[].concat(it(i),[o,s])),{title:b,key:y,parent:d,pos:v,children:null,data:f,isStart:[].concat(it(d?d.isStart:[]),[p===0]),isEnd:[].concat(it(d?d.isEnd:[]),[p===u.length-1])});return l.push(w),e===!0||a.has(y)?w.children=c(f[s]||[],w):w.children=[],w})}return c(t),l}function F$e(t,e,n){var r={};zt(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var i=r,o=i.childrenPropName,s=i.externalGetKey,a=i.fieldNames,l=tv(a),c=l.key,u=l.children,d=o||u,f;s?typeof s=="string"?f=function(y){return y[s]}:typeof s=="function"&&(f=function(y){return s(y)}):f=function(y,b){return w_(y[c],b)};function p(v,y,b,x){var _=v?v[d]:t,w=v?PJ(b.pos,y):"0",E=v?[].concat(it(x),[v]):[];if(v){var T=f(v,w),I={node:v,index:y,pos:w,key:T,parentPos:b.node?b.pos:null,level:b.level+1,nodes:E};e(I)}_&&_.forEach(function(S,P){p(S,P,{node:v,pos:w,level:b?b.level+1:-1},E)})}p(null)}function hL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.initWrapper,r=e.processEntity,i=e.onProcessFinished,o=e.externalGetKey,s=e.childrenPropName,a=e.fieldNames,l=arguments.length>2?arguments[2]:void 0,c=o||l,u={},d={},f={posEntities:u,keyEntities:d};return n&&(f=n(f)||f),F$e(t,function(p){var v=p.node,y=p.index,b=p.pos,x=p.key,_=p.parentPos,w=p.level,E=p.nodes,T={node:v,nodes:E,index:y,key:x,pos:b,level:w},I=w_(x,b);u[b]=T,d[I]=T,T.parent=u[_],T.parent&&(T.parent.children=T.parent.children||[],T.parent.children.push(T)),r&&r(T,f)},{externalGetKey:c,childrenPropName:s,fieldNames:a}),i&&i(f),f}function Z0(t,e){var n=e.expandedKeys,r=e.selectedKeys,i=e.loadedKeys,o=e.loadingKeys,s=e.checkedKeys,a=e.halfCheckedKeys,l=e.dragOverNodeKey,c=e.dropPosition,u=e.keyEntities,d=Rs(u,t),f={eventKey:t,expanded:n.indexOf(t)!==-1,selected:r.indexOf(t)!==-1,loaded:i.indexOf(t)!==-1,loading:o.indexOf(t)!==-1,checked:s.indexOf(t)!==-1,halfChecked:a.indexOf(t)!==-1,pos:String(d?d.pos:""),dragOver:l===t&&c===0,dragOverGapTop:l===t&&c===-1,dragOverGapBottom:l===t&&c===1};return f}function Ji(t){var e=t.data,n=t.expanded,r=t.selected,i=t.checked,o=t.loaded,s=t.loading,a=t.halfChecked,l=t.dragOver,c=t.dragOverGapTop,u=t.dragOverGapBottom,d=t.pos,f=t.active,p=t.eventKey,v=_e(_e({},e),{},{expanded:n,selected:r,checked:i,loaded:o,loading:s,halfChecked:a,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:f,key:p});return"props"in v||Object.defineProperty(v,"props",{get:function(){return pi(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),v}function kJ(t,e){var n=new Set;return t.forEach(function(r){e.has(r)||n.add(r)}),n}function B$e(t){var e=t||{},n=e.disabled,r=e.disableCheckbox,i=e.checkable;return!!(n||r)||i===!1}function V$e(t,e,n,r){for(var i=new Set(t),o=new Set,s=0;s<=n;s+=1){var a=e.get(s)||new Set;a.forEach(function(d){var f=d.key,p=d.node,v=d.children,y=v===void 0?[]:v;i.has(f)&&!r(p)&&y.filter(function(b){return!r(b.node)}).forEach(function(b){i.add(b.key)})})}for(var l=new Set,c=n;c>=0;c-=1){var u=e.get(c)||new Set;u.forEach(function(d){var f=d.parent,p=d.node;if(!(r(p)||!d.parent||l.has(d.parent.key))){if(r(d.parent.node)){l.add(f.key);return}var v=!0,y=!1;(f.children||[]).filter(function(b){return!r(b.node)}).forEach(function(b){var x=b.key,_=i.has(x);v&&!_&&(v=!1),!y&&(_||o.has(x))&&(y=!0)}),v&&i.add(f.key),y&&o.add(f.key),l.add(f.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(kJ(o,i))}}function H$e(t,e,n,r,i){for(var o=new Set(t),s=new Set(e),a=0;a<=r;a+=1){var l=n.get(a)||new Set;l.forEach(function(f){var p=f.key,v=f.node,y=f.children,b=y===void 0?[]:y;!o.has(p)&&!s.has(p)&&!i(v)&&b.filter(function(x){return!i(x.node)}).forEach(function(x){o.delete(x.key)})})}s=new Set;for(var c=new Set,u=r;u>=0;u-=1){var d=n.get(u)||new Set;d.forEach(function(f){var p=f.parent,v=f.node;if(!(i(v)||!f.parent||c.has(f.parent.key))){if(i(f.parent.node)){c.add(p.key);return}var y=!0,b=!1;(p.children||[]).filter(function(x){return!i(x.node)}).forEach(function(x){var _=x.key,w=o.has(_);y&&!w&&(y=!1),!b&&(w||s.has(_))&&(b=!0)}),y||o.delete(p.key),b&&s.add(p.key),c.add(p.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(kJ(s,o))}}function mg(t,e,n,r){var i=[],o;r?o=r:o=B$e;var s=new Set(t.filter(function(u){var d=!!Rs(n,u);return d||i.push(u),d})),a=new Map,l=0;Object.keys(n).forEach(function(u){var d=n[u],f=d.level,p=a.get(f);p||(p=new Set,a.set(f,p)),p.add(d),l=Math.max(l,f)}),pi(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(u){return"'".concat(u,"'")}).join(", ")));var c;return e===!0?c=V$e(s,a,l,o):c=H$e(s,e.halfCheckedKeys,a,l,o),c}const W$e=t=>{const{checkboxCls:e}=t,n=`${e}-wrapper`;return[{[`${e}-group`]:Object.assign(Object.assign({},Si(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},Si(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:Object.assign(Object.assign({},Si(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:Object.assign({},of(t))},[`${e}-inner`]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:`${Ne(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[`
        ${n}:not(${n}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:t.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}}},[`
        ${n}-checked:not(${n}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[e]:{"&-indeterminate":{[`${e}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${e}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:t.colorTextDisabled}}}]};function MJ(t,e){const n=Jn(e,{checkboxCls:`.${t}`,checkboxSize:e.controlInteractiveSize});return[W$e(n)]}const OJ=gi("Checkbox",(t,e)=>{let{prefixCls:n}=e;return[MJ(n,t)]}),DJ=ae.createContext(null);var U$e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const K$e=(t,e)=>{var n;const{prefixCls:r,className:i,rootClassName:o,children:s,indeterminate:a=!1,style:l,onMouseEnter:c,onMouseLeave:u,skipGroup:d=!1,disabled:f}=t,p=U$e(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:v,direction:y,checkbox:b}=h.useContext(Pn),x=h.useContext(DJ),{isFormItemInput:_}=h.useContext(bl),w=h.useContext(yl),E=(n=(x==null?void 0:x.disabled)||f)!==null&&n!==void 0?n:w,T=h.useRef(p.value),I=h.useRef(null),S=Ya(e,I);h.useEffect(()=>{x==null||x.registerValue(p.value)},[]),h.useEffect(()=>{if(!d)return p.value!==T.current&&(x==null||x.cancelValue(T.current),x==null||x.registerValue(p.value),T.current=p.value),()=>x==null?void 0:x.cancelValue(p.value)},[p.value]),h.useEffect(()=>{var B;!((B=I.current)===null||B===void 0)&&B.input&&(I.current.input.indeterminate=a)},[a]);const P=v("checkbox",r),R=Bs(P),[O,N,A]=OJ(P,R),$=Object.assign({},p);x&&!d&&($.onChange=function(){p.onChange&&p.onChange.apply(p,arguments),x.toggleOption&&x.toggleOption({label:s,value:p.value})},$.name=x.name,$.checked=x.value.includes(p.value));const M=Oe(`${P}-wrapper`,{[`${P}-rtl`]:y==="rtl",[`${P}-wrapper-checked`]:$.checked,[`${P}-wrapper-disabled`]:E,[`${P}-wrapper-in-form-item`]:_},b==null?void 0:b.className,i,o,A,R,N),F=Oe({[`${P}-indeterminate`]:a},sT,N),[z,j]=_J($.onClick);return O(h.createElement(f_,{component:"Checkbox",disabled:E},h.createElement("label",{className:M,style:Object.assign(Object.assign({},b==null?void 0:b.style),l),onMouseEnter:c,onMouseLeave:u,onClick:z},h.createElement(xJ,Object.assign({},$,{onClick:j,prefixCls:P,className:F,disabled:E,ref:S})),s!==void 0&&h.createElement("span",{className:`${P}-label`},s))))},AJ=h.forwardRef(K$e);var q$e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const G$e=h.forwardRef((t,e)=>{const{defaultValue:n,children:r,options:i=[],prefixCls:o,className:s,rootClassName:a,style:l,onChange:c}=t,u=q$e(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:d,direction:f}=h.useContext(Pn),[p,v]=h.useState(u.value||n||[]),[y,b]=h.useState([]);h.useEffect(()=>{"value"in u&&v(u.value||[])},[u.value]);const x=h.useMemo(()=>i.map(F=>typeof F=="string"||typeof F=="number"?{label:F,value:F}:F),[i]),_=F=>{b(z=>z.filter(j=>j!==F))},w=F=>{b(z=>[].concat(it(z),[F]))},E=F=>{const z=p.indexOf(F.value),j=it(p);z===-1?j.push(F.value):j.splice(z,1),"value"in u||v(j),c==null||c(j.filter(B=>y.includes(B)).sort((B,W)=>{const q=x.findIndex(X=>X.value===B),G=x.findIndex(X=>X.value===W);return q-G}))},T=d("checkbox",o),I=`${T}-group`,S=Bs(T),[P,R,O]=OJ(T,S),N=go(u,["value","disabled"]),A=i.length?x.map(F=>h.createElement(AJ,{prefixCls:T,key:F.value.toString(),disabled:"disabled"in F?F.disabled:u.disabled,value:F.value,checked:p.includes(F.value),onChange:F.onChange,className:`${I}-item`,style:F.style,title:F.title,id:F.id,required:F.required},F.label)):r,$={toggleOption:E,value:p,disabled:u.disabled,name:u.name,registerValue:w,cancelValue:_},M=Oe(I,{[`${I}-rtl`]:f==="rtl"},s,a,O,S,R);return P(h.createElement("div",Object.assign({className:M,style:l},N,{ref:e}),h.createElement(DJ.Provider,{value:$},A)))}),sf=AJ;sf.Group=G$e;sf.__ANT_CHECKBOX=!0;function Y$e(t){return!!(t.addonBefore||t.addonAfter)}function X$e(t){return!!(t.prefix||t.suffix||t.allowClear)}function NV(t,e,n){var r=e.cloneNode(!0),i=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},i}function pE(t,e,n,r){if(n){var i=e;if(e.type==="click"){i=NV(e,t,""),n(i);return}if(t.type!=="file"&&r!==void 0){i=NV(e,t,r),n(i);return}n(i)}}function $J(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}var NJ=ae.forwardRef(function(t,e){var n,r,i,o=t.inputElement,s=t.children,a=t.prefixCls,l=t.prefix,c=t.suffix,u=t.addonBefore,d=t.addonAfter,f=t.className,p=t.style,v=t.disabled,y=t.readOnly,b=t.focused,x=t.triggerFocus,_=t.allowClear,w=t.value,E=t.handleReset,T=t.hidden,I=t.classes,S=t.classNames,P=t.dataAttrs,R=t.styles,O=t.components,N=t.onClear,A=s??o,$=(O==null?void 0:O.affixWrapper)||"span",M=(O==null?void 0:O.groupWrapper)||"span",F=(O==null?void 0:O.wrapper)||"span",z=(O==null?void 0:O.groupAddon)||"span",j=h.useRef(null),B=function(ie){var re;(re=j.current)!==null&&re!==void 0&&re.contains(ie.target)&&(x==null||x())},W=X$e(t),q=h.cloneElement(A,{value:w,className:Oe((n=A.props)===null||n===void 0?void 0:n.className,!W&&(S==null?void 0:S.variant))||null}),G=h.useRef(null);if(ae.useImperativeHandle(e,function(){return{nativeElement:G.current||j.current}}),W){var X=null;if(_){var ue=!v&&!y&&w,te="".concat(a,"-clear-icon"),J=zt(_)==="object"&&_!==null&&_!==void 0&&_.clearIcon?_.clearIcon:"✖";X=ae.createElement("button",{type:"button",tabIndex:-1,onClick:function(ie){E==null||E(ie),N==null||N()},onMouseDown:function(ie){return ie.preventDefault()},className:Oe(te,ve(ve({},"".concat(te,"-hidden"),!ue),"".concat(te,"-has-suffix"),!!c))},J)}var se="".concat(a,"-affix-wrapper"),ge=Oe(se,ve(ve(ve(ve(ve({},"".concat(a,"-disabled"),v),"".concat(se,"-disabled"),v),"".concat(se,"-focused"),b),"".concat(se,"-readonly"),y),"".concat(se,"-input-with-clear-btn"),c&&_&&w),I==null?void 0:I.affixWrapper,S==null?void 0:S.affixWrapper,S==null?void 0:S.variant),le=(c||_)&&ae.createElement("span",{className:Oe("".concat(a,"-suffix"),S==null?void 0:S.suffix),style:R==null?void 0:R.suffix},X,c);q=ae.createElement($,Q({className:ge,style:R==null?void 0:R.affixWrapper,onClick:B},P==null?void 0:P.affixWrapper,{ref:j}),l&&ae.createElement("span",{className:Oe("".concat(a,"-prefix"),S==null?void 0:S.prefix),style:R==null?void 0:R.prefix},l),q,le)}if(Y$e(t)){var we="".concat(a,"-group"),ce="".concat(we,"-addon"),be="".concat(we,"-wrapper"),K=Oe("".concat(a,"-wrapper"),we,I==null?void 0:I.wrapper,S==null?void 0:S.wrapper),oe=Oe(be,ve({},"".concat(be,"-disabled"),v),I==null?void 0:I.group,S==null?void 0:S.groupWrapper);q=ae.createElement(M,{className:oe,ref:G},ae.createElement(F,{className:K},u&&ae.createElement(z,{className:ce},u),q,d&&ae.createElement(z,{className:ce},d)))}return ae.cloneElement(q,{className:Oe((r=q.props)===null||r===void 0?void 0:r.className,f)||null,style:_e(_e({},(i=q.props)===null||i===void 0?void 0:i.style),p),hidden:T})}),Z$e=["show"];function LJ(t,e){return h.useMemo(function(){var n={};e&&(n.show=zt(e)==="object"&&e.formatter?e.formatter:!!e),n=_e(_e({},n),t);var r=n,i=r.show,o=bn(r,Z$e);return _e(_e({},o),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:o.strategy||function(s){return s.length}})},[t,e])}var Q$e=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],J$e=h.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,s=t.onPressEnter,a=t.onKeyDown,l=t.onKeyUp,c=t.prefixCls,u=c===void 0?"rc-input":c,d=t.disabled,f=t.htmlSize,p=t.className,v=t.maxLength,y=t.suffix,b=t.showCount,x=t.count,_=t.type,w=_===void 0?"text":_,E=t.classes,T=t.classNames,I=t.styles,S=t.onCompositionStart,P=t.onCompositionEnd,R=bn(t,Q$e),O=h.useState(!1),N=Fe(O,2),A=N[0],$=N[1],M=h.useRef(!1),F=h.useRef(!1),z=h.useRef(null),j=h.useRef(null),B=function(Te){z.current&&$J(z.current,Te)},W=so(t.defaultValue,{value:t.value}),q=Fe(W,2),G=q[0],X=q[1],ue=G==null?"":String(G),te=h.useState(null),J=Fe(te,2),se=J[0],ge=J[1],le=LJ(x,b),we=le.max||v,ce=le.strategy(ue),be=!!we&&ce>we;h.useImperativeHandle(e,function(){var ye;return{focus:B,blur:function(){var ke;(ke=z.current)===null||ke===void 0||ke.blur()},setSelectionRange:function(ke,je,de){var Se;(Se=z.current)===null||Se===void 0||Se.setSelectionRange(ke,je,de)},select:function(){var ke;(ke=z.current)===null||ke===void 0||ke.select()},input:z.current,nativeElement:((ye=j.current)===null||ye===void 0?void 0:ye.nativeElement)||z.current}}),h.useEffect(function(){F.current&&(F.current=!1),$(function(ye){return ye&&d?!1:ye})},[d]);var K=function(Te,ke,je){var de=ke;if(!M.current&&le.exceedFormatter&&le.max&&le.strategy(ke)>le.max){if(de=le.exceedFormatter(ke,{max:le.max}),ke!==de){var Se,Re;ge([((Se=z.current)===null||Se===void 0?void 0:Se.selectionStart)||0,((Re=z.current)===null||Re===void 0?void 0:Re.selectionEnd)||0])}}else if(je.source==="compositionEnd")return;X(de),z.current&&pE(z.current,Te,r,de)};h.useEffect(function(){if(se){var ye;(ye=z.current)===null||ye===void 0||ye.setSelectionRange.apply(ye,it(se))}},[se]);var oe=function(Te){K(Te,Te.target.value,{source:"change"})},V=function(Te){M.current=!1,K(Te,Te.currentTarget.value,{source:"compositionEnd"}),P==null||P(Te)},ie=function(Te){s&&Te.key==="Enter"&&!F.current&&(F.current=!0,s(Te)),a==null||a(Te)},re=function(Te){Te.key==="Enter"&&(F.current=!1),l==null||l(Te)},ee=function(Te){$(!0),i==null||i(Te)},Y=function(Te){F.current&&(F.current=!1),$(!1),o==null||o(Te)},he=function(Te){X(""),B(),z.current&&pE(z.current,Te,r)},Ce=be&&"".concat(u,"-out-of-range"),me=function(){var Te=go(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return ae.createElement("input",Q({autoComplete:n},Te,{onChange:oe,onFocus:ee,onBlur:Y,onKeyDown:ie,onKeyUp:re,className:Oe(u,ve({},"".concat(u,"-disabled"),d),T==null?void 0:T.input),style:I==null?void 0:I.input,ref:z,size:f,type:w,onCompositionStart:function(je){M.current=!0,S==null||S(je)},onCompositionEnd:V}))},fe=function(){var Te=Number(we)>0;if(y||le.show){var ke=le.showFormatter?le.showFormatter({value:ue,count:ce,maxLength:we}):"".concat(ce).concat(Te?" / ".concat(we):"");return ae.createElement(ae.Fragment,null,le.show&&ae.createElement("span",{className:Oe("".concat(u,"-show-count-suffix"),ve({},"".concat(u,"-show-count-has-suffix"),!!y),T==null?void 0:T.count),style:_e({},I==null?void 0:I.count)},ke),y)}return null};return ae.createElement(NJ,Q({},R,{prefixCls:u,className:Oe(p,Ce),handleReset:he,value:ue,focused:A,triggerFocus:B,suffix:fe(),disabled:d,classes:E,classNames:T,styles:I}),me())});const jJ=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:ae.createElement(nT,null)}),e};function zJ(t,e){const n=h.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,s,a;!((i=t.current)===null||i===void 0)&&i.input&&((o=t.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((s=t.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((a=t.current)===null||a===void 0||a.input.removeAttribute("value"))}))};return h.useEffect(()=>(e&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function eNe(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var tNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const C_=h.forwardRef((t,e)=>{const{prefixCls:n,bordered:r=!0,status:i,size:o,disabled:s,onBlur:a,onFocus:l,suffix:c,allowClear:u,addonAfter:d,addonBefore:f,className:p,style:v,styles:y,rootClassName:b,onChange:x,classNames:_,variant:w}=t,E=tNe(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:T,direction:I,allowClear:S,autoComplete:P,className:R,style:O,classNames:N,styles:A}=Oc("input"),$=T("input",n),M=h.useRef(null),F=Bs($),[z,j,B]=IJ($,b),[W]=TJ($,F),{compactSize:q,compactItemClassnames:G}=kv($,I),X=El(Y=>{var he;return(he=o??q)!==null&&he!==void 0?he:Y}),ue=ae.useContext(yl),te=s??ue,{status:J,hasFeedback:se,feedbackIcon:ge}=h.useContext(bl),le=wT(J,i),we=eNe(t)||!!se;h.useRef(we);const ce=zJ(M,!0),be=Y=>{ce(),a==null||a(Y)},K=Y=>{ce(),l==null||l(Y)},oe=Y=>{ce(),x==null||x(Y)},V=(se||c)&&ae.createElement(ae.Fragment,null,c,se&&ge),ie=jJ(u??S),[re,ee]=eL("input",w,r);return z(W(ae.createElement(J$e,Object.assign({ref:Ya(e,M),prefixCls:$,autoComplete:P},E,{disabled:te,onBlur:be,onFocus:K,style:Object.assign(Object.assign({},O),v),styles:Object.assign(Object.assign({},A),y),suffix:V,allowClear:ie,className:Oe(p,b,B,F,G,R),onChange:oe,addonBefore:f&&ae.createElement(fx,{form:!0,space:!0},f),addonAfter:d&&ae.createElement(fx,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},_),N),{input:Oe({[`${$}-sm`]:X==="small",[`${$}-lg`]:X==="large",[`${$}-rtl`]:I==="rtl"},_==null?void 0:_.input,N.input,j),variant:Oe({[`${$}-${re}`]:ee},cE($,le)),affixWrapper:Oe({[`${$}-affix-wrapper-sm`]:X==="small",[`${$}-affix-wrapper-lg`]:X==="large",[`${$}-affix-wrapper-rtl`]:I==="rtl"},j),wrapper:Oe({[`${$}-group-rtl`]:I==="rtl"},j),groupWrapper:Oe({[`${$}-group-wrapper-sm`]:X==="small",[`${$}-group-wrapper-lg`]:X==="large",[`${$}-group-wrapper-rtl`]:I==="rtl",[`${$}-group-wrapper-${re}`]:ee},cE(`${$}-group-wrapper`,le,se),j)})}))))});function LV(t){return["small","middle","large"].includes(t)}function jV(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const FJ=ae.createContext({latestIndex:0}),nNe=FJ.Provider,rNe=t=>{let{className:e,index:n,children:r,split:i,style:o}=t;const{latestIndex:s}=h.useContext(FJ);return r==null?null:h.createElement(h.Fragment,null,h.createElement("div",{className:e,style:o},r),n<s&&i&&h.createElement("span",{className:`${e}-split`},i))};var iNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const oNe=h.forwardRef((t,e)=>{var n;const{getPrefixCls:r,direction:i,size:o,className:s,style:a,classNames:l,styles:c}=Oc("space"),{size:u=o??"small",align:d,className:f,rootClassName:p,children:v,direction:y="horizontal",prefixCls:b,split:x,style:_,wrap:w=!1,classNames:E,styles:T}=t,I=iNe(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[S,P]=Array.isArray(u)?u:[u,u],R=LV(P),O=LV(S),N=jV(P),A=jV(S),$=vl(v,{keepEmpty:!0}),M=d===void 0&&y==="horizontal"?"center":d,F=r("space",b),[z,j,B]=NZ(F),W=Oe(F,s,j,`${F}-${y}`,{[`${F}-rtl`]:i==="rtl",[`${F}-align-${M}`]:M,[`${F}-gap-row-${P}`]:R,[`${F}-gap-col-${S}`]:O},f,p,B),q=Oe(`${F}-item`,(n=E==null?void 0:E.item)!==null&&n!==void 0?n:l.item);let G=0;const X=$.map((J,se)=>{var ge;J!=null&&(G=se);const le=(J==null?void 0:J.key)||`${q}-${se}`;return h.createElement(rNe,{className:q,key:le,index:se,split:x,style:(ge=T==null?void 0:T.item)!==null&&ge!==void 0?ge:c.item},J)}),ue=h.useMemo(()=>({latestIndex:G}),[G]);if($.length===0)return null;const te={};return w&&(te.flexWrap="wrap"),!O&&A&&(te.columnGap=S),!R&&N&&(te.rowGap=P),z(h.createElement("div",Object.assign({ref:e,className:W,style:Object.assign(Object.assign(Object.assign({},te),a),_)},I),h.createElement(nNe,{value:ue},X)))}),BJ=oNe;BJ.Compact=W2e;var sNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const VJ=t=>{const{getPopupContainer:e,getPrefixCls:n,direction:r}=h.useContext(Pn),{prefixCls:i,type:o="default",danger:s,disabled:a,loading:l,onClick:c,htmlType:u,children:d,className:f,menu:p,arrow:v,autoFocus:y,overlay:b,trigger:x,align:_,open:w,onOpenChange:E,placement:T,getPopupContainer:I,href:S,icon:P=h.createElement(hJ,null),title:R,buttonsRender:O=le=>le,mouseEnterDelay:N,mouseLeaveDelay:A,overlayClassName:$,overlayStyle:M,destroyPopupOnHide:F,dropdownRender:z}=t,j=sNe(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),B=n("dropdown",i),W=`${B}-button`,q={menu:p,arrow:v,autoFocus:y,align:_,disabled:a,trigger:a?[]:x,onOpenChange:E,getPopupContainer:I||e,mouseEnterDelay:N,mouseLeaveDelay:A,overlayClassName:$,overlayStyle:M,destroyPopupOnHide:F,dropdownRender:z},{compactSize:G,compactItemClassnames:X}=kv(B,r),ue=Oe(W,X,f);"overlay"in t&&(q.overlay=b),"open"in t&&(q.open=w),"placement"in t?q.placement=T:q.placement=r==="rtl"?"bottomLeft":"bottomRight";const te=h.createElement(Ha,{type:o,danger:s,disabled:a,loading:l,onClick:c,htmlType:u,href:S,title:R},d),J=h.createElement(Ha,{type:o,danger:s,icon:P}),[se,ge]=O([te,J]);return h.createElement(BJ.Compact,Object.assign({className:ue,size:G,block:!0},j),se,h.createElement(IT,Object.assign({},q),ge))};VJ.__ANT_BUTTON=!0;const pL=IT;pL.Button=VJ;var aNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},lNe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:aNe}))},cNe=h.forwardRef(lNe);function zV(t,e,n,r){var i=Xl.unstable_batchedUpdates?function(s){Xl.unstable_batchedUpdates(n,s)}:n;return t!=null&&t.addEventListener&&t.addEventListener(e,i,r),{remove:function(){t!=null&&t.removeEventListener&&t.removeEventListener(e,i,r)}}}const uNe=t=>{const{getPrefixCls:e,direction:n}=h.useContext(Pn),{prefixCls:r,className:i}=t,o=e("input-group",r),s=e("input"),[a,l,c]=TJ(s),u=Oe(o,c,{[`${o}-lg`]:t.size==="large",[`${o}-sm`]:t.size==="small",[`${o}-compact`]:t.compact,[`${o}-rtl`]:n==="rtl"},l,i),d=h.useContext(bl),f=h.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return a(h.createElement("span",{className:u,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},h.createElement(bl.Provider,{value:f},t.children)))},dNe=t=>{const{componentCls:e,paddingXS:n}=t;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},fNe=gi(["Input","OTP"],t=>{const e=Jn(t,x_(t));return[dNe(e)]},__);var hNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pNe=h.forwardRef((t,e)=>{const{value:n,onChange:r,onActiveChange:i,index:o,mask:s}=t,a=hNe(t,["value","onChange","onActiveChange","index","mask"]),l=n&&typeof s=="string"?s:n,c=v=>{r(o,v.target.value)},u=h.useRef(null);h.useImperativeHandle(e,()=>u.current);const d=()=>{nr(()=>{var v;const y=(v=u.current)===null||v===void 0?void 0:v.input;document.activeElement===y&&y&&y.select()})},f=v=>{const{key:y,ctrlKey:b,metaKey:x}=v;y==="ArrowLeft"?i(o-1):y==="ArrowRight"?i(o+1):y==="z"&&(b||x)&&v.preventDefault(),d()},p=v=>{v.key==="Backspace"&&!n&&i(o-1),d()};return h.createElement(C_,Object.assign({type:s===!0?"password":"text"},a,{ref:u,value:l,onInput:c,onFocus:d,onKeyDown:f,onKeyUp:p,onMouseDown:d,onMouseUp:d}))});var mNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function aC(t){return(t||"").split("")}const gNe=t=>{const{index:e,prefixCls:n,separator:r}=t,i=typeof r=="function"?r(e):r;return i?h.createElement("span",{className:`${n}-separator`},i):null},vNe=h.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:o,value:s,onChange:a,formatter:l,separator:c,variant:u,disabled:d,status:f,autoFocus:p,mask:v,type:y,onInput:b,inputMode:x}=t,_=mNe(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:w,direction:E}=h.useContext(Pn),T=w("otp",n),I=ms(_,{aria:!0,data:!0,attr:!0}),[S,P,R]=fNe(T),O=El(te=>i??te),N=h.useContext(bl),A=wT(N.status,f),$=h.useMemo(()=>Object.assign(Object.assign({},N),{status:A,hasFeedback:!1,feedbackIcon:null}),[N,A]),M=h.useRef(null),F=h.useRef({});h.useImperativeHandle(e,()=>({focus:()=>{var te;(te=F.current[0])===null||te===void 0||te.focus()},blur:()=>{var te;for(let J=0;J<r;J+=1)(te=F.current[J])===null||te===void 0||te.blur()},nativeElement:M.current}));const z=te=>l?l(te):te,[j,B]=h.useState(()=>aC(z(o||"")));h.useEffect(()=>{s!==void 0&&B(aC(s))},[s]);const W=Or(te=>{B(te),b&&b(te),a&&te.length===r&&te.every(J=>J)&&te.some((J,se)=>j[se]!==J)&&a(te.join(""))}),q=Or((te,J)=>{let se=it(j);for(let le=0;le<te;le+=1)se[le]||(se[le]="");J.length<=1?se[te]=J:se=se.slice(0,te).concat(aC(J)),se=se.slice(0,r);for(let le=se.length-1;le>=0&&!se[le];le-=1)se.pop();const ge=z(se.map(le=>le||" ").join(""));return se=aC(ge).map((le,we)=>le===" "&&!se[we]?se[we]:le),se}),G=(te,J)=>{var se;const ge=q(te,J),le=Math.min(te+J.length,r-1);le!==te&&ge[te]!==void 0&&((se=F.current[le])===null||se===void 0||se.focus()),W(ge)},X=te=>{var J;(J=F.current[te])===null||J===void 0||J.focus()},ue={variant:u,disabled:d,status:A,mask:v,type:y,inputMode:x};return S(h.createElement("div",Object.assign({},I,{ref:M,className:Oe(T,{[`${T}-sm`]:O==="small",[`${T}-lg`]:O==="large",[`${T}-rtl`]:E==="rtl"},R,P)}),h.createElement(bl.Provider,{value:$},Array.from({length:r}).map((te,J)=>{const se=`otp-${J}`,ge=j[J]||"";return h.createElement(h.Fragment,{key:se},h.createElement(pNe,Object.assign({ref:le=>{F.current[J]=le},index:J,size:O,htmlSize:1,className:`${T}-input`,onChange:G,value:ge,onActiveChange:X,autoFocus:J===0&&p},ue)),J<r-1&&h.createElement(gNe,{separator:c,index:J,prefixCls:T}))}))))});var yNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},bNe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:yNe}))},xNe=h.forwardRef(bNe),_Ne=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wNe=t=>t?h.createElement(cNe,null):h.createElement(xNe,null),CNe={click:"onClick",hover:"onMouseOver"},SNe=h.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:i=!0,iconRender:o=wNe}=t,s=h.useContext(yl),a=n??s,l=typeof i=="object"&&i.visible!==void 0,[c,u]=h.useState(()=>l?i.visible:!1),d=h.useRef(null);h.useEffect(()=>{l&&u(i.visible)},[l,i]);const f=zJ(d),p=()=>{var O;if(a)return;c&&f();const N=!c;u(N),typeof i=="object"&&((O=i.onVisibleChange)===null||O===void 0||O.call(i,N))},v=O=>{const N=CNe[r]||"",A=o(c),$={[N]:p,className:`${O}-icon`,key:"passwordIcon",onMouseDown:M=>{M.preventDefault()},onMouseUp:M=>{M.preventDefault()}};return h.cloneElement(h.isValidElement(A)?A:h.createElement("span",null,A),$)},{className:y,prefixCls:b,inputPrefixCls:x,size:_}=t,w=_Ne(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:E}=h.useContext(Pn),T=E("input",x),I=E("input-password",b),S=i&&v(I),P=Oe(I,y,{[`${I}-${_}`]:!!_}),R=Object.assign(Object.assign({},go(w,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:P,prefixCls:T,suffix:S});return _&&(R.size=_),h.createElement(C_,Object.assign({ref:Ya(e,d)},R))});var ENe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const INe=h.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:s,enterButton:a=!1,addonAfter:l,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:p,onCompositionEnd:v}=t,y=ENe(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:b,direction:x}=h.useContext(Pn),_=h.useRef(!1),w=b("input-search",n),E=b("input",r),{compactSize:T}=kv(w,x),I=El(G=>{var X;return(X=o??T)!==null&&X!==void 0?X:G}),S=h.useRef(null),P=G=>{G!=null&&G.target&&G.type==="click"&&d&&d(G.target.value,G,{source:"clear"}),f==null||f(G)},R=G=>{var X;document.activeElement===((X=S.current)===null||X===void 0?void 0:X.input)&&G.preventDefault()},O=G=>{var X,ue;d&&d((ue=(X=S.current)===null||X===void 0?void 0:X.input)===null||ue===void 0?void 0:ue.value,G,{source:"input"})},N=G=>{_.current||c||O(G)},A=typeof a=="boolean"?h.createElement(tL,null):null,$=`${w}-button`;let M;const F=a||{},z=F.type&&F.type.__ANT_BUTTON===!0;z||F.type==="button"?M=Va(F,Object.assign({onMouseDown:R,onClick:G=>{var X,ue;(ue=(X=F==null?void 0:F.props)===null||X===void 0?void 0:X.onClick)===null||ue===void 0||ue.call(X,G),O(G)},key:"enterButton"},z?{className:$,size:I}:{})):M=h.createElement(Ha,{className:$,type:a?"primary":void 0,size:I,disabled:u,key:"enterButton",onMouseDown:R,onClick:O,loading:c,icon:A},a),l&&(M=[M,Va(l,{key:"addonAfter"})]);const j=Oe(w,{[`${w}-rtl`]:x==="rtl",[`${w}-${I}`]:!!I,[`${w}-with-button`]:!!a},i),B=Object.assign(Object.assign({},y),{className:j,prefixCls:E,type:"search"}),W=G=>{_.current=!0,p==null||p(G)},q=G=>{_.current=!1,v==null||v(G)};return h.createElement(C_,Object.assign({ref:Ya(S,e),onPressEnter:N},B,{size:I,onCompositionStart:W,onCompositionEnd:q,addonAfter:M,suffix:s,onChange:P,disabled:u}))});var TNe=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,PNe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],RR={},Ks;function RNe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&RR[n])return RR[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=PNe.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:a,paddingSize:o,borderSize:s,boxSizing:i};return e&&n&&(RR[n]=l),l}function kNe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ks||(Ks=document.createElement("textarea"),Ks.setAttribute("tab-index","-1"),Ks.setAttribute("aria-hidden","true"),Ks.setAttribute("name","hiddenTextarea"),document.body.appendChild(Ks)),t.getAttribute("wrap")?Ks.setAttribute("wrap",t.getAttribute("wrap")):Ks.removeAttribute("wrap");var i=RNe(t,e),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,l=i.sizingStyle;Ks.setAttribute("style","".concat(l,";").concat(TNe)),Ks.value=t.value||t.placeholder||"";var c=void 0,u=void 0,d,f=Ks.scrollHeight;if(a==="border-box"?f+=s:a==="content-box"&&(f-=o),n!==null||r!==null){Ks.value=" ";var p=Ks.scrollHeight-o;n!==null&&(c=p*n,a==="border-box"&&(c=c+o+s),f=Math.max(c,f)),r!==null&&(u=p*r,a==="border-box"&&(u=u+o+s),d=f>u?"":"hidden",f=Math.min(u,f))}var v={height:f,overflowY:d,resize:"none"};return c&&(v.minHeight=c),u&&(v.maxHeight=u),v}var MNe=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],kR=0,MR=1,OR=2,ONe=h.forwardRef(function(t,e){var n=t,r=n.prefixCls,i=n.defaultValue,o=n.value,s=n.autoSize,a=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=bn(n,MNe),p=so(i,{value:o,postState:function(te){return te??""}}),v=Fe(p,2),y=v[0],b=v[1],x=function(te){b(te.target.value),d==null||d(te)},_=h.useRef();h.useImperativeHandle(e,function(){return{textArea:_.current}});var w=h.useMemo(function(){return s&&zt(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),E=Fe(w,2),T=E[0],I=E[1],S=!!s,P=function(){try{if(document.activeElement===_.current){var te=_.current,J=te.selectionStart,se=te.selectionEnd,ge=te.scrollTop;_.current.setSelectionRange(J,se),_.current.scrollTop=ge}}catch{}},R=h.useState(OR),O=Fe(R,2),N=O[0],A=O[1],$=h.useState(),M=Fe($,2),F=M[0],z=M[1],j=function(){A(kR)};gr(function(){S&&j()},[o,T,I,S]),gr(function(){if(N===kR)A(MR);else if(N===MR){var ue=kNe(_.current,!1,T,I);A(OR),z(ue)}else P()},[N]);var B=h.useRef(),W=function(){nr.cancel(B.current)},q=function(te){N===OR&&(a==null||a(te),s&&(W(),B.current=nr(function(){j()})))};h.useEffect(function(){return W},[]);var G=S?F:null,X=_e(_e({},c),G);return(N===kR||N===MR)&&(X.overflowY="hidden",X.overflowX="hidden"),h.createElement(Sl,{onResize:q,disabled:!(s||a)},h.createElement("textarea",Q({},f,{ref:_,style:X,className:Oe(r,l,ve({},"".concat(r,"-disabled"),u)),disabled:u,value:y,onChange:x})))}),DNe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],ANe=ae.forwardRef(function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,s=t.onBlur,a=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,f=t.suffix,p=t.prefixCls,v=p===void 0?"rc-textarea":p,y=t.showCount,b=t.count,x=t.className,_=t.style,w=t.disabled,E=t.hidden,T=t.classNames,I=t.styles,S=t.onResize,P=t.onClear,R=t.onPressEnter,O=t.readOnly,N=t.autoSize,A=t.onKeyDown,$=bn(t,DNe),M=so(r,{value:i,defaultValue:r}),F=Fe(M,2),z=F[0],j=F[1],B=z==null?"":String(z),W=ae.useState(!1),q=Fe(W,2),G=q[0],X=q[1],ue=ae.useRef(!1),te=ae.useState(null),J=Fe(te,2),se=J[0],ge=J[1],le=h.useRef(null),we=h.useRef(null),ce=function(){var Ke;return(Ke=we.current)===null||Ke===void 0?void 0:Ke.textArea},be=function(){ce().focus()};h.useImperativeHandle(e,function(){var $e;return{resizableTextArea:we.current,focus:be,blur:function(){ce().blur()},nativeElement:(($e=le.current)===null||$e===void 0?void 0:$e.nativeElement)||ce()}}),h.useEffect(function(){X(function($e){return!w&&$e})},[w]);var K=ae.useState(null),oe=Fe(K,2),V=oe[0],ie=oe[1];ae.useEffect(function(){if(V){var $e;($e=ce()).setSelectionRange.apply($e,it(V))}},[V]);var re=LJ(b,y),ee=(n=re.max)!==null&&n!==void 0?n:c,Y=Number(ee)>0,he=re.strategy(B),Ce=!!ee&&he>ee,me=function(Ke,Ae){var Ue=Ae;!ue.current&&re.exceedFormatter&&re.max&&re.strategy(Ae)>re.max&&(Ue=re.exceedFormatter(Ae,{max:re.max}),Ae!==Ue&&ie([ce().selectionStart||0,ce().selectionEnd||0])),j(Ue),pE(Ke.currentTarget,Ke,a,Ue)},fe=function(Ke){ue.current=!0,u==null||u(Ke)},ye=function(Ke){ue.current=!1,me(Ke,Ke.currentTarget.value),d==null||d(Ke)},Te=function(Ke){me(Ke,Ke.target.value)},ke=function(Ke){Ke.key==="Enter"&&R&&R(Ke),A==null||A(Ke)},je=function(Ke){X(!0),o==null||o(Ke)},de=function(Ke){X(!1),s==null||s(Ke)},Se=function(Ke){j(""),be(),pE(ce(),Ke,a)},Re=f,Ve;re.show&&(re.showFormatter?Ve=re.showFormatter({value:B,count:he,maxLength:ee}):Ve="".concat(he).concat(Y?" / ".concat(ee):""),Re=ae.createElement(ae.Fragment,null,Re,ae.createElement("span",{className:Oe("".concat(v,"-data-count"),T==null?void 0:T.count),style:I==null?void 0:I.count},Ve)));var De=function(Ke){var Ae;S==null||S(Ke),(Ae=ce())!==null&&Ae!==void 0&&Ae.style.height&&ge(!0)},ze=!N&&!y&&!l;return ae.createElement(NJ,{ref:le,value:B,allowClear:l,handleReset:Se,suffix:Re,prefixCls:v,classNames:_e(_e({},T),{},{affixWrapper:Oe(T==null?void 0:T.affixWrapper,ve(ve({},"".concat(v,"-show-count"),y),"".concat(v,"-textarea-allow-clear"),l))}),disabled:w,focused:G,className:Oe(x,Ce&&"".concat(v,"-out-of-range")),style:_e(_e({},_),se&&!ze?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Ve=="string"?Ve:void 0}},hidden:E,readOnly:O,onClear:P},ae.createElement(ONe,Q({},$,{autoSize:N,maxLength:c,onKeyDown:ke,onChange:Te,onFocus:je,onBlur:de,onCompositionStart:fe,onCompositionEnd:ye,className:Oe(T==null?void 0:T.textarea),style:_e(_e({},I==null?void 0:I.textarea),{},{resize:_==null?void 0:_.resize}),disabled:w,prefixCls:v,onResize:De,ref:we,readOnly:O})))});const lC=2,$Ne=(t,e)=>{e.offsetWidth-t<lC?e.style.width=`${t+lC}px`:e.offsetWidth-t>lC&&(e.style.width=`${t+lC}px`)},NNe=()=>ae.useCallback(e=>{if(e&&e.resizableTextArea.textArea.style.width.includes("px")){const n=Number.parseInt(e.resizableTextArea.textArea.style.width.replace(/px/,""));nr(()=>$Ne(n,e.nativeElement))}},[]),LNe=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},jNe=gi(["Input","TextArea"],t=>{const e=Jn(t,x_(t));return[LNe(e)]},__,{resetFont:!1});var zNe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FNe=h.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:i=!0,size:o,disabled:s,status:a,allowClear:l,classNames:c,rootClassName:u,className:d,style:f,styles:p,variant:v,showCount:y}=t,b=zNe(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount"]),{getPrefixCls:x,direction:_,allowClear:w,autoComplete:E,className:T,style:I,classNames:S,styles:P}=Oc("textArea"),R=h.useContext(yl),O=s??R,{status:N,hasFeedback:A,feedbackIcon:$}=h.useContext(bl),M=wT(N,a),F=h.useRef(null);h.useImperativeHandle(e,()=>{var we;return{resizableTextArea:(we=F.current)===null||we===void 0?void 0:we.resizableTextArea,focus:ce=>{var be,K;$J((K=(be=F.current)===null||be===void 0?void 0:be.resizableTextArea)===null||K===void 0?void 0:K.textArea,ce)},blur:()=>{var ce;return(ce=F.current)===null||ce===void 0?void 0:ce.blur()}}});const z=x("input",r),j=Bs(z),[B,W,q]=IJ(z,u),[G]=jNe(z,j),{compactSize:X,compactItemClassnames:ue}=kv(z,_),te=El(we=>{var ce;return(ce=o??X)!==null&&ce!==void 0?ce:we}),[J,se]=eL("textArea",v,i),ge=jJ(l??w),le=NNe();return B(G(h.createElement(ANe,Object.assign({autoComplete:E},b,{style:Object.assign(Object.assign({},I),f),styles:Object.assign(Object.assign({},P),p),disabled:O,allowClear:ge,className:Oe(q,j,d,u,ue,T),classNames:Object.assign(Object.assign(Object.assign({},c),S),{textarea:Oe({[`${z}-sm`]:te==="small",[`${z}-lg`]:te==="large"},W,c==null?void 0:c.textarea,S.textarea),variant:Oe({[`${z}-${J}`]:se},cE(z,M)),affixWrapper:Oe(`${z}-textarea-affix-wrapper`,{[`${z}-affix-wrapper-rtl`]:_==="rtl",[`${z}-affix-wrapper-sm`]:te==="small",[`${z}-affix-wrapper-lg`]:te==="large",[`${z}-textarea-show-count`]:t.showCount||((n=t.count)===null||n===void 0?void 0:n.show)},W)}),prefixCls:z,suffix:A&&h.createElement("span",{className:`${z}-textarea-suffix`},$),showCount:y,ref:F,onResize:we=>{var ce;(ce=b.onResize)===null||ce===void 0||ce.call(b,we),y&&le(F.current)}}))))}),Hd=C_;Hd.Group=uNe;Hd.Search=INe;Hd.TextArea=FNe;Hd.Password=SNe;Hd.OTP=vNe;const HJ=function(){const t=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];n&&Object.keys(n).forEach(r=>{const i=n[r];i!==void 0&&(t[r]=i)})}return t};var BNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},VNe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:BNe}))},FV=h.forwardRef(VNe),HNe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},WNe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:HNe}))},BV=h.forwardRef(WNe),UNe={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"},KNe=[10,20,50,100],qNe=function(e){var n=e.pageSizeOptions,r=n===void 0?KNe:n,i=e.locale,o=e.changeSize,s=e.pageSize,a=e.goButton,l=e.quickGo,c=e.rootPrefixCls,u=e.disabled,d=e.buildOptionText,f=e.showSizeChanger,p=e.sizeChangerRender,v=ae.useState(""),y=Fe(v,2),b=y[0],x=y[1],_=function(){return!b||Number.isNaN(b)?void 0:Number(b)},w=typeof d=="function"?d:function(A){return"".concat(A," ").concat(i.items_per_page)},E=function($){x($.target.value)},T=function($){a||b===""||(x(""),!($.relatedTarget&&($.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||$.relatedTarget.className.indexOf("".concat(c,"-item"))>=0))&&(l==null||l(_())))},I=function($){b!==""&&($.keyCode===At.ENTER||$.type==="click")&&(x(""),l==null||l(_()))},S=function(){return r.some(function($){return $.toString()===s.toString()})?r:r.concat([s]).sort(function($,M){var F=Number.isNaN(Number($))?0:Number($),z=Number.isNaN(Number(M))?0:Number(M);return F-z})},P="".concat(c,"-options");if(!f&&!l)return null;var R=null,O=null,N=null;return f&&p&&(R=p({disabled:u,size:s,onSizeChange:function($){o==null||o(Number($))},"aria-label":i.page_size,className:"".concat(P,"-size-changer"),options:S().map(function(A){return{label:w(A),value:A}})})),l&&(a&&(N=typeof a=="boolean"?ae.createElement("button",{type:"button",onClick:I,onKeyUp:I,disabled:u,className:"".concat(P,"-quick-jumper-button")},i.jump_to_confirm):ae.createElement("span",{onClick:I,onKeyUp:I},a)),O=ae.createElement("div",{className:"".concat(P,"-quick-jumper")},i.jump_to,ae.createElement("input",{disabled:u,type:"text",value:b,onChange:E,onKeyUp:I,onBlur:T,"aria-label":i.page}),i.page,N)),ae.createElement("li",{className:P},R,O)},zy=function(e){var n=e.rootPrefixCls,r=e.page,i=e.active,o=e.className,s=e.showTitle,a=e.onClick,l=e.onKeyPress,c=e.itemRender,u="".concat(n,"-item"),d=Oe(u,"".concat(u,"-").concat(r),ve(ve({},"".concat(u,"-active"),i),"".concat(u,"-disabled"),!r),o),f=function(){a(r)},p=function(b){l(b,a,r)},v=c(r,"page",ae.createElement("a",{rel:"nofollow"},r));return v?ae.createElement("li",{title:s?String(r):null,className:d,onClick:f,onKeyDown:p,tabIndex:0},v):null},GNe=function(e,n,r){return r};function VV(){}function HV(t){var e=Number(t);return typeof e=="number"&&!Number.isNaN(e)&&isFinite(e)&&Math.floor(e)===e}function kf(t,e,n){var r=typeof t>"u"?e:t;return Math.floor((n-1)/r)+1}var YNe=function(e){var n=e.prefixCls,r=n===void 0?"rc-pagination":n,i=e.selectPrefixCls,o=i===void 0?"rc-select":i,s=e.className,a=e.current,l=e.defaultCurrent,c=l===void 0?1:l,u=e.total,d=u===void 0?0:u,f=e.pageSize,p=e.defaultPageSize,v=p===void 0?10:p,y=e.onChange,b=y===void 0?VV:y,x=e.hideOnSinglePage,_=e.align,w=e.showPrevNextJumpers,E=w===void 0?!0:w,T=e.showQuickJumper,I=e.showLessItems,S=e.showTitle,P=S===void 0?!0:S,R=e.onShowSizeChange,O=R===void 0?VV:R,N=e.locale,A=N===void 0?UNe:N,$=e.style,M=e.totalBoundaryShowSizeChanger,F=M===void 0?50:M,z=e.disabled,j=e.simple,B=e.showTotal,W=e.showSizeChanger,q=W===void 0?d>F:W,G=e.sizeChangerRender,X=e.pageSizeOptions,ue=e.itemRender,te=ue===void 0?GNe:ue,J=e.jumpPrevIcon,se=e.jumpNextIcon,ge=e.prevIcon,le=e.nextIcon,we=ae.useRef(null),ce=so(10,{value:f,defaultValue:v}),be=Fe(ce,2),K=be[0],oe=be[1],V=so(1,{value:a,defaultValue:c,postState:function(Ct){return Math.max(1,Math.min(Ct,kf(void 0,K,d)))}}),ie=Fe(V,2),re=ie[0],ee=ie[1],Y=ae.useState(re),he=Fe(Y,2),Ce=he[0],me=he[1];h.useEffect(function(){me(re)},[re]);var fe=Math.max(1,re-(I?3:5)),ye=Math.min(kf(void 0,K,d),re+(I?3:5));function Te(Ot,Ct){var Ft=Ot||ae.createElement("button",{type:"button","aria-label":Ct,className:"".concat(r,"-item-link")});return typeof Ot=="function"&&(Ft=ae.createElement(Ot,_e({},e))),Ft}function ke(Ot){var Ct=Ot.target.value,Ft=kf(void 0,K,d),jn;return Ct===""?jn=Ct:Number.isNaN(Number(Ct))?jn=Ce:Ct>=Ft?jn=Ft:jn=Number(Ct),jn}function je(Ot){return HV(Ot)&&Ot!==re&&HV(d)&&d>0}var de=d>K?T:!1;function Se(Ot){(Ot.keyCode===At.UP||Ot.keyCode===At.DOWN)&&Ot.preventDefault()}function Re(Ot){var Ct=ke(Ot);switch(Ct!==Ce&&me(Ct),Ot.keyCode){case At.ENTER:ze(Ct);break;case At.UP:ze(Ct-1);break;case At.DOWN:ze(Ct+1);break}}function Ve(Ot){ze(ke(Ot))}function De(Ot){var Ct=kf(Ot,K,d),Ft=re>Ct&&Ct!==0?Ct:re;oe(Ot),me(Ft),O==null||O(re,Ot),ee(Ft),b==null||b(Ft,Ot)}function ze(Ot){if(je(Ot)&&!z){var Ct=kf(void 0,K,d),Ft=Ot;return Ot>Ct?Ft=Ct:Ot<1&&(Ft=1),Ft!==Ce&&me(Ft),ee(Ft),b==null||b(Ft,K),Ft}return re}var $e=re>1,Ke=re<kf(void 0,K,d);function Ae(){$e&&ze(re-1)}function Ue(){Ke&&ze(re+1)}function rt(){ze(fe)}function mt(){ze(ye)}function ot(Ot,Ct){if(Ot.key==="Enter"||Ot.charCode===At.ENTER||Ot.keyCode===At.ENTER){for(var Ft=arguments.length,jn=new Array(Ft>2?Ft-2:0),dr=2;dr<Ft;dr++)jn[dr-2]=arguments[dr];Ct.apply(void 0,jn)}}function Bt(Ot){ot(Ot,Ae)}function Xt(Ot){ot(Ot,Ue)}function Lt(Ot){ot(Ot,rt)}function en(Ot){ot(Ot,mt)}function on(Ot){var Ct=te(Ot,"prev",Te(ge,"prev page"));return ae.isValidElement(Ct)?ae.cloneElement(Ct,{disabled:!$e}):Ct}function xn(Ot){var Ct=te(Ot,"next",Te(le,"next page"));return ae.isValidElement(Ct)?ae.cloneElement(Ct,{disabled:!Ke}):Ct}function qt(Ot){(Ot.type==="click"||Ot.keyCode===At.ENTER)&&ze(Ce)}var St=null,gt=ms(e,{aria:!0,data:!0}),lt=B&&ae.createElement("li",{className:"".concat(r,"-total-text")},B(d,[d===0?0:(re-1)*K+1,re*K>d?d:re*K])),kt=null,Ie=kf(void 0,K,d);if(x&&d<=K)return null;var Ee=[],Pe={rootPrefixCls:r,onClick:ze,onKeyPress:ot,showTitle:P,itemRender:te,page:-1},Be=re-1>0?re-1:0,Le=re+1<Ie?re+1:Ie,Qe=T&&T.goButton,at=zt(j)==="object"?j.readOnly:!j,Ze=Qe,Xe=null;j&&(Qe&&(typeof Qe=="boolean"?Ze=ae.createElement("button",{type:"button",onClick:qt,onKeyUp:qt},A.jump_to_confirm):Ze=ae.createElement("span",{onClick:qt,onKeyUp:qt},Qe),Ze=ae.createElement("li",{title:P?"".concat(A.jump_to).concat(re,"/").concat(Ie):null,className:"".concat(r,"-simple-pager")},Ze)),Xe=ae.createElement("li",{title:P?"".concat(re,"/").concat(Ie):null,className:"".concat(r,"-simple-pager")},at?Ce:ae.createElement("input",{type:"text","aria-label":A.jump_to,value:Ce,disabled:z,onKeyDown:Se,onKeyUp:Re,onChange:Re,onBlur:Ve,size:3}),ae.createElement("span",{className:"".concat(r,"-slash")},"/"),Ie));var et=I?1:2;if(Ie<=3+et*2){Ie||Ee.push(ae.createElement(zy,Q({},Pe,{key:"noPager",page:1,className:"".concat(r,"-item-disabled")})));for(var st=1;st<=Ie;st+=1)Ee.push(ae.createElement(zy,Q({},Pe,{key:st,page:st,active:re===st})))}else{var bt=I?A.prev_3:A.prev_5,Tt=I?A.next_3:A.next_5,tn=te(fe,"jump-prev",Te(J,"prev page")),Wt=te(ye,"jump-next",Te(se,"next page"));E&&(St=tn?ae.createElement("li",{title:P?bt:null,key:"prev",onClick:rt,tabIndex:0,onKeyDown:Lt,className:Oe("".concat(r,"-jump-prev"),ve({},"".concat(r,"-jump-prev-custom-icon"),!!J))},tn):null,kt=Wt?ae.createElement("li",{title:P?Tt:null,key:"next",onClick:mt,tabIndex:0,onKeyDown:en,className:Oe("".concat(r,"-jump-next"),ve({},"".concat(r,"-jump-next-custom-icon"),!!se))},Wt):null);var pt=Math.max(1,re-et),Vt=Math.min(re+et,Ie);re-1<=et&&(Vt=1+et*2),Ie-re<=et&&(pt=Ie-et*2);for(var ht=pt;ht<=Vt;ht+=1)Ee.push(ae.createElement(zy,Q({},Pe,{key:ht,page:ht,active:re===ht})));if(re-1>=et*2&&re!==3&&(Ee[0]=ae.cloneElement(Ee[0],{className:Oe("".concat(r,"-item-after-jump-prev"),Ee[0].props.className)}),Ee.unshift(St)),Ie-re>=et*2&&re!==Ie-2){var Pt=Ee[Ee.length-1];Ee[Ee.length-1]=ae.cloneElement(Pt,{className:Oe("".concat(r,"-item-before-jump-next"),Pt.props.className)}),Ee.push(kt)}pt!==1&&Ee.unshift(ae.createElement(zy,Q({},Pe,{key:1,page:1}))),Vt!==Ie&&Ee.push(ae.createElement(zy,Q({},Pe,{key:Ie,page:Ie})))}var Nt=on(Be);if(Nt){var Zt=!$e||!Ie;Nt=ae.createElement("li",{title:P?A.prev_page:null,onClick:Ae,tabIndex:Zt?null:0,onKeyDown:Bt,className:Oe("".concat(r,"-prev"),ve({},"".concat(r,"-disabled"),Zt)),"aria-disabled":Zt},Nt)}var Rn=xn(Le);if(Rn){var rr,$n;j?(rr=!Ke,$n=$e?0:null):(rr=!Ke||!Ie,$n=rr?null:0),Rn=ae.createElement("li",{title:P?A.next_page:null,onClick:Ue,tabIndex:$n,onKeyDown:Xt,className:Oe("".concat(r,"-next"),ve({},"".concat(r,"-disabled"),rr)),"aria-disabled":rr},Rn)}var Ir=Oe(r,s,ve(ve(ve(ve(ve({},"".concat(r,"-start"),_==="start"),"".concat(r,"-center"),_==="center"),"".concat(r,"-end"),_==="end"),"".concat(r,"-simple"),j),"".concat(r,"-disabled"),z));return ae.createElement("ul",Q({className:Ir,style:$,ref:we},gt),lt,Nt,j?Xe:Ee,Rn,ae.createElement(qNe,{locale:A,rootPrefixCls:r,disabled:z,selectPrefixCls:o,changeSize:De,pageSize:K,pageSizeOptions:X,quickGo:de?ze:null,goButton:Ze,showSizeChanger:q,sizeChangerRender:G}))};const XNe=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:t.itemActiveBgDisabled},a:{color:t.itemActiveColorDisabled}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},ZNe=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.itemSizeSM,lineHeight:Ne(t.itemSizeSM)},[`&${e}-mini ${e}-item`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:Ne(t.calc(t.itemSizeSM).sub(2).equal())},[`&${e}-mini:not(${e}-disabled) ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.itemSizeSM,height:t.itemSizeSM,margin:0,lineHeight:Ne(t.itemSizeSM)},[`&${e}-mini:not(${e}-disabled)`]:{[`${e}-prev, ${e}-next`]:{[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.itemSizeSM,lineHeight:Ne(t.itemSizeSM)}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.itemSizeSM,marginInlineEnd:0,lineHeight:Ne(t.itemSizeSM)},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.miniOptionsSizeChangerTop},"&-quick-jumper":{height:t.itemSizeSM,lineHeight:Ne(t.itemSizeSM),input:Object.assign(Object.assign({},dL(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},QNe=t=>{const{componentCls:e}=t;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:t.itemSizeSM,lineHeight:Ne(t.itemSizeSM),verticalAlign:"top",[`${e}-item-link`]:{height:t.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.itemSizeSM,lineHeight:Ne(t.itemSizeSM)}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:t.itemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${Ne(t.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:t.itemInputBg,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${Ne(t.inputOutlineOffset)} 0 ${Ne(t.controlOutlineWidth)} ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}}},JNe=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}}},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,color:t.colorText,fontFamily:t.fontFamily,lineHeight:Ne(t.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${Ne(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:Ne(t.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},fL(t)),uL(t,{borderColor:t.colorBorder,hoverBorderColor:t.colorPrimaryHover,activeBorderColor:t.colorPrimary,activeShadow:t.activeShadow})),{"&[disabled]":Object.assign({},TT(t)),width:t.calc(t.controlHeightLG).mul(1.25).equal(),height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},eLe=t=>{const{componentCls:e}=t;return{[`${e}-item`]:{display:"inline-block",minWidth:t.itemSize,height:t.itemSize,marginInlineEnd:t.marginXS,fontFamily:t.fontFamily,lineHeight:Ne(t.calc(t.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:t.itemBg,border:`${Ne(t.lineWidth)} ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${Ne(t.paginationItemPaddingInline)}`,color:t.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},"&-active":{fontWeight:t.fontWeightStrong,backgroundColor:t.itemActiveBg,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}}}},tLe=t=>{const{componentCls:e}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Si(t)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.itemSize,marginInlineEnd:t.marginXS,lineHeight:Ne(t.calc(t.itemSize).sub(2).equal()),verticalAlign:"middle"}}),eLe(t)),JNe(t)),QNe(t)),ZNe(t)),XNe(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},nLe=t=>{const{componentCls:e}=t;return{[`${e}:not(${e}-disabled)`]:{[`${e}-item`]:Object.assign({},Jh(t)),[`${e}-jump-prev, ${e}-jump-next`]:{"&:focus-visible":Object.assign({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},of(t))},[`${e}-prev, ${e}-next`]:{[`&:focus-visible ${e}-item-link`]:Object.assign({},of(t))}}}},WJ=t=>Object.assign({itemBg:t.colorBgContainer,itemSize:t.controlHeight,itemSizeSM:t.controlHeightSM,itemActiveBg:t.colorBgContainer,itemLinkBg:t.colorBgContainer,itemActiveColorDisabled:t.colorTextDisabled,itemActiveBgDisabled:t.controlItemBgActiveDisabled,itemInputBg:t.colorBgContainer,miniOptionsSizeChangerTop:0},__(t)),UJ=t=>Jn(t,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:t.calc(t.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:t.calc(t.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:t.calc(t.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:t.calc(t.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:t.marginSM,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},x_(t)),rLe=gi("Pagination",t=>{const e=UJ(t);return[tLe(e),nLe(e)]},WJ),iLe=t=>{const{componentCls:e}=t;return{[`${e}${e}-bordered${e}-disabled:not(${e}-mini)`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.itemActiveBgDisabled}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[`${e}${e}-bordered:not(${e}-mini)`]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.itemBg},[`${e}-item-link`]:{backgroundColor:t.itemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.itemBg,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.itemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},oLe=a_(["Pagination","bordered"],t=>{const e=UJ(t);return[iLe(e)]},WJ);function WV(t){return h.useMemo(()=>typeof t=="boolean"?[t,{}]:t&&typeof t=="object"?[!0,t]:[void 0,void 0],[t])}var sLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const aLe=t=>{const{align:e,prefixCls:n,selectPrefixCls:r,className:i,rootClassName:o,style:s,size:a,locale:l,responsive:c,showSizeChanger:u,selectComponentClass:d,pageSizeOptions:f}=t,p=sLe(t,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:v}=KQ(c),[,y]=Bo(),{getPrefixCls:b,direction:x,showSizeChanger:_,className:w,style:E}=Oc("pagination"),T=b("pagination",n),[I,S,P]=rLe(T),R=El(a),O=R==="small"||!!(v&&!R&&c),[N]=xp("Pagination",VX),A=Object.assign(Object.assign({},N),l),[$,M]=WV(u),[F,z]=WV(_),j=$??F,B=M??z,W=d||xl,q=h.useMemo(()=>f?f.map(se=>Number(se)):void 0,[f]),G=se=>{var ge;const{disabled:le,size:we,onSizeChange:ce,"aria-label":be,className:K,options:oe}=se,{className:V,onChange:ie}=B||{},re=(ge=oe.find(ee=>String(ee.value)===String(we)))===null||ge===void 0?void 0:ge.value;return h.createElement(W,Object.assign({disabled:le,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:ee=>ee.parentNode,"aria-label":be,options:oe},B,{value:re,onChange:(ee,Y)=>{ce==null||ce(ee),ie==null||ie(ee,Y)},size:O?"small":"middle",className:Oe(K,V)}))},X=h.useMemo(()=>{const se=h.createElement("span",{className:`${T}-item-ellipsis`},"•••"),ge=h.createElement("button",{className:`${T}-item-link`,type:"button",tabIndex:-1},x==="rtl"?h.createElement(AO,null):h.createElement(JO,null)),le=h.createElement("button",{className:`${T}-item-link`,type:"button",tabIndex:-1},x==="rtl"?h.createElement(JO,null):h.createElement(AO,null)),we=h.createElement("a",{className:`${T}-item-link`},h.createElement("div",{className:`${T}-item-container`},x==="rtl"?h.createElement(BV,{className:`${T}-item-link-icon`}):h.createElement(FV,{className:`${T}-item-link-icon`}),se)),ce=h.createElement("a",{className:`${T}-item-link`},h.createElement("div",{className:`${T}-item-container`},x==="rtl"?h.createElement(FV,{className:`${T}-item-link-icon`}):h.createElement(BV,{className:`${T}-item-link-icon`}),se));return{prevIcon:ge,nextIcon:le,jumpPrevIcon:we,jumpNextIcon:ce}},[x,T]),ue=b("select",r),te=Oe({[`${T}-${e}`]:!!e,[`${T}-mini`]:O,[`${T}-rtl`]:x==="rtl",[`${T}-bordered`]:y.wireframe},w,i,o,S,P),J=Object.assign(Object.assign({},E),s);return I(h.createElement(h.Fragment,null,y.wireframe&&h.createElement(oLe,{prefixCls:T}),h.createElement(YNe,Object.assign({},X,p,{style:J,prefixCls:T,selectPrefixCls:ue,className:te,locale:A,pageSizeOptions:q,showSizeChanger:j,sizeChangerRender:G}))))},mE=100,KJ=mE/5,qJ=mE/2-KJ/2,DR=qJ*2*Math.PI,UV=50,KV=t=>{const{dotClassName:e,style:n,hasCircleCls:r}=t;return h.createElement("circle",{className:Oe(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:qJ,cx:UV,cy:UV,strokeWidth:KJ,style:n})},lLe=t=>{let{percent:e,prefixCls:n}=t;const r=`${n}-dot`,i=`${r}-holder`,o=`${i}-hidden`,[s,a]=h.useState(!1);gr(()=>{e!==0&&a(!0)},[e!==0]);const l=Math.max(Math.min(e,100),0);if(!s)return null;const c={strokeDashoffset:`${DR/4}`,strokeDasharray:`${DR*l/100} ${DR*(100-l)/100}`};return h.createElement("span",{className:Oe(i,`${r}-progress`,l<=0&&o)},h.createElement("svg",{viewBox:`0 0 ${mE} ${mE}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},h.createElement(KV,{dotClassName:r,hasCircleCls:!0}),h.createElement(KV,{dotClassName:r,style:c})))};function cLe(t){const{prefixCls:e,percent:n=0}=t,r=`${e}-dot`,i=`${r}-holder`,o=`${i}-hidden`;return h.createElement(h.Fragment,null,h.createElement("span",{className:Oe(i,n>0&&o)},h.createElement("span",{className:Oe(r,`${e}-dot-spin`)},[1,2,3,4].map(s=>h.createElement("i",{className:`${e}-dot-item`,key:s})))),h.createElement(lLe,{prefixCls:e,percent:n}))}function uLe(t){const{prefixCls:e,indicator:n,percent:r}=t,i=`${e}-dot`;return n&&h.isValidElement(n)?Va(n,{className:Oe(n.props.className,i),percent:r}):h.createElement(cLe,{prefixCls:e,percent:r})}const dLe=new Qn("antSpinMove",{to:{opacity:1}}),fLe=new Qn("antRotate",{to:{transform:"rotate(405deg)"}}),hLe=t=>{const{componentCls:e,calc:n}=t;return{[e]:Object.assign(Object.assign({},Si(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:t.colorWhite},[`${e}-text`]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:`transform ${t.motionDurationSlow} ease, opacity ${t.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:dLe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:fLe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${t.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},pLe=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},mLe=gi("Spin",t=>{const e=Jn(t,{spinDotDefault:t.colorTextDescription});return[hLe(e)]},pLe),gLe=200,qV=[[30,.05],[70,.03],[96,.01]];function vLe(t,e){const[n,r]=h.useState(0),i=h.useRef(null),o=e==="auto";return h.useEffect(()=>(o&&t&&(r(0),i.current=setInterval(()=>{r(s=>{const a=100-s;for(let l=0;l<qV.length;l+=1){const[c,u]=qV[l];if(s<=c)return s+a*u}return s})},gLe)),()=>{clearInterval(i.current)}),[o,t]),o?n:e}var yLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let GJ;function bLe(t,e){return!!t&&!!e&&!Number.isNaN(Number(e))}const gx=t=>{var e;const{prefixCls:n,spinning:r=!0,delay:i=0,className:o,rootClassName:s,size:a="default",tip:l,wrapperClassName:c,style:u,children:d,fullscreen:f=!1,indicator:p,percent:v}=t,y=yLe(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:b,direction:x,className:_,style:w,indicator:E}=Oc("spin"),T=b("spin",n),[I,S,P]=mLe(T),[R,O]=h.useState(()=>r&&!bLe(r,i)),N=vLe(R,v);h.useEffect(()=>{if(r){const B=L$e(i,()=>{O(!0)});return B(),()=>{var W;(W=B==null?void 0:B.cancel)===null||W===void 0||W.call(B)}}O(!1)},[i,r]);const A=h.useMemo(()=>typeof d<"u"&&!f,[d,f]),$=Oe(T,_,{[`${T}-sm`]:a==="small",[`${T}-lg`]:a==="large",[`${T}-spinning`]:R,[`${T}-show-text`]:!!l,[`${T}-rtl`]:x==="rtl"},o,!f&&s,S,P),M=Oe(`${T}-container`,{[`${T}-blur`]:R}),F=(e=p??E)!==null&&e!==void 0?e:GJ,z=Object.assign(Object.assign({},w),u),j=h.createElement("div",Object.assign({},y,{style:z,className:$,"aria-live":"polite","aria-busy":R}),h.createElement(uLe,{prefixCls:T,indicator:F,percent:N}),l&&(A||f)?h.createElement("div",{className:`${T}-text`},l):null);return I(A?h.createElement("div",Object.assign({},y,{className:Oe(`${T}-nested-loading`,c,S,P)}),R&&h.createElement("div",{key:"loading"},j),h.createElement("div",{className:M,key:"container"},d)):f?h.createElement("div",{className:Oe(`${T}-fullscreen`,{[`${T}-fullscreen-show`]:R},s,S,P)},j):j)};gx.setDefaultIndicator=t=>{GJ=t};let wa=null,ah=t=>t(),vx=[],yx={};function GV(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:i}=yx,o=(t==null?void 0:t())||document.body;return{getContainer:()=>o,duration:e,rtl:n,maxCount:r,top:i}}const xLe=ae.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:i}=h.useContext(Pn),o=yx.prefixCls||i("message"),s=h.useContext(gMe),[a,l]=AZ(Object.assign(Object.assign(Object.assign({},n),{prefixCls:o}),s.message));return ae.useImperativeHandle(e,()=>{const c=Object.assign({},a);return Object.keys(c).forEach(u=>{c[u]=function(){return r(),a[u].apply(a,arguments)}}),{instance:c,sync:r}}),l}),_Le=ae.forwardRef((t,e)=>{const[n,r]=ae.useState(GV),i=()=>{r(GV)};ae.useEffect(i,[]);const o=yZ(),s=o.getRootPrefixCls(),a=o.getIconPrefixCls(),l=o.getTheme(),c=ae.createElement(xLe,{ref:e,sync:i,messageConfig:n});return ae.createElement($u,{prefixCls:s,iconPrefixCls:a,theme:l},o.holderRender?o.holderRender(c):c)});function PT(){if(!wa){const t=document.createDocumentFragment(),e={fragment:t};wa=e,ah(()=>{BN()(ae.createElement(_Le,{ref:r=>{const{instance:i,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=o,PT())})}}),t)});return}wa.instance&&(vx.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{ah(()=>{const r=wa.instance.open(Object.assign(Object.assign({},yx),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":ah(()=>{wa==null||wa.instance.destroy(t.key)});break;default:ah(()=>{var r;const i=(r=wa.instance)[e].apply(r,it(t.args));i==null||i.then(t.resolve),t.setCloseFn(i)})}}),vx=[])}function wLe(t){yx=Object.assign(Object.assign({},yx),t),ah(()=>{var e;(e=wa==null?void 0:wa.sync)===null||e===void 0||e.call(wa)})}function CLe(t){const e=FN(n=>{let r;const i={type:"open",config:t,resolve:n,setCloseFn:o=>{r=o}};return vx.push(i),()=>{r?ah(()=>{r()}):i.skipped=!0}});return PT(),e}function SLe(t,e){const n=FN(r=>{let i;const o={type:t,args:e,resolve:r,setCloseFn:s=>{i=s}};return vx.push(o),()=>{i?ah(()=>{i()}):o.skipped=!0}});return PT(),n}const ELe=t=>{vx.push({type:"destroy",key:t}),PT()},ILe=["success","info","warning","error","loading"],TLe={open:CLe,destroy:ELe,config:wLe,useMessage:b2e,_InternalPanelDoNotUseOrYouWillBeFired:d2e},IS=TLe;ILe.forEach(t=>{IS[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return SLe(t,n)}});var PLe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const RLe=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:i,type:o,title:s,children:a,footer:l}=t,c=PLe(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=h.useContext(Pn),d=u(),f=e||u("modal"),p=Bs(d),[v,y,b]=dQ(f,p),x=`${f}-confirm`;let _={};return o?_={closable:i??!1,title:"",footer:"",children:h.createElement(hQ,Object.assign({},t,{prefixCls:f,confirmPrefixCls:x,rootPrefixCls:d,content:a}))}:_={closable:i??!0,title:s,footer:l!==null&&h.createElement(aQ,Object.assign({},t)),children:a},v(h.createElement(YZ,Object.assign({prefixCls:f,className:Oe(y,`${f}-pure-panel`,o&&x,o&&`${x}-${o}`,n,b,p)},c,{closeIcon:sQ(f,r),closable:i},_)))},kLe=wQ(RLe);function YJ(t){return g_(vQ(t))}const Il=fQ;Il.useModal=mMe;Il.info=function(e){return g_(yQ(e))};Il.success=function(e){return g_(bQ(e))};Il.error=function(e){return g_(xQ(e))};Il.warning=YJ;Il.warn=YJ;Il.confirm=function(e){return g_(_Q(e))};Il.destroyAll=function(){for(;sh.length;){const e=sh.pop();e&&e()}};Il.config=uMe;Il._InternalPanelDoNotUseOrYouWillBeFired=kLe;var MLe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},OLe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:MLe}))},DLe=h.forwardRef(OLe),ALe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},$Le=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:ALe}))},NLe=h.forwardRef($Le),LLe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},jLe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:LLe}))},zLe=h.forwardRef(jLe),FLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},BLe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:FLe}))},XJ=h.forwardRef(BLe),VLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},HLe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:VLe}))},WLe=h.forwardRef(HLe),ULe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},KLe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:ULe}))},qLe=h.forwardRef(KLe),GLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},YLe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:GLe}))},XLe=h.forwardRef(YLe),ZLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},QLe=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:ZLe}))},JLe=h.forwardRef(QLe),eje={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},tje=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:eje}))},nje=h.forwardRef(tje),rje={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},ije=function(e,n){return h.createElement(Lr,Q({},e,{ref:n,icon:rje}))},oje=h.forwardRef(ije),sje=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],ZJ=h.forwardRef(function(t,e){var n,r=t.prefixCls,i=r===void 0?"rc-switch":r,o=t.className,s=t.checked,a=t.defaultChecked,l=t.disabled,c=t.loadingIcon,u=t.checkedChildren,d=t.unCheckedChildren,f=t.onClick,p=t.onChange,v=t.onKeyDown,y=bn(t,sje),b=so(!1,{value:s,defaultValue:a}),x=Fe(b,2),_=x[0],w=x[1];function E(P,R){var O=_;return l||(O=P,w(O),p==null||p(O,R)),O}function T(P){P.which===At.LEFT?E(!1,P):P.which===At.RIGHT&&E(!0,P),v==null||v(P)}function I(P){var R=E(!_,P);f==null||f(R,P)}var S=Oe(i,o,(n={},ve(n,"".concat(i,"-checked"),_),ve(n,"".concat(i,"-disabled"),l),n));return h.createElement("button",Q({},y,{type:"button",role:"switch","aria-checked":_,disabled:l,className:S,ref:e,onKeyDown:T,onClick:I}),c,h.createElement("span",{className:"".concat(i,"-inner")},h.createElement("span",{className:"".concat(i,"-inner-checked")},u),h.createElement("span",{className:"".concat(i,"-inner-unchecked")},d)))});ZJ.displayName="Switch";const aje=t=>{const{componentCls:e,trackHeightSM:n,trackPadding:r,trackMinWidthSM:i,innerMinMarginSM:o,innerMaxMarginSM:s,handleSizeSM:a,calc:l}=t,c=`${e}-inner`,u=Ne(l(a).add(l(r).mul(2)).equal()),d=Ne(l(s).mul(2).equal());return{[e]:{[`&${e}-small`]:{minWidth:i,height:n,lineHeight:Ne(n),[`${e}-inner`]:{paddingInlineStart:s,paddingInlineEnd:o,[`${c}-checked, ${c}-unchecked`]:{minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${d})`,marginInlineEnd:`calc(100% - ${u} + ${d})`},[`${c}-unchecked`]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:a,height:a},[`${e}-loading-icon`]:{top:l(l(a).sub(t.switchLoadingIconSize)).div(2).equal(),fontSize:t.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:o,paddingInlineEnd:s,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${d})`,marginInlineEnd:`calc(-100% + ${u} - ${d})`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${Ne(l(a).add(r).equal())})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:l(t.marginXXS).div(2).equal(),marginInlineEnd:l(t.marginXXS).mul(-1).div(2).equal()}},[`&${e}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:l(t.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(t.marginXXS).div(2).equal()}}}}}}},lje=t=>{const{componentCls:e,handleSize:n,calc:r}=t;return{[e]:{[`${e}-loading-icon${t.iconCls}`]:{position:"relative",top:r(r(n).sub(t.fontSize)).div(2).equal(),color:t.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:t.switchColor}}}},cje=t=>{const{componentCls:e,trackPadding:n,handleBg:r,handleShadow:i,handleSize:o,calc:s}=t,a=`${e}-handle`;return{[e]:{[a]:{position:"absolute",top:n,insetInlineStart:n,width:o,height:o,transition:`all ${t.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:s(o).div(2).equal(),boxShadow:i,transition:`all ${t.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${a}`]:{insetInlineStart:`calc(100% - ${Ne(s(o).add(n).equal())})`},[`&:not(${e}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},uje=t=>{const{componentCls:e,trackHeight:n,trackPadding:r,innerMinMargin:i,innerMaxMargin:o,handleSize:s,calc:a}=t,l=`${e}-inner`,c=Ne(a(s).add(a(r).mul(2)).equal()),u=Ne(a(o).mul(2).equal());return{[e]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:o,paddingInlineEnd:i,transition:`padding-inline-start ${t.switchDuration} ease-in-out, padding-inline-end ${t.switchDuration} ease-in-out`,[`${l}-checked, ${l}-unchecked`]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:`margin-inline-start ${t.switchDuration} ease-in-out, margin-inline-end ${t.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${u})`,marginInlineEnd:`calc(100% - ${c} + ${u})`},[`${l}-unchecked`]:{marginTop:a(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${l}`]:{paddingInlineStart:i,paddingInlineEnd:o,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${u})`,marginInlineEnd:`calc(-100% + ${c} - ${u})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:a(r).mul(2).equal(),marginInlineEnd:a(r).mul(-1).mul(2).equal()}},[`&${e}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:a(r).mul(-1).mul(2).equal(),marginInlineEnd:a(r).mul(2).equal()}}}}}},dje=t=>{const{componentCls:e,trackHeight:n,trackMinWidth:r}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Si(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:Ne(n),verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${t.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:t.colorTextTertiary}}),Jh(t)),{[`&${e}-checked`]:{background:t.switchColor,[`&:hover:not(${e}-disabled)`]:{background:t.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},fje=t=>{const{fontSize:e,lineHeight:n,controlHeight:r,colorWhite:i}=t,o=e*n,s=r/2,a=2,l=o-a*2,c=s-a*2;return{trackHeight:o,trackHeightSM:s,trackMinWidth:l*2+a*4,trackMinWidthSM:c*2+a*2,trackPadding:a,handleBg:i,handleSize:l,handleSizeSM:c,handleShadow:`0 2px 4px 0 ${new Xn("#00230b").setA(.2).toRgbString()}`,innerMinMargin:l/2,innerMaxMargin:l+a+a*2,innerMinMarginSM:c/2,innerMaxMarginSM:c+a+a*2}},hje=gi("Switch",t=>{const e=Jn(t,{switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchLoadingIconSize:t.calc(t.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${t.opacityLoading})`,switchHandleActiveInset:"-30%"});return[dje(e),uje(e),cje(e),lje(e),aje(e)]},fje);var pje=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const mje=h.forwardRef((t,e)=>{const{prefixCls:n,size:r,disabled:i,loading:o,className:s,rootClassName:a,style:l,checked:c,value:u,defaultChecked:d,defaultValue:f,onChange:p}=t,v=pje(t,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[y,b]=so(!1,{value:c??u,defaultValue:d??f}),{getPrefixCls:x,direction:_,switch:w}=h.useContext(Pn),E=h.useContext(yl),T=(i??E)||o,I=x("switch",n),S=h.createElement("div",{className:`${I}-handle`},o&&h.createElement(c_,{className:`${I}-loading-icon`})),[P,R,O]=hje(I),N=El(r),A=Oe(w==null?void 0:w.className,{[`${I}-small`]:N==="small",[`${I}-loading`]:o,[`${I}-rtl`]:_==="rtl"},s,a,R,O),$=Object.assign(Object.assign({},w==null?void 0:w.style),l),M=function(){b(arguments.length<=0?void 0:arguments[0]),p==null||p.apply(void 0,arguments)};return P(h.createElement(f_,{component:"Switch"},h.createElement(ZJ,Object.assign({},v,{checked:y,onChange:M,prefixCls:I,className:A,style:$,disabled:T,ref:e,loadingIcon:S}))))}),QJ=mje;QJ.__ANT_SWITCH=!0;var Uc={},S_="rc-table-internal-hook";function mL(t){var e=h.createContext(void 0),n=function(i){var o=i.value,s=i.children,a=h.useRef(o);a.current=o;var l=h.useState(function(){return{getValue:function(){return a.current},listeners:new Set}}),c=Fe(l,1),u=c[0];return gr(function(){js.unstable_batchedUpdates(function(){u.listeners.forEach(function(d){d(o)})})},[o]),h.createElement(e.Provider,{value:u},s)};return{Context:e,Provider:n,defaultValue:t}}function Fo(t,e){var n=Or(typeof e=="function"?e:function(d){if(e===void 0)return d;if(!Array.isArray(e))return d[e];var f={};return e.forEach(function(p){f[p]=d[p]}),f}),r=h.useContext(t==null?void 0:t.Context),i=r||{},o=i.listeners,s=i.getValue,a=h.useRef();a.current=n(r?s():t==null?void 0:t.defaultValue);var l=h.useState({}),c=Fe(l,2),u=c[1];return gr(function(){if(!r)return;function d(f){var p=n(f);_c(a.current,p,!0)||u({})}return o.add(d),function(){o.delete(d)}},[r]),a.current}function gje(){var t=h.createContext(null);function e(){return h.useContext(t)}function n(i,o){var s=xc(i),a=function(c,u){var d=s?{ref:u}:{},f=h.useRef(0),p=h.useRef(c),v=e();return v!==null?h.createElement(i,Q({},c,d)):((!o||o(p.current,c))&&(f.current+=1),p.current=c,h.createElement(t.Provider,{value:f.current},h.createElement(i,Q({},c,d))))};return s?h.forwardRef(a):a}function r(i,o){var s=xc(i),a=function(c,u){var d=s?{ref:u}:{};return e(),h.createElement(i,Q({},c,d))};return s?h.memo(h.forwardRef(a),o):h.memo(a,o)}return{makeImmutable:n,responseImmutable:r,useImmutableMark:e}}var gL=gje(),JJ=gL.makeImmutable,$v=gL.responseImmutable,vje=gL.useImmutableMark,bs=mL(),eee=h.createContext({renderWithProps:!1}),yje="RC_TABLE_KEY";function bje(t){return t==null?[]:Array.isArray(t)?t:[t]}function RT(t){var e=[],n={};return t.forEach(function(r){for(var i=r||{},o=i.key,s=i.dataIndex,a=o||bje(s).join("-")||yje;n[a];)a="".concat(a,"_next");n[a]=!0,e.push(a)}),e}function sD(t){return t!=null}function xje(t){return typeof t=="number"&&!Number.isNaN(t)}function _je(t){return t&&zt(t)==="object"&&!Array.isArray(t)&&!h.isValidElement(t)}function wje(t,e,n,r,i,o){var s=h.useContext(eee),a=vje(),l=vp(function(){if(sD(r))return[r];var c=e==null||e===""?[]:Array.isArray(e)?e:[e],u=Js(t,c),d=u,f=void 0;if(i){var p=i(u,t,n);_je(p)?(d=p.children,f=p.props,s.renderWithProps=!0):d=p}return[d,f]},[a,t,r,e,i,n],function(c,u){if(o){var d=Fe(c,2),f=d[1],p=Fe(u,2),v=p[1];return o(v,f)}return s.renderWithProps?!0:!_c(c,u,!0)});return l}function Cje(t,e,n,r){var i=t+e-1;return t<=r&&i>=n}function Sje(t,e){return Fo(bs,function(n){var r=Cje(t,e||1,n.hoverStartRow,n.hoverEndRow);return[r,n.onHover]})}var Eje=function(e){var n=e.ellipsis,r=e.rowType,i=e.children,o,s=n===!0?{showTitle:!0}:n;return s&&(s.showTitle||r==="header")&&(typeof i=="string"||typeof i=="number"?o=i.toString():h.isValidElement(i)&&typeof i.props.children=="string"&&(o=i.props.children)),o};function Ije(t){var e,n,r,i,o,s,a,l,c=t.component,u=t.children,d=t.ellipsis,f=t.scope,p=t.prefixCls,v=t.className,y=t.align,b=t.record,x=t.render,_=t.dataIndex,w=t.renderIndex,E=t.shouldCellUpdate,T=t.index,I=t.rowType,S=t.colSpan,P=t.rowSpan,R=t.fixLeft,O=t.fixRight,N=t.firstFixLeft,A=t.lastFixLeft,$=t.firstFixRight,M=t.lastFixRight,F=t.appendNode,z=t.additionalProps,j=z===void 0?{}:z,B=t.isSticky,W="".concat(p,"-cell"),q=Fo(bs,["supportSticky","allColumnsFixedLeft","rowHoverable"]),G=q.supportSticky,X=q.allColumnsFixedLeft,ue=q.rowHoverable,te=wje(b,_,w,u,x,E),J=Fe(te,2),se=J[0],ge=J[1],le={},we=typeof R=="number"&&G,ce=typeof O=="number"&&G;we&&(le.position="sticky",le.left=R),ce&&(le.position="sticky",le.right=O);var be=(e=(n=(r=ge==null?void 0:ge.colSpan)!==null&&r!==void 0?r:j.colSpan)!==null&&n!==void 0?n:S)!==null&&e!==void 0?e:1,K=(i=(o=(s=ge==null?void 0:ge.rowSpan)!==null&&s!==void 0?s:j.rowSpan)!==null&&o!==void 0?o:P)!==null&&i!==void 0?i:1,oe=Sje(T,K),V=Fe(oe,2),ie=V[0],re=V[1],ee=Or(function(Te){var ke;b&&re(T,T+K-1),j==null||(ke=j.onMouseEnter)===null||ke===void 0||ke.call(j,Te)}),Y=Or(function(Te){var ke;b&&re(-1,-1),j==null||(ke=j.onMouseLeave)===null||ke===void 0||ke.call(j,Te)});if(be===0||K===0)return null;var he=(a=j.title)!==null&&a!==void 0?a:Eje({rowType:I,ellipsis:d,children:se}),Ce=Oe(W,v,(l={},ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(l,"".concat(W,"-fix-left"),we&&G),"".concat(W,"-fix-left-first"),N&&G),"".concat(W,"-fix-left-last"),A&&G),"".concat(W,"-fix-left-all"),A&&X&&G),"".concat(W,"-fix-right"),ce&&G),"".concat(W,"-fix-right-first"),$&&G),"".concat(W,"-fix-right-last"),M&&G),"".concat(W,"-ellipsis"),d),"".concat(W,"-with-append"),F),"".concat(W,"-fix-sticky"),(we||ce)&&B&&G),ve(l,"".concat(W,"-row-hover"),!ge&&ie)),j.className,ge==null?void 0:ge.className),me={};y&&(me.textAlign=y);var fe=_e(_e(_e(_e({},ge==null?void 0:ge.style),le),me),j.style),ye=se;return zt(ye)==="object"&&!Array.isArray(ye)&&!h.isValidElement(ye)&&(ye=null),d&&(A||$)&&(ye=h.createElement("span",{className:"".concat(W,"-content")},ye)),h.createElement(c,Q({},ge,j,{className:Ce,style:fe,title:he,scope:f,onMouseEnter:ue?ee:void 0,onMouseLeave:ue?Y:void 0,colSpan:be!==1?be:null,rowSpan:K!==1?K:null}),F,ye)}const Nv=h.memo(Ije);function vL(t,e,n,r,i){var o=n[t]||{},s=n[e]||{},a,l;o.fixed==="left"?a=r.left[i==="rtl"?e:t]:s.fixed==="right"&&(l=r.right[i==="rtl"?t:e]);var c=!1,u=!1,d=!1,f=!1,p=n[e+1],v=n[t-1],y=p&&!p.fixed||v&&!v.fixed||n.every(function(E){return E.fixed==="left"});if(i==="rtl"){if(a!==void 0){var b=v&&v.fixed==="left";f=!b&&y}else if(l!==void 0){var x=p&&p.fixed==="right";d=!x&&y}}else if(a!==void 0){var _=p&&p.fixed==="left";c=!_&&y}else if(l!==void 0){var w=v&&v.fixed==="right";u=!w&&y}return{fixLeft:a,fixRight:l,lastFixLeft:c,firstFixRight:u,lastFixRight:d,firstFixLeft:f,isSticky:r.isSticky}}var tee=h.createContext({});function Tje(t){var e=t.className,n=t.index,r=t.children,i=t.colSpan,o=i===void 0?1:i,s=t.rowSpan,a=t.align,l=Fo(bs,["prefixCls","direction"]),c=l.prefixCls,u=l.direction,d=h.useContext(tee),f=d.scrollColumnIndex,p=d.stickyOffsets,v=d.flattenColumns,y=n+o-1,b=y+1===f?o+1:o,x=vL(n,n+b-1,v,p,u);return h.createElement(Nv,Q({className:e,index:n,component:"td",prefixCls:c,record:null,dataIndex:null,align:a,colSpan:b,rowSpan:s,render:function(){return r}},x))}var Pje=["children"];function Rje(t){var e=t.children,n=bn(t,Pje);return h.createElement("tr",n,e)}function kT(t){var e=t.children;return e}kT.Row=Rje;kT.Cell=Tje;function kje(t){var e=t.children,n=t.stickyOffsets,r=t.flattenColumns,i=Fo(bs,"prefixCls"),o=r.length-1,s=r[o],a=h.useMemo(function(){return{stickyOffsets:n,flattenColumns:r,scrollColumnIndex:s!=null&&s.scrollbar?o:null}},[s,r,o,n]);return h.createElement(tee.Provider,{value:a},h.createElement("tfoot",{className:"".concat(i,"-summary")},e))}const cC=$v(kje);var nee=kT;function Mje(t){return null}function Oje(t){return null}function ree(t,e,n,r,i,o,s){t.push({record:e,indent:n,index:s});var a=o(e),l=i==null?void 0:i.has(a);if(e&&Array.isArray(e[r])&&l)for(var c=0;c<e[r].length;c+=1)ree(t,e[r][c],n+1,r,i,o,c)}function iee(t,e,n,r){var i=h.useMemo(function(){if(n!=null&&n.size){for(var o=[],s=0;s<(t==null?void 0:t.length);s+=1){var a=t[s];ree(o,a,0,e,n,r,s)}return o}return t==null?void 0:t.map(function(l,c){return{record:l,indent:0,index:c}})},[t,e,n,r]);return i}function oee(t,e,n,r){var i=Fo(bs,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),o=i.flattenColumns,s=i.expandableType,a=i.expandedKeys,l=i.childrenColumnName,c=i.onTriggerExpand,u=i.rowExpandable,d=i.onRow,f=i.expandRowByClick,p=i.rowClassName,v=s==="nest",y=s==="row"&&(!u||u(t)),b=y||v,x=a&&a.has(e),_=l&&t&&t[l],w=Or(c),E=d==null?void 0:d(t,n),T=E==null?void 0:E.onClick,I=function(O){f&&b&&c(t,O);for(var N=arguments.length,A=new Array(N>1?N-1:0),$=1;$<N;$++)A[$-1]=arguments[$];T==null||T.apply(void 0,[O].concat(A))},S;typeof p=="string"?S=p:typeof p=="function"&&(S=p(t,n,r));var P=RT(o);return _e(_e({},i),{},{columnsKey:P,nestExpandable:v,expanded:x,hasNestChildren:_,record:t,onTriggerExpand:w,rowSupportExpand:y,expandable:b,rowProps:_e(_e({},E),{},{className:Oe(S,E==null?void 0:E.className),onClick:I})})}function see(t){var e=t.prefixCls,n=t.children,r=t.component,i=t.cellComponent,o=t.className,s=t.expanded,a=t.colSpan,l=t.isEmpty,c=Fo(bs,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),u=c.scrollbarSize,d=c.fixHeader,f=c.fixColumn,p=c.componentWidth,v=c.horizonScroll,y=n;return(l?v&&p:f)&&(y=h.createElement("div",{style:{width:p-(d&&!l?u:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(e,"-expanded-row-fixed")},y)),h.createElement(r,{className:o,style:{display:s?null:"none"}},h.createElement(Nv,{component:i,prefixCls:e,colSpan:a},y))}function Dje(t){var e=t.prefixCls,n=t.record,r=t.onExpand,i=t.expanded,o=t.expandable,s="".concat(e,"-row-expand-icon");if(!o)return h.createElement("span",{className:Oe(s,"".concat(e,"-row-spaced"))});var a=function(c){r(n,c),c.stopPropagation()};return h.createElement("span",{className:Oe(s,ve(ve({},"".concat(e,"-row-expanded"),i),"".concat(e,"-row-collapsed"),!i)),onClick:a})}function Aje(t,e,n){var r=[];function i(o){(o||[]).forEach(function(s,a){r.push(e(s,a)),i(s[n])})}return i(t),r}function aee(t,e,n,r){return typeof t=="string"?t:typeof t=="function"?t(e,n,r):""}function lee(t,e,n,r,i){var o=t.record,s=t.prefixCls,a=t.columnsKey,l=t.fixedInfoList,c=t.expandIconColumnIndex,u=t.nestExpandable,d=t.indentSize,f=t.expandIcon,p=t.expanded,v=t.hasNestChildren,y=t.onTriggerExpand,b=a[n],x=l[n],_;n===(c||0)&&u&&(_=h.createElement(h.Fragment,null,h.createElement("span",{style:{paddingLeft:"".concat(d*r,"px")},className:"".concat(s,"-row-indent indent-level-").concat(r)}),f({prefixCls:s,expanded:p,expandable:v,record:o,onExpand:y})));var w;return e.onCell&&(w=e.onCell(o,i)),{key:b,fixedInfo:x,appendCellNode:_,additionalCellProps:w||{}}}function $je(t){var e=t.className,n=t.style,r=t.record,i=t.index,o=t.renderIndex,s=t.rowKey,a=t.indent,l=a===void 0?0:a,c=t.rowComponent,u=t.cellComponent,d=t.scopeCellComponent,f=oee(r,s,i,l),p=f.prefixCls,v=f.flattenColumns,y=f.expandedRowClassName,b=f.expandedRowRender,x=f.rowProps,_=f.expanded,w=f.rowSupportExpand,E=h.useRef(!1);E.current||(E.current=_);var T=aee(y,r,i,l),I=h.createElement(c,Q({},x,{"data-row-key":s,className:Oe(e,"".concat(p,"-row"),"".concat(p,"-row-level-").concat(l),x==null?void 0:x.className,ve({},T,l>=1)),style:_e(_e({},n),x==null?void 0:x.style)}),v.map(function(R,O){var N=R.render,A=R.dataIndex,$=R.className,M=lee(f,R,O,l,i),F=M.key,z=M.fixedInfo,j=M.appendCellNode,B=M.additionalCellProps;return h.createElement(Nv,Q({className:$,ellipsis:R.ellipsis,align:R.align,scope:R.rowScope,component:R.rowScope?d:u,prefixCls:p,key:F,record:r,index:i,renderIndex:o,dataIndex:A,render:N,shouldCellUpdate:R.shouldCellUpdate},z,{appendNode:j,additionalProps:B}))})),S;if(w&&(E.current||_)){var P=b(r,i,l+1,_);S=h.createElement(see,{expanded:_,className:Oe("".concat(p,"-expanded-row"),"".concat(p,"-expanded-row-level-").concat(l+1),T),prefixCls:p,component:c,cellComponent:u,colSpan:v.length,isEmpty:!1},P)}return h.createElement(h.Fragment,null,I,S)}const Nje=$v($je);function Lje(t){var e=t.columnKey,n=t.onColumnResize,r=h.useRef();return h.useEffect(function(){r.current&&n(e,r.current.offsetWidth)},[]),h.createElement(Sl,{data:e},h.createElement("td",{ref:r,style:{padding:0,border:0,height:0}},h.createElement("div",{style:{height:0,overflow:"hidden"}}," ")))}function jje(t){var e=t.prefixCls,n=t.columnsKey,r=t.onColumnResize;return h.createElement("tr",{"aria-hidden":"true",className:"".concat(e,"-measure-row"),style:{height:0,fontSize:0}},h.createElement(Sl.Collection,{onBatchResize:function(o){o.forEach(function(s){var a=s.data,l=s.size;r(a,l.offsetWidth)})}},n.map(function(i){return h.createElement(Lje,{key:i,columnKey:i,onColumnResize:r})})))}function zje(t){var e=t.data,n=t.measureColumnWidth,r=Fo(bs,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),i=r.prefixCls,o=r.getComponent,s=r.onColumnResize,a=r.flattenColumns,l=r.getRowKey,c=r.expandedKeys,u=r.childrenColumnName,d=r.emptyNode,f=iee(e,u,c,l),p=h.useRef({renderWithProps:!1}),v=o(["body","wrapper"],"tbody"),y=o(["body","row"],"tr"),b=o(["body","cell"],"td"),x=o(["body","cell"],"th"),_;e.length?_=f.map(function(E,T){var I=E.record,S=E.indent,P=E.index,R=l(I,T);return h.createElement(Nje,{key:R,rowKey:R,record:I,index:T,renderIndex:P,rowComponent:y,cellComponent:b,scopeCellComponent:x,indent:S})}):_=h.createElement(see,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:y,cellComponent:b,colSpan:a.length,isEmpty:!0},d);var w=RT(a);return h.createElement(eee.Provider,{value:p.current},h.createElement(v,{className:"".concat(i,"-tbody")},n&&h.createElement(jje,{prefixCls:i,columnsKey:w,onColumnResize:s}),_))}const Fje=$v(zje);var Bje=["expandable"],Q0="RC_TABLE_INTERNAL_COL_DEFINE";function Vje(t){var e=t.expandable,n=bn(t,Bje),r;return"expandable"in t?r=_e(_e({},n),e):r=n,r.showExpandColumn===!1&&(r.expandIconColumnIndex=-1),r}var Hje=["columnType"];function cee(t){for(var e=t.colWidths,n=t.columns,r=t.columCount,i=Fo(bs,["tableLayout"]),o=i.tableLayout,s=[],a=r||n.length,l=!1,c=a-1;c>=0;c-=1){var u=e[c],d=n&&n[c],f=void 0,p=void 0;if(d&&(f=d[Q0],o==="auto"&&(p=d.minWidth)),u||p||f||l){var v=f||{};v.columnType;var y=bn(v,Hje);s.unshift(h.createElement("col",Q({key:c,style:{width:u,minWidth:p}},y))),l=!0}}return h.createElement("colgroup",null,s)}var Wje=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Uje(t,e){return h.useMemo(function(){for(var n=[],r=0;r<e;r+=1){var i=t[r];if(i!==void 0)n[r]=i;else return null}return n},[t.join("_"),e])}var Kje=h.forwardRef(function(t,e){var n=t.className,r=t.noData,i=t.columns,o=t.flattenColumns,s=t.colWidths,a=t.columCount,l=t.stickyOffsets,c=t.direction,u=t.fixHeader,d=t.stickyTopOffset,f=t.stickyBottomOffset,p=t.stickyClassName,v=t.onScroll,y=t.maxContentScroll,b=t.children,x=bn(t,Wje),_=Fo(bs,["prefixCls","scrollbarSize","isSticky","getComponent"]),w=_.prefixCls,E=_.scrollbarSize,T=_.isSticky,I=_.getComponent,S=I(["header","table"],"table"),P=T&&!u?0:E,R=h.useRef(null),O=h.useCallback(function(B){tx(e,B),tx(R,B)},[]);h.useEffect(function(){var B;function W(q){var G=q,X=G.currentTarget,ue=G.deltaX;ue&&(v({currentTarget:X,scrollLeft:X.scrollLeft+ue}),q.preventDefault())}return(B=R.current)===null||B===void 0||B.addEventListener("wheel",W,{passive:!1}),function(){var q;(q=R.current)===null||q===void 0||q.removeEventListener("wheel",W)}},[]);var N=h.useMemo(function(){return o.every(function(B){return B.width})},[o]),A=o[o.length-1],$={fixed:A?A.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(w,"-cell-scrollbar")}}},M=h.useMemo(function(){return P?[].concat(it(i),[$]):i},[P,i]),F=h.useMemo(function(){return P?[].concat(it(o),[$]):o},[P,o]),z=h.useMemo(function(){var B=l.right,W=l.left;return _e(_e({},l),{},{left:c==="rtl"?[].concat(it(W.map(function(q){return q+P})),[0]):W,right:c==="rtl"?B:[].concat(it(B.map(function(q){return q+P})),[0]),isSticky:T})},[P,l,T]),j=Uje(s,a);return h.createElement("div",{style:_e({overflow:"hidden"},T?{top:d,bottom:f}:{}),ref:O,className:Oe(n,ve({},p,!!p))},h.createElement(S,{style:{tableLayout:"fixed",visibility:r||j?null:"hidden"}},(!r||!y||N)&&h.createElement(cee,{colWidths:j?[].concat(it(j),[P]):[],columCount:a+1,columns:F}),b(_e(_e({},x),{},{stickyOffsets:z,columns:M,flattenColumns:F}))))});const YV=h.memo(Kje);var qje=function(e){var n=e.cells,r=e.stickyOffsets,i=e.flattenColumns,o=e.rowComponent,s=e.cellComponent,a=e.onHeaderRow,l=e.index,c=Fo(bs,["prefixCls","direction"]),u=c.prefixCls,d=c.direction,f;a&&(f=a(n.map(function(v){return v.column}),l));var p=RT(n.map(function(v){return v.column}));return h.createElement(o,f,n.map(function(v,y){var b=v.column,x=vL(v.colStart,v.colEnd,i,r,d),_;return b&&b.onHeaderCell&&(_=v.column.onHeaderCell(b)),h.createElement(Nv,Q({},v,{scope:b.title?v.colSpan>1?"colgroup":"col":null,ellipsis:b.ellipsis,align:b.align,component:s,prefixCls:u,key:p[y]},x,{additionalProps:_,rowType:"header"}))}))};function Gje(t){var e=[];function n(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[l]=e[l]||[];var c=a,u=s.filter(Boolean).map(function(d){var f={key:d.key,className:d.className||"",children:d.title,column:d,colStart:c},p=1,v=d.children;return v&&v.length>0&&(p=n(v,c,l+1).reduce(function(y,b){return y+b},0),f.hasSubColumns=!0),"colSpan"in d&&(p=d.colSpan),"rowSpan"in d&&(f.rowSpan=d.rowSpan),f.colSpan=p,f.colEnd=f.colStart+p-1,e[l].push(f),c+=p,p});return u}n(t,0);for(var r=e.length,i=function(a){e[a].forEach(function(l){!("rowSpan"in l)&&!l.hasSubColumns&&(l.rowSpan=r-a)})},o=0;o<r;o+=1)i(o);return e}var Yje=function(e){var n=e.stickyOffsets,r=e.columns,i=e.flattenColumns,o=e.onHeaderRow,s=Fo(bs,["prefixCls","getComponent"]),a=s.prefixCls,l=s.getComponent,c=h.useMemo(function(){return Gje(r)},[r]),u=l(["header","wrapper"],"thead"),d=l(["header","row"],"tr"),f=l(["header","cell"],"th");return h.createElement(u,{className:"".concat(a,"-thead")},c.map(function(p,v){var y=h.createElement(qje,{key:v,flattenColumns:i,cells:p,stickyOffsets:n,rowComponent:d,cellComponent:f,onHeaderRow:o,index:v});return y}))};const XV=$v(Yje);function ZV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof e=="number"?e:e.endsWith("%")?t*parseFloat(e)/100:null}function Xje(t,e,n){return h.useMemo(function(){if(e&&e>0){var r=0,i=0;t.forEach(function(f){var p=ZV(e,f.width);p?r+=p:i+=1});var o=Math.max(e,n),s=Math.max(o-r,i),a=i,l=s/i,c=0,u=t.map(function(f){var p=_e({},f),v=ZV(e,p.width);if(v)p.width=v;else{var y=Math.floor(l);p.width=a===1?s:y,s-=y,a-=1}return c+=p.width,p});if(c<o){var d=o/c;s=o,u.forEach(function(f,p){var v=Math.floor(f.width*d);f.width=p===u.length-1?s:v,s-=v})}return[u,Math.max(c,o)]}return[t,e]},[t,e,n])}var Zje=["children"],Qje=["fixed"];function yL(t){return vl(t).filter(function(e){return h.isValidElement(e)}).map(function(e){var n=e.key,r=e.props,i=r.children,o=bn(r,Zje),s=_e({key:n},o);return i&&(s.children=yL(i)),s})}function uee(t){return t.filter(function(e){return e&&zt(e)==="object"&&!e.hidden}).map(function(e){var n=e.children;return n&&n.length>0?_e(_e({},e),{},{children:uee(n)}):e})}function aD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return t.filter(function(n){return n&&zt(n)==="object"}).reduce(function(n,r,i){var o=r.fixed,s=o===!0?"left":o,a="".concat(e,"-").concat(i),l=r.children;return l&&l.length>0?[].concat(it(n),it(aD(l,a).map(function(c){return _e({fixed:s},c)}))):[].concat(it(n),[_e(_e({key:a},r),{},{fixed:s})])},[])}function Jje(t){return t.map(function(e){var n=e.fixed,r=bn(e,Qje),i=n;return n==="left"?i="right":n==="right"&&(i="left"),_e({fixed:i},r)})}function e4e(t,e){var n=t.prefixCls,r=t.columns,i=t.children,o=t.expandable,s=t.expandedKeys,a=t.columnTitle,l=t.getRowKey,c=t.onTriggerExpand,u=t.expandIcon,d=t.rowExpandable,f=t.expandIconColumnIndex,p=t.direction,v=t.expandRowByClick,y=t.columnWidth,b=t.fixed,x=t.scrollWidth,_=t.clientWidth,w=h.useMemo(function(){var A=r||yL(i)||[];return uee(A.slice())},[r,i]),E=h.useMemo(function(){if(o){var A=w.slice();if(!A.includes(Uc)){var $=f||0;$>=0&&($||b==="left"||!b)&&A.splice($,0,Uc),b==="right"&&A.splice(w.length,0,Uc)}var M=A.indexOf(Uc);A=A.filter(function(B,W){return B!==Uc||W===M});var F=w[M],z;b?z=b:z=F?F.fixed:null;var j=ve(ve(ve(ve(ve(ve({},Q0,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",a),"fixed",z),"className","".concat(n,"-row-expand-icon-cell")),"width",y),"render",function(W,q,G){var X=l(q,G),ue=s.has(X),te=d?d(q):!0,J=u({prefixCls:n,expanded:ue,expandable:te,record:q,onExpand:c});return v?h.createElement("span",{onClick:function(ge){return ge.stopPropagation()}},J):J});return A.map(function(B){return B===Uc?j:B})}return w.filter(function(B){return B!==Uc})},[o,w,l,s,u,p]),T=h.useMemo(function(){var A=E;return e&&(A=e(A)),A.length||(A=[{render:function(){return null}}]),A},[e,E,p]),I=h.useMemo(function(){return p==="rtl"?Jje(aD(T)):aD(T)},[T,p,x]),S=h.useMemo(function(){for(var A=-1,$=I.length-1;$>=0;$-=1){var M=I[$].fixed;if(M==="left"||M===!0){A=$;break}}if(A>=0)for(var F=0;F<=A;F+=1){var z=I[F].fixed;if(z!=="left"&&z!==!0)return!0}var j=I.findIndex(function(q){var G=q.fixed;return G==="right"});if(j>=0)for(var B=j;B<I.length;B+=1){var W=I[B].fixed;if(W!=="right")return!0}return!1},[I]),P=Xje(I,x,_),R=Fe(P,2),O=R[0],N=R[1];return[T,O,N,S]}function t4e(t,e,n){var r=Vje(t),i=r.expandIcon,o=r.expandedRowKeys,s=r.defaultExpandedRowKeys,a=r.defaultExpandAllRows,l=r.expandedRowRender,c=r.onExpand,u=r.onExpandedRowsChange,d=r.childrenColumnName,f=i||Dje,p=d||"children",v=h.useMemo(function(){return l?"row":t.expandable&&t.internalHooks===S_&&t.expandable.__PARENT_RENDER_ICON__||e.some(function(T){return T&&zt(T)==="object"&&T[p]})?"nest":!1},[!!l,e]),y=h.useState(function(){return s||(a?Aje(e,n,p):[])}),b=Fe(y,2),x=b[0],_=b[1],w=h.useMemo(function(){return new Set(o||x||[])},[o,x]),E=h.useCallback(function(T){var I=n(T,e.indexOf(T)),S,P=w.has(I);P?(w.delete(I),S=it(w)):S=[].concat(it(w),[I]),_(S),c&&c(!P,T),u&&u(S)},[n,w,e,c,u]);return[r,v,w,f,p,E]}function n4e(t,e,n){var r=t.map(function(i,o){return vL(o,o,t,e,n)});return vp(function(){return r},[r],function(i,o){return!_c(i,o)})}function dee(t){var e=h.useRef(t),n=h.useState({}),r=Fe(n,2),i=r[1],o=h.useRef(null),s=h.useRef([]);function a(l){s.current.push(l);var c=Promise.resolve();o.current=c,c.then(function(){if(o.current===c){var u=s.current,d=e.current;s.current=[],u.forEach(function(f){e.current=f(e.current)}),o.current=null,d!==e.current&&i({})}})}return h.useEffect(function(){return function(){o.current=null}},[]),[e.current,a]}function r4e(t){var e=h.useRef(null),n=h.useRef();function r(){window.clearTimeout(n.current)}function i(s){e.current=s,r(),n.current=window.setTimeout(function(){e.current=null,n.current=void 0},100)}function o(){return e.current}return h.useEffect(function(){return r},[]),[i,o]}function i4e(){var t=h.useState(-1),e=Fe(t,2),n=e[0],r=e[1],i=h.useState(-1),o=Fe(i,2),s=o[0],a=o[1],l=h.useCallback(function(c,u){r(c),a(u)},[]);return[n,s,l]}var QV=zo()?window:null;function o4e(t,e){var n=zt(t)==="object"?t:{},r=n.offsetHeader,i=r===void 0?0:r,o=n.offsetSummary,s=o===void 0?0:o,a=n.offsetScroll,l=a===void 0?0:a,c=n.getContainer,u=c===void 0?function(){return QV}:c,d=u()||QV,f=!!t;return h.useMemo(function(){return{isSticky:f,stickyClassName:f?"".concat(e,"-sticky-holder"):"",offsetHeader:i,offsetSummary:s,offsetScroll:l,container:d}},[f,l,i,s,e,d])}function s4e(t,e,n){var r=h.useMemo(function(){var i=e.length,o=function(c,u,d){for(var f=[],p=0,v=c;v!==u;v+=d)f.push(p),e[v].fixed&&(p+=t[v]||0);return f},s=o(0,i,1),a=o(i-1,-1,-1).reverse();return n==="rtl"?{left:a,right:s}:{left:s,right:a}},[t,e,n]);return r}function JV(t){var e=t.className,n=t.children;return h.createElement("div",{className:e},n)}function eH(t){var e=FI(t),n=e.getBoundingClientRect(),r=document.documentElement;return{left:n.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||document.body.clientLeft||0),top:n.top+(window.pageYOffset||r.scrollTop)-(r.clientTop||document.body.clientTop||0)}}var a4e=function(e,n){var r,i,o=e.scrollBodyRef,s=e.onScroll,a=e.offsetScroll,l=e.container,c=e.direction,u=Fo(bs,"prefixCls"),d=((r=o.current)===null||r===void 0?void 0:r.scrollWidth)||0,f=((i=o.current)===null||i===void 0?void 0:i.clientWidth)||0,p=d&&f*(f/d),v=h.useRef(),y=dee({scrollLeft:0,isHiddenScrollBar:!0}),b=Fe(y,2),x=b[0],_=b[1],w=h.useRef({delta:0,x:0}),E=h.useState(!1),T=Fe(E,2),I=T[0],S=T[1],P=h.useRef(null);h.useEffect(function(){return function(){nr.cancel(P.current)}},[]);var R=function(){S(!1)},O=function(F){F.persist(),w.current.delta=F.pageX-x.scrollLeft,w.current.x=0,S(!0),F.preventDefault()},N=function(F){var z,j=F||((z=window)===null||z===void 0?void 0:z.event),B=j.buttons;if(!I||B===0){I&&S(!1);return}var W=w.current.x+F.pageX-w.current.x-w.current.delta,q=c==="rtl";W=Math.max(q?p-f:0,Math.min(q?0:f-p,W));var G=!q||Math.abs(W)+Math.abs(p)<f;G&&(s({scrollLeft:W/f*(d+2)}),w.current.x=F.pageX)},A=function(){nr.cancel(P.current),P.current=nr(function(){if(o.current){var F=eH(o.current).top,z=F+o.current.offsetHeight,j=l===window?document.documentElement.scrollTop+window.innerHeight:eH(l).top+l.clientHeight;z-E6()<=j||F>=j-a?_(function(B){return _e(_e({},B),{},{isHiddenScrollBar:!0})}):_(function(B){return _e(_e({},B),{},{isHiddenScrollBar:!1})})}})},$=function(F){_(function(z){return _e(_e({},z),{},{scrollLeft:F/d*f||0})})};return h.useImperativeHandle(n,function(){return{setScrollLeft:$,checkScrollBarVisible:A}}),h.useEffect(function(){var M=zV(document.body,"mouseup",R,!1),F=zV(document.body,"mousemove",N,!1);return A(),function(){M.remove(),F.remove()}},[p,I]),h.useEffect(function(){if(o.current){for(var M=[],F=FI(o.current);F;)M.push(F),F=F.parentElement;return M.forEach(function(z){return z.addEventListener("scroll",A,!1)}),window.addEventListener("resize",A,!1),window.addEventListener("scroll",A,!1),l.addEventListener("scroll",A,!1),function(){M.forEach(function(z){return z.removeEventListener("scroll",A)}),window.removeEventListener("resize",A),window.removeEventListener("scroll",A),l.removeEventListener("scroll",A)}}},[l]),h.useEffect(function(){x.isHiddenScrollBar||_(function(M){var F=o.current;return F?_e(_e({},M),{},{scrollLeft:F.scrollLeft/F.scrollWidth*F.clientWidth}):M})},[x.isHiddenScrollBar]),d<=f||!p||x.isHiddenScrollBar?null:h.createElement("div",{style:{height:E6(),width:f,bottom:a},className:"".concat(u,"-sticky-scroll")},h.createElement("div",{onMouseDown:O,ref:v,className:Oe("".concat(u,"-sticky-scroll-bar"),ve({},"".concat(u,"-sticky-scroll-bar-active"),I)),style:{width:"".concat(p,"px"),transform:"translate3d(".concat(x.scrollLeft,"px, 0, 0)")}}))};const l4e=h.forwardRef(a4e);var fee="rc-table",c4e=[],u4e={};function d4e(){return"No Data"}function f4e(t,e){var n=_e({rowKey:"key",prefixCls:fee,emptyText:d4e},t),r=n.prefixCls,i=n.className,o=n.rowClassName,s=n.style,a=n.data,l=n.rowKey,c=n.scroll,u=n.tableLayout,d=n.direction,f=n.title,p=n.footer,v=n.summary,y=n.caption,b=n.id,x=n.showHeader,_=n.components,w=n.emptyText,E=n.onRow,T=n.onHeaderRow,I=n.onScroll,S=n.internalHooks,P=n.transformColumns,R=n.internalRefs,O=n.tailor,N=n.getContainerWidth,A=n.sticky,$=n.rowHoverable,M=$===void 0?!0:$,F=a||c4e,z=!!F.length,j=S===S_,B=h.useCallback(function(sn,fn){return Js(_,sn)||fn},[_]),W=h.useMemo(function(){return typeof l=="function"?l:function(sn){var fn=sn&&sn[l];return fn}},[l]),q=B(["body"]),G=i4e(),X=Fe(G,3),ue=X[0],te=X[1],J=X[2],se=t4e(n,F,W),ge=Fe(se,6),le=ge[0],we=ge[1],ce=ge[2],be=ge[3],K=ge[4],oe=ge[5],V=c==null?void 0:c.x,ie=h.useState(0),re=Fe(ie,2),ee=re[0],Y=re[1],he=e4e(_e(_e(_e({},n),le),{},{expandable:!!le.expandedRowRender,columnTitle:le.columnTitle,expandedKeys:ce,getRowKey:W,onTriggerExpand:oe,expandIcon:be,expandIconColumnIndex:le.expandIconColumnIndex,direction:d,scrollWidth:j&&O&&typeof V=="number"?V:null,clientWidth:ee}),j?P:null),Ce=Fe(he,4),me=Ce[0],fe=Ce[1],ye=Ce[2],Te=Ce[3],ke=ye??V,je=h.useMemo(function(){return{columns:me,flattenColumns:fe}},[me,fe]),de=h.useRef(),Se=h.useRef(),Re=h.useRef(),Ve=h.useRef();h.useImperativeHandle(e,function(){return{nativeElement:de.current,scrollTo:function(fn){var Kr;if(Re.current instanceof HTMLElement){var Ri=fn.index,Yr=fn.top,fr=fn.key;if(xje(Yr)){var Fr;(Fr=Re.current)===null||Fr===void 0||Fr.scrollTo({top:Yr})}else{var Gi,Li=fr??W(F[Ri]);(Gi=Re.current.querySelector('[data-row-key="'.concat(Li,'"]')))===null||Gi===void 0||Gi.scrollIntoView()}}else(Kr=Re.current)!==null&&Kr!==void 0&&Kr.scrollTo&&Re.current.scrollTo(fn)}}});var De=h.useRef(),ze=h.useState(!1),$e=Fe(ze,2),Ke=$e[0],Ae=$e[1],Ue=h.useState(!1),rt=Fe(Ue,2),mt=rt[0],ot=rt[1],Bt=dee(new Map),Xt=Fe(Bt,2),Lt=Xt[0],en=Xt[1],on=RT(fe),xn=on.map(function(sn){return Lt.get(sn)}),qt=h.useMemo(function(){return xn},[xn.join("_")]),St=s4e(qt,fe,d),gt=c&&sD(c.y),lt=c&&sD(ke)||!!le.fixed,kt=lt&&fe.some(function(sn){var fn=sn.fixed;return fn}),Ie=h.useRef(),Ee=o4e(A,r),Pe=Ee.isSticky,Be=Ee.offsetHeader,Le=Ee.offsetSummary,Qe=Ee.offsetScroll,at=Ee.stickyClassName,Ze=Ee.container,Xe=h.useMemo(function(){return v==null?void 0:v(F)},[v,F]),et=(gt||Pe)&&h.isValidElement(Xe)&&Xe.type===kT&&Xe.props.fixed,st,bt,Tt;gt&&(bt={overflowY:z?"scroll":"auto",maxHeight:c.y}),lt&&(st={overflowX:"auto"},gt||(bt={overflowY:"hidden"}),Tt={width:ke===!0?"auto":ke,minWidth:"100%"});var tn=h.useCallback(function(sn,fn){oT(de.current)&&en(function(Kr){if(Kr.get(sn)!==fn){var Ri=new Map(Kr);return Ri.set(sn,fn),Ri}return Kr})},[]),Wt=r4e(),pt=Fe(Wt,2),Vt=pt[0],ht=pt[1];function Pt(sn,fn){fn&&(typeof fn=="function"?fn(sn):fn.scrollLeft!==sn&&(fn.scrollLeft=sn,fn.scrollLeft!==sn&&setTimeout(function(){fn.scrollLeft=sn},0)))}var Nt=Or(function(sn){var fn=sn.currentTarget,Kr=sn.scrollLeft,Ri=d==="rtl",Yr=typeof Kr=="number"?Kr:fn.scrollLeft,fr=fn||u4e;if(!ht()||ht()===fr){var Fr;Vt(fr),Pt(Yr,Se.current),Pt(Yr,Re.current),Pt(Yr,De.current),Pt(Yr,(Fr=Ie.current)===null||Fr===void 0?void 0:Fr.setScrollLeft)}var Gi=fn||Se.current;if(Gi){var Li=j&&O&&typeof ke=="number"?ke:Gi.scrollWidth,ts=Gi.clientWidth;if(Li===ts){Ae(!1),ot(!1);return}Ri?(Ae(-Yr<Li-ts),ot(-Yr>0)):(Ae(Yr>0),ot(Yr<Li-ts))}}),Zt=Or(function(sn){Nt(sn),I==null||I(sn)}),Rn=function(){if(lt&&Re.current){var fn;Nt({currentTarget:FI(Re.current),scrollLeft:(fn=Re.current)===null||fn===void 0?void 0:fn.scrollLeft})}else Ae(!1),ot(!1)},rr=function(fn){var Kr,Ri=fn.width;(Kr=Ie.current)===null||Kr===void 0||Kr.checkScrollBarVisible();var Yr=de.current?de.current.offsetWidth:Ri;j&&N&&de.current&&(Yr=N(de.current,Yr)||Yr),Yr!==ee&&(Rn(),Y(Yr))},$n=h.useRef(!1);h.useEffect(function(){$n.current&&Rn()},[lt,a,me.length]),h.useEffect(function(){$n.current=!0},[]);var Ir=h.useState(0),Ot=Fe(Ir,2),Ct=Ot[0],Ft=Ot[1],jn=h.useState(!0),dr=Fe(jn,2),Ut=dr[0],wn=dr[1];h.useEffect(function(){(!O||!j)&&(Re.current instanceof Element?Ft($O(Re.current).width):Ft($O(Ve.current).width)),wn(Cke("position","sticky"))},[]),h.useEffect(function(){j&&R&&(R.body.current=Re.current)});var zr=h.useCallback(function(sn){return h.createElement(h.Fragment,null,h.createElement(XV,sn),et==="top"&&h.createElement(cC,sn,Xe))},[et,Xe]),si=h.useCallback(function(sn){return h.createElement(cC,sn,Xe)},[Xe]),Pi=B(["table"],"table"),Jr=h.useMemo(function(){return u||(kt?ke==="max-content"?"auto":"fixed":gt||Pe||fe.some(function(sn){var fn=sn.ellipsis;return fn})?"fixed":"auto")},[gt,kt,fe,u,Pe]),mn,un={colWidths:qt,columCount:fe.length,stickyOffsets:St,onHeaderRow:T,fixHeader:gt,scroll:c},Dt=h.useMemo(function(){return z?null:typeof w=="function"?w():w},[z,w]),It=h.createElement(Fje,{data:F,measureColumnWidth:gt||lt||Pe}),hn=h.createElement(cee,{colWidths:fe.map(function(sn){var fn=sn.width;return fn}),columns:fe}),Dn=y!=null?h.createElement("caption",{className:"".concat(r,"-caption")},y):void 0,An=ms(n,{data:!0}),Nn=ms(n,{aria:!0});if(gt||Pe){var Gt;typeof q=="function"?(Gt=q(F,{scrollbarSize:Ct,ref:Re,onScroll:Nt}),un.colWidths=fe.map(function(sn,fn){var Kr=sn.width,Ri=fn===fe.length-1?Kr-Ct:Kr;return typeof Ri=="number"&&!Number.isNaN(Ri)?Ri:0})):Gt=h.createElement("div",{style:_e(_e({},st),bt),onScroll:Zt,ref:Re,className:Oe("".concat(r,"-body"))},h.createElement(Pi,Q({style:_e(_e({},Tt),{},{tableLayout:Jr})},Nn),Dn,hn,It,!et&&Xe&&h.createElement(cC,{stickyOffsets:St,flattenColumns:fe},Xe)));var ar=_e(_e(_e({noData:!F.length,maxContentScroll:lt&&ke==="max-content"},un),je),{},{direction:d,stickyClassName:at,onScroll:Nt});mn=h.createElement(h.Fragment,null,x!==!1&&h.createElement(YV,Q({},ar,{stickyTopOffset:Be,className:"".concat(r,"-header"),ref:Se}),zr),Gt,et&&et!=="top"&&h.createElement(YV,Q({},ar,{stickyBottomOffset:Le,className:"".concat(r,"-summary"),ref:De}),si),Pe&&Re.current&&Re.current instanceof Element&&h.createElement(l4e,{ref:Ie,offsetScroll:Qe,scrollBodyRef:Re,onScroll:Nt,container:Ze,direction:d}))}else mn=h.createElement("div",{style:_e(_e({},st),bt),className:Oe("".concat(r,"-content")),onScroll:Nt,ref:Re},h.createElement(Pi,Q({style:_e(_e({},Tt),{},{tableLayout:Jr})},Nn),Dn,hn,x!==!1&&h.createElement(XV,Q({},un,je)),It,Xe&&h.createElement(cC,{stickyOffsets:St,flattenColumns:fe},Xe)));var vr=h.createElement("div",Q({className:Oe(r,i,ve(ve(ve(ve(ve(ve(ve(ve(ve(ve({},"".concat(r,"-rtl"),d==="rtl"),"".concat(r,"-ping-left"),Ke),"".concat(r,"-ping-right"),mt),"".concat(r,"-layout-fixed"),u==="fixed"),"".concat(r,"-fixed-header"),gt),"".concat(r,"-fixed-column"),kt),"".concat(r,"-fixed-column-gapped"),kt&&Te),"".concat(r,"-scroll-horizontal"),lt),"".concat(r,"-has-fix-left"),fe[0]&&fe[0].fixed),"".concat(r,"-has-fix-right"),fe[fe.length-1]&&fe[fe.length-1].fixed==="right")),style:s,id:b,ref:de},An),f&&h.createElement(JV,{className:"".concat(r,"-title")},f(F)),h.createElement("div",{ref:Ve,className:"".concat(r,"-container")},mn),p&&h.createElement(JV,{className:"".concat(r,"-footer")},p(F)));lt&&(vr=h.createElement(Sl,{onResize:rr},vr));var yr=n4e(fe,St,d),vi=h.useMemo(function(){return{scrollX:ke,prefixCls:r,getComponent:B,scrollbarSize:Ct,direction:d,fixedInfoList:yr,isSticky:Pe,supportSticky:Ut,componentWidth:ee,fixHeader:gt,fixColumn:kt,horizonScroll:lt,tableLayout:Jr,rowClassName:o,expandedRowClassName:le.expandedRowClassName,expandIcon:be,expandableType:we,expandRowByClick:le.expandRowByClick,expandedRowRender:le.expandedRowRender,onTriggerExpand:oe,expandIconColumnIndex:le.expandIconColumnIndex,indentSize:le.indentSize,allColumnsFixedLeft:fe.every(function(sn){return sn.fixed==="left"}),emptyNode:Dt,columns:me,flattenColumns:fe,onColumnResize:tn,hoverStartRow:ue,hoverEndRow:te,onHover:J,rowExpandable:le.rowExpandable,onRow:E,getRowKey:W,expandedKeys:ce,childrenColumnName:K,rowHoverable:M}},[ke,r,B,Ct,d,yr,Pe,Ut,ee,gt,kt,lt,Jr,o,le.expandedRowClassName,be,we,le.expandRowByClick,le.expandedRowRender,oe,le.expandIconColumnIndex,le.indentSize,Dt,me,fe,tn,ue,te,J,le.rowExpandable,E,W,ce,K,M]);return h.createElement(bs.Provider,{value:vi},vr)}var h4e=h.forwardRef(f4e);function hee(t){return JJ(h4e,t)}var Lv=hee();Lv.EXPAND_COLUMN=Uc;Lv.INTERNAL_HOOKS=S_;Lv.Column=Mje;Lv.ColumnGroup=Oje;Lv.Summary=nee;var bL=mL(null),pee=mL(null);function p4e(t,e,n){var r=e||1;return n[t+r]-(n[t]||0)}function m4e(t){var e=t.rowInfo,n=t.column,r=t.colIndex,i=t.indent,o=t.index,s=t.component,a=t.renderIndex,l=t.record,c=t.style,u=t.className,d=t.inverse,f=t.getHeight,p=n.render,v=n.dataIndex,y=n.className,b=n.width,x=Fo(pee,["columnsOffset"]),_=x.columnsOffset,w=lee(e,n,r,i,o),E=w.key,T=w.fixedInfo,I=w.appendCellNode,S=w.additionalCellProps,P=S.style,R=S.colSpan,O=R===void 0?1:R,N=S.rowSpan,A=N===void 0?1:N,$=r-1,M=p4e($,O,_),F=O>1?b-M:0,z=_e(_e(_e({},P),c),{},{flex:"0 0 ".concat(M,"px"),width:"".concat(M,"px"),marginRight:F,pointerEvents:"auto"}),j=h.useMemo(function(){return d?A<=1:O===0||A===0||A>1},[A,O,d]);j?z.visibility="hidden":d&&(z.height=f==null?void 0:f(A));var B=j?function(){return null}:p,W={};return(A===0||O===0)&&(W.rowSpan=1,W.colSpan=1),h.createElement(Nv,Q({className:Oe(y,u),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:s,prefixCls:e.prefixCls,key:E,record:l,index:o,renderIndex:a,dataIndex:v,render:B,shouldCellUpdate:n.shouldCellUpdate},T,{appendNode:I,additionalProps:_e(_e({},S),{},{style:z},W)}))}var g4e=["data","index","className","rowKey","style","extra","getHeight"],v4e=h.forwardRef(function(t,e){var n=t.data,r=t.index,i=t.className,o=t.rowKey,s=t.style,a=t.extra,l=t.getHeight,c=bn(t,g4e),u=n.record,d=n.indent,f=n.index,p=Fo(bs,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),v=p.scrollX,y=p.flattenColumns,b=p.prefixCls,x=p.fixColumn,_=p.componentWidth,w=Fo(bL,["getComponent"]),E=w.getComponent,T=oee(u,o,r,d),I=E(["body","row"],"div"),S=E(["body","cell"],"div"),P=T.rowSupportExpand,R=T.expanded,O=T.rowProps,N=T.expandedRowRender,A=T.expandedRowClassName,$;if(P&&R){var M=N(u,r,d+1,R),F=aee(A,u,r,d),z={};x&&(z={style:ve({},"--virtual-width","".concat(_,"px"))});var j="".concat(b,"-expanded-row-cell");$=h.createElement(I,{className:Oe("".concat(b,"-expanded-row"),"".concat(b,"-expanded-row-level-").concat(d+1),F)},h.createElement(Nv,{component:S,prefixCls:b,className:Oe(j,ve({},"".concat(j,"-fixed"),x)),additionalProps:z},M))}var B=_e(_e({},s),{},{width:v});a&&(B.position="absolute",B.pointerEvents="none");var W=h.createElement(I,Q({},O,c,{"data-row-key":o,ref:P?null:e,className:Oe(i,"".concat(b,"-row"),O==null?void 0:O.className,ve({},"".concat(b,"-row-extra"),a)),style:_e(_e({},B),O==null?void 0:O.style)}),y.map(function(q,G){return h.createElement(m4e,{key:G,component:S,rowInfo:T,column:q,colIndex:G,indent:d,index:r,renderIndex:f,record:u,inverse:a,getHeight:l})}));return P?h.createElement("div",{ref:e},W,$):W}),tH=$v(v4e),y4e=h.forwardRef(function(t,e){var n=t.data,r=t.onScroll,i=Fo(bs,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),o=i.flattenColumns,s=i.onColumnResize,a=i.getRowKey,l=i.expandedKeys,c=i.prefixCls,u=i.childrenColumnName,d=i.scrollX,f=i.direction,p=Fo(bL),v=p.sticky,y=p.scrollY,b=p.listItemHeight,x=p.getComponent,_=p.onScroll,w=h.useRef(),E=iee(n,u,l,a),T=h.useMemo(function(){var $=0;return o.map(function(M){var F=M.width,z=M.key;return $+=F,[z,F,$]})},[o]),I=h.useMemo(function(){return T.map(function($){return $[2]})},[T]);h.useEffect(function(){T.forEach(function($){var M=Fe($,2),F=M[0],z=M[1];s(F,z)})},[T]),h.useImperativeHandle(e,function(){var $,M={scrollTo:function(z){var j;(j=w.current)===null||j===void 0||j.scrollTo(z)},nativeElement:($=w.current)===null||$===void 0?void 0:$.nativeElement};return Object.defineProperty(M,"scrollLeft",{get:function(){var z;return((z=w.current)===null||z===void 0?void 0:z.getScrollInfo().x)||0},set:function(z){var j;(j=w.current)===null||j===void 0||j.scrollTo({left:z})}}),M});var S=function(M,F){var z,j=(z=E[F])===null||z===void 0?void 0:z.record,B=M.onCell;if(B){var W,q=B(j,F);return(W=q==null?void 0:q.rowSpan)!==null&&W!==void 0?W:1}return 1},P=function(M){var F=M.start,z=M.end,j=M.getSize,B=M.offsetY;if(z<0)return null;for(var W=o.filter(function(be){return S(be,F)===0}),q=F,G=function(K){if(W=W.filter(function(oe){return S(oe,K)===0}),!W.length)return q=K,1},X=F;X>=0&&!G(X);X-=1);for(var ue=o.filter(function(be){return S(be,z)!==1}),te=z,J=function(K){if(ue=ue.filter(function(oe){return S(oe,K)!==1}),!ue.length)return te=Math.max(K-1,z),1},se=z;se<E.length&&!J(se);se+=1);for(var ge=[],le=function(K){var oe=E[K];if(!oe)return 1;o.some(function(V){return S(V,K)>1})&&ge.push(K)},we=q;we<=te;we+=1)le(we);var ce=ge.map(function(be){var K=E[be],oe=a(K.record,be),V=function(ee){var Y=be+ee-1,he=a(E[Y].record,Y),Ce=j(oe,he);return Ce.bottom-Ce.top},ie=j(oe);return h.createElement(tH,{key:be,data:K,rowKey:oe,index:be,style:{top:-B+ie.top},extra:!0,getHeight:V})});return ce},R=h.useMemo(function(){return{columnsOffset:I}},[I]),O="".concat(c,"-tbody"),N=x(["body","wrapper"]),A={};return v&&(A.position="sticky",A.bottom=0,zt(v)==="object"&&v.offsetScroll&&(A.bottom=v.offsetScroll)),h.createElement(pee.Provider,{value:R},h.createElement(_T,{fullHeight:!1,ref:w,prefixCls:"".concat(O,"-virtual"),styles:{horizontalScrollBar:A},className:O,height:y,itemHeight:b||24,data:E,itemKey:function(M){return a(M.record)},component:N,scrollWidth:d,direction:f,onVirtualScroll:function(M){var F,z=M.x;r({currentTarget:(F=w.current)===null||F===void 0?void 0:F.nativeElement,scrollLeft:z})},onScroll:_,extraRender:P},function($,M,F){var z=a($.record,M);return h.createElement(tH,{data:$,rowKey:z,index:M,style:F.style})}))}),b4e=$v(y4e),x4e=function(e,n){var r=n.ref,i=n.onScroll;return h.createElement(b4e,{ref:r,data:e,onScroll:i})};function _4e(t,e){var n=t.data,r=t.columns,i=t.scroll,o=t.sticky,s=t.prefixCls,a=s===void 0?fee:s,l=t.className,c=t.listItemHeight,u=t.components,d=t.onScroll,f=i||{},p=f.x,v=f.y;typeof p!="number"&&(p=1),typeof v!="number"&&(v=500);var y=Or(function(_,w){return Js(u,_)||w}),b=Or(d),x=h.useMemo(function(){return{sticky:o,scrollY:v,listItemHeight:c,getComponent:y,onScroll:b}},[o,v,c,y,b]);return h.createElement(bL.Provider,{value:x},h.createElement(Lv,Q({},t,{className:Oe(l,"".concat(a,"-virtual")),scroll:_e(_e({},i),{},{x:p}),components:_e(_e({},u),{},{body:n!=null&&n.length?x4e:void 0}),columns:r,internalHooks:S_,tailor:!0,ref:e})))}var w4e=h.forwardRef(_4e);function mee(t){return JJ(w4e,t)}mee();const C4e=t=>null,S4e=t=>null;var xL=h.createContext(null),E4e=h.createContext({}),I4e=function(e){for(var n=e.prefixCls,r=e.level,i=e.isStart,o=e.isEnd,s="".concat(n,"-indent-unit"),a=[],l=0;l<r;l+=1)a.push(h.createElement("span",{key:l,className:Oe(s,ve(ve({},"".concat(s,"-start"),i[l]),"".concat(s,"-end"),o[l]))}));return h.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},a)};const T4e=h.memo(I4e);var P4e=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],nH="open",rH="close",R4e="---",bx=function(e){var n,r,i,o=e.eventKey,s=e.className,a=e.style,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.isLeaf,f=e.isStart,p=e.isEnd,v=e.expanded,y=e.selected,b=e.checked,x=e.halfChecked,_=e.loading,w=e.domRef,E=e.active,T=e.data,I=e.onMouseMove,S=e.selectable,P=bn(e,P4e),R=ae.useContext(xL),O=ae.useContext(E4e),N=ae.useRef(null),A=ae.useState(!1),$=Fe(A,2),M=$[0],F=$[1],z=!!(R.disabled||e.disabled||(n=O.nodeDisabled)!==null&&n!==void 0&&n.call(O,T)),j=ae.useMemo(function(){return!R.checkable||e.checkable===!1?!1:R.checkable},[R.checkable,e.checkable]),B=function(ze){z||R.onNodeSelect(ze,Ji(e))},W=function(ze){z||!j||e.disableCheckbox||R.onNodeCheck(ze,Ji(e),!b)},q=ae.useMemo(function(){return typeof S=="boolean"?S:R.selectable},[S,R.selectable]),G=function(ze){R.onNodeClick(ze,Ji(e)),q?B(ze):W(ze)},X=function(ze){R.onNodeDoubleClick(ze,Ji(e))},ue=function(ze){R.onNodeMouseEnter(ze,Ji(e))},te=function(ze){R.onNodeMouseLeave(ze,Ji(e))},J=function(ze){R.onNodeContextMenu(ze,Ji(e))},se=ae.useMemo(function(){return!!(R.draggable&&(!R.draggable.nodeDraggable||R.draggable.nodeDraggable(T)))},[R.draggable,T]),ge=function(ze){ze.stopPropagation(),F(!0),R.onNodeDragStart(ze,e);try{ze.dataTransfer.setData("text/plain","")}catch{}},le=function(ze){ze.preventDefault(),ze.stopPropagation(),R.onNodeDragEnter(ze,e)},we=function(ze){ze.preventDefault(),ze.stopPropagation(),R.onNodeDragOver(ze,e)},ce=function(ze){ze.stopPropagation(),R.onNodeDragLeave(ze,e)},be=function(ze){ze.stopPropagation(),F(!1),R.onNodeDragEnd(ze,e)},K=function(ze){ze.preventDefault(),ze.stopPropagation(),F(!1),R.onNodeDrop(ze,e)},oe=function(ze){_||R.onNodeExpand(ze,Ji(e))},V=ae.useMemo(function(){var De=Rs(R.keyEntities,o)||{},ze=De.children;return!!(ze||[]).length},[R.keyEntities,o]),ie=ae.useMemo(function(){return d===!1?!1:d||!R.loadData&&!V||R.loadData&&e.loaded&&!V},[d,R.loadData,V,e.loaded]);ae.useEffect(function(){_||typeof R.loadData=="function"&&v&&!ie&&!e.loaded&&R.onNodeLoad(Ji(e))},[_,R.loadData,R.onNodeLoad,v,ie,e]);var re=ae.useMemo(function(){var De;return(De=R.draggable)!==null&&De!==void 0&&De.icon?ae.createElement("span",{className:"".concat(R.prefixCls,"-draggable-icon")},R.draggable.icon):null},[R.draggable]),ee=function(ze){var $e=e.switcherIcon||R.switcherIcon;return typeof $e=="function"?$e(_e(_e({},e),{},{isLeaf:ze})):$e},Y=function(){if(ie){var ze=ee(!0);return ze!==!1?ae.createElement("span",{className:Oe("".concat(R.prefixCls,"-switcher"),"".concat(R.prefixCls,"-switcher-noop"))},ze):null}var $e=ee(!1);return $e!==!1?ae.createElement("span",{onClick:oe,className:Oe("".concat(R.prefixCls,"-switcher"),"".concat(R.prefixCls,"-switcher_").concat(v?nH:rH))},$e):null},he=ae.useMemo(function(){if(!j)return null;var De=typeof j!="boolean"?j:null;return ae.createElement("span",{className:Oe("".concat(R.prefixCls,"-checkbox"),ve(ve(ve({},"".concat(R.prefixCls,"-checkbox-checked"),b),"".concat(R.prefixCls,"-checkbox-indeterminate"),!b&&x),"".concat(R.prefixCls,"-checkbox-disabled"),z||e.disableCheckbox)),onClick:W,role:"checkbox","aria-checked":x?"mixed":b,"aria-disabled":z||e.disableCheckbox,"aria-label":"Select ".concat(typeof e.title=="string"?e.title:"tree node")},De)},[j,b,x,z,e.disableCheckbox,e.title]),Ce=ae.useMemo(function(){return ie?null:v?nH:rH},[ie,v]),me=ae.useMemo(function(){return ae.createElement("span",{className:Oe("".concat(R.prefixCls,"-iconEle"),"".concat(R.prefixCls,"-icon__").concat(Ce||"docu"),ve({},"".concat(R.prefixCls,"-icon_loading"),_))})},[R.prefixCls,Ce,_]),fe=ae.useMemo(function(){var De=!!R.draggable,ze=!e.disabled&&De&&R.dragOverNodeKey===o;return ze?R.dropIndicatorRender({dropPosition:R.dropPosition,dropLevelOffset:R.dropLevelOffset,indent:R.indent,prefixCls:R.prefixCls,direction:R.direction}):null},[R.dropPosition,R.dropLevelOffset,R.indent,R.prefixCls,R.direction,R.draggable,R.dragOverNodeKey,R.dropIndicatorRender]),ye=ae.useMemo(function(){var De=e.title,ze=De===void 0?R4e:De,$e="".concat(R.prefixCls,"-node-content-wrapper"),Ke;if(R.showIcon){var Ae=e.icon||R.icon;Ke=Ae?ae.createElement("span",{className:Oe("".concat(R.prefixCls,"-iconEle"),"".concat(R.prefixCls,"-icon__customize"))},typeof Ae=="function"?Ae(e):Ae):me}else R.loadData&&_&&(Ke=me);var Ue;return typeof ze=="function"?Ue=ze(T):R.titleRender?Ue=R.titleRender(T):Ue=ze,ae.createElement("span",{ref:N,title:typeof ze=="string"?ze:"",className:Oe($e,"".concat($e,"-").concat(Ce||"normal"),ve({},"".concat(R.prefixCls,"-node-selected"),!z&&(y||M))),onMouseEnter:ue,onMouseLeave:te,onContextMenu:J,onClick:G,onDoubleClick:X},Ke,ae.createElement("span",{className:"".concat(R.prefixCls,"-title")},Ue),fe)},[R.prefixCls,R.showIcon,e,R.icon,me,R.titleRender,T,Ce,ue,te,J,G,X]),Te=ms(P,{aria:!0,data:!0}),ke=Rs(R.keyEntities,o)||{},je=ke.level,de=p[p.length-1],Se=!z&&se,Re=R.draggingNodeKey===o,Ve=S!==void 0?{"aria-selected":!!S}:void 0;return ae.createElement("div",Q({ref:w,role:"treeitem","aria-expanded":d?void 0:v,className:Oe(s,"".concat(R.prefixCls,"-treenode"),(i={},ve(ve(ve(ve(ve(ve(ve(ve(ve(ve(i,"".concat(R.prefixCls,"-treenode-disabled"),z),"".concat(R.prefixCls,"-treenode-switcher-").concat(v?"open":"close"),!d),"".concat(R.prefixCls,"-treenode-checkbox-checked"),b),"".concat(R.prefixCls,"-treenode-checkbox-indeterminate"),x),"".concat(R.prefixCls,"-treenode-selected"),y),"".concat(R.prefixCls,"-treenode-loading"),_),"".concat(R.prefixCls,"-treenode-active"),E),"".concat(R.prefixCls,"-treenode-leaf-last"),de),"".concat(R.prefixCls,"-treenode-draggable"),se),"dragging",Re),ve(ve(ve(ve(ve(ve(ve(i,"drop-target",R.dropTargetKey===o),"drop-container",R.dropContainerKey===o),"drag-over",!z&&l),"drag-over-gap-top",!z&&c),"drag-over-gap-bottom",!z&&u),"filter-node",(r=R.filterTreeNode)===null||r===void 0?void 0:r.call(R,Ji(e))),"".concat(R.prefixCls,"-treenode-leaf"),ie))),style:a,draggable:Se,onDragStart:Se?ge:void 0,onDragEnter:se?le:void 0,onDragOver:se?we:void 0,onDragLeave:se?ce:void 0,onDrop:se?K:void 0,onDragEnd:se?be:void 0,onMouseMove:I},Ve,Te),ae.createElement(T4e,{prefixCls:R.prefixCls,level:je,isStart:f,isEnd:p}),re,Y(),he,ye)};bx.isTreeNode=1;function Ll(t,e){if(!t)return[];var n=t.slice(),r=n.indexOf(e);return r>=0&&n.splice(r,1),n}function Hc(t,e){var n=(t||[]).slice();return n.indexOf(e)===-1&&n.push(e),n}function _L(t){return t.split("-")}function k4e(t,e){var n=[],r=Rs(e,t);function i(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(s){var a=s.key,l=s.children;n.push(a),i(l)})}return i(r.children),n}function M4e(t){if(t.parent){var e=_L(t.pos);return Number(e[e.length-1])===t.parent.children.length-1}return!1}function O4e(t){var e=_L(t.pos);return Number(e[e.length-1])===0}function iH(t,e,n,r,i,o,s,a,l,c){var u,d=t.clientX,f=t.clientY,p=t.target.getBoundingClientRect(),v=p.top,y=p.height,b=(c==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-d),x=(b-12)/r,_=l.filter(function(z){var j;return(j=a[z])===null||j===void 0||(j=j.children)===null||j===void 0?void 0:j.length}),w=Rs(a,n.eventKey);if(f<v+y/2){var E=s.findIndex(function(z){return z.key===w.key}),T=E<=0?0:E-1,I=s[T].key;w=Rs(a,I)}var S=w.key,P=w,R=w.key,O=0,N=0;if(!_.includes(S))for(var A=0;A<x&&M4e(w);A+=1)w=w.parent,N+=1;var $=e.data,M=w.node,F=!0;return O4e(w)&&w.level===0&&f<v+y/2&&o({dragNode:$,dropNode:M,dropPosition:-1})&&w.key===n.eventKey?O=-1:(P.children||[]).length&&_.includes(R)?o({dragNode:$,dropNode:M,dropPosition:0})?O=0:F=!1:N===0?x>-1.5?o({dragNode:$,dropNode:M,dropPosition:1})?O=1:F=!1:o({dragNode:$,dropNode:M,dropPosition:0})?O=0:o({dragNode:$,dropNode:M,dropPosition:1})?O=1:F=!1:o({dragNode:$,dropNode:M,dropPosition:1})?O=1:F=!1,{dropPosition:O,dropLevelOffset:N,dropTargetKey:w.key,dropTargetPos:w.pos,dragOverNodeKey:R,dropContainerKey:O===0?null:((u=w.parent)===null||u===void 0?void 0:u.key)||null,dropAllowed:F}}function oH(t,e){if(t){var n=e.multiple;return n?t.slice():t.length?[t[0]]:t}}function AR(t){if(!t)return null;var e;if(Array.isArray(t))e={checkedKeys:t,halfCheckedKeys:void 0};else if(zt(t)==="object")e={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return pi(!1,"`checkedKeys` is not an array or an object"),null;return e}function lD(t,e){var n=new Set;function r(i){if(!n.has(i)){var o=Rs(e,i);if(o){n.add(i);var s=o.parent,a=o.node;a.disabled||s&&r(s.key)}}}return(t||[]).forEach(function(i){r(i)}),it(n)}function D4e(t){const[e,n]=h.useState(null);return[h.useCallback((o,s,a)=>{const l=e??o,c=Math.min(l||0,o),u=Math.max(l||0,o),d=s.slice(c,u+1).map(v=>t(v)),f=d.some(v=>!a.has(v)),p=[];return d.forEach(v=>{f?(a.has(v)||p.push(v),a.add(v)):(a.delete(v),p.push(v))}),n(f?u:null),p},[e]),o=>{n(o)}]}const nd={},cD="SELECT_ALL",uD="SELECT_INVERT",dD="SELECT_NONE",sH=[],gee=(t,e)=>{let n=[];return(e||[]).forEach(r=>{n.push(r),r&&typeof r=="object"&&t in r&&(n=[].concat(it(n),it(gee(t,r[t]))))}),n},A4e=(t,e)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:r,defaultSelectedRowKeys:i,getCheckboxProps:o,onChange:s,onSelect:a,onSelectAll:l,onSelectInvert:c,onSelectNone:u,onSelectMultiple:d,columnWidth:f,type:p,selections:v,fixed:y,renderCell:b,hideSelectAll:x,checkStrictly:_=!0}=e||{},{prefixCls:w,data:E,pageData:T,getRecordByKey:I,getRowKey:S,expandType:P,childrenColumnName:R,locale:O,getPopupContainer:N}=t,A=bp(),[$,M]=D4e(be=>be),[F,z]=so(r||i||sH,{value:r}),j=h.useRef(new Map),B=h.useCallback(be=>{if(n){const K=new Map;be.forEach(oe=>{let V=I(oe);!V&&j.current.has(oe)&&(V=j.current.get(oe)),K.set(oe,V)}),j.current=K}},[I,n]);h.useEffect(()=>{B(F)},[F]);const W=h.useMemo(()=>gee(R,T),[R,T]),{keyEntities:q}=h.useMemo(()=>{if(_)return{keyEntities:null};let be=E;if(n){const K=new Set(W.map((V,ie)=>S(V,ie))),oe=Array.from(j.current).reduce((V,ie)=>{let[re,ee]=ie;return K.has(re)?V:V.concat(ee)},[]);be=[].concat(it(be),it(oe))}return hL(be,{externalGetKey:S,childrenPropName:R})},[E,S,_,R,n,W]),G=h.useMemo(()=>{const be=new Map;return W.forEach((K,oe)=>{const V=S(K,oe),ie=(o?o(K):null)||{};be.set(V,ie)}),be},[W,S,o]),X=h.useCallback(be=>{const K=S(be);let oe;return G.has(K)?oe=G.get(S(be)):oe=o?o(be):void 0,!!(oe!=null&&oe.disabled)},[G,S]),[ue,te]=h.useMemo(()=>{if(_)return[F||[],[]];const{checkedKeys:be,halfCheckedKeys:K}=mg(F,!0,q,X);return[be||[],K]},[F,_,q,X]),J=h.useMemo(()=>{const be=p==="radio"?ue.slice(0,1):ue;return new Set(be)},[ue,p]),se=h.useMemo(()=>p==="radio"?new Set:new Set(te),[te,p]);h.useEffect(()=>{e||z(sH)},[!!e]);const ge=h.useCallback((be,K)=>{let oe,V;B(be),n?(oe=be,V=be.map(ie=>j.current.get(ie))):(oe=[],V=[],be.forEach(ie=>{const re=I(ie);re!==void 0&&(oe.push(ie),V.push(re))})),z(oe),s==null||s(oe,V,{type:K})},[z,I,s,n]),le=h.useCallback((be,K,oe,V)=>{if(a){const ie=oe.map(re=>I(re));a(I(be),K,ie,V)}ge(oe,"single")},[a,I,ge]),we=h.useMemo(()=>!v||x?null:(v===!0?[cD,uD,dD]:v).map(K=>K===cD?{key:"all",text:O.selectionAll,onSelect(){ge(E.map((oe,V)=>S(oe,V)).filter(oe=>{const V=G.get(oe);return!(V!=null&&V.disabled)||J.has(oe)}),"all")}}:K===uD?{key:"invert",text:O.selectInvert,onSelect(){const oe=new Set(J);T.forEach((ie,re)=>{const ee=S(ie,re),Y=G.get(ee);Y!=null&&Y.disabled||(oe.has(ee)?oe.delete(ee):oe.add(ee))});const V=Array.from(oe);c&&(A.deprecated(!1,"onSelectInvert","onChange"),c(V)),ge(V,"invert")}}:K===dD?{key:"none",text:O.selectNone,onSelect(){u==null||u(),ge(Array.from(J).filter(oe=>{const V=G.get(oe);return V==null?void 0:V.disabled}),"none")}}:K).map(K=>Object.assign(Object.assign({},K),{onSelect:function(){for(var oe,V,ie=arguments.length,re=new Array(ie),ee=0;ee<ie;ee++)re[ee]=arguments[ee];(V=K.onSelect)===null||V===void 0||(oe=V).call.apply(oe,[K].concat(re)),M(null)}})),[v,J,T,S,c,ge]);return[h.useCallback(be=>{var K;if(!e)return be.filter(Ve=>Ve!==nd);let oe=it(be);const V=new Set(J),ie=W.map(S).filter(Ve=>!G.get(Ve).disabled),re=ie.every(Ve=>V.has(Ve)),ee=ie.some(Ve=>V.has(Ve)),Y=()=>{const Ve=[];re?ie.forEach(ze=>{V.delete(ze),Ve.push(ze)}):ie.forEach(ze=>{V.has(ze)||(V.add(ze),Ve.push(ze))});const De=Array.from(V);l==null||l(!re,De.map(ze=>I(ze)),Ve.map(ze=>I(ze))),ge(De,"all"),M(null)};let he,Ce;if(p!=="radio"){let Ve;if(we){const Ae={getPopupContainer:N,items:we.map((Ue,rt)=>{const{key:mt,text:ot,onSelect:Bt}=Ue;return{key:mt??rt,onClick:()=>{Bt==null||Bt(ie)},label:ot}})};Ve=h.createElement("div",{className:`${w}-selection-extra`},h.createElement(pL,{menu:Ae,getPopupContainer:N},h.createElement("span",null,h.createElement(HQ,null))))}const De=W.map((Ae,Ue)=>{const rt=S(Ae,Ue),mt=G.get(rt)||{};return Object.assign({checked:V.has(rt)},mt)}).filter(Ae=>{let{disabled:Ue}=Ae;return Ue}),ze=!!De.length&&De.length===W.length,$e=ze&&De.every(Ae=>{let{checked:Ue}=Ae;return Ue}),Ke=ze&&De.some(Ae=>{let{checked:Ue}=Ae;return Ue});Ce=h.createElement(sf,{checked:ze?$e:!!W.length&&re,indeterminate:ze?!$e&&Ke:!re&&ee,onChange:Y,disabled:W.length===0||ze,"aria-label":Ve?"Custom selection":"Select all",skipGroup:!0}),he=!x&&h.createElement("div",{className:`${w}-selection`},Ce,Ve)}let me;p==="radio"?me=(Ve,De,ze)=>{const $e=S(De,ze),Ke=V.has($e),Ae=G.get($e);return{node:h.createElement(b_,Object.assign({},Ae,{checked:Ke,onClick:Ue=>{var rt;Ue.stopPropagation(),(rt=Ae==null?void 0:Ae.onClick)===null||rt===void 0||rt.call(Ae,Ue)},onChange:Ue=>{var rt;V.has($e)||le($e,!0,[$e],Ue.nativeEvent),(rt=Ae==null?void 0:Ae.onChange)===null||rt===void 0||rt.call(Ae,Ue)}})),checked:Ke}}:me=(Ve,De,ze)=>{var $e;const Ke=S(De,ze),Ae=V.has(Ke),Ue=se.has(Ke),rt=G.get(Ke);let mt;return P==="nest"?mt=Ue:mt=($e=rt==null?void 0:rt.indeterminate)!==null&&$e!==void 0?$e:Ue,{node:h.createElement(sf,Object.assign({},rt,{indeterminate:mt,checked:Ae,skipGroup:!0,onClick:ot=>{var Bt;ot.stopPropagation(),(Bt=rt==null?void 0:rt.onClick)===null||Bt===void 0||Bt.call(rt,ot)},onChange:ot=>{var Bt;const{nativeEvent:Xt}=ot,{shiftKey:Lt}=Xt,en=ie.findIndex(xn=>xn===Ke),on=ue.some(xn=>ie.includes(xn));if(Lt&&_&&on){const xn=$(en,ie,V),qt=Array.from(V);d==null||d(!Ae,qt.map(St=>I(St)),xn.map(St=>I(St))),ge(qt,"multiple")}else{const xn=ue;if(_){const qt=Ae?Ll(xn,Ke):Hc(xn,Ke);le(Ke,!Ae,qt,Xt)}else{const qt=mg([].concat(it(xn),[Ke]),!0,q,X),{checkedKeys:St,halfCheckedKeys:gt}=qt;let lt=St;if(Ae){const kt=new Set(St);kt.delete(Ke),lt=mg(Array.from(kt),{halfCheckedKeys:gt},q,X).checkedKeys}le(Ke,!Ae,lt,Xt)}}M(Ae?null:en),(Bt=rt==null?void 0:rt.onChange)===null||Bt===void 0||Bt.call(rt,ot)}})),checked:Ae}};const fe=(Ve,De,ze)=>{const{node:$e,checked:Ke}=me(Ve,De,ze);return b?b(Ke,De,ze,$e):$e};if(!oe.includes(nd))if(oe.findIndex(Ve=>{var De;return((De=Ve[Q0])===null||De===void 0?void 0:De.columnType)==="EXPAND_COLUMN"})===0){const[Ve,...De]=oe;oe=[Ve,nd].concat(it(De))}else oe=[nd].concat(it(oe));const ye=oe.indexOf(nd);oe=oe.filter((Ve,De)=>Ve!==nd||De===ye);const Te=oe[ye-1],ke=oe[ye+1];let je=y;je===void 0&&((ke==null?void 0:ke.fixed)!==void 0?je=ke.fixed:(Te==null?void 0:Te.fixed)!==void 0&&(je=Te.fixed)),je&&Te&&((K=Te[Q0])===null||K===void 0?void 0:K.columnType)==="EXPAND_COLUMN"&&Te.fixed===void 0&&(Te.fixed=je);const de=Oe(`${w}-selection-col`,{[`${w}-selection-col-with-dropdown`]:v&&p==="checkbox"}),Se=()=>e!=null&&e.columnTitle?typeof e.columnTitle=="function"?e.columnTitle(Ce):e.columnTitle:he,Re={fixed:je,width:f,className:`${w}-selection-column`,title:Se(),render:fe,onCell:e.onCell,[Q0]:{className:de}};return oe.map(Ve=>Ve===nd?Re:Ve)},[S,W,e,ue,J,se,f,we,P,G,d,le,X]),J]};function $4e(t,e){return t._antProxy=t._antProxy||{},Object.keys(e).forEach(n=>{if(!(n in t._antProxy)){const r=t[n];t._antProxy[n]=r,t[n]=e[n]}}),t}function N4e(t,e){return h.useImperativeHandle(t,()=>{const n=e(),{nativeElement:r}=n;return typeof Proxy<"u"?new Proxy(r,{get(i,o){return n[o]?n[o]:Reflect.get(i,o)}}):$4e(r,n)})}function L4e(t){return e=>{const{prefixCls:n,onExpand:r,record:i,expanded:o,expandable:s}=e,a=`${n}-row-expand-icon`;return h.createElement("button",{type:"button",onClick:l=>{r(i,l),l.stopPropagation()},className:Oe(a,{[`${a}-spaced`]:!s,[`${a}-expanded`]:s&&o,[`${a}-collapsed`]:s&&!o}),"aria-label":o?t.collapse:t.expand,"aria-expanded":o})}}function j4e(t){return(n,r)=>{const i=n.querySelector(`.${t}-container`);let o=r;if(i){const s=getComputedStyle(i),a=parseInt(s.borderLeftWidth,10),l=parseInt(s.borderRightWidth,10);o=r-a-l}return o}}const af=(t,e)=>"key"in t&&t.key!==void 0&&t.key!==null?t.key:t.dataIndex?Array.isArray(t.dataIndex)?t.dataIndex.join("."):t.dataIndex:e;function jv(t,e){return e?`${e}-${t}`:`${t}`}const MT=(t,e)=>typeof t=="function"?t(e):t,z4e=(t,e)=>{const n=MT(t,e);return Object.prototype.toString.call(n)==="[object Object]"?"":n};function F4e(t){const e=h.useRef(t),n=UQ();return[()=>e.current,r=>{e.current=r,n()}]}var B4e=function(e){var n=e.dropPosition,r=e.dropLevelOffset,i=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:o.top=0,o.left=-r*i;break;case 1:o.bottom=0,o.left=-r*i;break;case 0:o.bottom=0,o.left=i;break}return ae.createElement("div",{style:o})};function vee(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function V4e(t,e){var n=h.useState(!1),r=Fe(n,2),i=r[0],o=r[1];gr(function(){if(i)return t(),function(){e()}},[i]),gr(function(){return o(!0),function(){o(!1)}},[])}var H4e=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],W4e=h.forwardRef(function(t,e){var n=t.className,r=t.style,i=t.motion,o=t.motionNodes,s=t.motionType,a=t.onMotionStart,l=t.onMotionEnd,c=t.active,u=t.treeNodeRequiredProps,d=bn(t,H4e),f=h.useState(!0),p=Fe(f,2),v=p[0],y=p[1],b=h.useContext(xL),x=b.prefixCls,_=o&&s!=="hide";gr(function(){o&&_!==v&&y(_)},[o]);var w=function(){o&&a()},E=h.useRef(!1),T=function(){o&&!E.current&&(E.current=!0,l())};V4e(w,T);var I=function(P){_===P&&T()};return o?h.createElement(Au,Q({ref:e,visible:v},i,{motionAppear:s==="show",onVisibleChanged:I}),function(S,P){var R=S.className,O=S.style;return h.createElement("div",{ref:P,className:Oe("".concat(x,"-treenode-motion"),R),style:O},o.map(function(N){var A=Object.assign({},(vee(N.data),N.data)),$=N.title,M=N.key,F=N.isStart,z=N.isEnd;delete A.children;var j=Z0(M,u);return h.createElement(bx,Q({},A,j,{title:$,active:c,data:N.data,key:M,isStart:F,isEnd:z}))}))}):h.createElement(bx,Q({domRef:e,className:n,style:r},d,{active:c}))});function U4e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.length,r=e.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function i(o,s){var a=new Map;o.forEach(function(c){a.set(c,!0)});var l=s.filter(function(c){return!a.has(c)});return l.length===1?l[0]:null}return n<r?{add:!0,key:i(t,e)}:{add:!1,key:i(e,t)}}function aH(t,e,n){var r=t.findIndex(function(a){return a.key===n}),i=t[r+1],o=e.findIndex(function(a){return a.key===n});if(i){var s=e.findIndex(function(a){return a.key===i.key});return e.slice(o+1,s)}return e.slice(o+1)}var K4e=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],lH={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},q4e=function(){},ep="RC_TREE_MOTION_".concat(Math.random()),fD={key:ep},yee={key:ep,level:0,index:0,pos:"0",node:fD,nodes:[fD]},cH={parent:null,children:[],pos:yee.pos,data:fD,title:null,key:ep,isStart:[],isEnd:[]};function uH(t,e,n,r){return e===!1||!n?t:t.slice(0,Math.ceil(n/r)+1)}function dH(t){var e=t.key,n=t.pos;return w_(e,n)}function G4e(t){for(var e=String(t.data.key),n=t;n.parent;)n=n.parent,e="".concat(n.data.key," > ").concat(e);return e}var Y4e=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.data;t.selectable,t.checkable;var i=t.expandedKeys,o=t.selectedKeys,s=t.checkedKeys,a=t.loadedKeys,l=t.loadingKeys,c=t.halfCheckedKeys,u=t.keyEntities,d=t.disabled,f=t.dragging,p=t.dragOverNodeKey,v=t.dropPosition,y=t.motion,b=t.height,x=t.itemHeight,_=t.virtual,w=t.scrollWidth,E=t.focusable,T=t.activeItem,I=t.focused,S=t.tabIndex,P=t.onKeyDown,R=t.onFocus,O=t.onBlur,N=t.onActiveChange,A=t.onListChangeStart,$=t.onListChangeEnd,M=bn(t,K4e),F=h.useRef(null),z=h.useRef(null);h.useImperativeHandle(e,function(){return{scrollTo:function(fe){F.current.scrollTo(fe)},getIndentWidth:function(){return z.current.offsetWidth}}});var j=h.useState(i),B=Fe(j,2),W=B[0],q=B[1],G=h.useState(r),X=Fe(G,2),ue=X[0],te=X[1],J=h.useState(r),se=Fe(J,2),ge=se[0],le=se[1],we=h.useState([]),ce=Fe(we,2),be=ce[0],K=ce[1],oe=h.useState(null),V=Fe(oe,2),ie=V[0],re=V[1],ee=h.useRef(r);ee.current=r;function Y(){var me=ee.current;te(me),le(me),K([]),re(null),$()}gr(function(){q(i);var me=U4e(W,i);if(me.key!==null)if(me.add){var fe=ue.findIndex(function(Se){var Re=Se.key;return Re===me.key}),ye=uH(aH(ue,r,me.key),_,b,x),Te=ue.slice();Te.splice(fe+1,0,cH),le(Te),K(ye),re("show")}else{var ke=r.findIndex(function(Se){var Re=Se.key;return Re===me.key}),je=uH(aH(r,ue,me.key),_,b,x),de=r.slice();de.splice(ke+1,0,cH),le(de),K(je),re("hide")}else ue!==r&&(te(r),le(r))},[i,r]),h.useEffect(function(){f||Y()},[f]);var he=y?ge:r,Ce={expandedKeys:i,selectedKeys:o,loadedKeys:a,loadingKeys:l,checkedKeys:s,halfCheckedKeys:c,dragOverNodeKey:p,dropPosition:v,keyEntities:u};return h.createElement(h.Fragment,null,I&&T&&h.createElement("span",{style:lH,"aria-live":"assertive"},G4e(T)),h.createElement("div",null,h.createElement("input",{style:lH,disabled:E===!1||d,tabIndex:E!==!1?S:null,onKeyDown:P,onFocus:R,onBlur:O,value:"",onChange:q4e,"aria-label":"for screen reader"})),h.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},h.createElement("div",{className:"".concat(n,"-indent")},h.createElement("div",{ref:z,className:"".concat(n,"-indent-unit")}))),h.createElement(_T,Q({},M,{data:he,itemKey:dH,height:b,fullHeight:!1,virtual:_,itemHeight:x,scrollWidth:w,prefixCls:"".concat(n,"-list"),ref:F,role:"tree",onVisibleChange:function(fe){fe.every(function(ye){return dH(ye)!==ep})&&Y()}}),function(me){var fe=me.pos,ye=Object.assign({},(vee(me.data),me.data)),Te=me.title,ke=me.key,je=me.isStart,de=me.isEnd,Se=w_(ke,fe);delete ye.key,delete ye.children;var Re=Z0(Se,Ce);return h.createElement(W4e,Q({},ye,Re,{title:Te,active:!!T&&ke===T.key,pos:fe,data:me.data,isStart:je,isEnd:de,motion:y,motionNodes:ke===ep?be:null,motionType:ie,onMotionStart:A,onMotionEnd:Y,treeNodeRequiredProps:Ce,onMouseMove:function(){N(null)}}))}))}),X4e=10,wL=function(t){kc(n,t);var e=Mc(n);function n(){var r;Wi(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ve(Mt(r),"destroyed",!1),ve(Mt(r),"delayedDragEnterLogic",void 0),ve(Mt(r),"loadingRetryTimes",{}),ve(Mt(r),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:tv()}),ve(Mt(r),"dragStartMousePosition",null),ve(Mt(r),"dragNodeProps",null),ve(Mt(r),"currentMouseOverDroppableNodeKey",null),ve(Mt(r),"listRef",h.createRef()),ve(Mt(r),"onNodeDragStart",function(a,l){var c=r.state,u=c.expandedKeys,d=c.keyEntities,f=r.props.onDragStart,p=l.eventKey;r.dragNodeProps=l,r.dragStartMousePosition={x:a.clientX,y:a.clientY};var v=Ll(u,p);r.setState({draggingNodeKey:p,dragChildrenKeys:k4e(p,d),indent:r.listRef.current.getIndentWidth()}),r.setExpandedKeys(v),window.addEventListener("dragend",r.onWindowDragEnd),f==null||f({event:a,node:Ji(l)})}),ve(Mt(r),"onNodeDragEnter",function(a,l){var c=r.state,u=c.expandedKeys,d=c.keyEntities,f=c.dragChildrenKeys,p=c.flattenNodes,v=c.indent,y=r.props,b=y.onDragEnter,x=y.onExpand,_=y.allowDrop,w=y.direction,E=l.pos,T=l.eventKey;if(r.currentMouseOverDroppableNodeKey!==T&&(r.currentMouseOverDroppableNodeKey=T),!r.dragNodeProps){r.resetDragState();return}var I=iH(a,r.dragNodeProps,l,v,r.dragStartMousePosition,_,p,d,u,w),S=I.dropPosition,P=I.dropLevelOffset,R=I.dropTargetKey,O=I.dropContainerKey,N=I.dropTargetPos,A=I.dropAllowed,$=I.dragOverNodeKey;if(f.includes(R)||!A){r.resetDragState();return}if(r.delayedDragEnterLogic||(r.delayedDragEnterLogic={}),Object.keys(r.delayedDragEnterLogic).forEach(function(M){clearTimeout(r.delayedDragEnterLogic[M])}),r.dragNodeProps.eventKey!==l.eventKey&&(a.persist(),r.delayedDragEnterLogic[E]=window.setTimeout(function(){if(r.state.draggingNodeKey!==null){var M=it(u),F=Rs(d,l.eventKey);F&&(F.children||[]).length&&(M=Hc(u,l.eventKey)),r.props.hasOwnProperty("expandedKeys")||r.setExpandedKeys(M),x==null||x(M,{node:Ji(l),expanded:!0,nativeEvent:a.nativeEvent})}},800)),r.dragNodeProps.eventKey===R&&P===0){r.resetDragState();return}r.setState({dragOverNodeKey:$,dropPosition:S,dropLevelOffset:P,dropTargetKey:R,dropContainerKey:O,dropTargetPos:N,dropAllowed:A}),b==null||b({event:a,node:Ji(l),expandedKeys:u})}),ve(Mt(r),"onNodeDragOver",function(a,l){var c=r.state,u=c.dragChildrenKeys,d=c.flattenNodes,f=c.keyEntities,p=c.expandedKeys,v=c.indent,y=r.props,b=y.onDragOver,x=y.allowDrop,_=y.direction;if(r.dragNodeProps){var w=iH(a,r.dragNodeProps,l,v,r.dragStartMousePosition,x,d,f,p,_),E=w.dropPosition,T=w.dropLevelOffset,I=w.dropTargetKey,S=w.dropContainerKey,P=w.dropTargetPos,R=w.dropAllowed,O=w.dragOverNodeKey;u.includes(I)||!R||(r.dragNodeProps.eventKey===I&&T===0?r.state.dropPosition===null&&r.state.dropLevelOffset===null&&r.state.dropTargetKey===null&&r.state.dropContainerKey===null&&r.state.dropTargetPos===null&&r.state.dropAllowed===!1&&r.state.dragOverNodeKey===null||r.resetDragState():E===r.state.dropPosition&&T===r.state.dropLevelOffset&&I===r.state.dropTargetKey&&S===r.state.dropContainerKey&&P===r.state.dropTargetPos&&R===r.state.dropAllowed&&O===r.state.dragOverNodeKey||r.setState({dropPosition:E,dropLevelOffset:T,dropTargetKey:I,dropContainerKey:S,dropTargetPos:P,dropAllowed:R,dragOverNodeKey:O}),b==null||b({event:a,node:Ji(l)}))}}),ve(Mt(r),"onNodeDragLeave",function(a,l){r.currentMouseOverDroppableNodeKey===l.eventKey&&!a.currentTarget.contains(a.relatedTarget)&&(r.resetDragState(),r.currentMouseOverDroppableNodeKey=null);var c=r.props.onDragLeave;c==null||c({event:a,node:Ji(l)})}),ve(Mt(r),"onWindowDragEnd",function(a){r.onNodeDragEnd(a,null,!0),window.removeEventListener("dragend",r.onWindowDragEnd)}),ve(Mt(r),"onNodeDragEnd",function(a,l){var c=r.props.onDragEnd;r.setState({dragOverNodeKey:null}),r.cleanDragState(),c==null||c({event:a,node:Ji(l)}),r.dragNodeProps=null,window.removeEventListener("dragend",r.onWindowDragEnd)}),ve(Mt(r),"onNodeDrop",function(a,l){var c,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=r.state,f=d.dragChildrenKeys,p=d.dropPosition,v=d.dropTargetKey,y=d.dropTargetPos,b=d.dropAllowed;if(b){var x=r.props.onDrop;if(r.setState({dragOverNodeKey:null}),r.cleanDragState(),v!==null){var _=_e(_e({},Z0(v,r.getTreeNodeRequiredProps())),{},{active:((c=r.getActiveItem())===null||c===void 0?void 0:c.key)===v,data:Rs(r.state.keyEntities,v).node}),w=f.includes(v);pi(!w,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var E=_L(y),T={event:a,node:Ji(_),dragNode:r.dragNodeProps?Ji(r.dragNodeProps):null,dragNodesKeys:[r.dragNodeProps.eventKey].concat(f),dropToGap:p!==0,dropPosition:p+Number(E[E.length-1])};u||x==null||x(T),r.dragNodeProps=null}}}),ve(Mt(r),"cleanDragState",function(){var a=r.state.draggingNodeKey;a!==null&&r.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),r.dragStartMousePosition=null,r.currentMouseOverDroppableNodeKey=null}),ve(Mt(r),"triggerExpandActionExpand",function(a,l){var c=r.state,u=c.expandedKeys,d=c.flattenNodes,f=l.expanded,p=l.key,v=l.isLeaf;if(!(v||a.shiftKey||a.metaKey||a.ctrlKey)){var y=d.filter(function(x){return x.key===p})[0],b=Ji(_e(_e({},Z0(p,r.getTreeNodeRequiredProps())),{},{data:y.data}));r.setExpandedKeys(f?Ll(u,p):Hc(u,p)),r.onNodeExpand(a,b)}}),ve(Mt(r),"onNodeClick",function(a,l){var c=r.props,u=c.onClick,d=c.expandAction;d==="click"&&r.triggerExpandActionExpand(a,l),u==null||u(a,l)}),ve(Mt(r),"onNodeDoubleClick",function(a,l){var c=r.props,u=c.onDoubleClick,d=c.expandAction;d==="doubleClick"&&r.triggerExpandActionExpand(a,l),u==null||u(a,l)}),ve(Mt(r),"onNodeSelect",function(a,l){var c=r.state.selectedKeys,u=r.state,d=u.keyEntities,f=u.fieldNames,p=r.props,v=p.onSelect,y=p.multiple,b=l.selected,x=l[f.key],_=!b;_?y?c=Hc(c,x):c=[x]:c=Ll(c,x);var w=c.map(function(E){var T=Rs(d,E);return T?T.node:null}).filter(Boolean);r.setUncontrolledState({selectedKeys:c}),v==null||v(c,{event:"select",selected:_,node:l,selectedNodes:w,nativeEvent:a.nativeEvent})}),ve(Mt(r),"onNodeCheck",function(a,l,c){var u=r.state,d=u.keyEntities,f=u.checkedKeys,p=u.halfCheckedKeys,v=r.props,y=v.checkStrictly,b=v.onCheck,x=l.key,_,w={event:"check",node:l,checked:c,nativeEvent:a.nativeEvent};if(y){var E=c?Hc(f,x):Ll(f,x),T=Ll(p,x);_={checked:E,halfChecked:T},w.checkedNodes=E.map(function(N){return Rs(d,N)}).filter(Boolean).map(function(N){return N.node}),r.setUncontrolledState({checkedKeys:E})}else{var I=mg([].concat(it(f),[x]),!0,d),S=I.checkedKeys,P=I.halfCheckedKeys;if(!c){var R=new Set(S);R.delete(x);var O=mg(Array.from(R),{halfCheckedKeys:P},d);S=O.checkedKeys,P=O.halfCheckedKeys}_=S,w.checkedNodes=[],w.checkedNodesPositions=[],w.halfCheckedKeys=P,S.forEach(function(N){var A=Rs(d,N);if(A){var $=A.node,M=A.pos;w.checkedNodes.push($),w.checkedNodesPositions.push({node:$,pos:M})}}),r.setUncontrolledState({checkedKeys:S},!1,{halfCheckedKeys:P})}b==null||b(_,w)}),ve(Mt(r),"onNodeLoad",function(a){var l,c=a.key,u=r.state.keyEntities,d=Rs(u,c);if(!(d!=null&&(l=d.children)!==null&&l!==void 0&&l.length)){var f=new Promise(function(p,v){r.setState(function(y){var b=y.loadedKeys,x=b===void 0?[]:b,_=y.loadingKeys,w=_===void 0?[]:_,E=r.props,T=E.loadData,I=E.onLoad;if(!T||x.includes(c)||w.includes(c))return null;var S=T(a);return S.then(function(){var P=r.state.loadedKeys,R=Hc(P,c);I==null||I(R,{event:"load",node:a}),r.setUncontrolledState({loadedKeys:R}),r.setState(function(O){return{loadingKeys:Ll(O.loadingKeys,c)}}),p()}).catch(function(P){if(r.setState(function(O){return{loadingKeys:Ll(O.loadingKeys,c)}}),r.loadingRetryTimes[c]=(r.loadingRetryTimes[c]||0)+1,r.loadingRetryTimes[c]>=X4e){var R=r.state.loadedKeys;pi(!1,"Retry for `loadData` many times but still failed. No more retry."),r.setUncontrolledState({loadedKeys:Hc(R,c)}),p()}v(P)}),{loadingKeys:Hc(w,c)}})});return f.catch(function(){}),f}}),ve(Mt(r),"onNodeMouseEnter",function(a,l){var c=r.props.onMouseEnter;c==null||c({event:a,node:l})}),ve(Mt(r),"onNodeMouseLeave",function(a,l){var c=r.props.onMouseLeave;c==null||c({event:a,node:l})}),ve(Mt(r),"onNodeContextMenu",function(a,l){var c=r.props.onRightClick;c&&(a.preventDefault(),c({event:a,node:l}))}),ve(Mt(r),"onFocus",function(){var a=r.props.onFocus;r.setState({focused:!0});for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a==null||a.apply(void 0,c)}),ve(Mt(r),"onBlur",function(){var a=r.props.onBlur;r.setState({focused:!1}),r.onActiveChange(null);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a==null||a.apply(void 0,c)}),ve(Mt(r),"getTreeNodeRequiredProps",function(){var a=r.state,l=a.expandedKeys,c=a.selectedKeys,u=a.loadedKeys,d=a.loadingKeys,f=a.checkedKeys,p=a.halfCheckedKeys,v=a.dragOverNodeKey,y=a.dropPosition,b=a.keyEntities;return{expandedKeys:l||[],selectedKeys:c||[],loadedKeys:u||[],loadingKeys:d||[],checkedKeys:f||[],halfCheckedKeys:p||[],dragOverNodeKey:v,dropPosition:y,keyEntities:b}}),ve(Mt(r),"setExpandedKeys",function(a){var l=r.state,c=l.treeData,u=l.fieldNames,d=PR(c,a,u);r.setUncontrolledState({expandedKeys:a,flattenNodes:d},!0)}),ve(Mt(r),"onNodeExpand",function(a,l){var c=r.state.expandedKeys,u=r.state,d=u.listChanging,f=u.fieldNames,p=r.props,v=p.onExpand,y=p.loadData,b=l.expanded,x=l[f.key];if(!d){var _=c.includes(x),w=!b;if(pi(b&&_||!b&&!_,"Expand state not sync with index check"),c=w?Hc(c,x):Ll(c,x),r.setExpandedKeys(c),v==null||v(c,{node:l,expanded:w,nativeEvent:a.nativeEvent}),w&&y){var E=r.onNodeLoad(l);E&&E.then(function(){var T=PR(r.state.treeData,c,f);r.setUncontrolledState({flattenNodes:T})}).catch(function(){var T=r.state.expandedKeys,I=Ll(T,x);r.setExpandedKeys(I)})}}}),ve(Mt(r),"onListChangeStart",function(){r.setUncontrolledState({listChanging:!0})}),ve(Mt(r),"onListChangeEnd",function(){setTimeout(function(){r.setUncontrolledState({listChanging:!1})})}),ve(Mt(r),"onActiveChange",function(a){var l=r.state.activeKey,c=r.props,u=c.onActiveChange,d=c.itemScrollOffset,f=d===void 0?0:d;l!==a&&(r.setState({activeKey:a}),a!==null&&r.scrollTo({key:a,offset:f}),u==null||u(a))}),ve(Mt(r),"getActiveItem",function(){var a=r.state,l=a.activeKey,c=a.flattenNodes;return l===null?null:c.find(function(u){var d=u.key;return d===l})||null}),ve(Mt(r),"offsetActiveKey",function(a){var l=r.state,c=l.flattenNodes,u=l.activeKey,d=c.findIndex(function(v){var y=v.key;return y===u});d===-1&&a<0&&(d=c.length),d=(d+a+c.length)%c.length;var f=c[d];if(f){var p=f.key;r.onActiveChange(p)}else r.onActiveChange(null)}),ve(Mt(r),"onKeyDown",function(a){var l=r.state,c=l.activeKey,u=l.expandedKeys,d=l.checkedKeys,f=l.fieldNames,p=r.props,v=p.onKeyDown,y=p.checkable,b=p.selectable;switch(a.which){case At.UP:{r.offsetActiveKey(-1),a.preventDefault();break}case At.DOWN:{r.offsetActiveKey(1),a.preventDefault();break}}var x=r.getActiveItem();if(x&&x.data){var _=r.getTreeNodeRequiredProps(),w=x.data.isLeaf===!1||!!(x.data[f.children]||[]).length,E=Ji(_e(_e({},Z0(c,_)),{},{data:x.data,active:!0}));switch(a.which){case At.LEFT:{w&&u.includes(c)?r.onNodeExpand({},E):x.parent&&r.onActiveChange(x.parent.key),a.preventDefault();break}case At.RIGHT:{w&&!u.includes(c)?r.onNodeExpand({},E):x.children&&x.children.length&&r.onActiveChange(x.children[0].key),a.preventDefault();break}case At.ENTER:case At.SPACE:{y&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?r.onNodeCheck({},E,!d.includes(c)):!y&&b&&!E.disabled&&E.selectable!==!1&&r.onNodeSelect({},E);break}}}v==null||v(a)}),ve(Mt(r),"setUncontrolledState",function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r.destroyed){var u=!1,d=!0,f={};Object.keys(a).forEach(function(p){if(r.props.hasOwnProperty(p)){d=!1;return}u=!0,f[p]=a[p]}),u&&(!l||d)&&r.setState(_e(_e({},f),c))}}),ve(Mt(r),"scrollTo",function(a){r.listRef.current.scrollTo(a)}),r}return Ui(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,o=i.activeKey,s=i.itemScrollOffset,a=s===void 0?0:s;o!==void 0&&o!==this.state.activeKey&&(this.setState({activeKey:o}),o!==null&&this.scrollTo({key:o,offset:a}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,o=i.focused,s=i.flattenNodes,a=i.keyEntities,l=i.draggingNodeKey,c=i.activeKey,u=i.dropLevelOffset,d=i.dropContainerKey,f=i.dropTargetKey,p=i.dropPosition,v=i.dragOverNodeKey,y=i.indent,b=this.props,x=b.prefixCls,_=b.className,w=b.style,E=b.showLine,T=b.focusable,I=b.tabIndex,S=I===void 0?0:I,P=b.selectable,R=b.showIcon,O=b.icon,N=b.switcherIcon,A=b.draggable,$=b.checkable,M=b.checkStrictly,F=b.disabled,z=b.motion,j=b.loadData,B=b.filterTreeNode,W=b.height,q=b.itemHeight,G=b.scrollWidth,X=b.virtual,ue=b.titleRender,te=b.dropIndicatorRender,J=b.onContextMenu,se=b.onScroll,ge=b.direction,le=b.rootClassName,we=b.rootStyle,ce=ms(this.props,{aria:!0,data:!0}),be;A&&(zt(A)==="object"?be=A:typeof A=="function"?be={nodeDraggable:A}:be={});var K={prefixCls:x,selectable:P,showIcon:R,icon:O,switcherIcon:N,draggable:be,draggingNodeKey:l,checkable:$,checkStrictly:M,disabled:F,keyEntities:a,dropLevelOffset:u,dropContainerKey:d,dropTargetKey:f,dropPosition:p,dragOverNodeKey:v,indent:y,direction:ge,dropIndicatorRender:te,loadData:j,filterTreeNode:B,titleRender:ue,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return h.createElement(xL.Provider,{value:K},h.createElement("div",{className:Oe(x,_,le,ve(ve(ve({},"".concat(x,"-show-line"),E),"".concat(x,"-focused"),o),"".concat(x,"-active-focused"),c!==null)),style:we},h.createElement(Y4e,Q({ref:this.listRef,prefixCls:x,style:w,data:s,disabled:F,selectable:P,checkable:!!$,motion:z,dragging:l!==null,height:W,itemHeight:q,virtual:X,focusable:T,focused:o,tabIndex:S,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:J,onScroll:se,scrollWidth:G},this.getTreeNodeRequiredProps(),ce))))}}],[{key:"getDerivedStateFromProps",value:function(i,o){var s=o.prevProps,a={prevProps:i};function l(S){return!s&&i.hasOwnProperty(S)||s&&s[S]!==i[S]}var c,u=o.fieldNames;if(l("fieldNames")&&(u=tv(i.fieldNames),a.fieldNames=u),l("treeData")?c=i.treeData:l("children")&&(pi(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),c=RJ(i.children)),c){a.treeData=c;var d=hL(c,{fieldNames:u});a.keyEntities=_e(ve({},ep,yee),d.keyEntities)}var f=a.keyEntities||o.keyEntities;if(l("expandedKeys")||s&&l("autoExpandParent"))a.expandedKeys=i.autoExpandParent||!s&&i.defaultExpandParent?lD(i.expandedKeys,f):i.expandedKeys;else if(!s&&i.defaultExpandAll){var p=_e({},f);delete p[ep];var v=[];Object.keys(p).forEach(function(S){var P=p[S];P.children&&P.children.length&&v.push(P.key)}),a.expandedKeys=v}else!s&&i.defaultExpandedKeys&&(a.expandedKeys=i.autoExpandParent||i.defaultExpandParent?lD(i.defaultExpandedKeys,f):i.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,c||a.expandedKeys){var y=PR(c||o.treeData,a.expandedKeys||o.expandedKeys,u);a.flattenNodes=y}if(i.selectable&&(l("selectedKeys")?a.selectedKeys=oH(i.selectedKeys,i):!s&&i.defaultSelectedKeys&&(a.selectedKeys=oH(i.defaultSelectedKeys,i))),i.checkable){var b;if(l("checkedKeys")?b=AR(i.checkedKeys)||{}:!s&&i.defaultCheckedKeys?b=AR(i.defaultCheckedKeys)||{}:c&&(b=AR(i.checkedKeys)||{checkedKeys:o.checkedKeys,halfCheckedKeys:o.halfCheckedKeys}),b){var x=b,_=x.checkedKeys,w=_===void 0?[]:_,E=x.halfCheckedKeys,T=E===void 0?[]:E;if(!i.checkStrictly){var I=mg(w,!0,f);w=I.checkedKeys,T=I.halfCheckedKeys}a.checkedKeys=w,a.halfCheckedKeys=T}}return l("loadedKeys")&&(a.loadedKeys=i.loadedKeys),a}}]),n}(h.Component);ve(wL,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:B4e,allowDrop:function(){return!0},expandAction:!1});ve(wL,"TreeNode",bx);const Z4e=t=>{let{treeCls:e,treeNodeCls:n,directoryNodeSelectedBg:r,directoryNodeSelectedColor:i,motionDurationMid:o,borderRadius:s,controlItemBgHover:a}=t;return{[`${e}${e}-directory ${n}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${o}`,content:'""',borderRadius:s},"&:hover:before":{background:a}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{[`${e}-switcher, ${e}-draggable-icon`]:{color:i},[`${e}-node-content-wrapper`]:{color:i,background:"transparent","&:before, &:hover:before":{background:r}}}}}},Q4e=new Qn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),J4e=(t,e)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),eze=(t,e)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Ne(e.lineWidthBold)} solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),tze=(t,e)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:i,titleHeight:o,indentSize:s,nodeSelectedBg:a,nodeHoverBg:l,colorTextQuaternary:c,controlItemBgActiveDisabled:u}=e;return{[n]:Object.assign(Object.assign({},Si(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},of(e)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${r}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:Q4e,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:e.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:Ne(o),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${n}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${r}-disabled${r}-selected ${n}-node-content-wrapper`]:{backgroundColor:u},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${r}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:e.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:e.controlItemBgHover},[`&:not(${r}-disabled).filter-node ${n}-title`]:{color:e.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:o,textAlign:"center",visibility:"visible",color:c},[`&${r}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:e.calc(e.calc(o).sub(e.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},J4e(t,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:o,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${e.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:o,height:o,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:e.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(o).div(2).equal(),bottom:e.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:e.calc(e.calc(o).div(2).equal()).mul(.8).equal(),height:e.calc(o).div(2).equal(),borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:o,paddingBlock:0,paddingInline:e.paddingXS,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},eze(t,e)),{"&:hover":{backgroundColor:l},[`&${n}-node-selected`]:{color:e.nodeSelectedColor,backgroundColor:a},[`${n}-iconEle`]:{display:"inline-block",width:o,height:o,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${r}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${e.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(o).div(2).equal(),bottom:e.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${r}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Ne(e.calc(o).div(2).equal())} !important`}})}},nze=(t,e)=>{const n=`.${t}`,r=`${n}-treenode`,i=e.calc(e.paddingXS).div(2).equal(),o=Jn(e,{treeCls:n,treeNodeCls:r,treeNodePadding:i});return[tze(t,o),Z4e(o)]},rze=t=>{const{controlHeightSM:e,controlItemBgHover:n,controlItemBgActive:r}=t,i=e;return{titleHeight:i,indentSize:i,nodeHoverBg:n,nodeHoverColor:t.colorText,nodeSelectedBg:r,nodeSelectedColor:t.colorText}},ize=t=>{const{colorTextLightSolid:e,colorPrimary:n}=t;return Object.assign(Object.assign({},rze(t)),{directoryNodeSelectedColor:e,directoryNodeSelectedBg:n})},oze=gi("Tree",(t,e)=>{let{prefixCls:n}=e;return[{[t.componentCls]:MJ(`${n}-checkbox`,t)},nze(n,t),FZ(t)]},ize),fH=4;function sze(t){const{dropPosition:e,dropLevelOffset:n,prefixCls:r,indent:i,direction:o="ltr"}=t,s=o==="ltr"?"left":"right",a=o==="ltr"?"right":"left",l={[s]:-n*i+fH,[a]:0};switch(e){case-1:l.top=-3;break;case 1:l.bottom=-3;break;default:l.bottom=-3,l[s]=i+fH;break}return ae.createElement("div",{style:l,className:`${r}-drop-indicator`})}const aze=t=>{const{prefixCls:e,switcherIcon:n,treeNodeProps:r,showLine:i,switcherLoadingIcon:o}=t,{isLeaf:s,expanded:a,loading:l}=r;if(l)return h.isValidElement(o)?o:h.createElement(c_,{className:`${e}-switcher-loading-icon`});let c;if(i&&typeof i=="object"&&(c=i.showLeafIcon),s){if(!i)return null;if(typeof c!="boolean"&&c){const f=typeof c=="function"?c(r):c,p=`${e}-switcher-line-custom-icon`;return h.isValidElement(f)?Va(f,{className:Oe(f.props.className||"",p)}):f}return c?h.createElement(XJ,{className:`${e}-switcher-line-icon`}):h.createElement("span",{className:`${e}-switcher-leaf-line`})}const u=`${e}-switcher-icon`,d=typeof n=="function"?n(r):n;return h.isValidElement(d)?Va(d,{className:Oe(d.props.className||"",u)}):d!==void 0?d:i?a?h.createElement(nje,{className:`${e}-switcher-line-icon`}):h.createElement(oje,{className:`${e}-switcher-line-icon`}):h.createElement(DLe,{className:u})},bee=ae.forwardRef((t,e)=>{var n;const{getPrefixCls:r,direction:i,virtual:o,tree:s}=ae.useContext(Pn),{prefixCls:a,className:l,showIcon:c=!1,showLine:u,switcherIcon:d,switcherLoadingIcon:f,blockNode:p=!1,children:v,checkable:y=!1,selectable:b=!0,draggable:x,motion:_,style:w}=t,E=r("tree",a),T=r(),I=_??Object.assign(Object.assign({},$Z(T)),{motionAppear:!1}),S=Object.assign(Object.assign({},t),{checkable:y,selectable:b,showIcon:c,motion:I,blockNode:p,showLine:!!u,dropIndicatorRender:sze}),[P,R,O]=oze(E),[,N]=Bo(),A=N.paddingXS/2+(((n=N.Tree)===null||n===void 0?void 0:n.titleHeight)||N.controlHeightSM),$=ae.useMemo(()=>{if(!x)return!1;let F={};switch(typeof x){case"function":F.nodeDraggable=x;break;case"object":F=Object.assign({},x);break}return F.icon!==!1&&(F.icon=F.icon||ae.createElement(JLe,null)),F},[x]),M=F=>ae.createElement(aze,{prefixCls:E,switcherIcon:d,switcherLoadingIcon:f,treeNodeProps:F,showLine:u});return P(ae.createElement(wL,Object.assign({itemHeight:A,ref:e,virtual:o},S,{style:Object.assign(Object.assign({},s==null?void 0:s.style),w),prefixCls:E,className:Oe({[`${E}-icon-hide`]:!c,[`${E}-block-node`]:p,[`${E}-unselectable`]:!b,[`${E}-rtl`]:i==="rtl"},s==null?void 0:s.className,l,R,O),direction:i,checkable:y&&ae.createElement("span",{className:`${E}-checkbox-inner`}),selectable:b,switcherIcon:M,draggable:$}),v))}),hH=0,$R=1,pH=2;function CL(t,e,n){const{key:r,children:i}=n;function o(s){const a=s[r],l=s[i];e(a,s)!==!1&&CL(l||[],e,n)}t.forEach(o)}function lze(t){let{treeData:e,expandedKeys:n,startKey:r,endKey:i,fieldNames:o}=t;const s=[];let a=hH;if(r&&r===i)return[r];if(!r||!i)return[];function l(c){return c===r||c===i}return CL(e,c=>{if(a===pH)return!1;if(l(c)){if(s.push(c),a===hH)a=$R;else if(a===$R)return a=pH,!1}else a===$R&&s.push(c);return n.includes(c)},tv(o)),s}function NR(t,e,n){const r=it(e),i=[];return CL(t,(o,s)=>{const a=r.indexOf(o);return a!==-1&&(i.push(s),r.splice(a,1)),!!r.length},tv(n)),i}var mH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cze(t){const{isLeaf:e,expanded:n}=t;return e?h.createElement(XJ,null):n?h.createElement(qLe,null):h.createElement(XLe,null)}function gH(t){let{treeData:e,children:n}=t;return e||RJ(n)}const uze=(t,e)=>{var{defaultExpandAll:n,defaultExpandParent:r,defaultExpandedKeys:i}=t,o=mH(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const s=h.useRef(null),a=h.useRef(null),l=()=>{const{keyEntities:P}=hL(gH(o));let R;return n?R=Object.keys(P):r?R=lD(o.expandedKeys||i||[],P):R=o.expandedKeys||i||[],R},[c,u]=h.useState(o.selectedKeys||o.defaultSelectedKeys||[]),[d,f]=h.useState(()=>l());h.useEffect(()=>{"selectedKeys"in o&&u(o.selectedKeys)},[o.selectedKeys]),h.useEffect(()=>{"expandedKeys"in o&&f(o.expandedKeys)},[o.expandedKeys]);const p=(P,R)=>{var O;return"expandedKeys"in o||f(P),(O=o.onExpand)===null||O===void 0?void 0:O.call(o,P,R)},v=(P,R)=>{var O;const{multiple:N,fieldNames:A}=o,{node:$,nativeEvent:M}=R,{key:F=""}=$,z=gH(o),j=Object.assign(Object.assign({},R),{selected:!0}),B=(M==null?void 0:M.ctrlKey)||(M==null?void 0:M.metaKey),W=M==null?void 0:M.shiftKey;let q;N&&B?(q=P,s.current=F,a.current=q,j.selectedNodes=NR(z,q,A)):N&&W?(q=Array.from(new Set([].concat(it(a.current||[]),it(lze({treeData:z,expandedKeys:d,startKey:F,endKey:s.current,fieldNames:A}))))),j.selectedNodes=NR(z,q,A)):(q=[F],s.current=F,a.current=q,j.selectedNodes=NR(z,q,A)),(O=o.onSelect)===null||O===void 0||O.call(o,q,j),"selectedKeys"in o||u(q)},{getPrefixCls:y,direction:b}=h.useContext(Pn),{prefixCls:x,className:_,showIcon:w=!0,expandAction:E="click"}=o,T=mH(o,["prefixCls","className","showIcon","expandAction"]),I=y("tree",x),S=Oe(`${I}-directory`,{[`${I}-directory-rtl`]:b==="rtl"},_);return h.createElement(bee,Object.assign({icon:cze,ref:e,blockNode:!0},T,{showIcon:w,expandAction:E,prefixCls:I,className:S,expandedKeys:d,selectedKeys:c,onSelect:v,onExpand:p}))},dze=h.forwardRef(uze),SL=bee;SL.DirectoryTree=dze;SL.TreeNode=bx;const vH=t=>{const{value:e,filterSearch:n,tablePrefixCls:r,locale:i,onChange:o}=t;return n?h.createElement("div",{className:`${r}-filter-dropdown-search`},h.createElement(C_,{prefix:h.createElement(tL,null),placeholder:i.filterSearchPlaceholder,onChange:o,value:e,htmlSize:1,className:`${r}-filter-dropdown-search-input`})):null},fze=t=>{const{keyCode:e}=t;e===At.ENTER&&t.stopPropagation()},hze=h.forwardRef((t,e)=>h.createElement("div",{className:t.className,onClick:n=>n.stopPropagation(),onKeyDown:fze,ref:e},t.children));function gg(t){let e=[];return(t||[]).forEach(n=>{let{value:r,children:i}=n;e.push(r),i&&(e=[].concat(it(e),it(gg(i))))}),e}function pze(t){return t.some(e=>{let{children:n}=e;return n})}function xee(t,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(t.trim().toLowerCase()):!1}function _ee(t){let{filters:e,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:s}=t;return e.map((a,l)=>{const c=String(a.value);if(a.children)return{key:c||l,label:a.text,popupClassName:`${n}-dropdown-submenu`,children:_ee({filters:a.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:s})};const u=i?sf:b_,d={key:a.value!==void 0?c:l,label:h.createElement(h.Fragment,null,h.createElement(u,{checked:r.includes(c)}),h.createElement("span",null,a.text))};return o.trim()?typeof s=="function"?s(o,a)?d:null:xee(o,a.text)?d:null:d})}function LR(t){return t||[]}const mze=t=>{var e,n,r,i;const{tablePrefixCls:o,prefixCls:s,column:a,dropdownPrefixCls:l,columnKey:c,filterOnClose:u,filterMultiple:d,filterMode:f="menu",filterSearch:p=!1,filterState:v,triggerFilter:y,locale:b,children:x,getPopupContainer:_,rootClassName:w}=t,{filterResetToDefaultFilteredValue:E,defaultFilteredValue:T,filterDropdownProps:I={},filterDropdownOpen:S,filterDropdownVisible:P,onFilterDropdownVisibleChange:R,onFilterDropdownOpenChange:O}=a,[N,A]=h.useState(!1),$=!!(v&&(!((e=v.filteredKeys)===null||e===void 0)&&e.length||v.forceFiltered)),M=me=>{var fe;A(me),(fe=I.onOpenChange)===null||fe===void 0||fe.call(I,me),O==null||O(me),R==null||R(me)},F=(i=(r=(n=I.open)!==null&&n!==void 0?n:S)!==null&&r!==void 0?r:P)!==null&&i!==void 0?i:N,z=v==null?void 0:v.filteredKeys,[j,B]=F4e(LR(z)),W=me=>{let{selectedKeys:fe}=me;B(fe)},q=(me,fe)=>{let{node:ye,checked:Te}=fe;W(d?{selectedKeys:me}:{selectedKeys:Te&&ye.key?[ye.key]:[]})};h.useEffect(()=>{N&&W({selectedKeys:LR(z)})},[z]);const[G,X]=h.useState([]),ue=me=>{X(me)},[te,J]=h.useState(""),se=me=>{const{value:fe}=me.target;J(fe)};h.useEffect(()=>{N||J("")},[N]);const ge=me=>{const fe=me!=null&&me.length?me:null;if(fe===null&&(!v||!v.filteredKeys)||_c(fe,v==null?void 0:v.filteredKeys,!0))return null;y({column:a,key:c,filteredKeys:fe})},le=()=>{M(!1),ge(j())},we=function(){let{confirm:me,closeDropdown:fe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};me&&ge([]),fe&&M(!1),J(""),B(E?(T||[]).map(ye=>String(ye)):[])},ce=function(){let{closeDropdown:me}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};me&&M(!1),ge(j())},be=(me,fe)=>{fe.source==="trigger"&&(me&&z!==void 0&&B(LR(z)),M(me),!me&&!a.filterDropdown&&u&&le())},K=Oe({[`${l}-menu-without-submenu`]:!pze(a.filters||[])}),oe=me=>{if(me.target.checked){const fe=gg(a==null?void 0:a.filters).map(ye=>String(ye));B(fe)}else B([])},V=me=>{let{filters:fe}=me;return(fe||[]).map((ye,Te)=>{const ke=String(ye.value),je={title:ye.text,key:ye.value!==void 0?ke:String(Te)};return ye.children&&(je.children=V({filters:ye.children})),je})},ie=me=>{var fe;return Object.assign(Object.assign({},me),{text:me.title,value:me.key,children:((fe=me.children)===null||fe===void 0?void 0:fe.map(ye=>ie(ye)))||[]})};let re;const{direction:ee,renderEmpty:Y}=h.useContext(Pn);if(typeof a.filterDropdown=="function")re=a.filterDropdown({prefixCls:`${l}-custom`,setSelectedKeys:me=>W({selectedKeys:me}),selectedKeys:j(),confirm:ce,clearFilters:we,filters:a.filters,visible:F,close:()=>{M(!1)}});else if(a.filterDropdown)re=a.filterDropdown;else{const me=j()||[],fe=()=>{var Te,ke;const je=(Te=Y==null?void 0:Y("Table.filter"))!==null&&Te!==void 0?Te:h.createElement(Yc,{image:Yc.PRESENTED_IMAGE_SIMPLE,description:b.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((a.filters||[]).length===0)return je;if(f==="tree")return h.createElement(h.Fragment,null,h.createElement(vH,{filterSearch:p,value:te,onChange:se,tablePrefixCls:o,locale:b}),h.createElement("div",{className:`${o}-filter-dropdown-tree`},d?h.createElement(sf,{checked:me.length===gg(a.filters).length,indeterminate:me.length>0&&me.length<gg(a.filters).length,className:`${o}-filter-dropdown-checkall`,onChange:oe},(ke=b==null?void 0:b.filterCheckall)!==null&&ke!==void 0?ke:b==null?void 0:b.filterCheckAll):null,h.createElement(SL,{checkable:!0,selectable:!1,blockNode:!0,multiple:d,checkStrictly:!d,className:`${l}-menu`,onCheck:q,checkedKeys:me,selectedKeys:me,showIcon:!1,treeData:V({filters:a.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:te.trim()?Re=>typeof p=="function"?p(te,ie(Re)):xee(te,Re.title):void 0})));const de=_ee({filters:a.filters||[],filterSearch:p,prefixCls:s,filteredKeys:j(),filterMultiple:d,searchValue:te}),Se=de.every(Re=>Re===null);return h.createElement(h.Fragment,null,h.createElement(vH,{filterSearch:p,value:te,onChange:se,tablePrefixCls:o,locale:b}),Se?je:h.createElement(Av,{selectable:!0,multiple:d,prefixCls:`${l}-menu`,className:K,onSelect:W,onDeselect:W,selectedKeys:me,getPopupContainer:_,openKeys:G,onOpenChange:ue,items:de}))},ye=()=>E?_c((T||[]).map(Te=>String(Te)),me,!0):me.length===0;re=h.createElement(h.Fragment,null,fe(),h.createElement("div",{className:`${s}-dropdown-btns`},h.createElement(Ha,{type:"link",size:"small",disabled:ye(),onClick:()=>we()},b.filterReset),h.createElement(Ha,{type:"primary",size:"small",onClick:le},b.filterConfirm)))}a.filterDropdown&&(re=h.createElement(gJ,{selectable:void 0},re)),re=h.createElement(hze,{className:`${s}-dropdown`},re);const Ce=HJ({trigger:["click"],placement:ee==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let me;return typeof a.filterIcon=="function"?me=a.filterIcon($):a.filterIcon?me=a.filterIcon:me=h.createElement(WLe,null),h.createElement("span",{role:"button",tabIndex:-1,className:Oe(`${s}-trigger`,{active:$}),onClick:fe=>{fe.stopPropagation()}},me)})(),getPopupContainer:_},Object.assign(Object.assign({},I),{rootClassName:Oe(w,I.rootClassName),open:F,onOpenChange:be,dropdownRender:()=>typeof(I==null?void 0:I.dropdownRender)=="function"?I.dropdownRender(re):re}));return h.createElement("div",{className:`${s}-column`},h.createElement("span",{className:`${o}-column-title`},x),h.createElement(pL,Object.assign({},Ce)))},hD=(t,e,n)=>{let r=[];return(t||[]).forEach((i,o)=>{var s;const a=jv(o,n);if(i.filters||"filterDropdown"in i||"onFilter"in i)if("filteredValue"in i){let l=i.filteredValue;"filterDropdown"in i||(l=(s=l==null?void 0:l.map(String))!==null&&s!==void 0?s:l),r.push({column:i,key:af(i,a),filteredKeys:l,forceFiltered:i.filtered})}else r.push({column:i,key:af(i,a),filteredKeys:e&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(it(r),it(hD(i.children,e,a))))}),r};function wee(t,e,n,r,i,o,s,a,l){return n.map((c,u)=>{const d=jv(u,a),{filterOnClose:f=!0,filterMultiple:p=!0,filterMode:v,filterSearch:y}=c;let b=c;if(b.filters||b.filterDropdown){const x=af(b,d),_=r.find(w=>{let{key:E}=w;return x===E});b=Object.assign(Object.assign({},b),{title:w=>h.createElement(mze,{tablePrefixCls:t,prefixCls:`${t}-filter`,dropdownPrefixCls:e,column:b,columnKey:x,filterState:_,filterOnClose:f,filterMultiple:p,filterMode:v,filterSearch:y,triggerFilter:o,locale:i,getPopupContainer:s,rootClassName:l},MT(c.title,w))})}return"children"in b&&(b=Object.assign(Object.assign({},b),{children:wee(t,e,b.children,r,i,o,s,d,l)})),b})}const yH=t=>{const e={};return t.forEach(n=>{let{key:r,filteredKeys:i,column:o}=n;const s=r,{filters:a,filterDropdown:l}=o;if(l)e[s]=i||null;else if(Array.isArray(i)){const c=gg(a);e[s]=c.filter(u=>i.includes(String(u)))}else e[s]=null}),e},pD=(t,e,n)=>e.reduce((i,o)=>{const{column:{onFilter:s,filters:a},filteredKeys:l}=o;return s&&l&&l.length?i.map(c=>Object.assign({},c)).filter(c=>l.some(u=>{const d=gg(a),f=d.findIndex(v=>String(v)===String(u)),p=f!==-1?d[f]:u;return c[n]&&(c[n]=pD(c[n],e,n)),s(p,c)})):i},t),Cee=t=>t.flatMap(e=>"children"in e?[e].concat(it(Cee(e.children||[]))):[e]),gze=t=>{const{prefixCls:e,dropdownPrefixCls:n,mergedColumns:r,onFilterChange:i,getPopupContainer:o,locale:s,rootClassName:a}=t;bp();const l=h.useMemo(()=>Cee(r||[]),[r]),[c,u]=h.useState(()=>hD(l,!0)),d=h.useMemo(()=>{const y=hD(l,!1);if(y.length===0)return y;let b=!0;if(y.forEach(x=>{let{filteredKeys:_}=x;_!==void 0&&(b=!1)}),b){const x=(l||[]).map((_,w)=>af(_,jv(w)));return c.filter(_=>{let{key:w}=_;return x.includes(w)}).map(_=>{const w=l[x.findIndex(E=>E===_.key)];return Object.assign(Object.assign({},_),{column:Object.assign(Object.assign({},_.column),w),forceFiltered:w.filtered})})}return y},[l,c]),f=h.useMemo(()=>yH(d),[d]),p=y=>{const b=d.filter(x=>{let{key:_}=x;return _!==y.key});b.push(y),u(b),i(yH(b),b)};return[y=>wee(e,n,y,d,s,p,o,void 0,a),d,f]},vze=(t,e,n)=>{const r=h.useRef({});function i(o){var s;if(!r.current||r.current.data!==t||r.current.childrenColumnName!==e||r.current.getRowKey!==n){let c=function(u){u.forEach((d,f)=>{const p=n(d,f);l.set(p,d),d&&typeof d=="object"&&e in d&&c(d[e]||[])})};var a=c;const l=new Map;c(t),r.current={data:t,childrenColumnName:e,kvMap:l,getRowKey:n}}return(s=r.current.kvMap)===null||s===void 0?void 0:s.get(o)}return[i]};var yze=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const See=10;function bze(t,e){const n={current:t.current,pageSize:t.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(i=>{const o=t[i];typeof o!="function"&&(n[i]=o)}),n}function xze(t,e,n){const r=n&&typeof n=="object"?n:{},{total:i=0}=r,o=yze(r,["total"]),[s,a]=h.useState(()=>({current:"defaultCurrent"in o?o.defaultCurrent:1,pageSize:"defaultPageSize"in o?o.defaultPageSize:See})),l=HJ(s,o,{total:i>0?i:t}),c=Math.ceil((i||t)/l.pageSize);l.current>c&&(l.current=c||1);const u=(f,p)=>{a({current:f??1,pageSize:p||l.pageSize})},d=(f,p)=>{var v;n&&((v=n.onChange)===null||v===void 0||v.call(n,f,p)),u(f,p),e(f,p||(l==null?void 0:l.pageSize))};return n===!1?[{},()=>{}]:[Object.assign(Object.assign({},l),{onChange:d}),u]}const TS="ascend",jR="descend",gE=t=>typeof t.sorter=="object"&&typeof t.sorter.multiple=="number"?t.sorter.multiple:!1,bH=t=>typeof t=="function"?t:t&&typeof t=="object"&&t.compare?t.compare:!1,_ze=(t,e)=>e?t[t.indexOf(e)+1]:t[0],mD=(t,e,n)=>{let r=[];const i=(o,s)=>{r.push({column:o,key:af(o,s),multiplePriority:gE(o),sortOrder:o.sortOrder})};return(t||[]).forEach((o,s)=>{const a=jv(s,n);o.children?("sortOrder"in o&&i(o,a),r=[].concat(it(r),it(mD(o.children,e,a)))):o.sorter&&("sortOrder"in o?i(o,a):e&&o.defaultSortOrder&&r.push({column:o,key:af(o,a),multiplePriority:gE(o),sortOrder:o.defaultSortOrder}))}),r},Eee=(t,e,n,r,i,o,s,a)=>(e||[]).map((c,u)=>{const d=jv(u,a);let f=c;if(f.sorter){const p=f.sortDirections||i,v=f.showSorterTooltip===void 0?s:f.showSorterTooltip,y=af(f,d),b=n.find(R=>{let{key:O}=R;return O===y}),x=b?b.sortOrder:null,_=_ze(p,x);let w;if(c.sortIcon)w=c.sortIcon({sortOrder:x});else{const R=p.includes(TS)&&h.createElement(zLe,{className:Oe(`${t}-column-sorter-up`,{active:x===TS})}),O=p.includes(jR)&&h.createElement(NLe,{className:Oe(`${t}-column-sorter-down`,{active:x===jR})});w=h.createElement("span",{className:Oe(`${t}-column-sorter`,{[`${t}-column-sorter-full`]:!!(R&&O)})},h.createElement("span",{className:`${t}-column-sorter-inner`,"aria-hidden":"true"},R,O))}const{cancelSort:E,triggerAsc:T,triggerDesc:I}=o||{};let S=E;_===jR?S=I:_===TS&&(S=T);const P=typeof v=="object"?Object.assign({title:S},v):{title:S};f=Object.assign(Object.assign({},f),{className:Oe(f.className,{[`${t}-column-sort`]:x}),title:R=>{const O=`${t}-column-sorters`,N=h.createElement("span",{className:`${t}-column-title`},MT(c.title,R)),A=h.createElement("div",{className:O},N,w);return v?typeof v!="boolean"&&(v==null?void 0:v.target)==="sorter-icon"?h.createElement("div",{className:`${O} ${t}-column-sorters-tooltip-target-sorter`},N,h.createElement(px,Object.assign({},P),w)):h.createElement(px,Object.assign({},P),A):A},onHeaderCell:R=>{var O;const N=((O=c.onHeaderCell)===null||O===void 0?void 0:O.call(c,R))||{},A=N.onClick,$=N.onKeyDown;N.onClick=z=>{r({column:c,key:y,sortOrder:_,multiplePriority:gE(c)}),A==null||A(z)},N.onKeyDown=z=>{z.keyCode===At.ENTER&&(r({column:c,key:y,sortOrder:_,multiplePriority:gE(c)}),$==null||$(z))};const M=z4e(c.title,{}),F=M==null?void 0:M.toString();return x&&(N["aria-sort"]=x==="ascend"?"ascending":"descending"),N["aria-label"]=F||"",N.className=Oe(N.className,`${t}-column-has-sorters`),N.tabIndex=0,c.ellipsis&&(N.title=(M??"").toString()),N}})}return"children"in f&&(f=Object.assign(Object.assign({},f),{children:Eee(t,f.children,n,r,i,o,s,d)})),f}),xH=t=>{const{column:e,sortOrder:n}=t;return{column:e,order:n,field:e.dataIndex,columnKey:e.key}},_H=t=>{const e=t.filter(n=>{let{sortOrder:r}=n;return r}).map(xH);if(e.length===0&&t.length){const n=t.length-1;return Object.assign(Object.assign({},xH(t[n])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return e.length<=1?e[0]||{}:e},gD=(t,e,n)=>{const r=e.slice().sort((s,a)=>a.multiplePriority-s.multiplePriority),i=t.slice(),o=r.filter(s=>{let{column:{sorter:a},sortOrder:l}=s;return bH(a)&&l});return o.length?i.sort((s,a)=>{for(let l=0;l<o.length;l+=1){const c=o[l],{column:{sorter:u},sortOrder:d}=c,f=bH(u);if(f&&d){const p=f(s,a,d);if(p!==0)return d===TS?p:-p}}return 0}).map(s=>{const a=s[n];return a?Object.assign(Object.assign({},s),{[n]:gD(a,e,n)}):s}):i},wze=t=>{const{prefixCls:e,mergedColumns:n,sortDirections:r,tableLocale:i,showSorterTooltip:o,onSorterChange:s}=t,[a,l]=h.useState(mD(n,!0)),c=(y,b)=>{const x=[];return y.forEach((_,w)=>{const E=jv(w,b);if(x.push(af(_,E)),Array.isArray(_.children)){const T=c(_.children,E);x.push.apply(x,it(T))}}),x},u=h.useMemo(()=>{let y=!0;const b=mD(n,!1);if(!b.length){const E=c(n);return a.filter(T=>{let{key:I}=T;return E.includes(I)})}const x=[];function _(E){y?x.push(E):x.push(Object.assign(Object.assign({},E),{sortOrder:null}))}let w=null;return b.forEach(E=>{w===null?(_(E),E.sortOrder&&(E.multiplePriority===!1?y=!1:w=!0)):(w&&E.multiplePriority!==!1||(y=!1),_(E))}),x},[n,a]),d=h.useMemo(()=>{var y,b;const x=u.map(_=>{let{column:w,sortOrder:E}=_;return{column:w,order:E}});return{sortColumns:x,sortColumn:(y=x[0])===null||y===void 0?void 0:y.column,sortOrder:(b=x[0])===null||b===void 0?void 0:b.order}},[u]),f=y=>{let b;y.multiplePriority===!1||!u.length||u[0].multiplePriority===!1?b=[y]:b=[].concat(it(u.filter(x=>{let{key:_}=x;return _!==y.key})),[y]),l(b),s(_H(b),b)};return[y=>Eee(e,y,u,f,r,i,o),u,d,()=>_H(u)]},Iee=(t,e)=>t.map(r=>{const i=Object.assign({},r);return i.title=MT(r.title,e),"children"in i&&(i.children=Iee(i.children,e)),i}),Cze=t=>[h.useCallback(n=>Iee(n,t),[t])],Sze=hee((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),Eze=mee((t,e)=>{const{_renderTimes:n}=t,{_renderTimes:r}=e;return n!==r}),Ize=t=>{const{componentCls:e,lineWidth:n,lineType:r,tableBorderColor:i,tableHeaderBg:o,tablePaddingVertical:s,tablePaddingHorizontal:a,calc:l}=t,c=`${Ne(n)} ${r} ${i}`,u=(d,f,p)=>({[`&${e}-${d}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${e}-expanded-row-fixed`]:{margin:`${Ne(l(f).mul(-1).equal())}
              ${Ne(l(l(p).add(n)).mul(-1).equal())}`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${e}-title`]:{border:c,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:c,borderTop:c,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${e}-expanded-row-fixed`]:{margin:`${Ne(l(s).mul(-1).equal())} ${Ne(l(l(a).add(n)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},u("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle)),u("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:c,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${Ne(n)} 0 ${Ne(n)} ${o}`}},[`${e}-bordered ${e}-cell-scrollbar`]:{borderInlineEnd:c}}}},Tze=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:Object.assign(Object.assign({},cx),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},Pze=t=>{const{componentCls:e}=t;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:t.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:t.colorBgContainer}}}}},Rze=t=>{const{componentCls:e,antCls:n,motionDurationSlow:r,lineWidth:i,paddingXS:o,lineType:s,tableBorderColor:a,tableExpandIconBg:l,tableExpandColumnWidth:c,borderRadius:u,tablePaddingVertical:d,tablePaddingHorizontal:f,tableExpandedRowBg:p,paddingXXS:v,expandIconMarginTop:y,expandIconSize:b,expandIconHalfInner:x,expandIconScale:_,calc:w}=t,E=`${Ne(i)} ${s} ${a}`,T=w(v).sub(i).equal();return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:c},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:Object.assign(Object.assign({},NIe(t)),{position:"relative",float:"left",width:b,height:b,color:"inherit",lineHeight:Ne(b),background:l,border:E,borderRadius:u,transform:`scale(${_})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:x,insetInlineEnd:T,insetInlineStart:T,height:i},"&::after":{top:T,bottom:T,insetInlineStart:x,width:i,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:y,marginInlineEnd:o},[`tr${e}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:p}},[`${n}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`${Ne(w(d).mul(-1).equal())} ${Ne(w(f).mul(-1).equal())}`,padding:`${Ne(d)} ${Ne(f)}`}}}},kze=t=>{const{componentCls:e,antCls:n,iconCls:r,tableFilterDropdownWidth:i,tableFilterDropdownSearchWidth:o,paddingXXS:s,paddingXS:a,colorText:l,lineWidth:c,lineType:u,tableBorderColor:d,headerIconColor:f,fontSizeSM:p,tablePaddingHorizontal:v,borderRadius:y,motionDurationSlow:b,colorTextDescription:x,colorPrimary:_,tableHeaderFilterActiveBg:w,colorTextDisabled:E,tableFilterDropdownBg:T,tableFilterDropdownHeight:I,controlItemBgHover:S,controlItemBgActive:P,boxShadowSecondary:R,filterDropdownMenuBg:O,calc:N}=t,A=`${n}-dropdown`,$=`${e}-filter-dropdown`,M=`${n}-tree`,F=`${Ne(c)} ${u} ${d}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:N(s).mul(-1).equal(),marginInline:`${Ne(s)} ${Ne(N(v).div(2).mul(-1).equal())}`,padding:`0 ${Ne(s)}`,color:f,fontSize:p,borderRadius:y,cursor:"pointer",transition:`all ${b}`,"&:hover":{color:x,background:w},"&.active":{color:_}}}},{[`${n}-dropdown`]:{[$]:Object.assign(Object.assign({},Si(t)),{minWidth:i,backgroundColor:T,borderRadius:y,boxShadow:R,overflow:"hidden",[`${A}-menu`]:{maxHeight:I,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:O,"&:empty::after":{display:"block",padding:`${Ne(a)} 0`,color:E,fontSize:p,textAlign:"center",content:'"Not Found"'}},[`${$}-tree`]:{paddingBlock:`${Ne(a)} 0`,paddingInline:a,[M]:{padding:0},[`${M}-treenode ${M}-node-content-wrapper:hover`]:{backgroundColor:S},[`${M}-treenode-checkbox-checked ${M}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:P}}},[`${$}-search`]:{padding:a,borderBottom:F,"&-input":{input:{minWidth:o},[r]:{color:E}}},[`${$}-checkall`]:{width:"100%",marginBottom:s,marginInlineStart:s},[`${$}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${Ne(N(a).sub(c).equal())} ${Ne(a)}`,overflow:"hidden",borderTop:F}})}},{[`${n}-dropdown ${$}, ${$}-submenu`]:{[`${n}-checkbox-wrapper + span`]:{paddingInlineStart:a,color:l},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},Mze=t=>{const{componentCls:e,lineWidth:n,colorSplit:r,motionDurationSlow:i,zIndexTableFixed:o,tableBg:s,zIndexTableSticky:a,calc:l}=t,c=r;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:o,background:s},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:l(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:l(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l(a).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${i}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${e}-fixed-column-gapped`]:{[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after,
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},Oze=t=>{const{componentCls:e,antCls:n,margin:r}=t;return{[`${e}-wrapper`]:{[`${e}-pagination${n}-pagination`]:{margin:`${Ne(r)} 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:t.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},Dze=t=>{const{componentCls:e,tableRadius:n}=t;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${Ne(n)} ${Ne(n)} 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${e}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:`0 0 ${Ne(n)} ${Ne(n)}`}}}}},Aze=t=>{const{componentCls:e}=t;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${e}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${e}-row-indent`]:{float:"right"}}}}},$ze=t=>{const{componentCls:e,antCls:n,iconCls:r,fontSizeIcon:i,padding:o,paddingXS:s,headerIconColor:a,headerIconHoverColor:l,tableSelectionColumnWidth:c,tableSelectedRowBg:u,tableSelectedRowHoverBg:d,tableRowHoverBg:f,tablePaddingHorizontal:p,calc:v}=t;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:c,[`&${e}-selection-col-with-dropdown`]:{width:v(c).add(i).add(v(o).div(4)).equal()}},[`${e}-bordered ${e}-selection-col`]:{width:v(c).add(v(s).mul(2)).equal(),[`&${e}-selection-col-with-dropdown`]:{width:v(c).add(i).add(v(o).div(4)).add(v(s).mul(2)).equal()}},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column,
        ${e}-selection-column
      `]:{paddingInlineEnd:t.paddingXS,paddingInlineStart:t.paddingXS,textAlign:"center",[`${n}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:v(t.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:Ne(v(p).div(4).equal()),[r]:{color:a,fontSize:i,verticalAlign:"baseline","&:hover":{color:l}}},[`${e}-tbody`]:{[`${e}-row`]:{[`&${e}-row-selected`]:{[`> ${e}-cell`]:{background:u,"&-row-hover":{background:d}}},[`> ${e}-cell-row-hover`]:{background:f}}}}}},Nze=t=>{const{componentCls:e,tableExpandColumnWidth:n,calc:r}=t,i=(o,s,a,l)=>({[`${e}${e}-${o}`]:{fontSize:l,[`
        ${e}-title,
        ${e}-footer,
        ${e}-cell,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${Ne(s)} ${Ne(a)}`},[`${e}-filter-trigger`]:{marginInlineEnd:Ne(r(a).div(2).mul(-1).equal())},[`${e}-expanded-row-fixed`]:{margin:`${Ne(r(s).mul(-1).equal())} ${Ne(r(a).mul(-1).equal())}`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:Ne(r(s).mul(-1).equal()),marginInline:`${Ne(r(n).sub(a).equal())} ${Ne(r(a).mul(-1).equal())}`}},[`${e}-selection-extra`]:{paddingInlineStart:Ne(r(a).div(4).equal())}}});return{[`${e}-wrapper`]:Object.assign(Object.assign({},i("middle",t.tablePaddingVerticalMiddle,t.tablePaddingHorizontalMiddle,t.tableFontSizeMiddle)),i("small",t.tablePaddingVerticalSmall,t.tablePaddingHorizontalSmall,t.tableFontSizeSmall))}},Lze=t=>{const{componentCls:e,marginXXS:n,fontSizeIcon:r,headerIconColor:i,headerIconHoverColor:o}=t;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${t.motionDurationSlow}, left 0s`,"&:hover":{background:t.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:t.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:t.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:t.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:t.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${e}-column-sorter`]:{marginInlineStart:n,color:i,fontSize:0,transition:`color ${t.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:t.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:o}}}},jze=t=>{const{componentCls:e,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:i,tableScrollThumbSize:o,tableScrollBg:s,zIndexTableSticky:a,stickyScrollBarBorderRadius:l,lineWidth:c,lineType:u,tableBorderColor:d}=t,f=`${Ne(c)} ${u} ${d}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:a,background:t.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${Ne(o)} !important`,zIndex:a,display:"flex",alignItems:"center",background:s,borderTop:f,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:o,backgroundColor:r,borderRadius:l,transition:`all ${t.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:i}}}}}}},wH=t=>{const{componentCls:e,lineWidth:n,tableBorderColor:r,calc:i}=t,o=`${Ne(n)} ${t.lineType} ${r}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:t.zIndexTableFixed,background:t.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},[`div${e}-summary`]:{boxShadow:`0 ${Ne(i(n).mul(-1).equal())} 0 ${r}`}}}},zze=t=>{const{componentCls:e,motionDurationMid:n,lineWidth:r,lineType:i,tableBorderColor:o,calc:s}=t,a=`${Ne(r)} ${i} ${o}`,l=`${e}-expanded-row-cell`;return{[`${e}-wrapper`]:{[`${e}-tbody-virtual`]:{[`${e}-tbody-virtual-holder-inner`]:{[`
            & > ${e}-row, 
            & > div:not(${e}-row) > ${e}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${e}-cell`]:{borderBottom:a,transition:`background ${n}`},[`${e}-expanded-row`]:{[`${l}${l}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${Ne(r)})`,borderInlineEnd:"none"}}},[`${e}-bordered`]:{[`${e}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:a,position:"absolute"},[`${e}-cell`]:{borderInlineEnd:a,[`&${e}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:s(r).mul(-1).equal(),borderInlineStart:a}}},[`&${e}-virtual`]:{[`${e}-placeholder ${e}-cell`]:{borderInlineEnd:a,borderBottom:a}}}}}},Fze=t=>{const{componentCls:e,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:i,tableExpandColumnWidth:o,lineWidth:s,lineType:a,tableBorderColor:l,tableFontSize:c,tableBg:u,tableRadius:d,tableHeaderTextColor:f,motionDurationMid:p,tableHeaderBg:v,tableHeaderCellSplitColor:y,tableFooterTextColor:b,tableFooterBg:x,calc:_}=t,w=`${Ne(s)} ${a} ${l}`;return{[`${e}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},ux()),{[e]:Object.assign(Object.assign({},Si(t)),{fontSize:c,background:u,borderRadius:`${Ne(d)} ${Ne(d)} 0 0`,scrollbarColor:`${t.tableScrollThumbBg} ${t.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${Ne(d)} ${Ne(d)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-cell,
          ${e}-thead > tr > th,
          ${e}-tbody > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${Ne(r)} ${Ne(i)}`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${Ne(r)} ${Ne(i)}`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:v,borderBottom:w,transition:`background ${p} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:y,transform:"translateY(-50%)",transition:`background-color ${p}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${p}, border-color ${p}`,borderBottom:w,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:Ne(_(r).mul(-1).equal()),marginInline:`${Ne(_(o).sub(i).equal())}
                ${Ne(_(i).mul(-1).equal())}`,[`${e}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:f,fontWeight:n,textAlign:"start",background:v,borderBottom:w,transition:`background ${p} ease`}}},[`${e}-footer`]:{padding:`${Ne(r)} ${Ne(i)}`,color:b,background:x}})}},Bze=t=>{const{colorFillAlter:e,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:i,colorFillContent:o,controlItemBgActive:s,controlItemBgActiveHover:a,padding:l,paddingSM:c,paddingXS:u,colorBorderSecondary:d,borderRadiusLG:f,controlHeight:p,colorTextPlaceholder:v,fontSize:y,fontSizeSM:b,lineHeight:x,lineWidth:_,colorIcon:w,colorIconHover:E,opacityLoading:T,controlInteractiveSize:I}=t,S=new Xn(i).onBackground(n).toHexString(),P=new Xn(o).onBackground(n).toHexString(),R=new Xn(e).onBackground(n).toHexString(),O=new Xn(w),N=new Xn(E),A=I/2-_,$=A*2+_*3;return{headerBg:R,headerColor:r,headerSortActiveBg:S,headerSortHoverBg:P,bodySortBg:R,rowHoverBg:R,rowSelectedBg:s,rowSelectedHoverBg:a,rowExpandedBg:e,cellPaddingBlock:l,cellPaddingInline:l,cellPaddingBlockMD:c,cellPaddingInlineMD:u,cellPaddingBlockSM:u,cellPaddingInlineSM:u,borderColor:d,headerBorderRadius:f,footerBg:R,footerColor:r,cellFontSize:y,cellFontSizeMD:y,cellFontSizeSM:y,headerSplitColor:d,fixedHeaderSortActiveBg:S,headerFilterHoverBg:o,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:p,stickyScrollBarBg:v,stickyScrollBarBorderRadius:100,expandIconMarginTop:(y*x-_*3)/2-Math.ceil((b*1.4-_*3)/2),headerIconColor:O.clone().setA(O.a*T).toRgbString(),headerIconHoverColor:N.clone().setA(N.a*T).toRgbString(),expandIconHalfInner:A,expandIconSize:$,expandIconScale:I/$}},CH=2,Vze=gi("Table",t=>{const{colorTextHeading:e,colorSplit:n,colorBgContainer:r,controlInteractiveSize:i,headerBg:o,headerColor:s,headerSortActiveBg:a,headerSortHoverBg:l,bodySortBg:c,rowHoverBg:u,rowSelectedBg:d,rowSelectedHoverBg:f,rowExpandedBg:p,cellPaddingBlock:v,cellPaddingInline:y,cellPaddingBlockMD:b,cellPaddingInlineMD:x,cellPaddingBlockSM:_,cellPaddingInlineSM:w,borderColor:E,footerBg:T,footerColor:I,headerBorderRadius:S,cellFontSize:P,cellFontSizeMD:R,cellFontSizeSM:O,headerSplitColor:N,fixedHeaderSortActiveBg:A,headerFilterHoverBg:$,filterDropdownBg:M,expandIconBg:F,selectionColumnWidth:z,stickyScrollBarBg:j,calc:B}=t,W=Jn(t,{tableFontSize:P,tableBg:r,tableRadius:S,tablePaddingVertical:v,tablePaddingHorizontal:y,tablePaddingVerticalMiddle:b,tablePaddingHorizontalMiddle:x,tablePaddingVerticalSmall:_,tablePaddingHorizontalSmall:w,tableBorderColor:E,tableHeaderTextColor:s,tableHeaderBg:o,tableFooterTextColor:I,tableFooterBg:T,tableHeaderCellSplitColor:N,tableHeaderSortBg:a,tableHeaderSortHoverBg:l,tableBodySortBg:c,tableFixedHeaderSortActiveBg:A,tableHeaderFilterActiveBg:$,tableFilterDropdownBg:M,tableRowHoverBg:u,tableSelectedRowBg:d,tableSelectedRowHoverBg:f,zIndexTableFixed:CH,zIndexTableSticky:B(CH).add(1).equal({unit:!1}),tableFontSizeMiddle:R,tableFontSizeSmall:O,tableSelectionColumnWidth:z,tableExpandIconBg:F,tableExpandColumnWidth:B(i).add(B(t.padding).mul(2)).equal(),tableExpandedRowBg:p,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:j,tableScrollThumbBgHover:e,tableScrollBg:n});return[Fze(W),Oze(W),wH(W),Lze(W),kze(W),Ize(W),Dze(W),Rze(W),wH(W),Pze(W),$ze(W),Mze(W),jze(W),Tze(W),Nze(W),Aze(W),zze(W)]},Bze,{unitless:{expandIconScale:!0}}),Hze=[],Wze=(t,e)=>{var n,r;const{prefixCls:i,className:o,rootClassName:s,style:a,size:l,bordered:c,dropdownPrefixCls:u,dataSource:d,pagination:f,rowSelection:p,rowKey:v="key",rowClassName:y,columns:b,children:x,childrenColumnName:_,onChange:w,getPopupContainer:E,loading:T,expandIcon:I,expandable:S,expandedRowRender:P,expandIconColumnIndex:R,indentSize:O,scroll:N,sortDirections:A,locale:$,showSorterTooltip:M={target:"full-header"},virtual:F}=t;bp();const z=h.useMemo(()=>b||yL(x),[b,x]),j=h.useMemo(()=>z.some(Ze=>Ze.responsive),[z]),B=KQ(j),W=h.useMemo(()=>{const Ze=new Set(Object.keys(B).filter(Xe=>B[Xe]));return z.filter(Xe=>!Xe.responsive||Xe.responsive.some(et=>Ze.has(et)))},[z,B]),q=go(t,["className","style","columns"]),{locale:G=rf,direction:X,table:ue,renderEmpty:te,getPrefixCls:J,getPopupContainer:se}=h.useContext(Pn),ge=El(l),le=Object.assign(Object.assign({},G.Table),$),we=d||Hze,ce=J("table",i),be=J("dropdown",u),[,K]=Bo(),oe=Bs(ce),[V,ie,re]=Vze(ce,oe),ee=Object.assign(Object.assign({childrenColumnName:_,expandIconColumnIndex:R},S),{expandIcon:(n=S==null?void 0:S.expandIcon)!==null&&n!==void 0?n:(r=ue==null?void 0:ue.expandable)===null||r===void 0?void 0:r.expandIcon}),{childrenColumnName:Y="children"}=ee,he=h.useMemo(()=>we.some(Ze=>Ze==null?void 0:Ze[Y])?"nest":P||S!=null&&S.expandedRowRender?"row":null,[we]),Ce={body:h.useRef(null)},me=j4e(ce),fe=h.useRef(null),ye=h.useRef(null);N4e(e,()=>Object.assign(Object.assign({},ye.current),{nativeElement:fe.current}));const Te=h.useMemo(()=>typeof v=="function"?v:Ze=>Ze==null?void 0:Ze[v],[v]),[ke]=vze(we,Y,Te),je={},de=function(Ze,Xe){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var st,bt,Tt,tn;const Wt=Object.assign(Object.assign({},je),Ze);et&&((st=je.resetPagination)===null||st===void 0||st.call(je),!((bt=Wt.pagination)===null||bt===void 0)&&bt.current&&(Wt.pagination.current=1),f&&((Tt=f.onChange)===null||Tt===void 0||Tt.call(f,1,(tn=Wt.pagination)===null||tn===void 0?void 0:tn.pageSize))),N&&N.scrollToFirstRowOnChange!==!1&&Ce.body.current&&KTe(0,{getContainer:()=>Ce.body.current}),w==null||w(Wt.pagination,Wt.filters,Wt.sorter,{currentDataSource:pD(gD(we,Wt.sorterStates,Y),Wt.filterStates,Y),action:Xe})},Se=(Ze,Xe)=>{de({sorter:Ze,sorterStates:Xe},"sort",!1)},[Re,Ve,De,ze]=wze({prefixCls:ce,mergedColumns:W,onSorterChange:Se,sortDirections:A||["ascend","descend"],tableLocale:le,showSorterTooltip:M}),$e=h.useMemo(()=>gD(we,Ve,Y),[we,Ve]);je.sorter=ze(),je.sorterStates=Ve;const Ke=(Ze,Xe)=>{de({filters:Ze,filterStates:Xe},"filter",!0)},[Ae,Ue,rt]=gze({prefixCls:ce,locale:le,dropdownPrefixCls:be,mergedColumns:W,onFilterChange:Ke,getPopupContainer:E||se,rootClassName:Oe(s,oe)}),mt=pD($e,Ue,Y);je.filters=rt,je.filterStates=Ue;const ot=h.useMemo(()=>{const Ze={};return Object.keys(rt).forEach(Xe=>{rt[Xe]!==null&&(Ze[Xe]=rt[Xe])}),Object.assign(Object.assign({},De),{filters:Ze})},[De,rt]),[Bt]=Cze(ot),Xt=(Ze,Xe)=>{de({pagination:Object.assign(Object.assign({},je.pagination),{current:Ze,pageSize:Xe})},"paginate")},[Lt,en]=xze(mt.length,Xt,f);je.pagination=f===!1?{}:bze(Lt,f),je.resetPagination=en;const on=h.useMemo(()=>{if(f===!1||!Lt.pageSize)return mt;const{current:Ze=1,total:Xe,pageSize:et=See}=Lt;return mt.length<Xe?mt.length>et?mt.slice((Ze-1)*et,Ze*et):mt:mt.slice((Ze-1)*et,Ze*et)},[!!f,mt,Lt==null?void 0:Lt.current,Lt==null?void 0:Lt.pageSize,Lt==null?void 0:Lt.total]),[xn,qt]=A4e({prefixCls:ce,data:mt,pageData:on,getRowKey:Te,getRecordByKey:ke,expandType:he,childrenColumnName:Y,locale:le,getPopupContainer:E||se},p),St=(Ze,Xe,et)=>{let st;return typeof y=="function"?st=Oe(y(Ze,Xe,et)):st=Oe(y),Oe({[`${ce}-row-selected`]:qt.has(Te(Ze,Xe))},st)};ee.__PARENT_RENDER_ICON__=ee.expandIcon,ee.expandIcon=ee.expandIcon||I||L4e(le),he==="nest"&&ee.expandIconColumnIndex===void 0?ee.expandIconColumnIndex=p?1:0:ee.expandIconColumnIndex>0&&p&&(ee.expandIconColumnIndex-=1),typeof ee.indentSize!="number"&&(ee.indentSize=typeof O=="number"?O:15);const gt=h.useCallback(Ze=>Bt(xn(Ae(Re(Ze)))),[Re,Ae,xn]);let lt,kt;if(f!==!1&&(Lt!=null&&Lt.total)){let Ze;Lt.size?Ze=Lt.size:Ze=ge==="small"||ge==="middle"?"small":void 0;const Xe=bt=>h.createElement(aLe,Object.assign({},Lt,{className:Oe(`${ce}-pagination ${ce}-pagination-${bt}`,Lt.className),size:Ze})),et=X==="rtl"?"left":"right",{position:st}=Lt;if(st!==null&&Array.isArray(st)){const bt=st.find(Wt=>Wt.includes("top")),Tt=st.find(Wt=>Wt.includes("bottom")),tn=st.every(Wt=>`${Wt}`=="none");!bt&&!Tt&&!tn&&(kt=Xe(et)),bt&&(lt=Xe(bt.toLowerCase().replace("top",""))),Tt&&(kt=Xe(Tt.toLowerCase().replace("bottom","")))}else kt=Xe(et)}let Ie;typeof T=="boolean"?Ie={spinning:T}:typeof T=="object"&&(Ie=Object.assign({spinning:!0},T));const Ee=Oe(re,oe,`${ce}-wrapper`,ue==null?void 0:ue.className,{[`${ce}-wrapper-rtl`]:X==="rtl"},o,s,ie),Pe=Object.assign(Object.assign({},ue==null?void 0:ue.style),a),Be=typeof($==null?void 0:$.emptyText)<"u"?$.emptyText:(te==null?void 0:te("Table"))||h.createElement(zQ,{componentName:"Table"}),Le=F?Eze:Sze,Qe={},at=h.useMemo(()=>{const{fontSize:Ze,lineHeight:Xe,lineWidth:et,padding:st,paddingXS:bt,paddingSM:Tt}=K,tn=Math.floor(Ze*Xe);switch(ge){case"middle":return Tt*2+tn+et;case"small":return bt*2+tn+et;default:return st*2+tn+et}},[K,ge]);return F&&(Qe.listItemHeight=at),V(h.createElement("div",{ref:fe,className:Ee,style:Pe},h.createElement(gx,Object.assign({spinning:!1},Ie),lt,h.createElement(Le,Object.assign({},Qe,q,{ref:ye,columns:W,direction:X,expandable:ee,prefixCls:ce,className:Oe({[`${ce}-middle`]:ge==="middle",[`${ce}-small`]:ge==="small",[`${ce}-bordered`]:c,[`${ce}-empty`]:we.length===0},re,oe,ie),data:on,rowKey:Te,rowClassName:St,emptyText:Be,internalHooks:S_,internalRefs:Ce,transformColumns:gt,getContainerWidth:me})),kt)))},Uze=h.forwardRef(Wze),Kze=(t,e)=>{const n=h.useRef(0);return n.current+=1,h.createElement(Uze,Object.assign({},t,{ref:e,_renderTimes:n.current}))},Nu=h.forwardRef(Kze);Nu.SELECTION_COLUMN=nd;Nu.EXPAND_COLUMN=Uc;Nu.SELECTION_ALL=cD;Nu.SELECTION_INVERT=uD;Nu.SELECTION_NONE=dD;Nu.Column=C4e;Nu.ColumnGroup=S4e;Nu.Summary=nee;const qze=t=>{const{paddingXXS:e,lineWidth:n,tagPaddingHorizontal:r,componentCls:i,calc:o}=t,s=o(r).sub(n).equal(),a=o(e).sub(n).equal();return{[i]:Object.assign(Object.assign({},Si(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:s,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${Ne(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${i}-close-icon`]:{marginInlineStart:a,fontSize:t.tagIconSize,color:t.colorTextDescription,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:s}}),[`${i}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},EL=t=>{const{lineWidth:e,fontSizeIcon:n,calc:r}=t,i=t.fontSizeSM;return Jn(t,{tagFontSize:i,tagLineHeight:Ne(r(t.lineHeightSM).mul(i).equal()),tagIconSize:r(n).sub(r(e).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},IL=t=>({defaultBg:new Xn(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText}),Tee=gi("Tag",t=>{const e=EL(t);return qze(e)},IL);var Gze=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Yze=h.forwardRef((t,e)=>{const{prefixCls:n,style:r,className:i,checked:o,onChange:s,onClick:a}=t,l=Gze(t,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:c,tag:u}=h.useContext(Pn),d=x=>{s==null||s(!o),a==null||a(x)},f=c("tag",n),[p,v,y]=Tee(f),b=Oe(f,`${f}-checkable`,{[`${f}-checkable-checked`]:o},u==null?void 0:u.className,i,v,y);return p(h.createElement("span",Object.assign({},l,{ref:e,style:Object.assign(Object.assign({},r),u==null?void 0:u.style),className:b,onClick:d})))}),Xze=t=>iZ(t,(e,n)=>{let{textColor:r,lightBorderColor:i,lightColor:o,darkColor:s}=n;return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:r,background:o,borderColor:i,"&-inverse":{color:t.colorTextLightSolid,background:s,borderColor:s},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Zze=a_(["Tag","preset"],t=>{const e=EL(t);return Xze(e)},IL);function Qze(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const uC=(t,e,n)=>{const r=Qze(n);return{[`${t.componentCls}${t.componentCls}-${e}`]:{color:t[`color${n}`],background:t[`color${r}Bg`],borderColor:t[`color${r}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}},Jze=a_(["Tag","status"],t=>{const e=EL(t);return[uC(e,"success","Success"),uC(e,"processing","Info"),uC(e,"error","Error"),uC(e,"warning","Warning")]},IL);var eFe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const tFe=h.forwardRef((t,e)=>{const{prefixCls:n,className:r,rootClassName:i,style:o,children:s,icon:a,color:l,onClose:c,bordered:u=!0,visible:d}=t,f=eFe(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:p,direction:v,tag:y}=h.useContext(Pn),[b,x]=h.useState(!0),_=go(f,["closeIcon","closable"]);h.useEffect(()=>{d!==void 0&&x(d)},[d]);const w=JQ(l),E=KDe(l),T=w||E,I=Object.assign(Object.assign({backgroundColor:l&&!T?l:void 0},y==null?void 0:y.style),o),S=p("tag",n),[P,R,O]=Tee(S),N=Oe(S,y==null?void 0:y.className,{[`${S}-${l}`]:T,[`${S}-has-color`]:l&&!T,[`${S}-hidden`]:!b,[`${S}-rtl`]:v==="rtl",[`${S}-borderless`]:!u},r,i,R,O),A=B=>{B.stopPropagation(),c==null||c(B),!B.defaultPrevented&&x(!1)},[,$]=iQ(aE(t),aE(y),{closable:!1,closeIconRender:B=>{const W=h.createElement("span",{className:`${S}-close-icon`,onClick:A},B);return TZ(B,W,q=>({onClick:G=>{var X;(X=q==null?void 0:q.onClick)===null||X===void 0||X.call(q,G),A(G)},className:Oe(q==null?void 0:q.className,`${S}-close-icon`)}))}}),M=typeof f.onClick=="function"||s&&s.type==="a",F=a||null,z=F?h.createElement(h.Fragment,null,F,s&&h.createElement("span",null,s)):s,j=h.createElement("span",Object.assign({},_,{ref:e,className:N,style:I}),z,$,w&&h.createElement(Zze,{key:"preset",prefixCls:S}),E&&h.createElement(Jze,{key:"status",prefixCls:S}));return P(M?h.createElement(f_,{component:"Tag"},j):j)}),Pee=tFe;Pee.CheckableTag=Yze;const{Option:nFe}=xl,tp=({value:t,onChange:e,placeholder:n="Sélectionner un pôle",style:r,disabled:i=!1,allowClear:o=!0,showSearch:s=!0,className:a,required:l=!1,filterBySelas:c=!1,currentSelasId:u=null})=>{const{poles:d,loading:f,error:p}=i_(),[v,y]=h.useState([]);h.useEffect(()=>{y(c&&u?d.filter(x=>x.selasId===u||!x.selasId):d)},[d,c,u]);const b=x=>{e&&e(x)};return p?(console.error("Erreur lors du chargement des pôles:",p),g.jsx(xl,{className:a,style:r,disabled:!0,placeholder:"Erreur de chargement"})):g.jsx(xl,{className:a,value:t,onChange:b,placeholder:n,style:{width:200,...r},disabled:i||f,allowClear:o,showSearch:s,filterOption:(x,_)=>{var w;return((w=_==null?void 0:_.children)==null?void 0:w.toString().toLowerCase().indexOf(x.toLowerCase()))>=0},notFoundContent:f?g.jsx(gx,{size:"small"}):"Aucun pôle trouvé",children:v.map(x=>g.jsx(nFe,{value:x.id,children:x.nom},x.id))})},xx={black:"#000",white:"#fff"},sm={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},am={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},lm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},cm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},um={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Fy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},rFe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function np(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const iFe=Object.freeze(Object.defineProperty({__proto__:null,default:np},Symbol.toStringTag,{value:"Module"})),OT="$$material";function oFe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function sFe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var aFe=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(sFe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=oFe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ko="-ms-",vE="-moz-",br="-webkit-",Ree="comm",TL="rule",PL="decl",lFe="@import",kee="@keyframes",cFe="@layer",uFe=Math.abs,DT=String.fromCharCode,dFe=Object.assign;function fFe(t,e){return Oo(t,0)^45?(((e<<2^Oo(t,0))<<2^Oo(t,1))<<2^Oo(t,2))<<2^Oo(t,3):0}function Mee(t){return t.trim()}function hFe(t,e){return(t=e.exec(t))?t[0]:t}function xr(t,e,n){return t.replace(e,n)}function vD(t,e){return t.indexOf(e)}function Oo(t,e){return t.charCodeAt(e)|0}function _x(t,e,n){return t.slice(e,n)}function Ul(t){return t.length}function RL(t){return t.length}function dC(t,e){return e.push(t),t}function pFe(t,e){return t.map(e).join("")}var AT=1,nv=1,Oee=0,zs=0,no=0,zv="";function $T(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:AT,column:nv,length:s,return:""}}function By(t,e){return dFe($T("",null,null,"",null,null,0),t,{length:-t.length},e)}function mFe(){return no}function gFe(){return no=zs>0?Oo(zv,--zs):0,nv--,no===10&&(nv=1,AT--),no}function sa(){return no=zs<Oee?Oo(zv,zs++):0,nv++,no===10&&(nv=1,AT++),no}function dc(){return Oo(zv,zs)}function PS(){return zs}function E_(t,e){return _x(zv,t,e)}function wx(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dee(t){return AT=nv=1,Oee=Ul(zv=t),zs=0,[]}function Aee(t){return zv="",t}function RS(t){return Mee(E_(zs-1,yD(t===91?t+2:t===40?t+1:t)))}function vFe(t){for(;(no=dc())&&no<33;)sa();return wx(t)>2||wx(no)>3?"":" "}function yFe(t,e){for(;--e&&sa()&&!(no<48||no>102||no>57&&no<65||no>70&&no<97););return E_(t,PS()+(e<6&&dc()==32&&sa()==32))}function yD(t){for(;sa();)switch(no){case t:return zs;case 34:case 39:t!==34&&t!==39&&yD(no);break;case 40:t===41&&yD(t);break;case 92:sa();break}return zs}function bFe(t,e){for(;sa()&&t+no!==57;)if(t+no===84&&dc()===47)break;return"/*"+E_(e,zs-1)+"*"+DT(t===47?t:sa())}function xFe(t){for(;!wx(dc());)sa();return E_(t,zs)}function _Fe(t){return Aee(kS("",null,null,null,[""],t=Dee(t),0,[0],t))}function kS(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,p=0,v=0,y=1,b=1,x=1,_=0,w="",E=i,T=o,I=r,S=w;b;)switch(v=_,_=sa()){case 40:if(v!=108&&Oo(S,d-1)==58){vD(S+=xr(RS(_),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:S+=RS(_);break;case 9:case 10:case 13:case 32:S+=vFe(v);break;case 92:S+=yFe(PS()-1,7);continue;case 47:switch(dc()){case 42:case 47:dC(wFe(bFe(sa(),PS()),e,n),l);break;default:S+="/"}break;case 123*y:a[c++]=Ul(S)*x;case 125*y:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+u:x==-1&&(S=xr(S,/\f/g,"")),p>0&&Ul(S)-d&&dC(p>32?EH(S+";",r,n,d-1):EH(xr(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(dC(I=SH(S,e,n,c,u,i,a,w,E=[],T=[],d),o),_===123)if(u===0)kS(S,e,I,I,E,o,d,a,T);else switch(f===99&&Oo(S,3)===110?100:f){case 100:case 108:case 109:case 115:kS(t,I,I,r&&dC(SH(t,I,I,0,0,i,a,w,i,E=[],d),T),i,T,d,a,r?E:T);break;default:kS(S,I,I,I,[""],T,0,a,T)}}c=u=p=0,y=x=1,w=S="",d=s;break;case 58:d=1+Ul(S),p=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&gFe()==125)continue}switch(S+=DT(_),_*y){case 38:x=u>0?1:(S+="\f",-1);break;case 44:a[c++]=(Ul(S)-1)*x,x=1;break;case 64:dc()===45&&(S+=RS(sa())),f=dc(),u=d=Ul(w=S+=xFe(PS())),_++;break;case 45:v===45&&Ul(S)==2&&(y=0)}}return o}function SH(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],p=RL(f),v=0,y=0,b=0;v<r;++v)for(var x=0,_=_x(t,d+1,d=uFe(y=s[v])),w=t;x<p;++x)(w=Mee(y>0?f[x]+" "+_:xr(_,/&\f/g,f[x])))&&(l[b++]=w);return $T(t,e,n,i===0?TL:a,l,c,u)}function wFe(t,e,n){return $T(t,e,n,Ree,DT(mFe()),_x(t,2,-2),0)}function EH(t,e,n,r){return $T(t,e,n,PL,_x(t,0,r),_x(t,r+1,-1),r)}function vg(t,e){for(var n="",r=RL(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function CFe(t,e,n,r){switch(t.type){case cFe:if(t.children.length)break;case lFe:case PL:return t.return=t.return||t.value;case Ree:return"";case kee:return t.return=t.value+"{"+vg(t.children,r)+"}";case TL:t.value=t.props.join(",")}return Ul(n=vg(t.children,r))?t.return=t.value+"{"+n+"}":""}function SFe(t){var e=RL(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function EFe(t){return function(e){e.root||(e=e.return)&&t(e)}}function $ee(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var IFe=function(e,n,r){for(var i=0,o=0;i=o,o=dc(),i===38&&o===12&&(n[r]=1),!wx(o);)sa();return E_(e,zs)},TFe=function(e,n){var r=-1,i=44;do switch(wx(i)){case 0:i===38&&dc()===12&&(n[r]=1),e[r]+=IFe(zs-1,n,r);break;case 2:e[r]+=RS(i);break;case 4:if(i===44){e[++r]=dc()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=DT(i)}while(i=sa());return e},PFe=function(e,n){return Aee(TFe(Dee(e),n))},IH=new WeakMap,RFe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!IH.get(r))&&!i){IH.set(e,!0);for(var o=[],s=PFe(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},kFe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Nee(t,e){switch(fFe(t,e)){case 5103:return br+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return br+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return br+t+vE+t+Ko+t+t;case 6828:case 4268:return br+t+Ko+t+t;case 6165:return br+t+Ko+"flex-"+t+t;case 5187:return br+t+xr(t,/(\w+).+(:[^]+)/,br+"box-$1$2"+Ko+"flex-$1$2")+t;case 5443:return br+t+Ko+"flex-item-"+xr(t,/flex-|-self/,"")+t;case 4675:return br+t+Ko+"flex-line-pack"+xr(t,/align-content|flex-|-self/,"")+t;case 5548:return br+t+Ko+xr(t,"shrink","negative")+t;case 5292:return br+t+Ko+xr(t,"basis","preferred-size")+t;case 6060:return br+"box-"+xr(t,"-grow","")+br+t+Ko+xr(t,"grow","positive")+t;case 4554:return br+xr(t,/([^-])(transform)/g,"$1"+br+"$2")+t;case 6187:return xr(xr(xr(t,/(zoom-|grab)/,br+"$1"),/(image-set)/,br+"$1"),t,"")+t;case 5495:case 3959:return xr(t,/(image-set\([^]*)/,br+"$1$`$1");case 4968:return xr(xr(t,/(.+:)(flex-)?(.*)/,br+"box-pack:$3"+Ko+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+br+t+t;case 4095:case 3583:case 4068:case 2532:return xr(t,/(.+)-inline(.+)/,br+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ul(t)-1-e>6)switch(Oo(t,e+1)){case 109:if(Oo(t,e+4)!==45)break;case 102:return xr(t,/(.+:)(.+)-([^]+)/,"$1"+br+"$2-$3$1"+vE+(Oo(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vD(t,"stretch")?Nee(xr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Oo(t,e+1)!==115)break;case 6444:switch(Oo(t,Ul(t)-3-(~vD(t,"!important")&&10))){case 107:return xr(t,":",":"+br)+t;case 101:return xr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+br+(Oo(t,14)===45?"inline-":"")+"box$3$1"+br+"$2$3$1"+Ko+"$2box$3")+t}break;case 5936:switch(Oo(t,e+11)){case 114:return br+t+Ko+xr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return br+t+Ko+xr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return br+t+Ko+xr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return br+t+Ko+t+t}return t}var MFe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case PL:e.return=Nee(e.value,e.length);break;case kee:return vg([By(e,{value:xr(e.value,"@","@"+br)})],i);case TL:if(e.length)return pFe(e.props,function(o){switch(hFe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vg([By(e,{props:[xr(o,/:(read-\w+)/,":"+vE+"$1")]})],i);case"::placeholder":return vg([By(e,{props:[xr(o,/:(plac\w+)/,":"+br+"input-$1")]}),By(e,{props:[xr(o,/:(plac\w+)/,":"+vE+"$1")]}),By(e,{props:[xr(o,/:(plac\w+)/,Ko+"input-$1")]})],i)}return""})}},OFe=[MFe],Lee=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||OFe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),x=1;x<b.length;x++)o[b[x]]=!0;a.push(y)});var l,c=[RFe,kFe];{var u,d=[CFe,EFe(function(y){u.insert(y)})],f=SFe(c.concat(i,d)),p=function(b){return vg(_Fe(b),f)};l=function(b,x,_,w){u=_,p(b?b+"{"+x.styles+"}":x.styles),w&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new aFe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return v.sheet.hydrate(a),v},jee={exports:{}},jr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=typeof Symbol=="function"&&Symbol.for,kL=To?Symbol.for("react.element"):60103,ML=To?Symbol.for("react.portal"):60106,NT=To?Symbol.for("react.fragment"):60107,LT=To?Symbol.for("react.strict_mode"):60108,jT=To?Symbol.for("react.profiler"):60114,zT=To?Symbol.for("react.provider"):60109,FT=To?Symbol.for("react.context"):60110,OL=To?Symbol.for("react.async_mode"):60111,BT=To?Symbol.for("react.concurrent_mode"):60111,VT=To?Symbol.for("react.forward_ref"):60112,HT=To?Symbol.for("react.suspense"):60113,DFe=To?Symbol.for("react.suspense_list"):60120,WT=To?Symbol.for("react.memo"):60115,UT=To?Symbol.for("react.lazy"):60116,AFe=To?Symbol.for("react.block"):60121,$Fe=To?Symbol.for("react.fundamental"):60117,NFe=To?Symbol.for("react.responder"):60118,LFe=To?Symbol.for("react.scope"):60119;function ha(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kL:switch(t=t.type,t){case OL:case BT:case NT:case jT:case LT:case HT:return t;default:switch(t=t&&t.$$typeof,t){case FT:case VT:case UT:case WT:case zT:return t;default:return e}}case ML:return e}}}function zee(t){return ha(t)===BT}jr.AsyncMode=OL;jr.ConcurrentMode=BT;jr.ContextConsumer=FT;jr.ContextProvider=zT;jr.Element=kL;jr.ForwardRef=VT;jr.Fragment=NT;jr.Lazy=UT;jr.Memo=WT;jr.Portal=ML;jr.Profiler=jT;jr.StrictMode=LT;jr.Suspense=HT;jr.isAsyncMode=function(t){return zee(t)||ha(t)===OL};jr.isConcurrentMode=zee;jr.isContextConsumer=function(t){return ha(t)===FT};jr.isContextProvider=function(t){return ha(t)===zT};jr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kL};jr.isForwardRef=function(t){return ha(t)===VT};jr.isFragment=function(t){return ha(t)===NT};jr.isLazy=function(t){return ha(t)===UT};jr.isMemo=function(t){return ha(t)===WT};jr.isPortal=function(t){return ha(t)===ML};jr.isProfiler=function(t){return ha(t)===jT};jr.isStrictMode=function(t){return ha(t)===LT};jr.isSuspense=function(t){return ha(t)===HT};jr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===NT||t===BT||t===jT||t===LT||t===HT||t===DFe||typeof t=="object"&&t!==null&&(t.$$typeof===UT||t.$$typeof===WT||t.$$typeof===zT||t.$$typeof===FT||t.$$typeof===VT||t.$$typeof===$Fe||t.$$typeof===NFe||t.$$typeof===LFe||t.$$typeof===AFe)};jr.typeOf=ha;jee.exports=jr;var jFe=jee.exports,Fee=jFe,zFe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FFe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Bee={};Bee[Fee.ForwardRef]=zFe;Bee[Fee.Memo]=FFe;var BFe=!0;function Vee(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var DL=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||BFe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},AL=function(e,n,r){DL(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function VFe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var HFe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WFe=/[A-Z]|^ms/g,UFe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Hee=function(e){return e.charCodeAt(1)===45},TH=function(e){return e!=null&&typeof e!="boolean"},zR=$ee(function(t){return Hee(t)?t:t.replace(WFe,"-$&").toLowerCase()}),PH=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(UFe,function(r,i,o){return Kl={name:i,styles:o,next:Kl},i})}return HFe[e]!==1&&!Hee(e)&&typeof n=="number"&&n!==0?n+"px":n};function Cx(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Kl={name:i.name,styles:i.styles,next:Kl},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Kl={name:s.name,styles:s.styles,next:Kl},s=s.next;var a=o.styles+";";return a}return KFe(t,e,n)}case"function":{if(t!==void 0){var l=Kl,c=n(t);return Kl=l,Cx(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function KFe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Cx(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":TH(a)&&(r+=zR(o)+":"+PH(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)TH(s[l])&&(r+=zR(o)+":"+PH(o,s[l])+";");else{var c=Cx(t,e,s);switch(o){case"animation":case"animationName":{r+=zR(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var RH=/label:\s*([^\s;{]+)\s*(;|$)/g,Kl;function KT(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Kl=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Cx(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Cx(n,e,t[a]),r){var l=o;i+=l[a]}RH.lastIndex=0;for(var c="",u;(u=RH.exec(i))!==null;)c+="-"+u[1];var d=VFe(i)+c;return{name:d,styles:i,next:Kl}}var qFe=function(e){return e()},Wee=vu.useInsertionEffect?vu.useInsertionEffect:!1,Uee=Wee||qFe,kH=Wee||h.useLayoutEffect,Kee=h.createContext(typeof HTMLElement<"u"?Lee({key:"css"}):null),GFe=Kee.Provider,$L=function(e){return h.forwardRef(function(n,r){var i=h.useContext(Kee);return e(n,i,r)})},I_=h.createContext({}),NL={}.hasOwnProperty,bD="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",YFe=function(e,n){var r={};for(var i in n)NL.call(n,i)&&(r[i]=n[i]);return r[bD]=e,r},XFe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return DL(n,r,i),Uee(function(){return AL(n,r,i)}),null},ZFe=$L(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[bD],o=[r],s="";typeof t.className=="string"?s=Vee(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=KT(o,void 0,h.useContext(I_));s+=e.key+"-"+a.name;var l={};for(var c in t)NL.call(t,c)&&c!=="css"&&c!==bD&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),h.createElement(h.Fragment,null,h.createElement(XFe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),h.createElement(i,l))}),QFe=ZFe,FR={exports:{}},MH;function qee(){return MH||(MH=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(FR)),FR.exports}qee();var OH=function(e,n){var r=arguments;if(n==null||!NL.call(n,"css"))return h.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=QFe,o[1]=YFe(e,n);for(var s=2;s<i;s++)o[s]=r[s];return h.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(OH||(OH={}));var JFe=$L(function(t,e){var n=t.styles,r=KT([n],void 0,h.useContext(I_)),i=h.useRef();return kH(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),kH(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&AL(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function qT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return KT(e)}function Fv(){var t=qT.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var e5e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,t5e=$ee(function(t){return e5e.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),n5e=t5e,r5e=function(e){return e!=="theme"},DH=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?n5e:r5e},AH=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},i5e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return DL(n,r,i),Uee(function(){return AL(n,r,i)}),null},o5e=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=AH(e,n,r),l=a||DH(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var p=u.length,v=1;v<p;v++)d.push(u[v],f[v])}var y=$L(function(b,x,_){var w=c&&b.as||i,E="",T=[],I=b;if(b.theme==null){I={};for(var S in b)I[S]=b[S];I.theme=h.useContext(I_)}typeof b.className=="string"?E=Vee(x.registered,T,b.className):b.className!=null&&(E=b.className+" ");var P=KT(d.concat(T),x.registered,I);E+=x.key+"-"+P.name,s!==void 0&&(E+=" "+s);var R=c&&a===void 0?DH(w):l,O={};for(var N in b)c&&N==="as"||R(N)&&(O[N]=b[N]);return O.className=E,_&&(O.ref=_),h.createElement(h.Fragment,null,h.createElement(i5e,{cache:x,serialized:P,isStringTag:typeof w=="string"}),h.createElement(w,O))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(b,x){var _=t(b,Q({},n,x,{shouldForwardProp:AH(y,x,!0)}));return _.apply(void 0,d)},y}},s5e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xD=o5e.bind(null);s5e.forEach(function(t){xD[t]=xD(t)});let _D;typeof document=="object"&&(_D=Lee({key:"css",prepend:!0}));function a5e(t){const{injectFirst:e,children:n}=t;return e&&_D?g.jsx(GFe,{value:_D,children:n}):n}function l5e(t){return t==null||Object.keys(t).length===0}function Gee(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(l5e(i)?n:i):e;return g.jsx(JFe,{styles:r})}function LL(t,e){return xD(t,e)}const Yee=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},c5e=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Gee,StyledEngineProvider:a5e,ThemeContext:I_,css:qT,default:LL,internal_processStyles:Yee,keyframes:Fv},Symbol.toStringTag,{value:"Module"}));function Xc(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Xee(t){if(h.isValidElement(t)||!Xc(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Xee(t[n])}),e}function ps(t,e,n={clone:!0}){const r=n.clone?Q({},t):t;return Xc(t)&&Xc(e)&&Object.keys(e).forEach(i=>{h.isValidElement(e[i])?r[i]=e[i]:Xc(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Xc(t[i])?r[i]=ps(t[i],e[i],n):n.clone?r[i]=Xc(e[i])?Xee(e[i]):e[i]:r[i]=e[i]}),r}const u5e=Object.freeze(Object.defineProperty({__proto__:null,default:ps,isPlainObject:Xc},Symbol.toStringTag,{value:"Module"})),d5e=["values","unit","step"],f5e=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Q({},n,{[r.key]:r.val}),{})};function Zee(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=xt(t,d5e),o=f5e(e),s=Object.keys(o);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const v=s.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(v!==-1&&typeof e[s[v]]=="number"?e[s[v]]:p)-r/100}${n})`}function u(f){return s.indexOf(f)+1<s.length?c(f,s[s.indexOf(f)+1]):a(f)}function d(f){const p=s.indexOf(f);return p===0?a(s[1]):p===s.length-1?l(s[p]):c(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return Q({keys:s,values:o,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const h5e={borderRadius:4};function J0(t,e){return e?ps(t,e,{clone:!1}):t}const jL={xs:0,sm:600,md:900,lg:1200,xl:1536},$H={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${jL[t]}px)`};function Fs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||$H;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||$H;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||jL).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function Qee(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function Jee(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function p5e(t,...e){const n=Qee(t),r=[n,...e].reduce((i,o)=>ps(i,o),{});return Jee(Object.keys(n),r)}function m5e(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function _h({values:t,breakpoints:e,base:n}){const r=n||m5e(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function yt(t){if(typeof t!="string")throw new Error(np(7));return t.charAt(0).toUpperCase()+t.slice(1)}const g5e=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"}));function GT(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function yE(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=GT(t,n)||r,e&&(i=e(i,r,t)),i}function Ki(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,c=GT(l,r)||{};return Fs(s,a,d=>{let f=yE(c,i,d);return d===f&&typeof d=="string"&&(f=yE(c,i,`${e}${d==="default"?"":yt(d)}`,d)),n===!1?f:{[n]:f}})};return o.propTypes={},o.filterProps=[e],o}function v5e(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const y5e={m:"margin",p:"padding"},b5e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},NH={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},x5e=v5e(t=>{if(t.length>2)if(NH[t])t=NH[t];else return[t];const[e,n]=t.split(""),r=y5e[e],i=b5e[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),zL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],FL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...zL,...FL];function T_(t,e,n,r){var i;const o=(i=GT(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function BL(t){return T_(t,"spacing",8)}function rp(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function _5e(t,e){return n=>t.reduce((r,i)=>(r[i]=rp(e,n),r),{})}function w5e(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=x5e(n),o=_5e(i,r),s=t[n];return Fs(t,s,o)}function ete(t,e){const n=BL(t.theme);return Object.keys(t).map(r=>w5e(t,e,r,n)).reduce(J0,{})}function ki(t){return ete(t,zL)}ki.propTypes={};ki.filterProps=zL;function Mi(t){return ete(t,FL)}Mi.propTypes={};Mi.filterProps=FL;function C5e(t=8){if(t.mui)return t;const e=BL({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function YT(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?J0(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ka(t){return typeof t!="number"?t:`${t}px solid`}function Xa(t,e){return Ki({prop:t,themeKey:"borders",transform:e})}const S5e=Xa("border",ka),E5e=Xa("borderTop",ka),I5e=Xa("borderRight",ka),T5e=Xa("borderBottom",ka),P5e=Xa("borderLeft",ka),R5e=Xa("borderColor"),k5e=Xa("borderTopColor"),M5e=Xa("borderRightColor"),O5e=Xa("borderBottomColor"),D5e=Xa("borderLeftColor"),A5e=Xa("outline",ka),$5e=Xa("outlineColor"),XT=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=T_(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:rp(e,r)});return Fs(t,t.borderRadius,n)}return null};XT.propTypes={};XT.filterProps=["borderRadius"];YT(S5e,E5e,I5e,T5e,P5e,R5e,k5e,M5e,O5e,D5e,XT,A5e,$5e);const ZT=t=>{if(t.gap!==void 0&&t.gap!==null){const e=T_(t.theme,"spacing",8),n=r=>({gap:rp(e,r)});return Fs(t,t.gap,n)}return null};ZT.propTypes={};ZT.filterProps=["gap"];const QT=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=T_(t.theme,"spacing",8),n=r=>({columnGap:rp(e,r)});return Fs(t,t.columnGap,n)}return null};QT.propTypes={};QT.filterProps=["columnGap"];const JT=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=T_(t.theme,"spacing",8),n=r=>({rowGap:rp(e,r)});return Fs(t,t.rowGap,n)}return null};JT.propTypes={};JT.filterProps=["rowGap"];const N5e=Ki({prop:"gridColumn"}),L5e=Ki({prop:"gridRow"}),j5e=Ki({prop:"gridAutoFlow"}),z5e=Ki({prop:"gridAutoColumns"}),F5e=Ki({prop:"gridAutoRows"}),B5e=Ki({prop:"gridTemplateColumns"}),V5e=Ki({prop:"gridTemplateRows"}),H5e=Ki({prop:"gridTemplateAreas"}),W5e=Ki({prop:"gridArea"});YT(ZT,QT,JT,N5e,L5e,j5e,z5e,F5e,B5e,V5e,H5e,W5e);function yg(t,e){return e==="grey"?e:t}const U5e=Ki({prop:"color",themeKey:"palette",transform:yg}),K5e=Ki({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:yg}),q5e=Ki({prop:"backgroundColor",themeKey:"palette",transform:yg});YT(U5e,K5e,q5e);function Ys(t){return t<=1&&t!==0?`${t*100}%`:t}const G5e=Ki({prop:"width",transform:Ys}),VL=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||jL[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ys(n)}};return Fs(t,t.maxWidth,e)}return null};VL.filterProps=["maxWidth"];const Y5e=Ki({prop:"minWidth",transform:Ys}),X5e=Ki({prop:"height",transform:Ys}),Z5e=Ki({prop:"maxHeight",transform:Ys}),Q5e=Ki({prop:"minHeight",transform:Ys});Ki({prop:"size",cssProperty:"width",transform:Ys});Ki({prop:"size",cssProperty:"height",transform:Ys});const J5e=Ki({prop:"boxSizing"});YT(G5e,VL,Y5e,X5e,Z5e,Q5e,J5e);const P_={border:{themeKey:"borders",transform:ka},borderTop:{themeKey:"borders",transform:ka},borderRight:{themeKey:"borders",transform:ka},borderBottom:{themeKey:"borders",transform:ka},borderLeft:{themeKey:"borders",transform:ka},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ka},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:XT},color:{themeKey:"palette",transform:yg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:yg},backgroundColor:{themeKey:"palette",transform:yg},p:{style:Mi},pt:{style:Mi},pr:{style:Mi},pb:{style:Mi},pl:{style:Mi},px:{style:Mi},py:{style:Mi},padding:{style:Mi},paddingTop:{style:Mi},paddingRight:{style:Mi},paddingBottom:{style:Mi},paddingLeft:{style:Mi},paddingX:{style:Mi},paddingY:{style:Mi},paddingInline:{style:Mi},paddingInlineStart:{style:Mi},paddingInlineEnd:{style:Mi},paddingBlock:{style:Mi},paddingBlockStart:{style:Mi},paddingBlockEnd:{style:Mi},m:{style:ki},mt:{style:ki},mr:{style:ki},mb:{style:ki},ml:{style:ki},mx:{style:ki},my:{style:ki},margin:{style:ki},marginTop:{style:ki},marginRight:{style:ki},marginBottom:{style:ki},marginLeft:{style:ki},marginX:{style:ki},marginY:{style:ki},marginInline:{style:ki},marginInlineStart:{style:ki},marginInlineEnd:{style:ki},marginBlock:{style:ki},marginBlockStart:{style:ki},marginBlockEnd:{style:ki},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ZT},rowGap:{style:JT},columnGap:{style:QT},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ys},maxWidth:{style:VL},minWidth:{transform:Ys},height:{transform:Ys},maxHeight:{transform:Ys},minHeight:{transform:Ys},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function eBe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function tBe(t,e){return typeof t=="function"?t(e):t}function tte(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const f=GT(i,c)||{};return d?d(s):Fs(s,r,v=>{let y=yE(f,u,v);return v===y&&typeof v=="string"&&(y=yE(f,u,`${n}${v==="default"?"":yt(v)}`,v)),l===!1?y:{[l]:y}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:P_;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=Qee(o.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const v=tBe(c[p],o);if(v!=null)if(typeof v=="object")if(s[p])f=J0(f,t(p,v,o,s));else{const y=Fs({theme:o},v,b=>({[p]:b}));eBe(y,v)?f[p]=e({sx:v,theme:o}):f=J0(f,y)}else f=J0(f,t(p,v,o,s))}),Jee(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const Bv=tte();Bv.filterProps=["sx"];function nte(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const nBe=["breakpoints","palette","spacing","shape"];function Vv(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=xt(t,nBe),a=Zee(n),l=C5e(i);let c=ps({breakpoints:a,direction:"ltr",components:{},palette:Q({mode:"light"},r),spacing:l,shape:Q({},h5e,o)},s);return c.applyStyles=nte,c=e.reduce((u,d)=>ps(u,d),c),c.unstable_sxConfig=Q({},P_,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Bv({sx:d,theme:this})},c}const rBe=Object.freeze(Object.defineProperty({__proto__:null,default:Vv,private_createBreakpoints:Zee,unstable_applyStyles:nte},Symbol.toStringTag,{value:"Module"}));function iBe(t){return Object.keys(t).length===0}function oBe(t=null){const e=h.useContext(I_);return!e||iBe(e)?t:e}const sBe=Vv();function e2(t=sBe){return oBe(t)}function aBe({styles:t,themeId:e,defaultTheme:n={}}){const r=e2(n),i=typeof t=="function"?t(e&&r[e]||r):t;return g.jsx(Gee,{styles:i})}const lBe=["sx"],cBe=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:P_;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function R_(t){const{sx:e}=t,n=xt(t,lBe),{systemProps:r,otherProps:i}=cBe(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return Xc(a)?Q({},r,a):r}:o=Q({},r,e),Q({},i,{sx:o})}const uBe=Object.freeze(Object.defineProperty({__proto__:null,default:Bv,extendSxProp:R_,unstable_createStyleFunctionSx:tte,unstable_defaultSxConfig:P_},Symbol.toStringTag,{value:"Module"})),LH=t=>t,dBe=()=>{let t=LH;return{configure(e){t=e},generate(e){return t(e)},reset(){t=LH}}},HL=dBe(),fBe=["className","component"];function hBe(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=LL("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Bv);return h.forwardRef(function(l,c){const u=e2(n),d=R_(l),{className:f,component:p="div"}=d,v=xt(d,fBe);return g.jsx(o,Q({as:p,ref:c,className:ut(f,i?i(r):r),theme:e&&u[e]||u},v))})}const pBe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Qt(t,e,n="Mui"){const r=pBe[e];return r?`${n}-${r}`:`${HL.generate(t)}-${e}`}function Jt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Qt(t,i,n)}),r}var rte={exports:{}},Gr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WL=Symbol.for("react.transitional.element"),UL=Symbol.for("react.portal"),t2=Symbol.for("react.fragment"),n2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),i2=Symbol.for("react.consumer"),o2=Symbol.for("react.context"),s2=Symbol.for("react.forward_ref"),a2=Symbol.for("react.suspense"),l2=Symbol.for("react.suspense_list"),c2=Symbol.for("react.memo"),u2=Symbol.for("react.lazy"),mBe=Symbol.for("react.offscreen"),gBe=Symbol.for("react.client.reference");function Za(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case WL:switch(t=t.type,t){case t2:case r2:case n2:case a2:case l2:return t;default:switch(t=t&&t.$$typeof,t){case o2:case s2:case u2:case c2:return t;case i2:return t;default:return e}}case UL:return e}}}Gr.ContextConsumer=i2;Gr.ContextProvider=o2;Gr.Element=WL;Gr.ForwardRef=s2;Gr.Fragment=t2;Gr.Lazy=u2;Gr.Memo=c2;Gr.Portal=UL;Gr.Profiler=r2;Gr.StrictMode=n2;Gr.Suspense=a2;Gr.SuspenseList=l2;Gr.isContextConsumer=function(t){return Za(t)===i2};Gr.isContextProvider=function(t){return Za(t)===o2};Gr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===WL};Gr.isForwardRef=function(t){return Za(t)===s2};Gr.isFragment=function(t){return Za(t)===t2};Gr.isLazy=function(t){return Za(t)===u2};Gr.isMemo=function(t){return Za(t)===c2};Gr.isPortal=function(t){return Za(t)===UL};Gr.isProfiler=function(t){return Za(t)===r2};Gr.isStrictMode=function(t){return Za(t)===n2};Gr.isSuspense=function(t){return Za(t)===a2};Gr.isSuspenseList=function(t){return Za(t)===l2};Gr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===t2||t===r2||t===n2||t===a2||t===l2||t===mBe||typeof t=="object"&&t!==null&&(t.$$typeof===u2||t.$$typeof===c2||t.$$typeof===o2||t.$$typeof===i2||t.$$typeof===s2||t.$$typeof===gBe||t.getModuleId!==void 0)};Gr.typeOf=Za;rte.exports=Gr;var jH=rte.exports;const vBe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function ite(t){const e=`${t}`.match(vBe);return e&&e[1]||""}function ote(t,e=""){return t.displayName||t.name||ite(t)||e}function zH(t,e,n){const r=ote(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function yBe(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return ote(t,"Component");if(typeof t=="object")switch(t.$$typeof){case jH.ForwardRef:return zH(t,t.render,"ForwardRef");case jH.Memo:return zH(t,t.type,"memo");default:return}}}const bBe=Object.freeze(Object.defineProperty({__proto__:null,default:yBe,getFunctionName:ite},Symbol.toStringTag,{value:"Module"})),xBe=["ownerState"],_Be=["variants"],wBe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function CBe(t){return Object.keys(t).length===0}function SBe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function BR(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const EBe=Vv(),IBe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function fC({defaultTheme:t,theme:e,themeId:n}){return CBe(e)?t:e[n]||e}function TBe(t){return t?(e,n)=>n[t]:null}function MS(t,e){let{ownerState:n}=e,r=xt(e,xBe);const i=typeof t=="function"?t(Q({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>MS(o,Q({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=xt(i,_Be);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(Q({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(Q({ownerState:n},r,n)):l.style))}),a}return i}function PBe(t={}){const{themeId:e,defaultTheme:n=EBe,rootShouldForwardProp:r=BR,slotShouldForwardProp:i=BR}=t,o=s=>Bv(Q({},s,{theme:fC(Q({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{Yee(s,T=>T.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=TBe(IBe(c))}=a,p=xt(a,wBe),v=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let b,x=BR;c==="Root"||c==="root"?x=r:c?x=i:SBe(s)&&(x=void 0);const _=LL(s,Q({shouldForwardProp:x,label:b},p)),w=T=>typeof T=="function"&&T.__emotion_real!==T||Xc(T)?I=>MS(T,Q({},I,{theme:fC({theme:I.theme,defaultTheme:n,themeId:e})})):T,E=(T,...I)=>{let S=w(T);const P=I?I.map(w):[];l&&f&&P.push(N=>{const A=fC(Q({},N,{defaultTheme:n,themeId:e}));if(!A.components||!A.components[l]||!A.components[l].styleOverrides)return null;const $=A.components[l].styleOverrides,M={};return Object.entries($).forEach(([F,z])=>{M[F]=MS(z,Q({},N,{theme:A}))}),f(N,M)}),l&&!v&&P.push(N=>{var A;const $=fC(Q({},N,{defaultTheme:n,themeId:e})),M=$==null||(A=$.components)==null||(A=A[l])==null?void 0:A.variants;return MS({variants:M},Q({},N,{theme:$}))}),y||P.push(o);const R=P.length-I.length;if(Array.isArray(T)&&R>0){const N=new Array(R).fill("");S=[...T,...N],S.raw=[...T.raw,...N]}const O=_(S,...P);return s.muiName&&(O.muiName=s.muiName),O};return _.withConfig&&(E.withConfig=_.withConfig),E}}const ste=PBe();function Sx(t,e){const n=Q({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Q({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=Q({},o),Object.keys(i).forEach(s=>{n[r][s]=Sx(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function RBe(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Sx(e.components[n].defaultProps,r)}function ate({props:t,name:e,defaultTheme:n,themeId:r}){let i=e2(n);return r&&(i=i[r]||i),RBe({theme:i,name:e,props:t})}const ca=typeof window<"u"?h.useLayoutEffect:h.useEffect;function kBe(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const MBe=Object.freeze(Object.defineProperty({__proto__:null,default:kBe},Symbol.toStringTag,{value:"Module"}));function wD(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function k_(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function OBe(t,e){return()=>null}function eb(t,e){var n,r;return h.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function No(t){return t&&t.ownerDocument||document}function Cc(t){return No(t).defaultView||window}function DBe(t,e){return()=>null}function bE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let FH=0;function ABe(t){const[e,n]=h.useState(t),r=t||e;return h.useEffect(()=>{e==null&&(FH+=1,n(`mui-${FH}`))},[e]),r}const BH=vu.useId;function M_(t){if(BH!==void 0){const e=BH();return t??e}return ABe(t)}function $Be(t,e,n,r,i){return null}function rv({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=h.useRef(t!==void 0),[o,s]=h.useState(e),a=i?t:o,l=h.useCallback(c=>{i||s(c)},[]);return[a,l]}function ta(t){const e=h.useRef(t);return ca(()=>{e.current=t}),h.useRef((...n)=>(0,e.current)(...n)).current}function Ii(...t){return h.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{bE(n,e)})},t)}const VH={};function NBe(t,e){const n=h.useRef(VH);return n.current===VH&&(n.current=t(e)),n}const LBe=[];function jBe(t){h.useEffect(t,LBe)}class O_{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new O_}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function lh(){const t=NBe(O_.create).current;return jBe(t.disposeEffect),t}let d2=!0,CD=!1;const zBe=new O_,FBe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function BBe(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&FBe[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function VBe(t){t.metaKey||t.altKey||t.ctrlKey||(d2=!0)}function VR(){d2=!1}function HBe(){this.visibilityState==="hidden"&&CD&&(d2=!0)}function WBe(t){t.addEventListener("keydown",VBe,!0),t.addEventListener("mousedown",VR,!0),t.addEventListener("pointerdown",VR,!0),t.addEventListener("touchstart",VR,!0),t.addEventListener("visibilitychange",HBe,!0)}function UBe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return d2||BBe(e)}function KL(){const t=h.useCallback(i=>{i!=null&&WBe(i.ownerDocument)},[]),e=h.useRef(!1);function n(){return e.current?(CD=!0,zBe.start(100,()=>{CD=!1}),e.current=!1,!0):!1}function r(i){return UBe(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function lte(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let dm;function cte(){if(dm)return dm;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),dm="reverse",t.scrollLeft>0?dm="default":(t.scrollLeft=1,t.scrollLeft===0&&(dm="negative")),document.body.removeChild(t),dm}function KBe(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(cte()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}function rn(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}function iv(t){return typeof t=="string"}function Um(t,e,n){return t===void 0||iv(t)?e:Q({},e,{ownerState:Q({},e.ownerState,n)})}function ute(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function HH(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function dte(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=ut(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),v=Q({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),y=Q({},n,i,r);return p.length>0&&(y.className=p),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:void 0}}const s=ute(Q({},i,r)),a=HH(r),l=HH(i),c=e(s),u=ut(c==null?void 0:c.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=Q({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=Q({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}function fte(t,e,n){return typeof t=="function"?t(e,n):t}const qBe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function wl(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=xt(t,qBe),a=o?{}:fte(r,i),{props:l,internalRef:c}=dte(Q({},s,{externalSlotProps:a})),u=Ii(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Um(n,Q({},l,{ref:u}),i)}function Hv(t){if(parseInt(h.version,10)>=19){var e;return(t==null||(e=t.props)==null?void 0:e.ref)||null}return(t==null?void 0:t.ref)||null}const GBe=h.createContext(),f2=()=>{const t=h.useContext(GBe);return t??!1},YBe=h.createContext(void 0);function XBe(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?Sx(i.defaultProps,r):!i.styleOverrides&&!i.variants?Sx(i,r):r}function ZBe({props:t,name:e}){const n=h.useContext(YBe);return XBe({props:t,name:e,theme:{components:n}})}const QBe=["className","component","disableGutters","fixed","maxWidth","classes"],JBe=Vv(),e3e=ste("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${yt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),t3e=t=>ate({props:t,name:"MuiContainer",defaultTheme:JBe}),n3e=(t,e)=>{const n=l=>Qt(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${yt(String(s))}`,i&&"fixed",o&&"disableGutters"]};return rn(a,n,r)};function r3e(t={}){const{createStyledComponent:e=e3e,useThemeProps:n=t3e,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>Q({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,c)=>{const u=c,d=s.breakpoints.values[u];return d!==0&&(l[s.breakpoints.up(u)]={maxWidth:`${d}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>Q({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return h.forwardRef(function(a,l){const c=n(a),{className:u,component:d="div",disableGutters:f=!1,fixed:p=!1,maxWidth:v="lg"}=c,y=xt(c,QBe),b=Q({},c,{component:d,disableGutters:f,fixed:p,maxWidth:v}),x=n3e(b,r);return g.jsx(i,Q({as:d,ownerState:b,className:ut(x.root,u),ref:l},y))})}const i3e=["component","direction","spacing","divider","children","className","useFlexGap"],o3e=Vv(),s3e=ste("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function a3e(t){return ate({props:t,name:"MuiStack",defaultTheme:o3e})}function l3e(t,e){const n=h.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(h.cloneElement(e,{key:`separator-${o}`})),r),[])}const c3e=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],u3e=({ownerState:t,theme:e})=>{let n=Q({display:"flex",flexDirection:"column"},Fs({theme:e},_h({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=BL(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),o=_h({values:t.direction,base:i}),s=_h({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,c,u)=>{if(!o[l]){const f=c>0?o[u[c-1]]:"column";o[l]=f}}),n=ps(n,Fs({theme:e},s,(l,c)=>t.useFlexGap?{gap:rp(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${c3e(c?o[c]:t.direction)}`]:rp(r,l)}}))}return n=p5e(e.breakpoints,n),n};function d3e(t={}){const{createStyledComponent:e=s3e,useThemeProps:n=a3e,componentName:r="MuiStack"}=t,i=()=>rn({root:["root"]},l=>Qt(r,l),{}),o=e(u3e);return h.forwardRef(function(l,c){const u=n(l),d=R_(u),{component:f="div",direction:p="column",spacing:v=0,divider:y,children:b,className:x,useFlexGap:_=!1}=d,w=xt(d,i3e),E={direction:p,spacing:v,useFlexGap:_},T=i();return g.jsx(o,Q({as:f,ownerState:E,ref:c,className:ut(T.root,x)},w,{children:y?l3e(b,y):b}))})}function f3e(t,e){return Q({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var qi={},hte={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(hte);var wp=hte.exports;const h3e=Tu(iFe),p3e=Tu(MBe);var pte=wp;Object.defineProperty(qi,"__esModule",{value:!0});var sr=qi.alpha=yte;qi.blend=E3e;qi.colorChannel=void 0;var xE=qi.darken=GL;qi.decomposeColor=Wa;qi.emphasize=bte;var m3e=qi.getContrastRatio=x3e;qi.getLuminance=wE;qi.hexToRgb=mte;qi.hslToRgb=vte;var _E=qi.lighten=YL;qi.private_safeAlpha=_3e;qi.private_safeColorChannel=void 0;qi.private_safeDarken=w3e;qi.private_safeEmphasize=S3e;qi.private_safeLighten=C3e;qi.recomposeColor=Wv;qi.rgbToHex=b3e;var WH=pte(h3e),g3e=pte(p3e);function qL(t,e=0,n=1){return(0,g3e.default)(t,e,n)}function mte(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function v3e(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Wa(t){if(t.type)return t;if(t.charAt(0)==="#")return Wa(mte(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,WH.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,WH.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const gte=t=>{const e=Wa(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};qi.colorChannel=gte;const y3e=(t,e)=>{try{return gte(t)}catch{return t}};qi.private_safeColorChannel=y3e;function Wv(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function b3e(t){if(t.indexOf("#")===0)return t;const{values:e}=Wa(t);return`#${e.map((n,r)=>v3e(r===3?Math.round(255*n):n)).join("")}`}function vte(t){t=Wa(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Wv({type:a,values:l})}function wE(t){t=Wa(t);let e=t.type==="hsl"||t.type==="hsla"?Wa(vte(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function x3e(t,e){const n=wE(t),r=wE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function yte(t,e){return t=Wa(t),e=qL(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Wv(t)}function _3e(t,e,n){try{return yte(t,e)}catch{return t}}function GL(t,e){if(t=Wa(t),e=qL(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Wv(t)}function w3e(t,e,n){try{return GL(t,e)}catch{return t}}function YL(t,e){if(t=Wa(t),e=qL(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Wv(t)}function C3e(t,e,n){try{return YL(t,e)}catch{return t}}function bte(t,e=.15){return wE(t)>.5?GL(t,e):YL(t,e)}function S3e(t,e,n){try{return bte(t,e)}catch{return t}}function E3e(t,e,n,r=1){const i=(l,c)=>Math.round((l**(1/r)*(1-n)+c**(1/r)*n)**r),o=Wa(t),s=Wa(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return Wv({type:"rgb",values:a})}const I3e=["mode","contrastThreshold","tonalOffset"],UH={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xx.white,default:xx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},HR={text:{primary:xx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function KH(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=_E(t.main,i):e==="dark"&&(t.dark=xE(t.main,o)))}function T3e(t="light"){return t==="dark"?{main:lm[200],light:lm[50],dark:lm[400]}:{main:lm[700],light:lm[400],dark:lm[800]}}function P3e(t="light"){return t==="dark"?{main:am[200],light:am[50],dark:am[400]}:{main:am[500],light:am[300],dark:am[700]}}function R3e(t="light"){return t==="dark"?{main:sm[500],light:sm[300],dark:sm[700]}:{main:sm[700],light:sm[400],dark:sm[800]}}function k3e(t="light"){return t==="dark"?{main:cm[400],light:cm[300],dark:cm[700]}:{main:cm[700],light:cm[500],dark:cm[900]}}function M3e(t="light"){return t==="dark"?{main:um[400],light:um[300],dark:um[700]}:{main:um[800],light:um[500],dark:um[900]}}function O3e(t="light"){return t==="dark"?{main:Fy[400],light:Fy[300],dark:Fy[700]}:{main:"#ed6c02",light:Fy[500],dark:Fy[900]}}function D3e(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=xt(t,I3e),o=t.primary||T3e(e),s=t.secondary||P3e(e),a=t.error||R3e(e),l=t.info||k3e(e),c=t.success||M3e(e),u=t.warning||O3e(e);function d(y){return m3e(y,HR.text.primary)>=n?HR.text.primary:UH.text.primary}const f=({color:y,name:b,mainShade:x=500,lightShade:_=300,darkShade:w=700})=>{if(y=Q({},y),!y.main&&y[x]&&(y.main=y[x]),!y.hasOwnProperty("main"))throw new Error(np(11,b?` (${b})`:"",x));if(typeof y.main!="string")throw new Error(np(12,b?` (${b})`:"",JSON.stringify(y.main)));return KH(y,"light",_,r),KH(y,"dark",w,r),y.contrastText||(y.contrastText=d(y.main)),y},p={dark:HR,light:UH};return ps(Q({common:Q({},xx),mode:e,primary:f({color:o,name:"primary"}),secondary:f({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:rFe,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[e]),i)}const A3e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function $3e(t){return Math.round(t*1e5)/1e5}const qH={textTransform:"uppercase"},GH='"Roboto", "Helvetica", "Arial", sans-serif';function N3e(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=GH,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=xt(n,A3e),p=i/14,v=d||(x=>`${x/c*p}rem`),y=(x,_,w,E,T)=>Q({fontFamily:r,fontWeight:x,fontSize:v(_),lineHeight:w},r===GH?{letterSpacing:`${$3e(E/_)}em`}:{},T,u),b={h1:y(o,96,1.167,-1.5),h2:y(o,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(a,14,1.75,.4,qH),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,qH),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ps(Q({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},b),f,{clone:!1})}const L3e=.2,j3e=.14,z3e=.12;function li(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${L3e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${j3e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${z3e})`].join(",")}const F3e=["none",li(0,2,1,-1,0,1,1,0,0,1,3,0),li(0,3,1,-2,0,2,2,0,0,1,5,0),li(0,3,3,-2,0,3,4,0,0,1,8,0),li(0,2,4,-1,0,4,5,0,0,1,10,0),li(0,3,5,-1,0,5,8,0,0,1,14,0),li(0,3,5,-1,0,6,10,0,0,1,18,0),li(0,4,5,-2,0,7,10,1,0,2,16,1),li(0,5,5,-3,0,8,10,1,0,3,14,2),li(0,5,6,-3,0,9,12,1,0,3,16,2),li(0,6,6,-3,0,10,14,1,0,4,18,3),li(0,6,7,-4,0,11,15,1,0,4,20,3),li(0,7,8,-4,0,12,17,2,0,5,22,4),li(0,7,8,-4,0,13,19,2,0,5,24,4),li(0,7,9,-4,0,14,21,2,0,5,26,4),li(0,8,9,-5,0,15,22,2,0,6,28,5),li(0,8,10,-5,0,16,24,2,0,6,30,5),li(0,8,11,-5,0,17,26,2,0,6,32,5),li(0,9,11,-5,0,18,28,2,0,7,34,6),li(0,9,12,-6,0,19,29,2,0,7,36,6),li(0,10,13,-6,0,20,31,3,0,8,38,7),li(0,10,13,-6,0,21,33,3,0,8,40,7),li(0,10,14,-6,0,22,35,3,0,8,42,7),li(0,11,14,-7,0,23,36,3,0,9,44,8),li(0,11,15,-7,0,24,38,3,0,9,46,8)],B3e=["duration","easing","delay"],V3e={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xte={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function YH(t){return`${Math.round(t)}ms`}function H3e(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function W3e(t){const e=Q({},V3e,t.easing),n=Q({},xte,t.duration);return Q({getAutoHeightDuration:H3e,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return xt(o,B3e),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:YH(s)} ${a} ${typeof l=="string"?l:YH(l)}`).join(",")}},t,{easing:e,duration:n})}const U3e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},K3e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _te(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=xt(t,K3e);if(t.vars&&t.generateCssVars===void 0)throw new Error(np(18));const a=D3e(r),l=Vv(t);let c=ps(l,{mixins:f3e(l.breakpoints,n),palette:a,shadows:F3e.slice(),typography:N3e(a,o),transitions:W3e(i),zIndex:Q({},U3e)});return c=ps(c,s),c=e.reduce((u,d)=>ps(u,d),c),c.unstable_sxConfig=Q({},P_,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(d){return Bv({sx:d,theme:this})},c}const XL=_te();function Cp(){const t=e2(XL);return t[OT]||t}var D_={},WR={exports:{}},XH;function q3e(){return XH||(XH=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)!==-1)continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(WR)),WR.exports}const wte=Tu(c5e),G3e=Tu(u5e),Y3e=Tu(g5e),X3e=Tu(bBe),Z3e=Tu(rBe),Q3e=Tu(uBe);var Uv=wp;Object.defineProperty(D_,"__esModule",{value:!0});var J3e=D_.default=f6e;D_.shouldForwardProp=OS;D_.systemDefaultTheme=void 0;var Ca=Uv(qee()),SD=Uv(q3e()),ZH=s6e(wte),e6e=G3e;Uv(Y3e);Uv(X3e);var t6e=Uv(Z3e),n6e=Uv(Q3e);const r6e=["ownerState"],i6e=["variants"],o6e=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Cte(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(Cte=function(r){return r?n:e})(t)}function s6e(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=Cte(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function a6e(t){return Object.keys(t).length===0}function l6e(t){return typeof t=="string"&&t.charCodeAt(0)>96}function OS(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const c6e=D_.systemDefaultTheme=(0,t6e.default)(),u6e=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function hC({defaultTheme:t,theme:e,themeId:n}){return a6e(e)?t:e[n]||e}function d6e(t){return t?(e,n)=>n[t]:null}function DS(t,e){let{ownerState:n}=e,r=(0,SD.default)(e,r6e);const i=typeof t=="function"?t((0,Ca.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>DS(o,(0,Ca.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,SD.default)(i,i6e);return o.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props((0,Ca.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(u=>{(n==null?void 0:n[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Ca.default)({ownerState:n},r,n)):l.style))}),a}return i}function f6e(t={}){const{themeId:e,defaultTheme:n=c6e,rootShouldForwardProp:r=OS,slotShouldForwardProp:i=OS}=t,o=s=>(0,n6e.default)((0,Ca.default)({},s,{theme:hC((0,Ca.default)({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,ZH.internal_processStyles)(s,T=>T.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:d,overridesResolver:f=d6e(u6e(c))}=a,p=(0,SD.default)(a,o6e),v=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let b,x=OS;c==="Root"||c==="root"?x=r:c?x=i:l6e(s)&&(x=void 0);const _=(0,ZH.default)(s,(0,Ca.default)({shouldForwardProp:x,label:b},p)),w=T=>typeof T=="function"&&T.__emotion_real!==T||(0,e6e.isPlainObject)(T)?I=>DS(T,(0,Ca.default)({},I,{theme:hC({theme:I.theme,defaultTheme:n,themeId:e})})):T,E=(T,...I)=>{let S=w(T);const P=I?I.map(w):[];l&&f&&P.push(N=>{const A=hC((0,Ca.default)({},N,{defaultTheme:n,themeId:e}));if(!A.components||!A.components[l]||!A.components[l].styleOverrides)return null;const $=A.components[l].styleOverrides,M={};return Object.entries($).forEach(([F,z])=>{M[F]=DS(z,(0,Ca.default)({},N,{theme:A}))}),f(N,M)}),l&&!v&&P.push(N=>{var A;const $=hC((0,Ca.default)({},N,{defaultTheme:n,themeId:e})),M=$==null||(A=$.components)==null||(A=A[l])==null?void 0:A.variants;return DS({variants:M},(0,Ca.default)({},N,{theme:$}))}),y||P.push(o);const R=P.length-I.length;if(Array.isArray(T)&&R>0){const N=new Array(R).fill("");S=[...T,...N],S.raw=[...T.raw,...N]}const O=_(S,...P);return s.muiName&&(O.muiName=s.muiName),O};return _.withConfig&&(E.withConfig=_.withConfig),E}}function Ste(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const xs=t=>Ste(t)&&t!=="classes",ft=J3e({themeId:OT,defaultTheme:XL,rootShouldForwardProp:xs}),QH=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function cn(t){return ZBe(t)}function h6e(t){return Qt("MuiSvgIcon",t)}Jt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const p6e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m6e=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${yt(e)}`,`fontSize${yt(n)}`]};return rn(i,h6e,r)},g6e=ft("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${yt(n.color)}`],e[`fontSize${yt(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,c,u,d,f,p,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(d=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[e.color]}}),ED=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=xt(r,p6e),v=h.isValidElement(i)&&i.type==="svg",y=Q({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:v}),b={};u||(b.viewBox=f);const x=m6e(y);return g.jsxs(g6e,Q({as:a,className:ut(x.root,o),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},b,p,v&&i.props,{ownerState:y,children:[v?i.props.children:i,d?g.jsx("title",{children:d}):null]}))});ED.muiName="SvgIcon";function vn(t,e){function n(r,i){return g.jsx(ED,Q({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=ED.muiName,h.memo(h.forwardRef(n))}const v6e={configure:t=>{HL.configure(t)}},y6e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:yt,createChainedFunction:wD,createSvgIcon:vn,debounce:k_,deprecatedPropType:OBe,isMuiElement:eb,ownerDocument:No,ownerWindow:Cc,requirePropFactory:DBe,setRef:bE,unstable_ClassNameGenerator:v6e,unstable_useEnhancedEffect:ca,unstable_useId:M_,unsupportedProp:$Be,useControlled:rv,useEventCallback:ta,useForkRef:Ii,useIsFocusVisible:KL},Symbol.toStringTag,{value:"Module"}));function Ete(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kg(t,e)}const JH={disabled:!1},CE=ae.createContext(null);var b6e=function(e){return e.scrollTop},w0="unmounted",zf="exited",Ff="entering",Em="entered",ID="exiting",Tl=function(t){Ete(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=zf,o.appearStatus=Ff):l=Em:r.unmountOnExit||r.mountOnEnter?l=w0:l=zf,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===w0?{status:zf}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ff&&s!==Em&&(o=Ff):(s===Ff||s===Em)&&(o=ID)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ff){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Xl.findDOMNode(this);s&&b6e(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zf&&this.setState({status:w0})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Xl.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!s||JH.disabled){this.safeSetState({status:Em},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ff},function(){o.props.onEntering(c,u),o.onTransitionEnd(f,function(){o.safeSetState({status:Em},function(){o.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Xl.findDOMNode(this);if(!o||JH.disabled){this.safeSetState({status:zf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ID},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:zf},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Xl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===w0)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=xt(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ae.createElement(CE.Provider,{value:null},typeof s=="function"?s(i,a):ae.cloneElement(ae.Children.only(s),a))},e}(ae.Component);Tl.contextType=CE;Tl.propTypes={};function fm(){}Tl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fm,onEntering:fm,onEntered:fm,onExit:fm,onExiting:fm,onExited:fm};Tl.UNMOUNTED=w0;Tl.EXITED=zf;Tl.ENTERING=Ff;Tl.ENTERED=Em;Tl.EXITING=ID;function ZL(t,e){var n=function(o){return e&&h.isValidElement(o)?e(o):o},r=Object.create(null);return t&&h.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function x6e(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=n(c)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function ch(t,e,n){return n[e]!=null?n[e]:t.props[e]}function _6e(t,e){return ZL(t.children,function(n){return h.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ch(n,"appear",t),enter:ch(n,"enter",t),exit:ch(n,"exit",t)})})}function w6e(t,e,n){var r=ZL(t.children),i=x6e(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(h.isValidElement(s)){var a=o in e,l=o in r,c=e[o],u=h.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[o]=h.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:ch(s,"exit",t),enter:ch(s,"enter",t)}):!l&&a&&!u?i[o]=h.cloneElement(s,{in:!1}):l&&a&&h.isValidElement(c)&&(i[o]=h.cloneElement(s,{onExited:n.bind(null,s),in:c.props.in,exit:ch(s,"exit",t),enter:ch(s,"enter",t)}))}}),i}var C6e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},S6e={component:"div",childFactory:function(e){return e}},QL=function(t){Ete(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(Mt(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?_6e(i,a):w6e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=ZL(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Q({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=xt(i,["component","childFactory"]),l=this.state.contextValue,c=C6e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?ae.createElement(CE.Provider,{value:l},c):ae.createElement(CE.Provider,{value:l},ae.createElement(o,a,c))},e}(ae.Component);QL.propTypes={};QL.defaultProps=S6e;const Ite=t=>t.scrollTop;function ov(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function E6e(t){return Qt("MuiCollapse",t)}Jt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const I6e=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],T6e=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return rn(r,E6e,n)},P6e=ft("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>Q({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&Q({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),R6e=ft("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>Q({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),k6e=ft("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>Q({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Tte=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:s,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:v,onExited:y,onExiting:b,orientation:x="vertical",style:_,timeout:w=xte.standard,TransitionComponent:E=Tl}=r,T=xt(r,I6e),I=Q({},r,{orientation:x,collapsedSize:a}),S=T6e(I),P=Cp(),R=lh(),O=h.useRef(null),N=h.useRef(),A=typeof a=="number"?`${a}px`:a,$=x==="horizontal",M=$?"width":"height",F=h.useRef(null),z=Ii(n,F),j=se=>ge=>{if(se){const le=F.current;ge===void 0?se(le):se(le,ge)}},B=()=>O.current?O.current[$?"clientWidth":"clientHeight"]:0,W=j((se,ge)=>{O.current&&$&&(O.current.style.position="absolute"),se.style[M]=A,d&&d(se,ge)}),q=j((se,ge)=>{const le=B();O.current&&$&&(O.current.style.position="");const{duration:we,easing:ce}=ov({style:_,timeout:w,easing:c},{mode:"enter"});if(w==="auto"){const be=P.transitions.getAutoHeightDuration(le);se.style.transitionDuration=`${be}ms`,N.current=be}else se.style.transitionDuration=typeof we=="string"?we:`${we}ms`;se.style[M]=`${le}px`,se.style.transitionTimingFunction=ce,p&&p(se,ge)}),G=j((se,ge)=>{se.style[M]="auto",f&&f(se,ge)}),X=j(se=>{se.style[M]=`${B()}px`,v&&v(se)}),ue=j(y),te=j(se=>{const ge=B(),{duration:le,easing:we}=ov({style:_,timeout:w,easing:c},{mode:"exit"});if(w==="auto"){const ce=P.transitions.getAutoHeightDuration(ge);se.style.transitionDuration=`${ce}ms`,N.current=ce}else se.style.transitionDuration=typeof le=="string"?le:`${le}ms`;se.style[M]=A,se.style.transitionTimingFunction=we,b&&b(se)}),J=se=>{w==="auto"&&R.start(N.current||0,se),i&&i(F.current,se)};return g.jsx(E,Q({in:u,onEnter:W,onEntered:G,onEntering:q,onExit:X,onExited:ue,onExiting:te,addEndListener:J,nodeRef:F,timeout:w==="auto"?null:w},T,{children:(se,ge)=>g.jsx(P6e,Q({as:l,className:ut(S.root,s,{entered:S.entered,exited:!u&&A==="0px"&&S.hidden}[se]),style:Q({[$?"minWidth":"minHeight"]:A},_),ref:z},ge,{ownerState:Q({},I,{state:se}),children:g.jsx(R6e,{ownerState:Q({},I,{state:se}),className:S.wrapper,ref:O,children:g.jsx(k6e,{ownerState:Q({},I,{state:se}),className:S.wrapperInner,children:o})})}))}))});Tte.muiSupportAuto=!0;function M6e(t){return Qt("MuiPaper",t)}Jt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const O6e=["className","component","elevation","square","variant"],D6e=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return rn(o,M6e,i)},A6e=ft("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return Q({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&Q({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${sr("#fff",QH(e.elevation))}, ${sr("#fff",QH(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),tr=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=xt(r,O6e),u=Q({},r,{component:o,elevation:s,square:a,variant:l}),d=D6e(u);return g.jsx(A6e,Q({as:o,ownerState:u,className:ut(d.root,i),ref:n},c))}),Pte=h.createContext({}),$6e=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],N6e=["component","slots","slotProps"],L6e=["component"];function SE(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=xt(e,$6e),{component:c,slots:u={[t]:void 0},slotProps:d={[t]:void 0}}=o,f=xt(o,N6e),p=u[t]||r,v=fte(d[t],i),y=dte(Q({className:n},l,{externalForwardedProps:t==="root"?f:void 0,externalSlotProps:v})),{props:{component:b},internalRef:x}=y,_=xt(y.props,L6e),w=Ii(x,v==null?void 0:v.ref,e.ref),E=s?s(_):{},T=Q({},i,E),I=t==="root"?b||c:b,S=Um(p,Q({},t==="root"&&!c&&!u[t]&&a,t!=="root"&&!u[t]&&a,_,I&&{as:I},{ref:w}),T);return Object.keys(E).forEach(P=>{delete S[P]}),[p,S]}function j6e(t){return Qt("MuiAccordion",t)}const pC=Jt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),z6e=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],F6e=t=>{const{classes:e,square:n,expanded:r,disabled:i,disableGutters:o}=t;return rn({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]},j6e,e)},B6e=ft(tr,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${pC.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${pC.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${pC.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${pC.expanded}`]:{margin:"16px 0"}}}]})),Km=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:f={},slotProps:p={},TransitionComponent:v,TransitionProps:y}=r,b=xt(r,z6e),[x,_]=rv({controlled:c,default:s,name:"Accordion",state:"expanded"}),w=h.useCallback($=>{_(!x),u&&u($,!x)},[x,u,_]),[E,...T]=h.Children.toArray(i),I=h.useMemo(()=>({expanded:x,disabled:a,disableGutters:l,toggle:w}),[x,a,l,w]),S=Q({},r,{square:d,disabled:a,disableGutters:l,expanded:x}),P=F6e(S),R=Q({transition:v},f),O=Q({transition:y},p),[N,A]=SE("transition",{elementType:Tte,externalForwardedProps:{slots:R,slotProps:O},ownerState:S});return g.jsxs(B6e,Q({className:ut(P.root,o),ref:n,ownerState:S,square:d},b,{children:[g.jsx(Pte.Provider,{value:I,children:E}),g.jsx(N,Q({in:x,timeout:"auto"},A,{children:g.jsx("div",{"aria-labelledby":E.props.id,id:E.props["aria-controls"],role:"region",className:P.region,children:T})}))]}))});function V6e(t){return Qt("MuiAccordionDetails",t)}Jt("MuiAccordionDetails",["root"]);const H6e=["className"],W6e=t=>{const{classes:e}=t;return rn({root:["root"]},V6e,e)},U6e=ft("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),qm=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiAccordionDetails"}),{className:i}=r,o=xt(r,H6e),s=r,a=W6e(s);return g.jsx(U6e,Q({className:ut(a.root,i),ref:n,ownerState:s},o))});function K6e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:c}=t,[u,d]=h.useState(!1),f=ut(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},v=ut(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),h.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),g.jsx("span",{className:f,style:p,children:g.jsx("span",{className:v})})}const Ia=Jt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),q6e=["center","classes","className"];let h2=t=>t,e8,t8,n8,r8;const TD=550,G6e=80,Y6e=Fv(e8||(e8=h2`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),X6e=Fv(t8||(t8=h2`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Z6e=Fv(n8||(n8=h2`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Q6e=ft("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),J6e=ft(K6e,{name:"MuiTouchRipple",slot:"Ripple"})(r8||(r8=h2`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ia.rippleVisible,Y6e,TD,({theme:t})=>t.transitions.easing.easeInOut,Ia.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ia.child,Ia.childLeaving,X6e,TD,({theme:t})=>t.transitions.easing.easeInOut,Ia.childPulsate,Z6e,({theme:t})=>t.transitions.easing.easeInOut),eVe=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=xt(r,q6e),[l,c]=h.useState([]),u=h.useRef(0),d=h.useRef(null);h.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=h.useRef(!1),p=lh(),v=h.useRef(null),y=h.useRef(null),b=h.useCallback(E=>{const{pulsate:T,rippleX:I,rippleY:S,rippleSize:P,cb:R}=E;c(O=>[...O,g.jsx(J6e,{classes:{ripple:ut(o.ripple,Ia.ripple),rippleVisible:ut(o.rippleVisible,Ia.rippleVisible),ripplePulsate:ut(o.ripplePulsate,Ia.ripplePulsate),child:ut(o.child,Ia.child),childLeaving:ut(o.childLeaving,Ia.childLeaving),childPulsate:ut(o.childPulsate,Ia.childPulsate)},timeout:TD,pulsate:T,rippleX:I,rippleY:S,rippleSize:P},u.current)]),u.current+=1,d.current=R},[o]),x=h.useCallback((E={},T={},I=()=>{})=>{const{pulsate:S=!1,center:P=i||T.pulsate,fakeElement:R=!1}=T;if((E==null?void 0:E.type)==="mousedown"&&f.current){f.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(f.current=!0);const O=R?null:y.current,N=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let A,$,M;if(P||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)A=Math.round(N.width/2),$=Math.round(N.height/2);else{const{clientX:F,clientY:z}=E.touches&&E.touches.length>0?E.touches[0]:E;A=Math.round(F-N.left),$=Math.round(z-N.top)}if(P)M=Math.sqrt((2*N.width**2+N.height**2)/3),M%2===0&&(M+=1);else{const F=Math.max(Math.abs((O?O.clientWidth:0)-A),A)*2+2,z=Math.max(Math.abs((O?O.clientHeight:0)-$),$)*2+2;M=Math.sqrt(F**2+z**2)}E!=null&&E.touches?v.current===null&&(v.current=()=>{b({pulsate:S,rippleX:A,rippleY:$,rippleSize:M,cb:I})},p.start(G6e,()=>{v.current&&(v.current(),v.current=null)})):b({pulsate:S,rippleX:A,rippleY:$,rippleSize:M,cb:I})},[i,b,p]),_=h.useCallback(()=>{x({},{pulsate:!0})},[x]),w=h.useCallback((E,T)=>{if(p.clear(),(E==null?void 0:E.type)==="touchend"&&v.current){v.current(),v.current=null,p.start(0,()=>{w(E,T)});return}v.current=null,c(I=>I.length>0?I.slice(1):I),d.current=T},[p]);return h.useImperativeHandle(n,()=>({pulsate:_,start:x,stop:w}),[_,x,w]),g.jsx(Q6e,Q({className:ut(Ia.root,o.root,s),ref:y},a,{children:g.jsx(QL,{component:null,exit:!0,children:l})}))});function tVe(t){return Qt("MuiButtonBase",t)}const nVe=Jt("MuiButtonBase",["root","disabled","focusVisible"]),rVe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],iVe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=rn({root:["root",e&&"disabled",n&&"focusVisible"]},tVe,i);return n&&r&&(s.root+=` ${r}`),s},oVe=ft("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nVe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Sc=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:v,onClick:y,onContextMenu:b,onDragLeave:x,onFocus:_,onFocusVisible:w,onKeyDown:E,onKeyUp:T,onMouseDown:I,onMouseLeave:S,onMouseUp:P,onTouchEnd:R,onTouchMove:O,onTouchStart:N,tabIndex:A=0,TouchRippleProps:$,touchRippleRef:M,type:F}=r,z=xt(r,rVe),j=h.useRef(null),B=h.useRef(null),W=Ii(B,M),{isFocusVisibleRef:q,onFocus:G,onBlur:X,ref:ue}=KL(),[te,J]=h.useState(!1);c&&te&&J(!1),h.useImperativeHandle(i,()=>({focusVisible:()=>{J(!0),j.current.focus()}}),[]);const[se,ge]=h.useState(!1);h.useEffect(()=>{ge(!0)},[]);const le=se&&!u&&!c;h.useEffect(()=>{te&&f&&!u&&se&&B.current.pulsate()},[u,f,te,se]);function we(Re,Ve,De=d){return ta(ze=>(Ve&&Ve(ze),!De&&B.current&&B.current[Re](ze),!0))}const ce=we("start",I),be=we("stop",b),K=we("stop",x),oe=we("stop",P),V=we("stop",Re=>{te&&Re.preventDefault(),S&&S(Re)}),ie=we("start",N),re=we("stop",R),ee=we("stop",O),Y=we("stop",Re=>{X(Re),q.current===!1&&J(!1),v&&v(Re)},!1),he=ta(Re=>{j.current||(j.current=Re.currentTarget),G(Re),q.current===!0&&(J(!0),w&&w(Re)),_&&_(Re)}),Ce=()=>{const Re=j.current;return l&&l!=="button"&&!(Re.tagName==="A"&&Re.href)},me=h.useRef(!1),fe=ta(Re=>{f&&!me.current&&te&&B.current&&Re.key===" "&&(me.current=!0,B.current.stop(Re,()=>{B.current.start(Re)})),Re.target===Re.currentTarget&&Ce()&&Re.key===" "&&Re.preventDefault(),E&&E(Re),Re.target===Re.currentTarget&&Ce()&&Re.key==="Enter"&&!c&&(Re.preventDefault(),y&&y(Re))}),ye=ta(Re=>{f&&Re.key===" "&&B.current&&te&&!Re.defaultPrevented&&(me.current=!1,B.current.stop(Re,()=>{B.current.pulsate(Re)})),T&&T(Re),y&&Re.target===Re.currentTarget&&Ce()&&Re.key===" "&&!Re.defaultPrevented&&y(Re)});let Te=l;Te==="button"&&(z.href||z.to)&&(Te=p);const ke={};Te==="button"?(ke.type=F===void 0?"button":F,ke.disabled=c):(!z.href&&!z.to&&(ke.role="button"),c&&(ke["aria-disabled"]=c));const je=Ii(n,ue,j),de=Q({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:A,focusVisible:te}),Se=iVe(de);return g.jsxs(oVe,Q({as:Te,className:ut(Se.root,a),ownerState:de,onBlur:Y,onClick:y,onContextMenu:be,onFocus:he,onKeyDown:fe,onKeyUp:ye,onMouseDown:ce,onMouseLeave:V,onMouseUp:oe,onDragLeave:K,onTouchEnd:re,onTouchMove:ee,onTouchStart:ie,ref:je,tabIndex:c?-1:A,type:F},ke,z,{children:[s,le?g.jsx(eVe,Q({ref:W,center:o},$)):null]}))});function sVe(t){return Qt("MuiAccordionSummary",t)}const Gm=Jt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),aVe=["children","className","expandIcon","focusVisibleClassName","onClick"],lVe=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:i}=t;return rn({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},sVe,e)},cVe=ft(Sc,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${Gm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Gm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Gm.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${Gm.expanded}`]:{minHeight:64}}}]}}),uVe=ft("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Gm.expanded}`]:{margin:"20px 0"}}}]})),dVe=ft("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Gm.expanded}`]:{transform:"rotate(180deg)"}})),Ym=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:s,focusVisibleClassName:a,onClick:l}=r,c=xt(r,aVe),{disabled:u=!1,disableGutters:d,expanded:f,toggle:p}=h.useContext(Pte),v=x=>{p&&p(x),l&&l(x)},y=Q({},r,{expanded:f,disabled:u,disableGutters:d}),b=lVe(y);return g.jsxs(cVe,Q({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:ut(b.root,o),focusVisibleClassName:ut(b.focusVisible,a),onClick:v,ref:n,ownerState:y},c,{children:[g.jsx(uVe,{className:b.content,ownerState:y,children:i}),s&&g.jsx(dVe,{className:b.expandIconWrapper,ownerState:y,children:s})]}))});function fVe(t){return Qt("MuiAlert",t)}const i8=Jt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function hVe(t){return Qt("MuiIconButton",t)}const pVe=Jt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),mVe=["edge","children","className","color","disabled","disableFocusRipple","size"],gVe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${yt(r)}`,i&&`edge${yt(i)}`,`size${yt(o)}`]};return rn(s,hVe,e)},vVe=ft(Sc,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${yt(n.color)}`],n.edge&&e[`edge${yt(n.edge)}`],e[`size${yt(n.size)}`]]}})(({theme:t,ownerState:e})=>Q({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:sr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return Q({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Q({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":Q({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${pVe.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Ao=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=xt(r,mVe),f=Q({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=gVe(f);return g.jsx(vVe,Q({className:ut(p.root,s),centerRipple:!0,focusRipple:!c,disabled:l,ref:n},d,{ownerState:f,children:o}))}),yVe=vn(g.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),bVe=vn(g.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),xVe=vn(g.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),_Ve=vn(g.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),wVe=vn(g.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),CVe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],SVe=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`color${yt(n||r)}`,`${e}${yt(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return rn(o,fVe,i)},EVe=ft(tr,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${yt(n.color||n.severity)}`]]}})(({theme:t})=>{const e=t.palette.mode==="light"?xE:_E,n=t.palette.mode==="light"?_E:xE;return Q({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:n(t.palette[r].light,.9),[`& .${i8.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:e(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${i8.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}})),...Object.entries(t.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:Q({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}))]})}),IVe=ft("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),TVe=ft("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),o8=ft("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),s8={success:g.jsx(yVe,{fontSize:"inherit"}),warning:g.jsx(bVe,{fontSize:"inherit"}),error:g.jsx(xVe,{fontSize:"inherit"}),info:g.jsx(_Ve,{fontSize:"inherit"})},Mr=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiAlert"}),{action:i,children:o,className:s,closeText:a="Close",color:l,components:c={},componentsProps:u={},icon:d,iconMapping:f=s8,onClose:p,role:v="alert",severity:y="success",slotProps:b={},slots:x={},variant:_="standard"}=r,w=xt(r,CVe),E=Q({},r,{color:l,severity:y,variant:_,colorSeverity:l||y}),T=SVe(E),I={slots:Q({closeButton:c.CloseButton,closeIcon:c.CloseIcon},x),slotProps:Q({},u,b)},[S,P]=SE("closeButton",{elementType:Ao,externalForwardedProps:I,ownerState:E}),[R,O]=SE("closeIcon",{elementType:wVe,externalForwardedProps:I,ownerState:E});return g.jsxs(EVe,Q({role:v,elevation:0,ownerState:E,className:ut(T.root,s),ref:n},w,{children:[d!==!1?g.jsx(IVe,{ownerState:E,className:T.icon,children:d||f[y]||s8[y]}):null,g.jsx(TVe,{ownerState:E,className:T.message,children:o}),i!=null?g.jsx(o8,{ownerState:E,className:T.action,children:i}):null,i==null&&p?g.jsx(o8,{ownerState:E,className:T.action,children:g.jsx(S,Q({size:"small","aria-label":a,title:a,color:"inherit",onClick:p},P,{children:g.jsx(R,Q({fontSize:"small"},O))}))}):null]}))});function PVe(t){return Qt("MuiTypography",t)}Jt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const RVe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],kVe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${yt(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return rn(a,PVe,s)},MVe=ft("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${yt(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>Q({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),a8={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},OVe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},DVe=t=>OVe[t]||t,Ge=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTypography"}),i=DVe(r.color),o=R_(Q({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=a8}=o,v=xt(o,RVe),y=Q({},o,{align:s,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),b=l||(d?"p":p[f]||a8[f])||"span",x=kVe(y);return g.jsx(MVe,Q({as:b,ref:n,ownerState:y,className:ut(x.root,a)},v))});var JL={};Object.defineProperty(JL,"__esModule",{value:!0});var Rte=JL.default=void 0,AVe=NVe(h),$Ve=wte;function kte(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(kte=function(r){return r?n:e})(t)}function NVe(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=kte(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function LVe(t){return Object.keys(t).length===0}function jVe(t=null){const e=AVe.useContext($Ve.ThemeContext);return!e||LVe(e)?t:e}Rte=JL.default=jVe;var Ns="top",Ua="bottom",Ka="right",Ls="left",ej="auto",A_=[Ns,Ua,Ka,Ls],sv="start",Ex="end",zVe="clippingParents",Mte="viewport",Vy="popper",FVe="reference",l8=A_.reduce(function(t,e){return t.concat([e+"-"+sv,e+"-"+Ex])},[]),Ote=[].concat(A_,[ej]).reduce(function(t,e){return t.concat([e,e+"-"+sv,e+"-"+Ex])},[]),BVe="beforeRead",VVe="read",HVe="afterRead",WVe="beforeMain",UVe="main",KVe="afterMain",qVe="beforeWrite",GVe="write",YVe="afterWrite",XVe=[BVe,VVe,HVe,WVe,UVe,KVe,qVe,GVe,YVe];function Ec(t){return t?(t.nodeName||"").toLowerCase():null}function ua(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ip(t){var e=ua(t).Element;return t instanceof e||t instanceof Element}function Na(t){var e=ua(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function tj(t){if(typeof ShadowRoot>"u")return!1;var e=ua(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ZVe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Na(o)||!Ec(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function QVe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Na(i)||!Ec(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const JVe={name:"applyStyles",enabled:!0,phase:"write",fn:ZVe,effect:QVe,requires:["computeStyles"]};function fc(t){return t.split("-")[0]}var wh=Math.max,EE=Math.min,av=Math.round;function PD(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Dte(){return!/^((?!chrome|android).)*safari/i.test(PD())}function lv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Na(t)&&(i=t.offsetWidth>0&&av(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&av(r.height)/t.offsetHeight||1);var s=ip(t)?ua(t):window,a=s.visualViewport,l=!Dte()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function nj(t){var e=lv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ate(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&tj(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Iu(t){return ua(t).getComputedStyle(t)}function eHe(t){return["table","td","th"].indexOf(Ec(t))>=0}function _f(t){return((ip(t)?t.ownerDocument:t.document)||window.document).documentElement}function p2(t){return Ec(t)==="html"?t:t.assignedSlot||t.parentNode||(tj(t)?t.host:null)||_f(t)}function c8(t){return!Na(t)||Iu(t).position==="fixed"?null:t.offsetParent}function tHe(t){var e=/firefox/i.test(PD()),n=/Trident/i.test(PD());if(n&&Na(t)){var r=Iu(t);if(r.position==="fixed")return null}var i=p2(t);for(tj(i)&&(i=i.host);Na(i)&&["html","body"].indexOf(Ec(i))<0;){var o=Iu(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function $_(t){for(var e=ua(t),n=c8(t);n&&eHe(n)&&Iu(n).position==="static";)n=c8(n);return n&&(Ec(n)==="html"||Ec(n)==="body"&&Iu(n).position==="static")?e:n||tHe(t)||e}function rj(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function tb(t,e,n){return wh(t,EE(e,n))}function nHe(t,e,n){var r=tb(t,e,n);return r>n?n:r}function $te(){return{top:0,right:0,bottom:0,left:0}}function Nte(t){return Object.assign({},$te(),t)}function Lte(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var rHe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Nte(typeof e!="number"?e:Lte(e,A_))};function iHe(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=fc(n.placement),l=rj(a),c=[Ls,Ka].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=rHe(i.padding,n),f=nj(o),p=l==="y"?Ns:Ls,v=l==="y"?Ua:Ka,y=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],b=s[l]-n.rects.reference[l],x=$_(o),_=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=y/2-b/2,E=d[p],T=_-f[u]-d[v],I=_/2-f[u]/2+w,S=tb(E,I,T),P=l;n.modifiersData[r]=(e={},e[P]=S,e.centerOffset=S-I,e)}}function oHe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ate(e.elements.popper,i)&&(e.elements.arrow=i))}const sHe={name:"arrow",enabled:!0,phase:"main",fn:iHe,effect:oHe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cv(t){return t.split("-")[1]}var aHe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lHe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:av(n*i)/i||0,y:av(r*i)/i||0}}function u8(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=s.x,p=f===void 0?0:f,v=s.y,y=v===void 0?0:v,b=typeof u=="function"?u({x:p,y}):{x:p,y};p=b.x,y=b.y;var x=s.hasOwnProperty("x"),_=s.hasOwnProperty("y"),w=Ls,E=Ns,T=window;if(c){var I=$_(n),S="clientHeight",P="clientWidth";if(I===ua(n)&&(I=_f(n),Iu(I).position!=="static"&&a==="absolute"&&(S="scrollHeight",P="scrollWidth")),I=I,i===Ns||(i===Ls||i===Ka)&&o===Ex){E=Ua;var R=d&&I===T&&T.visualViewport?T.visualViewport.height:I[S];y-=R-r.height,y*=l?1:-1}if(i===Ls||(i===Ns||i===Ua)&&o===Ex){w=Ka;var O=d&&I===T&&T.visualViewport?T.visualViewport.width:I[P];p-=O-r.width,p*=l?1:-1}}var N=Object.assign({position:a},c&&aHe),A=u===!0?lHe({x:p,y},ua(n)):{x:p,y};if(p=A.x,y=A.y,l){var $;return Object.assign({},N,($={},$[E]=_?"0":"",$[w]=x?"0":"",$.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",$))}return Object.assign({},N,(e={},e[E]=_?y+"px":"",e[w]=x?p+"px":"",e.transform="",e))}function cHe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:fc(e.placement),variation:cv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,u8(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,u8(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const uHe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cHe,data:{}};var mC={passive:!0};function dHe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=ua(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,mC)}),a&&l.addEventListener("resize",n.update,mC),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,mC)}),a&&l.removeEventListener("resize",n.update,mC)}}const fHe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dHe,data:{}};var hHe={left:"right",right:"left",bottom:"top",top:"bottom"};function AS(t){return t.replace(/left|right|bottom|top/g,function(e){return hHe[e]})}var pHe={start:"end",end:"start"};function d8(t){return t.replace(/start|end/g,function(e){return pHe[e]})}function ij(t){var e=ua(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function oj(t){return lv(_f(t)).left+ij(t).scrollLeft}function mHe(t,e){var n=ua(t),r=_f(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Dte();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+oj(t),y:l}}function gHe(t){var e,n=_f(t),r=ij(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=wh(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=wh(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+oj(t),l=-r.scrollTop;return Iu(i||n).direction==="rtl"&&(a+=wh(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function sj(t){var e=Iu(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function jte(t){return["html","body","#document"].indexOf(Ec(t))>=0?t.ownerDocument.body:Na(t)&&sj(t)?t:jte(p2(t))}function nb(t,e){var n;e===void 0&&(e=[]);var r=jte(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=ua(r),s=i?[o].concat(o.visualViewport||[],sj(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(nb(p2(s)))}function RD(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vHe(t,e){var n=lv(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function f8(t,e,n){return e===Mte?RD(mHe(t,n)):ip(e)?vHe(e,n):RD(gHe(_f(t)))}function yHe(t){var e=nb(p2(t)),n=["absolute","fixed"].indexOf(Iu(t).position)>=0,r=n&&Na(t)?$_(t):t;return ip(r)?e.filter(function(i){return ip(i)&&Ate(i,r)&&Ec(i)!=="body"}):[]}function bHe(t,e,n,r){var i=e==="clippingParents"?yHe(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=f8(t,c,r);return l.top=wh(u.top,l.top),l.right=EE(u.right,l.right),l.bottom=EE(u.bottom,l.bottom),l.left=wh(u.left,l.left),l},f8(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function zte(t){var e=t.reference,n=t.element,r=t.placement,i=r?fc(r):null,o=r?cv(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ns:l={x:s,y:e.y-n.height};break;case Ua:l={x:s,y:e.y+e.height};break;case Ka:l={x:e.x+e.width,y:a};break;case Ls:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?rj(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case sv:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Ex:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Ix(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?zVe:a,c=n.rootBoundary,u=c===void 0?Mte:c,d=n.elementContext,f=d===void 0?Vy:d,p=n.altBoundary,v=p===void 0?!1:p,y=n.padding,b=y===void 0?0:y,x=Nte(typeof b!="number"?b:Lte(b,A_)),_=f===Vy?FVe:Vy,w=t.rects.popper,E=t.elements[v?_:f],T=bHe(ip(E)?E:E.contextElement||_f(t.elements.popper),l,u,s),I=lv(t.elements.reference),S=zte({reference:I,element:w,placement:i}),P=RD(Object.assign({},w,S)),R=f===Vy?P:I,O={top:T.top-R.top+x.top,bottom:R.bottom-T.bottom+x.bottom,left:T.left-R.left+x.left,right:R.right-T.right+x.right},N=t.modifiersData.offset;if(f===Vy&&N){var A=N[i];Object.keys(O).forEach(function($){var M=[Ka,Ua].indexOf($)>=0?1:-1,F=[Ns,Ua].indexOf($)>=0?"y":"x";O[$]+=A[F]*M})}return O}function xHe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ote:l,u=cv(r),d=u?a?l8:l8.filter(function(v){return cv(v)===u}):A_,f=d.filter(function(v){return c.indexOf(v)>=0});f.length===0&&(f=d);var p=f.reduce(function(v,y){return v[y]=Ix(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[fc(y)],v},{});return Object.keys(p).sort(function(v,y){return p[v]-p[y]})}function _He(t){if(fc(t)===ej)return[];var e=AS(t);return[d8(t),e,d8(e)]}function wHe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,v=p===void 0?!0:p,y=n.allowedAutoPlacements,b=e.options.placement,x=fc(b),_=x===b,w=l||(_||!v?[AS(b)]:_He(b)),E=[b].concat(w).reduce(function(te,J){return te.concat(fc(J)===ej?xHe(e,{placement:J,boundary:u,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:y}):J)},[]),T=e.rects.reference,I=e.rects.popper,S=new Map,P=!0,R=E[0],O=0;O<E.length;O++){var N=E[O],A=fc(N),$=cv(N)===sv,M=[Ns,Ua].indexOf(A)>=0,F=M?"width":"height",z=Ix(e,{placement:N,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),j=M?$?Ka:Ls:$?Ua:Ns;T[F]>I[F]&&(j=AS(j));var B=AS(j),W=[];if(o&&W.push(z[A]<=0),a&&W.push(z[j]<=0,z[B]<=0),W.every(function(te){return te})){R=N,P=!1;break}S.set(N,W)}if(P)for(var q=v?3:1,G=function(J){var se=E.find(function(ge){var le=S.get(ge);if(le)return le.slice(0,J).every(function(we){return we})});if(se)return R=se,"break"},X=q;X>0;X--){var ue=G(X);if(ue==="break")break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}}const CHe={name:"flip",enabled:!0,phase:"main",fn:wHe,requiresIfExists:["offset"],data:{_skip:!1}};function h8(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function p8(t){return[Ns,Ka,Ua,Ls].some(function(e){return t[e]>=0})}function SHe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Ix(e,{elementContext:"reference"}),a=Ix(e,{altBoundary:!0}),l=h8(s,r),c=h8(a,i,o),u=p8(l),d=p8(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const EHe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SHe};function IHe(t,e,n){var r=fc(t),i=[Ls,Ns].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Ls,Ka].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function THe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Ote.reduce(function(u,d){return u[d]=IHe(d,e.rects,o),u},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const PHe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:THe};function RHe(t){var e=t.state,n=t.name;e.modifiersData[n]=zte({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const kHe={name:"popperOffsets",enabled:!0,phase:"read",fn:RHe,data:{}};function MHe(t){return t==="x"?"y":"x"}function OHe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,v=n.tetherOffset,y=v===void 0?0:v,b=Ix(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=fc(e.placement),_=cv(e.placement),w=!_,E=rj(x),T=MHe(E),I=e.modifiersData.popperOffsets,S=e.rects.reference,P=e.rects.popper,R=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,O=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(I){if(o){var $,M=E==="y"?Ns:Ls,F=E==="y"?Ua:Ka,z=E==="y"?"height":"width",j=I[E],B=j+b[M],W=j-b[F],q=p?-P[z]/2:0,G=_===sv?S[z]:P[z],X=_===sv?-P[z]:-S[z],ue=e.elements.arrow,te=p&&ue?nj(ue):{width:0,height:0},J=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$te(),se=J[M],ge=J[F],le=tb(0,S[z],te[z]),we=w?S[z]/2-q-le-se-O.mainAxis:G-le-se-O.mainAxis,ce=w?-S[z]/2+q+le+ge+O.mainAxis:X+le+ge+O.mainAxis,be=e.elements.arrow&&$_(e.elements.arrow),K=be?E==="y"?be.clientTop||0:be.clientLeft||0:0,oe=($=N==null?void 0:N[E])!=null?$:0,V=j+we-oe-K,ie=j+ce-oe,re=tb(p?EE(B,V):B,j,p?wh(W,ie):W);I[E]=re,A[E]=re-j}if(a){var ee,Y=E==="x"?Ns:Ls,he=E==="x"?Ua:Ka,Ce=I[T],me=T==="y"?"height":"width",fe=Ce+b[Y],ye=Ce-b[he],Te=[Ns,Ls].indexOf(x)!==-1,ke=(ee=N==null?void 0:N[T])!=null?ee:0,je=Te?fe:Ce-S[me]-P[me]-ke+O.altAxis,de=Te?Ce+S[me]+P[me]-ke-O.altAxis:ye,Se=p&&Te?nHe(je,Ce,de):tb(p?je:fe,Ce,p?de:ye);I[T]=Se,A[T]=Se-Ce}e.modifiersData[r]=A}}const DHe={name:"preventOverflow",enabled:!0,phase:"main",fn:OHe,requiresIfExists:["offset"]};function AHe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $He(t){return t===ua(t)||!Na(t)?ij(t):AHe(t)}function NHe(t){var e=t.getBoundingClientRect(),n=av(e.width)/t.offsetWidth||1,r=av(e.height)/t.offsetHeight||1;return n!==1||r!==1}function LHe(t,e,n){n===void 0&&(n=!1);var r=Na(e),i=Na(e)&&NHe(e),o=_f(e),s=lv(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ec(e)!=="body"||sj(o))&&(a=$He(e)),Na(e)?(l=lv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=oj(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function jHe(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function zHe(t){var e=jHe(t);return XVe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function FHe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function BHe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var m8={placement:"bottom",modifiers:[],strategy:"absolute"};function g8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function VHe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?m8:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},m8,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(x){var _=typeof x=="function"?x(u.options):x;y(),u.options=Object.assign({},o,u.options,_),u.scrollParents={reference:ip(a)?nb(a):a.contextElement?nb(a.contextElement):[],popper:nb(l)};var w=zHe(BHe([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(E){return E.enabled}),v(),p.update()},forceUpdate:function(){if(!f){var x=u.elements,_=x.reference,w=x.popper;if(g8(_,w)){u.rects={reference:LHe(_,$_(w),u.options.strategy==="fixed"),popper:nj(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var T=u.orderedModifiers[E],I=T.fn,S=T.options,P=S===void 0?{}:S,R=T.name;typeof I=="function"&&(u=I({state:u,options:P,name:R,instance:p})||u)}}}},update:FHe(function(){return new Promise(function(b){p.forceUpdate(),b(u)})}),destroy:function(){y(),f=!0}};if(!g8(a,l))return p;p.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function v(){u.orderedModifiers.forEach(function(b){var x=b.name,_=b.options,w=_===void 0?{}:_,E=b.effect;if(typeof E=="function"){var T=E({state:u,name:x,instance:p,options:w}),I=function(){};d.push(T||I)}})}function y(){d.forEach(function(b){return b()}),d=[]}return p}}var HHe=[fHe,kHe,uHe,JVe,PHe,CHe,DHe,sHe,EHe],WHe=VHe({defaultModifiers:HHe});function UHe(t){return typeof t=="function"?t():t}const Fte=h.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=h.useState(null),l=Ii(h.isValidElement(r)?Hv(r):null,n);if(ca(()=>{o||a(UHe(i)||document.body)},[i,o]),ca(()=>{if(s&&!o)return bE(n,s),()=>{bE(n,null)}},[n,s,o]),o){if(h.isValidElement(r)){const c={ref:l};return h.cloneElement(r,c)}return g.jsx(h.Fragment,{children:r})}return g.jsx(h.Fragment,{children:s&&js.createPortal(r,s)})});function KHe(t){return Qt("MuiPopper",t)}Jt("MuiPopper",["root"]);const qHe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],GHe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function YHe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function kD(t){return typeof t=="function"?t():t}function XHe(t){return t.nodeType!==void 0}const ZHe=t=>{const{classes:e}=t;return rn({root:["root"]},KHe,e)},QHe={},JHe=h.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:f,slotProps:p={},slots:v={},TransitionProps:y}=e,b=xt(e,qHe),x=h.useRef(null),_=Ii(x,n),w=h.useRef(null),E=Ii(w,f),T=h.useRef(E);ca(()=>{T.current=E},[E]),h.useImperativeHandle(f,()=>w.current,[]);const I=YHe(u,s),[S,P]=h.useState(I),[R,O]=h.useState(kD(i));h.useEffect(()=>{w.current&&w.current.forceUpdate()}),h.useEffect(()=>{i&&O(kD(i))},[i]),ca(()=>{if(!R||!c)return;const F=B=>{P(B.placement)};let z=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:B})=>{F(B)}}];l!=null&&(z=z.concat(l)),d&&d.modifiers!=null&&(z=z.concat(d.modifiers));const j=WHe(R,x.current,Q({placement:I},d,{modifiers:z}));return T.current(j),()=>{j.destroy(),T.current(null)}},[R,a,l,c,d,I]);const N={placement:S};y!==null&&(N.TransitionProps=y);const A=ZHe(e),$=(r=v.root)!=null?r:"div",M=wl({elementType:$,externalSlotProps:p.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:_},ownerState:e,className:A.root});return g.jsx($,Q({},M,{children:typeof o=="function"?o(N):o}))}),e8e=h.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=QHe,popperRef:p,style:v,transition:y=!1,slotProps:b={},slots:x={}}=e,_=xt(e,GHe),[w,E]=h.useState(!0),T=()=>{E(!1)},I=()=>{E(!0)};if(!l&&!u&&(!y||w))return null;let S;if(o)S=o;else if(r){const O=kD(r);S=O&&XHe(O)?No(O).body:No(null).body}const P=!u&&l&&(!y||w)?"none":void 0,R=y?{in:u,onEnter:T,onExited:I}:void 0;return g.jsx(Fte,{disablePortal:a,container:S,children:g.jsx(JHe,Q({anchorEl:r,direction:s,disablePortal:a,modifiers:c,ref:n,open:y?!w:u,placement:d,popperOptions:f,popperRef:p,slotProps:b,slots:x},_,{style:Q({position:"fixed",top:0,left:0,display:P},v),TransitionProps:R,children:i}))})}),t8e=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],n8e=ft(e8e,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Bte=h.forwardRef(function(e,n){var r;const i=Rte(),o=cn({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:c,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:v,placement:y,popperOptions:b,popperRef:x,transition:_,slots:w,slotProps:E}=o,T=xt(o,t8e),I=(r=w==null?void 0:w.root)!=null?r:l==null?void 0:l.Root,S=Q({anchorEl:s,container:u,disablePortal:d,keepMounted:f,modifiers:p,open:v,placement:y,popperOptions:b,popperRef:x,transition:_},T);return g.jsx(n8e,Q({as:a,direction:i==null?void 0:i.direction,slots:{root:I},slotProps:E??c},S,{ref:n}))}),r8e=vn(g.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function i8e(t){return Qt("MuiChip",t)}const pr=Jt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),o8e=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],s8e=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,c={root:["root",l,n&&"disabled",`size${yt(r)}`,`color${yt(i)}`,a&&"clickable",a&&`clickableColor${yt(i)}`,s&&"deletable",s&&`deletableColor${yt(i)}`,`${l}${yt(i)}`],label:["label",`label${yt(r)}`],avatar:["avatar",`avatar${yt(r)}`,`avatarColor${yt(i)}`],icon:["icon",`icon${yt(r)}`,`iconColor${yt(o)}`],deleteIcon:["deleteIcon",`deleteIcon${yt(r)}`,`deleteIconColor${yt(i)}`,`deleteIcon${yt(l)}Color${yt(i)}`]};return rn(c,i8e,e)},a8e=ft("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${pr.avatar}`]:e.avatar},{[`& .${pr.avatar}`]:e[`avatar${yt(a)}`]},{[`& .${pr.avatar}`]:e[`avatarColor${yt(r)}`]},{[`& .${pr.icon}`]:e.icon},{[`& .${pr.icon}`]:e[`icon${yt(a)}`]},{[`& .${pr.icon}`]:e[`iconColor${yt(i)}`]},{[`& .${pr.deleteIcon}`]:e.deleteIcon},{[`& .${pr.deleteIcon}`]:e[`deleteIcon${yt(a)}`]},{[`& .${pr.deleteIcon}`]:e[`deleteIconColor${yt(r)}`]},{[`& .${pr.deleteIcon}`]:e[`deleteIcon${yt(l)}Color${yt(r)}`]},e.root,e[`size${yt(a)}`],e[`color${yt(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${yt(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${yt(r)}`],e[l],e[`${l}${yt(r)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return Q({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${pr.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${pr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${pr.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${pr.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${pr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${pr.icon}`]:Q({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&Q({color:t.vars?t.vars.palette.Chip.defaultIconColor:n},e.color!=="default"&&{color:"inherit"})),[`& .${pr.deleteIcon}`]:Q({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:sr(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:sr(t.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:sr(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${pr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:sr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${pr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>Q({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:sr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${pr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:sr(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${pr.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>Q({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${pr.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${pr.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${pr.avatar}`]:{marginLeft:4},[`& .${pr.avatarSmall}`]:{marginLeft:2},[`& .${pr.icon}`]:{marginLeft:4},[`& .${pr.iconSmall}`]:{marginLeft:2},[`& .${pr.deleteIcon}`]:{marginRight:5},[`& .${pr.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:sr(t.palette[e.color].main,.7)}`,[`&.${pr.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sr(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${pr.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:sr(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${pr.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:sr(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),l8e=ft("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${yt(r)}`]]}})(({ownerState:t})=>Q({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.variant==="outlined"&&{paddingLeft:11,paddingRight:11},t.size==="small"&&{paddingLeft:8,paddingRight:8},t.size==="small"&&t.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function v8(t){return t.key==="Backspace"||t.key==="Delete"}const ro=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:p,onDelete:v,onKeyDown:y,onKeyUp:b,size:x="medium",variant:_="filled",tabIndex:w,skipFocusWhenDisabled:E=!1}=r,T=xt(r,o8e),I=h.useRef(null),S=Ii(I,n),P=W=>{W.stopPropagation(),v&&v(W)},R=W=>{W.currentTarget===W.target&&v8(W)&&W.preventDefault(),y&&y(W)},O=W=>{W.currentTarget===W.target&&(v&&v8(W)?v(W):W.key==="Escape"&&I.current&&I.current.blur()),b&&b(W)},N=s!==!1&&p?!0:s,A=N||v?Sc:l||"div",$=Q({},r,{component:A,disabled:u,size:x,color:a,iconColor:h.isValidElement(d)&&d.props.color||a,onDelete:!!v,clickable:N,variant:_}),M=s8e($),F=A===Sc?Q({component:l||"div",focusVisibleClassName:M.focusVisible},v&&{disableRipple:!0}):{};let z=null;v&&(z=c&&h.isValidElement(c)?h.cloneElement(c,{className:ut(c.props.className,M.deleteIcon),onClick:P}):g.jsx(r8e,{className:ut(M.deleteIcon),onClick:P}));let j=null;i&&h.isValidElement(i)&&(j=h.cloneElement(i,{className:ut(M.avatar,i.props.className)}));let B=null;return d&&h.isValidElement(d)&&(B=h.cloneElement(d,{className:ut(M.icon,d.props.className)})),g.jsxs(a8e,Q({as:A,className:ut(M.root,o),disabled:N&&u?!0:void 0,onClick:p,onKeyDown:R,onKeyUp:O,ref:S,tabIndex:E&&u?-1:w,ownerState:$},F,T,{children:[j||B,g.jsx(l8e,{className:ut(M.label),ownerState:$,children:f}),z]}))}),c8e=["onChange","maxRows","minRows","style","value"];function gC(t){return parseInt(t,10)||0}const u8e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function d8e(t){for(const e in t)return!1;return!0}function y8(t){return d8e(t)||t.outerHeightStyle===0&&!t.overflowing}const f8e=h.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=xt(e,c8e),{current:c}=h.useRef(a!=null),u=h.useRef(null),d=Ii(n,u),f=h.useRef(null),p=h.useRef(null),v=h.useCallback(()=>{const w=u.current,E=p.current;if(!w||!E)return;const I=Cc(w).getComputedStyle(w);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};E.style.width=I.width,E.value=w.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const S=I.boxSizing,P=gC(I.paddingBottom)+gC(I.paddingTop),R=gC(I.borderBottomWidth)+gC(I.borderTopWidth),O=E.scrollHeight;E.value="x";const N=E.scrollHeight;let A=O;o&&(A=Math.max(Number(o)*N,A)),i&&(A=Math.min(Number(i)*N,A)),A=Math.max(A,N);const $=A+(S==="border-box"?P+R:0),M=Math.abs(A-O)<=1;return{outerHeightStyle:$,overflowing:M}},[i,o,e.placeholder]),y=ta(()=>{const w=u.current,E=v();if(!w||!E||y8(E))return!1;const T=E.outerHeightStyle;return f.current!=null&&f.current!==T}),b=h.useCallback(()=>{const w=u.current,E=v();if(!w||!E||y8(E))return;const T=E.outerHeightStyle;f.current!==T&&(f.current=T,w.style.height=`${T}px`),w.style.overflow=E.overflowing?"hidden":""},[v]),x=h.useRef(-1);ca(()=>{const w=k_(b),E=u==null?void 0:u.current;if(!E)return;const T=Cc(E);T.addEventListener("resize",w);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{y()&&(I.unobserve(E),cancelAnimationFrame(x.current),b(),x.current=requestAnimationFrame(()=>{I.observe(E)}))}),I.observe(E)),()=>{w.clear(),cancelAnimationFrame(x.current),T.removeEventListener("resize",w),I&&I.disconnect()}},[v,b,y]),ca(()=>{b()});const _=w=>{c||b(),r&&r(w)};return g.jsxs(h.Fragment,{children:[g.jsx("textarea",Q({value:a,onChange:_,ref:d,rows:o,style:s},l)),g.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:Q({},u8e.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function Sp({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const aj=h.createContext(void 0);function wf(){return h.useContext(aj)}function h8e(t){return g.jsx(aBe,Q({},t,{defaultTheme:XL,themeId:OT}))}function b8(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function IE(t,e=!1){return t&&(b8(t.value)&&t.value!==""||e&&b8(t.defaultValue)&&t.defaultValue!=="")}function p8e(t){return t.startAdornment}function m8e(t){return Qt("MuiInputBase",t)}const uv=Jt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),g8e=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],m2=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${yt(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},g2=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},v8e=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:v}=t,y={root:["root",`color${yt(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",f&&f!=="medium"&&`size${yt(f)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return rn(y,m8e,e)},v2=ft("div",{name:"MuiInputBase",slot:"Root",overridesResolver:m2})(({theme:t,ownerState:e})=>Q({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${uv.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&Q({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),y2=ft("input",{name:"MuiInputBase",slot:"Input",overridesResolver:g2})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=Q({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return Q({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${uv.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${uv.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),y8e=g.jsx(h8e,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),lj=h.forwardRef(function(e,n){var r;const i=cn({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:v,fullWidth:y=!1,id:b,inputComponent:x="input",inputProps:_={},inputRef:w,maxRows:E,minRows:T,multiline:I=!1,name:S,onBlur:P,onChange:R,onClick:O,onFocus:N,onKeyDown:A,onKeyUp:$,placeholder:M,readOnly:F,renderSuffix:z,rows:j,slotProps:B={},slots:W={},startAdornment:q,type:G="text",value:X}=i,ue=xt(i,g8e),te=_.value!=null?_.value:X,{current:J}=h.useRef(te!=null),se=h.useRef(),ge=h.useCallback(Se=>{},[]),le=Ii(se,w,_.ref,ge),[we,ce]=h.useState(!1),be=wf(),K=Sp({props:i,muiFormControl:be,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=be?be.focused:we,h.useEffect(()=>{!be&&f&&we&&(ce(!1),P&&P())},[be,f,we,P]);const oe=be&&be.onFilled,V=be&&be.onEmpty,ie=h.useCallback(Se=>{IE(Se)?oe&&oe():V&&V()},[oe,V]);ca(()=>{J&&ie({value:te})},[te,ie,J]);const re=Se=>{if(K.disabled){Se.stopPropagation();return}N&&N(Se),_.onFocus&&_.onFocus(Se),be&&be.onFocus?be.onFocus(Se):ce(!0)},ee=Se=>{P&&P(Se),_.onBlur&&_.onBlur(Se),be&&be.onBlur?be.onBlur(Se):ce(!1)},Y=(Se,...Re)=>{if(!J){const Ve=Se.target||se.current;if(Ve==null)throw new Error(np(1));ie({value:Ve.value})}_.onChange&&_.onChange(Se,...Re),R&&R(Se,...Re)};h.useEffect(()=>{ie(se.current)},[]);const he=Se=>{se.current&&Se.currentTarget===Se.target&&se.current.focus(),O&&O(Se)};let Ce=x,me=_;I&&Ce==="input"&&(j?me=Q({type:void 0,minRows:j,maxRows:j},me):me=Q({type:void 0,maxRows:E,minRows:T},me),Ce=f8e);const fe=Se=>{ie(Se.animationName==="mui-auto-fill-cancel"?se.current:{value:"x"})};h.useEffect(()=>{be&&be.setAdornedStart(!!q)},[be,q]);const ye=Q({},i,{color:K.color||"primary",disabled:K.disabled,endAdornment:v,error:K.error,focused:K.focused,formControl:be,fullWidth:y,hiddenLabel:K.hiddenLabel,multiline:I,size:K.size,startAdornment:q,type:G}),Te=v8e(ye),ke=W.root||c.Root||v2,je=B.root||u.root||{},de=W.input||c.Input||y2;return me=Q({},me,(r=B.input)!=null?r:u.input),g.jsxs(h.Fragment,{children:[!p&&y8e,g.jsxs(ke,Q({},je,!iv(ke)&&{ownerState:Q({},ye,je.ownerState)},{ref:n,onClick:he},ue,{className:ut(Te.root,je.className,l,F&&"MuiInputBase-readOnly"),children:[q,g.jsx(aj.Provider,{value:null,children:g.jsx(de,Q({ownerState:ye,"aria-invalid":K.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:K.disabled,id:b,onAnimationStart:fe,name:S,placeholder:M,readOnly:F,required:K.required,rows:j,value:te,onKeyDown:A,onKeyUp:$,type:G},me,!iv(de)&&{as:Ce,ownerState:Q({},ye,me.ownerState)},{ref:le,className:ut(Te.input,me.className,F&&"MuiInputBase-readOnly"),onBlur:ee,onChange:Y,onFocus:re}))}),v,z?z(Q({},K,{startAdornment:q})):null]}))]})});function b8e(t){return Qt("MuiInput",t)}const Hy=Q({},uv,Jt("MuiInput",["root","underline","input"]));function x8e(t){return Qt("MuiOutlinedInput",t)}const qu=Q({},uv,Jt("MuiOutlinedInput",["root","notchedOutline","input"]));function _8e(t){return Qt("MuiFilledInput",t)}const Mf=Q({},uv,Jt("MuiFilledInput",["root","underline","input"])),w8e=vn(g.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),C8e=vn(g.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function S8e(t){return Qt("MuiAvatar",t)}Jt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const E8e=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],I8e=t=>{const{classes:e,variant:n,colorDefault:r}=t;return rn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},S8e,e)},T8e=ft("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:Q({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:Q({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),P8e=ft("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),R8e=ft(C8e,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function k8e({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=h.useState(!1);return h.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const M8e=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:u,sizes:d,src:f,srcSet:p,variant:v="circular"}=r,y=xt(r,E8e);let b=null;const x=k8e(Q({},u,{src:f,srcSet:p})),_=f||p,w=_&&x!=="error",E=Q({},r,{colorDefault:!w,component:a,variant:v}),T=I8e(E),[I,S]=SE("img",{className:T.img,elementType:P8e,externalForwardedProps:{slots:l,slotProps:{img:Q({},u,c.img)}},additionalProps:{alt:i,src:f,srcSet:p,sizes:d},ownerState:E});return w?b=g.jsx(I,Q({},S)):o||o===0?b=o:_&&i?b=i[0]:b=g.jsx(R8e,{ownerState:E,className:T.fallback}),g.jsx(T8e,Q({as:a,ownerState:E,className:ut(T.root,s),ref:n},y,{children:b}))}),O8e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],D8e={entering:{opacity:1},entered:{opacity:1}},Vte=h.forwardRef(function(e,n){const r=Cp(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:v,onExiting:y,style:b,timeout:x=i,TransitionComponent:_=Tl}=e,w=xt(e,O8e),E=h.useRef(null),T=Ii(E,Hv(a),n),I=M=>F=>{if(M){const z=E.current;F===void 0?M(z):M(z,F)}},S=I(f),P=I((M,F)=>{Ite(M);const z=ov({style:b,timeout:x,easing:l},{mode:"enter"});M.style.webkitTransition=r.transitions.create("opacity",z),M.style.transition=r.transitions.create("opacity",z),u&&u(M,F)}),R=I(d),O=I(y),N=I(M=>{const F=ov({style:b,timeout:x,easing:l},{mode:"exit"});M.style.webkitTransition=r.transitions.create("opacity",F),M.style.transition=r.transitions.create("opacity",F),p&&p(M)}),A=I(v),$=M=>{o&&o(E.current,M)};return g.jsx(_,Q({appear:s,in:c,nodeRef:E,onEnter:P,onEntered:R,onEntering:S,onExit:N,onExited:A,onExiting:O,addEndListener:$,timeout:x},w,{children:(M,F)=>h.cloneElement(a,Q({style:Q({opacity:0,visibility:M==="exited"&&!c?"hidden":void 0},D8e[M],b,a.props.style),ref:T},F))}))});function A8e(t){return Qt("MuiBackdrop",t)}Jt("MuiBackdrop",["root","invisible"]);const $8e=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],N8e=t=>{const{classes:e,invisible:n}=t;return rn({root:["root",n&&"invisible"]},A8e,e)},L8e=ft("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>Q({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Hte=h.forwardRef(function(e,n){var r,i,o;const s=cn({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:u={},componentsProps:d={},invisible:f=!1,open:p,slotProps:v={},slots:y={},TransitionComponent:b=Vte,transitionDuration:x}=s,_=xt(s,$8e),w=Q({},s,{component:c,invisible:f}),E=N8e(w),T=(r=v.root)!=null?r:d.root;return g.jsx(b,Q({in:p,timeout:x},_,{children:g.jsx(L8e,Q({"aria-hidden":!0},T,{as:(i=(o=y.root)!=null?o:u.Root)!=null?i:c,className:ut(E.root,l,T==null?void 0:T.className),ownerState:Q({},w,T==null?void 0:T.ownerState),classes:E,ref:n,children:a}))}))}),j8e=Jt("MuiBox",["root"]),z8e=_te(),gn=hBe({themeId:OT,defaultTheme:z8e,defaultClassName:j8e.root,generateClassName:HL.generate});function F8e(t){return Qt("MuiButton",t)}const vC=Jt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),B8e=h.createContext({}),V8e=h.createContext(void 0),H8e=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],W8e=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${yt(e)}`,`size${yt(i)}`,`${o}Size${yt(i)}`,`color${yt(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${yt(i)}`],endIcon:["icon","endIcon",`iconSize${yt(i)}`]},l=rn(a,F8e,s);return Q({},s,l)},Wte=t=>Q({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),U8e=ft(Sc,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${yt(n.color)}`],e[`size${yt(n.size)}`],e[`${n.variant}Size${yt(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return Q({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":Q({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:sr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":Q({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${vC.focusVisible}`]:Q({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${vC.disabled}`]:Q({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${sr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${vC.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${vC.disabled}`]:{boxShadow:"none"}}),K8e=ft("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${yt(n.size)}`]]}})(({ownerState:t})=>Q({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Wte(t))),q8e=ft("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${yt(n.size)}`]]}})(({ownerState:t})=>Q({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Wte(t))),Mn=h.forwardRef(function(e,n){const r=h.useContext(B8e),i=h.useContext(V8e),o=Sx(r,e),s=cn({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:v,focusVisibleClassName:y,fullWidth:b=!1,size:x="medium",startIcon:_,type:w,variant:E="text"}=s,T=xt(s,H8e),I=Q({},s,{color:l,component:c,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:b,size:x,type:w,variant:E}),S=W8e(I),P=_&&g.jsx(K8e,{className:S.startIcon,ownerState:I,children:_}),R=v&&g.jsx(q8e,{className:S.endIcon,ownerState:I,children:v}),O=i||"";return g.jsxs(U8e,Q({ownerState:I,className:ut(r.className,S.root,u,O),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:ut(S.focusVisible,y),ref:n,type:w},T,{classes:S,children:[P,a,R]}))});function G8e(t){return Qt("MuiCard",t)}Jt("MuiCard",["root"]);const Y8e=["className","raised"],X8e=t=>{const{classes:e}=t;return rn({root:["root"]},G8e,e)},Z8e=ft(tr,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),C0=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=r,s=xt(r,Y8e),a=Q({},r,{raised:o}),l=X8e(a);return g.jsx(Z8e,Q({className:ut(l.root,i),elevation:o?8:void 0,ref:n,ownerState:a},s))});function Q8e(t){return Qt("MuiCardActions",t)}Jt("MuiCardActions",["root","spacing"]);const J8e=["disableSpacing","className"],e9e=t=>{const{classes:e,disableSpacing:n}=t;return rn({root:["root",!n&&"spacing"]},Q8e,e)},t9e=ft("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>Q({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),n9e=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=r,s=xt(r,J8e),a=Q({},r,{disableSpacing:i}),l=e9e(a);return g.jsx(t9e,Q({className:ut(l.root,o),ownerState:a,ref:n},s))});function r9e(t){return Qt("MuiCardContent",t)}Jt("MuiCardContent",["root"]);const i9e=["className","component"],o9e=t=>{const{classes:e}=t;return rn({root:["root"]},r9e,e)},s9e=ft("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),S0=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=r,s=xt(r,i9e),a=Q({},r,{component:o}),l=o9e(a);return g.jsx(s9e,Q({as:o,className:ut(l.root,i),ownerState:a,ref:n},s))});function a9e(t){return Qt("MuiCardMedia",t)}Jt("MuiCardMedia",["root","media","img"]);const l9e=["children","className","component","image","src","style"],c9e=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return rn({root:["root",n&&"media",r&&"img"]},a9e,e)},u9e=ft("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>Q({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),d9e=["video","audio","picture","iframe","img"],f9e=["picture","img"],h9e=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:a,src:l,style:c}=r,u=xt(r,l9e),d=d9e.indexOf(s)!==-1,f=!d&&a?Q({backgroundImage:`url("${a}")`},c):c,p=Q({},r,{component:s,isMediaComponent:d,isImageComponent:f9e.indexOf(s)!==-1}),v=c9e(p);return g.jsx(u9e,Q({className:ut(v.root,o),as:s,role:!d&&a?"img":void 0,ref:n,style:f,ownerState:p,src:d?a||l:void 0},u,{children:i}))});function p9e(t){return Qt("PrivateSwitchBase",t)}Jt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const m9e=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],g9e=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${yt(i)}`],input:["input"]};return rn(o,p9e,e)},v9e=ft(Sc)(({ownerState:t})=>Q({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),y9e=ft("input",{shouldForwardProp:xs})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),b9e=h.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:f,inputProps:p,inputRef:v,name:y,onBlur:b,onChange:x,onFocus:_,readOnly:w,required:E=!1,tabIndex:T,type:I,value:S}=e,P=xt(e,m9e),[R,O]=rv({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),N=wf(),A=W=>{_&&_(W),N&&N.onFocus&&N.onFocus(W)},$=W=>{b&&b(W),N&&N.onBlur&&N.onBlur(W)},M=W=>{if(W.nativeEvent.defaultPrevented)return;const q=W.target.checked;O(q),x&&x(W,q)};let F=l;N&&typeof F>"u"&&(F=N.disabled);const z=I==="checkbox"||I==="radio",j=Q({},e,{checked:R,disabled:F,disableFocusRipple:c,edge:u}),B=g9e(j);return g.jsxs(v9e,Q({component:"span",className:ut(B.root,s),centerRipple:!0,focusRipple:!c,disabled:F,tabIndex:null,role:void 0,onFocus:A,onBlur:$,ownerState:j,ref:n},P,{children:[g.jsx(y9e,Q({autoFocus:r,checked:i,defaultChecked:a,className:B.input,disabled:F,id:z?f:void 0,name:y,onChange:M,readOnly:w,ref:v,required:E,ownerState:j,tabIndex:T,type:I},I==="checkbox"&&S===void 0?{}:{value:S},p)),R?o:d]}))}),x9e=vn(g.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),_9e=vn(g.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),w9e=vn(g.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function C9e(t){return Qt("MuiCheckbox",t)}const UR=Jt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),S9e=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],E9e=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${yt(r)}`,`size${yt(i)}`]},s=rn(o,C9e,e);return Q({},e,s)},I9e=ft(b9e,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${yt(n.size)}`],n.color!=="default"&&e[`color${yt(n.color)}`]]}})(({theme:t,ownerState:e})=>Q({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sr(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${UR.checked}, &.${UR.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${UR.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),T9e=g.jsx(_9e,{}),P9e=g.jsx(x9e,{}),R9e=g.jsx(w9e,{}),x8=h.forwardRef(function(e,n){var r,i;const o=cn({props:e,name:"MuiCheckbox"}),{checkedIcon:s=T9e,color:a="primary",icon:l=P9e,indeterminate:c=!1,indeterminateIcon:u=R9e,inputProps:d,size:f="medium",className:p}=o,v=xt(o,S9e),y=c?u:l,b=c?u:s,x=Q({},o,{color:a,indeterminate:c,size:f}),_=E9e(x);return g.jsx(I9e,Q({type:"checkbox",inputProps:Q({"data-indeterminate":c},d),icon:h.cloneElement(y,{fontSize:(r=y.props.fontSize)!=null?r:f}),checkedIcon:h.cloneElement(b,{fontSize:(i=b.props.fontSize)!=null?i:f}),ownerState:x,ref:n,className:ut(_.root,p)},v,{classes:_}))});function k9e(t){return Qt("MuiCircularProgress",t)}Jt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const M9e=["className","color","disableShrink","size","style","thickness","value","variant"];let b2=t=>t,_8,w8,C8,S8;const Gu=44,O9e=Fv(_8||(_8=b2`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),D9e=Fv(w8||(w8=b2`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),A9e=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${yt(r)}`],svg:["svg"],circle:["circle",`circle${yt(n)}`,i&&"circleDisableShrink"]};return rn(o,k9e,e)},$9e=ft("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${yt(n.color)}`]]}})(({ownerState:t,theme:e})=>Q({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&qT(C8||(C8=b2`
      animation: ${0} 1.4s linear infinite;
    `),O9e)),N9e=ft("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),L9e=ft("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${yt(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>Q({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&qT(S8||(S8=b2`
      animation: ${0} 1.4s ease-in-out infinite;
    `),D9e)),na=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=xt(r,M9e),p=Q({},r,{color:o,disableShrink:s,size:a,thickness:c,value:u,variant:d}),v=A9e(p),y={},b={},x={};if(d==="determinate"){const _=2*Math.PI*((Gu-c)/2);y.strokeDasharray=_.toFixed(3),x["aria-valuenow"]=Math.round(u),y.strokeDashoffset=`${((100-u)/100*_).toFixed(3)}px`,b.transform="rotate(-90deg)"}return g.jsx($9e,Q({className:ut(v.root,i),style:Q({width:a,height:a},b,l),ownerState:p,ref:n,role:"progressbar"},x,f,{children:g.jsx(N9e,{className:v.svg,ownerState:p,viewBox:`${Gu/2} ${Gu/2} ${Gu} ${Gu}`,children:g.jsx(L9e,{className:v.circle,style:y,ownerState:p,cx:Gu,cy:Gu,r:(Gu-c)/2,fill:"none",strokeWidth:c})})}))}),TE=r3e({createStyledComponent:ft("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${yt(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>cn({props:t,name:"MuiContainer"})});function j9e(t){const e=No(t);return e.body===t?Cc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function rb(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function E8(t){return parseInt(Cc(t).getComputedStyle(t).paddingRight,10)||0}function z9e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function I8(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!z9e(s);a&&l&&rb(s,i)})}function KR(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function F9e(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(j9e(r)){const s=lte(No(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${E8(r)+s}px`;const a=No(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${E8(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=No(r).body;else{const s=r.parentElement,a=Cc(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function B9e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class V9e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&rb(e.modalRef,!1);const i=B9e(n);I8(n,e.mount,e.modalRef,i,!0);const o=KR(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=KR(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=F9e(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=KR(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&rb(e.modalRef,n),I8(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&rb(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const H9e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function W9e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function U9e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function K9e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||U9e(t))}function q9e(t){const e=[],n=[];return Array.from(t.querySelectorAll(H9e)).forEach((r,i)=>{const o=W9e(r);o===-1||!K9e(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function G9e(){return!0}function Y9e(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=q9e,isEnabled:s=G9e,open:a}=t,l=h.useRef(!1),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=h.useRef(!1),v=h.useRef(null),y=Ii(Hv(e),v),b=h.useRef(null);h.useEffect(()=>{!a||!v.current||(p.current=!n)},[n,a]),h.useEffect(()=>{if(!a||!v.current)return;const w=No(v.current);return v.current.contains(w.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),p.current&&v.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),h.useEffect(()=>{if(!a||!v.current)return;const w=No(v.current),E=S=>{b.current=S,!(r||!s()||S.key!=="Tab")&&w.activeElement===v.current&&S.shiftKey&&(l.current=!0,u.current&&u.current.focus())},T=()=>{const S=v.current;if(S===null)return;if(!w.hasFocus()||!s()||l.current){l.current=!1;return}if(S.contains(w.activeElement)||r&&w.activeElement!==c.current&&w.activeElement!==u.current)return;if(w.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let P=[];if((w.activeElement===c.current||w.activeElement===u.current)&&(P=o(v.current)),P.length>0){var R,O;const N=!!((R=b.current)!=null&&R.shiftKey&&((O=b.current)==null?void 0:O.key)==="Tab"),A=P[0],$=P[P.length-1];typeof A!="string"&&typeof $!="string"&&(N?$.focus():A.focus())}else S.focus()};w.addEventListener("focusin",T),w.addEventListener("keydown",E,!0);const I=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(I),w.removeEventListener("focusin",T),w.removeEventListener("keydown",E,!0)}},[n,r,i,s,a,o]);const x=w=>{d.current===null&&(d.current=w.relatedTarget),p.current=!0,f.current=w.target;const E=e.props.onFocus;E&&E(w)},_=w=>{d.current===null&&(d.current=w.relatedTarget),p.current=!0};return g.jsxs(h.Fragment,{children:[g.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:c,"data-testid":"sentinelStart"}),h.cloneElement(e,{ref:y,onFocus:x}),g.jsx("div",{tabIndex:a?0:-1,onFocus:_,ref:u,"data-testid":"sentinelEnd"})]})}function X9e(t){return typeof t=="function"?t():t}function Z9e(t){return t?t.props.hasOwnProperty("in"):!1}const Q9e=new V9e;function J9e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Q9e,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:u,rootRef:d}=t,f=h.useRef({}),p=h.useRef(null),v=h.useRef(null),y=Ii(v,d),[b,x]=h.useState(!u),_=Z9e(l);let w=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(w=!1);const E=()=>No(p.current),T=()=>(f.current.modalRef=v.current,f.current.mount=p.current,f.current),I=()=>{i.mount(T(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},S=ta(()=>{const z=X9e(e)||E().body;i.add(T(),z),v.current&&I()}),P=h.useCallback(()=>i.isTopModal(T()),[i]),R=ta(z=>{p.current=z,z&&(u&&P()?I():v.current&&rb(v.current,w))}),O=h.useCallback(()=>{i.remove(T(),w)},[w,i]);h.useEffect(()=>()=>{O()},[O]),h.useEffect(()=>{u?S():(!_||!o)&&O()},[u,O,_,o,S]);const N=z=>j=>{var B;(B=z.onKeyDown)==null||B.call(z,j),!(j.key!=="Escape"||j.which===229||!P())&&(n||(j.stopPropagation(),c&&c(j,"escapeKeyDown")))},A=z=>j=>{var B;(B=z.onClick)==null||B.call(z,j),j.target===j.currentTarget&&c&&c(j,"backdropClick")};return{getRootProps:(z={})=>{const j=ute(t);delete j.onTransitionEnter,delete j.onTransitionExited;const B=Q({},j,z);return Q({role:"presentation"},B,{onKeyDown:N(B),ref:y})},getBackdropProps:(z={})=>{const j=z;return Q({"aria-hidden":!0},j,{onClick:A(j),open:u})},getTransitionProps:()=>{const z=()=>{x(!1),s&&s()},j=()=>{x(!0),a&&a(),o&&O()};return{onEnter:wD(z,l==null?void 0:l.props.onEnter),onExited:wD(j,l==null?void 0:l.props.onExited)}},rootRef:y,portalRef:R,isTopModal:P,exited:b,hasTransition:_}}function eWe(t){return Qt("MuiModal",t)}Jt("MuiModal",["root","hidden","backdrop"]);const tWe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],nWe=t=>{const{open:e,exited:n,classes:r}=t;return rn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},eWe,r)},rWe=ft("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>Q({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),iWe=ft(Hte,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Ute=h.forwardRef(function(e,n){var r,i,o,s,a,l;const c=cn({name:"MuiModal",props:e}),{BackdropComponent:u=iWe,BackdropProps:d,className:f,closeAfterTransition:p=!1,children:v,container:y,component:b,components:x={},componentsProps:_={},disableAutoFocus:w=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:T=!1,disablePortal:I=!1,disableRestoreFocus:S=!1,disableScrollLock:P=!1,hideBackdrop:R=!1,keepMounted:O=!1,onBackdropClick:N,open:A,slotProps:$,slots:M}=c,F=xt(c,tWe),z=Q({},c,{closeAfterTransition:p,disableAutoFocus:w,disableEnforceFocus:E,disableEscapeKeyDown:T,disablePortal:I,disableRestoreFocus:S,disableScrollLock:P,hideBackdrop:R,keepMounted:O}),{getRootProps:j,getBackdropProps:B,getTransitionProps:W,portalRef:q,isTopModal:G,exited:X,hasTransition:ue}=J9e(Q({},z,{rootRef:n})),te=Q({},z,{exited:X}),J=nWe(te),se={};if(v.props.tabIndex===void 0&&(se.tabIndex="-1"),ue){const{onEnter:oe,onExited:V}=W();se.onEnter=oe,se.onExited=V}const ge=(r=(i=M==null?void 0:M.root)!=null?i:x.Root)!=null?r:rWe,le=(o=(s=M==null?void 0:M.backdrop)!=null?s:x.Backdrop)!=null?o:u,we=(a=$==null?void 0:$.root)!=null?a:_.root,ce=(l=$==null?void 0:$.backdrop)!=null?l:_.backdrop,be=wl({elementType:ge,externalSlotProps:we,externalForwardedProps:F,getSlotProps:j,additionalProps:{ref:n,as:b},ownerState:te,className:ut(f,we==null?void 0:we.className,J==null?void 0:J.root,!te.open&&te.exited&&(J==null?void 0:J.hidden))}),K=wl({elementType:le,externalSlotProps:ce,additionalProps:d,getSlotProps:oe=>B(Q({},oe,{onClick:V=>{N&&N(V),oe!=null&&oe.onClick&&oe.onClick(V)}})),className:ut(ce==null?void 0:ce.className,d==null?void 0:d.className,J==null?void 0:J.backdrop),ownerState:te});return!O&&!A&&(!ue||X)?null:g.jsx(Fte,{ref:q,container:y,disablePortal:I,children:g.jsxs(ge,Q({},be,{children:[!R&&u?g.jsx(le,Q({},K)):null,g.jsx(Y9e,{disableEnforceFocus:E,disableAutoFocus:w,disableRestoreFocus:S,isEnabled:G,open:A,children:h.cloneElement(v,se)})]}))})});function oWe(t){return Qt("MuiDialog",t)}const qR=Jt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Kte=h.createContext({}),sWe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],aWe=ft(Hte,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),lWe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${yt(n)}`],paper:["paper",`paperScroll${yt(n)}`,`paperWidth${yt(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return rn(s,oWe,e)},cWe=ft(Ute,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),uWe=ft("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${yt(n.scroll)}`]]}})(({ownerState:t})=>Q({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),dWe=ft(tr,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${yt(n.scroll)}`],e[`paperWidth${yt(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>Q({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${qR.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${qR.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${qR.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),hc=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiDialog"}),i=Cp(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:v=!1,maxWidth:y="sm",onBackdropClick:b,onClick:x,onClose:_,open:w,PaperComponent:E=tr,PaperProps:T={},scroll:I="paper",TransitionComponent:S=Vte,transitionDuration:P=o,TransitionProps:R}=r,O=xt(r,sWe),N=Q({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:v,maxWidth:y,scroll:I}),A=lWe(N),$=h.useRef(),M=B=>{$.current=B.target===B.currentTarget},F=B=>{x&&x(B),$.current&&($.current=null,b&&b(B),_&&_(B,"backdropClick"))},z=M_(a),j=h.useMemo(()=>({titleId:z}),[z]);return g.jsx(cWe,Q({className:ut(A.root,d),closeAfterTransition:!0,components:{Backdrop:aWe},componentsProps:{backdrop:Q({transitionDuration:P,as:l},c)},disableEscapeKeyDown:f,onClose:_,open:w,ref:n,onClick:F,ownerState:N},O,{children:g.jsx(S,Q({appear:!0,in:w,timeout:P,role:"presentation"},R,{children:g.jsx(uWe,{className:ut(A.container),onMouseDown:M,ownerState:N,children:g.jsx(dWe,Q({as:E,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":z},T,{className:ut(A.paper,T.className),ownerState:N,children:g.jsx(Kte.Provider,{value:j,children:u})}))})}))}))});function fWe(t){return Qt("MuiDialogActions",t)}Jt("MuiDialogActions",["root","spacing"]);const hWe=["className","disableSpacing"],pWe=t=>{const{classes:e,disableSpacing:n}=t;return rn({root:["root",!n&&"spacing"]},fWe,e)},mWe=ft("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>Q({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),pc=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,s=xt(r,hWe),a=Q({},r,{disableSpacing:o}),l=pWe(a);return g.jsx(mWe,Q({className:ut(l.root,i),ownerState:a,ref:n},s))});function gWe(t){return Qt("MuiDialogContent",t)}Jt("MuiDialogContent",["root","dividers"]);function vWe(t){return Qt("MuiDialogTitle",t)}const yWe=Jt("MuiDialogTitle",["root"]),bWe=["className","dividers"],xWe=t=>{const{classes:e,dividers:n}=t;return rn({root:["root",n&&"dividers"]},gWe,e)},_We=ft("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>Q({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${yWe.root} + &`]:{paddingTop:0}})),mc=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,s=xt(r,bWe),a=Q({},r,{dividers:o}),l=xWe(a);return g.jsx(_We,Q({className:ut(l.root,i),ownerState:a,ref:n},s))});function wWe(t){return Qt("MuiDialogContentText",t)}Jt("MuiDialogContentText",["root"]);const CWe=["children","className"],SWe=t=>{const{classes:e}=t,r=rn({root:["root"]},wWe,e);return Q({},e,r)},EWe=ft(Ge,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$S=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiDialogContentText"}),{className:i}=r,o=xt(r,CWe),s=SWe(o);return g.jsx(EWe,Q({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:o,className:ut(s.root,i)},r,{classes:s}))}),IWe=["className","id"],TWe=t=>{const{classes:e}=t;return rn({root:["root"]},vWe,e)},PWe=ft(Ge,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),gc=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiDialogTitle"}),{className:i,id:o}=r,s=xt(r,IWe),a=r,l=TWe(a),{titleId:c=o}=h.useContext(Kte);return g.jsx(PWe,Q({component:"h2",className:ut(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??c},s))});function RWe(t){return Qt("MuiDivider",t)}const T8=Jt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),kWe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],MWe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return rn({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},RWe,r)},OWe=ft("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>Q({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:sr(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>Q({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>Q({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}),({theme:t,ownerState:e})=>Q({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}),({ownerState:t})=>Q({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DWe=ft("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>Q({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),Tx=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth"}=r,v=xt(r,kWe),y=Q({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:u,role:d,textAlign:f,variant:p}),b=MWe(y);return g.jsx(OWe,Q({as:a,className:ut(b.root,s),role:d,ref:n,ownerState:y},v,{children:o?g.jsx(DWe,{className:b.wrapper,ownerState:y,children:o}):null}))});Tx.muiSkipListHighlight=!0;const AWe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],$We=t=>{const{classes:e,disableUnderline:n}=t,i=rn({root:["root",!n&&"underline"],input:["input"]},_8e,e);return Q({},e,i)},NWe=ft(v2,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...m2(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Q({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Mf.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Mf.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mf.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mf.disabled}, .${Mf.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Mf.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&Q({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),LWe=ft(y2,{name:"MuiFilledInput",slot:"Input",overridesResolver:g2})(({theme:t,ownerState:e})=>Q({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),cj=h.forwardRef(function(e,n){var r,i,o,s;const a=cn({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:v={},type:y="text"}=a,b=xt(a,AWe),x=Q({},a,{fullWidth:u,inputComponent:d,multiline:f,type:y}),_=$We(a),w={root:{ownerState:x},input:{ownerState:x}},E=p??c?ps(w,p??c):w,T=(r=(i=v.root)!=null?i:l.Root)!=null?r:NWe,I=(o=(s=v.input)!=null?s:l.Input)!=null?o:LWe;return g.jsx(lj,Q({slots:{root:T,input:I},componentsProps:E,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:y},b,{classes:_}))});cj.muiName="Input";function jWe(t){return Qt("MuiFormControl",t)}Jt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const zWe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],FWe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${yt(n)}`,r&&"fullWidth"]};return rn(i,jWe,e)},BWe=ft("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>Q({},e.root,e[`margin${yt(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>Q({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Ch=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:v=!1,size:y="medium",variant:b="outlined"}=r,x=xt(r,zWe),_=Q({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:v,size:y,variant:b}),w=FWe(_),[E,T]=h.useState(()=>{let $=!1;return i&&h.Children.forEach(i,M=>{if(!eb(M,["Input","Select"]))return;const F=eb(M,["Select"])?M.props.input:M;F&&p8e(F.props)&&($=!0)}),$}),[I,S]=h.useState(()=>{let $=!1;return i&&h.Children.forEach(i,M=>{eb(M,["Input","Select"])&&(IE(M.props,!0)||IE(M.props.inputProps,!0))&&($=!0)}),$}),[P,R]=h.useState(!1);l&&P&&R(!1);const O=u!==void 0&&!l?u:P;let N;const A=h.useMemo(()=>({adornedStart:E,setAdornedStart:T,color:s,disabled:l,error:c,filled:I,focused:O,fullWidth:d,hiddenLabel:f,size:y,onBlur:()=>{R(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{R(!0)},registerEffect:N,required:v,variant:b}),[E,s,l,c,I,O,d,f,N,v,y,b]);return g.jsx(aj.Provider,{value:A,children:g.jsx(BWe,Q({as:a,ownerState:_,className:ut(w.root,o),ref:n},x,{children:i}))})}),Id=d3e({createStyledComponent:ft("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>cn({props:t,name:"MuiStack"})});function VWe(t){return Qt("MuiFormControlLabel",t)}const E0=Jt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),HWe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],WWe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${yt(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return rn(s,VWe,e)},UWe=ft("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${E0.label}`]:e.label},e.root,e[`labelPlacement${yt(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>Q({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${E0.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${E0.label}`]:{[`&.${E0.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),KWe=ft("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${E0.error}`]:{color:(t.vars||t).palette.error.main}})),P8=h.forwardRef(function(e,n){var r,i;const o=cn({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:f="end",required:p,slotProps:v={}}=o,y=xt(o,HWe),b=wf(),x=(r=c??l.props.disabled)!=null?r:b==null?void 0:b.disabled,_=p??l.props.required,w={disabled:x,required:_};["checked","name","onChange","value","inputRef"].forEach(R=>{typeof l.props[R]>"u"&&typeof o[R]<"u"&&(w[R]=o[R])});const E=Sp({props:o,muiFormControl:b,states:["error"]}),T=Q({},o,{disabled:x,labelPlacement:f,required:_,error:E.error}),I=WWe(T),S=(i=v.typography)!=null?i:a.typography;let P=d;return P!=null&&P.type!==Ge&&!u&&(P=g.jsx(Ge,Q({component:"span"},S,{className:ut(I.label,S==null?void 0:S.className),children:P}))),g.jsxs(UWe,Q({className:ut(I.root,s),ownerState:T,ref:n},y,{children:[h.cloneElement(l,w),_?g.jsxs(Id,{display:"block",children:[P,g.jsxs(KWe,{ownerState:T,"aria-hidden":!0,className:I.asterisk,children:[" ","*"]})]}):P]}))});function qWe(t){return Qt("MuiFormHelperText",t)}const R8=Jt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var k8;const GWe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],YWe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,c={root:["root",i&&"disabled",o&&"error",r&&`size${yt(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return rn(c,qWe,e)},XWe=ft("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${yt(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>Q({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${R8.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${R8.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),ZWe=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=xt(r,GWe),l=wf(),c=Sp({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=Q({},r,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=YWe(u);return g.jsx(XWe,Q({as:s,ownerState:u,className:ut(d.root,o),ref:n},a,{children:i===" "?k8||(k8=g.jsx("span",{className:"notranslate",children:"​"})):i}))});function QWe(t){return Qt("MuiFormLabel",t)}const ib=Jt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),JWe=["children","className","color","component","disabled","error","filled","focused","required"],eUe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${yt(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return rn(l,QWe,e)},tUe=ft("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>Q({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>Q({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${ib.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${ib.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ib.error}`]:{color:(t.vars||t).palette.error.main}})),nUe=ft("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${ib.error}`]:{color:(t.vars||t).palette.error.main}})),rUe=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=xt(r,JWe),l=wf(),c=Sp({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=Q({},r,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=eUe(u);return g.jsxs(tUe,Q({as:s,ownerState:u,className:ut(d.root,o),ref:n},a,{children:[i,c.required&&g.jsxs(nUe,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),M8=h.createContext();function iUe(t){return Qt("MuiGrid",t)}const oUe=[0,1,2,3,4,5,6,7,8,9,10],sUe=["column-reverse","column","row-reverse","row"],aUe=["nowrap","wrap-reverse","wrap"],Wy=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Px=Jt("MuiGrid",["root","container","item","zeroMinWidth",...oUe.map(t=>`spacing-xs-${t}`),...sUe.map(t=>`direction-xs-${t}`),...aUe.map(t=>`wrap-xs-${t}`),...Wy.map(t=>`grid-xs-${t}`),...Wy.map(t=>`grid-sm-${t}`),...Wy.map(t=>`grid-md-${t}`),...Wy.map(t=>`grid-lg-${t}`),...Wy.map(t=>`grid-xl-${t}`)]),lUe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function bg(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function cUe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let o={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=_h({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof s=="object"?s[i]:s;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${bg(u)})`;c={flexBasis:d,maxWidth:d}}}o=Q({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,o):r[t.breakpoints.up(i)]=o,r},{})}function uUe({theme:t,ownerState:e}){const n=_h({values:e.direction,breakpoints:t.breakpoints.values});return Fs({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Px.item}`]={maxWidth:"none"}),i})}function qte({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,o)=>t[i]-t[o]);return r.slice(0,r.indexOf(n))}function dUe({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const o=_h({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=qte({breakpoints:t.breakpoints.values,values:o})),i=Fs({theme:t},o,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${bg(u)}`,[`& > .${Px.item}`]:{paddingTop:bg(u)}}:(c=s)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Px.item}`]:{paddingTop:0}}})}return i}function fUe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const o=_h({values:r,breakpoints:t.breakpoints.values});let s;typeof o=="object"&&(s=qte({breakpoints:t.breakpoints.values,values:o})),i=Fs({theme:t},o,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${bg(u)})`,marginLeft:`-${bg(u)}`,[`& > .${Px.item}`]:{paddingLeft:bg(u)}}:(c=s)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Px.item}`]:{paddingLeft:0}}})}return i}function hUe(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const o=t[i];Number(o)>0&&r.push(n[`spacing-${i}-${String(o)}`])}),r}const pUe=ft("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=hUe(s,c,e));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,o&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>Q({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),uUe,dUe,fUe,cUe);function mUe(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;n.push(o)}}),n}const gUe=t=>{const{classes:e,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=mUe(o,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...u]};return rn(d,iUe,e)},ct=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiGrid"}),{breakpoints:i}=Cp(),o=R_(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:v=0,wrap:y="wrap",zeroMinWidth:b=!1}=o,x=xt(o,lUe),_=p||v,w=l||v,E=h.useContext(M8),T=u?a||12:E,I={},S=Q({},x);i.keys.forEach(O=>{x[O]!=null&&(I[O]=x[O],delete S[O])});const P=Q({},o,{columns:T,container:u,direction:d,item:f,rowSpacing:_,columnSpacing:w,wrap:y,zeroMinWidth:b,spacing:v},I,{breakpoints:i.keys}),R=gUe(P);return g.jsx(M8.Provider,{value:T,children:g.jsx(pUe,Q({ownerState:P,className:ut(R.root,s),as:c,ref:n},S))})}),vUe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function MD(t){return`scale(${t}, ${t**2})`}const yUe={entering:{opacity:1,transform:MD(1)},entered:{opacity:1,transform:"none"}},GR=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),PE=h.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:v,timeout:y="auto",TransitionComponent:b=Tl}=e,x=xt(e,vUe),_=lh(),w=h.useRef(),E=Cp(),T=h.useRef(null),I=Ii(T,Hv(o),n),S=F=>z=>{if(F){const j=T.current;z===void 0?F(j):F(j,z)}},P=S(u),R=S((F,z)=>{Ite(F);const{duration:j,delay:B,easing:W}=ov({style:v,timeout:y,easing:s},{mode:"enter"});let q;y==="auto"?(q=E.transitions.getAutoHeightDuration(F.clientHeight),w.current=q):q=j,F.style.transition=[E.transitions.create("opacity",{duration:q,delay:B}),E.transitions.create("transform",{duration:GR?q:q*.666,delay:B,easing:W})].join(","),l&&l(F,z)}),O=S(c),N=S(p),A=S(F=>{const{duration:z,delay:j,easing:B}=ov({style:v,timeout:y,easing:s},{mode:"exit"});let W;y==="auto"?(W=E.transitions.getAutoHeightDuration(F.clientHeight),w.current=W):W=z,F.style.transition=[E.transitions.create("opacity",{duration:W,delay:j}),E.transitions.create("transform",{duration:GR?W:W*.666,delay:GR?j:j||W*.333,easing:B})].join(","),F.style.opacity=0,F.style.transform=MD(.75),d&&d(F)}),$=S(f),M=F=>{y==="auto"&&_.start(w.current||0,F),r&&r(T.current,F)};return g.jsx(b,Q({appear:i,in:a,nodeRef:T,onEnter:R,onEntered:O,onEntering:P,onExit:A,onExited:$,onExiting:N,addEndListener:M,timeout:y==="auto"?null:y},x,{children:(F,z)=>h.cloneElement(o,Q({style:Q({opacity:0,transform:MD(.75),visibility:F==="exited"&&!a?"hidden":void 0},yUe[F],v,o.props.style),ref:I},z))}))});PE.muiSupportAuto=!0;const bUe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],xUe=t=>{const{classes:e,disableUnderline:n}=t,i=rn({root:["root",!n&&"underline"],input:["input"]},b8e,e);return Q({},e,i)},_Ue=ft(v2,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...m2(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),Q({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Hy.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Hy.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Hy.disabled}, .${Hy.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Hy.disabled}:before`]:{borderBottomStyle:"dotted"}})}),wUe=ft(y2,{name:"MuiInput",slot:"Input",overridesResolver:g2})({}),uj=h.forwardRef(function(e,n){var r,i,o,s;const a=cn({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:p=!1,slotProps:v,slots:y={},type:b="text"}=a,x=xt(a,bUe),_=xUe(a),E={root:{ownerState:{disableUnderline:l}}},T=v??u?ps(v??u,E):E,I=(r=(i=y.root)!=null?i:c.Root)!=null?r:_Ue,S=(o=(s=y.input)!=null?s:c.Input)!=null?o:wUe;return g.jsx(lj,Q({slots:{root:I,input:S},slotProps:T,fullWidth:d,inputComponent:f,multiline:p,ref:n,type:b},x,{classes:_}))});uj.muiName="Input";function CUe(t){return Qt("MuiInputLabel",t)}Jt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const SUe=["disableAnimation","margin","shrink","variant","className"],EUe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${yt(r)}`,s],asterisk:[a&&"asterisk"]},c=rn(l,CUe,e);return Q({},e,c)},IUe=ft(rUe,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ib.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>Q({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&Q({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&Q({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&Q({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Sh=h.forwardRef(function(e,n){const r=cn({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=xt(r,SUe),l=wf();let c=o;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Sp({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=Q({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),f=EUe(d);return g.jsx(IUe,Q({"data-shrink":c,ownerState:d,ref:n,className:ut(f.root,s)},a,{classes:f}))}),mu=h.createContext({});function TUe(t){return Qt("MuiList",t)}Jt("MuiList",["root","padding","dense","subheader"]);const PUe=["children","className","component","dense","disablePadding","subheader"],RUe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return rn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},TUe,e)},kUe=ft("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>Q({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Wd=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=xt(r,PUe),d=h.useMemo(()=>({dense:a}),[a]),f=Q({},r,{component:s,dense:a,disablePadding:l}),p=RUe(f);return g.jsx(mu.Provider,{value:d,children:g.jsxs(kUe,Q({as:s,className:ut(p.root,o),ref:n,ownerState:f},u,{children:[c,i]}))})});function MUe(t){return Qt("MuiListItem",t)}const Im=Jt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),OUe=Jt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function DUe(t){return Qt("MuiListItemSecondaryAction",t)}Jt("MuiListItemSecondaryAction",["root","disableGutters"]);const AUe=["className"],$Ue=t=>{const{disableGutters:e,classes:n}=t;return rn({root:["root",e&&"disableGutters"]},DUe,n)},NUe=ft("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>Q({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),Gte=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=xt(r,AUe),s=h.useContext(mu),a=Q({},r,{disableGutters:s.disableGutters}),l=$Ue(a);return g.jsx(NUe,Q({className:ut(l.root,i),ownerState:a,ref:n},o))});Gte.muiName="ListItemSecondaryAction";const LUe=["className"],jUe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],zUe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},FUe=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return rn({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},MUe,r)},BUe=ft("div",{name:"MuiListItem",slot:"Root",overridesResolver:zUe})(({theme:t,ownerState:e})=>Q({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&Q({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${OUe.root}`]:{paddingRight:48}},{[`&.${Im.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Im.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:sr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Im.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:sr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Im.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Im.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:sr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:sr(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),VUe=ft("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Eh=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:p}={},dense:v=!1,disabled:y=!1,disableGutters:b=!1,disablePadding:x=!1,divider:_=!1,focusVisibleClassName:w,secondaryAction:E,selected:T=!1,slotProps:I={},slots:S={}}=r,P=xt(r.ContainerProps,LUe),R=xt(r,jUe),O=h.useContext(mu),N=h.useMemo(()=>({dense:v||O.dense||!1,alignItems:i,disableGutters:b}),[i,O.dense,v,b]),A=h.useRef(null);ca(()=>{o&&A.current&&A.current.focus()},[o]);const $=h.Children.toArray(a),M=$.length&&eb($[$.length-1],["ListItemSecondaryAction"]),F=Q({},r,{alignItems:i,autoFocus:o,button:s,dense:N.dense,disabled:y,disableGutters:b,disablePadding:x,divider:_,hasSecondaryAction:M,selected:T}),z=FUe(F),j=Ii(A,n),B=S.root||u.Root||BUe,W=I.root||d.root||{},q=Q({className:ut(z.root,W.className,l),disabled:y},R);let G=c||"li";return s&&(q.component=c||"div",q.focusVisibleClassName=ut(Im.focusVisible,w),G=Sc),M?(G=!q.component&&!c?"div":G,f==="li"&&(G==="li"?G="div":q.component==="li"&&(q.component="div")),g.jsx(mu.Provider,{value:N,children:g.jsxs(VUe,Q({as:f,className:ut(z.container,p),ref:j,ownerState:F},P,{children:[g.jsx(B,Q({},W,!iv(B)&&{as:G,ownerState:Q({},F,W.ownerState)},q,{children:$})),$.pop()]}))})):g.jsx(mu.Provider,{value:N,children:g.jsxs(B,Q({},W,{as:G,ref:j},!iv(B)&&{ownerState:Q({},F,W.ownerState)},q,{children:[$,E&&g.jsx(Gte,{children:E})]}))})});function HUe(t){return Qt("MuiListItemIcon",t)}const O8=Jt("MuiListItemIcon",["root","alignItemsFlexStart"]),WUe=["className"],UUe=t=>{const{alignItems:e,classes:n}=t;return rn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},HUe,n)},KUe=ft("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>Q({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),Ih=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiListItemIcon"}),{className:i}=r,o=xt(r,WUe),s=h.useContext(mu),a=Q({},r,{alignItems:s.alignItems}),l=UUe(a);return g.jsx(KUe,Q({className:ut(l.root,i),ownerState:a,ref:n},o))});function qUe(t){return Qt("MuiListItemText",t)}const RE=Jt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),GUe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],YUe=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return rn({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},qUe,e)},XUe=ft("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${RE.primary}`]:e.primary},{[`& .${RE.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>Q({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Th=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,f=xt(r,GUe),{dense:p}=h.useContext(mu);let v=l??i,y=u;const b=Q({},r,{disableTypography:s,inset:a,primary:!!v,secondary:!!y,dense:p}),x=YUe(b);return v!=null&&v.type!==Ge&&!s&&(v=g.jsx(Ge,Q({variant:p?"body2":"body1",className:x.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:v}))),y!=null&&y.type!==Ge&&!s&&(y=g.jsx(Ge,Q({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},d,{children:y}))),g.jsxs(XUe,Q({className:ut(x.root,o),ownerState:b,ref:n},f,{children:[v,y]}))}),ZUe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function YR(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function D8(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Yte(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Uy(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Yte(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const QUe=h.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=xt(e,ZUe),p=h.useRef(null),v=h.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ca(()=>{i&&p.current.focus()},[i]),h.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:E})=>{const T=!p.current.style.width;if(w.clientHeight<p.current.clientHeight&&T){const I=`${lte(No(w))}px`;p.current.style[E==="rtl"?"paddingLeft":"paddingRight"]=I,p.current.style.width=`calc(100% + ${I})`}return p.current}}),[]);const y=w=>{const E=p.current,T=w.key,I=No(E).activeElement;if(T==="ArrowDown")w.preventDefault(),Uy(E,I,c,l,YR);else if(T==="ArrowUp")w.preventDefault(),Uy(E,I,c,l,D8);else if(T==="Home")w.preventDefault(),Uy(E,null,c,l,YR);else if(T==="End")w.preventDefault(),Uy(E,null,c,l,D8);else if(T.length===1){const S=v.current,P=T.toLowerCase(),R=performance.now();S.keys.length>0&&(R-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&P!==S.keys[0]&&(S.repeating=!1)),S.lastTime=R,S.keys.push(P);const O=I&&!S.repeating&&Yte(I,S);S.previousKeyMatched&&(O||Uy(E,I,!1,l,YR,S))?w.preventDefault():S.previousKeyMatched=!1}u&&u(w)},b=Ii(p,n);let x=-1;h.Children.forEach(s,(w,E)=>{if(!h.isValidElement(w)){x===E&&(x+=1,x>=s.length&&(x=-1));return}w.props.disabled||(d==="selectedMenu"&&w.props.selected||x===-1)&&(x=E),x===E&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=s.length&&(x=-1))});const _=h.Children.map(s,(w,E)=>{if(E===x){const T={};return o&&(T.autoFocus=!0),w.props.tabIndex===void 0&&d==="selectedMenu"&&(T.tabIndex=0),h.cloneElement(w,T)}return w});return g.jsx(Wd,Q({role:"menu",ref:b,className:a,onKeyDown:y,tabIndex:i?0:-1},f,{children:_}))});function JUe(t){return Qt("MuiPopover",t)}Jt("MuiPopover",["root","paper"]);const e7e=["onEntering"],t7e=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],n7e=["slotProps"];function A8(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function $8(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function N8(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function XR(t){return typeof t=="function"?t():t}const r7e=t=>{const{classes:e}=t;return rn({root:["root"],paper:["paper"]},JUe,e)},i7e=ft(Ute,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Xte=ft(tr,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),o7e=h.forwardRef(function(e,n){var r,i,o;const s=cn({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:f,className:p,container:v,elevation:y=8,marginThreshold:b=16,open:x,PaperProps:_={},slots:w,slotProps:E,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:I=PE,transitionDuration:S="auto",TransitionProps:{onEntering:P}={},disableScrollLock:R=!1}=s,O=xt(s.TransitionProps,e7e),N=xt(s,t7e),A=(r=E==null?void 0:E.paper)!=null?r:_,$=h.useRef(),M=Ii($,A.ref),F=Q({},s,{anchorOrigin:c,anchorReference:d,elevation:y,marginThreshold:b,externalPaperSlotProps:A,transformOrigin:T,TransitionComponent:I,transitionDuration:S,TransitionProps:O}),z=r7e(F),j=h.useCallback(()=>{if(d==="anchorPosition")return u;const oe=XR(l),ie=(oe&&oe.nodeType===1?oe:No($.current).body).getBoundingClientRect();return{top:ie.top+A8(ie,c.vertical),left:ie.left+$8(ie,c.horizontal)}},[l,c.horizontal,c.vertical,u,d]),B=h.useCallback(oe=>({vertical:A8(oe,T.vertical),horizontal:$8(oe,T.horizontal)}),[T.horizontal,T.vertical]),W=h.useCallback(oe=>{const V={width:oe.offsetWidth,height:oe.offsetHeight},ie=B(V);if(d==="none")return{top:null,left:null,transformOrigin:N8(ie)};const re=j();let ee=re.top-ie.vertical,Y=re.left-ie.horizontal;const he=ee+V.height,Ce=Y+V.width,me=Cc(XR(l)),fe=me.innerHeight-b,ye=me.innerWidth-b;if(b!==null&&ee<b){const Te=ee-b;ee-=Te,ie.vertical+=Te}else if(b!==null&&he>fe){const Te=he-fe;ee-=Te,ie.vertical+=Te}if(b!==null&&Y<b){const Te=Y-b;Y-=Te,ie.horizontal+=Te}else if(Ce>ye){const Te=Ce-ye;Y-=Te,ie.horizontal+=Te}return{top:`${Math.round(ee)}px`,left:`${Math.round(Y)}px`,transformOrigin:N8(ie)}},[l,d,j,B,b]),[q,G]=h.useState(x),X=h.useCallback(()=>{const oe=$.current;if(!oe)return;const V=W(oe);V.top!==null&&(oe.style.top=V.top),V.left!==null&&(oe.style.left=V.left),oe.style.transformOrigin=V.transformOrigin,G(!0)},[W]);h.useEffect(()=>(R&&window.addEventListener("scroll",X),()=>window.removeEventListener("scroll",X)),[l,R,X]);const ue=(oe,V)=>{P&&P(oe,V),X()},te=()=>{G(!1)};h.useEffect(()=>{x&&X()}),h.useImperativeHandle(a,()=>x?{updatePosition:()=>{X()}}:null,[x,X]),h.useEffect(()=>{if(!x)return;const oe=k_(()=>{X()}),V=Cc(l);return V.addEventListener("resize",oe),()=>{oe.clear(),V.removeEventListener("resize",oe)}},[l,x,X]);let J=S;S==="auto"&&!I.muiSupportAuto&&(J=void 0);const se=v||(l?No(XR(l)).body:void 0),ge=(i=w==null?void 0:w.root)!=null?i:i7e,le=(o=w==null?void 0:w.paper)!=null?o:Xte,we=wl({elementType:le,externalSlotProps:Q({},A,{style:q?A.style:Q({},A.style,{opacity:0})}),additionalProps:{elevation:y,ref:M},ownerState:F,className:ut(z.paper,A==null?void 0:A.className)}),ce=wl({elementType:ge,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:N,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:se,open:x},ownerState:F,className:ut(z.root,p)}),{slotProps:be}=ce,K=xt(ce,n7e);return g.jsx(ge,Q({},K,!iv(ge)&&{slotProps:be,disableScrollLock:R},{children:g.jsx(I,Q({appear:!0,in:x,onEntering:ue,onExited:te,timeout:J},O,{children:g.jsx(le,Q({},we,{children:f}))}))}))});function s7e(t){return Qt("MuiMenu",t)}Jt("MuiMenu",["root","paper","list"]);const a7e=["onEntering"],l7e=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],c7e={vertical:"top",horizontal:"right"},u7e={vertical:"top",horizontal:"left"},d7e=t=>{const{classes:e}=t;return rn({root:["root"],paper:["paper"],list:["list"]},s7e,e)},f7e=ft(o7e,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),h7e=ft(Xte,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),p7e=ft(QUe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),m7e=h.forwardRef(function(e,n){var r,i;const o=cn({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:f,PaperProps:p={},PopoverClasses:v,transitionDuration:y="auto",TransitionProps:{onEntering:b}={},variant:x="selectedMenu",slots:_={},slotProps:w={}}=o,E=xt(o.TransitionProps,a7e),T=xt(o,l7e),I=f2(),S=Q({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:E,variant:x}),P=d7e(S),R=s&&!c&&f,O=h.useRef(null),N=(B,W)=>{O.current&&O.current.adjustStyleForScrollbar(B,{direction:I?"rtl":"ltr"}),b&&b(B,W)},A=B=>{B.key==="Tab"&&(B.preventDefault(),d&&d(B,"tabKeyDown"))};let $=-1;h.Children.map(a,(B,W)=>{h.isValidElement(B)&&(B.props.disabled||(x==="selectedMenu"&&B.props.selected||$===-1)&&($=W))});const M=(r=_.paper)!=null?r:h7e,F=(i=w.paper)!=null?i:p,z=wl({elementType:_.root,externalSlotProps:w.root,ownerState:S,className:[P.root,l]}),j=wl({elementType:M,externalSlotProps:F,ownerState:S,className:P.paper});return g.jsx(f7e,Q({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?c7e:u7e,slots:{paper:M,root:_.root},slotProps:{root:z,paper:j},open:f,ref:n,transitionDuration:y,TransitionProps:Q({onEntering:N},E),ownerState:S},T,{classes:v,children:g.jsx(p7e,Q({onKeyDown:A,actions:O,autoFocus:s&&($===-1||c),autoFocusItem:R,variant:x},u,{className:ut(P.list,u.className),children:a}))}))});function g7e(t){return Qt("MuiMenuItem",t)}const Ky=Jt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),v7e=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],y7e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},b7e=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=rn({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},g7e,s);return Q({},s,l)},x7e=ft(Sc,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:y7e})(({theme:t,ownerState:e})=>Q({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ky.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:sr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ky.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:sr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ky.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:sr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:sr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ky.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ky.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${T8.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${T8.inset}`]:{marginLeft:52},[`& .${RE.root}`]:{marginTop:0,marginBottom:0},[`& .${RE.inset}`]:{paddingLeft:36},[`& .${O8.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&Q({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${O8.root} svg`]:{fontSize:"1.25rem"}}))),ri=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,p=xt(r,v7e),v=h.useContext(mu),y=h.useMemo(()=>({dense:s||v.dense||!1,disableGutters:l}),[v.dense,s,l]),b=h.useRef(null);ca(()=>{i&&b.current&&b.current.focus()},[i]);const x=Q({},r,{dense:y.dense,divider:a,disableGutters:l}),_=b7e(r),w=Ii(b,n);let E;return r.disabled||(E=d!==void 0?d:-1),g.jsx(mu.Provider,{value:y,children:g.jsx(x7e,Q({ref:w,role:u,tabIndex:E,component:o,focusVisibleClassName:ut(_.focusVisible,c),className:ut(_.root,f)},p,{ownerState:x,classes:_}))})});function _7e(t){return Qt("MuiNativeSelect",t)}const dj=Jt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),w7e=["className","disabled","error","IconComponent","inputRef","variant"],C7e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${yt(n)}`,o&&"iconOpen",r&&"disabled"]};return rn(a,_7e,e)},Zte=({ownerState:t,theme:e})=>Q({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Q({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${dj.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),S7e=ft("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:xs,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${dj.multiple}`]:e.multiple}]}})(Zte),Qte=({ownerState:t,theme:e})=>Q({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${dj.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),E7e=ft("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${yt(n.variant)}`],n.open&&e.iconOpen]}})(Qte),I7e=h.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=xt(e,w7e),u=Q({},e,{disabled:i,variant:l,error:o}),d=C7e(u);return g.jsxs(h.Fragment,{children:[g.jsx(S7e,Q({ownerState:u,className:ut(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:g.jsx(E7e,{as:s,ownerState:u,className:d.icon})]})});var L8;const T7e=["children","classes","className","label","notched"],P7e=ft("fieldset",{shouldForwardProp:xs})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),R7e=ft("legend",{shouldForwardProp:xs})(({ownerState:t,theme:e})=>Q({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&Q({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function k7e(t){const{className:e,label:n,notched:r}=t,i=xt(t,T7e),o=n!=null&&n!=="",s=Q({},t,{notched:r,withLabel:o});return g.jsx(P7e,Q({"aria-hidden":!0,className:e,ownerState:s},i,{children:g.jsx(R7e,{ownerState:s,children:o?g.jsx("span",{children:n}):L8||(L8=g.jsx("span",{className:"notranslate",children:"​"}))})}))}const M7e=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],O7e=t=>{const{classes:e}=t,r=rn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},x8e,e);return Q({},e,r)},D7e=ft(v2,{shouldForwardProp:t=>xs(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:m2})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Q({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${qu.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${qu.focused} .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${qu.error} .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${qu.disabled} .${qu.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&Q({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),A7e=ft(k7e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),$7e=ft(y2,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:g2})(({theme:t,ownerState:e})=>Q({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),fj=h.forwardRef(function(e,n){var r,i,o,s,a;const l=cn({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:p=!1,notched:v,slots:y={},type:b="text"}=l,x=xt(l,M7e),_=O7e(l),w=wf(),E=Sp({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=Q({},l,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:w,fullWidth:u,hiddenLabel:E.hiddenLabel,multiline:p,size:E.size,type:b}),I=(r=(i=y.root)!=null?i:c.Root)!=null?r:D7e,S=(o=(s=y.input)!=null?s:c.Input)!=null?o:$7e;return g.jsx(lj,Q({slots:{root:I,input:S},renderSuffix:P=>g.jsx(A7e,{ownerState:T,className:_.notchedOutline,label:f!=null&&f!==""&&E.required?a||(a=g.jsxs(h.Fragment,{children:[f," ","*"]})):f,notched:typeof v<"u"?v:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:b},x,{classes:Q({},_,{notchedOutline:null})}))});fj.muiName="Input";function N7e(t){return Qt("MuiSelect",t)}const qy=Jt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var j8;const L7e=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],j7e=ft("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${qy.select}`]:e.select},{[`&.${qy.select}`]:e[n.variant]},{[`&.${qy.error}`]:e.error},{[`&.${qy.multiple}`]:e.multiple}]}})(Zte,{[`&.${qy.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),z7e=ft("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${yt(n.variant)}`],n.open&&e.iconOpen]}})(Qte),F7e=ft("input",{shouldForwardProp:t=>Ste(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function z8(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function B7e(t){return t==null||typeof t=="string"&&!t.trim()}const V7e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${yt(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return rn(a,N7e,e)},H7e=h.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:f,displayEmpty:p,error:v=!1,IconComponent:y,inputRef:b,labelId:x,MenuProps:_={},multiple:w,name:E,onBlur:T,onChange:I,onClose:S,onFocus:P,onOpen:R,open:O,readOnly:N,renderValue:A,SelectDisplayProps:$={},tabIndex:M,value:F,variant:z="standard"}=e,j=xt(e,L7e),[B,W]=rv({controlled:F,default:d,name:"Select"}),[q,G]=rv({controlled:O,default:u,name:"Select"}),X=h.useRef(null),ue=h.useRef(null),[te,J]=h.useState(null),{current:se}=h.useRef(O!=null),[ge,le]=h.useState(),we=Ii(n,b),ce=h.useCallback($e=>{ue.current=$e,$e&&J($e)},[]),be=te==null?void 0:te.parentNode;h.useImperativeHandle(we,()=>({focus:()=>{ue.current.focus()},node:X.current,value:B}),[B]),h.useEffect(()=>{u&&q&&te&&!se&&(le(a?null:be.clientWidth),ue.current.focus())},[te,a]),h.useEffect(()=>{s&&ue.current.focus()},[s]),h.useEffect(()=>{if(!x)return;const $e=No(ue.current).getElementById(x);if($e){const Ke=()=>{getSelection().isCollapsed&&ue.current.focus()};return $e.addEventListener("click",Ke),()=>{$e.removeEventListener("click",Ke)}}},[x]);const K=($e,Ke)=>{$e?R&&R(Ke):S&&S(Ke),se||(le(a?null:be.clientWidth),G($e))},oe=$e=>{$e.button===0&&($e.preventDefault(),ue.current.focus(),K(!0,$e))},V=$e=>{K(!1,$e)},ie=h.Children.toArray(l),re=$e=>{const Ke=ie.find(Ae=>Ae.props.value===$e.target.value);Ke!==void 0&&(W(Ke.props.value),I&&I($e,Ke))},ee=$e=>Ke=>{let Ae;if(Ke.currentTarget.hasAttribute("tabindex")){if(w){Ae=Array.isArray(B)?B.slice():[];const Ue=B.indexOf($e.props.value);Ue===-1?Ae.push($e.props.value):Ae.splice(Ue,1)}else Ae=$e.props.value;if($e.props.onClick&&$e.props.onClick(Ke),B!==Ae&&(W(Ae),I)){const Ue=Ke.nativeEvent||Ke,rt=new Ue.constructor(Ue.type,Ue);Object.defineProperty(rt,"target",{writable:!0,value:{value:Ae,name:E}}),I(rt,$e)}w||K(!1,Ke)}},Y=$e=>{N||[" ","ArrowUp","ArrowDown","Enter"].indexOf($e.key)!==-1&&($e.preventDefault(),K(!0,$e))},he=te!==null&&q,Ce=$e=>{!he&&T&&(Object.defineProperty($e,"target",{writable:!0,value:{value:B,name:E}}),T($e))};delete j["aria-invalid"];let me,fe;const ye=[];let Te=!1;(IE({value:B})||p)&&(A?me=A(B):Te=!0);const ke=ie.map($e=>{if(!h.isValidElement($e))return null;let Ke;if(w){if(!Array.isArray(B))throw new Error(np(2));Ke=B.some(Ae=>z8(Ae,$e.props.value)),Ke&&Te&&ye.push($e.props.children)}else Ke=z8(B,$e.props.value),Ke&&Te&&(fe=$e.props.children);return h.cloneElement($e,{"aria-selected":Ke?"true":"false",onClick:ee($e),onKeyUp:Ae=>{Ae.key===" "&&Ae.preventDefault(),$e.props.onKeyUp&&$e.props.onKeyUp(Ae)},role:"option",selected:Ke,value:void 0,"data-value":$e.props.value})});Te&&(w?ye.length===0?me=null:me=ye.reduce(($e,Ke,Ae)=>($e.push(Ke),Ae<ye.length-1&&$e.push(", "),$e),[]):me=fe);let je=ge;!a&&se&&te&&(je=be.clientWidth);let de;typeof M<"u"?de=M:de=f?null:0;const Se=$.id||(E?`mui-component-select-${E}`:void 0),Re=Q({},e,{variant:z,value:B,open:he,error:v}),Ve=V7e(Re),De=Q({},_.PaperProps,(r=_.slotProps)==null?void 0:r.paper),ze=M_();return g.jsxs(h.Fragment,{children:[g.jsx(j7e,Q({ref:ce,tabIndex:de,role:"combobox","aria-controls":ze,"aria-disabled":f?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[x,Se].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Y,onMouseDown:f||N?null:oe,onBlur:Ce,onFocus:P},$,{ownerState:Re,className:ut($.className,Ve.select,c),id:Se,children:B7e(me)?j8||(j8=g.jsx("span",{className:"notranslate",children:"​"})):me})),g.jsx(F7e,Q({"aria-invalid":v,value:Array.isArray(B)?B.join(","):B,name:E,ref:X,"aria-hidden":!0,onChange:re,tabIndex:-1,disabled:f,className:Ve.nativeInput,autoFocus:s,ownerState:Re},j)),g.jsx(z7e,{as:y,className:Ve.icon,ownerState:Re}),g.jsx(m7e,Q({id:`menu-${E||""}`,anchorEl:be,open:he,onClose:V,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:Q({"aria-labelledby":x,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:ze},_.MenuListProps),slotProps:Q({},_.slotProps,{paper:Q({},De,{style:Q({minWidth:je},De!=null?De.style:null)})}),children:ke}))]})}),W7e=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],U7e=["root"],K7e=t=>{const{classes:e}=t;return e},hj={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>xs(t)&&t!=="variant",slot:"Root"},q7e=ft(uj,hj)(""),G7e=ft(fj,hj)(""),Y7e=ft(cj,hj)(""),Ud=h.forwardRef(function(e,n){const r=cn({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=w8e,id:d,input:f,inputProps:p,label:v,labelId:y,MenuProps:b,multiple:x=!1,native:_=!1,onClose:w,onOpen:E,open:T,renderValue:I,SelectDisplayProps:S,variant:P="outlined"}=r,R=xt(r,W7e),O=_?I7e:H7e,N=wf(),A=Sp({props:r,muiFormControl:N,states:["variant","error"]}),$=A.variant||P,M=Q({},r,{variant:$,classes:s}),F=K7e(M),z=xt(F,U7e),j=f||{standard:g.jsx(q7e,{ownerState:M}),outlined:g.jsx(G7e,{label:v,ownerState:M}),filled:g.jsx(Y7e,{ownerState:M})}[$],B=Ii(n,Hv(j));return g.jsx(h.Fragment,{children:h.cloneElement(j,Q({inputComponent:O,inputProps:Q({children:o,error:A.error,IconComponent:u,variant:$,type:void 0,multiple:x},_?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:b,onClose:w,onOpen:E,open:T,renderValue:I,SelectDisplayProps:Q({id:d},S)},p,{classes:p?ps(z,p.classes):z},f?f.props.inputProps:{})},(x&&_||c)&&$==="outlined"?{notched:!0}:{},{ref:B,className:ut(j.props.className,a,F.root)},!f&&{variant:$},R))})});Ud.muiName="Select";function X7e(t){return Qt("MuiTooltip",t)}const Td=Jt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Z7e=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Q7e(t){return Math.round(t*1e5)/1e5}const J7e=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${yt(o.split("-")[0])}`],arrow:["arrow"]};return rn(s,X7e,e)},eKe=ft(Bte,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>Q({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Td.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Td.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Td.arrow}`]:Q({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Td.arrow}`]:Q({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),tKe=ft("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${yt(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>Q({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:sr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Q7e(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Td.popper}[data-popper-placement*="left"] &`]:Q({transformOrigin:"right center"},e.isRtl?Q({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):Q({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Td.popper}[data-popper-placement*="right"] &`]:Q({transformOrigin:"left center"},e.isRtl?Q({marginRight:"14px"},e.touch&&{marginRight:"24px"}):Q({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Td.popper}[data-popper-placement*="top"] &`]:Q({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Td.popper}[data-popper-placement*="bottom"] &`]:Q({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),nKe=ft("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:sr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let yC=!1;const F8=new O_;let Gy={x:0,y:0};function bC(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const ob=h.forwardRef(function(e,n){var r,i,o,s,a,l,c,u,d,f,p,v,y,b,x,_,w,E,T;const I=cn({props:e,name:"MuiTooltip"}),{arrow:S=!1,children:P,components:R={},componentsProps:O={},describeChild:N=!1,disableFocusListener:A=!1,disableHoverListener:$=!1,disableInteractive:M=!1,disableTouchListener:F=!1,enterDelay:z=100,enterNextDelay:j=0,enterTouchDelay:B=700,followCursor:W=!1,id:q,leaveDelay:G=0,leaveTouchDelay:X=1500,onClose:ue,onOpen:te,open:J,placement:se="bottom",PopperComponent:ge,PopperProps:le={},slotProps:we={},slots:ce={},title:be,TransitionComponent:K=PE,TransitionProps:oe}=I,V=xt(I,Z7e),ie=h.isValidElement(P)?P:g.jsx("span",{children:P}),re=Cp(),ee=f2(),[Y,he]=h.useState(),[Ce,me]=h.useState(null),fe=h.useRef(!1),ye=M||W,Te=lh(),ke=lh(),je=lh(),de=lh(),[Se,Re]=rv({controlled:J,default:!1,name:"Tooltip",state:"open"});let Ve=Se;const De=M_(q),ze=h.useRef(),$e=ta(()=>{ze.current!==void 0&&(document.body.style.WebkitUserSelect=ze.current,ze.current=void 0),de.clear()});h.useEffect(()=>$e,[$e]);const Ke=pt=>{F8.clear(),yC=!0,Re(!0),te&&!Ve&&te(pt)},Ae=ta(pt=>{F8.start(800+G,()=>{yC=!1}),Re(!1),ue&&Ve&&ue(pt),Te.start(re.transitions.duration.shortest,()=>{fe.current=!1})}),Ue=pt=>{fe.current&&pt.type!=="touchstart"||(Y&&Y.removeAttribute("title"),ke.clear(),je.clear(),z||yC&&j?ke.start(yC?j:z,()=>{Ke(pt)}):Ke(pt))},rt=pt=>{ke.clear(),je.start(G,()=>{Ae(pt)})},{isFocusVisibleRef:mt,onBlur:ot,onFocus:Bt,ref:Xt}=KL(),[,Lt]=h.useState(!1),en=pt=>{ot(pt),mt.current===!1&&(Lt(!1),rt(pt))},on=pt=>{Y||he(pt.currentTarget),Bt(pt),mt.current===!0&&(Lt(!0),Ue(pt))},xn=pt=>{fe.current=!0;const Vt=ie.props;Vt.onTouchStart&&Vt.onTouchStart(pt)},qt=pt=>{xn(pt),je.clear(),Te.clear(),$e(),ze.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",de.start(B,()=>{document.body.style.WebkitUserSelect=ze.current,Ue(pt)})},St=pt=>{ie.props.onTouchEnd&&ie.props.onTouchEnd(pt),$e(),je.start(X,()=>{Ae(pt)})};h.useEffect(()=>{if(!Ve)return;function pt(Vt){(Vt.key==="Escape"||Vt.key==="Esc")&&Ae(Vt)}return document.addEventListener("keydown",pt),()=>{document.removeEventListener("keydown",pt)}},[Ae,Ve]);const gt=Ii(Hv(ie),Xt,he,n);!be&&be!==0&&(Ve=!1);const lt=h.useRef(),kt=pt=>{const Vt=ie.props;Vt.onMouseMove&&Vt.onMouseMove(pt),Gy={x:pt.clientX,y:pt.clientY},lt.current&&lt.current.update()},Ie={},Ee=typeof be=="string";N?(Ie.title=!Ve&&Ee&&!$?be:null,Ie["aria-describedby"]=Ve?De:null):(Ie["aria-label"]=Ee?be:null,Ie["aria-labelledby"]=Ve&&!Ee?De:null);const Pe=Q({},Ie,V,ie.props,{className:ut(V.className,ie.props.className),onTouchStart:xn,ref:gt},W?{onMouseMove:kt}:{}),Be={};F||(Pe.onTouchStart=qt,Pe.onTouchEnd=St),$||(Pe.onMouseOver=bC(Ue,Pe.onMouseOver),Pe.onMouseLeave=bC(rt,Pe.onMouseLeave),ye||(Be.onMouseOver=Ue,Be.onMouseLeave=rt)),A||(Pe.onFocus=bC(on,Pe.onFocus),Pe.onBlur=bC(en,Pe.onBlur),ye||(Be.onFocus=on,Be.onBlur=en));const Le=h.useMemo(()=>{var pt;let Vt=[{name:"arrow",enabled:!!Ce,options:{element:Ce,padding:4}}];return(pt=le.popperOptions)!=null&&pt.modifiers&&(Vt=Vt.concat(le.popperOptions.modifiers)),Q({},le.popperOptions,{modifiers:Vt})},[Ce,le]),Qe=Q({},I,{isRtl:ee,arrow:S,disableInteractive:ye,placement:se,PopperComponentProp:ge,touch:fe.current}),at=J7e(Qe),Ze=(r=(i=ce.popper)!=null?i:R.Popper)!=null?r:eKe,Xe=(o=(s=(a=ce.transition)!=null?a:R.Transition)!=null?s:K)!=null?o:PE,et=(l=(c=ce.tooltip)!=null?c:R.Tooltip)!=null?l:tKe,st=(u=(d=ce.arrow)!=null?d:R.Arrow)!=null?u:nKe,bt=Um(Ze,Q({},le,(f=we.popper)!=null?f:O.popper,{className:ut(at.popper,le==null?void 0:le.className,(p=(v=we.popper)!=null?v:O.popper)==null?void 0:p.className)}),Qe),Tt=Um(Xe,Q({},oe,(y=we.transition)!=null?y:O.transition),Qe),tn=Um(et,Q({},(b=we.tooltip)!=null?b:O.tooltip,{className:ut(at.tooltip,(x=(_=we.tooltip)!=null?_:O.tooltip)==null?void 0:x.className)}),Qe),Wt=Um(st,Q({},(w=we.arrow)!=null?w:O.arrow,{className:ut(at.arrow,(E=(T=we.arrow)!=null?T:O.arrow)==null?void 0:E.className)}),Qe);return g.jsxs(h.Fragment,{children:[h.cloneElement(ie,Pe),g.jsx(Ze,Q({as:ge??Bte,placement:se,anchorEl:W?{getBoundingClientRect:()=>({top:Gy.y,left:Gy.x,right:Gy.x,bottom:Gy.y,width:0,height:0})}:Y,popperRef:lt,open:Y?Ve:!1,id:De,transition:!0},Be,bt,{popperOptions:Le,children:({TransitionProps:pt})=>g.jsx(Xe,Q({timeout:re.transitions.duration.shorter},pt,Tt,{children:g.jsxs(et,Q({},tn,{children:[be,S?g.jsx(st,Q({},Wt,{ref:me})):null]}))}))}))]})});function rKe(t){return Qt("MuiTab",t)}const Yu=Jt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),iKe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],oKe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:o,label:s,selected:a,disabled:l}=t,c={root:["root",o&&s&&"labelIcon",`textColor${yt(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return rn(c,rKe,e)},sKe=ft(Sc,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${yt(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Yu.iconWrapper}`]:e.iconWrapper}]}})(({theme:t,ownerState:e})=>Q({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Yu.iconWrapper}`]:Q({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${Yu.selected}`]:{opacity:1},[`&.${Yu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.textColor==="primary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Yu.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Yu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.textColor==="secondary"&&{color:(t.vars||t).palette.text.secondary,[`&.${Yu.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Yu.disabled}`]:{color:(t.vars||t).palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),di=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTab"}),{className:i,disabled:o=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:p,onFocus:v,selected:y,selectionFollowsFocus:b,textColor:x="inherit",value:_,wrapped:w=!1}=r,E=xt(r,iKe),T=Q({},r,{disabled:o,disableFocusRipple:s,selected:y,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:x,wrapped:w}),I=oKe(T),S=l&&d&&h.isValidElement(l)?h.cloneElement(l,{className:ut(I.iconWrapper,l.props.className)}):l,P=O=>{!y&&f&&f(O,_),p&&p(O)},R=O=>{b&&!y&&f&&f(O,_),v&&v(O)};return g.jsxs(sKe,Q({focusRipple:!s,className:ut(I.root,i),ref:n,role:"tab","aria-selected":y,disabled:o,onClick:P,onFocus:R,ownerState:T,tabIndex:y?0:-1},E,{children:[c==="top"||c==="start"?g.jsxs(h.Fragment,{children:[S,d]}):g.jsxs(h.Fragment,{children:[d,S]}),u]}))}),Jte=h.createContext();function aKe(t){return Qt("MuiTable",t)}Jt("MuiTable",["root","stickyHeader"]);const lKe=["className","component","padding","size","stickyHeader"],cKe=t=>{const{classes:e,stickyHeader:n}=t;return rn({root:["root",n&&"stickyHeader"]},aKe,e)},uKe=ft("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>Q({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Q({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),B8="table",x2=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTable"}),{className:i,component:o=B8,padding:s="normal",size:a="medium",stickyHeader:l=!1}=r,c=xt(r,lKe),u=Q({},r,{component:o,padding:s,size:a,stickyHeader:l}),d=cKe(u),f=h.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return g.jsx(Jte.Provider,{value:f,children:g.jsx(uKe,Q({as:o,role:o===B8?null:"table",ref:n,className:ut(d.root,i),ownerState:u},c))})}),_2=h.createContext();function dKe(t){return Qt("MuiTableBody",t)}Jt("MuiTableBody",["root"]);const fKe=["className","component"],hKe=t=>{const{classes:e}=t;return rn({root:["root"]},dKe,e)},pKe=ft("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),mKe={variant:"body"},V8="tbody",w2=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTableBody"}),{className:i,component:o=V8}=r,s=xt(r,fKe),a=Q({},r,{component:o}),l=hKe(a);return g.jsx(_2.Provider,{value:mKe,children:g.jsx(pKe,Q({className:ut(l.root,i),as:o,ref:n,role:o===V8?null:"rowgroup",ownerState:a},s))})});function gKe(t){return Qt("MuiTableCell",t)}const vKe=Jt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),yKe=["align","className","component","padding","scope","size","sortDirection","variant"],bKe=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${yt(r)}`,i!=="normal"&&`padding${yt(i)}`,`size${yt(o)}`]};return rn(a,gKe,e)},xKe=ft("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${yt(n.size)}`],n.padding!=="normal"&&e[`padding${yt(n.padding)}`],n.align!=="inherit"&&e[`align${yt(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>Q({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?_E(sr(t.palette.divider,1),.88):xE(sr(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:(t.vars||t).palette.text.primary},e.variant==="footer"&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${vKe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})),In=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,f=xt(r,yKe),p=h.useContext(Jte),v=h.useContext(_2),y=v&&v.variant==="head";let b;s?b=s:b=y?"th":"td";let x=l;b==="td"?x=void 0:!x&&y&&(x="col");const _=d||v&&v.variant,w=Q({},r,{align:i,component:b,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:_==="head"&&p&&p.stickyHeader,variant:_}),E=bKe(w);let T=null;return u&&(T=u==="asc"?"ascending":"descending"),g.jsx(xKe,Q({as:b,ref:n,className:ut(E.root,o),"aria-sort":T,scope:x,ownerState:w},f))});function _Ke(t){return Qt("MuiTableContainer",t)}Jt("MuiTableContainer",["root"]);const wKe=["className","component"],CKe=t=>{const{classes:e}=t;return rn({root:["root"]},_Ke,e)},SKe=ft("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),C2=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTableContainer"}),{className:i,component:o="div"}=r,s=xt(r,wKe),a=Q({},r,{component:o}),l=CKe(a);return g.jsx(SKe,Q({ref:n,as:o,className:ut(l.root,i),ownerState:a},s))});function EKe(t){return Qt("MuiTableHead",t)}Jt("MuiTableHead",["root"]);const IKe=["className","component"],TKe=t=>{const{classes:e}=t;return rn({root:["root"]},EKe,e)},PKe=ft("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),RKe={variant:"head"},H8="thead",S2=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTableHead"}),{className:i,component:o=H8}=r,s=xt(r,IKe),a=Q({},r,{component:o}),l=TKe(a);return g.jsx(_2.Provider,{value:RKe,children:g.jsx(PKe,Q({as:o,className:ut(l.root,i),ref:n,role:o===H8?null:"rowgroup",ownerState:a},s))})}),kKe=vn(g.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),MKe=vn(g.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function OKe(t){return Qt("MuiTableRow",t)}const W8=Jt("MuiTableRow",["root","selected","hover","head","footer"]),DKe=["className","component","hover","selected"],AKe=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return rn({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},OKe,e)},$Ke=ft("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${W8.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${W8.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:sr(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:sr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),U8="tr",gu=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTableRow"}),{className:i,component:o=U8,hover:s=!1,selected:a=!1}=r,l=xt(r,DKe),c=h.useContext(_2),u=Q({},r,{component:o,hover:s,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=AKe(u);return g.jsx($Ke,Q({as:o,ref:n,className:ut(d.root,i),role:o===U8?null:"row",ownerState:u},l))});function NKe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function LKe(t,e,n,r={},i=()=>{}){const{ease:o=NKe,duration:s=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const p=Math.min(1,(f-a)/s);if(e[t]=o(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const jKe=["onChange"],zKe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function FKe(t){const{onChange:e}=t,n=xt(t,jKe),r=h.useRef(),i=h.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return ca(()=>{const s=k_(()=>{const l=r.current;o(),l!==r.current&&e(r.current)}),a=Cc(i.current);return a.addEventListener("resize",s),()=>{s.clear(),a.removeEventListener("resize",s)}},[e]),h.useEffect(()=>{o(),e(r.current)},[e]),g.jsx("div",Q({style:zKe},n,{ref:i}))}function BKe(t){return Qt("MuiTabScrollButton",t)}const VKe=Jt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),HKe=["className","slots","slotProps","direction","orientation","disabled"],WKe=t=>{const{classes:e,orientation:n,disabled:r}=t;return rn({root:["root",n,r&&"disabled"]},BKe,e)},UKe=ft(Sc,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>Q({width:40,flexShrink:0,opacity:.8,[`&.${VKe.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),KKe=h.forwardRef(function(e,n){var r,i;const o=cn({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:l={},direction:c}=o,u=xt(o,HKe),d=f2(),f=Q({isRtl:d},o),p=WKe(f),v=(r=a.StartScrollButtonIcon)!=null?r:kKe,y=(i=a.EndScrollButtonIcon)!=null?i:MKe,b=wl({elementType:v,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),x=wl({elementType:y,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return g.jsx(UKe,Q({component:"div",className:ut(p.root,s),ref:n,role:null,ownerState:f,tabIndex:null},u,{children:c==="left"?g.jsx(v,Q({},b)):g.jsx(y,Q({},x))}))});function qKe(t){return Qt("MuiTabs",t)}const ZR=Jt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),GKe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],K8=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,q8=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,xC=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const o=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||o)i=n(t,i);else{i.focus();return}}},YKe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:s,scrollButtonsHideMobile:a,classes:l}=t;return rn({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},qKe,l)},XKe=ft("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${ZR.scrollButtons}`]:e.scrollButtons},{[`& .${ZR.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>Q({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${ZR.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),ZKe=ft("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>Q({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),QKe=ft("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>Q({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),JKe=ft("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>Q({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:(e.vars||e).palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:(e.vars||e).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),eqe=ft(FKe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),G8={},E2=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTabs"}),i=Cp(),o=f2(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:p=!1,indicatorColor:v="primary",onChange:y,orientation:b="horizontal",ScrollButtonComponent:x=KKe,scrollButtons:_="auto",selectionFollowsFocus:w,slots:E={},slotProps:T={},TabIndicatorProps:I={},TabScrollButtonProps:S={},textColor:P="primary",value:R,variant:O="standard",visibleScrollbar:N=!1}=r,A=xt(r,GKe),$=O==="scrollable",M=b==="vertical",F=M?"scrollTop":"scrollLeft",z=M?"top":"left",j=M?"bottom":"right",B=M?"clientHeight":"clientWidth",W=M?"height":"width",q=Q({},r,{component:f,allowScrollButtonsMobile:p,indicatorColor:v,orientation:b,vertical:M,scrollButtons:_,textColor:P,variant:O,visibleScrollbar:N,fixed:!$,hideScrollbar:$&&!N,scrollableX:$&&!M,scrollableY:$&&M,centered:c&&!$,scrollButtonsHideMobile:!p}),G=YKe(q),X=wl({elementType:E.StartScrollButtonIcon,externalSlotProps:T.startScrollButtonIcon,ownerState:q}),ue=wl({elementType:E.EndScrollButtonIcon,externalSlotProps:T.endScrollButtonIcon,ownerState:q}),[te,J]=h.useState(!1),[se,ge]=h.useState(G8),[le,we]=h.useState(!1),[ce,be]=h.useState(!1),[K,oe]=h.useState(!1),[V,ie]=h.useState({overflow:"hidden",scrollbarWidth:0}),re=new Map,ee=h.useRef(null),Y=h.useRef(null),he=()=>{const Ae=ee.current;let Ue;if(Ae){const mt=Ae.getBoundingClientRect();Ue={clientWidth:Ae.clientWidth,scrollLeft:Ae.scrollLeft,scrollTop:Ae.scrollTop,scrollLeftNormalized:KBe(Ae,o?"rtl":"ltr"),scrollWidth:Ae.scrollWidth,top:mt.top,bottom:mt.bottom,left:mt.left,right:mt.right}}let rt;if(Ae&&R!==!1){const mt=Y.current.children;if(mt.length>0){const ot=mt[re.get(R)];rt=ot?ot.getBoundingClientRect():null}}return{tabsMeta:Ue,tabMeta:rt}},Ce=ta(()=>{const{tabsMeta:Ae,tabMeta:Ue}=he();let rt=0,mt;if(M)mt="top",Ue&&Ae&&(rt=Ue.top-Ae.top+Ae.scrollTop);else if(mt=o?"right":"left",Ue&&Ae){const Bt=o?Ae.scrollLeftNormalized+Ae.clientWidth-Ae.scrollWidth:Ae.scrollLeft;rt=(o?-1:1)*(Ue[mt]-Ae[mt]+Bt)}const ot={[mt]:rt,[W]:Ue?Ue[W]:0};if(isNaN(se[mt])||isNaN(se[W]))ge(ot);else{const Bt=Math.abs(se[mt]-ot[mt]),Xt=Math.abs(se[W]-ot[W]);(Bt>=1||Xt>=1)&&ge(ot)}}),me=(Ae,{animation:Ue=!0}={})=>{Ue?LKe(F,ee.current,Ae,{duration:i.transitions.duration.standard}):ee.current[F]=Ae},fe=Ae=>{let Ue=ee.current[F];M?Ue+=Ae:(Ue+=Ae*(o?-1:1),Ue*=o&&cte()==="reverse"?-1:1),me(Ue)},ye=()=>{const Ae=ee.current[B];let Ue=0;const rt=Array.from(Y.current.children);for(let mt=0;mt<rt.length;mt+=1){const ot=rt[mt];if(Ue+ot[B]>Ae){mt===0&&(Ue=Ae);break}Ue+=ot[B]}return Ue},Te=()=>{fe(-1*ye())},ke=()=>{fe(ye())},je=h.useCallback(Ae=>{ie({overflow:null,scrollbarWidth:Ae})},[]),de=()=>{const Ae={};Ae.scrollbarSizeListener=$?g.jsx(eqe,{onChange:je,className:ut(G.scrollableX,G.hideScrollbar)}):null;const rt=$&&(_==="auto"&&(le||ce)||_===!0);return Ae.scrollButtonStart=rt?g.jsx(x,Q({slots:{StartScrollButtonIcon:E.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:X},orientation:b,direction:o?"right":"left",onClick:Te,disabled:!le},S,{className:ut(G.scrollButtons,S.className)})):null,Ae.scrollButtonEnd=rt?g.jsx(x,Q({slots:{EndScrollButtonIcon:E.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ue},orientation:b,direction:o?"left":"right",onClick:ke,disabled:!ce},S,{className:ut(G.scrollButtons,S.className)})):null,Ae},Se=ta(Ae=>{const{tabsMeta:Ue,tabMeta:rt}=he();if(!(!rt||!Ue)){if(rt[z]<Ue[z]){const mt=Ue[F]+(rt[z]-Ue[z]);me(mt,{animation:Ae})}else if(rt[j]>Ue[j]){const mt=Ue[F]+(rt[j]-Ue[j]);me(mt,{animation:Ae})}}}),Re=ta(()=>{$&&_!==!1&&oe(!K)});h.useEffect(()=>{const Ae=k_(()=>{ee.current&&Ce()});let Ue;const rt=Bt=>{Bt.forEach(Xt=>{Xt.removedNodes.forEach(Lt=>{var en;(en=Ue)==null||en.unobserve(Lt)}),Xt.addedNodes.forEach(Lt=>{var en;(en=Ue)==null||en.observe(Lt)})}),Ae(),Re()},mt=Cc(ee.current);mt.addEventListener("resize",Ae);let ot;return typeof ResizeObserver<"u"&&(Ue=new ResizeObserver(Ae),Array.from(Y.current.children).forEach(Bt=>{Ue.observe(Bt)})),typeof MutationObserver<"u"&&(ot=new MutationObserver(rt),ot.observe(Y.current,{childList:!0})),()=>{var Bt,Xt;Ae.clear(),mt.removeEventListener("resize",Ae),(Bt=ot)==null||Bt.disconnect(),(Xt=Ue)==null||Xt.disconnect()}},[Ce,Re]),h.useEffect(()=>{const Ae=Array.from(Y.current.children),Ue=Ae.length;if(typeof IntersectionObserver<"u"&&Ue>0&&$&&_!==!1){const rt=Ae[0],mt=Ae[Ue-1],ot={root:ee.current,threshold:.99},Bt=on=>{we(!on[0].isIntersecting)},Xt=new IntersectionObserver(Bt,ot);Xt.observe(rt);const Lt=on=>{be(!on[0].isIntersecting)},en=new IntersectionObserver(Lt,ot);return en.observe(mt),()=>{Xt.disconnect(),en.disconnect()}}},[$,_,K,u==null?void 0:u.length]),h.useEffect(()=>{J(!0)},[]),h.useEffect(()=>{Ce()}),h.useEffect(()=>{Se(G8!==se)},[Se,se]),h.useImperativeHandle(l,()=>({updateIndicator:Ce,updateScrollButtons:Re}),[Ce,Re]);const Ve=g.jsx(JKe,Q({},I,{className:ut(G.indicator,I.className),ownerState:q,style:Q({},se,I.style)}));let De=0;const ze=h.Children.map(u,Ae=>{if(!h.isValidElement(Ae))return null;const Ue=Ae.props.value===void 0?De:Ae.props.value;re.set(Ue,De);const rt=Ue===R;return De+=1,h.cloneElement(Ae,Q({fullWidth:O==="fullWidth",indicator:rt&&!te&&Ve,selected:rt,selectionFollowsFocus:w,onChange:y,textColor:P,value:Ue},De===1&&R===!1&&!Ae.props.tabIndex?{tabIndex:0}:{}))}),$e=Ae=>{const Ue=Y.current,rt=No(Ue).activeElement;if(rt.getAttribute("role")!=="tab")return;let ot=b==="horizontal"?"ArrowLeft":"ArrowUp",Bt=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&o&&(ot="ArrowRight",Bt="ArrowLeft"),Ae.key){case ot:Ae.preventDefault(),xC(Ue,rt,q8);break;case Bt:Ae.preventDefault(),xC(Ue,rt,K8);break;case"Home":Ae.preventDefault(),xC(Ue,null,K8);break;case"End":Ae.preventDefault(),xC(Ue,null,q8);break}},Ke=de();return g.jsxs(XKe,Q({className:ut(G.root,d),ownerState:q,ref:n,as:f},A,{children:[Ke.scrollButtonStart,Ke.scrollbarSizeListener,g.jsxs(ZKe,{className:G.scroller,ownerState:q,style:{overflow:V.overflow,[M?`margin${o?"Left":"Right"}`:"marginBottom"]:N?void 0:-V.scrollbarWidth},ref:ee,children:[g.jsx(QKe,{"aria-label":s,"aria-labelledby":a,"aria-orientation":b==="vertical"?"vertical":null,className:G.flexContainer,ownerState:q,onKeyDown:$e,ref:Y,role:"tablist",children:ze}),te&&Ve]}),Ke.scrollButtonEnd]}))});function tqe(t){return Qt("MuiTextField",t)}Jt("MuiTextField",["root"]);const nqe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],rqe={standard:uj,filled:cj,outlined:fj},iqe=t=>{const{classes:e}=t;return rn({root:["root"]},tqe,e)},oqe=ft(Ch,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Kn=h.forwardRef(function(e,n){const r=cn({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:v,id:y,InputLabelProps:b,inputProps:x,InputProps:_,inputRef:w,label:E,maxRows:T,minRows:I,multiline:S=!1,name:P,onBlur:R,onChange:O,onFocus:N,placeholder:A,required:$=!1,rows:M,select:F=!1,SelectProps:z,type:j,value:B,variant:W="outlined"}=r,q=xt(r,nqe),G=Q({},r,{autoFocus:o,color:l,disabled:u,error:d,fullWidth:p,multiline:S,required:$,select:F,variant:W}),X=iqe(G),ue={};W==="outlined"&&(b&&typeof b.shrink<"u"&&(ue.notched=b.shrink),ue.label=E),F&&((!z||!z.native)&&(ue.id=void 0),ue["aria-describedby"]=void 0);const te=M_(y),J=v&&te?`${te}-helper-text`:void 0,se=E&&te?`${te}-label`:void 0,ge=rqe[W],le=g.jsx(ge,Q({"aria-describedby":J,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:p,multiline:S,name:P,rows:M,maxRows:T,minRows:I,type:j,value:B,id:te,inputRef:w,onBlur:R,onChange:O,onFocus:N,placeholder:A,inputProps:x},ue,_));return g.jsxs(oqe,Q({className:ut(X.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:$,color:l,variant:W,ownerState:G},q,{children:[E!=null&&E!==""&&g.jsx(Sh,Q({htmlFor:te,id:se},b,{children:E})),F?g.jsx(Ud,Q({"aria-describedby":J,id:te,labelId:se,value:B,input:le},z,{children:s})):le,v&&g.jsx(ZWe,Q({id:J},f,{children:v}))]}))}),I2=({onPoleChange:t,selectedPole:e,label:n="Filtrer par pôle",className:r=""})=>{const[i,o]=h.useState([]),[s,a]=h.useState(!0);h.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const u=nn(dt,"poles"),f=(await yn(u)).docs.map(p=>p.data().nom).filter(Boolean).sort((p,v)=>p.localeCompare(v,"fr",{sensitivity:"base"}));console.log("Liste des pôles disponibles:",f),o(f),a(!1)}catch(u){console.error("Erreur lors du chargement des pôles:",u),o([]),a(!1)}},c=u=>{const d=u.target.value;t(d)};return g.jsx("div",{className:`pole-filter-container ${r}`,children:g.jsxs(Ch,{fullWidth:!0,variant:"outlined",size:"small",children:[g.jsx(Sh,{id:"pole-filter-label",children:n}),g.jsxs(Ud,{labelId:"pole-filter-label",id:"pole-filter",value:e,onChange:c,label:n,disabled:s,className:"pole-filter-select",children:[g.jsx(ri,{value:"",children:g.jsx("em",{children:"Tous les pôles"})}),i.map(u=>g.jsx(ri,{value:u,children:u},u))]})]})})};YY("fr",rX);const sqe=`
  .react-datepicker {
    font-family: 'Roboto', sans-serif;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    border: 1px solid #e0e0e0;
    z-index: 1000;
  }
  
  .react-datepicker-popper {
    z-index: 1000;
  }
  
  .react-datepicker__header {
    background-color: #1976d2;
    border-bottom: none;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    padding-top: 10px;
  }
  
  .react-datepicker__current-month {
    color: white;
    font-weight: 500;
    font-size: 1rem;
    padding-bottom: 5px;
  }
  
  .react-datepicker__day-name {
    color: white;
    font-weight: 500;
  }
  
  .react-datepicker__day--selected {
    background-color: #1976d2;
    border-radius: 50%;
  }
  
  .react-datepicker__day:hover {
    background-color: #e8f0fe;
    border-radius: 50%;
  }
  
  .react-datepicker__day--keyboard-selected {
    background-color: #e8f0fe;
    color: #1976d2;
    border-radius: 50%;
  }
  
  .react-datepicker__navigation {
    top: 12px;
  }
  
  .react-datepicker__navigation-icon::before {
    border-color: white;
  }
  
  .react-datepicker__day--today {
    font-weight: bold;
    color: #1976d2;
  }
  
  .custom-datepicker-input {
    width: 160px;
    padding: 10px 12px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 14px;
    cursor: pointer;
    background-color: white;
    transition: all 0.2s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }
  
  .custom-datepicker-input:focus {
    outline: none;
    border-color: #1976d2;
    box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
  }
  
  .custom-datepicker-input::placeholder {
    color: #aaa;
  }
  
  .custom-datepicker-wrapper {
    position: relative;
  }
  
  .custom-datepicker-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #666;
    pointer-events: none;
  }
`,Y8=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,o]=h.useState(!0),[s,a]=h.useState(null),[l,c]=h.useState([]),[u,d]=h.useState([]),[f,p]=h.useState([]),[v,y]=h.useState(null),[b,x]=h.useState(null),[_,w]=h.useState(""),[E,T]=h.useState(""),[I,S]=h.useState(""),[P,R]=h.useState(""),[O,N]=h.useState(""),[A,$]=h.useState(""),[M,F]=h.useState([]),[z,j]=h.useState(""),[B,W]=h.useState(!1),[q,G]=h.useState([]),[X,ue]=h.useState({}),{poles:te}=i_();h.useEffect(()=>{le(),we(),ce(),be(),document.documentElement.lang="fr";const de=document.createElement("style");return de.textContent=sqe,document.head.appendChild(de),()=>{document.documentElement.lang="",document.head.removeChild(de)}},[]),h.useEffect(()=>{F(t)},[t]),h.useEffect(()=>{let de=t;if(z&&(de=de.filter(Se=>Se.pole===z)),A.trim()){const Se=A.toLowerCase().trim();de=de.filter(Re=>oe(Re.siteDepart).toLowerCase().includes(Se)||oe(Re.siteFin||"").toLowerCase().includes(Se)||Re.idColis.toLowerCase().includes(Se)||Re.statut.toLowerCase().includes(Se)||(Re.coursierChargement||"").toLowerCase().includes(Se)||(Re.coursierLivraison||"").toLowerCase().includes(Se)||K(Re.tourneeId).toLowerCase().includes(Se)||V(Re.vehiculeId).toLowerCase().includes(Se)||ie(J(Re.dateHeureDepart)).includes(Se))}F(de)},[A,t,z]);const J=de=>de?de instanceof Date?de:de&&typeof de.toDate=="function"?de.toDate():de&&"seconds"in de&&"nanoseconds"in de?new Date(de.seconds*1e3+de.nanoseconds/1e6):typeof de=="number"?new Date(de):typeof de=="string"?new Date(de):(console.error("Format de timestamp non reconnu:",de),null):null,se=(de,Se)=>{if(!de||!Se)return!1;const Re=new Date(de.getFullYear(),de.getMonth(),de.getDate()),Ve=new Date(Se.getFullYear(),Se.getMonth(),Se.getDate());return Re.getTime()>=Ve.getTime()},ge=(de,Se)=>{if(!de||!Se)return!1;const Re=new Date(de.getFullYear(),de.getMonth(),de.getDate()),Ve=new Date(Se.getFullYear(),Se.getMonth(),Se.getDate());return Re.getTime()<=Ve.getTime()},le=async()=>{try{o(!0),a(null);const de=nn(dt,"passages"),Se=await yn(de);if(Se.empty){console.log("Aucun passage trouvé dans Firebase"),a("Aucun passage trouvé. Veuillez initialiser les données."),o(!1);return}console.log("Nombre de documents récupérés:",Se.docs.length),console.log("Données brutes de Firebase:"),Se.docs.forEach((Ve,De)=>{console.log(`Document ${De+1} (ID: ${Ve.id}):`,Ve.data())});const Re=Se.docs.map(Ve=>{const De=Ve.data();return console.log("Propriétés du document:",Object.keys(De)),{id:Ve.id,siteDepart:De.siteDépart||De.siteDepart||"",dateHeureDepart:De.dhDépart||De.dateHeureDepart,idColis:De.idColis||"",statut:De.statut||"En cours",siteFin:De.siteFin||"",dateHeureFin:De.dhLivraison||De.dateHeureFin,coursierChargement:De.coursierCharg||De.coursierChargement||"",coursierLivraison:De.coursierLivraison||"",vehiculeId:De.véhicule||De.vehiculeId||"",tourneeId:De.tournée||De.tourneeId||"",pole:De.pole||""}});console.log("Données récupérées de Firebase (après normalisation):",Re),r(Re),e(Re),o(!1)}catch(de){console.error("Erreur lors de la récupération des passages:",de),a("Erreur lors de la récupération des données"),o(!1)}},we=async()=>{try{const de=nn(dt,"tournees"),Se=await yn(de);if(Se.empty){console.log("Aucune tournée trouvée dans Firebase");const Re=[{id:"1",nom:"Matin",date:qn.fromDate(new Date),heureDepart:"07:00",heureFinPrevue:"12:00",coursier:"Sébastien Lherlier",vehicule:"GE-695-RT",nombreColis:15,statut:"en_attente",siteDepart:"Laboratoire Central"},{id:"2",nom:"Jour",date:qn.fromDate(new Date),heureDepart:"12:00",heureFinPrevue:"17:00",coursier:"Guillaume Sage",vehicule:"GI-456-AD",nombreColis:12,statut:"en_attente",siteDepart:"Laboratoire Purpan"},{id:"3",nom:"Soir",date:qn.fromDate(new Date),heureDepart:"17:00",heureFinPrevue:"22:00",coursier:"Sébastien Lherlier",vehicule:"GE-695-RT",nombreColis:10,statut:"en_attente",siteDepart:"Laboratoire Central"}];c(Re)}else{const Re=Se.docs.map(Ve=>{const De=Ve.data();return{id:Ve.id,nom:De.nom||"",date:De.date||qn.fromDate(new Date),heureDepart:De.heureDepart||"",heureFinPrevue:De.heureFinPrevue||"",heureFinReelle:De.heureFinReelle||"",coursier:De.coursier||"",vehicule:De.vehicule||"",nombreColis:De.nombreColis||0,statut:De.statut||"en_attente",siteDepart:De.siteDepart||""}});c(Re)}}catch(de){console.error("Erreur lors de la récupération des tournées:",de)}},ce=async()=>{try{const de=nn(dt,"sites"),Se=await yn(de);if(Se.empty)console.log("Aucun site trouvé dans Firebase"),d([{id:"1",nom:"Laboratoire Central",adresse:"15 rue des Sciences",ville:"Toulouse",codePostal:"31000",telephone:"05.61.XX.XX.XX",email:"contact@labo-central.fr",type:"Laboratoire",statut:"actif"},{id:"2",nom:"Laboratoire Purpan",adresse:"330 avenue de Grande Bretagne",ville:"Toulouse",codePostal:"31300",telephone:"05.61.XX.XX.XX",email:"contact@labo-purpan.fr",type:"Laboratoire",statut:"actif"}]);else{const Re=Se.docs.map(Ve=>{const De=Ve.data();return{id:Ve.id,nom:De.nom||"",adresse:De.adresse||"",ville:De.ville||"",codePostal:De.codePostal||"",telephone:De.telephone||"",email:De.email||"",type:De.type||"",statut:De.statut||"actif"}});d(Re)}}catch(de){console.error("Erreur lors de la récupération des sites:",de)}},be=async()=>{try{const de=nn(dt,"vehicules"),Se=await yn(de);if(Se.empty)console.log("Aucun véhicule trouvé dans Firebase"),p([{id:"1",immatriculation:"GE-695-RT",marque:"Renault",modele:"Kangoo",type:"Utilitaire",annee:2020,statut:"actif",dernierEntretien:"2023-01-15",coursierAssigne:"Sébastien Lherlier",kilometrage:45e3},{id:"2",immatriculation:"GI-456-AD",marque:"Citroën",modele:"Berlingo",type:"Utilitaire",annee:2021,statut:"actif",dernierEntretien:"2023-02-10",coursierAssigne:"Guillaume Sage",kilometrage:32500}]);else{const Re=Se.docs.map(Ve=>{const De=Ve.data();return{id:Ve.id,immatriculation:De.immatriculation||"",marque:De.marque||"",modele:De.modele||"",type:De.type||"",annee:De.annee||2023,statut:De.statut||"actif",dernierEntretien:De.dernierEntretien||"",coursierAssigne:De.coursierAssigne||"",kilometrage:De.kilometrage||0}});p(Re)}}catch(de){console.error("Erreur lors de la récupération des véhicules:",de)}},K=de=>{if(!de)return"";const Se=l.find(Re=>Re.id===de);return Se?Se.nom:de},oe=de=>{if(!de)return"";const Se=u.find(Re=>Re.id===de);return Se?Se.nom:de},V=de=>{if(!de)return"";const Se=f.find(Re=>Re.id===de);return Se?Se.immatriculation:de},ie=de=>{if(!de)return"";const Se=de.getDate().toString().padStart(2,"0"),Re=(de.getMonth()+1).toString().padStart(2,"0"),Ve=de.getFullYear();return`${Se}/${Re}/${Ve}`},re=de=>{if(!de)return"-";const Se=te.find(Re=>Re.id===de);return Se?Se.nom:de},ee=de=>{j(de)},Y=()=>{console.log("Recherche démarrée avec les critères suivants:"),console.log("Date début:",v),console.log("Date fin:",b),console.log("Tournée:",_),console.log("Statut:",E),console.log("Site:",I),console.log("Véhicule:",P),console.log("ID Colis:",O),console.log("Nombre total de passages avant filtrage:",n.length);try{let de=[...n];v&&(de=de.filter(Se=>{const Re=J(Se.dateHeureDepart);return Re&&se(Re,v)})),b&&(de=de.filter(Se=>{const Re=J(Se.dateHeureDepart);return Re&&ge(Re,b)})),_&&(de=de.filter(Se=>Se.tourneeId===_)),E&&(de=de.filter(Se=>Se.statut===E)),I&&(de=de.filter(Se=>Se.siteDepart===I||Se.siteFin===I)),P&&(de=de.filter(Se=>Se.vehiculeId===P)),O&&(de=de.filter(Se=>Se.idColis&&Se.idColis.toLowerCase().includes(O.toLowerCase()))),console.log("Nombre de passages après filtrage:",de.length),e(de)}catch(de){console.error("Erreur lors de la recherche:",de),a("Erreur lors de la recherche. Veuillez réessayer.")}},he=()=>{y(null),x(null),w(""),T(""),S(""),R(""),N(""),$(""),j(""),F(t)},Ce=async()=>{if(q.length===0){alert("Veuillez sélectionner au moins un passage à supprimer");return}if(window.confirm(`Êtes-vous sûr de vouloir supprimer ${q.length} passage(s) ?`))try{const de=q.map(Se=>eo(Sn(dt,"passages",Se)));await Promise.all(de),e(t.filter(Se=>!q.includes(Se.id))),G([])}catch(de){console.error("Erreur lors de la suppression:",de),a("Erreur lors de la suppression")}},me=()=>{if(B)window.confirm("Voulez-vous enregistrer les modifications ?")?(console.log("Sauvegarde des modifications avant de quitter le mode édition"),fe().then(()=>{G([]),W(!1)}).catch(de=>{console.error("Erreur lors de la sauvegarde:",de),alert("Une erreur est survenue lors de la sauvegarde. Veuillez réessayer.")})):(console.log("Annulation des modifications et sortie du mode édition"),ue({}),G([]),W(!1));else{console.log("Entrée en mode édition");const de={};t.forEach(Se=>{de[Se.id]={...Se}}),ue(de),W(!0)}},fe=async()=>{try{console.log("Début de la sauvegarde des modifications..."),console.log("Passages à mettre à jour:",Object.keys(X).length);const de=Object.entries(X).map(async([De,ze])=>{try{console.log(`Mise à jour du passage ${De}:`,ze);const $e={};return ze.siteDepart!==void 0&&($e.siteDepart=ze.siteDepart),ze.dateHeureDepart!==void 0&&($e.dateHeureDepart=ze.dateHeureDepart),ze.idColis!==void 0&&($e.idColis=ze.idColis),ze.statut!==void 0&&($e.statut=ze.statut),ze.siteFin!==void 0&&($e.siteFin=ze.siteFin),ze.dateHeureFin!==void 0&&($e.dateHeureFin=ze.dateHeureFin),ze.coursierChargement!==void 0&&($e.coursierChargement=ze.coursierChargement),ze.coursierLivraison!==void 0&&($e.coursierLivraison=ze.coursierLivraison),ze.vehiculeId!==void 0&&($e.vehiculeId=ze.vehiculeId),ze.tourneeId!==void 0&&($e.tourneeId=ze.tourneeId),ze.pole!==void 0&&($e.pole=ze.pole),await Co(Sn(dt,"passages",De),$e),console.log(`Passage ${De} mis à jour avec succès`),De}catch($e){throw console.error(`Erreur lors de la mise à jour du passage ${De}:`,$e),$e}}),Se=await Promise.allSettled(de),Re=Se.filter(De=>De.status==="fulfilled").length,Ve=Se.filter(De=>De.status==="rejected").length;return console.log(`Opérations terminées: ${Re} réussies, ${Ve} échouées`),Ve>0&&console.warn("Certaines opérations ont échoué. Voir les erreurs ci-dessus."),e(t.map(De=>X[De.id]?X[De.id]:De)),await le(),ue({}),Ve>0?alert(`Modifications partiellement enregistrées. ${Ve} opérations ont échoué.`):alert("Modifications enregistrées avec succès"),console.log("Toutes les modifications ont été enregistrées avec succès"),!0}catch(de){throw console.error("Erreur lors de la sauvegarde des modifications:",de),alert("Erreur lors de la sauvegarde des modifications. Veuillez réessayer."),de}},ye=(de,Se,Re)=>{ue({...X,[de]:{...X[de],[Se]:Re}})},Te=de=>{if(!de)return"";const Se=de.getFullYear(),Re=(de.getMonth()+1).toString().padStart(2,"0"),Ve=de.getDate().toString().padStart(2,"0");return`${Se}-${Re}-${Ve}`},ke=de=>{const Se=J(de);if(!Se)return"";const Re=Se.getHours().toString().padStart(2,"0"),Ve=Se.getMinutes().toString().padStart(2,"0");return`${Re}:${Ve}`},je=de=>{q.includes(de)?G(q.filter(Se=>Se!==de)):G([...q,de])};return i?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement des passages..."})]}):s?g.jsxs("div",{className:"error-container",children:[g.jsx("p",{className:"error-message",children:s}),g.jsx("button",{className:"button",onClick:le,children:"Réessayer"})]}):g.jsxs("div",{children:[g.jsx("div",{className:"section-header",children:g.jsx("h2",{className:"section-title",children:"Passages"})}),g.jsxs("div",{className:"sticky-header-container",children:[g.jsx("div",{className:"header-actions",children:B?g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"button button-success",onClick:me,children:[g.jsx("i",{className:"fas fa-save"})," Enregistrer"]}),g.jsxs("button",{className:"button button-secondary",onClick:()=>{window.confirm("Êtes-vous sûr de vouloir annuler toutes les modifications ?")&&(ue({}),G([]),W(!1))},style:{marginLeft:"10px"},children:[g.jsx("i",{className:"fas fa-times"})," Annuler"]})]}):g.jsxs("button",{className:"button",onClick:me,children:[g.jsx("i",{className:"fas fa-edit"})," Modifier"]})}),B&&g.jsx("div",{className:"edit-actions",children:g.jsxs("button",{className:"button button-danger",onClick:Ce,disabled:q.length===0,children:[g.jsx("i",{className:"fas fa-trash-alt"})," Supprimer (",q.length,")"]})}),g.jsxs("div",{className:"quick-search-container",children:[g.jsx("input",{type:"text",className:"quick-search-input",placeholder:"Recherche rapide...",value:A,onChange:de=>$(de.target.value),title:"Rechercher dans le tableau"}),g.jsx("div",{className:"pole-filter",children:g.jsx(I2,{onPoleChange:ee,selectedPole:z,label:"Filtrer par pôle",className:"pole-filter-component"})})]})]}),g.jsxs("div",{className:"search-filters-container",children:[g.jsxs("div",{className:"search-filters",style:{display:"flex",flexWrap:"wrap",gap:"15px"},children:[g.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[g.jsx("label",{children:"Date début:"}),g.jsxs("div",{className:"custom-datepicker-wrapper",children:[g.jsx(Bm,{selected:v,onChange:de=>y(de),locale:"fr",dateFormat:"dd/MM/yyyy",placeholderText:"JJ/MM/AAAA",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:de=>de}],showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!0}),g.jsx("span",{className:"custom-datepicker-icon",children:"📅"})]})]}),g.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[g.jsx("label",{children:"Date fin:"}),g.jsxs("div",{className:"custom-datepicker-wrapper",children:[g.jsx(Bm,{selected:b,onChange:de=>x(de),locale:"fr",dateFormat:"dd/MM/yyyy",placeholderText:"JJ/MM/AAAA",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:de=>de}],showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",isClearable:!0}),g.jsx("span",{className:"custom-datepicker-icon",children:"📅"})]})]}),g.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[g.jsx("label",{children:"Sites:"}),g.jsxs("select",{className:"select-input",value:I,onChange:de=>S(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par site",children:[g.jsx("option",{value:"",children:"Tous"}),u.map(de=>g.jsx("option",{value:de.id,children:de.nom},de.id))]})]}),g.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[g.jsx("label",{children:"Tournées:"}),g.jsxs("select",{className:"select-input",value:_,onChange:de=>w(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par tournée",children:[g.jsx("option",{value:"",children:"Toutes"}),l.map(de=>g.jsx("option",{value:de.id,children:de.nom},de.id))]})]}),g.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[g.jsx("label",{children:"Véhicules:"}),g.jsxs("select",{className:"select-input",value:P,onChange:de=>R(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par véhicule",children:[g.jsx("option",{value:"",children:"Tous"}),f.map(de=>g.jsx("option",{value:de.id,children:de.immatriculation},de.id))]})]}),g.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[g.jsx("label",{children:"Statut:"}),g.jsxs("select",{className:"select-input",value:E,onChange:de=>T(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px",backgroundColor:"white"},title:"Filtrer par statut",children:[g.jsx("option",{value:"",children:"Tous"}),g.jsx("option",{value:"Livré",children:"Livré"}),g.jsx("option",{value:"En cours",children:"En cours"})]})]}),g.jsxs("div",{className:"search-group",style:{display:"flex",flexDirection:"column",gap:"5px"},children:[g.jsx("label",{children:"ID Colis:"}),g.jsx("input",{type:"text",className:"text-input",placeholder:"ID Colis",value:O,onChange:de=>N(de.target.value),style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"14px",width:"160px"},title:"Filtrer par ID de colis"})]})]}),g.jsxs("div",{className:"search-buttons",style:{display:"flex",justifyContent:"flex-start",marginTop:"15px"},children:[g.jsxs("button",{className:"search-button",onClick:Y,style:{backgroundColor:"#1976d2",color:"white",padding:"10px 20px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"10px"},onMouseOver:de=>de.currentTarget.style.backgroundColor="#1565c0",onMouseOut:de=>de.currentTarget.style.backgroundColor="#1976d2",children:[g.jsx("i",{className:"fas fa-search",style:{marginRight:"8px"}})," Rechercher"]}),g.jsxs("button",{className:"reset-button",onClick:he,style:{backgroundColor:"#f5f5f5",color:"#333",padding:"10px 20px",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:de=>de.currentTarget.style.backgroundColor="#e0e0e0",onMouseOut:de=>de.currentTarget.style.backgroundColor="#f5f5f5",children:[g.jsx("i",{className:"fas fa-undo",style:{marginRight:"8px"}})," Réinitialiser"]})]})]}),g.jsxs("div",{className:"passages-table-container",style:{overflowX:"auto"},children:[g.jsx("div",{className:"results-info",children:g.jsxs("p",{children:[M.length," résultat(s) trouvé(s)",A?` pour la recherche "${A}"`:""]})}),g.jsx("div",{className:"table-container",children:g.jsxs("table",{className:"data-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[B&&g.jsx("th",{children:g.jsx("input",{type:"checkbox",checked:q.length===M.length,onChange:de=>{de.target.checked?G(M.map(Se=>Se.id)):G([])},title:"Sélectionner/Désélectionner tous les passages","aria-label":"Sélectionner tous les passages"})}),g.jsx("th",{children:"PÔLE"}),g.jsx("th",{children:"Site de départ"}),g.jsx("th",{children:"Date"}),g.jsx("th",{children:"Heure"}),g.jsx("th",{children:"Status"}),g.jsx("th",{children:"Site d'arrivée"}),g.jsx("th",{children:"Véhicule"}),g.jsx("th",{children:"Coursier"}),g.jsx("th",{children:"Commentaire"})]})}),g.jsx("tbody",{children:M.map(de=>{var Se,Re,Ve,De,ze,$e,Ke,Ae,Ue,rt,mt;return g.jsxs("tr",{className:q.includes(de.id)?"selected-row":"",children:[B&&g.jsx("td",{children:g.jsx("input",{type:"checkbox",checked:q.includes(de.id),onChange:()=>je(de.id),title:`Sélectionner le passage ${de.id}`,"aria-label":`Sélectionner le passage ${de.id}`})}),g.jsx("td",{children:B?g.jsx(tp,{value:((Se=X[de.id])==null?void 0:Se.pole)||de.pole||"",onChange:ot=>ye(de.id,"pole",ot),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0}):re(de.pole)}),g.jsx("td",{children:B?g.jsxs("select",{value:((Re=X[de.id])==null?void 0:Re.siteDepart)||de.siteDepart,onChange:ot=>ye(de.id,"siteDepart",ot.target.value),className:"inline-edit-select",title:"Sélectionner un site de départ","aria-label":"Site de départ",children:[g.jsx("option",{value:"",children:"Sélectionner un site"}),u.map(ot=>g.jsx("option",{value:ot.id,children:ot.nom},ot.id))]}):oe(de.siteDepart)}),g.jsx("td",{children:B?g.jsx("input",{type:"date",value:Te(J(((Ve=X[de.id])==null?void 0:Ve.dateHeureDepart)||de.dateHeureDepart)),onChange:ot=>{const Bt=new Date(ot.target.value);ye(de.id,"dateHeureDepart",qn.fromDate(Bt))},className:"inline-edit-input",onClick:ot=>ot.stopPropagation()}):ie(J(de.dateHeureDepart))}),g.jsx("td",{children:B?g.jsx("input",{type:"time",value:ke(((De=X[de.id])==null?void 0:De.dateHeureDepart)||de.dateHeureDepart),onChange:ot=>{var Xt;const Bt=J(((Xt=X[de.id])==null?void 0:Xt.dateHeureDepart)||de.dateHeureDepart);if(Bt){const[Lt,en]=ot.target.value.split(":").map(Number);Bt.setHours(Lt,en),ye(de.id,"dateHeureDepart",qn.fromDate(Bt))}},className:"inline-edit-input",onClick:ot=>ot.stopPropagation()}):de.dateHeureDepart?(ze=J(de.dateHeureDepart))==null?void 0:ze.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):""}),g.jsx("td",{children:B?g.jsxs("select",{value:(($e=X[de.id])==null?void 0:$e.statut)||de.statut,onChange:ot=>ye(de.id,"statut",ot.target.value),className:"inline-edit-select",children:[g.jsx("option",{value:"Livré",children:"Livré"}),g.jsx("option",{value:"En cours",children:"En cours"})]}):g.jsx("span",{className:de.statut==="Livré"?"livré":"en-cours",children:de.statut})}),g.jsx("td",{children:B?g.jsxs("select",{value:((Ke=X[de.id])==null?void 0:Ke.siteFin)||de.siteFin,onChange:ot=>ye(de.id,"siteFin",ot.target.value),className:"inline-edit-select",children:[g.jsx("option",{value:"",children:"Sélectionner un site"}),u.map(ot=>g.jsx("option",{value:ot.nom,children:ot.nom},ot.id))]}):oe(de.siteFin)}),g.jsx("td",{children:B?g.jsx("input",{type:"text",value:((Ae=X[de.id])==null?void 0:Ae.coursierChargement)||de.coursierChargement||"",onChange:ot=>ye(de.id,"coursierChargement",ot.target.value),className:"inline-edit-input"}):de.coursierChargement||"-"}),g.jsx("td",{children:B?g.jsx("input",{type:"text",value:((Ue=X[de.id])==null?void 0:Ue.coursierLivraison)||de.coursierLivraison||"",onChange:ot=>ye(de.id,"coursierLivraison",ot.target.value),className:"inline-edit-input"}):de.coursierLivraison||"-"}),g.jsx("td",{children:B?g.jsxs("select",{value:((rt=X[de.id])==null?void 0:rt.tourneeId)||de.tourneeId,onChange:ot=>ye(de.id,"tourneeId",ot.target.value),className:"inline-edit-select",children:[g.jsx("option",{value:"",children:"Sélectionner une tournée"}),l.map(ot=>g.jsx("option",{value:ot.id,children:ot.nom},ot.id))]}):K(de.tourneeId)}),g.jsx("td",{children:B?g.jsxs("select",{value:((mt=X[de.id])==null?void 0:mt.vehiculeId)||de.vehiculeId,onChange:ot=>ye(de.id,"vehiculeId",ot.target.value),className:"inline-edit-select",children:[g.jsx("option",{value:"",children:"Sélectionner un véhicule"}),f.map(ot=>g.jsx("option",{value:ot.id,children:ot.immatriculation},ot.id))]}):V(de.vehiculeId)})]},de.id)})})]})})]})]})},hm={},aqe="pk.eyJ1IjoiaW5vdmllLXN1aXZpLWNvbGlzIiwiYSI6ImNsZXh0ZjRhbzBpNXgzcG1yNGt2NWt0bXcifQ.HVEFXKCGsmXM-pZ6HA3tYA",lqe=(t,e,n)=>{if(!(t!=null&&t.trim())||!(e!=null&&e.trim())||!(n!=null&&n.trim()))return!1;const r=["END","UNDEFINED","NULL","N/A","RDC",""];return![t.toUpperCase(),e.toUpperCase(),n.toUpperCase()].some(o=>{const s=o.split(/[,\s]+/).map(a=>a.trim());return s.length===0||s.every(a=>r.includes(a))})},cqe=t=>t?t.replace(/\b(rdc|rez[- ]de[- ]chauss[ée]e)\b/gi,"").replace(/\b(bat|bât|batiment|bâtiment)\b\.?\s*([0-9a-z])/gi,"Bâtiment $2").replace(/\b(apt|appt|appartement)\b\.?\s*([0-9a-z])/gi,"Appartement $2").replace(/\s+/g," ").trim():"",X8=async t=>{try{console.log("Tentative de géocodage avec Nominatim pour:",t);const e={"User-Agent":"InovieSuiviColis/1.0","Accept-Language":"fr"},n=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&limit=1&addressdetails=1&countrycodes=fr`,{headers:e});if(!n.ok)throw new Error(`Erreur HTTP: ${n.status}`);const r=await n.json();if(r&&r.length>0){const i=parseFloat(r[0].lat),o=parseFloat(r[0].lon);return isNaN(i)||isNaN(o)?(console.warn("Coordonnées invalides pour Nominatim:",{fullAddress:t,rawData:r[0],latitude:i,longitude:o}),null):i<41||i>51||o<-5||o>9?(console.warn("Coordonnées hors de la zone France pour Nominatim:",{fullAddress:t,latitude:i,longitude:o}),null):(console.log("Géocodage réussi avec Nominatim pour:",{fullAddress:t,latitude:i,longitude:o,precision:r[0].type||"inconnu"}),{latitude:i,longitude:o})}return console.log("Géocodage échoué avec Nominatim pour:",t),null}catch(e){return console.error("Erreur lors du géocodage avec Nominatim:",e),null}},Z8=async t=>{try{console.log("Tentative de géocodage avec Mapbox pour:",t);const e=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(t)}.json?access_token=${aqe}&country=fr&limit=1&language=fr`);if(!e.ok)throw new Error(`Erreur HTTP: ${e.status}`);const n=await e.json();if(n&&n.features&&n.features.length>0){const r=n.features[0].center,i=r[0],o=r[1];return isNaN(o)||isNaN(i)?(console.warn("Coordonnées invalides pour Mapbox:",{fullAddress:t,rawData:n.features[0],latitude:o,longitude:i}),null):o<41||o>51||i<-5||i>9?(console.warn("Coordonnées hors de la zone France pour Mapbox:",{fullAddress:t,latitude:o,longitude:i}),null):(console.log("Géocodage réussi avec Mapbox pour:",{fullAddress:t,latitude:o,longitude:i,precision:n.features[0].place_type?n.features[0].place_type[0]:"inconnu"}),{longitude:i,latitude:o})}return console.log("Géocodage échoué avec Mapbox pour:",t),null}catch(e){return console.error("Erreur lors du géocodage avec Mapbox:",e),null}},uqe=async(t,e,n,r)=>{try{const i=cqe(e),o=n==null?void 0:n.trim(),s=r==null?void 0:r.trim();if(!lqe(i,o,s))return console.warn("Géocodage impossible - Données d'adresse invalides:",{name:t,address:i,city:o,postalCode:s}),null;const a=[i,o,s,"France"].filter(d=>d&&typeof d=="string"&&d.trim()!==""),l=a.join(", ");console.log("Détails du géocodage:",{originalAddress:e,cleanedAddress:i,originalCity:n,cleanedCity:o,originalPostalCode:r,cleanedPostalCode:s,fullAddress:l,addressParts:a});const c=l.toLowerCase();if(hm[c]!==void 0)return console.log("Utilisation du cache pour:",l),hm[c];let u=await X8(l);if(u||(console.log("Nominatim a échoué, tentative avec Mapbox..."),u=await Z8(l)),!u){console.log("Tentative avec adresse simplifiée...");const d=[o,s,"France"].filter(p=>p&&typeof p=="string"&&p.trim()!=="").join(", ");console.log("Adresse simplifiée:",d);const f=d.toLowerCase();hm[f]!==void 0?(console.log("Utilisation du cache pour adresse simplifiée:",d),u=hm[f]):(u=await X8(d),u||(console.log("Nominatim a échoué pour l'adresse simplifiée, tentative avec Mapbox..."),u=await Z8(d)),u&&(hm[f]=u))}return u?hm[c]=u:console.warn("Géocodage impossible pour le site:",{name:t,fullAddress:l,address:i,city:o,postalCode:s}),u}catch(i){return console.error("Erreur lors du géocodage:",i),null}},dqe=async()=>{try{await dfe(dt),console.log("Réseau temporairement désactivé pour configuration"),await ufe(dt),console.log("Réseau réactivé avec optimisations de performance")}catch(t){console.error("Erreur lors de l'optimisation de Firestore:",t)}};dqe();const Q8=["Laboratoire","Clinique","Plateau technique","Point de collecte","Etablissement de santé","Ehpad","Vétérinaire"],fqe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(!0),[i,o]=h.useState(null),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState([]),[f,p]=h.useState({}),[v,y]=h.useState(!1),[b,x]=h.useState([]),[_,w]=h.useState(""),[E,T]=h.useState([]),[I,S]=h.useState(""),[P,R]=h.useState(1),[O,N]=h.useState(20),A=[20,30,50,100,"Tous"],{poles:$}=i_(),M=K=>{if(!K)return"";const oe=$.find(V=>V.id===K);return oe?oe.nom:K};h.useEffect(()=>{q()},[]),h.useEffect(()=>{v?d(t.map(K=>K.id)):u.length===t.length&&d([])},[v]),h.useEffect(()=>{T(t)},[t]),h.useEffect(()=>{if(!_.trim()&&!I){T(t);return}let K=t;if(I&&(K=K.filter(oe=>oe.pole===I)),_.trim()){const oe=_.toLowerCase().trim();K=K.filter(V=>(V.nom||"").toLowerCase().includes(oe)||(V.adresse||"").toLowerCase().includes(oe)||(V.ville||"").toLowerCase().includes(oe)||(V.codePostal||"").toLowerCase().includes(oe)||(V.telephone||"").toLowerCase().includes(oe)||(V.email||"").toLowerCase().includes(oe)||(V.type||"").toLowerCase().includes(oe)||(V.statut||"").toLowerCase().includes(oe)||(V.codeBarres||"").toLowerCase().includes(oe))}T(K)},[_,t,I]);const F=h.useMemo(()=>{const K=E;if(O===Number.MAX_SAFE_INTEGER)return K;const oe=(P-1)*O,V=Math.min(oe+O,K.length);if(l&&b.length>0){const ie=Math.min(oe,K.length),re=Math.max(0,O-b.length),ee=Math.min(ie+re,K.length);return K.slice(ie,ee)}return K.slice(oe,V)},[E,P,O,l,b.length]),z=Math.ceil(E.length/O),j=K=>{R(K)},B=K=>{N(K==="Tous"?Number.MAX_SAFE_INTEGER:Number(K)),R(1)},W=()=>g.jsxs("div",{className:"pagination-container",children:[g.jsxs("div",{className:"items-per-page",children:[g.jsx("label",{children:"Éléments par page : "}),g.jsx("select",{value:O===Number.MAX_SAFE_INTEGER?"Tous":O,onChange:K=>B(K.target.value),title:"Nombre d'éléments par page","aria-label":"Nombre d'éléments par page",children:A.map(K=>g.jsx("option",{value:K,children:K},K))})]}),g.jsxs("div",{className:"pagination-controls",children:[g.jsx("button",{onClick:()=>j(P-1),disabled:P===1||O===Number.MAX_SAFE_INTEGER,children:"Précédent"}),g.jsx("span",{className:"page-info",children:O===Number.MAX_SAFE_INTEGER?"Tous les éléments affichés":`Page ${P} sur ${z}`}),g.jsx("button",{onClick:()=>j(P+1),disabled:P===z||O===Number.MAX_SAFE_INTEGER,children:"Suivant"})]}),g.jsxs("div",{className:"total-results",children:["Total : ",E.length," résultat(s)"]})]}),q=async()=>{try{r(!0),o(null),a("Chargement des sites..."),console.log("Récupération des sites depuis Firestore avec optimisations");const K=nn(dt,"sites"),oe=250;let V=null,ie=[],re=!0,ee=0;for(;re;){let Y;V?Y=mr(K,C1("nom"),yfe(V),F0(oe)):Y=mr(K,C1("nom"),F0(oe));const he=await wfe(Y);if(he.empty){re=!1;break}const Ce=he.docs.map(me=>{const fe=me.data();return{id:me.id,...fe}});ie=[...ie,...Ce],ee+=Ce.length,(ee%250===0||he.docs.length<oe)&&a(`Chargement des sites... ${ee} chargés`),V=he.docs[he.docs.length-1],he.docs.length<oe&&(re=!1)}console.log(`${ie.length} sites chargés depuis Firestore`),e(ie),setTimeout(()=>{a(null)},1e3),r(!1)}catch(K){console.error("Erreur lors de la récupération des sites:",K),o("Erreur lors de la récupération des données"),e([]),a(null),r(!1)}},G=()=>{y(!v)},X=async()=>{if(u.length===0){alert("Veuillez sélectionner au moins un site à géocoder");return}try{r(!0),a("Géocodage en cours...");const K={...f};let oe=0,V=0,ie=0,re=0;for(const ee of u){const Y=f[ee];if(ie++,Y){if(a(`Géocodage en cours... (${ie}/${u.length})`),!Y.nom&&!Y.adresse){V++,console.warn(`Données minimales manquantes pour le site: ${Y.nom||"Sans nom"}`);continue}const Ce=[Y.nom,Y.adresse,Y.ville,Y.codePostal].filter(Boolean).join(", ");console.log(`Tentative de géocodage pour "${Y.nom}" avec l'adresse: "${Ce}"`);const me=await uqe(Y.nom||"",Y.adresse||"",Y.ville||"",Y.codePostal||"");me?(Y.latitude===me.latitude&&Y.longitude===me.longitude&&re++,K[ee]={...Y,latitude:me.latitude,longitude:me.longitude},oe++,console.log(`Géocodage réussi pour "${Y.nom}": Lat=${me.latitude}, Lon=${me.longitude}`)):(V++,console.warn(`Échec du géocodage pour le site: ${Y.nom||"Sans nom"}`))}else V++,console.warn(`Site non trouvé pour l'ID: ${ee}`);ie<u.length&&await new Promise(he=>setTimeout(he,500))}if(p(K),a(`Géocodage terminé : ${oe} réussis (dont ${re} depuis le cache), ${V} échoués. Enregistrement en cours...`),oe>0){console.log("Enregistrement automatique après géocodage...");const ee={};for(let me=0;me<u.length;me++)ee[u[me]]=!0;let Y=0,he=0;for(let me=0;me<u.length;me++){const fe=u[me],ye=K[fe];if(!ye){console.log(`Site ${fe} non trouvé dans editingSites, ignoré`);continue}try{const Te=String(fe);console.log(`Sauvegarde des coordonnées pour le site ${Te} (${ye.nom})...`);const ke=Sn(dt,"sites",Te),je=await Do(ke),{id:de,...Se}=ye;je.exists()?(await Co(ke,Se),console.log(`Coordonnées du site ${Te} (${ye.nom}) enregistrées avec succès`),Y++):(console.log(`Le site ${Te} n'existe pas, création avec coordonnées...`),await Fb(ke,Se),console.log(`Site ${Te} créé avec coordonnées`),Y++)}catch(Te){console.error(`Erreur lors de la sauvegarde des coordonnées du site ${fe}:`,Te),he++}}const Ce=[];for(let me=0;me<t.length;me++){const fe=t[me],ye=fe.id;ee[ye]&&K[ye]?Ce.push({...K[ye]}):Ce.push(fe)}e(Ce),T(Ce),a(`Géocodage et enregistrement terminés : ${oe} sites géocodés, ${Y} sites enregistrés, ${he} erreurs`)}setTimeout(()=>{a(null)},5e3)}catch(K){console.error("Erreur lors du géocodage:",K),a(`Erreur lors du géocodage: ${K}`),setTimeout(()=>{a(null)},5e3)}finally{r(!1)}},ue=()=>{if(l)d([]),p({}),y(!1),x([]),q();else{const K={};E.forEach(oe=>{K[oe.id]={...oe}}),p(K)}c(!l),w(""),S("")},te=async()=>{if(u.length===0&&b.length===0){alert("Veuillez sélectionner au moins un site à enregistrer ou créer un nouveau site");return}try{r(!0),o(null),console.log("Début de la sauvegarde..."),console.log("Sites sélectionnés:",u),console.log("Nouveaux sites à créer:",b.length);const K={};for(let ee=0;ee<u.length;ee++)K[u[ee]]=!0;let oe=0,V=0,ie=0;for(let ee=0;ee<u.length;ee++){const Y=u[ee],he=f[Y];if(!he){console.log(`Site ${Y} non trouvé dans editingSites, ignoré`);continue}try{const Ce=String(Y);console.log(`Conversion de l'ID ${Y} (${typeof Y}) en chaîne: ${Ce} (${typeof Ce})`);const me=Sn(dt,"sites",Ce),fe=await Do(me),{id:ye,...Te}=he;fe.exists()?(console.log(`Mise à jour du site ${Ce}...`),await Co(me,Te),console.log(`Site ${Ce} mis à jour avec succès`)):(console.log(`Le site ${Ce} n'existe pas, création...`),await Fb(me,Te),console.log(`Site ${Ce} créé avec succès`)),oe++}catch(Ce){console.error(`Erreur lors de la mise à jour du site ${Y}:`,Ce),V++}}for(let ee=0;ee<b.length;ee++){const Y=b[ee];if(!Y.nom||Y.nom.trim()===""){console.log(`Nouveau site #${ee+1} sans nom, ignoré`);continue}try{const{id:he,...Ce}=Y;console.log(`Ajout du nouveau site "${Y.nom}"...`);const me=nn(dt,"sites"),fe=await ia(me,Ce);console.log(`Nouveau site "${Y.nom}" ajouté avec l'ID: ${fe.id}`);const ye={id:fe.id,...Ce};t.push(ye),ie++,oe++}catch(he){console.error(`Erreur lors de l'ajout du nouveau site "${Y.nom}":`,he),V++}}console.log(`Sauvegarde terminée: ${oe} succès (dont ${ie} nouveaux sites), ${V} erreurs`);const re=[];for(let ee=0;ee<t.length;ee++){const Y=t[ee],he=Y.id;K[he]&&f[he]?re.push({...f[he]}):re.push(Y)}e(re),T(re),alert(`${oe} sites mis à jour avec succès${ie>0?`, ${ie} nouveaux sites ajoutés`:""}${V>0?`, ${V} erreurs`:""}`),c(!1),d([]),p({}),x([]),y(!1)}catch(K){console.error("Erreur globale lors de la sauvegarde:",K),alert("Une erreur est survenue lors de la sauvegarde")}finally{r(!1),a(null)}},J=async()=>{if(u.length!==0)try{r(!0),o(null),console.log(`Tentative de suppression de ${u.length} sites:`,u);const K=t.filter(V=>u.includes(V.id));if(console.log("Sites à supprimer (détails complets):",K),K.length===0){console.warn("Aucun site trouvé pour les IDs sélectionnés"),r(!1);return}const oe=K.find(V=>V.nom==="SITE 000 TEST"||V.nom.includes("TEST")||V.nom.includes("Périphérique")||V.pole==="Périphérique");oe&&(console.log("Site TEST/Périphérique trouvé pour suppression:",oe),await se());for(const V of K)try{if(V.nom.includes("TEST")||V.nom.includes("Périphérique")||V.pole==="Périphérique"){console.log(`Site ${V.nom} traité séparément, ignoré dans la boucle principale`);continue}console.log("Traitement de la suppression pour le site:",V);const ie=String(V.id);console.log(`Conversion de l'ID ${V.id} (${typeof V.id}) en chaîne: ${ie} (${typeof ie})`);const re=Sn(dt,"sites",ie);if((await Do(re)).exists())console.log(`Site ${ie} (${V.nom}) trouvé dans Firestore, suppression...`),await eo(re),console.log(`Site ${ie} (${V.nom}) supprimé avec succès`);else{console.warn(`Site ${ie} (${V.nom}) non trouvé dans Firestore avec cet ID`),console.log(`Recherche du site "${V.nom}" par nom dans Firestore...`);const Y=nn(dt,"sites"),he=mr(Y,Zr("nom","==",V.nom)),Ce=await yn(he);if(Ce.empty){console.warn(`Aucun site trouvé avec le nom "${V.nom}" dans Firestore`);continue}let me=0;for(const fe of Ce.docs){const ye=fe.id;console.log(`Site trouvé avec l'ID Firestore: ${ye}, suppression...`),await eo(fe.ref),console.log(`Site "${V.nom}" (ID Firestore: ${ye}) supprimé avec succès`),me++}console.log(`${me} document(s) supprimé(s) pour le site "${V.nom}"`)}}catch(ie){console.error(`Erreur lors de la suppression du site "${V.nom}":`,ie)}console.log("Rechargement des sites depuis Firestore..."),await q(),c(!1),d([]),p({}),y(!1)}catch(K){console.error("Erreur lors de la suppression:",K)}finally{r(!1),a(null)}},se=async()=>{try{console.log("Recherche spécifique du site problématique 'Périphérique TEST'...");const K=nn(dt,"sites");console.log("Recherche par pole 'Périphérique'...");const oe=mr(K,Zr("pole","==","Périphérique")),V=await yn(oe);if(V.empty)console.log("Aucun site avec pole 'Périphérique' trouvé");else{console.log(`${V.size} sites avec pole 'Périphérique' trouvés`);for(const fe of V.docs){const ye=fe.data();console.log(`Site trouvé: ID=${fe.id}, Nom=${ye.nom}, Pole=${ye.pole}`),ye.nom&&(ye.nom.includes("TEST")||ye.nom==="SITE 000 TEST")&&(console.log(`Suppression du site problématique: ${fe.id} (${ye.nom})`),await eo(fe.ref),console.log(`Site problématique ${fe.id} (${ye.nom}) supprimé avec succès`))}}console.log("Recherche par nom contenant 'TEST'...");const ie=mr(K,Zr("nom",">=","TEST"),Zr("nom","<=","TEST")),re=await yn(ie);if(re.empty)console.log("Aucun site avec 'TEST' dans le nom trouvé");else{console.log(`${re.size} sites contenant 'TEST' dans le nom trouvés`);for(const fe of re.docs){const ye=fe.data();console.log(`Site TEST trouvé: ID=${fe.id}, Nom=${ye.nom}`),console.log(`Suppression du site TEST: ${fe.id} (${ye.nom})`),await eo(fe.ref),console.log(`Site TEST ${fe.id} (${ye.nom}) supprimé avec succès`)}}console.log("Recherche par nom exact 'SITE 000 TEST'...");const ee=mr(K,Zr("nom","==","SITE 000 TEST")),Y=await yn(ee);if(Y.empty)console.log("Aucun site avec nom exact 'SITE 000 TEST' trouvé");else{console.log(`${Y.size} sites avec nom exact 'SITE 000 TEST' trouvés`);for(const fe of Y.docs)console.log(`Suppression du site exact: ${fe.id} (SITE 000 TEST)`),await eo(fe.ref),console.log(`Site exact ${fe.id} (SITE 000 TEST) supprimé avec succès`)}console.log("Recherche manuelle de tous les sites...");const he=mr(K,F0(1e3)),Ce=await yn(he);let me=!1;for(const fe of Ce.docs){const ye=fe.data();(ye.pole==="Périphérique"||ye.pole==="TEST")&&ye.nom&&(ye.nom.includes("TEST")||ye.nom==="SITE 000 TEST")&&(me=!0,console.log(`Site problématique trouvé par recherche manuelle: ID=${fe.id}, Nom=${ye.nom}, Pole=${ye.pole}`),console.log(`Suppression du site problématique: ${fe.id}`),await eo(fe.ref),console.log(`Site problématique ${fe.id} supprimé avec succès`))}return me||console.log("Aucun site problématique trouvé par recherche manuelle"),!0}catch(K){return console.error("Erreur lors de la suppression spécifique du site problématique:",K),!1}},ge=K=>{u.includes(K)?(d(u.filter(oe=>oe!==K)),y(!1)):(d([...u,K]),u.length+1===t.length&&y(!0))},le=(K,oe,V)=>{p({...f,[K]:{...f[K],[oe]:V}})},we=()=>{l||c(!0);const K={id:`temp-${Date.now()}`,nom:"",pole:"",type:"",adresse:"",ville:"",codePostal:"",telephone:"",email:"",codeBarres:"",tournees:[],codesPorte:"",coordonnees:"",statut:"actif"};x(oe=>[K,...oe]),R(1),setTimeout(()=>{const oe=document.querySelector(".sites-table-container .new-site-row input");oe&&oe.focus()},100)},ce=(K,oe,V)=>{const ie=[...b];ie[K]={...ie[K],[oe]:V},x(ie)},be=K=>{S(K)};return n?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement des sites..."})]}):g.jsxs("div",{children:[g.jsx("div",{className:"section-header",children:g.jsx("h2",{className:"section-title",children:"Sites"})}),g.jsxs("div",{className:"sticky-header-container",children:[g.jsx("div",{className:"header-actions",children:l?g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"button",onClick:te,disabled:n||u.length===0&&b.length===0,style:{backgroundColor:"#4CAF50",color:"white",fontWeight:"bold"},title:"Enregistrer les modifications",children:[g.jsx("i",{className:"fas fa-save"})," Enr. ",u.length>0||b.length>0?`(${u.length}${b.length>0?`+${b.length}`:""})`:""]}),g.jsxs("button",{className:"button button-secondary",onClick:()=>{window.confirm("Êtes-vous sûr de vouloir annuler toutes les modifications ?")&&(p({}),x([]),d([]),y(!1),c(!1))},style:{marginLeft:"5px"},disabled:n,title:"Annuler les modifications",children:[g.jsx("i",{className:"fas fa-times"})," Annuler"]}),g.jsxs("button",{className:"button",onClick:we,style:{marginLeft:"5px",backgroundColor:"#FF9800",color:"white",fontWeight:"bold"},disabled:n,title:"Ajouter un nouveau site",children:[g.jsx("i",{className:"fas fa-plus"})," Ajouter"]}),g.jsxs("button",{className:"button button-danger",onClick:J,disabled:u.length===0||n,style:{marginLeft:"5px",backgroundColor:"#f44336",color:"white",fontWeight:"bold"},title:"Supprimer les sites sélectionnés",children:[g.jsx("i",{className:"fas fa-trash-alt"})," Sup. (",u.length,")"]}),g.jsxs("button",{className:"button",onClick:X,disabled:u.length===0||n,style:{marginLeft:"5px"},title:"Géocoder les sites sélectionnés",children:[g.jsx("i",{className:"fas fa-map-marker-alt"})," Géo. (",u.length,")"]})]}):g.jsxs("button",{className:"button",onClick:ue,children:[g.jsx("i",{className:"fas fa-edit"})," Modifier"]})}),g.jsxs("div",{className:"quick-search-container",style:{marginTop:"10px"},children:[g.jsx("input",{type:"text",className:"quick-search-input",placeholder:"Recherche rapide...",value:_,onChange:K=>w(K.target.value),disabled:n}),g.jsx("div",{className:"pole-filter",children:g.jsx(I2,{onPoleChange:be,selectedPole:I,label:"Filtrer par pôle",className:"pole-filter-component"})})]})]}),i&&g.jsx("div",{className:"error-message",children:i}),g.jsxs("div",{className:"sites-table-container",style:{overflowX:"auto"},children:[g.jsx("div",{className:"results-info",children:g.jsxs("p",{children:[E.length," résultat(s) trouvé(s)",_?` pour la recherche "${_}"`:""]})}),g.jsxs("table",{className:`data-table ${l?"editing":""}`,children:[g.jsx("thead",{children:g.jsxs("tr",{children:[l&&g.jsx("th",{children:g.jsx("input",{type:"checkbox",checked:v,onChange:G,title:"Sélectionner/Désélectionner tout"})}),g.jsx("th",{children:"PÔLE"}),g.jsx("th",{children:"TYPE DE SITE"}),g.jsx("th",{children:"NOM"}),g.jsx("th",{children:"ADRESSE"}),g.jsx("th",{children:"COMPLÉMENT"}),g.jsx("th",{children:"VILLE"}),g.jsx("th",{children:"CODE POSTAL"}),g.jsx("th",{children:"TOURNÉES"}),g.jsx("th",{children:"HORAIRES L-V"}),g.jsx("th",{children:"HORAIRES SAMEDI"}),g.jsx("th",{children:"CODE-BARRE"}),g.jsx("th",{children:"COORDONNÉES"}),g.jsx("th",{children:"ID"}),g.jsx("th",{children:"STATUT"})]})}),g.jsxs("tbody",{children:[l&&b.map((K,oe)=>{var V;return g.jsxs("tr",{className:"new-site-row",children:[g.jsx("td",{style:{display:"none"}}),g.jsx("td",{children:g.jsx(tp,{value:K.pole||"",onChange:ie=>ce(oe,"pole",ie),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle du site"})}),g.jsx("td",{children:g.jsxs("select",{value:K.type||"",onChange:ie=>ce(oe,"type",ie.target.value),className:"inline-edit-select",title:"Type de site",children:[g.jsx("option",{value:"",children:"Sélectionner un type"}),Q8.map(ie=>g.jsx("option",{value:ie,children:ie},ie))]})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.nom||"",onChange:ie=>ce(oe,"nom",ie.target.value),className:"inline-edit-input",title:"Nom"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.adresse||"",onChange:ie=>ce(oe,"adresse",ie.target.value),className:"inline-edit-input",title:"Adresse"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.complementAdresse||"",onChange:ie=>ce(oe,"complementAdresse",ie.target.value),className:"inline-edit-input",title:"Complément d'adresse"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.ville||"",onChange:ie=>ce(oe,"ville",ie.target.value),className:"inline-edit-input",title:"Ville"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.codePostal||"",onChange:ie=>ce(oe,"codePostal",ie.target.value),className:"inline-edit-input",title:"Code postal"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:((V=K.tournees)==null?void 0:V.join(", "))||"",onChange:ie=>ce(oe,"tournees",ie.target.value.split(",").map(re=>re.trim())),className:"inline-edit-input",title:"Tournées"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.horairesLV||"",onChange:ie=>ce(oe,"horairesLV",ie.target.value),className:"inline-edit-input",title:"Horaires Lundi-Vendredi",placeholder:"HH:MM-HH:MM"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.horairesSamedi||"",onChange:ie=>ce(oe,"horairesSamedi",ie.target.value),className:"inline-edit-input",title:"Horaires Samedi",placeholder:"HH:MM-HH:MM"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.codeBarres||"",onChange:ie=>ce(oe,"codeBarres",ie.target.value),className:"inline-edit-input",title:"Code-barre"})}),g.jsx("td",{children:g.jsxs("span",{className:"coordinates-empty",children:["Pas de coordonnées",g.jsx("br",{}),"(utiliser le géocodage)"]})}),g.jsx("td",{children:K.id}),g.jsx("td",{children:g.jsxs("select",{value:K.statut||"actif",onChange:ie=>ce(oe,"statut",ie.target.value),className:"inline-edit-select",title:"Statut du site",children:[g.jsx("option",{value:"actif",children:"Actif"}),g.jsx("option",{value:"inactif",children:"Inactif"})]})})]},`new-site-${K.id}`)}),F.map((K,oe)=>{var V,ie,re,ee,Y,he,Ce,me,fe,ye,Te,ke,je,de;return g.jsxs("tr",{className:u.includes(K.id)?"selected-row":"",children:[l&&g.jsx("td",{children:g.jsx("input",{type:"checkbox",checked:u.includes(K.id),onChange:()=>ge(K.id),title:"Sélectionner ce site"})}),g.jsx("td",{children:l?g.jsx(tp,{value:((V=f[K.id])==null?void 0:V.pole)||K.pole||"",onChange:Se=>le(K.id,"pole",Se),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle du site"}):M(K.pole)}),g.jsx("td",{children:l?g.jsxs("select",{value:((ie=f[K.id])==null?void 0:ie.type)||K.type||"",onChange:Se=>le(K.id,"type",Se.target.value),className:"inline-edit-select",title:"Type de site",children:[g.jsx("option",{value:"",children:"Sélectionner un type"}),Q8.map(Se=>g.jsx("option",{value:Se,children:Se},Se))]}):K.type||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((re=f[K.id])==null?void 0:re.nom)||K.nom||"",onChange:Se=>le(K.id,"nom",Se.target.value),className:"inline-edit-input",title:"Nom"}):K.nom||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((ee=f[K.id])==null?void 0:ee.adresse)||K.adresse||"",onChange:Se=>le(K.id,"adresse",Se.target.value),className:"inline-edit-input",title:"Adresse"}):K.adresse||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((Y=f[K.id])==null?void 0:Y.complementAdresse)||K.complementAdresse||"",onChange:Se=>le(K.id,"complementAdresse",Se.target.value),className:"inline-edit-input",title:"Complément d'adresse"}):K.complementAdresse||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((he=f[K.id])==null?void 0:he.ville)||K.ville||"",onChange:Se=>le(K.id,"ville",Se.target.value),className:"inline-edit-input",title:"Ville"}):K.ville||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((Ce=f[K.id])==null?void 0:Ce.codePostal)||K.codePostal||"",onChange:Se=>le(K.id,"codePostal",Se.target.value),className:"inline-edit-input",title:"Code postal"}):K.codePostal||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((fe=(me=f[K.id])==null?void 0:me.tournees)==null?void 0:fe.join(", "))||"",onChange:Se=>le(K.id,"tournees",Se.target.value.split(",").map(Re=>Re.trim())),className:"inline-edit-input",title:"Tournées"}):((ye=K.tournees)==null?void 0:ye.join(", "))||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((Te=f[K.id])==null?void 0:Te.horairesLV)||K.horairesLV||"",onChange:Se=>le(K.id,"horairesLV",Se.target.value),className:"inline-edit-input",title:"Horaires Lundi-Vendredi",placeholder:"HH:MM-HH:MM",pattern:"([0-1][0-9]|2[0-3]):[0-5][0-9]-([0-1][0-9]|2[0-3]):[0-5][0-9]"}):K.horairesLV||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((ke=f[K.id])==null?void 0:ke.horairesSamedi)||K.horairesSamedi||"",onChange:Se=>le(K.id,"horairesSamedi",Se.target.value),className:"inline-edit-input",title:"Horaires Samedi",placeholder:"HH:MM-HH:MM",pattern:"([0-1][0-9]|2[0-3]):[0-5][0-9]-([0-1][0-9]|2[0-3]):[0-5][0-9]"}):K.horairesSamedi||""}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((je=f[K.id])==null?void 0:je.codeBarres)||K.codeBarres||"",onChange:Se=>le(K.id,"codeBarres",Se.target.value),className:"inline-edit-input",title:"Code-barre"}):K.codeBarres||""}),g.jsx("td",{children:l?K.latitude&&K.longitude?g.jsxs("span",{className:"coordinates-display",children:["Lat: ",K.latitude.toFixed(6),g.jsx("br",{}),"Lon: ",K.longitude.toFixed(6)]}):g.jsxs("span",{className:"coordinates-empty",children:["Pas de coordonnées",g.jsx("br",{}),"(utiliser le géocodage)"]}):K.latitude&&K.longitude?`Lat: ${K.latitude.toFixed(6)}, Lon: ${K.longitude.toFixed(6)}`:"-"}),g.jsx("td",{children:K.id}),g.jsx("td",{children:l?g.jsxs("select",{value:((de=f[K.id])==null?void 0:de.statut)||K.statut||"actif",onChange:Se=>le(K.id,"statut",Se.target.value),className:"inline-edit-select",title:"Statut du site",children:[g.jsx("option",{value:"actif",children:"Actif"}),g.jsx("option",{value:"inactif",children:"Inactif"})]}):K.statut==="actif"||!K.statut?"Actif":"Inactif"})]},`site-${K.id}-${oe}`)})]})]}),W()]})]})};YY("fr",rX);const hqe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(!0),[i,o]=h.useState(null),[s,a]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState({nom:"",heureDepart:"",heureFinPrevue:"",heureFinReelle:"",coursier:"",vehicules:[],nombreColis:0,statut:"en_attente"}),[f,p]=h.useState(!1),[v,y]=h.useState([]),[b,x]=h.useState({}),[_,w]=h.useState([]),[E,T]=h.useState([]),[I,S]=h.useState(!1),[P,R]=h.useState([]),[O,N]=h.useState(""),[A,$]=h.useState([]),[M,F]=h.useState(""),{poles:z}=i_(),j=K=>{if(!K)return"-";const oe=z.find(V=>V.id===K);return oe?oe.nom:K};h.useEffect(()=>{B(),W(),q()},[]),h.useEffect(()=>{$(t)},[t]),h.useEffect(()=>{let K=t;if(M&&(K=K.filter(oe=>oe.pole===M)),O.trim()){const oe=O.toLowerCase().trim();K=K.filter(V=>V.nom.toLowerCase().includes(oe)||V.heureDepart.toLowerCase().includes(oe)||(V.heureFinReelle||"").toLowerCase().includes(oe)||V.statut.toLowerCase().includes(oe)||V.vehicules.some(ie=>{const re=_.find(ee=>ee.id===ie);return re&&re.immatriculation.toLowerCase().includes(oe)}))}$(K)},[O,t,_,M]),h.useEffect(()=>{I?y(t.map(K=>K.id)):v.length===t.length&&y([])},[I]);const B=async()=>{try{r(!0);const K=nn(dt,"tournees"),oe=await yn(K);if(!oe.empty){const V=oe.docs.map(ie=>{const re=ie.data();return{id:ie.id,nom:(re==null?void 0:re.nom)||"",heureDepart:(re==null?void 0:re.heureDepart)||"",heureFinPrevue:(re==null?void 0:re.heureFinPrevue)||"",heureFinReelle:(re==null?void 0:re.heureFinReelle)||"",coursier:(re==null?void 0:re.coursier)||"",vehicules:(re==null?void 0:re.vehicules)||[],nombreColis:(re==null?void 0:re.nombreColis)||0,statut:(re==null?void 0:re.statut)||"en_attente",pole:(re==null?void 0:re.pole)||"",siteDepart:(re==null?void 0:re.siteDepart)||""}});console.log("Tournées récupérées depuis Firestore:",V),e(V)}r(!1)}catch(K){console.error("Erreur lors de la récupération des tournées:",K),o("Erreur lors de la récupération des données"),e([]),r(!1)}},W=async()=>{try{const K=nn(dt,"vehicules"),oe=await yn(K);if(!oe.empty){const V=oe.docs.map(ie=>{const re=ie.data();return{id:ie.id,immatriculation:(re==null?void 0:re.immatriculation)||""}});w(V)}}catch(K){console.error("Erreur lors de la récupération des véhicules:",K)}},q=async()=>{try{const K=nn(dt,"sites"),oe=await yn(K);if(!oe.empty){const V=oe.docs.map(ie=>{const re=ie.data();return{id:ie.id,nom:(re==null?void 0:re.nom)||""}});T(V)}}catch(K){console.error("Erreur lors de la récupération des sites:",K)}},G=async()=>{if(v.length===0){alert("Veuillez sélectionner au moins une tournée à supprimer");return}if(window.confirm(`Êtes-vous sûr de vouloir supprimer ${v.length} tournée(s) ?`))try{const K=v.map(oe=>eo(Sn(dt,"tournees",oe)));await Promise.all(K),e(t.filter(oe=>!v.includes(oe.id))),y([]),S(!1)}catch(K){console.error("Erreur lors de la suppression:",K),o("Erreur lors de la suppression")}},X=()=>{S(!I)},ue=()=>{if(f)y([]),x({}),S(!1),R([]),B();else{const K={};A.forEach(oe=>{K[oe.id]={...oe}}),x(K)}p(!f),N(""),F("")},te=K=>{v.includes(K)?(y(v.filter(oe=>oe!==K)),S(!1)):(y([...v,K]),v.length+1===t.length&&S(!0))},J=K=>{switch(K){case"en_attente":return"en-attente";case"en_cours":return"en-cours";case"terminee":return"livré";case"annulee":return"annulé";default:return""}},se=K=>{switch(K){case"en_attente":return"En attente";case"en_cours":return"En cours";case"terminee":return"Terminée";case"annulee":return"Annulée";default:return""}},ge=()=>{f||p(!0);const K={id:`temp-${Date.now()}`,nom:"",heureDepart:"",heureFinPrevue:"",heureFinReelle:"",coursier:"",vehicules:[],nombreColis:0,statut:"en_attente"};R(oe=>[K,...oe]),setTimeout(()=>{const oe=document.querySelector(".tournees-table-container .new-tournee-row input");oe&&oe.focus()},100)},le=(K,oe,V)=>{const ie=[...P];ie[K]={...ie[K],[oe]:V},R(ie)},we=async()=>{try{console.log("Début de la sauvegarde des modifications..."),console.log("Tournées à mettre à jour:",Object.keys(b).length),console.log("Nouvelles tournées à ajouter:",P.length);const K=Object.entries(b).map(async([ee,Y])=>{try{console.log(`Mise à jour de la tournée ${ee}:`,Y);const he={};return Y.nom!==void 0&&(he.nom=Y.nom),Y.heureDepart!==void 0&&(he.heureDepart=Y.heureDepart),Y.heureFinPrevue!==void 0&&(he.heureFinPrevue=Y.heureFinPrevue),Y.heureFinReelle!==void 0&&(he.heureFinReelle=Y.heureFinReelle),Y.coursier!==void 0&&(he.coursier=Y.coursier),Y.vehicules!==void 0&&(he.vehicules=Y.vehicules),Y.nombreColis!==void 0&&(he.nombreColis=Y.nombreColis),Y.statut!==void 0&&(he.statut=Y.statut),Y.pole!==void 0&&(he.pole=Y.pole),await Co(Sn(dt,"tournees",ee),he),console.log(`Tournée ${ee} mise à jour avec succès`),ee}catch(he){throw console.error(`Erreur lors de la mise à jour de la tournée ${ee}:`,he),he}}),oe=P.map(async(ee,Y)=>{try{console.log(`Ajout de la nouvelle tournée à l'index ${Y}:`,ee);const{id:he,...Ce}=ee,me={...Ce,vehicules:Ce.vehicules||[],nombreColis:Ce.nombreColis||0,statut:Ce.statut||"en_attente"},fe=await ia(nn(dt,"tournees"),me);return console.log(`Nouvelle tournée ajoutée avec l'ID: ${fe.id}`),fe.id}catch(he){throw console.error(`Erreur lors de l'ajout de la nouvelle tournée à l'index ${Y}:`,he),he}}),V=await Promise.allSettled([...K,...oe]),ie=V.filter(ee=>ee.status==="fulfilled").length,re=V.filter(ee=>ee.status==="rejected").length;return console.log(`Opérations terminées: ${ie} réussies, ${re} échouées`),re>0&&console.warn("Certaines opérations ont échoué. Voir les erreurs ci-dessus."),x({}),R([]),await B(),re>0?alert(`Modifications partiellement enregistrées. ${re} opérations ont échoué.`):alert("Modifications enregistrées avec succès"),p(!1),y([]),S(!1),console.log("Toutes les modifications ont été enregistrées avec succès"),!0}catch(K){throw console.error("Erreur lors de la sauvegarde des modifications:",K),alert("Erreur lors de la sauvegarde des modifications. Veuillez réessayer."),K}},ce=(K,oe,V)=>{console.log(`Mise à jour de la tournée ${K}, champ ${oe} avec la valeur:`,V),x({...b,[K]:{...b[K],[oe]:V}})},be=K=>{F(K)};return n?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement des tournées..."})]}):g.jsxs("div",{children:[g.jsx("div",{className:"section-header",children:g.jsx("h2",{className:"section-title",children:"Tournées"})}),g.jsxs("div",{className:"sticky-header-container",children:[g.jsx("div",{className:"header-actions",children:f?g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"button",onClick:we,disabled:n||v.length===0&&P.length===0,style:{backgroundColor:"#4CAF50",color:"white",fontWeight:"bold"},title:"Enregistrer les modifications",children:[g.jsx("i",{className:"fas fa-save"})," Enr. ",v.length>0||P.length>0?`(${v.length}${P.length>0?`+${P.length}`:""})`:""]}),g.jsxs("button",{className:"button button-secondary",onClick:()=>{window.confirm("Êtes-vous sûr de vouloir annuler toutes les modifications ?")&&(x({}),R([]),y([]),S(!1),p(!1))},style:{marginLeft:"5px"},disabled:n,title:"Annuler les modifications",children:[g.jsx("i",{className:"fas fa-times"})," Annuler"]}),g.jsxs("button",{className:"button",onClick:ge,style:{marginLeft:"5px",backgroundColor:"#FF9800",color:"white",fontWeight:"bold"},disabled:n,title:"Ajouter une nouvelle tournée",children:[g.jsx("i",{className:"fas fa-plus"})," Ajouter"]}),g.jsxs("button",{className:"button button-danger",onClick:G,disabled:v.length===0||n,style:{marginLeft:"5px",backgroundColor:"#f44336",color:"white",fontWeight:"bold"},title:"Supprimer les tournées sélectionnées",children:[g.jsx("i",{className:"fas fa-trash-alt"})," Sup. (",v.length,")"]})]}):g.jsxs("button",{className:"button",onClick:ue,children:[g.jsx("i",{className:"fas fa-edit"})," Modifier"]})}),g.jsxs("div",{className:"quick-search-container",style:{marginTop:"10px"},children:[g.jsx("input",{type:"text",className:"quick-search-input",placeholder:"Recherche rapide...",value:O,onChange:K=>N(K.target.value),disabled:n}),g.jsx("div",{className:"pole-filter",children:g.jsx(I2,{onPoleChange:be,selectedPole:M,label:"Filtrer par pôle",className:"pole-filter-component"})})]})]}),g.jsxs("div",{className:"tournees-table-container",style:{overflowX:"auto"},children:[g.jsx("div",{className:"results-info",children:g.jsxs("p",{children:[A.length," résultat(s) trouvé(s)",O?` pour la recherche "${O}"`:""]})}),g.jsxs("table",{className:`data-table ${f?"editing":""}`,children:[g.jsx("thead",{children:g.jsxs("tr",{children:[f&&g.jsx("th",{children:g.jsx("input",{type:"checkbox",checked:I,onChange:X,title:"Sélectionner/Désélectionner toutes les tournées"})}),g.jsx("th",{children:"PÔLE"}),g.jsx("th",{children:"Nom"}),g.jsx("th",{children:"Heure de Départ"}),g.jsx("th",{children:"Heure d'Arrivée"}),g.jsx("th",{children:"Véhicules"}),g.jsx("th",{children:"Statut"})]})}),g.jsxs("tbody",{children:[f&&P.map((K,oe)=>g.jsxs("tr",{className:"new-tournee-row",children:[g.jsx("td",{style:{display:"none"}}),g.jsx("td",{children:g.jsx(tp,{value:K.pole||"",onChange:V=>le(oe,"pole",V),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle de la tournée"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:K.nom||"",onChange:V=>le(oe,"nom",V.target.value),className:"inline-edit-input",placeholder:"Nom de la tournée"})}),g.jsx("td",{style:{position:"relative"},children:g.jsxs("div",{className:"custom-datepicker-wrapper",children:[g.jsx(Bm,{selected:K.heureDepart?new Date(`2000-01-01T${K.heureDepart}`):null,onChange:V=>{if(V){const ie=V.getHours().toString().padStart(2,"0"),re=V.getMinutes().toString().padStart(2,"0");le(oe,"heureDepart",`${ie}:${re}`)}},locale:"fr",showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Heure",dateFormat:"HH:mm",placeholderText:"HH:MM",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:V=>V}]}),g.jsx("span",{className:"custom-datepicker-icon",children:"🕒"})]})}),g.jsx("td",{style:{position:"relative"},children:g.jsxs("div",{className:"custom-datepicker-wrapper",children:[g.jsx(Bm,{selected:K.heureFinReelle?new Date(`2000-01-01T${K.heureFinReelle}`):null,onChange:V=>{if(V){const ie=V.getHours().toString().padStart(2,"0"),re=V.getMinutes().toString().padStart(2,"0");le(oe,"heureFinReelle",`${ie}:${re}`)}},locale:"fr",showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Heure",dateFormat:"HH:mm",placeholderText:"HH:MM",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:V=>V}]}),g.jsx("span",{className:"custom-datepicker-icon",children:"🕒"})]})}),g.jsx("td",{children:g.jsx("div",{className:"checkbox-list",style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"8px",backgroundColor:"#f9f9f9"},children:_.map(V=>g.jsx("div",{style:{marginBottom:"6px"},children:g.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:(K.vehicules||[]).includes(V.id),onChange:ie=>{const re=[...K.vehicules||[]];ie.target.checked?re.includes(V.id)||le(oe,"vehicules",[...re,V.id]):le(oe,"vehicules",re.filter(ee=>ee!==V.id))},style:{marginRight:"8px"},title:`Sélectionner le véhicule ${V.immatriculation}`}),V.immatriculation]})},V.id))})}),g.jsx("td",{children:g.jsxs("select",{value:K.statut||"en_attente",onChange:V=>le(oe,"statut",V.target.value),className:"inline-edit-select",title:"Statut de la tournée",children:[g.jsx("option",{value:"en_attente",children:"En attente"}),g.jsx("option",{value:"en_cours",children:"En cours"}),g.jsx("option",{value:"terminee",children:"Terminée"}),g.jsx("option",{value:"annulee",children:"Annulée"})]})})]},K.id)),A.map(K=>{var oe,V,ie,re,ee;return g.jsxs("tr",{className:v.includes(K.id)?"selected-row":"",children:[f&&g.jsx("td",{children:g.jsx("input",{type:"checkbox",checked:v.includes(K.id),onChange:()=>te(K.id),title:`Sélectionner la tournée ${K.nom}`})}),g.jsx("td",{children:f?g.jsx(tp,{value:((oe=b[K.id])==null?void 0:oe.pole)||K.pole||"",onChange:Y=>ce(K.id,"pole",Y),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle de la tournée"}):j(K.pole)}),g.jsx("td",{children:f?g.jsx("input",{type:"text",value:((V=b[K.id])==null?void 0:V.nom)||K.nom,onChange:Y=>ce(K.id,"nom",Y.target.value),className:"inline-edit-input",placeholder:"Nom de la tournée"}):K.nom}),g.jsx("td",{style:{position:"relative"},children:f?g.jsxs("div",{className:"custom-datepicker-wrapper",children:[g.jsx(Bm,{selected:(ie=b[K.id])!=null&&ie.heureDepart?new Date(`2000-01-01T${b[K.id].heureDepart}`):K.heureDepart?new Date(`2000-01-01T${K.heureDepart}`):null,onChange:Y=>{if(Y){const he=Y.getHours().toString().padStart(2,"0"),Ce=Y.getMinutes().toString().padStart(2,"0");ce(K.id,"heureDepart",`${he}:${Ce}`)}},locale:"fr",showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Heure",dateFormat:"HH:mm",placeholderText:"HH:MM",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:Y=>Y}]}),g.jsx("span",{className:"custom-datepicker-icon",children:"🕒"})]}):K.heureDepart||"-"}),g.jsx("td",{style:{position:"relative"},children:f?g.jsxs("div",{className:"custom-datepicker-wrapper",children:[g.jsx(Bm,{selected:(re=b[K.id])!=null&&re.heureFinReelle?new Date(`2000-01-01T${b[K.id].heureFinReelle}`):K.heureFinReelle?new Date(`2000-01-01T${K.heureFinReelle}`):null,onChange:Y=>{if(Y){const he=Y.getHours().toString().padStart(2,"0"),Ce=Y.getMinutes().toString().padStart(2,"0");ce(K.id,"heureFinReelle",`${he}:${Ce}`)}},locale:"fr",showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:"Heure",dateFormat:"HH:mm",placeholderText:"HH:MM",className:"custom-datepicker-input",popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]},fn:Y=>Y}]}),g.jsx("span",{className:"custom-datepicker-icon",children:"🕒"})]}):K.heureFinReelle||"-"}),g.jsx("td",{children:f?g.jsx("div",{className:"checkbox-list",style:{maxHeight:"150px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"8px",backgroundColor:"#f9f9f9"},children:_.map(Y=>{var he;return g.jsx("div",{style:{marginBottom:"6px"},children:g.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:(((he=b[K.id])==null?void 0:he.vehicules)||K.vehicules).includes(Y.id),onChange:Ce=>{var fe;const me=[...((fe=b[K.id])==null?void 0:fe.vehicules)||K.vehicules];Ce.target.checked?me.includes(Y.id)||ce(K.id,"vehicules",[...me,Y.id]):ce(K.id,"vehicules",me.filter(ye=>ye!==Y.id))},style:{marginRight:"8px"}}),Y.immatriculation]})},Y.id)})}):K.vehicules.map(Y=>{const he=_.find(Ce=>Ce.id===Y);return he?he.immatriculation:Y}).join(", ")}),g.jsx("td",{children:f?g.jsxs("select",{value:((ee=b[K.id])==null?void 0:ee.statut)||K.statut,onChange:Y=>ce(K.id,"statut",Y.target.value),className:"inline-edit-select",title:"Statut de la tournée",children:[g.jsx("option",{value:"en_attente",children:"En attente"}),g.jsx("option",{value:"en_cours",children:"En cours"}),g.jsx("option",{value:"terminee",children:"Terminée"}),g.jsx("option",{value:"annulee",children:"Annulée"})]}):g.jsx("span",{className:J(K.statut),children:se(K.statut)})})]},K.id)})]})]})]})]})},ene=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e="abcdefghijklmnopqrstuvwxyz",n="0123456789",r="!@#$%&*-_=+";let i="";for(let s=0;s<2;s++)i+=t.charAt(Math.floor(Math.random()*t.length));for(let s=0;s<2;s++)i+=n.charAt(Math.floor(Math.random()*n.length));for(let s=0;s<2;s++)i+=e.charAt(Math.floor(Math.random()*e.length));i+=r.charAt(Math.floor(Math.random()*r.length));const o=i.split("");for(let s=o.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[o[s],o[a]]=[o[a],o[s]]}return o.join("")},pqe=async t=>{try{console.log("Début de la création d'un nouvel utilisateur:",t.email);const e=ene();console.log("Mot de passe temporaire généré");const r=(await zpe(ul,t.email,e)).user.uid;console.log("Utilisateur créé dans Firebase Auth avec UID:",r);const i={url:wG+`/login?email=${encodeURIComponent(t.email)}&newUser=true&nom=${encodeURIComponent(t.nom)}`,handleCodeInApp:!0};console.log("Envoi de l'email de réinitialisation à:",t.email),await wI(ul,t.email,i),console.log("Email de réinitialisation envoyé avec succès");const o=await ia(nn(dt,"users"),{...t,uid:r,identifiant:r,createdAt:new Date().toISOString()});return console.log("Document utilisateur créé dans Firestore avec ID:",o.id),{success:!0,docId:o.id,uid:r}}catch(e){return console.error("Erreur lors de la création de l'utilisateur:",e),{success:!1,error:e}}},tne=[{id:"utilisateur",name:"Utilisateur",description:"Utilisateur standard",permissions:["basic.view"],pageAccess:{dashboard:!0,passages:!0,sites:!0,tournees:!0,vehicules:!0,carte:!0},isDefault:!0},{id:"admin",name:"Administrateur",description:"Administrateur système",permissions:["*"],pageAccess:{dashboard:!0,passages:!0,sites:!0,tournees:!0,vehicules:!0,carte:!0,userManagement:!0,administration:!0},isAdmin:!0},{id:"manager",name:"Gestionnaire",description:"Gestionnaire de système",permissions:["users.view","users.edit"],pageAccess:{dashboard:!0,passages:!0,sites:!0,tournees:!0,vehicules:!0,carte:!0,userManagement:!0}}];function nne(t){try{const n=Cl.getInstance();if(n.initialized){const r=n.roles.find(i=>i.name===t);if(r)return console.log(`🔍 Rôle '${t}' trouvé dans l'instance:`,r),r}}catch(n){console.warn("Erreur lors de la récupération du rôle depuis l'instance:",n)}const e=tne.find(n=>n.name===t);return console.log(`🔍 Rôle '${t}' ${e?"trouvé":"non trouvé"} dans les rôles statiques`),e}function jl(t,e){var i,o;const n=nne(t);if(!n)return console.warn(`Rôle '${t}' non trouvé pour vérifier l'accès à la page ${e}`),!1;if(n.isAdmin===!0)return console.log(`👑 Rôle '${t}' est admin, accès accordé à ${e}`),!0;const r=((i=n.pageAccess)==null?void 0:i[e])===!0;return console.log(`🔐 Vérification d'accès pour '${t}' à la page '${e}': ${r?"OUI":"NON"}`),console.log(`   - pageAccess pour ${e}:`,(o=n.pageAccess)==null?void 0:o[e]),r}const Qf=class Qf{constructor(){Ye(this,"roles",[]);Ye(this,"initialized",!1);Ye(this,"roleChangeListeners",[])}static getInstance(){return Qf.instance||(Qf.instance=new Qf),Qf.instance}addRoleChangeListener(e){this.roleChangeListeners.push(e)}removeRoleChangeListener(e){this.roleChangeListeners=this.roleChangeListeners.filter(n=>n!==e)}notifyRoleChangeListeners(){this.roleChangeListeners.forEach(e=>e())}async getRoles(){return this.initialized||await this.initializeRoles(),this.roles}async getRole(e){return this.initialized||await this.initializeRoles(),this.roles.find(n=>n.id===e)||null}async getRoleByName(e){return this.initialized||await this.initializeRoles(),this.roles.find(n=>n.name===e)||null}async initializeRoles(){try{const e=nn(dt,"roles"),n=await yn(e);this.roles=n.docs.map(r=>({id:r.id,...r.data()})),this.initialized=!0,console.log("Roles initialisés:",this.roles)}catch(e){throw console.error("Erreur lors du chargement des rôles:",e),e}}async updateRolePermissions(e,n){try{this.initialized||await this.initializeRoles(),console.log("RoleService: Début de la mise à jour des permissions pour le rôle:",e),console.log("RoleService: Nouvelles permissions:",n);const r=Sn(dt,"roles",e);if(!(await Do(r)).exists())throw new Error(`Le rôle avec l'ID ${e} n'existe pas dans Firestore`);await Co(r,{permissions:n}),console.log("RoleService: Document mis à jour dans Firestore");const o=this.roles.findIndex(s=>s.id===e);o!==-1&&(this.roles[o]={...this.roles[o],permissions:n},console.log("RoleService: Cache local mis à jour")),await this.refreshRoles(),console.log("RoleService: Roles rafraîchis depuis Firestore"),this.notifyRoleChangeListeners()}catch(r){throw console.error("RoleService: Erreur lors de la mise à jour des permissions:",r),r}}async updatePageAccess(e,n){try{this.initialized||await this.initializeRoles(),console.log("RoleService: Début de la mise à jour des accès aux pages pour le rôle:",e),console.log("RoleService: Nouveaux accès aux pages:",n);const r=Sn(dt,"roles",e);if(!(await Do(r)).exists())throw new Error(`Le rôle avec l'ID ${e} n'existe pas dans Firestore`);await Co(r,{pageAccess:n}),console.log("RoleService: Document mis à jour dans Firestore");const o=this.roles.findIndex(s=>s.id===e);o!==-1&&(this.roles[o]={...this.roles[o],pageAccess:n},console.log("RoleService: Cache local mis à jour")),await this.refreshRoles(),console.log("RoleService: Roles rafraîchis depuis Firestore"),Object.assign(tne,this.roles),this.notifyRoleChangeListeners()}catch(r){throw console.error("RoleService: Erreur lors de la mise à jour des accès aux pages:",r),r}}async refreshRoles(){this.initialized=!1,await this.initializeRoles(),this.notifyRoleChangeListeners()}};Ye(Qf,"instance");let Cl=Qf;const ti={DASHBOARD:"dashboard",PASSAGES:"passages",SITES:"sites",TOURNEES:"tournees",VEHICULES:"vehicules",CARTE:"carte",USER_MANAGEMENT:"userManagement",ADMINISTRATION:"administration",PASSAGE_DETAILS:"passageDetails",TOURNEE_DETAILS:"tourneeDetails",VEHICULES_ADVANCED:"vehiculesAdvanced"};function mqe(t,e,n){if(!t)return!1;const r=n.find(o=>o.name===t.role);if(!r)return!1;if(r.isAdmin===!0)return!0;const i=r.pageAccess;return i?!!i[e]:!1}const Ss=({children:t,userRole:e,allowedRoles:n,requiredPermissions:r=[],pageName:i,roles:o})=>{const{currentUser:s,hasPermission:a,isAllowedRoute:l}=bf(),c=pf(),[u,d]=h.useState(!1),[f,p]=h.useState(!1),v=(y,b)=>{var _;if(!y||!b)return!1;if(y.isAdmin===!0)return!0;const x=b.toLowerCase();return((_=y.pageAccess)==null?void 0:_[x])===!0};return h.useEffect(()=>{const y=n.includes(e)||n.includes("default"),b=r.length===0||r.every(w=>a(w)),x=l(c.pathname),_=i?mqe(s,i,o):!0;console.log("VÉRIFICATION D'ACCÈS DÉTAILLÉE:",{url:c.pathname,page:i,userRole:e,allowedRoles:n,hasRole:y,requiredPermissions:r,userPermissions:(s==null?void 0:s.permissions)||[],hasAllPermissions:b,hasRouteAccess:x,pageAccessCheck:{pageName:i,allRoles:o.map(w=>({name:w.name,pageAccess:w.pageAccess})),userRoleObject:o.find(w=>w.name===e),hasPageAccess:i?v(o.find(w=>w.name===e),i):!0},hasPageSpecificAccess:_,currentUser:{...s,role:s==null?void 0:s.role}}),console.log(`🔑 DÉCISION FINALE pour ${c.pathname} (${i||"sans nom de page"}):`),console.log(`- Rôle autorisé: ${y?"OUI":"NON"} (${e} dans [${n.join(", ")}])`),console.log(`- Permissions requises: ${b?"OUI":"NON"} (${r.join(", ")})`),console.log(`- Accès spécifique à la page: ${_?"OUI":"NON"}`),console.log(`- Route autorisée: ${x?"OUI":"NON"}`),console.log(`- Résultat final: ${y&&b&&_||x?"✅ ACCÈS AUTORISÉ":"❌ ACCÈS REFUSÉ"}`),p(y&&b&&_||x),d(!0)},[e,s,c.pathname,o,n,r,i,a,l]),u?f?g.jsx(g.Fragment,{children:t}):(console.log("ACCÈS REFUSÉ - Redirection vers la page d'accueil"),g.jsx(i0,{to:"/",replace:!0})):g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"Vérification des permissions..."})]})},gqe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,o]=h.useState(!0),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState({}),[f,p]=h.useState(null),[v,y]=h.useState([]),[b,x]=h.useState(!1),[_,w]=h.useState(0),[E,T]=h.useState(""),[I,S]=h.useState([]),[P,R]=h.useState(""),O=Cl.getInstance(),{currentUser:N,hasPermission:A}=bf(),{poles:$}=i_();h.useEffect(()=>{(async()=>{try{const[be]=await Promise.all([O.getRoles(),M()]);r(be)}catch{a("Erreur lors de l'initialisation")}})(),F()},[]),h.useEffect(()=>{S(t)},[t]),h.useEffect(()=>{let ce=t;if(P&&(ce=ce.filter(be=>be.pole===P)),E.trim()){const be=E.toLowerCase().trim();ce=ce.filter(K=>(K.nom||"").toLowerCase().includes(be)||(K.email||"").toLowerCase().includes(be)||(K.identifiant||"").toLowerCase().includes(be)||(K.role||"").toLowerCase().includes(be)||(K.pole||"").toLowerCase().includes(be))}S(ce)},[E,t,P]),h.useEffect(()=>{console.log("🔐 Permissions de l'utilisateur courant:",{user:N,hasUsersViewPermission:A("users.view"),hasUsersCreatePermission:A("users.create"),hasUsersEditPermission:A("users.edit"),hasUsersDeletePermission:A("users.delete"),userRole:N==null?void 0:N.role,userPermissions:N==null?void 0:N.permissions});const ce=A("users.view")||(N==null?void 0:N.role)==="Administrateur";console.log("🚪 Accès à la gestion des utilisateurs:",ce)},[N]);const M=async()=>{try{const ce=nn(dt,"users"),K=(await yn(ce)).docs.map(oe=>{const V=oe.data();return!V.uid&&V.identifiant&&(V.uid=V.identifiant),{id:oe.id,...V}});e(K),o(!1)}catch{a("Erreur lors du chargement des utilisateurs"),o(!1)}},F=()=>{const ce=ul.currentUser;x((ce==null?void 0:ce.email)==="mickael.volle@inovie.fr")},z=async ce=>{console.log("🔐 Début de handleResetPassword"),console.log("Email reçu:",ce),a(null);try{if(!ce||ce.trim()===""){console.error("❌ Email invalide"),a("L'email est invalide");return}console.log("🔍 Tentative d'envoi de l'email de réinitialisation");const be=ul.currentUser;if(!be||!be.email){console.error("❌ Aucun utilisateur connecté ou email non disponible"),a("Vous devez être connecté pour effectuer cette action");return}const K=be.email;console.log("📧 Email de l'administrateur connecté:",K),console.log("📧 Email de l'utilisateur à réinitialiser:",ce);const oe={url:wG+`/login?email=${encodeURIComponent(ce)}&reset=true`,handleCodeInApp:!0};console.log("📝 URL de redirection configurée:",oe.url),await wI(ul,ce,oe),console.log("📧 Email de réinitialisation Firebase envoyé avec succès"),console.log("✅ Processus de réinitialisation de mot de passe terminé avec succès"),alert(`
            ✅ Réinitialisation de mot de passe effectuée !
            
            Un email de réinitialisation a été envoyé à ${ce}.
            
            L'utilisateur pourra :
            1. Cliquer sur le lien dans l'email pour définir son mot de passe
            2. Utiliser la fonction "Mot de passe oublié" sur la page de connexion
            
            ATTENTION : Le lien dans l'email est valable pendant 1 heure seulement.
        `.trim())}catch(be){console.error("❌ ERREUR COMPLETE lors de la réinitialisation du mot de passe:",be),console.error("Détails de l'erreur:",{name:be.name,code:be.code,message:be.message,stack:be.stack});let K="Une erreur est survenue";switch(be.code){case"auth/invalid-email":K="Format d'email invalide";break;case"auth/user-not-found":K="Aucun utilisateur trouvé avec cet email";break;case"auth/missing-email":K="Aucun email n'a été fourni";break;case"auth/too-many-requests":K="Trop de tentatives. Veuillez réessayer plus tard.";break;default:K=`Impossible d'envoyer l'email de réinitialisation : ${be.message}`}console.error("❌ Message d'erreur:",K),a(K),alert(K)}},j=()=>{if(l)window.confirm("Voulez-vous enregistrer les modifications ?")?(console.log("Sauvegarde des modifications avant de quitter le mode édition"),J().then(()=>{y([]),p(null),c(!1)}).catch(ce=>{console.error("Erreur lors de la sauvegarde:",ce),alert("Une erreur est survenue lors de la sauvegarde. Veuillez réessayer.")})):(console.log("Annulation des modifications et sortie du mode édition"),d({}),p(null),y([]),c(!1));else{console.log("Entrée en mode édition");const ce={};t.forEach(be=>{ce[be.id]={...be}}),d(ce),p(null),c(!0)}},B=()=>({identifiant:"",email:"",nom:"",role:"Utilisateur",pole:"",statut:"Actif",permissions:[]}),W=ce=>ce?{...B(),...ce,nom:ce.nom||"",email:ce.email||"",role:ce.role||"Utilisateur",pole:ce.pole||"",statut:ce.statut||"Actif",identifiant:ce.identifiant||"",permissions:ce.permissions||[]}:B(),q=(ce,be)=>{p(K=>({...W(K),[ce]:be}))},G=async(ce,be,K)=>{ce&&d(oe=>{const V=oe[ce]||{...t.find(ie=>ie.id===ce)||{}};if(be==="role"){const ie=n.find(re=>re.name===K);return{...oe,[ce]:{...V,[be]:K,permissions:(ie==null?void 0:ie.permissions)||[]}}}return{...oe,[ce]:{...V,[be]:K}}})},X=ce=>{if(!ce)return"";switch(ce.toLowerCase()){case"actif":return"livré";case"inactif":return"en-cours";default:return""}},ue=ce=>{y(be=>be.includes(ce)?be.filter(K=>K!==ce):[...be,ce])},te=async()=>{try{if(v.length===0){alert("❌ Aucun utilisateur sélectionné");return}if(!window.confirm(`Êtes-vous sûr de vouloir supprimer ${v.length} utilisateur(s) ?
      
⚠️ ATTENTION: Les utilisateurs seront supprimés uniquement de la base de données Firestore, mais PAS de Firebase Authentication.
Pour une suppression complète, contactez l'administrateur système.`))return;const ce=t.filter(oe=>v.includes(oe.id));console.log(`🔄 Tentative de suppression de ${v.length} utilisateurs de Firestore`);const be=v.map(oe=>eo(Sn(dt,"users",oe)));await Promise.all(be);const K=t.filter(oe=>!v.includes(oe.id));e(K),y([]),alert(`
        ✅ ${v.length} utilisateur(s) supprimé(s) de la base de données Firestore avec succès.
        
        ⚠️ IMPORTANT: Les comptes utilisateurs n'ont PAS été supprimés de Firebase Authentication.
        Si nécessaire, ces comptes devront être supprimés manuellement par un administrateur
        depuis la console Firebase.
      `.trim())}catch(ce){console.error("❌ Erreur lors de la suppression des utilisateurs:",ce),a("Erreur lors de la suppression des utilisateurs"),alert("❌ Erreur lors de la suppression des utilisateurs")}},J=async()=>{try{o(!0);const ce=[];for(const ee in u)if(Object.prototype.hasOwnProperty.call(u,ee)){const Y=u[ee],he=n.find(Te=>Te.name==="Administrateur");if(Y.role==="Administrateur"&&he&&Y.id&&!he.permissions.includes(Y.id)){const Te=t.find(ke=>ke.id===ee);Te&&Te.role!=="Administrateur"&&(Y.role=Te.role,console.warn(`Tentative non autorisée de promotion au rôle d'Administrateur pour l'utilisateur ${Y.nom||Y.email}`),alert(`Le rôle "Administrateur" ne peut pas être attribué via cette interface. L'utilisateur ${Y.nom||Y.email} conservera son rôle ${Y.role}.`))}Y.dateModification||(Y.dateModification=new Date().toISOString());const Ce=Sn(dt,"users",ee),{id:me,uid:fe,...ye}=Y;ce.push(Co(Ce,ye))}let be=null;f&&(console.log("Préparation de l'ajout d'un nouvel utilisateur:",f),!f.email||!f.nom?(console.warn("Champs obligatoires manquants pour le nouvel utilisateur"),p(null)):(f.role==="Administrateur"&&(console.warn("Tentative non autorisée d'attribution du rôle Administrateur à un nouvel utilisateur"),f.role="Utilisateur",alert('Le rôle "Administrateur" ne peut pas être attribué via cette interface. Le nouvel utilisateur sera créé avec le rôle "Utilisateur".')),be=(async()=>{try{const ee={identifiant:f.identifiant||"",email:f.email||"",nom:f.nom||"",role:f.role||"Utilisateur",pole:f.pole||"",statut:f.statut||"Actif",permissions:f.permissions||[]},Y=await pqe(ee);if(Y.success)return console.log(`Nouvel utilisateur ajouté avec l'ID: ${Y.docId}`),Y.docId;throw Y.error||new Error("La création de l'utilisateur a échoué")}catch(ee){throw console.error("Erreur lors de l'ajout du nouvel utilisateur:",ee),ee}})()));const K=await Promise.allSettled(ce),oe=be?await Promise.allSettled([be]):[],V=[...K,...oe],ie=V.filter(ee=>ee.status==="fulfilled").length,re=V.filter(ee=>ee.status==="rejected").length;console.log(`Opérations terminées: ${ie} réussies, ${re} échouées`),re>0&&console.warn("Certaines opérations ont échoué. Voir les erreurs ci-dessus."),await M(),d({}),p(null),c(!1),y([]),re>0?alert(`Modifications partiellement enregistrées. ${re} opérations ont échoué.`):alert(`Modifications enregistrées avec succès. ${Object.keys(u).length} utilisateur(s) mis à jour.`)}catch(ce){throw console.error("Erreur lors de la sauvegarde:",ce),a("Erreur lors de la sauvegarde"),alert("Erreur lors de la sauvegarde des modifications. Veuillez réessayer."),ce}finally{o(!1)}};console.log("🌍 Environnement actuel:",{nodeEnv:"production",isDevelopment:!1});const se=()=>{l||c(!0),p({id:`temp-${Date.now()}`,nom:"",email:"",role:n.length>0?n[0].name:"Utilisateur",pole:"",statut:"Actif",identifiant:"",permissions:[]}),w(ce=>ce+1),setTimeout(()=>{const ce=document.querySelector(".user-management-table .new-user-row input");ce&&ce.focus()},100)},ge=()=>{window.confirm("Êtes-vous sûr de vouloir annuler toutes les modifications ?")&&(d({}),p(null),y([]),c(!1))},le=ce=>{if(!ce)return"-";const be=$.find(K=>K.id===ce);return be?be.nom:ce},we=ce=>{R(ce)};return i?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement des utilisateurs..."})]}):g.jsx(Ss,{userRole:(N==null?void 0:N.role)||"",allowedRoles:["admin","manager"],requiredPermissions:["users.view"],pageName:ti.USER_MANAGEMENT,roles:n,children:g.jsxs("div",{children:[g.jsx("div",{className:"section-header",children:g.jsx("h2",{className:"section-title",children:"Gestion des utilisateurs"})}),g.jsxs("div",{className:"sticky-header-container",children:[g.jsx("div",{className:"header-actions",children:l?g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"button button-save",onClick:J,disabled:i||v.length===0&&!f,style:{backgroundColor:"#4CAF50",color:"white",fontWeight:"bold"},title:"Enregistrer les modifications",children:[g.jsx("i",{className:"fas fa-save"})," Enr. ",v.length>0||f?`(${v.length}${f?"+1":""})`:""]}),g.jsxs("button",{className:"button button-secondary",onClick:ge,style:{marginLeft:"5px"},disabled:i,title:"Annuler les modifications",children:[g.jsx("i",{className:"fas fa-times"})," Annuler"]}),g.jsxs("button",{className:"button",onClick:se,style:{marginLeft:"5px",backgroundColor:"#FF9800",color:"white",fontWeight:"bold"},disabled:i,title:"Ajouter un nouvel utilisateur",children:[g.jsx("i",{className:"fas fa-plus"})," Ajouter"]}),g.jsxs("button",{className:"button button-danger",onClick:te,disabled:v.length===0||i,style:{marginLeft:"5px",backgroundColor:"#f44336",color:"white",fontWeight:"bold"},title:"Supprimer les utilisateurs sélectionnés",children:[g.jsx("i",{className:"fas fa-trash-alt"})," Sup. (",v.length,")"]})]}):g.jsxs("button",{className:"button",onClick:j,children:[g.jsx("i",{className:"fas fa-edit"})," Modifier"]})}),g.jsxs("div",{className:"quick-search-container",style:{marginTop:"10px"},children:[g.jsx("input",{type:"text",className:"quick-search-input",placeholder:"Recherche rapide...",value:E,onChange:ce=>T(ce.target.value),disabled:i}),g.jsx("div",{className:"pole-filter",children:g.jsx(I2,{onPoleChange:we,selectedPole:P,label:"Filtrer par pôle",className:"pole-filter-component"})})]})]}),g.jsxs("div",{className:"users-table-container",children:[g.jsx("div",{className:"results-info",children:g.jsxs("p",{children:[I.length," résultat(s) trouvé(s)",E?` pour la recherche "${E}"`:""]})}),g.jsxs("table",{className:`data-table user-management-table ${l?"editing":""}`,style:{fontSize:"0.8rem"},children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{style:{width:"50px"},children:l?"Sélection":""}),g.jsx("th",{children:"Nom"}),g.jsx("th",{children:"Email"}),g.jsx("th",{children:"UID"}),g.jsx("th",{children:"Rôle"}),g.jsx("th",{children:"Pôle"}),g.jsx("th",{children:"Statut"}),g.jsx("th",{children:"Actions"})]})}),g.jsxs("tbody",{children:[l&&f&&g.jsxs("tr",{className:"new-user-row",children:[g.jsx("td",{style:{display:"none"}}),g.jsx("td",{children:g.jsx("input",{type:"text",value:f.nom||"",onChange:ce=>q("nom",ce.target.value),className:"inline-edit-input",placeholder:"Nom"})}),g.jsx("td",{children:g.jsx("input",{type:"email",value:f.email||"",onChange:ce=>q("email",ce.target.value),className:"inline-edit-input",placeholder:"Email"})}),g.jsx("td",{children:g.jsx("input",{type:"text",value:f.identifiant||"",onChange:ce=>q("identifiant",ce.target.value),className:"inline-edit-input",placeholder:"Identifiant"})}),g.jsx("td",{children:g.jsxs("select",{value:f.role||"",onChange:ce=>q("role",ce.target.value),className:"inline-edit-select",title:"Rôle de l'utilisateur",children:[g.jsx("option",{value:"",children:"Sélectionner un rôle"}),n.filter(ce=>ce.name!=="Administrateur").map(ce=>g.jsx("option",{value:ce.name,children:ce.name},ce.id))]})}),g.jsx("td",{children:g.jsx(tp,{value:f.pole||"",onChange:ce=>q("pole",ce),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle de l'utilisateur"})}),g.jsx("td",{children:g.jsxs("select",{value:f.statut||"Actif",onChange:ce=>q("statut",ce.target.value),className:"inline-edit-select",title:"Statut de l'utilisateur",children:[g.jsx("option",{value:"Actif",children:"Actif"}),g.jsx("option",{value:"Inactif",children:"Inactif"})]})}),g.jsx("td",{})]},f.id),I.map(ce=>{var be,K,oe,V,ie;return g.jsxs("tr",{className:v.includes(ce.id)?"selected-row":"",children:[l&&g.jsx("td",{children:g.jsx("input",{type:"checkbox",checked:v.includes(ce.id),onChange:()=>ue(ce.id),title:"Sélectionner cet utilisateur","aria-label":"Sélectionner cet utilisateur"})}),g.jsx("td",{children:l?g.jsx("input",{type:"text",value:((be=u[ce.id])==null?void 0:be.nom)||ce.nom,onChange:re=>G(ce.id,"nom",re.target.value),className:"inline-edit-input",title:"Nom de l'utilisateur","aria-label":"Modifier le nom de l'utilisateur",placeholder:"Nom"}):ce.nom}),g.jsx("td",{children:l?g.jsx("input",{type:"email",value:((K=u[ce.id])==null?void 0:K.email)||ce.email,onChange:re=>G(ce.id,"email",re.target.value),className:"inline-edit-input",title:"Email de l'utilisateur","aria-label":"Modifier l'email de l'utilisateur",placeholder:"Email"}):ce.email}),g.jsx("td",{children:l?g.jsx("span",{className:"uid-display",children:ce.email==="mickael.volle@inovie.fr"?"admin-mickael-volle":ce.identifiant==="admin"?"admin-system":ce.uid||ce.identifiant||"Non disponible"}):g.jsx("span",{className:"uid-display",children:ce.email==="mickael.volle@inovie.fr"?"admin-mickael-volle":ce.identifiant==="admin"?"admin-system":ce.uid||ce.identifiant||"Non disponible"})}),g.jsx("td",{children:l?g.jsx("select",{value:((oe=u[ce.id])==null?void 0:oe.role)||ce.role,onChange:re=>G(ce.id,"role",re.target.value),className:"inline-edit-select",title:"Rôle de l'utilisateur","aria-label":"Modifier le rôle de l'utilisateur",disabled:ce.email==="mickael.volle@inovie.fr",children:n.filter(re=>re.name==="Administrateur"?ce.role==="Administrateur":!0).map(re=>g.jsx("option",{value:re.name,children:re.name},re.id))}):g.jsxs("div",{className:"role-display",children:[g.jsx("span",{className:"role-name",children:ce.role}),g.jsx("span",{className:"role-description",children:(V=n.find(re=>re.name===ce.role))==null?void 0:V.description})]})}),g.jsx("td",{children:l?g.jsx(tp,{value:((ie=u[ce.id])==null?void 0:ie.pole)||ce.pole||"",onChange:re=>G(ce.id,"pole",re),placeholder:"Sélectionner un pôle",style:{width:"100%"},showSearch:!0,allowClear:!0,title:"Pôle de l'utilisateur"}):le(ce.pole)}),g.jsx("td",{children:u[ce.id]&&l?g.jsxs("select",{value:u[ce.id].statut||"",onChange:re=>G(ce.id,"statut",re.target.value),className:"inline-edit-select",title:"Statut de l'utilisateur","aria-label":"Modifier le statut de l'utilisateur",children:[g.jsx("option",{value:"Actif",children:"Actif"}),g.jsx("option",{value:"Inactif",children:"Inactif"})]}):g.jsx("span",{className:X(ce.statut),children:ce.statut||"Non défini"})}),g.jsx("td",{children:l&&g.jsxs("button",{className:"reset-password-button",onClick:()=>z(ce.email),title:"Réinitialiser le mot de passe de l'utilisateur",children:[g.jsx("i",{className:"fas fa-key"})," Réinitialiser mot de passe"]})})]},ce.id)})]})]})]})]})})};function Uo(t){const[e,n]=t.split(" "),[r,i,o]=e.split("-").map(Number),[s,a]=n.split(":").map(Number),l=new Date(r,i-1,o,s,a);return qn.fromDate(l)}const vqe=[{siteDépart:"Laboratoire Bonnefoy",dhDépart:Uo("2023-02-24 07:25"),idColis:"30072001529",statut:"Livré",siteFin:"Clinique SUB",dhLivraison:Uo("2023-02-24 08:40"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Clinique Saint-Jean",dhDépart:Uo("2023-02-24 07:15"),idColis:"15000434563",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Uo("2023-02-24 08:10"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Centre Médical Rangueil",dhDépart:Uo("2023-02-24 07:05"),idColis:"15000199845",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Uo("2023-02-24 07:55"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Laboratoire Lénisole",dhDépart:Uo("2023-02-24 07:44"),idColis:"ASG001570930",statut:"Livré",siteFin:"Clinique La Jayre",dhLivraison:Uo("2023-02-24 08:15"),coursierCharg:"guillaume.sage@novus.fr",coursierLivraison:"guillaume.sage@novus.fr",véhicule:"GI-456-AD"},{siteDépart:"Hôpital Fontroide",dhDépart:Uo("2023-02-24 07:47"),idColis:"ASG001524765",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Uo("2023-02-24 08:35"),coursierCharg:"sebastien.lherlier@novus.fr",coursierLivraison:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Clinique STER",dhDépart:Uo("2023-02-24 08:03"),idColis:"ASG001570783",statut:"En cours",coursierCharg:"sebastien.lherlier@novus.fr",véhicule:"GE-695-RT"},{siteDépart:"Centre Beau Soleil",dhDépart:Uo("2023-02-24 08:16"),idColis:"MB0004040047",statut:"En cours",coursierCharg:"michel.roude@novus.fr",véhicule:"GL-789-BA"},{siteDépart:"Laboratoire Purpan",dhDépart:Uo("2023-02-24 08:25"),idColis:"ASG001578924",statut:"En cours",coursierCharg:"guillaume.sage@novus.fr",véhicule:"GI-456-AD"},{siteDépart:"Clinique Pasteur",dhDépart:Uo("2023-02-24 07:10"),idColis:"30072001587",statut:"Livré",siteFin:"Laboratoire Central",dhLivraison:Uo("2023-02-24 07:55"),coursierCharg:"jean.dupont@novus.fr",coursierLivraison:"jean.dupont@novus.fr",véhicule:"GB-123-AZ"},{siteDépart:"Cabinet Médical Basso",dhDépart:Uo("2023-02-24 08:30"),idColis:"MB0004042187",statut:"En cours",coursierCharg:"michel.roude@novus.fr",véhicule:"GL-789-BA"}];async function yqe(t=!0){try{const e=nn(dt,"passages"),n=await yn(e);if(!n.empty&&t){console.log(`Suppression des ${n.size} documents existants...`);const i=n.docs.map(o=>eo(o.ref));await Promise.all(i),console.log("Tous les documents ont été supprimés avec succès.")}else if(!n.empty)return console.log(`La collection passages contient déjà ${n.size} documents. Aucune initialisation nécessaire.`),!1;let r=0;for(const i of vqe)await ia(e,i),r++;return console.log(`Initialisation réussie ! ${r} passages ont été ajoutés à la collection.`),!0}catch(e){throw console.error("Erreur détaillée lors de l'initialisation de la collection passages:",e),e}}const bqe=()=>{const[t,e]=h.useState(!1),[n,r]=h.useState(null),[i,o]=h.useState(!0),s=async()=>{e(!0),r(null);try{const a=await yqe(i);r(a?{success:!0,message:"La collection passages a été initialisée avec succès !"}:{success:!1,message:`La collection passages contient déjà des données et l'option "Forcer l'initialisation" est désactivée.`})}catch(a){console.error("Erreur lors de l'initialisation:",a),r({success:!1,message:`Erreur lors de l'initialisation: ${a instanceof Error?a.message:"Erreur inconnue"}`})}finally{e(!1)}};return g.jsxs("div",{style:{maxWidth:"800px",margin:"20px auto",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"8px"},children:[g.jsx("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"Initialisation de la Collection Passages"}),g.jsx("p",{style:{marginBottom:"20px"},children:'Cliquez sur le bouton ci-dessous pour initialiser la collection "passages" dans Firebase avec des données fictives.'}),g.jsxs("div",{style:{marginBottom:"20px"},children:[g.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[g.jsx("input",{type:"checkbox",checked:i,onChange:a=>o(a.target.checked),style:{marginRight:"10px"}}),"Forcer l'initialisation (supprime les données existantes)"]}),g.jsx("p",{style:{fontSize:"14px",color:"#666",marginTop:"5px",marginLeft:"25px"},children:"Si cette option est activée, les données existantes seront supprimées avant d'ajouter les nouvelles."})]}),g.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:g.jsx("button",{onClick:s,disabled:t,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:t?"not-allowed":"pointer",fontSize:"16px"},children:t?"Initialisation en cours...":"Initialiser la Collection Passages"})}),n&&g.jsx("div",{style:{padding:"15px",backgroundColor:n.success?"#dff0d8":"#f2dede",color:n.success?"#3c763d":"#a94442",borderRadius:"4px",marginTop:"20px"},children:n.message})]})};function rne(t,e){const n=h.useRef(e);h.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const xqe=1;function _qe(t){return Object.freeze({__version:xqe,map:t})}function wqe(t,e){return Object.freeze({...t,...e})}const ine=h.createContext(null),one=ine.Provider;function pj(){const t=h.useContext(ine);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Cqe(t){function e(n,r){const{instance:i,context:o}=t(n).current;return h.useImperativeHandle(r,()=>i),n.children==null?null:ae.createElement(one,{value:o},n.children)}return h.forwardRef(e)}function Sqe(t){function e(n,r){const[i,o]=h.useState(!1),{instance:s}=t(n,o).current;h.useImperativeHandle(r,()=>s),h.useEffect(function(){i&&s.update()},[s,i,n.children]);const a=s._contentNode;return a?js.createPortal(n.children,a):null}return h.forwardRef(e)}function Eqe(t){function e(n,r){const{instance:i}=t(n).current;return h.useImperativeHandle(r,()=>i),null}return h.forwardRef(e)}function sne(t,e){const n=h.useRef();h.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function mj(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Iqe(t,e){return function(r,i){const o=pj(),s=t(mj(r,o),o);return rne(o.map,r.attribution),sne(s.current,r.eventHandlers),e(s.current,o,r,i),s}}var OD={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(Tm,function(n){var r="1.9.4";function i(m){var C,D,H,Z;for(D=1,H=arguments.length;D<H;D++){Z=arguments[D];for(C in Z)m[C]=Z[C]}return m}var o=Object.create||function(){function m(){}return function(C){return m.prototype=C,new m}}();function s(m,C){var D=Array.prototype.slice;if(m.bind)return m.bind.apply(m,D.call(arguments,1));var H=D.call(arguments,2);return function(){return m.apply(C,H.length?H.concat(D.call(arguments)):arguments)}}var a=0;function l(m){return"_leaflet_id"in m||(m._leaflet_id=++a),m._leaflet_id}function c(m,C,D){var H,Z,pe,Me;return Me=function(){H=!1,Z&&(pe.apply(D,Z),Z=!1)},pe=function(){H?Z=arguments:(m.apply(D,arguments),setTimeout(Me,C),H=!0)},pe}function u(m,C,D){var H=C[1],Z=C[0],pe=H-Z;return m===H&&D?m:((m-Z)%pe+pe)%pe+Z}function d(){return!1}function f(m,C){if(C===!1)return m;var D=Math.pow(10,C===void 0?6:C);return Math.round(m*D)/D}function p(m){return m.trim?m.trim():m.replace(/^\s+|\s+$/g,"")}function v(m){return p(m).split(/\s+/)}function y(m,C){Object.prototype.hasOwnProperty.call(m,"options")||(m.options=m.options?o(m.options):{});for(var D in C)m.options[D]=C[D];return m.options}function b(m,C,D){var H=[];for(var Z in m)H.push(encodeURIComponent(D?Z.toUpperCase():Z)+"="+encodeURIComponent(m[Z]));return(!C||C.indexOf("?")===-1?"?":"&")+H.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function _(m,C){return m.replace(x,function(D,H){var Z=C[H];if(Z===void 0)throw new Error("No value provided for variable "+D);return typeof Z=="function"&&(Z=Z(C)),Z})}var w=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function E(m,C){for(var D=0;D<m.length;D++)if(m[D]===C)return D;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(m){return window["webkit"+m]||window["moz"+m]||window["ms"+m]}var S=0;function P(m){var C=+new Date,D=Math.max(0,16-(C-S));return S=C+D,window.setTimeout(m,D)}var R=window.requestAnimationFrame||I("RequestAnimationFrame")||P,O=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(m){window.clearTimeout(m)};function N(m,C,D){if(D&&R===P)m.call(C);else return R.call(window,s(m,C))}function A(m){m&&O.call(window,m)}var $={__proto__:null,extend:i,create:o,bind:s,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:d,formatNum:f,trim:p,splitWords:v,setOptions:y,getParamString:b,template:_,isArray:w,indexOf:E,emptyImageUrl:T,requestFn:R,cancelFn:O,requestAnimFrame:N,cancelAnimFrame:A};function M(){}M.extend=function(m){var C=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},D=C.__super__=this.prototype,H=o(D);H.constructor=C,C.prototype=H;for(var Z in this)Object.prototype.hasOwnProperty.call(this,Z)&&Z!=="prototype"&&Z!=="__super__"&&(C[Z]=this[Z]);return m.statics&&i(C,m.statics),m.includes&&(F(m.includes),i.apply(null,[H].concat(m.includes))),i(H,m),delete H.statics,delete H.includes,H.options&&(H.options=D.options?o(D.options):{},i(H.options,m.options)),H._initHooks=[],H.callInitHooks=function(){if(!this._initHooksCalled){D.callInitHooks&&D.callInitHooks.call(this),this._initHooksCalled=!0;for(var pe=0,Me=H._initHooks.length;pe<Me;pe++)H._initHooks[pe].call(this)}},C},M.include=function(m){var C=this.prototype.options;return i(this.prototype,m),m.options&&(this.prototype.options=C,this.mergeOptions(m.options)),this},M.mergeOptions=function(m){return i(this.prototype.options,m),this},M.addInitHook=function(m){var C=Array.prototype.slice.call(arguments,1),D=typeof m=="function"?m:function(){this[m].apply(this,C)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(D),this};function F(m){if(!(typeof L>"u"||!L||!L.Mixin)){m=w(m)?m:[m];for(var C=0;C<m.length;C++)m[C]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(m,C,D){if(typeof m=="object")for(var H in m)this._on(H,m[H],C);else{m=v(m);for(var Z=0,pe=m.length;Z<pe;Z++)this._on(m[Z],C,D)}return this},off:function(m,C,D){if(!arguments.length)delete this._events;else if(typeof m=="object")for(var H in m)this._off(H,m[H],C);else{m=v(m);for(var Z=arguments.length===1,pe=0,Me=m.length;pe<Me;pe++)Z?this._off(m[pe]):this._off(m[pe],C,D)}return this},_on:function(m,C,D,H){if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}if(this._listens(m,C,D)===!1){D===this&&(D=void 0);var Z={fn:C,ctx:D};H&&(Z.once=!0),this._events=this._events||{},this._events[m]=this._events[m]||[],this._events[m].push(Z)}},_off:function(m,C,D){var H,Z,pe;if(this._events&&(H=this._events[m],!!H)){if(arguments.length===1){if(this._firingCount)for(Z=0,pe=H.length;Z<pe;Z++)H[Z].fn=d;delete this._events[m];return}if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}var Me=this._listens(m,C,D);if(Me!==!1){var We=H[Me];this._firingCount&&(We.fn=d,this._events[m]=H=H.slice()),H.splice(Me,1)}}},fire:function(m,C,D){if(!this.listens(m,D))return this;var H=i({},C,{type:m,target:this,sourceTarget:C&&C.sourceTarget||this});if(this._events){var Z=this._events[m];if(Z){this._firingCount=this._firingCount+1||1;for(var pe=0,Me=Z.length;pe<Me;pe++){var We=Z[pe],Je=We.fn;We.once&&this.off(m,Je,We.ctx),Je.call(We.ctx||this,H)}this._firingCount--}}return D&&this._propagateEvent(H),this},listens:function(m,C,D,H){typeof m!="string"&&console.warn('"string" type argument expected');var Z=C;typeof C!="function"&&(H=!!C,Z=void 0,D=void 0);var pe=this._events&&this._events[m];if(pe&&pe.length&&this._listens(m,Z,D)!==!1)return!0;if(H){for(var Me in this._eventParents)if(this._eventParents[Me].listens(m,C,D,H))return!0}return!1},_listens:function(m,C,D){if(!this._events)return!1;var H=this._events[m]||[];if(!C)return!!H.length;D===this&&(D=void 0);for(var Z=0,pe=H.length;Z<pe;Z++)if(H[Z].fn===C&&H[Z].ctx===D)return Z;return!1},once:function(m,C,D){if(typeof m=="object")for(var H in m)this._on(H,m[H],C,!0);else{m=v(m);for(var Z=0,pe=m.length;Z<pe;Z++)this._on(m[Z],C,D,!0)}return this},addEventParent:function(m){return this._eventParents=this._eventParents||{},this._eventParents[l(m)]=m,this},removeEventParent:function(m){return this._eventParents&&delete this._eventParents[l(m)],this},_propagateEvent:function(m){for(var C in this._eventParents)this._eventParents[C].fire(m.type,i({layer:m.target,propagatedFrom:m.target},m),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var j=M.extend(z);function B(m,C,D){this.x=D?Math.round(m):m,this.y=D?Math.round(C):C}var W=Math.trunc||function(m){return m>0?Math.floor(m):Math.ceil(m)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(m){return this.clone()._add(q(m))},_add:function(m){return this.x+=m.x,this.y+=m.y,this},subtract:function(m){return this.clone()._subtract(q(m))},_subtract:function(m){return this.x-=m.x,this.y-=m.y,this},divideBy:function(m){return this.clone()._divideBy(m)},_divideBy:function(m){return this.x/=m,this.y/=m,this},multiplyBy:function(m){return this.clone()._multiplyBy(m)},_multiplyBy:function(m){return this.x*=m,this.y*=m,this},scaleBy:function(m){return new B(this.x*m.x,this.y*m.y)},unscaleBy:function(m){return new B(this.x/m.x,this.y/m.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(m){m=q(m);var C=m.x-this.x,D=m.y-this.y;return Math.sqrt(C*C+D*D)},equals:function(m){return m=q(m),m.x===this.x&&m.y===this.y},contains:function(m){return m=q(m),Math.abs(m.x)<=Math.abs(this.x)&&Math.abs(m.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function q(m,C,D){return m instanceof B?m:w(m)?new B(m[0],m[1]):m==null?m:typeof m=="object"&&"x"in m&&"y"in m?new B(m.x,m.y):new B(m,C,D)}function G(m,C){if(m)for(var D=C?[m,C]:m,H=0,Z=D.length;H<Z;H++)this.extend(D[H])}G.prototype={extend:function(m){var C,D;if(!m)return this;if(m instanceof B||typeof m[0]=="number"||"x"in m)C=D=q(m);else if(m=X(m),C=m.min,D=m.max,!C||!D)return this;return!this.min&&!this.max?(this.min=C.clone(),this.max=D.clone()):(this.min.x=Math.min(C.x,this.min.x),this.max.x=Math.max(D.x,this.max.x),this.min.y=Math.min(C.y,this.min.y),this.max.y=Math.max(D.y,this.max.y)),this},getCenter:function(m){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,m)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(m){var C,D;return typeof m[0]=="number"||m instanceof B?m=q(m):m=X(m),m instanceof G?(C=m.min,D=m.max):C=D=m,C.x>=this.min.x&&D.x<=this.max.x&&C.y>=this.min.y&&D.y<=this.max.y},intersects:function(m){m=X(m);var C=this.min,D=this.max,H=m.min,Z=m.max,pe=Z.x>=C.x&&H.x<=D.x,Me=Z.y>=C.y&&H.y<=D.y;return pe&&Me},overlaps:function(m){m=X(m);var C=this.min,D=this.max,H=m.min,Z=m.max,pe=Z.x>C.x&&H.x<D.x,Me=Z.y>C.y&&H.y<D.y;return pe&&Me},isValid:function(){return!!(this.min&&this.max)},pad:function(m){var C=this.min,D=this.max,H=Math.abs(C.x-D.x)*m,Z=Math.abs(C.y-D.y)*m;return X(q(C.x-H,C.y-Z),q(D.x+H,D.y+Z))},equals:function(m){return m?(m=X(m),this.min.equals(m.getTopLeft())&&this.max.equals(m.getBottomRight())):!1}};function X(m,C){return!m||m instanceof G?m:new G(m,C)}function ue(m,C){if(m)for(var D=C?[m,C]:m,H=0,Z=D.length;H<Z;H++)this.extend(D[H])}ue.prototype={extend:function(m){var C=this._southWest,D=this._northEast,H,Z;if(m instanceof J)H=m,Z=m;else if(m instanceof ue){if(H=m._southWest,Z=m._northEast,!H||!Z)return this}else return m?this.extend(se(m)||te(m)):this;return!C&&!D?(this._southWest=new J(H.lat,H.lng),this._northEast=new J(Z.lat,Z.lng)):(C.lat=Math.min(H.lat,C.lat),C.lng=Math.min(H.lng,C.lng),D.lat=Math.max(Z.lat,D.lat),D.lng=Math.max(Z.lng,D.lng)),this},pad:function(m){var C=this._southWest,D=this._northEast,H=Math.abs(C.lat-D.lat)*m,Z=Math.abs(C.lng-D.lng)*m;return new ue(new J(C.lat-H,C.lng-Z),new J(D.lat+H,D.lng+Z))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(m){typeof m[0]=="number"||m instanceof J||"lat"in m?m=se(m):m=te(m);var C=this._southWest,D=this._northEast,H,Z;return m instanceof ue?(H=m.getSouthWest(),Z=m.getNorthEast()):H=Z=m,H.lat>=C.lat&&Z.lat<=D.lat&&H.lng>=C.lng&&Z.lng<=D.lng},intersects:function(m){m=te(m);var C=this._southWest,D=this._northEast,H=m.getSouthWest(),Z=m.getNorthEast(),pe=Z.lat>=C.lat&&H.lat<=D.lat,Me=Z.lng>=C.lng&&H.lng<=D.lng;return pe&&Me},overlaps:function(m){m=te(m);var C=this._southWest,D=this._northEast,H=m.getSouthWest(),Z=m.getNorthEast(),pe=Z.lat>C.lat&&H.lat<D.lat,Me=Z.lng>C.lng&&H.lng<D.lng;return pe&&Me},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(m,C){return m?(m=te(m),this._southWest.equals(m.getSouthWest(),C)&&this._northEast.equals(m.getNorthEast(),C)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(m,C){return m instanceof ue?m:new ue(m,C)}function J(m,C,D){if(isNaN(m)||isNaN(C))throw new Error("Invalid LatLng object: ("+m+", "+C+")");this.lat=+m,this.lng=+C,D!==void 0&&(this.alt=+D)}J.prototype={equals:function(m,C){if(!m)return!1;m=se(m);var D=Math.max(Math.abs(this.lat-m.lat),Math.abs(this.lng-m.lng));return D<=(C===void 0?1e-9:C)},toString:function(m){return"LatLng("+f(this.lat,m)+", "+f(this.lng,m)+")"},distanceTo:function(m){return le.distance(this,se(m))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(m){var C=180*m/40075017,D=C/Math.cos(Math.PI/180*this.lat);return te([this.lat-C,this.lng-D],[this.lat+C,this.lng+D])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function se(m,C,D){return m instanceof J?m:w(m)&&typeof m[0]!="object"?m.length===3?new J(m[0],m[1],m[2]):m.length===2?new J(m[0],m[1]):null:m==null?m:typeof m=="object"&&"lat"in m?new J(m.lat,"lng"in m?m.lng:m.lon,m.alt):C===void 0?null:new J(m,C,D)}var ge={latLngToPoint:function(m,C){var D=this.projection.project(m),H=this.scale(C);return this.transformation._transform(D,H)},pointToLatLng:function(m,C){var D=this.scale(C),H=this.transformation.untransform(m,D);return this.projection.unproject(H)},project:function(m){return this.projection.project(m)},unproject:function(m){return this.projection.unproject(m)},scale:function(m){return 256*Math.pow(2,m)},zoom:function(m){return Math.log(m/256)/Math.LN2},getProjectedBounds:function(m){if(this.infinite)return null;var C=this.projection.bounds,D=this.scale(m),H=this.transformation.transform(C.min,D),Z=this.transformation.transform(C.max,D);return new G(H,Z)},infinite:!1,wrapLatLng:function(m){var C=this.wrapLng?u(m.lng,this.wrapLng,!0):m.lng,D=this.wrapLat?u(m.lat,this.wrapLat,!0):m.lat,H=m.alt;return new J(D,C,H)},wrapLatLngBounds:function(m){var C=m.getCenter(),D=this.wrapLatLng(C),H=C.lat-D.lat,Z=C.lng-D.lng;if(H===0&&Z===0)return m;var pe=m.getSouthWest(),Me=m.getNorthEast(),We=new J(pe.lat-H,pe.lng-Z),Je=new J(Me.lat-H,Me.lng-Z);return new ue(We,Je)}},le=i({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(m,C){var D=Math.PI/180,H=m.lat*D,Z=C.lat*D,pe=Math.sin((C.lat-m.lat)*D/2),Me=Math.sin((C.lng-m.lng)*D/2),We=pe*pe+Math.cos(H)*Math.cos(Z)*Me*Me,Je=2*Math.atan2(Math.sqrt(We),Math.sqrt(1-We));return this.R*Je}}),we=6378137,ce={R:we,MAX_LATITUDE:85.0511287798,project:function(m){var C=Math.PI/180,D=this.MAX_LATITUDE,H=Math.max(Math.min(D,m.lat),-D),Z=Math.sin(H*C);return new B(this.R*m.lng*C,this.R*Math.log((1+Z)/(1-Z))/2)},unproject:function(m){var C=180/Math.PI;return new J((2*Math.atan(Math.exp(m.y/this.R))-Math.PI/2)*C,m.x*C/this.R)},bounds:function(){var m=we*Math.PI;return new G([-m,-m],[m,m])}()};function be(m,C,D,H){if(w(m)){this._a=m[0],this._b=m[1],this._c=m[2],this._d=m[3];return}this._a=m,this._b=C,this._c=D,this._d=H}be.prototype={transform:function(m,C){return this._transform(m.clone(),C)},_transform:function(m,C){return C=C||1,m.x=C*(this._a*m.x+this._b),m.y=C*(this._c*m.y+this._d),m},untransform:function(m,C){return C=C||1,new B((m.x/C-this._b)/this._a,(m.y/C-this._d)/this._c)}};function K(m,C,D,H){return new be(m,C,D,H)}var oe=i({},le,{code:"EPSG:3857",projection:ce,transformation:function(){var m=.5/(Math.PI*ce.R);return K(m,.5,-m,.5)}()}),V=i({},oe,{code:"EPSG:900913"});function ie(m){return document.createElementNS("http://www.w3.org/2000/svg",m)}function re(m,C){var D="",H,Z,pe,Me,We,Je;for(H=0,pe=m.length;H<pe;H++){for(We=m[H],Z=0,Me=We.length;Z<Me;Z++)Je=We[Z],D+=(Z?"L":"M")+Je.x+" "+Je.y;D+=C?Le.svg?"z":"x":""}return D||"M0 0"}var ee=document.documentElement.style,Y="ActiveXObject"in window,he=Y&&!document.addEventListener,Ce="msLaunchUri"in navigator&&!("documentMode"in document),me=Be("webkit"),fe=Be("android"),ye=Be("android 2")||Be("android 3"),Te=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ke=fe&&Be("Google")&&Te<537&&!("AudioNode"in window),je=!!window.opera,de=!Ce&&Be("chrome"),Se=Be("gecko")&&!me&&!je&&!Y,Re=!de&&Be("safari"),Ve=Be("phantom"),De="OTransition"in ee,ze=navigator.platform.indexOf("Win")===0,$e=Y&&"transition"in ee,Ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ye,Ae="MozPerspective"in ee,Ue=!window.L_DISABLE_3D&&($e||Ke||Ae)&&!De&&!Ve,rt=typeof orientation<"u"||Be("mobile"),mt=rt&&me,ot=rt&&Ke,Bt=!window.PointerEvent&&window.MSPointerEvent,Xt=!!(window.PointerEvent||Bt),Lt="ontouchstart"in window||!!window.TouchEvent,en=!window.L_NO_TOUCH&&(Lt||Xt),on=rt&&je,xn=rt&&Se,qt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=function(){var m=!1;try{var C=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassiveEventSupport",d,C),window.removeEventListener("testPassiveEventSupport",d,C)}catch{}return m}(),gt=function(){return!!document.createElement("canvas").getContext}(),lt=!!(document.createElementNS&&ie("svg").createSVGRect),kt=!!lt&&function(){var m=document.createElement("div");return m.innerHTML="<svg/>",(m.firstChild&&m.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ie=!lt&&function(){try{var m=document.createElement("div");m.innerHTML='<v:shape adj="1"/>';var C=m.firstChild;return C.style.behavior="url(#default#VML)",C&&typeof C.adj=="object"}catch{return!1}}(),Ee=navigator.platform.indexOf("Mac")===0,Pe=navigator.platform.indexOf("Linux")===0;function Be(m){return navigator.userAgent.toLowerCase().indexOf(m)>=0}var Le={ie:Y,ielt9:he,edge:Ce,webkit:me,android:fe,android23:ye,androidStock:ke,opera:je,chrome:de,gecko:Se,safari:Re,phantom:Ve,opera12:De,win:ze,ie3d:$e,webkit3d:Ke,gecko3d:Ae,any3d:Ue,mobile:rt,mobileWebkit:mt,mobileWebkit3d:ot,msPointer:Bt,pointer:Xt,touch:en,touchNative:Lt,mobileOpera:on,mobileGecko:xn,retina:qt,passiveEvents:St,canvas:gt,svg:lt,vml:Ie,inlineSvg:kt,mac:Ee,linux:Pe},Qe=Le.msPointer?"MSPointerDown":"pointerdown",at=Le.msPointer?"MSPointerMove":"pointermove",Ze=Le.msPointer?"MSPointerUp":"pointerup",Xe=Le.msPointer?"MSPointerCancel":"pointercancel",et={touchstart:Qe,touchmove:at,touchend:Ze,touchcancel:Xe},st={touchstart:Zt,touchmove:Nt,touchend:Nt,touchcancel:Nt},bt={},Tt=!1;function tn(m,C,D){return C==="touchstart"&&Pt(),st[C]?(D=st[C].bind(this,D),m.addEventListener(et[C],D,!1),D):(console.warn("wrong event specified:",C),d)}function Wt(m,C,D){if(!et[C]){console.warn("wrong event specified:",C);return}m.removeEventListener(et[C],D,!1)}function pt(m){bt[m.pointerId]=m}function Vt(m){bt[m.pointerId]&&(bt[m.pointerId]=m)}function ht(m){delete bt[m.pointerId]}function Pt(){Tt||(document.addEventListener(Qe,pt,!0),document.addEventListener(at,Vt,!0),document.addEventListener(Ze,ht,!0),document.addEventListener(Xe,ht,!0),Tt=!0)}function Nt(m,C){if(C.pointerType!==(C.MSPOINTER_TYPE_MOUSE||"mouse")){C.touches=[];for(var D in bt)C.touches.push(bt[D]);C.changedTouches=[C],m(C)}}function Zt(m,C){C.MSPOINTER_TYPE_TOUCH&&C.pointerType===C.MSPOINTER_TYPE_TOUCH&&Xr(C),Nt(m,C)}function Rn(m){var C={},D,H;for(H in m)D=m[H],C[H]=D&&D.bind?D.bind(m):D;return m=C,C.type="dblclick",C.detail=2,C.isTrusted=!1,C._simulated=!0,C}var rr=200;function $n(m,C){m.addEventListener("dblclick",C);var D=0,H;function Z(pe){if(pe.detail!==1){H=pe.detail;return}if(!(pe.pointerType==="mouse"||pe.sourceCapabilities&&!pe.sourceCapabilities.firesTouchEvents)){var Me=Kv(pe);if(!(Me.some(function(Je){return Je instanceof HTMLLabelElement&&Je.attributes.for})&&!Me.some(function(Je){return Je instanceof HTMLInputElement||Je instanceof HTMLSelectElement}))){var We=Date.now();We-D<=rr?(H++,H===2&&C(Rn(pe))):H=1,D=We}}}return m.addEventListener("click",Z),{dblclick:C,simDblclick:Z}}function Ir(m,C){m.removeEventListener("dblclick",C.dblclick),m.removeEventListener("click",C.simDblclick)}var Ot=An(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ct=An(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ft=Ct==="webkitTransition"||Ct==="OTransition"?Ct+"End":"transitionend";function jn(m){return typeof m=="string"?document.getElementById(m):m}function dr(m,C){var D=m.style[C]||m.currentStyle&&m.currentStyle[C];if((!D||D==="auto")&&document.defaultView){var H=document.defaultView.getComputedStyle(m,null);D=H?H[C]:null}return D==="auto"?null:D}function Ut(m,C,D){var H=document.createElement(m);return H.className=C||"",D&&D.appendChild(H),H}function wn(m){var C=m.parentNode;C&&C.removeChild(m)}function zr(m){for(;m.firstChild;)m.removeChild(m.firstChild)}function si(m){var C=m.parentNode;C&&C.lastChild!==m&&C.appendChild(m)}function Pi(m){var C=m.parentNode;C&&C.firstChild!==m&&C.insertBefore(m,C.firstChild)}function Jr(m,C){if(m.classList!==void 0)return m.classList.contains(C);var D=It(m);return D.length>0&&new RegExp("(^|\\s)"+C+"(\\s|$)").test(D)}function mn(m,C){if(m.classList!==void 0)for(var D=v(C),H=0,Z=D.length;H<Z;H++)m.classList.add(D[H]);else if(!Jr(m,C)){var pe=It(m);Dt(m,(pe?pe+" ":"")+C)}}function un(m,C){m.classList!==void 0?m.classList.remove(C):Dt(m,p((" "+It(m)+" ").replace(" "+C+" "," ")))}function Dt(m,C){m.className.baseVal===void 0?m.className=C:m.className.baseVal=C}function It(m){return m.correspondingElement&&(m=m.correspondingElement),m.className.baseVal===void 0?m.className:m.className.baseVal}function hn(m,C){"opacity"in m.style?m.style.opacity=C:"filter"in m.style&&Dn(m,C)}function Dn(m,C){var D=!1,H="DXImageTransform.Microsoft.Alpha";try{D=m.filters.item(H)}catch{if(C===1)return}C=Math.round(C*100),D?(D.Enabled=C!==100,D.Opacity=C):m.style.filter+=" progid:"+H+"(opacity="+C+")"}function An(m){for(var C=document.documentElement.style,D=0;D<m.length;D++)if(m[D]in C)return m[D];return!1}function Nn(m,C,D){var H=C||new B(0,0);m.style[Ot]=(Le.ie3d?"translate("+H.x+"px,"+H.y+"px)":"translate3d("+H.x+"px,"+H.y+"px,0)")+(D?" scale("+D+")":"")}function Gt(m,C){m._leaflet_pos=C,Le.any3d?Nn(m,C):(m.style.left=C.x+"px",m.style.top=C.y+"px")}function ar(m){return m._leaflet_pos||new B(0,0)}var vr,yr,vi;if("onselectstart"in document)vr=function(){_n(window,"selectstart",Xr)},yr=function(){hr(window,"selectstart",Xr)};else{var sn=An(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vr=function(){if(sn){var m=document.documentElement.style;vi=m[sn],m[sn]="none"}},yr=function(){sn&&(document.documentElement.style[sn]=vi,vi=void 0)}}function fn(){_n(window,"dragstart",Xr)}function Kr(){hr(window,"dragstart",Xr)}var Ri,Yr;function fr(m){for(;m.tabIndex===-1;)m=m.parentNode;m.style&&(Fr(),Ri=m,Yr=m.style.outlineStyle,m.style.outlineStyle="none",_n(window,"keydown",Fr))}function Fr(){Ri&&(Ri.style.outlineStyle=Yr,Ri=void 0,Yr=void 0,hr(window,"keydown",Fr))}function Gi(m){do m=m.parentNode;while((!m.offsetWidth||!m.offsetHeight)&&m!==document.body);return m}function Li(m){var C=m.getBoundingClientRect();return{x:C.width/m.offsetWidth||1,y:C.height/m.offsetHeight||1,boundingClientRect:C}}var ts={__proto__:null,TRANSFORM:Ot,TRANSITION:Ct,TRANSITION_END:Ft,get:jn,getStyle:dr,create:Ut,remove:wn,empty:zr,toFront:si,toBack:Pi,hasClass:Jr,addClass:mn,removeClass:un,setClass:Dt,getClass:It,setOpacity:hn,testProp:An,setTransform:Nn,setPosition:Gt,getPosition:ar,get disableTextSelection(){return vr},get enableTextSelection(){return yr},disableImageDrag:fn,enableImageDrag:Kr,preventOutline:fr,restoreOutline:Fr,getSizedParentNode:Gi,getScale:Li};function _n(m,C,D,H){if(C&&typeof C=="object")for(var Z in C)Cr(m,Z,C[Z],D);else{C=v(C);for(var pe=0,Me=C.length;pe<Me;pe++)Cr(m,C[pe],D,H)}return this}var Po="_leaflet_events";function hr(m,C,D,H){if(arguments.length===1)Kt(m),delete m[Po];else if(C&&typeof C=="object")for(var Z in C)qr(m,Z,C[Z],D);else if(C=v(C),arguments.length===2)Kt(m,function(We){return E(C,We)!==-1});else for(var pe=0,Me=C.length;pe<Me;pe++)qr(m,C[pe],D,H);return this}function Kt(m,C){for(var D in m[Po]){var H=D.split(/\d/)[0];(!C||C(H))&&qr(m,H,null,null,D)}}var an={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Cr(m,C,D,H){var Z=C+l(D)+(H?"_"+l(H):"");if(m[Po]&&m[Po][Z])return this;var pe=function(We){return D.call(H||m,We||window.event)},Me=pe;!Le.touchNative&&Le.pointer&&C.indexOf("touch")===0?pe=tn(m,C,pe):Le.touch&&C==="dblclick"?pe=$n(m,pe):"addEventListener"in m?C==="touchstart"||C==="touchmove"||C==="wheel"||C==="mousewheel"?m.addEventListener(an[C]||C,pe,Le.passiveEvents?{passive:!1}:!1):C==="mouseenter"||C==="mouseleave"?(pe=function(We){We=We||window.event,qv(m,We)&&Me(We)},m.addEventListener(an[C],pe,!1)):m.addEventListener(C,Me,!1):m.attachEvent("on"+C,pe),m[Po]=m[Po]||{},m[Po][Z]=pe}function qr(m,C,D,H,Z){Z=Z||C+l(D)+(H?"_"+l(H):"");var pe=m[Po]&&m[Po][Z];if(!pe)return this;!Le.touchNative&&Le.pointer&&C.indexOf("touch")===0?Wt(m,C,pe):Le.touch&&C==="dblclick"?Ir(m,pe):"removeEventListener"in m?m.removeEventListener(an[C]||C,pe,!1):m.detachEvent("on"+C,pe),m[Po][Z]=null}function Vn(m){return m.stopPropagation?m.stopPropagation():m.originalEvent?m.originalEvent._stopped=!0:m.cancelBubble=!0,this}function Vs(m){return Cr(m,"wheel",Vn),this}function pa(m){return _n(m,"mousedown touchstart dblclick contextmenu",Vn),m._leaflet_disable_click=!0,this}function Xr(m){return m.preventDefault?m.preventDefault():m.returnValue=!1,this}function vo(m){return Xr(m),Vn(m),this}function Kv(m){if(m.composedPath)return m.composedPath();for(var C=[],D=m.target;D;)C.push(D),D=D.parentNode;return C}function Tp(m,C){if(!C)return new B(m.clientX,m.clientY);var D=Li(C),H=D.boundingClientRect;return new B((m.clientX-H.left)/D.x-C.clientLeft,(m.clientY-H.top)/D.y-C.clientTop)}var ai=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function B_(m){return Le.edge?m.wheelDeltaY/2:m.deltaY&&m.deltaMode===0?-m.deltaY/ai:m.deltaY&&m.deltaMode===1?-m.deltaY*20:m.deltaY&&m.deltaMode===2?-m.deltaY*60:m.deltaX||m.deltaZ?0:m.wheelDelta?(m.wheelDeltaY||m.wheelDelta)/2:m.detail&&Math.abs(m.detail)<32765?-m.detail*20:m.detail?m.detail/-32765*60:0}function qv(m,C){var D=C.relatedTarget;if(!D)return!0;try{for(;D&&D!==m;)D=D.parentNode}catch{return!1}return D!==m}var V_={__proto__:null,on:_n,off:hr,stopPropagation:Vn,disableScrollPropagation:Vs,disableClickPropagation:pa,preventDefault:Xr,stop:vo,getPropagationPath:Kv,getMousePosition:Tp,getWheelDelta:B_,isExternalTarget:qv,addListener:_n,removeListener:hr},Gv=j.extend({run:function(m,C,D,H){this.stop(),this._el=m,this._inProgress=!0,this._duration=D||.25,this._easeOutPower=1/Math.max(H||.5,.2),this._startPos=ar(m),this._offset=C.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(m){var C=+new Date-this._startTime,D=this._duration*1e3;C<D?this._runFrame(this._easeOut(C/D),m):(this._runFrame(1),this._complete())},_runFrame:function(m,C){var D=this._startPos.add(this._offset.multiplyBy(m));C&&D._round(),Gt(this._el,D),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(m){return 1-Math.pow(1-m,this._easeOutPower)}}),Hn=j.extend({options:{crs:oe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(m,C){C=y(this,C),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(m),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),C.maxBounds&&this.setMaxBounds(C.maxBounds),C.zoom!==void 0&&(this._zoom=this._limitZoom(C.zoom)),C.center&&C.zoom!==void 0&&this.setView(se(C.center),C.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ct&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_n(this._proxy,Ft,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(m,C,D){if(C=C===void 0?this._zoom:this._limitZoom(C),m=this._limitCenter(se(m),C,this.options.maxBounds),D=D||{},this._stop(),this._loaded&&!D.reset&&D!==!0){D.animate!==void 0&&(D.zoom=i({animate:D.animate},D.zoom),D.pan=i({animate:D.animate,duration:D.duration},D.pan));var H=this._zoom!==C?this._tryAnimatedZoom&&this._tryAnimatedZoom(m,C,D.zoom):this._tryAnimatedPan(m,D.pan);if(H)return clearTimeout(this._sizeTimer),this}return this._resetView(m,C,D.pan&&D.pan.noMoveStart),this},setZoom:function(m,C){return this._loaded?this.setView(this.getCenter(),m,{zoom:C}):(this._zoom=m,this)},zoomIn:function(m,C){return m=m||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+m,C)},zoomOut:function(m,C){return m=m||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-m,C)},setZoomAround:function(m,C,D){var H=this.getZoomScale(C),Z=this.getSize().divideBy(2),pe=m instanceof B?m:this.latLngToContainerPoint(m),Me=pe.subtract(Z).multiplyBy(1-1/H),We=this.containerPointToLatLng(Z.add(Me));return this.setView(We,C,{zoom:D})},_getBoundsCenterZoom:function(m,C){C=C||{},m=m.getBounds?m.getBounds():te(m);var D=q(C.paddingTopLeft||C.padding||[0,0]),H=q(C.paddingBottomRight||C.padding||[0,0]),Z=this.getBoundsZoom(m,!1,D.add(H));if(Z=typeof C.maxZoom=="number"?Math.min(C.maxZoom,Z):Z,Z===1/0)return{center:m.getCenter(),zoom:Z};var pe=H.subtract(D).divideBy(2),Me=this.project(m.getSouthWest(),Z),We=this.project(m.getNorthEast(),Z),Je=this.unproject(Me.add(We).divideBy(2).add(pe),Z);return{center:Je,zoom:Z}},fitBounds:function(m,C){if(m=te(m),!m.isValid())throw new Error("Bounds are not valid.");var D=this._getBoundsCenterZoom(m,C);return this.setView(D.center,D.zoom,C)},fitWorld:function(m){return this.fitBounds([[-90,-180],[90,180]],m)},panTo:function(m,C){return this.setView(m,this._zoom,{pan:C})},panBy:function(m,C){if(m=q(m).round(),C=C||{},!m.x&&!m.y)return this.fire("moveend");if(C.animate!==!0&&!this.getSize().contains(m))return this._resetView(this.unproject(this.project(this.getCenter()).add(m)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gv,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),C.noMoveStart||this.fire("movestart"),C.animate!==!1){mn(this._mapPane,"leaflet-pan-anim");var D=this._getMapPanePos().subtract(m).round();this._panAnim.run(this._mapPane,D,C.duration||.25,C.easeLinearity)}else this._rawPanBy(m),this.fire("move").fire("moveend");return this},flyTo:function(m,C,D){if(D=D||{},D.animate===!1||!Le.any3d)return this.setView(m,C,D);this._stop();var H=this.project(this.getCenter()),Z=this.project(m),pe=this.getSize(),Me=this._zoom;m=se(m),C=C===void 0?Me:C;var We=Math.max(pe.x,pe.y),Je=We*this.getZoomScale(Me,C),vt=Z.distanceTo(H)||1,Ht=1.42,Tn=Ht*Ht;function zn(Xi){var iw=Xi?-1:1,cre=Xi?Je:We,ure=Je*Je-We*We+iw*Tn*Tn*vt*vt,dre=2*cre*Tn*vt,A2=ure/dre,Yj=Math.sqrt(A2*A2+1)-A2,fre=Yj<1e-9?-18:Math.log(Yj);return fre}function rs(Xi){return(Math.exp(Xi)-Math.exp(-Xi))/2}function bo(Xi){return(Math.exp(Xi)+Math.exp(-Xi))/2}function ga(Xi){return rs(Xi)/bo(Xi)}var ws=zn(0);function Fp(Xi){return We*(bo(ws)/bo(ws+Ht*Xi))}function ore(Xi){return We*(bo(ws)*ga(ws+Ht*Xi)-rs(ws))/Tn}function sre(Xi){return 1-Math.pow(1-Xi,1.5)}var are=Date.now(),qj=(zn(1)-ws)/Ht,lre=D.duration?1e3*D.duration:1e3*qj*.8;function Gj(){var Xi=(Date.now()-are)/lre,iw=sre(Xi)*qj;Xi<=1?(this._flyToFrame=N(Gj,this),this._move(this.unproject(H.add(Z.subtract(H).multiplyBy(ore(iw)/vt)),Me),this.getScaleZoom(We/Fp(iw),Me),{flyTo:!0})):this._move(m,C)._moveEnd(!0)}return this._moveStart(!0,D.noMoveStart),Gj.call(this),this},flyToBounds:function(m,C){var D=this._getBoundsCenterZoom(m,C);return this.flyTo(D.center,D.zoom,C)},setMaxBounds:function(m){return m=te(m),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),m.isValid()?(this.options.maxBounds=m,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(m){var C=this.options.minZoom;return this.options.minZoom=m,this._loaded&&C!==m&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(m):this},setMaxZoom:function(m){var C=this.options.maxZoom;return this.options.maxZoom=m,this._loaded&&C!==m&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(m):this},panInsideBounds:function(m,C){this._enforcingBounds=!0;var D=this.getCenter(),H=this._limitCenter(D,this._zoom,te(m));return D.equals(H)||this.panTo(H,C),this._enforcingBounds=!1,this},panInside:function(m,C){C=C||{};var D=q(C.paddingTopLeft||C.padding||[0,0]),H=q(C.paddingBottomRight||C.padding||[0,0]),Z=this.project(this.getCenter()),pe=this.project(m),Me=this.getPixelBounds(),We=X([Me.min.add(D),Me.max.subtract(H)]),Je=We.getSize();if(!We.contains(pe)){this._enforcingBounds=!0;var vt=pe.subtract(We.getCenter()),Ht=We.extend(pe).getSize().subtract(Je);Z.x+=vt.x<0?-Ht.x:Ht.x,Z.y+=vt.y<0?-Ht.y:Ht.y,this.panTo(this.unproject(Z),C),this._enforcingBounds=!1}return this},invalidateSize:function(m){if(!this._loaded)return this;m=i({animate:!1,pan:!0},m===!0?{animate:!0}:m);var C=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var D=this.getSize(),H=C.divideBy(2).round(),Z=D.divideBy(2).round(),pe=H.subtract(Z);return!pe.x&&!pe.y?this:(m.animate&&m.pan?this.panBy(pe):(m.pan&&this._rawPanBy(pe),this.fire("move"),m.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:C,newSize:D}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(m){if(m=this._locateOptions=i({timeout:1e4,watch:!1},m),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var C=s(this._handleGeolocationResponse,this),D=s(this._handleGeolocationError,this);return m.watch?this._locationWatchId=navigator.geolocation.watchPosition(C,D,m):navigator.geolocation.getCurrentPosition(C,D,m),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(m){if(this._container._leaflet_id){var C=m.code,D=m.message||(C===1?"permission denied":C===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:C,message:"Geolocation error: "+D+"."})}},_handleGeolocationResponse:function(m){if(this._container._leaflet_id){var C=m.coords.latitude,D=m.coords.longitude,H=new J(C,D),Z=H.toBounds(m.coords.accuracy*2),pe=this._locateOptions;if(pe.setView){var Me=this.getBoundsZoom(Z);this.setView(H,pe.maxZoom?Math.min(Me,pe.maxZoom):Me)}var We={latlng:H,bounds:Z,timestamp:m.timestamp};for(var Je in m.coords)typeof m.coords[Je]=="number"&&(We[Je]=m.coords[Je]);this.fire("locationfound",We)}},addHandler:function(m,C){if(!C)return this;var D=this[m]=new C(this);return this._handlers.push(D),this.options[m]&&D.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var m;for(m in this._layers)this._layers[m].remove();for(m in this._panes)wn(this._panes[m]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(m,C){var D="leaflet-pane"+(m?" leaflet-"+m.replace("Pane","")+"-pane":""),H=Ut("div",D,C||this._mapPane);return m&&(this._panes[m]=H),H},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var m=this.getPixelBounds(),C=this.unproject(m.getBottomLeft()),D=this.unproject(m.getTopRight());return new ue(C,D)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(m,C,D){m=te(m),D=q(D||[0,0]);var H=this.getZoom()||0,Z=this.getMinZoom(),pe=this.getMaxZoom(),Me=m.getNorthWest(),We=m.getSouthEast(),Je=this.getSize().subtract(D),vt=X(this.project(We,H),this.project(Me,H)).getSize(),Ht=Le.any3d?this.options.zoomSnap:1,Tn=Je.x/vt.x,zn=Je.y/vt.y,rs=C?Math.max(Tn,zn):Math.min(Tn,zn);return H=this.getScaleZoom(rs,H),Ht&&(H=Math.round(H/(Ht/100))*(Ht/100),H=C?Math.ceil(H/Ht)*Ht:Math.floor(H/Ht)*Ht),Math.max(Z,Math.min(pe,H))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(m,C){var D=this._getTopLeftPoint(m,C);return new G(D,D.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(m){return this.options.crs.getProjectedBounds(m===void 0?this.getZoom():m)},getPane:function(m){return typeof m=="string"?this._panes[m]:m},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(m,C){var D=this.options.crs;return C=C===void 0?this._zoom:C,D.scale(m)/D.scale(C)},getScaleZoom:function(m,C){var D=this.options.crs;C=C===void 0?this._zoom:C;var H=D.zoom(m*D.scale(C));return isNaN(H)?1/0:H},project:function(m,C){return C=C===void 0?this._zoom:C,this.options.crs.latLngToPoint(se(m),C)},unproject:function(m,C){return C=C===void 0?this._zoom:C,this.options.crs.pointToLatLng(q(m),C)},layerPointToLatLng:function(m){var C=q(m).add(this.getPixelOrigin());return this.unproject(C)},latLngToLayerPoint:function(m){var C=this.project(se(m))._round();return C._subtract(this.getPixelOrigin())},wrapLatLng:function(m){return this.options.crs.wrapLatLng(se(m))},wrapLatLngBounds:function(m){return this.options.crs.wrapLatLngBounds(te(m))},distance:function(m,C){return this.options.crs.distance(se(m),se(C))},containerPointToLayerPoint:function(m){return q(m).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(m){return q(m).add(this._getMapPanePos())},containerPointToLatLng:function(m){var C=this.containerPointToLayerPoint(q(m));return this.layerPointToLatLng(C)},latLngToContainerPoint:function(m){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(m)))},mouseEventToContainerPoint:function(m){return Tp(m,this._container)},mouseEventToLayerPoint:function(m){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(m))},mouseEventToLatLng:function(m){return this.layerPointToLatLng(this.mouseEventToLayerPoint(m))},_initContainer:function(m){var C=this._container=jn(m);if(C){if(C._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_n(C,"scroll",this._onScroll,this),this._containerId=l(C)},_initLayout:function(){var m=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,mn(m,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var C=dr(m,"position");C!=="absolute"&&C!=="relative"&&C!=="fixed"&&C!=="sticky"&&(m.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var m=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gt(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mn(m.markerPane,"leaflet-zoom-hide"),mn(m.shadowPane,"leaflet-zoom-hide"))},_resetView:function(m,C,D){Gt(this._mapPane,new B(0,0));var H=!this._loaded;this._loaded=!0,C=this._limitZoom(C),this.fire("viewprereset");var Z=this._zoom!==C;this._moveStart(Z,D)._move(m,C)._moveEnd(Z),this.fire("viewreset"),H&&this.fire("load")},_moveStart:function(m,C){return m&&this.fire("zoomstart"),C||this.fire("movestart"),this},_move:function(m,C,D,H){C===void 0&&(C=this._zoom);var Z=this._zoom!==C;return this._zoom=C,this._lastCenter=m,this._pixelOrigin=this._getNewPixelOrigin(m),H?D&&D.pinch&&this.fire("zoom",D):((Z||D&&D.pinch)&&this.fire("zoom",D),this.fire("move",D)),this},_moveEnd:function(m){return m&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(m){Gt(this._mapPane,this._getMapPanePos().subtract(m))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(m){this._targets={},this._targets[l(this._container)]=this;var C=m?hr:_n;C(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&C(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(m?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var m=this._getMapPanePos();Math.max(Math.abs(m.x),Math.abs(m.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(m,C){for(var D=[],H,Z=C==="mouseout"||C==="mouseover",pe=m.target||m.srcElement,Me=!1;pe;){if(H=this._targets[l(pe)],H&&(C==="click"||C==="preclick")&&this._draggableMoved(H)){Me=!0;break}if(H&&H.listens(C,!0)&&(Z&&!qv(pe,m)||(D.push(H),Z))||pe===this._container)break;pe=pe.parentNode}return!D.length&&!Me&&!Z&&this.listens(C,!0)&&(D=[this]),D},_isClickDisabled:function(m){for(;m&&m!==this._container;){if(m._leaflet_disable_click)return!0;m=m.parentNode}},_handleDOMEvent:function(m){var C=m.target||m.srcElement;if(!(!this._loaded||C._leaflet_disable_events||m.type==="click"&&this._isClickDisabled(C))){var D=m.type;D==="mousedown"&&fr(C),this._fireDOMEvent(m,D)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(m,C,D){if(m.type==="click"){var H=i({},m);H.type="preclick",this._fireDOMEvent(H,H.type,D)}var Z=this._findEventTargets(m,C);if(D){for(var pe=[],Me=0;Me<D.length;Me++)D[Me].listens(C,!0)&&pe.push(D[Me]);Z=pe.concat(Z)}if(Z.length){C==="contextmenu"&&Xr(m);var We=Z[0],Je={originalEvent:m};if(m.type!=="keypress"&&m.type!=="keydown"&&m.type!=="keyup"){var vt=We.getLatLng&&(!We._radius||We._radius<=10);Je.containerPoint=vt?this.latLngToContainerPoint(We.getLatLng()):this.mouseEventToContainerPoint(m),Je.layerPoint=this.containerPointToLayerPoint(Je.containerPoint),Je.latlng=vt?We.getLatLng():this.layerPointToLatLng(Je.layerPoint)}for(Me=0;Me<Z.length;Me++)if(Z[Me].fire(C,Je,!0),Je.originalEvent._stopped||Z[Me].options.bubblingMouseEvents===!1&&E(this._mouseEvents,C)!==-1)return}},_draggableMoved:function(m){return m=m.dragging&&m.dragging.enabled()?m:this,m.dragging&&m.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var m=0,C=this._handlers.length;m<C;m++)this._handlers[m].disable()},whenReady:function(m,C){return this._loaded?m.call(C||this,{target:this}):this.on("load",m,C),this},_getMapPanePos:function(){return ar(this._mapPane)||new B(0,0)},_moved:function(){var m=this._getMapPanePos();return m&&!m.equals([0,0])},_getTopLeftPoint:function(m,C){var D=m&&C!==void 0?this._getNewPixelOrigin(m,C):this.getPixelOrigin();return D.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(m,C){var D=this.getSize()._divideBy(2);return this.project(m,C)._subtract(D)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(m,C,D){var H=this._getNewPixelOrigin(D,C);return this.project(m,C)._subtract(H)},_latLngBoundsToNewLayerBounds:function(m,C,D){var H=this._getNewPixelOrigin(D,C);return X([this.project(m.getSouthWest(),C)._subtract(H),this.project(m.getNorthWest(),C)._subtract(H),this.project(m.getSouthEast(),C)._subtract(H),this.project(m.getNorthEast(),C)._subtract(H)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(m){return this.latLngToLayerPoint(m).subtract(this._getCenterLayerPoint())},_limitCenter:function(m,C,D){if(!D)return m;var H=this.project(m,C),Z=this.getSize().divideBy(2),pe=new G(H.subtract(Z),H.add(Z)),Me=this._getBoundsOffset(pe,D,C);return Math.abs(Me.x)<=1&&Math.abs(Me.y)<=1?m:this.unproject(H.add(Me),C)},_limitOffset:function(m,C){if(!C)return m;var D=this.getPixelBounds(),H=new G(D.min.add(m),D.max.add(m));return m.add(this._getBoundsOffset(H,C))},_getBoundsOffset:function(m,C,D){var H=X(this.project(C.getNorthEast(),D),this.project(C.getSouthWest(),D)),Z=H.min.subtract(m.min),pe=H.max.subtract(m.max),Me=this._rebound(Z.x,-pe.x),We=this._rebound(Z.y,-pe.y);return new B(Me,We)},_rebound:function(m,C){return m+C>0?Math.round(m-C)/2:Math.max(0,Math.ceil(m))-Math.max(0,Math.floor(C))},_limitZoom:function(m){var C=this.getMinZoom(),D=this.getMaxZoom(),H=Le.any3d?this.options.zoomSnap:1;return H&&(m=Math.round(m/H)*H),Math.max(C,Math.min(D,m))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){un(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(m,C){var D=this._getCenterOffset(m)._trunc();return(C&&C.animate)!==!0&&!this.getSize().contains(D)?!1:(this.panBy(D,C),!0)},_createAnimProxy:function(){var m=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(m),this.on("zoomanim",function(C){var D=Ot,H=this._proxy.style[D];Nn(this._proxy,this.project(C.center,C.zoom),this.getZoomScale(C.zoom,1)),H===this._proxy.style[D]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var m=this.getCenter(),C=this.getZoom();Nn(this._proxy,this.project(m,C),this.getZoomScale(C,1))},_catchTransitionEnd:function(m){this._animatingZoom&&m.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(m,C,D){if(this._animatingZoom)return!0;if(D=D||{},!this._zoomAnimated||D.animate===!1||this._nothingToAnimate()||Math.abs(C-this._zoom)>this.options.zoomAnimationThreshold)return!1;var H=this.getZoomScale(C),Z=this._getCenterOffset(m)._divideBy(1-1/H);return D.animate!==!0&&!this.getSize().contains(Z)?!1:(N(function(){this._moveStart(!0,D.noMoveStart||!1)._animateZoom(m,C,!0)},this),!0)},_animateZoom:function(m,C,D,H){this._mapPane&&(D&&(this._animatingZoom=!0,this._animateToCenter=m,this._animateToZoom=C,mn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:m,zoom:C,noUpdate:H}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&un(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pp(m,C){return new Hn(m,C)}var _s=M.extend({options:{position:"topright"},initialize:function(m){y(this,m)},getPosition:function(){return this.options.position},setPosition:function(m){var C=this._map;return C&&C.removeControl(this),this.options.position=m,C&&C.addControl(this),this},getContainer:function(){return this._container},addTo:function(m){this.remove(),this._map=m;var C=this._container=this.onAdd(m),D=this.getPosition(),H=m._controlCorners[D];return mn(C,"leaflet-control"),D.indexOf("bottom")!==-1?H.insertBefore(C,H.firstChild):H.appendChild(C),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(m){this._map&&m&&m.screenX>0&&m.screenY>0&&this._map.getContainer().focus()}}),ns=function(m){return new _s(m)};Hn.include({addControl:function(m){return m.addTo(this),this},removeControl:function(m){return m.remove(),this},_initControlPos:function(){var m=this._controlCorners={},C="leaflet-",D=this._controlContainer=Ut("div",C+"control-container",this._container);function H(Z,pe){var Me=C+Z+" "+C+pe;m[Z+pe]=Ut("div",Me,D)}H("top","left"),H("top","right"),H("bottom","left"),H("bottom","right")},_clearControlPos:function(){for(var m in this._controlCorners)wn(this._controlCorners[m]);wn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yv=_s.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(m,C,D,H){return D<H?-1:H<D?1:0}},initialize:function(m,C,D){y(this,D),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var H in m)this._addLayer(m[H],H);for(H in C)this._addLayer(C[H],H,!0)},onAdd:function(m){this._initLayout(),this._update(),this._map=m,m.on("zoomend",this._checkDisabledLayers,this);for(var C=0;C<this._layers.length;C++)this._layers[C].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(m){return _s.prototype.addTo.call(this,m),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(m,C){return this._addLayer(m,C),this._map?this._update():this},addOverlay:function(m,C){return this._addLayer(m,C,!0),this._map?this._update():this},removeLayer:function(m){m.off("add remove",this._onLayerChange,this);var C=this._getLayer(l(m));return C&&this._layers.splice(this._layers.indexOf(C),1),this._map?this._update():this},expand:function(){mn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var m=this._map.getSize().y-(this._container.offsetTop+50);return m<this._section.clientHeight?(mn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=m+"px"):un(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return un(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var m="leaflet-control-layers",C=this._container=Ut("div",m),D=this.options.collapsed;C.setAttribute("aria-haspopup",!0),pa(C),Vs(C);var H=this._section=Ut("section",m+"-list");D&&(this._map.on("click",this.collapse,this),_n(C,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Z=this._layersLink=Ut("a",m+"-toggle",C);Z.href="#",Z.title="Layers",Z.setAttribute("role","button"),_n(Z,{keydown:function(pe){pe.keyCode===13&&this._expandSafely()},click:function(pe){Xr(pe),this._expandSafely()}},this),D||this.expand(),this._baseLayersList=Ut("div",m+"-base",H),this._separator=Ut("div",m+"-separator",H),this._overlaysList=Ut("div",m+"-overlays",H),C.appendChild(H)},_getLayer:function(m){for(var C=0;C<this._layers.length;C++)if(this._layers[C]&&l(this._layers[C].layer)===m)return this._layers[C]},_addLayer:function(m,C,D){this._map&&m.on("add remove",this._onLayerChange,this),this._layers.push({layer:m,name:C,overlay:D}),this.options.sortLayers&&this._layers.sort(s(function(H,Z){return this.options.sortFunction(H.layer,Z.layer,H.name,Z.name)},this)),this.options.autoZIndex&&m.setZIndex&&(this._lastZIndex++,m.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;zr(this._baseLayersList),zr(this._overlaysList),this._layerControlInputs=[];var m,C,D,H,Z=0;for(D=0;D<this._layers.length;D++)H=this._layers[D],this._addItem(H),C=C||H.overlay,m=m||!H.overlay,Z+=H.overlay?0:1;return this.options.hideSingleBase&&(m=m&&Z>1,this._baseLayersList.style.display=m?"":"none"),this._separator.style.display=C&&m?"":"none",this},_onLayerChange:function(m){this._handlingClick||this._update();var C=this._getLayer(l(m.target)),D=C.overlay?m.type==="add"?"overlayadd":"overlayremove":m.type==="add"?"baselayerchange":null;D&&this._map.fire(D,C)},_createRadioElement:function(m,C){var D='<input type="radio" class="leaflet-control-layers-selector" name="'+m+'"'+(C?' checked="checked"':"")+"/>",H=document.createElement("div");return H.innerHTML=D,H.firstChild},_addItem:function(m){var C=document.createElement("label"),D=this._map.hasLayer(m.layer),H;m.overlay?(H=document.createElement("input"),H.type="checkbox",H.className="leaflet-control-layers-selector",H.defaultChecked=D):H=this._createRadioElement("leaflet-base-layers_"+l(this),D),this._layerControlInputs.push(H),H.layerId=l(m.layer),_n(H,"click",this._onInputClick,this);var Z=document.createElement("span");Z.innerHTML=" "+m.name;var pe=document.createElement("span");C.appendChild(pe),pe.appendChild(H),pe.appendChild(Z);var Me=m.overlay?this._overlaysList:this._baseLayersList;return Me.appendChild(C),this._checkDisabledLayers(),C},_onInputClick:function(){if(!this._preventClick){var m=this._layerControlInputs,C,D,H=[],Z=[];this._handlingClick=!0;for(var pe=m.length-1;pe>=0;pe--)C=m[pe],D=this._getLayer(C.layerId).layer,C.checked?H.push(D):C.checked||Z.push(D);for(pe=0;pe<Z.length;pe++)this._map.hasLayer(Z[pe])&&this._map.removeLayer(Z[pe]);for(pe=0;pe<H.length;pe++)this._map.hasLayer(H[pe])||this._map.addLayer(H[pe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var m=this._layerControlInputs,C,D,H=this._map.getZoom(),Z=m.length-1;Z>=0;Z--)C=m[Z],D=this._getLayer(C.layerId).layer,C.disabled=D.options.minZoom!==void 0&&H<D.options.minZoom||D.options.maxZoom!==void 0&&H>D.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var m=this._section;this._preventClick=!0,_n(m,"click",Xr),this.expand();var C=this;setTimeout(function(){hr(m,"click",Xr),C._preventClick=!1})}}),P2=function(m,C,D){return new Yv(m,C,D)},Dc=_s.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(m){var C="leaflet-control-zoom",D=Ut("div",C+" leaflet-bar"),H=this.options;return this._zoomInButton=this._createButton(H.zoomInText,H.zoomInTitle,C+"-in",D,this._zoomIn),this._zoomOutButton=this._createButton(H.zoomOutText,H.zoomOutTitle,C+"-out",D,this._zoomOut),this._updateDisabled(),m.on("zoomend zoomlevelschange",this._updateDisabled,this),D},onRemove:function(m){m.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(m){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(m.shiftKey?3:1))},_zoomOut:function(m){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(m.shiftKey?3:1))},_createButton:function(m,C,D,H,Z){var pe=Ut("a",D,H);return pe.innerHTML=m,pe.href="#",pe.title=C,pe.setAttribute("role","button"),pe.setAttribute("aria-label",C),pa(pe),_n(pe,"click",vo),_n(pe,"click",Z,this),_n(pe,"click",this._refocusOnMap,this),pe},_updateDisabled:function(){var m=this._map,C="leaflet-disabled";un(this._zoomInButton,C),un(this._zoomOutButton,C),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||m._zoom===m.getMinZoom())&&(mn(this._zoomOutButton,C),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||m._zoom===m.getMaxZoom())&&(mn(this._zoomInButton,C),this._zoomInButton.setAttribute("aria-disabled","true"))}});Hn.mergeOptions({zoomControl:!0}),Hn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Dc,this.addControl(this.zoomControl))});var H_=function(m){return new Dc(m)},Rp=_s.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(m){var C="leaflet-control-scale",D=Ut("div",C),H=this.options;return this._addScales(H,C+"-line",D),m.on(H.updateWhenIdle?"moveend":"move",this._update,this),m.whenReady(this._update,this),D},onRemove:function(m){m.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(m,C,D){m.metric&&(this._mScale=Ut("div",C,D)),m.imperial&&(this._iScale=Ut("div",C,D))},_update:function(){var m=this._map,C=m.getSize().y/2,D=m.distance(m.containerPointToLatLng([0,C]),m.containerPointToLatLng([this.options.maxWidth,C]));this._updateScales(D)},_updateScales:function(m){this.options.metric&&m&&this._updateMetric(m),this.options.imperial&&m&&this._updateImperial(m)},_updateMetric:function(m){var C=this._getRoundNum(m),D=C<1e3?C+" m":C/1e3+" km";this._updateScale(this._mScale,D,C/m)},_updateImperial:function(m){var C=m*3.2808399,D,H,Z;C>5280?(D=C/5280,H=this._getRoundNum(D),this._updateScale(this._iScale,H+" mi",H/D)):(Z=this._getRoundNum(C),this._updateScale(this._iScale,Z+" ft",Z/C))},_updateScale:function(m,C,D){m.style.width=Math.round(this.options.maxWidth*D)+"px",m.innerHTML=C},_getRoundNum:function(m){var C=Math.pow(10,(Math.floor(m)+"").length-1),D=m/C;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:1,C*D}}),kp=function(m){return new Rp(m)},W_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Lu=_s.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?W_+" ":"")+"Leaflet</a>"},initialize:function(m){y(this,m),this._attributions={}},onAdd:function(m){m.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),pa(this._container);for(var C in m._layers)m._layers[C].getAttribution&&this.addAttribution(m._layers[C].getAttribution());return this._update(),m.on("layeradd",this._addAttribution,this),this._container},onRemove:function(m){m.off("layeradd",this._addAttribution,this)},_addAttribution:function(m){m.layer.getAttribution&&(this.addAttribution(m.layer.getAttribution()),m.layer.once("remove",function(){this.removeAttribution(m.layer.getAttribution())},this))},setPrefix:function(m){return this.options.prefix=m,this._update(),this},addAttribution:function(m){return m?(this._attributions[m]||(this._attributions[m]=0),this._attributions[m]++,this._update(),this):this},removeAttribution:function(m){return m?(this._attributions[m]&&(this._attributions[m]--,this._update()),this):this},_update:function(){if(this._map){var m=[];for(var C in this._attributions)this._attributions[C]&&m.push(C);var D=[];this.options.prefix&&D.push(this.options.prefix),m.length&&D.push(m.join(", ")),this._container.innerHTML=D.join(' <span aria-hidden="true">|</span> ')}}});Hn.mergeOptions({attributionControl:!0}),Hn.addInitHook(function(){this.options.attributionControl&&new Lu().addTo(this)});var R2=function(m){return new Lu(m)};_s.Layers=Yv,_s.Zoom=Dc,_s.Scale=Rp,_s.Attribution=Lu,ns.layers=P2,ns.zoom=H_,ns.scale=kp,ns.attribution=R2;var Hs=M.extend({initialize:function(m){this._map=m},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hs.addTo=function(m,C){return m.addHandler(C,this),this};var Cf={Events:z},Xv=Le.touch?"touchstart mousedown":"mousedown",Qa=j.extend({options:{clickTolerance:3},initialize:function(m,C,D,H){y(this,H),this._element=m,this._dragStartTarget=C||m,this._preventOutline=D},enable:function(){this._enabled||(_n(this._dragStartTarget,Xv,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qa._dragging===this&&this.finishDrag(!0),hr(this._dragStartTarget,Xv,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(m){if(this._enabled&&(this._moved=!1,!Jr(this._element,"leaflet-zoom-anim"))){if(m.touches&&m.touches.length!==1){Qa._dragging===this&&this.finishDrag();return}if(!(Qa._dragging||m.shiftKey||m.which!==1&&m.button!==1&&!m.touches)&&(Qa._dragging=this,this._preventOutline&&fr(this._element),fn(),vr(),!this._moving)){this.fire("down");var C=m.touches?m.touches[0]:m,D=Gi(this._element);this._startPoint=new B(C.clientX,C.clientY),this._startPos=ar(this._element),this._parentScale=Li(D);var H=m.type==="mousedown";_n(document,H?"mousemove":"touchmove",this._onMove,this),_n(document,H?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(m){if(this._enabled){if(m.touches&&m.touches.length>1){this._moved=!0;return}var C=m.touches&&m.touches.length===1?m.touches[0]:m,D=new B(C.clientX,C.clientY)._subtract(this._startPoint);!D.x&&!D.y||Math.abs(D.x)+Math.abs(D.y)<this.options.clickTolerance||(D.x/=this._parentScale.x,D.y/=this._parentScale.y,Xr(m),this._moved||(this.fire("dragstart"),this._moved=!0,mn(document.body,"leaflet-dragging"),this._lastTarget=m.target||m.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(D),this._moving=!0,this._lastEvent=m,this._updatePosition())}},_updatePosition:function(){var m={originalEvent:this._lastEvent};this.fire("predrag",m),Gt(this._element,this._newPos),this.fire("drag",m)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(m){un(document.body,"leaflet-dragging"),this._lastTarget&&(un(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hr(document,"mousemove touchmove",this._onMove,this),hr(document,"mouseup touchend touchcancel",this._onUp,this),Kr(),yr();var C=this._moved&&this._moving;this._moving=!1,Qa._dragging=!1,C&&this.fire("dragend",{noInertia:m,distance:this._newPos.distanceTo(this._startPos)})}});function Mp(m,C,D){var H,Z=[1,4,2,8],pe,Me,We,Je,vt,Ht,Tn,zn;for(pe=0,Ht=m.length;pe<Ht;pe++)m[pe]._code=Ml(m[pe],C);for(We=0;We<4;We++){for(Tn=Z[We],H=[],pe=0,Ht=m.length,Me=Ht-1;pe<Ht;Me=pe++)Je=m[pe],vt=m[Me],Je._code&Tn?vt._code&Tn||(zn=yo(vt,Je,Tn,C,D),zn._code=Ml(zn,C),H.push(zn)):(vt._code&Tn&&(zn=yo(vt,Je,Tn,C,D),zn._code=Ml(zn,C),H.push(zn)),H.push(Je));m=H}return m}function Op(m,C){var D,H,Z,pe,Me,We,Je,vt,Ht;if(!m||m.length===0)throw new Error("latlngs not passed");k(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Tn=se([0,0]),zn=te(m),rs=zn.getNorthWest().distanceTo(zn.getSouthWest())*zn.getNorthEast().distanceTo(zn.getNorthWest());rs<1700&&(Tn=Dp(m));var bo=m.length,ga=[];for(D=0;D<bo;D++){var ws=se(m[D]);ga.push(C.project(se([ws.lat-Tn.lat,ws.lng-Tn.lng])))}for(We=Je=vt=0,D=0,H=bo-1;D<bo;H=D++)Z=ga[D],pe=ga[H],Me=Z.y*pe.x-pe.y*Z.x,Je+=(Z.x+pe.x)*Me,vt+=(Z.y+pe.y)*Me,We+=Me*3;We===0?Ht=ga[0]:Ht=[Je/We,vt/We];var Fp=C.unproject(q(Ht));return se([Fp.lat+Tn.lat,Fp.lng+Tn.lng])}function Dp(m){for(var C=0,D=0,H=0,Z=0;Z<m.length;Z++){var pe=se(m[Z]);C+=pe.lat,D+=pe.lng,H++}return se([C/H,D/H])}var Ap={__proto__:null,clipPolygon:Mp,polygonCenter:Op,centroid:Dp};function Zv(m,C){if(!C||!m.length)return m.slice();var D=C*C;return m=K_(m,D),m=U_(m,D),m}function Qv(m,C,D){return Math.sqrt(ma(m,C,D,!0))}function Ac(m,C,D){return ma(m,C,D)}function U_(m,C){var D=m.length,H=typeof Uint8Array<"u"?Uint8Array:Array,Z=new H(D);Z[0]=Z[D-1]=1,$p(m,Z,C,0,D-1);var pe,Me=[];for(pe=0;pe<D;pe++)Z[pe]&&Me.push(m[pe]);return Me}function $p(m,C,D,H,Z){var pe=0,Me,We,Je;for(We=H+1;We<=Z-1;We++)Je=ma(m[We],m[H],m[Z],!0),Je>pe&&(Me=We,pe=Je);pe>D&&(C[Me]=1,$p(m,C,D,H,Me),$p(m,C,D,Me,Z))}function K_(m,C){for(var D=[m[0]],H=1,Z=0,pe=m.length;H<pe;H++)q_(m[H],m[Z])>C&&(D.push(m[H]),Z=H);return Z<pe-1&&D.push(m[pe-1]),D}var Jv;function Sf(m,C,D,H,Z){var pe=H?Jv:Ml(m,D),Me=Ml(C,D),We,Je,vt;for(Jv=Me;;){if(!(pe|Me))return[m,C];if(pe&Me)return!1;We=pe||Me,Je=yo(m,C,We,D,Z),vt=Ml(Je,D),We===pe?(m=Je,pe=vt):(C=Je,Me=vt)}}function yo(m,C,D,H,Z){var pe=C.x-m.x,Me=C.y-m.y,We=H.min,Je=H.max,vt,Ht;return D&8?(vt=m.x+pe*(Je.y-m.y)/Me,Ht=Je.y):D&4?(vt=m.x+pe*(We.y-m.y)/Me,Ht=We.y):D&2?(vt=Je.x,Ht=m.y+Me*(Je.x-m.x)/pe):D&1&&(vt=We.x,Ht=m.y+Me*(We.x-m.x)/pe),new B(vt,Ht,Z)}function Ml(m,C){var D=0;return m.x<C.min.x?D|=1:m.x>C.max.x&&(D|=2),m.y<C.min.y?D|=4:m.y>C.max.y&&(D|=8),D}function q_(m,C){var D=C.x-m.x,H=C.y-m.y;return D*D+H*H}function ma(m,C,D,H){var Z=C.x,pe=C.y,Me=D.x-Z,We=D.y-pe,Je=Me*Me+We*We,vt;return Je>0&&(vt=((m.x-Z)*Me+(m.y-pe)*We)/Je,vt>1?(Z=D.x,pe=D.y):vt>0&&(Z+=Me*vt,pe+=We*vt)),Me=m.x-Z,We=m.y-pe,H?Me*Me+We*We:new B(Z,pe)}function k(m){return!w(m[0])||typeof m[0][0]!="object"&&typeof m[0][0]<"u"}function U(m){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),k(m)}function ne(m,C){var D,H,Z,pe,Me,We,Je,vt;if(!m||m.length===0)throw new Error("latlngs not passed");k(m)||(console.warn("latlngs are not flat! Only the first ring will be used"),m=m[0]);var Ht=se([0,0]),Tn=te(m),zn=Tn.getNorthWest().distanceTo(Tn.getSouthWest())*Tn.getNorthEast().distanceTo(Tn.getNorthWest());zn<1700&&(Ht=Dp(m));var rs=m.length,bo=[];for(D=0;D<rs;D++){var ga=se(m[D]);bo.push(C.project(se([ga.lat-Ht.lat,ga.lng-Ht.lng])))}for(D=0,H=0;D<rs-1;D++)H+=bo[D].distanceTo(bo[D+1])/2;if(H===0)vt=bo[0];else for(D=0,pe=0;D<rs-1;D++)if(Me=bo[D],We=bo[D+1],Z=Me.distanceTo(We),pe+=Z,pe>H){Je=(pe-H)/Z,vt=[We.x-Je*(We.x-Me.x),We.y-Je*(We.y-Me.y)];break}var ws=C.unproject(q(vt));return se([ws.lat+Ht.lat,ws.lng+Ht.lng])}var xe={__proto__:null,simplify:Zv,pointToSegmentDistance:Qv,closestPointOnSegment:Ac,clipSegment:Sf,_getEdgeIntersection:yo,_getBitCode:Ml,_sqClosestPointOnSegment:ma,isFlat:k,_flat:U,polylineCenter:ne},He={project:function(m){return new B(m.lng,m.lat)},unproject:function(m){return new J(m.y,m.x)},bounds:new G([-180,-90],[180,90])},tt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new G([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(m){var C=Math.PI/180,D=this.R,H=m.lat*C,Z=this.R_MINOR/D,pe=Math.sqrt(1-Z*Z),Me=pe*Math.sin(H),We=Math.tan(Math.PI/4-H/2)/Math.pow((1-Me)/(1+Me),pe/2);return H=-D*Math.log(Math.max(We,1e-10)),new B(m.lng*C*D,H)},unproject:function(m){for(var C=180/Math.PI,D=this.R,H=this.R_MINOR/D,Z=Math.sqrt(1-H*H),pe=Math.exp(-m.y/D),Me=Math.PI/2-2*Math.atan(pe),We=0,Je=.1,vt;We<15&&Math.abs(Je)>1e-7;We++)vt=Z*Math.sin(Me),vt=Math.pow((1-vt)/(1+vt),Z/2),Je=Math.PI/2-2*Math.atan(pe*vt)-Me,Me+=Je;return new J(Me*C,m.x*C/D)}},Rt={__proto__:null,LonLat:He,Mercator:tt,SphericalMercator:ce},Tr=i({},le,{code:"EPSG:3395",projection:tt,transformation:function(){var m=.5/(Math.PI*tt.R);return K(m,.5,-m,.5)}()}),Yi=i({},le,{code:"EPSG:4326",projection:He,transformation:K(1/180,1,-1/180,.5)}),ir=i({},ge,{projection:He,transformation:K(1,0,-1,0),scale:function(m){return Math.pow(2,m)},zoom:function(m){return Math.log(m)/Math.LN2},distance:function(m,C){var D=C.lng-m.lng,H=C.lat-m.lat;return Math.sqrt(D*D+H*H)},infinite:!0});ge.Earth=le,ge.EPSG3395=Tr,ge.EPSG3857=oe,ge.EPSG900913=V,ge.EPSG4326=Yi,ge.Simple=ir;var Br=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(m){return m.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(m){return m&&m.removeLayer(this),this},getPane:function(m){return this._map.getPane(m?this.options[m]||m:this.options.pane)},addInteractiveTarget:function(m){return this._map._targets[l(m)]=this,this},removeInteractiveTarget:function(m){return delete this._map._targets[l(m)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(m){var C=m.target;if(C.hasLayer(this)){if(this._map=C,this._zoomAnimated=C._zoomAnimated,this.getEvents){var D=this.getEvents();C.on(D,this),this.once("remove",function(){C.off(D,this)},this)}this.onAdd(C),this.fire("add"),C.fire("layeradd",{layer:this})}}});Hn.include({addLayer:function(m){if(!m._layerAdd)throw new Error("The provided object is not a Layer.");var C=l(m);return this._layers[C]?this:(this._layers[C]=m,m._mapToAdd=this,m.beforeAdd&&m.beforeAdd(this),this.whenReady(m._layerAdd,m),this)},removeLayer:function(m){var C=l(m);return this._layers[C]?(this._loaded&&m.onRemove(this),delete this._layers[C],this._loaded&&(this.fire("layerremove",{layer:m}),m.fire("remove")),m._map=m._mapToAdd=null,this):this},hasLayer:function(m){return l(m)in this._layers},eachLayer:function(m,C){for(var D in this._layers)m.call(C,this._layers[D]);return this},_addLayers:function(m){m=m?w(m)?m:[m]:[];for(var C=0,D=m.length;C<D;C++)this.addLayer(m[C])},_addZoomLimit:function(m){(!isNaN(m.options.maxZoom)||!isNaN(m.options.minZoom))&&(this._zoomBoundLayers[l(m)]=m,this._updateZoomLevels())},_removeZoomLimit:function(m){var C=l(m);this._zoomBoundLayers[C]&&(delete this._zoomBoundLayers[C],this._updateZoomLevels())},_updateZoomLevels:function(){var m=1/0,C=-1/0,D=this._getZoomSpan();for(var H in this._zoomBoundLayers){var Z=this._zoomBoundLayers[H].options;m=Z.minZoom===void 0?m:Math.min(m,Z.minZoom),C=Z.maxZoom===void 0?C:Math.max(C,Z.maxZoom)}this._layersMaxZoom=C===-1/0?void 0:C,this._layersMinZoom=m===1/0?void 0:m,D!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yi=Br.extend({initialize:function(m,C){y(this,C),this._layers={};var D,H;if(m)for(D=0,H=m.length;D<H;D++)this.addLayer(m[D])},addLayer:function(m){var C=this.getLayerId(m);return this._layers[C]=m,this._map&&this._map.addLayer(m),this},removeLayer:function(m){var C=m in this._layers?m:this.getLayerId(m);return this._map&&this._layers[C]&&this._map.removeLayer(this._layers[C]),delete this._layers[C],this},hasLayer:function(m){var C=typeof m=="number"?m:this.getLayerId(m);return C in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(m){var C=Array.prototype.slice.call(arguments,1),D,H;for(D in this._layers)H=this._layers[D],H[m]&&H[m].apply(H,C);return this},onAdd:function(m){this.eachLayer(m.addLayer,m)},onRemove:function(m){this.eachLayer(m.removeLayer,m)},eachLayer:function(m,C){for(var D in this._layers)m.call(C,this._layers[D]);return this},getLayer:function(m){return this._layers[m]},getLayers:function(){var m=[];return this.eachLayer(m.push,m),m},setZIndex:function(m){return this.invoke("setZIndex",m)},getLayerId:function(m){return l(m)}}),ju=function(m,C){return new yi(m,C)},ji=yi.extend({addLayer:function(m){return this.hasLayer(m)?this:(m.addEventParent(this),yi.prototype.addLayer.call(this,m),this.fire("layeradd",{layer:m}))},removeLayer:function(m){return this.hasLayer(m)?(m in this._layers&&(m=this._layers[m]),m.removeEventParent(this),yi.prototype.removeLayer.call(this,m),this.fire("layerremove",{layer:m})):this},setStyle:function(m){return this.invoke("setStyle",m)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var m=new ue;for(var C in this._layers){var D=this._layers[C];m.extend(D.getBounds?D.getBounds():D.getLatLng())}return m}}),Np=function(m,C){return new ji(m,C)},Ol=M.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(m){y(this,m)},createIcon:function(m){return this._createIcon("icon",m)},createShadow:function(m){return this._createIcon("shadow",m)},_createIcon:function(m,C){var D=this._getIconUrl(m);if(!D){if(m==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var H=this._createImg(D,C&&C.tagName==="IMG"?C:null);return this._setIconStyles(H,m),(this.options.crossOrigin||this.options.crossOrigin==="")&&(H.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),H},_setIconStyles:function(m,C){var D=this.options,H=D[C+"Size"];typeof H=="number"&&(H=[H,H]);var Z=q(H),pe=q(C==="shadow"&&D.shadowAnchor||D.iconAnchor||Z&&Z.divideBy(2,!0));m.className="leaflet-marker-"+C+" "+(D.className||""),pe&&(m.style.marginLeft=-pe.x+"px",m.style.marginTop=-pe.y+"px"),Z&&(m.style.width=Z.x+"px",m.style.height=Z.y+"px")},_createImg:function(m,C){return C=C||document.createElement("img"),C.src=m,C},_getIconUrl:function(m){return Le.retina&&this.options[m+"RetinaUrl"]||this.options[m+"Url"]}});function Fne(m){return new Ol(m)}var ey=Ol.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(m){return typeof ey.imagePath!="string"&&(ey.imagePath=this._detectIconPath()),(this.options.imagePath||ey.imagePath)+Ol.prototype._getIconUrl.call(this,m)},_stripUrl:function(m){var C=function(D,H,Z){var pe=H.exec(D);return pe&&pe[Z]};return m=C(m,/^url\((['"])?(.+)\1\)$/,2),m&&C(m,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var m=Ut("div","leaflet-default-icon-path",document.body),C=dr(m,"background-image")||dr(m,"backgroundImage");if(document.body.removeChild(m),C=this._stripUrl(C),C)return C;var D=document.querySelector('link[href$="leaflet.css"]');return D?D.href.substring(0,D.href.length-11-1):""}}),Pj=Hs.extend({initialize:function(m){this._marker=m},addHooks:function(){var m=this._marker._icon;this._draggable||(this._draggable=new Qa(m,m,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mn(m,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&un(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(m){var C=this._marker,D=C._map,H=this._marker.options.autoPanSpeed,Z=this._marker.options.autoPanPadding,pe=ar(C._icon),Me=D.getPixelBounds(),We=D.getPixelOrigin(),Je=X(Me.min._subtract(We).add(Z),Me.max._subtract(We).subtract(Z));if(!Je.contains(pe)){var vt=q((Math.max(Je.max.x,pe.x)-Je.max.x)/(Me.max.x-Je.max.x)-(Math.min(Je.min.x,pe.x)-Je.min.x)/(Me.min.x-Je.min.x),(Math.max(Je.max.y,pe.y)-Je.max.y)/(Me.max.y-Je.max.y)-(Math.min(Je.min.y,pe.y)-Je.min.y)/(Me.min.y-Je.min.y)).multiplyBy(H);D.panBy(vt,{animate:!1}),this._draggable._newPos._add(vt),this._draggable._startPos._add(vt),Gt(C._icon,this._draggable._newPos),this._onDrag(m),this._panRequest=N(this._adjustPan.bind(this,m))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(m){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,m)))},_onDrag:function(m){var C=this._marker,D=C._shadow,H=ar(C._icon),Z=C._map.layerPointToLatLng(H);D&&Gt(D,H),C._latlng=Z,m.latlng=Z,m.oldLatLng=this._oldLatLng,C.fire("move",m).fire("drag",m)},_onDragEnd:function(m){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",m)}}),G_=Br.extend({options:{icon:new ey,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(m,C){y(this,C),this._latlng=se(m)},onAdd:function(m){this._zoomAnimated=this._zoomAnimated&&m.options.markerZoomAnimation,this._zoomAnimated&&m.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(m){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&m.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(m){var C=this._latlng;return this._latlng=se(m),this.update(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},setZIndexOffset:function(m){return this.options.zIndexOffset=m,this.update()},getIcon:function(){return this.options.icon},setIcon:function(m){return this.options.icon=m,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var m=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(m)}return this},_initIcon:function(){var m=this.options,C="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),D=m.icon.createIcon(this._icon),H=!1;D!==this._icon&&(this._icon&&this._removeIcon(),H=!0,m.title&&(D.title=m.title),D.tagName==="IMG"&&(D.alt=m.alt||"")),mn(D,C),m.keyboard&&(D.tabIndex="0",D.setAttribute("role","button")),this._icon=D,m.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_n(D,"focus",this._panOnFocus,this);var Z=m.icon.createShadow(this._shadow),pe=!1;Z!==this._shadow&&(this._removeShadow(),pe=!0),Z&&(mn(Z,C),Z.alt=""),this._shadow=Z,m.opacity<1&&this._updateOpacity(),H&&this.getPane().appendChild(this._icon),this._initInteraction(),Z&&pe&&this.getPane(m.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hr(this._icon,"focus",this._panOnFocus,this),wn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wn(this._shadow),this._shadow=null},_setPos:function(m){this._icon&&Gt(this._icon,m),this._shadow&&Gt(this._shadow,m),this._zIndex=m.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(m){this._icon&&(this._icon.style.zIndex=this._zIndex+m)},_animateZoom:function(m){var C=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center).round();this._setPos(C)},_initInteraction:function(){if(this.options.interactive&&(mn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pj)){var m=this.options.draggable;this.dragging&&(m=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pj(this),m&&this.dragging.enable()}},setOpacity:function(m){return this.options.opacity=m,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var m=this.options.opacity;this._icon&&hn(this._icon,m),this._shadow&&hn(this._shadow,m)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var m=this._map;if(m){var C=this.options.icon.options,D=C.iconSize?q(C.iconSize):q(0,0),H=C.iconAnchor?q(C.iconAnchor):q(0,0);m.panInside(this._latlng,{paddingTopLeft:H,paddingBottomRight:D.subtract(H)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Bne(m,C){return new G_(m,C)}var zu=Br.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(m){this._renderer=m.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(m){return y(this,m),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&m&&Object.prototype.hasOwnProperty.call(m,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Y_=zu.extend({options:{fill:!0,radius:10},initialize:function(m,C){y(this,C),this._latlng=se(m),this._radius=this.options.radius},setLatLng:function(m){var C=this._latlng;return this._latlng=se(m),this.redraw(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(m){return this.options.radius=this._radius=m,this.redraw()},getRadius:function(){return this._radius},setStyle:function(m){var C=m&&m.radius||this._radius;return zu.prototype.setStyle.call(this,m),this.setRadius(C),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var m=this._radius,C=this._radiusY||m,D=this._clickTolerance(),H=[m+D,C+D];this._pxBounds=new G(this._point.subtract(H),this._point.add(H))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(m){return m.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vne(m,C){return new Y_(m,C)}var k2=Y_.extend({initialize:function(m,C,D){if(typeof C=="number"&&(C=i({},D,{radius:C})),y(this,C),this._latlng=se(m),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(m){return this._mRadius=m,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var m=[this._radius,this._radiusY||this._radius];return new ue(this._map.layerPointToLatLng(this._point.subtract(m)),this._map.layerPointToLatLng(this._point.add(m)))},setStyle:zu.prototype.setStyle,_project:function(){var m=this._latlng.lng,C=this._latlng.lat,D=this._map,H=D.options.crs;if(H.distance===le.distance){var Z=Math.PI/180,pe=this._mRadius/le.R/Z,Me=D.project([C+pe,m]),We=D.project([C-pe,m]),Je=Me.add(We).divideBy(2),vt=D.unproject(Je).lat,Ht=Math.acos((Math.cos(pe*Z)-Math.sin(C*Z)*Math.sin(vt*Z))/(Math.cos(C*Z)*Math.cos(vt*Z)))/Z;(isNaN(Ht)||Ht===0)&&(Ht=pe/Math.cos(Math.PI/180*C)),this._point=Je.subtract(D.getPixelOrigin()),this._radius=isNaN(Ht)?0:Je.x-D.project([vt,m-Ht]).x,this._radiusY=Je.y-Me.y}else{var Tn=H.unproject(H.project(this._latlng).subtract([this._mRadius,0]));this._point=D.latLngToLayerPoint(this._latlng),this._radius=this._point.x-D.latLngToLayerPoint(Tn).x}this._updateBounds()}});function Hne(m,C,D){return new k2(m,C,D)}var $c=zu.extend({options:{smoothFactor:1,noClip:!1},initialize:function(m,C){y(this,C),this._setLatLngs(m)},getLatLngs:function(){return this._latlngs},setLatLngs:function(m){return this._setLatLngs(m),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(m){for(var C=1/0,D=null,H=ma,Z,pe,Me=0,We=this._parts.length;Me<We;Me++)for(var Je=this._parts[Me],vt=1,Ht=Je.length;vt<Ht;vt++){Z=Je[vt-1],pe=Je[vt];var Tn=H(m,Z,pe,!0);Tn<C&&(C=Tn,D=H(m,Z,pe))}return D&&(D.distance=Math.sqrt(C)),D},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ne(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(m,C){return C=C||this._defaultShape(),m=se(m),C.push(m),this._bounds.extend(m),this.redraw()},_setLatLngs:function(m){this._bounds=new ue,this._latlngs=this._convertLatLngs(m)},_defaultShape:function(){return k(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(m){for(var C=[],D=k(m),H=0,Z=m.length;H<Z;H++)D?(C[H]=se(m[H]),this._bounds.extend(C[H])):C[H]=this._convertLatLngs(m[H]);return C},_project:function(){var m=new G;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,m),this._bounds.isValid()&&m.isValid()&&(this._rawPxBounds=m,this._updateBounds())},_updateBounds:function(){var m=this._clickTolerance(),C=new B(m,m);this._rawPxBounds&&(this._pxBounds=new G([this._rawPxBounds.min.subtract(C),this._rawPxBounds.max.add(C)]))},_projectLatlngs:function(m,C,D){var H=m[0]instanceof J,Z=m.length,pe,Me;if(H){for(Me=[],pe=0;pe<Z;pe++)Me[pe]=this._map.latLngToLayerPoint(m[pe]),D.extend(Me[pe]);C.push(Me)}else for(pe=0;pe<Z;pe++)this._projectLatlngs(m[pe],C,D)},_clipPoints:function(){var m=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}var C=this._parts,D,H,Z,pe,Me,We,Je;for(D=0,Z=0,pe=this._rings.length;D<pe;D++)for(Je=this._rings[D],H=0,Me=Je.length;H<Me-1;H++)We=Sf(Je[H],Je[H+1],m,H,!0),We&&(C[Z]=C[Z]||[],C[Z].push(We[0]),(We[1]!==Je[H+1]||H===Me-2)&&(C[Z].push(We[1]),Z++))}},_simplifyPoints:function(){for(var m=this._parts,C=this.options.smoothFactor,D=0,H=m.length;D<H;D++)m[D]=Zv(m[D],C)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(m,C){var D,H,Z,pe,Me,We,Je=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(D=0,pe=this._parts.length;D<pe;D++)for(We=this._parts[D],H=0,Me=We.length,Z=Me-1;H<Me;Z=H++)if(!(!C&&H===0)&&Qv(m,We[Z],We[H])<=Je)return!0;return!1}});function Wne(m,C){return new $c(m,C)}$c._flat=U;var Lp=$c.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Op(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(m){var C=$c.prototype._convertLatLngs.call(this,m),D=C.length;return D>=2&&C[0]instanceof J&&C[0].equals(C[D-1])&&C.pop(),C},_setLatLngs:function(m){$c.prototype._setLatLngs.call(this,m),k(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return k(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var m=this._renderer._bounds,C=this.options.weight,D=new B(C,C);if(m=new G(m.min.subtract(D),m.max.add(D)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(m))){if(this.options.noClip){this._parts=this._rings;return}for(var H=0,Z=this._rings.length,pe;H<Z;H++)pe=Mp(this._rings[H],m,!0),pe.length&&this._parts.push(pe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(m){var C=!1,D,H,Z,pe,Me,We,Je,vt;if(!this._pxBounds||!this._pxBounds.contains(m))return!1;for(pe=0,Je=this._parts.length;pe<Je;pe++)for(D=this._parts[pe],Me=0,vt=D.length,We=vt-1;Me<vt;We=Me++)H=D[Me],Z=D[We],H.y>m.y!=Z.y>m.y&&m.x<(Z.x-H.x)*(m.y-H.y)/(Z.y-H.y)+H.x&&(C=!C);return C||$c.prototype._containsPoint.call(this,m,!0)}});function Une(m,C){return new Lp(m,C)}var Nc=ji.extend({initialize:function(m,C){y(this,C),this._layers={},m&&this.addData(m)},addData:function(m){var C=w(m)?m:m.features,D,H,Z;if(C){for(D=0,H=C.length;D<H;D++)Z=C[D],(Z.geometries||Z.geometry||Z.features||Z.coordinates)&&this.addData(Z);return this}var pe=this.options;if(pe.filter&&!pe.filter(m))return this;var Me=X_(m,pe);return Me?(Me.feature=J_(m),Me.defaultOptions=Me.options,this.resetStyle(Me),pe.onEachFeature&&pe.onEachFeature(m,Me),this.addLayer(Me)):this},resetStyle:function(m){return m===void 0?this.eachLayer(this.resetStyle,this):(m.options=i({},m.defaultOptions),this._setLayerStyle(m,this.options.style),this)},setStyle:function(m){return this.eachLayer(function(C){this._setLayerStyle(C,m)},this)},_setLayerStyle:function(m,C){m.setStyle&&(typeof C=="function"&&(C=C(m.feature)),m.setStyle(C))}});function X_(m,C){var D=m.type==="Feature"?m.geometry:m,H=D?D.coordinates:null,Z=[],pe=C&&C.pointToLayer,Me=C&&C.coordsToLatLng||M2,We,Je,vt,Ht;if(!H&&!D)return null;switch(D.type){case"Point":return We=Me(H),Rj(pe,m,We,C);case"MultiPoint":for(vt=0,Ht=H.length;vt<Ht;vt++)We=Me(H[vt]),Z.push(Rj(pe,m,We,C));return new ji(Z);case"LineString":case"MultiLineString":return Je=Z_(H,D.type==="LineString"?0:1,Me),new $c(Je,C);case"Polygon":case"MultiPolygon":return Je=Z_(H,D.type==="Polygon"?1:2,Me),new Lp(Je,C);case"GeometryCollection":for(vt=0,Ht=D.geometries.length;vt<Ht;vt++){var Tn=X_({geometry:D.geometries[vt],type:"Feature",properties:m.properties},C);Tn&&Z.push(Tn)}return new ji(Z);case"FeatureCollection":for(vt=0,Ht=D.features.length;vt<Ht;vt++){var zn=X_(D.features[vt],C);zn&&Z.push(zn)}return new ji(Z);default:throw new Error("Invalid GeoJSON object.")}}function Rj(m,C,D,H){return m?m(C,D):new G_(D,H&&H.markersInheritOptions&&H)}function M2(m){return new J(m[1],m[0],m[2])}function Z_(m,C,D){for(var H=[],Z=0,pe=m.length,Me;Z<pe;Z++)Me=C?Z_(m[Z],C-1,D):(D||M2)(m[Z]),H.push(Me);return H}function O2(m,C){return m=se(m),m.alt!==void 0?[f(m.lng,C),f(m.lat,C),f(m.alt,C)]:[f(m.lng,C),f(m.lat,C)]}function Q_(m,C,D,H){for(var Z=[],pe=0,Me=m.length;pe<Me;pe++)Z.push(C?Q_(m[pe],k(m[pe])?0:C-1,D,H):O2(m[pe],H));return!C&&D&&Z.length>0&&Z.push(Z[0].slice()),Z}function jp(m,C){return m.feature?i({},m.feature,{geometry:C}):J_(C)}function J_(m){return m.type==="Feature"||m.type==="FeatureCollection"?m:{type:"Feature",properties:{},geometry:m}}var D2={toGeoJSON:function(m){return jp(this,{type:"Point",coordinates:O2(this.getLatLng(),m)})}};G_.include(D2),k2.include(D2),Y_.include(D2),$c.include({toGeoJSON:function(m){var C=!k(this._latlngs),D=Q_(this._latlngs,C?1:0,!1,m);return jp(this,{type:(C?"Multi":"")+"LineString",coordinates:D})}}),Lp.include({toGeoJSON:function(m){var C=!k(this._latlngs),D=C&&!k(this._latlngs[0]),H=Q_(this._latlngs,D?2:C?1:0,!0,m);return C||(H=[H]),jp(this,{type:(D?"Multi":"")+"Polygon",coordinates:H})}}),yi.include({toMultiPoint:function(m){var C=[];return this.eachLayer(function(D){C.push(D.toGeoJSON(m).geometry.coordinates)}),jp(this,{type:"MultiPoint",coordinates:C})},toGeoJSON:function(m){var C=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(C==="MultiPoint")return this.toMultiPoint(m);var D=C==="GeometryCollection",H=[];return this.eachLayer(function(Z){if(Z.toGeoJSON){var pe=Z.toGeoJSON(m);if(D)H.push(pe.geometry);else{var Me=J_(pe);Me.type==="FeatureCollection"?H.push.apply(H,Me.features):H.push(Me)}}}),D?jp(this,{geometries:H,type:"GeometryCollection"}):{type:"FeatureCollection",features:H}}});function kj(m,C){return new Nc(m,C)}var Kne=kj,ew=Br.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(m,C,D){this._url=m,this._bounds=te(C),y(this,D)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(m){return this.options.opacity=m,this._image&&this._updateOpacity(),this},setStyle:function(m){return m.opacity&&this.setOpacity(m.opacity),this},bringToFront:function(){return this._map&&si(this._image),this},bringToBack:function(){return this._map&&Pi(this._image),this},setUrl:function(m){return this._url=m,this._image&&(this._image.src=m),this},setBounds:function(m){return this._bounds=te(m),this._map&&this._reset(),this},getEvents:function(){var m={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var m=this._url.tagName==="IMG",C=this._image=m?this._url:Ut("img");if(mn(C,"leaflet-image-layer"),this._zoomAnimated&&mn(C,"leaflet-zoom-animated"),this.options.className&&mn(C,this.options.className),C.onselectstart=d,C.onmousemove=d,C.onload=s(this.fire,this,"load"),C.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),m){this._url=C.src;return}C.src=this._url,C.alt=this.options.alt},_animateZoom:function(m){var C=this._map.getZoomScale(m.zoom),D=this._map._latLngBoundsToNewLayerBounds(this._bounds,m.zoom,m.center).min;Nn(this._image,D,C)},_reset:function(){var m=this._image,C=new G(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),D=C.getSize();Gt(m,C.min),m.style.width=D.x+"px",m.style.height=D.y+"px"},_updateOpacity:function(){hn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var m=this.options.errorOverlayUrl;m&&this._url!==m&&(this._url=m,this._image.src=m)},getCenter:function(){return this._bounds.getCenter()}}),qne=function(m,C,D){return new ew(m,C,D)},Mj=ew.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var m=this._url.tagName==="VIDEO",C=this._image=m?this._url:Ut("video");if(mn(C,"leaflet-image-layer"),this._zoomAnimated&&mn(C,"leaflet-zoom-animated"),this.options.className&&mn(C,this.options.className),C.onselectstart=d,C.onmousemove=d,C.onloadeddata=s(this.fire,this,"load"),m){for(var D=C.getElementsByTagName("source"),H=[],Z=0;Z<D.length;Z++)H.push(D[Z].src);this._url=D.length>0?H:[C.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(C.style,"objectFit")&&(C.style.objectFit="fill"),C.autoplay=!!this.options.autoplay,C.loop=!!this.options.loop,C.muted=!!this.options.muted,C.playsInline=!!this.options.playsInline;for(var pe=0;pe<this._url.length;pe++){var Me=Ut("source");Me.src=this._url[pe],C.appendChild(Me)}}});function Gne(m,C,D){return new Mj(m,C,D)}var Oj=ew.extend({_initImage:function(){var m=this._image=this._url;mn(m,"leaflet-image-layer"),this._zoomAnimated&&mn(m,"leaflet-zoom-animated"),this.options.className&&mn(m,this.options.className),m.onselectstart=d,m.onmousemove=d}});function Yne(m,C,D){return new Oj(m,C,D)}var Dl=Br.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(m,C){m&&(m instanceof J||w(m))?(this._latlng=se(m),y(this,C)):(y(this,m),this._source=C),this.options.content&&(this._content=this.options.content)},openOn:function(m){return m=arguments.length?m:this._source._map,m.hasLayer(this)||m.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(m){return this._map?this.close():(arguments.length?this._source=m:m=this._source,this._prepareOpen(),this.openOn(m._map)),this},onAdd:function(m){this._zoomAnimated=m._zoomAnimated,this._container||this._initLayout(),m._fadeAnimated&&hn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),m._fadeAnimated&&hn(this._container,1),this.bringToFront(),this.options.interactive&&(mn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(m){m._fadeAnimated?(hn(this._container,0),this._removeTimeout=setTimeout(s(wn,void 0,this._container),200)):wn(this._container),this.options.interactive&&(un(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(m){return this._latlng=se(m),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(m){return this._content=m,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var m={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&si(this._container),this},bringToBack:function(){return this._map&&Pi(this._container),this},_prepareOpen:function(m){var C=this._source;if(!C._map)return!1;if(C instanceof ji){C=null;var D=this._source._layers;for(var H in D)if(D[H]._map){C=D[H];break}if(!C)return!1;this._source=C}if(!m)if(C.getCenter)m=C.getCenter();else if(C.getLatLng)m=C.getLatLng();else if(C.getBounds)m=C.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(m),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var m=this._contentNode,C=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof C=="string")m.innerHTML=C;else{for(;m.hasChildNodes();)m.removeChild(m.firstChild);m.appendChild(C)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var m=this._map.latLngToLayerPoint(this._latlng),C=q(this.options.offset),D=this._getAnchor();this._zoomAnimated?Gt(this._container,m.add(D)):C=C.add(m).add(D);var H=this._containerBottom=-C.y,Z=this._containerLeft=-Math.round(this._containerWidth/2)+C.x;this._container.style.bottom=H+"px",this._container.style.left=Z+"px"}},_getAnchor:function(){return[0,0]}});Hn.include({_initOverlay:function(m,C,D,H){var Z=C;return Z instanceof m||(Z=new m(H).setContent(C)),D&&Z.setLatLng(D),Z}}),Br.include({_initOverlay:function(m,C,D,H){var Z=D;return Z instanceof m?(y(Z,H),Z._source=this):(Z=C&&!H?C:new m(H,this),Z.setContent(D)),Z}});var tw=Dl.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(m){return m=arguments.length?m:this._source._map,!m.hasLayer(this)&&m._popup&&m._popup.options.autoClose&&m.removeLayer(m._popup),m._popup=this,Dl.prototype.openOn.call(this,m)},onAdd:function(m){Dl.prototype.onAdd.call(this,m),m.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zu||this._source.on("preclick",Vn))},onRemove:function(m){Dl.prototype.onRemove.call(this,m),m.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zu||this._source.off("preclick",Vn))},getEvents:function(){var m=Dl.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(m.preclick=this.close),this.options.keepInView&&(m.moveend=this._adjustPan),m},_initLayout:function(){var m="leaflet-popup",C=this._container=Ut("div",m+" "+(this.options.className||"")+" leaflet-zoom-animated"),D=this._wrapper=Ut("div",m+"-content-wrapper",C);if(this._contentNode=Ut("div",m+"-content",D),pa(C),Vs(this._contentNode),_n(C,"contextmenu",Vn),this._tipContainer=Ut("div",m+"-tip-container",C),this._tip=Ut("div",m+"-tip",this._tipContainer),this.options.closeButton){var H=this._closeButton=Ut("a",m+"-close-button",C);H.setAttribute("role","button"),H.setAttribute("aria-label","Close popup"),H.href="#close",H.innerHTML='<span aria-hidden="true">&#215;</span>',_n(H,"click",function(Z){Xr(Z),this.close()},this)}},_updateLayout:function(){var m=this._contentNode,C=m.style;C.width="",C.whiteSpace="nowrap";var D=m.offsetWidth;D=Math.min(D,this.options.maxWidth),D=Math.max(D,this.options.minWidth),C.width=D+1+"px",C.whiteSpace="",C.height="";var H=m.offsetHeight,Z=this.options.maxHeight,pe="leaflet-popup-scrolled";Z&&H>Z?(C.height=Z+"px",mn(m,pe)):un(m,pe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(m){var C=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center),D=this._getAnchor();Gt(this._container,C.add(D))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var m=this._map,C=parseInt(dr(this._container,"marginBottom"),10)||0,D=this._container.offsetHeight+C,H=this._containerWidth,Z=new B(this._containerLeft,-D-this._containerBottom);Z._add(ar(this._container));var pe=m.layerPointToContainerPoint(Z),Me=q(this.options.autoPanPadding),We=q(this.options.autoPanPaddingTopLeft||Me),Je=q(this.options.autoPanPaddingBottomRight||Me),vt=m.getSize(),Ht=0,Tn=0;pe.x+H+Je.x>vt.x&&(Ht=pe.x+H-vt.x+Je.x),pe.x-Ht-We.x<0&&(Ht=pe.x-We.x),pe.y+D+Je.y>vt.y&&(Tn=pe.y+D-vt.y+Je.y),pe.y-Tn-We.y<0&&(Tn=pe.y-We.y),(Ht||Tn)&&(this.options.keepInView&&(this._autopanning=!0),m.fire("autopanstart").panBy([Ht,Tn]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xne=function(m,C){return new tw(m,C)};Hn.mergeOptions({closePopupOnClick:!0}),Hn.include({openPopup:function(m,C,D){return this._initOverlay(tw,m,C,D).openOn(this),this},closePopup:function(m){return m=arguments.length?m:this._popup,m&&m.close(),this}}),Br.include({bindPopup:function(m,C){return this._popup=this._initOverlay(tw,this._popup,m,C),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(m){return this._popup&&(this instanceof ji||(this._popup._source=this),this._popup._prepareOpen(m||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(m){return this._popup&&this._popup.setContent(m),this},getPopup:function(){return this._popup},_openPopup:function(m){if(!(!this._popup||!this._map)){vo(m);var C=m.layer||m.target;if(this._popup._source===C&&!(C instanceof zu)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(m.latlng);return}this._popup._source=C,this.openPopup(m.latlng)}},_movePopup:function(m){this._popup.setLatLng(m.latlng)},_onKeyPress:function(m){m.originalEvent.keyCode===13&&this._openPopup(m)}});var nw=Dl.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(m){Dl.prototype.onAdd.call(this,m),this.setOpacity(this.options.opacity),m.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(m){Dl.prototype.onRemove.call(this,m),m.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var m=Dl.prototype.getEvents.call(this);return this.options.permanent||(m.preclick=this.close),m},_initLayout:function(){var m="leaflet-tooltip",C=m+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",C),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(m){var C,D,H=this._map,Z=this._container,pe=H.latLngToContainerPoint(H.getCenter()),Me=H.layerPointToContainerPoint(m),We=this.options.direction,Je=Z.offsetWidth,vt=Z.offsetHeight,Ht=q(this.options.offset),Tn=this._getAnchor();We==="top"?(C=Je/2,D=vt):We==="bottom"?(C=Je/2,D=0):We==="center"?(C=Je/2,D=vt/2):We==="right"?(C=0,D=vt/2):We==="left"?(C=Je,D=vt/2):Me.x<pe.x?(We="right",C=0,D=vt/2):(We="left",C=Je+(Ht.x+Tn.x)*2,D=vt/2),m=m.subtract(q(C,D,!0)).add(Ht).add(Tn),un(Z,"leaflet-tooltip-right"),un(Z,"leaflet-tooltip-left"),un(Z,"leaflet-tooltip-top"),un(Z,"leaflet-tooltip-bottom"),mn(Z,"leaflet-tooltip-"+We),Gt(Z,m)},_updatePosition:function(){var m=this._map.latLngToLayerPoint(this._latlng);this._setPosition(m)},setOpacity:function(m){this.options.opacity=m,this._container&&hn(this._container,m)},_animateZoom:function(m){var C=this._map._latLngToNewLayerPoint(this._latlng,m.zoom,m.center);this._setPosition(C)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zne=function(m,C){return new nw(m,C)};Hn.include({openTooltip:function(m,C,D){return this._initOverlay(nw,m,C,D).openOn(this),this},closeTooltip:function(m){return m.close(),this}}),Br.include({bindTooltip:function(m,C){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(nw,this._tooltip,m,C),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(m){if(!(!m&&this._tooltipHandlersAdded)){var C=m?"off":"on",D={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?D.add=this._openTooltip:(D.mouseover=this._openTooltip,D.mouseout=this.closeTooltip,D.click=this._openTooltip,this._map?this._addFocusListeners():D.add=this._addFocusListeners),this._tooltip.options.sticky&&(D.mousemove=this._moveTooltip),this[C](D),this._tooltipHandlersAdded=!m}},openTooltip:function(m){return this._tooltip&&(this instanceof ji||(this._tooltip._source=this),this._tooltip._prepareOpen(m)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(m){return this._tooltip&&this._tooltip.setContent(m),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(m){var C=typeof m.getElement=="function"&&m.getElement();C&&(_n(C,"focus",function(){this._tooltip._source=m,this.openTooltip()},this),_n(C,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(m){var C=typeof m.getElement=="function"&&m.getElement();C&&C.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(m){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var C=this;this._map.once("moveend",function(){C._openOnceFlag=!1,C._openTooltip(m)});return}this._tooltip._source=m.layer||m.target,this.openTooltip(this._tooltip.options.sticky?m.latlng:void 0)}},_moveTooltip:function(m){var C=m.latlng,D,H;this._tooltip.options.sticky&&m.originalEvent&&(D=this._map.mouseEventToContainerPoint(m.originalEvent),H=this._map.containerPointToLayerPoint(D),C=this._map.layerPointToLatLng(H)),this._tooltip.setLatLng(C)}});var Dj=Ol.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(m){var C=m&&m.tagName==="DIV"?m:document.createElement("div"),D=this.options;if(D.html instanceof Element?(zr(C),C.appendChild(D.html)):C.innerHTML=D.html!==!1?D.html:"",D.bgPos){var H=q(D.bgPos);C.style.backgroundPosition=-H.x+"px "+-H.y+"px"}return this._setIconStyles(C,"icon"),C},createShadow:function(){return null}});function Qne(m){return new Dj(m)}Ol.Default=ey;var ty=Br.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(m){y(this,m)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(m){m._addZoomLimit(this)},onRemove:function(m){this._removeAllTiles(),wn(this._container),m._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(si(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Pi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(m){return this.options.opacity=m,this._updateOpacity(),this},setZIndex:function(m){return this.options.zIndex=m,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var m=this._clampZoom(this._map.getZoom());m!==this._tileZoom&&(this._tileZoom=m,this._updateLevels()),this._update()}return this},getEvents:function(){var m={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),m.move=this._onMove),this._zoomAnimated&&(m.zoomanim=this._animateZoom),m},createTile:function(){return document.createElement("div")},getTileSize:function(){var m=this.options.tileSize;return m instanceof B?m:new B(m,m)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(m){for(var C=this.getPane().children,D=-m(-1/0,1/0),H=0,Z=C.length,pe;H<Z;H++)pe=C[H].style.zIndex,C[H]!==this._container&&pe&&(D=m(D,+pe));isFinite(D)&&(this.options.zIndex=D+m(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){hn(this._container,this.options.opacity);var m=+new Date,C=!1,D=!1;for(var H in this._tiles){var Z=this._tiles[H];if(!(!Z.current||!Z.loaded)){var pe=Math.min(1,(m-Z.loaded)/200);hn(Z.el,pe),pe<1?C=!0:(Z.active?D=!0:this._onOpaqueTile(Z),Z.active=!0)}}D&&!this._noPrune&&this._pruneTiles(),C&&(A(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:d,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var m=this._tileZoom,C=this.options.maxZoom;if(m!==void 0){for(var D in this._levels)D=Number(D),this._levels[D].el.children.length||D===m?(this._levels[D].el.style.zIndex=C-Math.abs(m-D),this._onUpdateLevel(D)):(wn(this._levels[D].el),this._removeTilesAtZoom(D),this._onRemoveLevel(D),delete this._levels[D]);var H=this._levels[m],Z=this._map;return H||(H=this._levels[m]={},H.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),H.el.style.zIndex=C,H.origin=Z.project(Z.unproject(Z.getPixelOrigin()),m).round(),H.zoom=m,this._setZoomTransform(H,Z.getCenter(),Z.getZoom()),d(H.el.offsetWidth),this._onCreateLevel(H)),this._level=H,H}},_onUpdateLevel:d,_onRemoveLevel:d,_onCreateLevel:d,_pruneTiles:function(){if(this._map){var m,C,D=this._map.getZoom();if(D>this.options.maxZoom||D<this.options.minZoom){this._removeAllTiles();return}for(m in this._tiles)C=this._tiles[m],C.retain=C.current;for(m in this._tiles)if(C=this._tiles[m],C.current&&!C.active){var H=C.coords;this._retainParent(H.x,H.y,H.z,H.z-5)||this._retainChildren(H.x,H.y,H.z,H.z+2)}for(m in this._tiles)this._tiles[m].retain||this._removeTile(m)}},_removeTilesAtZoom:function(m){for(var C in this._tiles)this._tiles[C].coords.z===m&&this._removeTile(C)},_removeAllTiles:function(){for(var m in this._tiles)this._removeTile(m)},_invalidateAll:function(){for(var m in this._levels)wn(this._levels[m].el),this._onRemoveLevel(Number(m)),delete this._levels[m];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(m,C,D,H){var Z=Math.floor(m/2),pe=Math.floor(C/2),Me=D-1,We=new B(+Z,+pe);We.z=+Me;var Je=this._tileCoordsToKey(We),vt=this._tiles[Je];return vt&&vt.active?(vt.retain=!0,!0):(vt&&vt.loaded&&(vt.retain=!0),Me>H?this._retainParent(Z,pe,Me,H):!1)},_retainChildren:function(m,C,D,H){for(var Z=2*m;Z<2*m+2;Z++)for(var pe=2*C;pe<2*C+2;pe++){var Me=new B(Z,pe);Me.z=D+1;var We=this._tileCoordsToKey(Me),Je=this._tiles[We];if(Je&&Je.active){Je.retain=!0;continue}else Je&&Je.loaded&&(Je.retain=!0);D+1<H&&this._retainChildren(Z,pe,D+1,H)}},_resetView:function(m){var C=m&&(m.pinch||m.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),C,C)},_animateZoom:function(m){this._setView(m.center,m.zoom,!0,m.noUpdate)},_clampZoom:function(m){var C=this.options;return C.minNativeZoom!==void 0&&m<C.minNativeZoom?C.minNativeZoom:C.maxNativeZoom!==void 0&&C.maxNativeZoom<m?C.maxNativeZoom:m},_setView:function(m,C,D,H){var Z=Math.round(C);this.options.maxZoom!==void 0&&Z>this.options.maxZoom||this.options.minZoom!==void 0&&Z<this.options.minZoom?Z=void 0:Z=this._clampZoom(Z);var pe=this.options.updateWhenZooming&&Z!==this._tileZoom;(!H||pe)&&(this._tileZoom=Z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Z!==void 0&&this._update(m),D||this._pruneTiles(),this._noPrune=!!D),this._setZoomTransforms(m,C)},_setZoomTransforms:function(m,C){for(var D in this._levels)this._setZoomTransform(this._levels[D],m,C)},_setZoomTransform:function(m,C,D){var H=this._map.getZoomScale(D,m.zoom),Z=m.origin.multiplyBy(H).subtract(this._map._getNewPixelOrigin(C,D)).round();Le.any3d?Nn(m.el,Z,H):Gt(m.el,Z)},_resetGrid:function(){var m=this._map,C=m.options.crs,D=this._tileSize=this.getTileSize(),H=this._tileZoom,Z=this._map.getPixelWorldBounds(this._tileZoom);Z&&(this._globalTileRange=this._pxBoundsToTileRange(Z)),this._wrapX=C.wrapLng&&!this.options.noWrap&&[Math.floor(m.project([0,C.wrapLng[0]],H).x/D.x),Math.ceil(m.project([0,C.wrapLng[1]],H).x/D.y)],this._wrapY=C.wrapLat&&!this.options.noWrap&&[Math.floor(m.project([C.wrapLat[0],0],H).y/D.x),Math.ceil(m.project([C.wrapLat[1],0],H).y/D.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(m){var C=this._map,D=C._animatingZoom?Math.max(C._animateToZoom,C.getZoom()):C.getZoom(),H=C.getZoomScale(D,this._tileZoom),Z=C.project(m,this._tileZoom).floor(),pe=C.getSize().divideBy(H*2);return new G(Z.subtract(pe),Z.add(pe))},_update:function(m){var C=this._map;if(C){var D=this._clampZoom(C.getZoom());if(m===void 0&&(m=C.getCenter()),this._tileZoom!==void 0){var H=this._getTiledPixelBounds(m),Z=this._pxBoundsToTileRange(H),pe=Z.getCenter(),Me=[],We=this.options.keepBuffer,Je=new G(Z.getBottomLeft().subtract([We,-We]),Z.getTopRight().add([We,-We]));if(!(isFinite(Z.min.x)&&isFinite(Z.min.y)&&isFinite(Z.max.x)&&isFinite(Z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var vt in this._tiles){var Ht=this._tiles[vt].coords;(Ht.z!==this._tileZoom||!Je.contains(new B(Ht.x,Ht.y)))&&(this._tiles[vt].current=!1)}if(Math.abs(D-this._tileZoom)>1){this._setView(m,D);return}for(var Tn=Z.min.y;Tn<=Z.max.y;Tn++)for(var zn=Z.min.x;zn<=Z.max.x;zn++){var rs=new B(zn,Tn);if(rs.z=this._tileZoom,!!this._isValidTile(rs)){var bo=this._tiles[this._tileCoordsToKey(rs)];bo?bo.current=!0:Me.push(rs)}}if(Me.sort(function(ws,Fp){return ws.distanceTo(pe)-Fp.distanceTo(pe)}),Me.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ga=document.createDocumentFragment();for(zn=0;zn<Me.length;zn++)this._addTile(Me[zn],ga);this._level.el.appendChild(ga)}}}},_isValidTile:function(m){var C=this._map.options.crs;if(!C.infinite){var D=this._globalTileRange;if(!C.wrapLng&&(m.x<D.min.x||m.x>D.max.x)||!C.wrapLat&&(m.y<D.min.y||m.y>D.max.y))return!1}if(!this.options.bounds)return!0;var H=this._tileCoordsToBounds(m);return te(this.options.bounds).overlaps(H)},_keyToBounds:function(m){return this._tileCoordsToBounds(this._keyToTileCoords(m))},_tileCoordsToNwSe:function(m){var C=this._map,D=this.getTileSize(),H=m.scaleBy(D),Z=H.add(D),pe=C.unproject(H,m.z),Me=C.unproject(Z,m.z);return[pe,Me]},_tileCoordsToBounds:function(m){var C=this._tileCoordsToNwSe(m),D=new ue(C[0],C[1]);return this.options.noWrap||(D=this._map.wrapLatLngBounds(D)),D},_tileCoordsToKey:function(m){return m.x+":"+m.y+":"+m.z},_keyToTileCoords:function(m){var C=m.split(":"),D=new B(+C[0],+C[1]);return D.z=+C[2],D},_removeTile:function(m){var C=this._tiles[m];C&&(wn(C.el),delete this._tiles[m],this.fire("tileunload",{tile:C.el,coords:this._keyToTileCoords(m)}))},_initTile:function(m){mn(m,"leaflet-tile");var C=this.getTileSize();m.style.width=C.x+"px",m.style.height=C.y+"px",m.onselectstart=d,m.onmousemove=d,Le.ielt9&&this.options.opacity<1&&hn(m,this.options.opacity)},_addTile:function(m,C){var D=this._getTilePos(m),H=this._tileCoordsToKey(m),Z=this.createTile(this._wrapCoords(m),s(this._tileReady,this,m));this._initTile(Z),this.createTile.length<2&&N(s(this._tileReady,this,m,null,Z)),Gt(Z,D),this._tiles[H]={el:Z,coords:m,current:!0},C.appendChild(Z),this.fire("tileloadstart",{tile:Z,coords:m})},_tileReady:function(m,C,D){C&&this.fire("tileerror",{error:C,tile:D,coords:m});var H=this._tileCoordsToKey(m);D=this._tiles[H],D&&(D.loaded=+new Date,this._map._fadeAnimated?(hn(D.el,0),A(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(D.active=!0,this._pruneTiles()),C||(mn(D.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:D.el,coords:m})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(m){return m.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(m){var C=new B(this._wrapX?u(m.x,this._wrapX):m.x,this._wrapY?u(m.y,this._wrapY):m.y);return C.z=m.z,C},_pxBoundsToTileRange:function(m){var C=this.getTileSize();return new G(m.min.unscaleBy(C).floor(),m.max.unscaleBy(C).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var m in this._tiles)if(!this._tiles[m].loaded)return!1;return!0}});function Jne(m){return new ty(m)}var zp=ty.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(m,C){this._url=m,C=y(this,C),C.detectRetina&&Le.retina&&C.maxZoom>0?(C.tileSize=Math.floor(C.tileSize/2),C.zoomReverse?(C.zoomOffset--,C.minZoom=Math.min(C.maxZoom,C.minZoom+1)):(C.zoomOffset++,C.maxZoom=Math.max(C.minZoom,C.maxZoom-1)),C.minZoom=Math.max(0,C.minZoom)):C.zoomReverse?C.minZoom=Math.min(C.maxZoom,C.minZoom):C.maxZoom=Math.max(C.minZoom,C.maxZoom),typeof C.subdomains=="string"&&(C.subdomains=C.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(m,C){return this._url===m&&C===void 0&&(C=!0),this._url=m,C||this.redraw(),this},createTile:function(m,C){var D=document.createElement("img");return _n(D,"load",s(this._tileOnLoad,this,C,D)),_n(D,"error",s(this._tileOnError,this,C,D)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(D.referrerPolicy=this.options.referrerPolicy),D.alt="",D.src=this.getTileUrl(m),D},getTileUrl:function(m){var C={r:Le.retina?"@2x":"",s:this._getSubdomain(m),x:m.x,y:m.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var D=this._globalTileRange.max.y-m.y;this.options.tms&&(C.y=D),C["-y"]=D}return _(this._url,i(C,this.options))},_tileOnLoad:function(m,C){Le.ielt9?setTimeout(s(m,this,null,C),0):m(null,C)},_tileOnError:function(m,C,D){var H=this.options.errorTileUrl;H&&C.getAttribute("src")!==H&&(C.src=H),m(D,C)},_onTileRemove:function(m){m.tile.onload=null},_getZoomForUrl:function(){var m=this._tileZoom,C=this.options.maxZoom,D=this.options.zoomReverse,H=this.options.zoomOffset;return D&&(m=C-m),m+H},_getSubdomain:function(m){var C=Math.abs(m.x+m.y)%this.options.subdomains.length;return this.options.subdomains[C]},_abortLoading:function(){var m,C;for(m in this._tiles)if(this._tiles[m].coords.z!==this._tileZoom&&(C=this._tiles[m].el,C.onload=d,C.onerror=d,!C.complete)){C.src=T;var D=this._tiles[m].coords;wn(C),delete this._tiles[m],this.fire("tileabort",{tile:C,coords:D})}},_removeTile:function(m){var C=this._tiles[m];if(C)return C.el.setAttribute("src",T),ty.prototype._removeTile.call(this,m)},_tileReady:function(m,C,D){if(!(!this._map||D&&D.getAttribute("src")===T))return ty.prototype._tileReady.call(this,m,C,D)}});function Aj(m,C){return new zp(m,C)}var $j=zp.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(m,C){this._url=m;var D=i({},this.defaultWmsParams);for(var H in C)H in this.options||(D[H]=C[H]);C=y(this,C);var Z=C.detectRetina&&Le.retina?2:1,pe=this.getTileSize();D.width=pe.x*Z,D.height=pe.y*Z,this.wmsParams=D},onAdd:function(m){this._crs=this.options.crs||m.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var C=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[C]=this._crs.code,zp.prototype.onAdd.call(this,m)},getTileUrl:function(m){var C=this._tileCoordsToNwSe(m),D=this._crs,H=X(D.project(C[0]),D.project(C[1])),Z=H.min,pe=H.max,Me=(this._wmsVersion>=1.3&&this._crs===Yi?[Z.y,Z.x,pe.y,pe.x]:[Z.x,Z.y,pe.x,pe.y]).join(","),We=zp.prototype.getTileUrl.call(this,m);return We+b(this.wmsParams,We,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Me},setParams:function(m,C){return i(this.wmsParams,m),C||this.redraw(),this}});function ere(m,C){return new $j(m,C)}zp.WMS=$j,Aj.wms=ere;var Lc=Br.extend({options:{padding:.1},initialize:function(m){y(this,m),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var m={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(m.zoomanim=this._onAnimZoom),m},_onAnimZoom:function(m){this._updateTransform(m.center,m.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(m,C){var D=this._map.getZoomScale(C,this._zoom),H=this._map.getSize().multiplyBy(.5+this.options.padding),Z=this._map.project(this._center,C),pe=H.multiplyBy(-D).add(Z).subtract(this._map._getNewPixelOrigin(m,C));Le.any3d?Nn(this._container,pe,D):Gt(this._container,pe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var m in this._layers)this._layers[m]._reset()},_onZoomEnd:function(){for(var m in this._layers)this._layers[m]._project()},_updatePaths:function(){for(var m in this._layers)this._layers[m]._update()},_update:function(){var m=this.options.padding,C=this._map.getSize(),D=this._map.containerPointToLayerPoint(C.multiplyBy(-m)).round();this._bounds=new G(D,D.add(C.multiplyBy(1+m*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nj=Lc.extend({options:{tolerance:0},getEvents:function(){var m=Lc.prototype.getEvents.call(this);return m.viewprereset=this._onViewPreReset,m},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lc.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var m=this._container=document.createElement("canvas");_n(m,"mousemove",this._onMouseMove,this),_n(m,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_n(m,"mouseout",this._handleMouseOut,this),m._leaflet_disable_events=!0,this._ctx=m.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,wn(this._container),hr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var m;this._redrawBounds=null;for(var C in this._layers)m=this._layers[C],m._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lc.prototype._update.call(this);var m=this._bounds,C=this._container,D=m.getSize(),H=Le.retina?2:1;Gt(C,m.min),C.width=H*D.x,C.height=H*D.y,C.style.width=D.x+"px",C.style.height=D.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-m.min.x,-m.min.y),this.fire("update")}},_reset:function(){Lc.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(m){this._updateDashArray(m),this._layers[l(m)]=m;var C=m._order={layer:m,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=C),this._drawLast=C,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(m){this._requestRedraw(m)},_removePath:function(m){var C=m._order,D=C.next,H=C.prev;D?D.prev=H:this._drawLast=H,H?H.next=D:this._drawFirst=D,delete m._order,delete this._layers[l(m)],this._requestRedraw(m)},_updatePath:function(m){this._extendRedrawBounds(m),m._project(),m._update(),this._requestRedraw(m)},_updateStyle:function(m){this._updateDashArray(m),this._requestRedraw(m)},_updateDashArray:function(m){if(typeof m.options.dashArray=="string"){var C=m.options.dashArray.split(/[, ]+/),D=[],H,Z;for(Z=0;Z<C.length;Z++){if(H=Number(C[Z]),isNaN(H))return;D.push(H)}m.options._dashArray=D}else m.options._dashArray=m.options.dashArray},_requestRedraw:function(m){this._map&&(this._extendRedrawBounds(m),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(m){if(m._pxBounds){var C=(m.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new G,this._redrawBounds.extend(m._pxBounds.min.subtract([C,C])),this._redrawBounds.extend(m._pxBounds.max.add([C,C]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var m=this._redrawBounds;if(m){var C=m.getSize();this._ctx.clearRect(m.min.x,m.min.y,C.x,C.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var m,C=this._redrawBounds;if(this._ctx.save(),C){var D=C.getSize();this._ctx.beginPath(),this._ctx.rect(C.min.x,C.min.y,D.x,D.y),this._ctx.clip()}this._drawing=!0;for(var H=this._drawFirst;H;H=H.next)m=H.layer,(!C||m._pxBounds&&m._pxBounds.intersects(C))&&m._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(m,C){if(this._drawing){var D,H,Z,pe,Me=m._parts,We=Me.length,Je=this._ctx;if(We){for(Je.beginPath(),D=0;D<We;D++){for(H=0,Z=Me[D].length;H<Z;H++)pe=Me[D][H],Je[H?"lineTo":"moveTo"](pe.x,pe.y);C&&Je.closePath()}this._fillStroke(Je,m)}}},_updateCircle:function(m){if(!(!this._drawing||m._empty())){var C=m._point,D=this._ctx,H=Math.max(Math.round(m._radius),1),Z=(Math.max(Math.round(m._radiusY),1)||H)/H;Z!==1&&(D.save(),D.scale(1,Z)),D.beginPath(),D.arc(C.x,C.y/Z,H,0,Math.PI*2,!1),Z!==1&&D.restore(),this._fillStroke(D,m)}},_fillStroke:function(m,C){var D=C.options;D.fill&&(m.globalAlpha=D.fillOpacity,m.fillStyle=D.fillColor||D.color,m.fill(D.fillRule||"evenodd")),D.stroke&&D.weight!==0&&(m.setLineDash&&m.setLineDash(C.options&&C.options._dashArray||[]),m.globalAlpha=D.opacity,m.lineWidth=D.weight,m.strokeStyle=D.color,m.lineCap=D.lineCap,m.lineJoin=D.lineJoin,m.stroke())},_onClick:function(m){for(var C=this._map.mouseEventToLayerPoint(m),D,H,Z=this._drawFirst;Z;Z=Z.next)D=Z.layer,D.options.interactive&&D._containsPoint(C)&&(!(m.type==="click"||m.type==="preclick")||!this._map._draggableMoved(D))&&(H=D);this._fireEvent(H?[H]:!1,m)},_onMouseMove:function(m){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var C=this._map.mouseEventToLayerPoint(m);this._handleMouseHover(m,C)}},_handleMouseOut:function(m){var C=this._hoveredLayer;C&&(un(this._container,"leaflet-interactive"),this._fireEvent([C],m,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(m,C){if(!this._mouseHoverThrottled){for(var D,H,Z=this._drawFirst;Z;Z=Z.next)D=Z.layer,D.options.interactive&&D._containsPoint(C)&&(H=D);H!==this._hoveredLayer&&(this._handleMouseOut(m),H&&(mn(this._container,"leaflet-interactive"),this._fireEvent([H],m,"mouseover"),this._hoveredLayer=H)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,m),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(m,C,D){this._map._fireDOMEvent(C,D||C.type,m)},_bringToFront:function(m){var C=m._order;if(C){var D=C.next,H=C.prev;if(D)D.prev=H;else return;H?H.next=D:D&&(this._drawFirst=D),C.prev=this._drawLast,this._drawLast.next=C,C.next=null,this._drawLast=C,this._requestRedraw(m)}},_bringToBack:function(m){var C=m._order;if(C){var D=C.next,H=C.prev;if(H)H.next=D;else return;D?D.prev=H:H&&(this._drawLast=H),C.prev=null,C.next=this._drawFirst,this._drawFirst.prev=C,this._drawFirst=C,this._requestRedraw(m)}}});function Lj(m){return Le.canvas?new Nj(m):null}var ny=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(m){return document.createElement("<lvml:"+m+' class="lvml">')}}catch{}return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),tre={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lc.prototype._update.call(this),this.fire("update"))},_initPath:function(m){var C=m._container=ny("shape");mn(C,"leaflet-vml-shape "+(this.options.className||"")),C.coordsize="1 1",m._path=ny("path"),C.appendChild(m._path),this._updateStyle(m),this._layers[l(m)]=m},_addPath:function(m){var C=m._container;this._container.appendChild(C),m.options.interactive&&m.addInteractiveTarget(C)},_removePath:function(m){var C=m._container;wn(C),m.removeInteractiveTarget(C),delete this._layers[l(m)]},_updateStyle:function(m){var C=m._stroke,D=m._fill,H=m.options,Z=m._container;Z.stroked=!!H.stroke,Z.filled=!!H.fill,H.stroke?(C||(C=m._stroke=ny("stroke")),Z.appendChild(C),C.weight=H.weight+"px",C.color=H.color,C.opacity=H.opacity,H.dashArray?C.dashStyle=w(H.dashArray)?H.dashArray.join(" "):H.dashArray.replace(/( *, *)/g," "):C.dashStyle="",C.endcap=H.lineCap.replace("butt","flat"),C.joinstyle=H.lineJoin):C&&(Z.removeChild(C),m._stroke=null),H.fill?(D||(D=m._fill=ny("fill")),Z.appendChild(D),D.color=H.fillColor||H.color,D.opacity=H.fillOpacity):D&&(Z.removeChild(D),m._fill=null)},_updateCircle:function(m){var C=m._point.round(),D=Math.round(m._radius),H=Math.round(m._radiusY||D);this._setPath(m,m._empty()?"M0 0":"AL "+C.x+","+C.y+" "+D+","+H+" 0,"+65535*360)},_setPath:function(m,C){m._path.v=C},_bringToFront:function(m){si(m._container)},_bringToBack:function(m){Pi(m._container)}},rw=Le.vml?ny:ie,ry=Lc.extend({_initContainer:function(){this._container=rw("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=rw("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wn(this._container),hr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lc.prototype._update.call(this);var m=this._bounds,C=m.getSize(),D=this._container;(!this._svgSize||!this._svgSize.equals(C))&&(this._svgSize=C,D.setAttribute("width",C.x),D.setAttribute("height",C.y)),Gt(D,m.min),D.setAttribute("viewBox",[m.min.x,m.min.y,C.x,C.y].join(" ")),this.fire("update")}},_initPath:function(m){var C=m._path=rw("path");m.options.className&&mn(C,m.options.className),m.options.interactive&&mn(C,"leaflet-interactive"),this._updateStyle(m),this._layers[l(m)]=m},_addPath:function(m){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(m._path),m.addInteractiveTarget(m._path)},_removePath:function(m){wn(m._path),m.removeInteractiveTarget(m._path),delete this._layers[l(m)]},_updatePath:function(m){m._project(),m._update()},_updateStyle:function(m){var C=m._path,D=m.options;C&&(D.stroke?(C.setAttribute("stroke",D.color),C.setAttribute("stroke-opacity",D.opacity),C.setAttribute("stroke-width",D.weight),C.setAttribute("stroke-linecap",D.lineCap),C.setAttribute("stroke-linejoin",D.lineJoin),D.dashArray?C.setAttribute("stroke-dasharray",D.dashArray):C.removeAttribute("stroke-dasharray"),D.dashOffset?C.setAttribute("stroke-dashoffset",D.dashOffset):C.removeAttribute("stroke-dashoffset")):C.setAttribute("stroke","none"),D.fill?(C.setAttribute("fill",D.fillColor||D.color),C.setAttribute("fill-opacity",D.fillOpacity),C.setAttribute("fill-rule",D.fillRule||"evenodd")):C.setAttribute("fill","none"))},_updatePoly:function(m,C){this._setPath(m,re(m._parts,C))},_updateCircle:function(m){var C=m._point,D=Math.max(Math.round(m._radius),1),H=Math.max(Math.round(m._radiusY),1)||D,Z="a"+D+","+H+" 0 1,0 ",pe=m._empty()?"M0 0":"M"+(C.x-D)+","+C.y+Z+D*2+",0 "+Z+-D*2+",0 ";this._setPath(m,pe)},_setPath:function(m,C){m._path.setAttribute("d",C)},_bringToFront:function(m){si(m._path)},_bringToBack:function(m){Pi(m._path)}});Le.vml&&ry.include(tre);function jj(m){return Le.svg||Le.vml?new ry(m):null}Hn.include({getRenderer:function(m){var C=m.options.renderer||this._getPaneRenderer(m.options.pane)||this.options.renderer||this._renderer;return C||(C=this._renderer=this._createRenderer()),this.hasLayer(C)||this.addLayer(C),C},_getPaneRenderer:function(m){if(m==="overlayPane"||m===void 0)return!1;var C=this._paneRenderers[m];return C===void 0&&(C=this._createRenderer({pane:m}),this._paneRenderers[m]=C),C},_createRenderer:function(m){return this.options.preferCanvas&&Lj(m)||jj(m)}});var zj=Lp.extend({initialize:function(m,C){Lp.prototype.initialize.call(this,this._boundsToLatLngs(m),C)},setBounds:function(m){return this.setLatLngs(this._boundsToLatLngs(m))},_boundsToLatLngs:function(m){return m=te(m),[m.getSouthWest(),m.getNorthWest(),m.getNorthEast(),m.getSouthEast()]}});function nre(m,C){return new zj(m,C)}ry.create=rw,ry.pointsToPath=re,Nc.geometryToLayer=X_,Nc.coordsToLatLng=M2,Nc.coordsToLatLngs=Z_,Nc.latLngToCoords=O2,Nc.latLngsToCoords=Q_,Nc.getFeature=jp,Nc.asFeature=J_,Hn.mergeOptions({boxZoom:!0});var Fj=Hs.extend({initialize:function(m){this._map=m,this._container=m._container,this._pane=m._panes.overlayPane,this._resetStateTimeout=0,m.on("unload",this._destroy,this)},addHooks:function(){_n(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(m){if(!m.shiftKey||m.which!==1&&m.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vr(),fn(),this._startPoint=this._map.mouseEventToContainerPoint(m),_n(document,{contextmenu:vo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(m){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),mn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(m);var C=new G(this._point,this._startPoint),D=C.getSize();Gt(this._box,C.min),this._box.style.width=D.x+"px",this._box.style.height=D.y+"px"},_finish:function(){this._moved&&(wn(this._box),un(this._container,"leaflet-crosshair")),yr(),Kr(),hr(document,{contextmenu:vo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(m){if(!(m.which!==1&&m.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var C=new ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(C).fire("boxzoomend",{boxZoomBounds:C})}},_onKeyDown:function(m){m.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Hn.addInitHook("addHandler","boxZoom",Fj),Hn.mergeOptions({doubleClickZoom:!0});var Bj=Hs.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(m){var C=this._map,D=C.getZoom(),H=C.options.zoomDelta,Z=m.originalEvent.shiftKey?D-H:D+H;C.options.doubleClickZoom==="center"?C.setZoom(Z):C.setZoomAround(m.containerPoint,Z)}});Hn.addInitHook("addHandler","doubleClickZoom",Bj),Hn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vj=Hs.extend({addHooks:function(){if(!this._draggable){var m=this._map;this._draggable=new Qa(m._mapPane,m._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),m.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),m.on("zoomend",this._onZoomEnd,this),m.whenReady(this._onZoomEnd,this))}mn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){un(this._map._container,"leaflet-grab"),un(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var m=this._map;if(m._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var C=te(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(C.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(C.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;m.fire("movestart").fire("dragstart"),m.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(m){if(this._map.options.inertia){var C=this._lastTime=+new Date,D=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(D),this._times.push(C),this._prunePositions(C)}this._map.fire("move",m).fire("drag",m)},_prunePositions:function(m){for(;this._positions.length>1&&m-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var m=this._map.getSize().divideBy(2),C=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=C.subtract(m).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(m,C){return m-(m-C)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var m=this._draggable._newPos.subtract(this._draggable._startPos),C=this._offsetLimit;m.x<C.min.x&&(m.x=this._viscousLimit(m.x,C.min.x)),m.y<C.min.y&&(m.y=this._viscousLimit(m.y,C.min.y)),m.x>C.max.x&&(m.x=this._viscousLimit(m.x,C.max.x)),m.y>C.max.y&&(m.y=this._viscousLimit(m.y,C.max.y)),this._draggable._newPos=this._draggable._startPos.add(m)}},_onPreDragWrap:function(){var m=this._worldWidth,C=Math.round(m/2),D=this._initialWorldOffset,H=this._draggable._newPos.x,Z=(H-C+D)%m+C-D,pe=(H+C+D)%m-C-D,Me=Math.abs(Z+D)<Math.abs(pe+D)?Z:pe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Me},_onDragEnd:function(m){var C=this._map,D=C.options,H=!D.inertia||m.noInertia||this._times.length<2;if(C.fire("dragend",m),H)C.fire("moveend");else{this._prunePositions(+new Date);var Z=this._lastPos.subtract(this._positions[0]),pe=(this._lastTime-this._times[0])/1e3,Me=D.easeLinearity,We=Z.multiplyBy(Me/pe),Je=We.distanceTo([0,0]),vt=Math.min(D.inertiaMaxSpeed,Je),Ht=We.multiplyBy(vt/Je),Tn=vt/(D.inertiaDeceleration*Me),zn=Ht.multiplyBy(-Tn/2).round();!zn.x&&!zn.y?C.fire("moveend"):(zn=C._limitOffset(zn,C.options.maxBounds),N(function(){C.panBy(zn,{duration:Tn,easeLinearity:Me,noMoveStart:!0,animate:!0})}))}}});Hn.addInitHook("addHandler","dragging",Vj),Hn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hj=Hs.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(m){this._map=m,this._setPanDelta(m.options.keyboardPanDelta),this._setZoomDelta(m.options.zoomDelta)},addHooks:function(){var m=this._map._container;m.tabIndex<=0&&(m.tabIndex="0"),_n(m,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var m=document.body,C=document.documentElement,D=m.scrollTop||C.scrollTop,H=m.scrollLeft||C.scrollLeft;this._map._container.focus(),window.scrollTo(H,D)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(m){var C=this._panKeys={},D=this.keyCodes,H,Z;for(H=0,Z=D.left.length;H<Z;H++)C[D.left[H]]=[-1*m,0];for(H=0,Z=D.right.length;H<Z;H++)C[D.right[H]]=[m,0];for(H=0,Z=D.down.length;H<Z;H++)C[D.down[H]]=[0,m];for(H=0,Z=D.up.length;H<Z;H++)C[D.up[H]]=[0,-1*m]},_setZoomDelta:function(m){var C=this._zoomKeys={},D=this.keyCodes,H,Z;for(H=0,Z=D.zoomIn.length;H<Z;H++)C[D.zoomIn[H]]=m;for(H=0,Z=D.zoomOut.length;H<Z;H++)C[D.zoomOut[H]]=-m},_addHooks:function(){_n(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(m){if(!(m.altKey||m.ctrlKey||m.metaKey)){var C=m.keyCode,D=this._map,H;if(C in this._panKeys){if(!D._panAnim||!D._panAnim._inProgress)if(H=this._panKeys[C],m.shiftKey&&(H=q(H).multiplyBy(3)),D.options.maxBounds&&(H=D._limitOffset(q(H),D.options.maxBounds)),D.options.worldCopyJump){var Z=D.wrapLatLng(D.unproject(D.project(D.getCenter()).add(H)));D.panTo(Z)}else D.panBy(H)}else if(C in this._zoomKeys)D.setZoom(D.getZoom()+(m.shiftKey?3:1)*this._zoomKeys[C]);else if(C===27&&D._popup&&D._popup.options.closeOnEscapeKey)D.closePopup();else return;vo(m)}}});Hn.addInitHook("addHandler","keyboard",Hj),Hn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wj=Hs.extend({addHooks:function(){_n(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(m){var C=B_(m),D=this._map.options.wheelDebounceTime;this._delta+=C,this._lastMousePos=this._map.mouseEventToContainerPoint(m),this._startTime||(this._startTime=+new Date);var H=Math.max(D-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),H),vo(m)},_performZoom:function(){var m=this._map,C=m.getZoom(),D=this._map.options.zoomSnap||0;m._stop();var H=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Z=4*Math.log(2/(1+Math.exp(-Math.abs(H))))/Math.LN2,pe=D?Math.ceil(Z/D)*D:Z,Me=m._limitZoom(C+(this._delta>0?pe:-pe))-C;this._delta=0,this._startTime=null,Me&&(m.options.scrollWheelZoom==="center"?m.setZoom(C+Me):m.setZoomAround(this._lastMousePos,C+Me))}});Hn.addInitHook("addHandler","scrollWheelZoom",Wj);var rre=600;Hn.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var Uj=Hs.extend({addHooks:function(){_n(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(m){if(clearTimeout(this._holdTimeout),m.touches.length===1){var C=m.touches[0];this._startPos=this._newPos=new B(C.clientX,C.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(_n(document,"touchend",Xr),_n(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",C))},this),rre),_n(document,"touchend touchcancel contextmenu",this._cancel,this),_n(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function m(){hr(document,"touchend",Xr),hr(document,"touchend touchcancel",m)},_cancel:function(){clearTimeout(this._holdTimeout),hr(document,"touchend touchcancel contextmenu",this._cancel,this),hr(document,"touchmove",this._onMove,this)},_onMove:function(m){var C=m.touches[0];this._newPos=new B(C.clientX,C.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(m,C){var D=new MouseEvent(m,{bubbles:!0,cancelable:!0,view:window,screenX:C.screenX,screenY:C.screenY,clientX:C.clientX,clientY:C.clientY});D._simulated=!0,C.target.dispatchEvent(D)}});Hn.addInitHook("addHandler","tapHold",Uj),Hn.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var Kj=Hs.extend({addHooks:function(){mn(this._map._container,"leaflet-touch-zoom"),_n(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){un(this._map._container,"leaflet-touch-zoom"),hr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(m){var C=this._map;if(!(!m.touches||m.touches.length!==2||C._animatingZoom||this._zooming)){var D=C.mouseEventToContainerPoint(m.touches[0]),H=C.mouseEventToContainerPoint(m.touches[1]);this._centerPoint=C.getSize()._divideBy(2),this._startLatLng=C.containerPointToLatLng(this._centerPoint),C.options.touchZoom!=="center"&&(this._pinchStartLatLng=C.containerPointToLatLng(D.add(H)._divideBy(2))),this._startDist=D.distanceTo(H),this._startZoom=C.getZoom(),this._moved=!1,this._zooming=!0,C._stop(),_n(document,"touchmove",this._onTouchMove,this),_n(document,"touchend touchcancel",this._onTouchEnd,this),Xr(m)}},_onTouchMove:function(m){if(!(!m.touches||m.touches.length!==2||!this._zooming)){var C=this._map,D=C.mouseEventToContainerPoint(m.touches[0]),H=C.mouseEventToContainerPoint(m.touches[1]),Z=D.distanceTo(H)/this._startDist;if(this._zoom=C.getScaleZoom(Z,this._startZoom),!C.options.bounceAtZoomLimits&&(this._zoom<C.getMinZoom()&&Z<1||this._zoom>C.getMaxZoom()&&Z>1)&&(this._zoom=C._limitZoom(this._zoom)),C.options.touchZoom==="center"){if(this._center=this._startLatLng,Z===1)return}else{var pe=D._add(H)._divideBy(2)._subtract(this._centerPoint);if(Z===1&&pe.x===0&&pe.y===0)return;this._center=C.unproject(C.project(this._pinchStartLatLng,this._zoom).subtract(pe),this._zoom)}this._moved||(C._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var Me=s(C._move,C,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(Me,this,!0),Xr(m)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,A(this._animRequest),hr(document,"touchmove",this._onTouchMove,this),hr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Hn.addInitHook("addHandler","touchZoom",Kj),Hn.BoxZoom=Fj,Hn.DoubleClickZoom=Bj,Hn.Drag=Vj,Hn.Keyboard=Hj,Hn.ScrollWheelZoom=Wj,Hn.TapHold=Uj,Hn.TouchZoom=Kj,n.Bounds=G,n.Browser=Le,n.CRS=ge,n.Canvas=Nj,n.Circle=k2,n.CircleMarker=Y_,n.Class=M,n.Control=_s,n.DivIcon=Dj,n.DivOverlay=Dl,n.DomEvent=V_,n.DomUtil=ts,n.Draggable=Qa,n.Evented=j,n.FeatureGroup=ji,n.GeoJSON=Nc,n.GridLayer=ty,n.Handler=Hs,n.Icon=Ol,n.ImageOverlay=ew,n.LatLng=J,n.LatLngBounds=ue,n.Layer=Br,n.LayerGroup=yi,n.LineUtil=xe,n.Map=Hn,n.Marker=G_,n.Mixin=Cf,n.Path=zu,n.Point=B,n.PolyUtil=Ap,n.Polygon=Lp,n.Polyline=$c,n.Popup=tw,n.PosAnimation=Gv,n.Projection=Rt,n.Rectangle=zj,n.Renderer=Lc,n.SVG=ry,n.SVGOverlay=Oj,n.TileLayer=zp,n.Tooltip=nw,n.Transformation=be,n.Util=$,n.VideoOverlay=Mj,n.bind=s,n.bounds=X,n.canvas=Lj,n.circle=Hne,n.circleMarker=Vne,n.control=ns,n.divIcon=Qne,n.extend=i,n.featureGroup=Np,n.geoJSON=kj,n.geoJson=Kne,n.gridLayer=Jne,n.icon=Fne,n.imageOverlay=qne,n.latLng=se,n.latLngBounds=te,n.layerGroup=ju,n.map=Pp,n.marker=Bne,n.point=q,n.polygon=Une,n.polyline=Wne,n.popup=Xne,n.rectangle=nre,n.setOptions=y,n.stamp=l,n.svg=jj,n.svgOverlay=Yne,n.tileLayer=Aj,n.tooltip=Zne,n.transformation=K,n.version=r,n.videoOverlay=Gne;var ire=window.L;n.noConflict=function(){return window.L=ire,this},window.L=n})})(OD,OD.exports);var N_=OD.exports;const Ai=kx(N_);function gj(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function vj(t,e){return e==null?function(r,i){const o=h.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=h.useRef();o.current||(o.current=t(r,i));const s=h.useRef(r),{instance:a}=o.current;return h.useEffect(function(){s.current!==r&&(e(a,r,s.current),s.current=r)},[a,r,i]),o}}function Tqe(t,e){h.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function ane(t){return function(n){const r=pj(),i=t(mj(n,r),r);return rne(r.map,n.attribution),sne(i.current,n.eventHandlers),Tqe(i.current,r),i}}function Pqe(t,e){const n=vj(t,e),r=ane(n);return Cqe(r)}function Rqe(t,e){const n=vj(t),r=Iqe(n,e);return Sqe(r)}function kqe(t,e){const n=vj(t,e),r=ane(n);return Eqe(r)}function Mqe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function lne(){return pj().map}function DD(){return DD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DD.apply(this,arguments)}function Oqe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:s,style:a,whenReady:l,zoom:c,...u},d){const[f]=h.useState({className:i,id:o,style:a}),[p,v]=h.useState(null);h.useImperativeHandle(d,()=>(p==null?void 0:p.map)??null,[p]);const y=h.useCallback(x=>{if(x!==null&&p===null){const _=new N_.Map(x,u);n!=null&&c!=null?_.setView(n,c):t!=null&&_.fitBounds(t,e),l!=null&&_.whenReady(l),v(_qe(_))}},[]);h.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const b=p?ae.createElement(one,{value:p},r):s??null;return ae.createElement("div",DD({},f,{ref:y}),b)}const Dqe=h.forwardRef(Oqe),cne=Pqe(function({position:e,...n},r){const i=new N_.Marker(e,n);return gj(i,wqe(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),une=Rqe(function(e,n){const r=new N_.Popup(e,n.overlayContainer);return gj(r,n)},function(e,n,{position:r},i){h.useEffect(function(){const{instance:s}=e;function a(c){c.popup===s&&(s.update(),i(!0))}function l(c){c.popup===s&&i(!1)}return n.map.on({popupopen:a,popupclose:l}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){var u;n.map.off({popupopen:a,popupclose:l}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(s)}},[e,n,i,r])}),Aqe=kqe(function({url:e,...n},r){const i=new N_.TileLayer(e,mj(n,r));return gj(i,r)},function(e,n,r){Mqe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});var J8={exports:{}};(function(t,e){(function(n,r){r(e)})(Tm,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=o,a=this._zoom;if(o.__parent)for(;s.__parent._zoom>=a;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,s):this._animationAddLayerNonAnimated(o,s)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,s){if(!L.Util.isArray(o))return this.addLayer(o);var a=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,u=this.options.chunkInterval,d=this.options.chunkProgress,f=o.length,p=0,v=!0,y;if(this._map){var b=new Date().getTime(),x=L.bind(function(){var w=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();p<f;p++){if(c&&p%200===0){var E=new Date().getTime()-w;if(E>u)break}if(y=o[p],y instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(y,o),f=o.length;continue}if(!y.getLatLng){l.addLayer(y),s||this.fire("layeradd",{layer:y});continue}if(!this.hasLayer(y)&&(this._addLayer(y,this._maxZoom),s||this.fire("layeradd",{layer:y}),y.__parent&&y.__parent.getChildCount()===2)){var T=y.__parent.getAllChildMarkers(),I=T[0]===y?T[1]:T[0];a.removeLayer(I)}}d&&d(p,f,new Date().getTime()-b),p===f?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(x,this.options.chunkDelay)},this);x()}else for(var _=this._needsClustering;p<f;p++){if(y=o[p],y instanceof L.LayerGroup){v&&(o=o.slice(),v=!1),this._extractNonGroupLayers(y,o),f=o.length;continue}if(!y.getLatLng){l.addLayer(y);continue}this.hasLayer(y)||_.push(y)}return this},removeLayers:function(o){var s,a,l=o.length,c=this._featureGroup,u=this._nonPointGroup,d=!0;if(!this._map){for(s=0;s<l;s++){if(a=o[s],a instanceof L.LayerGroup){d&&(o=o.slice(),d=!1),this._extractNonGroupLayers(a,o),l=o.length;continue}this._arraySplice(this._needsClustering,a),u.removeLayer(a),this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a})}return this}if(this._unspiderfy){this._unspiderfy();var f=o.slice(),p=l;for(s=0;s<p;s++){if(a=f[s],a instanceof L.LayerGroup){this._extractNonGroupLayers(a,f),p=f.length;continue}this._unspiderfyLayer(a)}}for(s=0;s<l;s++){if(a=o[s],a instanceof L.LayerGroup){d&&(o=o.slice(),d=!1),this._extractNonGroupLayers(a,o),l=o.length;continue}if(!a.__parent){u.removeLayer(a),this.fire("layerremove",{layer:a});continue}this._removeLayer(a,!0,!0),this.fire("layerremove",{layer:a}),c.hasLayer(a)&&(c.removeLayer(a),a.clusterShow&&a.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)o.extend(this._needsClustering[s].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,s){var a=this._needsClustering.slice(),l=this._needsRemoving,c,u,d;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(a),u=a.length-1;u>=0;u--){for(c=!0,d=l.length-1;d>=0;d--)if(l[d].layer===a[u]){c=!1;break}c&&o.call(s,a[u])}this._nonPointGroup.eachLayer(o,s)},getLayers:function(){var o=[];return this.eachLayer(function(s){o.push(s)}),o},getLayer:function(o){var s=null;return o=parseInt(o,10),this.eachLayer(function(a){L.stamp(a)===o&&(s=a)}),s},hasLayer:function(o){if(!o)return!1;var s,a=this._needsClustering;for(s=a.length-1;s>=0;s--)if(a[s]===o)return!0;for(a=this._needsRemoving,s=a.length-1;s>=0;s--)if(a[s].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,s){var a=this._map;typeof s!="function"&&(s=function(){});var l=function(){(a.hasLayer(o)||a.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),a.hasLayer(o)?s():o.__parent._icon&&(this.once("spiderfied",s,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?s():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var s,a,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,s=0,a=this._needsRemoving.length;s<a;s++)l=this._needsRemoving[s],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(s=0,a=this._needsRemoving.length;s<a;s++)l=this._needsRemoving[s],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),a=this._needsClustering,this._needsClustering=[],this.addLayers(a,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var s=o;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(o,s){for(var a=o.length-1;a>=0;a--)if(o[a]===s)return o.splice(a,1),!0},_removeFromGridUnclustered:function(o,s){for(var a=this._map,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());s>=c&&l[s].removeObject(o,a.project(o.getLatLng(),s));s--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var s=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),s&&o.target.openPopup()}},_moveChild:function(o,s,a){o._latlng=s,this.removeLayer(o),o._latlng=a,this.addLayer(o)},_childMarkerDragEnd:function(o){var s=o.target.__dragStart;delete o.target.__dragStart,s&&this._moveChild(o.target,s,o.target._latlng)},_removeLayer:function(o,s,a){var l=this._gridClusters,c=this._gridUnclustered,u=this._featureGroup,d=this._map,f=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(o,this._maxZoom);var p=o.__parent,v=p._markers,y;for(this._arraySplice(v,o);p&&(p._childCount--,p._boundsNeedUpdate=!0,!(p._zoom<f));)s&&p._childCount<=1?(y=p._markers[0]===o?p._markers[1]:p._markers[0],l[p._zoom].removeObject(p,d.project(p._cLatLng,p._zoom)),c[p._zoom].addObject(y,d.project(y.getLatLng(),p._zoom)),this._arraySplice(p.__parent._childClusters,p),p.__parent._markers.push(y),y.__parent=p.__parent,p._icon&&(u.removeLayer(p),a||u.addLayer(y))):p._iconNeedsUpdate=!0,p=p.__parent;delete o.__parent},_isOrIsParent:function(o,s){for(;s;){if(o===s)return!0;s=s.parentNode}return!1},fire:function(o,s,a){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,s,a)},listens:function(o,s){return L.FeatureGroup.prototype.listens.call(this,o,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,s)},_defaultIconCreateFunction:function(o){var s=o.getChildCount(),a=" marker-cluster-";return s<10?a+="small":s<100?a+="medium":a+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+a,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,s=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(s||l||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var s=o.layer,a=s;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;a._childClusters.length===1;)a=a._childClusters[0];a._zoom===this._maxZoom&&a._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,a=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,c=this._map;(o||a||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),a=this.options.maxClusterRadius,l=a;typeof a!="function"&&(l=function(){return a}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var c=o;c>=s;c--)this._gridClusters[c]=new L.DistanceGrid(l(c)),this._gridUnclustered[c]=new L.DistanceGrid(l(c));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(o,s){var a=this._gridClusters,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),u,d;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);s>=c;s--){u=this._map.project(o.getLatLng(),s);var f=a[s].getNearObject(u);if(f){f._addChild(o),o.__parent=f;return}if(f=l[s].getNearObject(u),f){var p=f.__parent;p&&this._removeLayer(f,!1);var v=new this._markerCluster(this,s,f,o);a[s].addObject(v,this._map.project(v._cLatLng,s)),f.__parent=v,o.__parent=v;var y=v;for(d=s-1;d>p._zoom;d--)y=new this._markerCluster(this,d,y),a[d].addObject(y,this._map.project(f.getLatLng(),d));p._addChild(y),this._removeFromGridUnclustered(f,s);return}l[s].addObject(o,u)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var s=this._maxLat;return s!==void 0&&(o.getNorth()>=s&&(o._northEast.lat=1/0),o.getSouth()<=-s&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,s){if(s===o)this._featureGroup.addLayer(o);else if(s._childCount===2){s._addToMap();var a=s.getAllChildMarkers();this._featureGroup.removeLayer(a[0]),this._featureGroup.removeLayer(a[1])}else s._updateIcon()},_extractNonGroupLayers:function(o,s){var a=o.getLayers(),l=0,c;for(s=s||[];l<a.length;l++){if(c=a[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,s);continue}s.push(c)}return s},_overrideMarkerIcon:function(o){var s=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,s){this._animationAddLayerNonAnimated(o,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,s){var a=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom()),u;this._ignoreMove=!0,this._topClusterLevel._recursively(a,o,c,function(d){var f=d._latlng,p=d._markers,v;for(a.contains(f)||(f=null),d._isSingleParent()&&o+1===s?(l.removeLayer(d),d._recursivelyAddChildrenToMap(null,s,a)):(d.clusterHide(),d._recursivelyAddChildrenToMap(f,s,a)),u=p.length-1;u>=0;u--)v=p[u],a.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(a,s),l.eachLayer(function(d){!(d instanceof L.MarkerCluster)&&d._icon&&d.clusterShow()}),this._topClusterLevel._recursively(a,o,s,function(d){d._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(a,o,c,function(d){l.removeLayer(d),d.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,s){this._animationZoomOutSingle(this._topClusterLevel,o-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,s){var a=this,l=this._featureGroup;l.addLayer(o),s!==o&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(s.getLatLng())),o.clusterHide(),this._enqueue(function(){l.removeLayer(o),o.clusterShow(),a._animationEnd()})):(this._forceLayout(),a._animationStart(),a._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,s,a){var l=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(l,c,s+1,a);var u=this;this._forceLayout(),o._recursivelyBecomeVisible(l,a),this._enqueue(function(){if(o._childCount===1){var d=o._markers[0];this._ignoreMove=!0,d.setLatLng(d.getLatLng()),this._ignoreMove=!1,d.clusterShow&&d.clusterShow()}else o._recursively(l,a,c,function(f){f._recursivelyRemoveChildrenFromMap(l,c,s+1)});u._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,s,a,l){L.Marker.prototype.initialize.call(this,a?a._cLatLng||a.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,a&&this._addChild(a),l&&this._addChild(l)},getAllChildMarkers:function(o,s){o=o||[];for(var a=this._childClusters.length-1;a>=0;a--)this._childClusters[a].getAllChildMarkers(o,s);for(var l=this._markers.length-1;l>=0;l--)s&&this._markers[l].__dragStart||o.push(this._markers[l]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var s=this._childClusters.slice(),a=this._group._map,l=a.getBoundsZoom(this._bounds),c=this._zoom+1,u=a.getZoom(),d;s.length>0&&l>c;){c++;var f=[];for(d=0;d<s.length;d++)f=f.concat(s[d]._childClusters);s=f}l>c?this._group._map.setView(this._latlng,c):l<=u?this._group._map.setView(this._latlng,u+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(s||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(s||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,s=this._childClusters,a=0,l=0,c=this._childCount,u,d,f,p;if(c!==0){for(this._resetBounds(),u=0;u<o.length;u++)f=o[u]._latlng,this._bounds.extend(f),a+=f.lat,l+=f.lng;for(u=0;u<s.length;u++)d=s[u],d._boundsNeedUpdate&&d._recalculateBounds(),this._bounds.extend(d._bounds),f=d._wLatLng,p=d._childCount,a+=f.lat*p,l+=f.lng*p;this._latlng=this._wLatLng=new L.LatLng(a/c,l/c),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,s,a){this._recursively(o,this._group._map.getMinZoom(),a-1,function(l){var c=l._markers,u,d;for(u=c.length-1;u>=0;u--)d=c[u],d._icon&&(d._setPos(s),d.clusterHide())},function(l){var c=l._childClusters,u,d;for(u=c.length-1;u>=0;u--)d=c[u],d._icon&&(d._setPos(s),d.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,s,a,l){this._recursively(o,l,s,function(c){c._recursivelyAnimateChildrenIn(o,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),a),c._isSingleParent()&&a-1===l?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(o,s,a)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(o,s){this._recursively(o,this._group._map.getMinZoom(),s,null,function(a){a.clusterShow()})},_recursivelyAddChildrenToMap:function(o,s,a){this._recursively(a,this._group._map.getMinZoom()-1,s,function(l){if(s!==l._zoom)for(var c=l._markers.length-1;c>=0;c--){var u=l._markers[c];a.contains(u._latlng)&&(o&&(u._backupLatlng=u.getLatLng(),u.setLatLng(o),u.clusterHide&&u.clusterHide()),l._group._featureGroup.addLayer(u))}},function(l){l._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var s=this._markers.length-1;s>=0;s--){var a=this._markers[s];a._backupLatlng&&(a.setLatLng(a._backupLatlng),delete a._backupLatlng)}if(o-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,s,a,l){var c,u;this._recursively(o,s-1,a-1,function(d){for(u=d._markers.length-1;u>=0;u--)c=d._markers[u],(!l||!l.contains(c._latlng))&&(d._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(d){for(u=d._childClusters.length-1;u>=0;u--)c=d._childClusters[u],(!l||!l.contains(c._latlng))&&(d._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(o,s,a,l,c){var u=this._childClusters,d=this._zoom,f,p;if(s<=d&&(l&&l(this),c&&d===a&&c(this)),d<s||d<a)for(f=u.length-1;f>=0;f--)p=u[f],p._boundsNeedUpdate&&p._recalculateBounds(),o.intersects(p._bounds)&&p._recursively(o,s,a,l,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,s){var a=this._getCoord(s.x),l=this._getCoord(s.y),c=this._grid,u=c[l]=c[l]||{},d=u[a]=u[a]||[],f=L.Util.stamp(o);this._objectPoint[f]=s,d.push(o)},updateObject:function(o,s){this.removeObject(o),this.addObject(o,s)},removeObject:function(o,s){var a=this._getCoord(s.x),l=this._getCoord(s.y),c=this._grid,u=c[l]=c[l]||{},d=u[a]=u[a]||[],f,p;for(delete this._objectPoint[L.Util.stamp(o)],f=0,p=d.length;f<p;f++)if(d[f]===o)return d.splice(f,1),p===1&&delete u[a],!0},eachObject:function(o,s){var a,l,c,u,d,f,p,v=this._grid;for(a in v){d=v[a];for(l in d)for(f=d[l],c=0,u=f.length;c<u;c++)p=o.call(s,f[c]),p&&(c--,u--)}},getNearObject:function(o){var s=this._getCoord(o.x),a=this._getCoord(o.y),l,c,u,d,f,p,v,y,b=this._objectPoint,x=this._sqCellSize,_=null;for(l=a-1;l<=a+1;l++)if(d=this._grid[l],d){for(c=s-1;c<=s+1;c++)if(f=d[c],f)for(u=0,p=f.length;u<p;u++)v=f[u],y=this._sqDist(b[L.Util.stamp(v)],o),(y<x||y<=x&&_===null)&&(x=y,_=v)}return _},_getCoord:function(o){var s=Math.floor(o/this._cellSize);return isFinite(s)?s:o},_sqDist:function(o,s){var a=s.x-o.x,l=s.y-o.y;return a*a+l*l}},function(){L.QuickHull={getDistant:function(o,s){var a=s[1].lat-s[0].lat,l=s[0].lng-s[1].lng;return l*(o.lat-s[0].lat)+a*(o.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(o,s){var a=0,l=null,c=[],u,d,f;for(u=s.length-1;u>=0;u--){if(d=s[u],f=this.getDistant(d,o),f>0)c.push(d);else continue;f>a&&(a=f,l=d)}return{maxPoint:l,newPoints:c}},buildConvexHull:function(o,s){var a=[],l=this.findMostDistantPointFromBaseLine(o,s);return l.maxPoint?(a=a.concat(this.buildConvexHull([o[0],l.maxPoint],l.newPoints)),a=a.concat(this.buildConvexHull([l.maxPoint,o[1]],l.newPoints)),a):[o[0]]},getConvexHull:function(o){var s=!1,a=!1,l=!1,c=!1,u=null,d=null,f=null,p=null,v=null,y=null,b;for(b=o.length-1;b>=0;b--){var x=o[b];(s===!1||x.lat>s)&&(u=x,s=x.lat),(a===!1||x.lat<a)&&(d=x,a=x.lat),(l===!1||x.lng>l)&&(f=x,l=x.lng),(c===!1||x.lng<c)&&(p=x,c=x.lng)}a!==s?(y=d,v=u):(y=p,v=f);var _=[].concat(this.buildConvexHull([y,v],o),this.buildConvexHull([v,y],o));return _}}}(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),s=[],a,l;for(l=o.length-1;l>=0;l--)a=o[l].getLatLng(),s.push(a);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),s=this._group,a=s._map,l=a.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(o.length,l):o.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(o.length,l):(l.y+=10,c=this._generatePointsCircle(o.length,l)),this._animationSpiderfy(o,c)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,s){var a=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),l=a/this._2PI,c=this._2PI/o,u=[],d,f;for(l=Math.max(l,35),u.length=o,d=0;d<o;d++)f=this._circleStartAngle+d*c,u[d]=new L.Point(s.x+l*Math.cos(f),s.y+l*Math.sin(f))._round();return u},_generatePointsSpiral:function(o,s){var a=this._group.options.spiderfyDistanceMultiplier,l=a*this._spiralLengthStart,c=a*this._spiralFootSeparation,u=a*this._spiralLengthFactor*this._2PI,d=0,f=[],p;for(f.length=o,p=o;p>=0;p--)p<o&&(f[p]=new L.Point(s.x+l*Math.cos(d),s.y+l*Math.sin(d))._round()),d+=c/l+p*5e-4,l+=u/d;return f},_noanimationUnspiderfy:function(){var o=this._group,s=o._map,a=o._featureGroup,l=this.getAllChildMarkers(null,!0),c,u;for(o._ignoreMove=!0,this.setOpacity(1),u=l.length-1;u>=0;u--)c=l[u],a.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(s.removeLayer(c._spiderLeg),delete c._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:l}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,s){var a=this._group,l=a._map,c=a._featureGroup,u=this._group.options.spiderLegPolylineOptions,d,f,p,v;for(a._ignoreMove=!0,d=0;d<o.length;d++)v=l.layerPointToLatLng(s[d]),f=o[d],p=new L.Polyline([this._latlng,v],u),l.addLayer(p),f._spiderLeg=p,f._preSpiderfyLatlng=f._latlng,f.setLatLng(v),f.setZIndexOffset&&f.setZIndexOffset(1e6),c.addLayer(f);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,s){var a=this,l=this._group,c=l._map,u=l._featureGroup,d=this._latlng,f=c.latLngToLayerPoint(d),p=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),y=v.opacity,b,x,_,w,E,T;for(y===void 0&&(y=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=y,l._ignoreMove=!0,b=0;b<o.length;b++)x=o[b],T=c.layerPointToLatLng(s[b]),_=new L.Polyline([d,T],v),c.addLayer(_),x._spiderLeg=_,p&&(w=_._path,E=w.getTotalLength()+.1,w.style.strokeDasharray=E,w.style.strokeDashoffset=E),x.setZIndexOffset&&x.setZIndexOffset(1e6),x.clusterHide&&x.clusterHide(),u.addLayer(x),x._setPos&&x._setPos(f);for(l._forceLayout(),l._animationStart(),b=o.length-1;b>=0;b--)T=c.layerPointToLatLng(s[b]),x=o[b],x._preSpiderfyLatlng=x._latlng,x.setLatLng(T),x.clusterShow&&x.clusterShow(),p&&(_=x._spiderLeg,w=_._path,w.style.strokeDashoffset=0,_.setStyle({opacity:y}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:a,markers:o})},200)},_animationUnspiderfy:function(o){var s=this,a=this._group,l=a._map,c=a._featureGroup,u=o?l._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):l.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(null,!0),f=L.Path.SVG,p,v,y,b,x,_;for(a._ignoreMove=!0,a._animationStart(),this.setOpacity(1),v=d.length-1;v>=0;v--)p=d[v],p._preSpiderfyLatlng&&(p.closePopup(),p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng,_=!0,p._setPos&&(p._setPos(u),_=!1),p.clusterHide&&(p.clusterHide(),_=!1),_&&c.removeLayer(p),f&&(y=p._spiderLeg,b=y._path,x=b.getTotalLength()+.1,b.style.strokeDashoffset=x,y.setStyle({opacity:0})));a._ignoreMove=!1,setTimeout(function(){var w=0;for(v=d.length-1;v>=0;v--)p=d[v],p._spiderLeg&&w++;for(v=d.length-1;v>=0;v--)p=d[v],p._spiderLeg&&(p.clusterShow&&p.clusterShow(),p.setZIndexOffset&&p.setZIndexOffset(0),w>1&&c.removeLayer(p),l.removeLayer(p._spiderLeg),delete p._spiderLeg);a._animationEnd(),a.fire("unspiderfied",{cluster:s,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var s,a;for(s in o)for(a=o[s].__parent;a;)a._iconNeedsUpdate=!0,a=a.__parent},_refreshSingleMarkerModeMarkers:function(o){var s,a;for(s in o)a=o[s],this.hasLayer(a)&&a.setIcon(this._overrideMarkerIcon(a))}}),L.Marker.include({refreshIconOptions:function(o,s){var a=this.options.icon;return L.setOptions(a,o),this.setIcon(a),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})})(J8,J8.exports);const Pl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Rl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",kl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Ai.Icon.Default.prototype._getIconUrl;Ai.Icon.Default.mergeOptions({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});const e9=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});const $qe=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"site-icon site-icon-laboratoire"}),Nqe=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"site-icon site-icon-clinique"}),Lqe=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"site-icon site-icon-plateau"}),jqe=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"site-icon site-icon-collecte"}),zqe=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"site-icon site-icon-etablissement"}),Fqe=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"site-icon site-icon-ehpad"}),Bqe=Ai.icon({iconUrl:Rl,iconRetinaUrl:Pl,shadowUrl:kl,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41],className:"site-icon site-icon-veterinaire"}),t9=["Laboratoire","Clinique","Plateau technique","Point de collecte","Etablissement de sant�","Ehpad","V�t�rinaire"],al=t=>{if(!t)return"";const e=t.toLowerCase().trim(),n={labo:"laboratoire",laboratoire:"laboratoire",plateau:"plateau technique","plateau technique":"plateau technique",clinique:"clinique",collect:"point de collecte","point de collecte":"point de collecte",etablissement:"etablissement de sant�","�tablissement":"etablissement de sant�","etablissement de sant�":"etablissement de sant�","�tablissement de sant�":"etablissement de sant�",ehpad:"ehpad",veterinaire:"veterinaire","v�t�rinaire":"veterinaire"};for(const[r,i]of Object.entries(n))if(e===r||e.includes(r))return i;return e},Vqe=t=>{if(!t)return e9;const e=al(t);return e==="laboratoire"?$qe:e==="clinique"?Nqe:e==="plateau technique"?Lqe:e==="point de collecte"?jqe:e==="etablissement de sant�"?zqe:e==="ehpad"?Fqe:e==="veterinaire"?Bqe:e9},Hqe=()=>{const t=lne(),[e,n]=h.useState(!1);return h.useEffect(()=>{const r=Ai.Control.extend({options:{position:"topleft"},onAdd:function(){const o=Ai.DomUtil.create("div","leaflet-bar leaflet-control"),s=Ai.DomUtil.create("a","leaflet-control-fullscreen",o);s.innerHTML='<i class="fas fa-expand"></i>',s.href="#",s.title="Afficher en plein �cran",s.setAttribute("role","button"),s.setAttribute("aria-label","Afficher en plein �cran"),Ai.DomEvent.on(s,"click",function(l){Ai.DomEvent.preventDefault(l);const c=t.getContainer();document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),s.innerHTML='<i class="fas fa-expand"></i>',s.title="Afficher en plein �cran",n(!1)):c.requestFullscreen&&(c.requestFullscreen(),s.innerHTML='<i class="fas fa-compress"></i>',s.title="Quitter le plein �cran",n(!0))});const a=()=>{!document.fullscreenElement&&e&&(s.innerHTML='<i class="fas fa-expand"></i>',s.title="Afficher en plein �cran",n(!1))};return document.addEventListener("fullscreenchange",a),o}}),i=new r;return t.addControl(i),()=>{t.removeControl(i),document.removeEventListener("fullscreenchange",()=>{})}},[t,e]),null},n9=ae.memo(({site:t,markerPreferences:e})=>{const n=h.useMemo(()=>{const r=al(t.type),i=e.find(o=>al(o.siteType)===r);return i?Ai.divIcon({className:"custom-div-icon",html:`
          <div style="background-color: ${i.color}; 
                      width: 24px; 
                      height: 24px; 
                      border-radius: 50%; 
                      display: flex; 
                      justify-content: center; 
                      align-items: center; 
                      box-shadow: 0 0 3px rgba(0, 0, 0, 0.5);">
            <i class="fas ${dne(i.icon)}" 
               style="color: white; font-size: 14px;"></i>
          </div>
        `,iconSize:[24,24],iconAnchor:[12,12]}):Vqe(t.type)},[t.type,e]);return!t.latitude||!t.longitude?null:g.jsx(cne,{position:[t.latitude,t.longitude],icon:n,children:g.jsx(une,{children:g.jsxs("div",{children:[g.jsx("strong",{children:t.nom}),g.jsx("br",{}),t.adresse,g.jsx("br",{}),t.ville," ",t.codePostal,g.jsx("br",{}),"Type: ",t.type]})})},t.id)},(t,e)=>t.site.id===e.site.id&&t.site.latitude===e.site.latitude&&t.site.longitude===e.site.longitude&&t.site.type===e.site.type&&JSON.stringify(t.markerPreferences)===JSON.stringify(e.markerPreferences)),Wqe=({sites:t,visibleTypes:e=[],maxMarkers:n=500})=>{const r=lne(),[i,o]=h.useState(8),[s,a]=h.useState([]),[l,c]=h.useState([]);h.useEffect(()=>{if(!r)return;const f=()=>{o(r.getZoom())};return r.on("zoomend",f),()=>{r.off("zoomend",f)}},[r]),h.useEffect(()=>{(async()=>{try{const p=nn(dt,"markerPreferences"),y=(await yn(p)).docs.map(b=>({id:b.id,...b.data()}));c(y)}catch(p){console.error("Erreur lors du chargement des pr�f�rences de marqueurs:",p)}})()},[]);const u=h.useMemo(()=>t.filter(f=>{const p=al(f.type);return e.length===0?f.latitude&&f.longitude:e.some(y=>p===al(y))&&f.latitude&&f.longitude}),[t,e]);h.useEffect(()=>{const f=u.slice(0,n);if(a(f),r&&f.length>0){const p=f.map(v=>[v.latitude,v.longitude]).filter(v=>v[0]!==void 0&&v[1]!==void 0&&!isNaN(v[0])&&!isNaN(v[1]));if(p.length>0){const v=Ai.latLngBounds(p);r.fitBounds(v,{padding:[50,50],maxZoom:12})}}},[u,r,n]);const d=h.useMemo(()=>{if(s.length<=50)return s.map(b=>g.jsx(n9,{site:b,markerPreferences:l},b.id));const f=r?r.getZoom():8,p=12,v=f<p?.2:.05,y={};return s.forEach(b=>{if(!b.latitude||!b.longitude)return;let x=!1;for(const _ in y){const[w,E]=_.split(",").map(Number);if(Math.sqrt(Math.pow(b.latitude-w,2)+Math.pow(b.longitude-E,2))<v){y[_].push(b),x=!0;break}}if(!x){const _=`${b.latitude.toFixed(1)},${b.longitude.toFixed(1)}`;y[_]=[b]}}),Object.entries(y).flatMap(([b,x])=>{if(f>=p||x.length<=3)return x.map(I=>g.jsx(n9,{site:I,markerPreferences:l},I.id));const _=x.filter(I=>I.latitude!==void 0&&I.longitude!==void 0);if(_.length===0)return[];const w=_.reduce((I,S)=>I+(S.latitude||0),0)/_.length,E=_.reduce((I,S)=>I+(S.longitude||0),0)/_.length,T=l.find(I=>al(I.siteType)===al(_[0].type));return[g.jsx(cne,{position:[w,E],icon:Ai.divIcon({className:"marker-cluster",html:`
              <div style="
                background-color: ${(T==null?void 0:T.color)||"gray"}; 
                width: 40px; 
                height: 40px; 
                border-radius: 50%; 
                display: flex; 
                justify-content: center; 
                align-items: center; 
                color: white; 
                font-weight: bold;
                box-shadow: 0 0 5px rgba(0,0,0,0.3);
                opacity: ${f<p?1:.7};
              ">
                ${x.length}
              </div>
            `,iconSize:Ai.point(40,40)}),children:g.jsx(une,{children:g.jsxs("div",{children:[g.jsxs("strong",{children:["Cluster de ",x.length," sites"]}),g.jsxs("ul",{children:[x.slice(0,5).map(I=>g.jsx("li",{children:I.nom},I.id)),x.length>5&&g.jsxs("li",{children:["... et ",x.length-5," autres"]})]})]})})},`cluster-${b}`)]})},[s,l,r,i]);return g.jsx(g.Fragment,{children:d})},Uqe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,o]=h.useState([]),s=h.useRef(null);h.useEffect(()=>{(async()=>{try{const c=nn(dt,"sites"),f=(await yn(c)).docs.map(b=>({id:b.id,...b.data()})).filter(b=>b.latitude&&b.longitude);e(f);const p=nn(dt,"markerPreferences"),y=(await yn(p)).docs.map(b=>({id:b.id,...b.data()}));o(y)}catch(c){console.error("Erreur lors du chargement des donn�es:",c)}})()},[]);const a=l=>{r(c=>c.includes(l)?c.filter(u=>u!==l):[...c,l])};return g.jsxs(Dqe,{center:[43.6,3.8],zoom:8,style:{height:"100vh",width:"100%"},ref:l=>{s.current=l},children:[g.jsx(Aqe,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),g.jsx(Hqe,{}),g.jsxs("div",{style:{position:"absolute",bottom:"20px",right:"20px",zIndex:1e3,background:"white",padding:"10px",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},children:[g.jsx("h4",{style:{margin:"0 0 10px 0",textAlign:"center"},children:"Types de sites"}),t9.map(l=>{const c=al(l),u=i.find(d=>al(d.siteType)===c);return g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[g.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",marginRight:"10px",backgroundColor:u?u.color:"gray",display:"flex",justifyContent:"center",alignItems:"center"},children:u&&g.jsx("i",{className:`fas ${dne(u.icon)}`,style:{color:"white",fontSize:"12px"}})}),g.jsx("span",{children:l})]},l)})]}),g.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",zIndex:1e3,background:"white",padding:"10px",borderRadius:"5px"},children:t9.map(l=>g.jsxs("label",{style:{display:"block"},children:[g.jsx("input",{type:"checkbox",checked:n.includes(al(l)),onChange:()=>a(al(l))}),l]},l))}),g.jsx(Wqe,{sites:t,visibleTypes:n,maxMarkers:500})]})},dne=t=>{switch(t){case"droplet":return"fa-tint";case"circle":return"fa-circle";case"square":return"fa-square";case"triangle":return"fa-exclamation-triangle";case"star":return"fa-star";case"pin":return"fa-map-marker-alt";default:return"fa-tint"}};Ai.Marker.prototype.slideTo=function(t,e={}){const n=e.duration||1e3,r=e.keepAtCenter||!1,i=this.getLatLng(),o=performance.now(),s=a=>{var f;const l=a-o,c=Math.min(l/n,1),u=i.lat+(t.lat-i.lat)*c,d=i.lng+(t.lng-i.lng)*c;this.setLatLng([u,d]),r&&((f=this._map)==null||f.setView([u,d])),c<1&&requestAnimationFrame(s)};requestAnimationFrame(s)};const Kqe="/assets/logo-inovie-white-4veO1sY7.png",qqe=()=>{const{currentSelasId:t,setCurrentSelasId:e,availableSelas:n,loading:r}=sge(),[i,o]=h.useState(!1),[s,a]=h.useState(""),[l,c]=h.useState(!1);h.useEffect(()=>{console.log("🏢 SelasSelector - État:",{currentSelasId:t,availableSelasCount:n.length,availableSelas:n,loading:r})},[t,n,r]);const u=v=>{v!==t&&window.confirm("Changer de SELAS va recharger toutes les données. Voulez-vous continuer ?")&&(console.log(`🔄 Changement de SELAS demandé: ${v}`),e(v),setTimeout(()=>{window.location.reload()},300))},d=()=>!!yc().currentUser,f=async()=>{if(!t){IS.error("Aucune SELAS sélectionnée");return}try{o(!0),a(""),c(!0);const v=["passages","sites","tournees","vehicules","users","markerPreferences"];let y=0;for(const b of v){const x=await p(b,t);y+=x}a(`✅ Migration terminée ! ${y} documents mis à jour.`),IS.success(`Migration terminée! ${y} documents mis à jour.`)}catch(v){console.error("❌ Erreur lors de la migration:",v),a(`❌ Erreur lors de la migration: ${v}`),IS.error(`Erreur lors de la migration: ${v}`)}finally{o(!1)}},p=async(v,y,b=200)=>{const x=[];try{const _=nn(dt,v),w=await yn(mr(_,F0(b)));if(w.empty)return x.push(`ℹ️ Aucun document trouvé dans ${v}`),0;let E=0;const T=cd(dt);for(const I of w.docs){const S=Sn(dt,v,I.id);I.data().selasId||(T.update(S,{selasId:y}),E++)}return E>0?(await T.commit(),x.push(`✅ ${E} documents mis à jour dans ${v}`)):x.push(`ℹ️ Aucune mise à jour nécessaire pour ${v}`),a(I=>I+`
`+x.join(`
`)),E}catch(_){return x.push(`❌ Erreur lors du traitement de ${v}: ${_}`),a(w=>w+`
`+x.join(`
`)),console.error(`Erreur lors du traitement de ${v}:`,_),0}};return r?g.jsx("div",{className:"selas-selector",children:g.jsx(gx,{size:"small"})}):n.length===0?(console.warn("⚠️ Aucune SELAS disponible!"),g.jsxs("div",{className:"selas-selector error",children:[g.jsx("span",{className:"selas-label",children:"SELAS:"}),g.jsx("span",{className:"selas-error",children:"Aucune SELAS disponible"})]})):g.jsxs("div",{className:"selas-selector",children:[g.jsx("span",{className:"selas-label",children:"SELAS:"}),g.jsx(xl,{value:t||void 0,onChange:u,options:n.map(v=>({value:v.id,label:v.nom})),placeholder:"Sélectionner une SELAS",style:{width:200}}),d()&&g.jsx(Ha,{type:"primary",size:"small",onClick:f,loading:i,className:"migration-button",children:"Migrer les données"}),g.jsx(Il,{title:"Migration des données",open:l,onCancel:()=>c(!1),footer:[g.jsx(Ha,{onClick:()=>c(!1),children:"Fermer"},"close")],children:g.jsx("div",{className:"migration-log",children:s?g.jsx("pre",{children:s}):g.jsx(gx,{tip:"Migration en cours..."})})})]})},dv=vn(g.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Gqe=vn([g.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),g.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),Yqe=vn(g.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),Xqe=vn(g.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Yy=vn(g.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"Backup"),fne=vn(g.jsx("path",{d:"M15.67 4H14V2h-4v2H8.33C7.6 4 7 4.6 7 5.33v15.33C7 21.4 7.6 22 8.33 22h7.33c.74 0 1.34-.6 1.34-1.33V5.33C17 4.6 16.4 4 15.67 4M11 20v-5.5H9L13 7v5.5h2z"}),"BatteryChargingFull"),Zqe=vn(g.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),Rx=vn(g.jsx("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build"),hne=vn(g.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),Qqe=vn(g.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),Jqe=vn(g.jsx("path",{d:"m9.4 10.5 4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2M8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15zm11.27 0-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35z"}),"Camera"),r9=vn(g.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),op=vn(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),eGe=vn(g.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload"),tGe=vn(g.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),nGe=vn(g.jsx("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),fv=vn(g.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Sa=vn(g.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),od=vn(g.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 11l1.5-4.5h11L19 11z"}),"DirectionsCar"),i9=vn(g.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),L_=vn(g.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),sb=vn(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),pne=vn(g.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),yj=vn(g.jsx("path",{d:"M10.5 13H8v-3h2.5V7.5h3V10H16v3h-2.5v2.5h-3zM12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5z"}),"HealthAndSafety"),rGe=vn(g.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),iGe=vn(g.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),oGe=vn(g.jsx("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77M12 10H6V5h6zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"LocalGasStation"),sGe=vn(g.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M15 19l-6-2.11V5l6 2.11z"}),"Map"),aGe=vn(g.jsx("path",{d:"M20 6h-4V4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2M10 4h4v2h-4zm6 11h-3v3h-2v-3H8v-2h3v-3h2v3h3z"}),"MedicalServices"),lGe=vn(g.jsx("path",{d:"M20 13c.55 0 1-.45 1-1s-.45-1-1-1h-1V5h1c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1h1v6H4c-.55 0-1 .45-1 1s.45 1 1 1h1v6H4c-.55 0-1 .45-1 1s.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1h-1v-6zm-8 3c-1.66 0-3-1.32-3-2.95 0-1.3.52-1.67 3-4.55 2.47 2.86 3 3.24 3 4.55 0 1.63-1.34 2.95-3 2.95"}),"OilBarrel"),cGe=vn(g.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),uGe=vn(g.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),AD=vn(g.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),bj=vn(g.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),dGe=vn(g.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"}),"Speed"),fGe=vn(g.jsx("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),hGe=vn(g.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"}),"Straighten"),pGe=vn(g.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8m0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4z"}),"Sync"),mne=vn([g.jsx("path",{d:"M18 7c0 .55.45 1 1 1 .28 0 .53-.11.71-.29.4-.4 1.04-2.46 1.04-2.46s-2.06.64-2.46 1.04c-.18.18-.29.43-.29.71"},"0"),g.jsx("path",{d:"M19 2c-2.76 0-5 2.24-5 5 0 2.05 1.23 3.81 3 4.58V13h1v5c0 .55-.45 1-1 1s-1-.45-1-1v-2c0-1.65-1.35-3-3-3-.35 0-.69.06-1 .17V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2v-3c0-.55.45-1 1-1s1 .45 1 1v2c0 1.65 1.35 3 3 3s3-1.35 3-3v-5h1v-1.42c1.77-.77 3-2.53 3-4.58 0-2.76-2.24-5-5-5M6 19.5l-2-2v-2.83l2 2zm0-5-2-2V9.67l2 2zm0-5-2-2V4.67l2 2zm4 8-2 2v-2.83l2-2zm0-5-2 2v-2.83l2-2zm0-5-2 2V6.67l2-2zm9 2.5c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3"},"1")],"TireRepair"),$D=vn(g.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),lf=vn(g.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),mGe=vn(g.jsx("path",{d:"M18.5 8C19.88 8 21 6.88 21 5.5 21 3.83 18.5 1 18.5 1S16 3.83 16 5.5C16 6.88 17.12 8 18.5 8m-5 1c.83 0 1.5-.67 1.5-1.5 0-.84-1.5-2.5-1.5-2.5S12 6.66 12 7.5c0 .83.67 1.5 1.5 1.5M9.12 5l-7.18 6.79c-.6.56-.94 1.35-.94 2.18V20c0 1.66 1.34 3 3 3h13.75c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25H12v-1h7.75c.69 0 1.25-.56 1.25-1.25S20.44 17 19.75 17H12v-1h8.75c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25H12v-1h6.75c.69 0 1.25-.56 1.25-1.25S19.44 10 18.75 10H8.86c.64-1.11 1.48-2.58 1.49-2.61.09-.16.14-.33.14-.53 0-.26-.09-.5-.26-.7C10.22 6.12 9.12 5 9.12 5"}),"Wash"),gGe=({user:t,onLogout:e})=>{const n=pf();mf();const r=(t==null?void 0:t.role)||"",[i,o]=h.useState(!1),s=h.useRef(null),[a,l]=h.useState([]),[c,u]=h.useState(!0),[d,f]=h.useState({dashboard:!1,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1});console.log("👤 Informations utilisateur dans Navbar:",{nom:t==null?void 0:t.nom,role:r,email:t==null?void 0:t.email,id:t==null?void 0:t.id,user:t}),h.useEffect(()=>{var b;t&&!t.role?console.error("⚠️ Attention: L'utilisateur n'a pas de rôle défini!",t):t&&console.log("✅ Rôle utilisateur dans Navbar:",t.role),((b=t==null?void 0:t.email)==null?void 0:b.toLowerCase())==="mickael.volle@inovie.fr"&&t.role!=="Administrateur"&&console.warn("⚠️ Mickaël Volle n'a pas le rôle Administrateur!")},[t]),h.useEffect(()=>{const b=async()=>{try{u(!0);const E=await Cl.getInstance().getRoles();l(E),console.log("Navbar: Rôles chargés:",E),f({dashboard:jl(r,ti.DASHBOARD),passages:jl(r,ti.PASSAGES),sites:jl(r,ti.SITES),tournees:jl(r,ti.TOURNEES),vehicules:jl(r,ti.VEHICULES),map:jl(r,ti.CARTE),userManagement:jl(r,ti.USER_MANAGEMENT),adminPanel:jl(r,ti.ADMINISTRATION)})}catch(w){console.error("Erreur lors du chargement des rôles:",w)}finally{u(!1)}};b();const x=Cl.getInstance(),_=()=>{console.log("Navbar: Changement de rôles détecté, rechargement..."),b()};return x.addRoleChangeListener(_),()=>{x.removeRoleChangeListener(_)}},[r]);const p=()=>{var b;return((b=t==null?void 0:t.email)==null?void 0:b.toLowerCase())==="mickael.volle@inovie.fr"?"Mickaël Volle":(t==null?void 0:t.nom)||"Utilisateur"};console.log("🔑 ACCÈS GESTION UTILISATEURS DÉTAILS:",{role:r,userManagementAccess:d.userManagement,canAccessUserManagement:jl(r,ti.USER_MANAGEMENT),roleInRoleService:nne(r),allRoles:a,rolesArray:Array.isArray(a),rolesLength:a.length,pageAccessKey:ti.USER_MANAGEMENT}),h.useEffect(()=>{console.log("🔑 Navbar - Accès aux pages pour",r,":",d)},[r,d]),h.useEffect(()=>{const b=x=>{s.current&&!s.current.contains(x.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{o(!1),console.log("Déconnexion initiée..."),e(),window.location.href="/"},y=async()=>{if(t.email)try{const b=ene(),x=nn(dt,"users"),_=mr(x,Zr("email","==",t.email)),w=await yn(_);if(w.empty){console.error("❌ Aucun utilisateur trouvé avec cet email dans Firestore"),alert("Erreur: Utilisateur non trouvé dans la base de données");return}const E=w.docs[0];await Co(Sn(dt,"users",E.id),{tempPassword:b,passwordChanged:!1});const T={url:window.location.origin+`/login?email=${encodeURIComponent(t.email)}&reset=true`,handleCodeInApp:!0};await wI(ul,t.email,T),console.log("📧 Email de réinitialisation Firebase envoyé avec succès")}catch(b){console.error("❌ Erreur lors de la réinitialisation du mot de passe:",b),alert("Une erreur est survenue lors de la réinitialisation du mot de passe")}};return g.jsxs("div",{className:"navbar-container",children:[g.jsxs("div",{className:"app-header",children:[g.jsxs("div",{className:"logo-title-container",children:[g.jsx("img",{src:Kqe,alt:"Inovie Logo",className:"navbar-logo"}),g.jsx("span",{className:"logo-text",style:{textTransform:"none"},children:"inovie SCAN"})]}),g.jsxs("div",{className:"user-container",style:{display:"flex",alignItems:"center"},children:[r==="Administrateur"&&g.jsx(qqe,{}),g.jsxs("div",{className:"user-info",children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#0033a0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),g.jsxs("span",{className:"user-name",children:[p()," ",g.jsxs("span",{className:"user-role",children:["(",r,")"]})]})]}),g.jsxs("div",{className:"user-menu-container",ref:s,children:[g.jsxs("button",{className:`menu-button ${i?"active":""}`,onClick:()=>o(!i),children:["Menu",g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginLeft:"8px"},children:g.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),i&&g.jsxs("div",{className:"user-dropdown-menu",children:[g.jsxs("div",{className:"dropdown-item",onClick:()=>{o(!1),alert("La page de profil sera disponible prochainement")},children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#0033a0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Profil"]}),g.jsxs("div",{className:"dropdown-item",onClick:()=>{o(!1),y()},children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#0033a0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),g.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),"Réinitialiser mot de passe"]}),g.jsx("div",{className:"dropdown-divider"}),g.jsxs("div",{className:"dropdown-item logout",onClick:v,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#e74c3c",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),g.jsx("polyline",{points:"16 17 21 12 16 7"}),g.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Déconnexion"]})]})]})]})]}),g.jsxs("nav",{className:"nav-menu",children:[d.dashboard&&g.jsxs(Bu,{to:"/",className:`nav-item ${n.pathname==="/"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),g.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),g.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Tableau de bord"]}),d.passages&&g.jsxs(Bu,{to:"/passages",className:`nav-item ${n.pathname==="/passages"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),g.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})]}),"Passages"]}),d.sites&&g.jsxs(Bu,{to:"/sites",className:`nav-item ${n.pathname==="/sites"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Sites"]}),d.tournees&&g.jsxs(Bu,{to:"/tournees",className:`nav-item ${n.pathname==="/tournees"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"10"}),g.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Tournées"]}),d.vehicules&&g.jsx(g.Fragment,{children:g.jsxs(Bu,{to:"/vehicules",className:`nav-item ${n.pathname==="/vehicules"||n.pathname==="/vehicles"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M19 17h2a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h2"}),g.jsx("circle",{cx:"7",cy:"17",r:"2"}),g.jsx("circle",{cx:"17",cy:"17",r:"2"})]}),"Gestion des Véhicules"]})}),d.map&&g.jsxs(Bu,{to:"/map",className:`nav-item ${n.pathname==="/map"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),g.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),"Carte"]}),d.userManagement&&g.jsxs(Bu,{to:"/admin/users",className:`nav-item ${n.pathname==="/admin/users"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"9",cy:"7",r:"4"}),g.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),g.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"Gestion des utilisateurs"]}),r==="Administrateur"&&g.jsxs(Bu,{to:"/admin",className:`nav-item ${n.pathname==="/admin"?"active":""}`,children:[g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M12 20h9"}),g.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]}),"Administration"]})]})]})};var xj={},QR={};const vGe=Tu(y6e);var o9;function j_(){return o9||(o9=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=vGe}(QR)),QR}var yGe=wp;Object.defineProperty(xj,"__esModule",{value:!0});var I0=xj.default=void 0,bGe=yGe(j_()),xGe=g;I0=xj.default=(0,bGe.default)((0,xGe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var _j={},_Ge=wp;Object.defineProperty(_j,"__esModule",{value:!0});var ND=_j.default=void 0,wGe=_Ge(j_()),CGe=g;ND=_j.default=(0,wGe.default)((0,CGe.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var wj={},SGe=wp;Object.defineProperty(wj,"__esModule",{value:!0});var gne=wj.default=void 0,EGe=SGe(j_()),IGe=g;gne=wj.default=(0,EGe.default)((0,IGe.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M17 13l-5 5-5-5h3V9h4v4z"}),"CloudDownload");var Cj={},TGe=wp;Object.defineProperty(Cj,"__esModule",{value:!0});var vne=Cj.default=void 0,PGe=TGe(j_()),RGe=g;vne=Cj.default=(0,PGe.default)((0,RGe.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");var Sj={},kGe=wp;Object.defineProperty(Sj,"__esModule",{value:!0});var LD=Sj.default=void 0,MGe=kGe(j_()),OGe=g;LD=Sj.default=(0,MGe.default)((0,OGe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");function _C(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yne={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var d=typeof _C=="function"&&_C;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var y=r[c][1][v];return s(y||v)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof _C=="function"&&_C,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,d,f,p,v,y,b=[],x=0,_=l.length,w=_,E=o.getTypeOf(l)!=="string";x<l.length;)w=_-x,d=E?(c=l[x++],u=x<_?l[x++]:0,x<_?l[x++]:0):(c=l.charCodeAt(x++),u=x<_?l.charCodeAt(x++):0,x<_?l.charCodeAt(x++):0),f=c>>2,p=(3&c)<<4|u>>4,v=1<w?(15&u)<<2|d>>6:64,y=2<w?63&d:64,b.push(a.charAt(f)+a.charAt(p)+a.charAt(v)+a.charAt(y));return b.join("")},i.decode=function(l){var c,u,d,f,p,v,y=0,b=0,x="data:";if(l.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var _,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&w--,l.charAt(l.length-2)===a.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=s.uint8array?new Uint8Array(0|w):new Array(0|w);y<l.length;)c=a.indexOf(l.charAt(y++))<<2|(f=a.indexOf(l.charAt(y++)))>>4,u=(15&f)<<4|(p=a.indexOf(l.charAt(y++)))>>2,d=(3&p)<<6|(v=a.indexOf(l.charAt(y++))),_[b++]=c,p!==64&&(_[b++]=u),v!==64&&(_[b++]=d);return _}},{"./support":30,"./utils":32}],2:[function(n,r,i){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,d,f,p,v){this.compressedSize=u,this.uncompressedSize=d,this.crc32=f,this.compression=p,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,f){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var o=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var o=n("./utils"),s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(c,u,d,f){var p=s,v=f+d;c^=-1;for(var y=f;y<v;y++)c=c>>>8^p[255&(c^u[y])];return-1^c}(0|l,a,a.length,0):function(c,u,d,f){var p=s,v=f+d;c^=-1;for(var y=f;y<v;y++)c=c>>>8^p[255&(c^u.charCodeAt(y))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=o?"uint8array":"array";function u(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function o(p,v){var y,b="";for(y=0;y<v;y++)b+=String.fromCharCode(255&p),p>>>=8;return b}function s(p,v,y,b,x,_){var w,E,T=p.file,I=p.compression,S=_!==c.utf8encode,P=a.transformTo("string",_(T.name)),R=a.transformTo("string",c.utf8encode(T.name)),O=T.comment,N=a.transformTo("string",_(O)),A=a.transformTo("string",c.utf8encode(O)),$=R.length!==T.name.length,M=A.length!==O.length,F="",z="",j="",B=T.dir,W=T.date,q={crc32:0,compressedSize:0,uncompressedSize:0};v&&!y||(q.crc32=p.crc32,q.compressedSize=p.compressedSize,q.uncompressedSize=p.uncompressedSize);var G=0;v&&(G|=8),S||!$&&!M||(G|=2048);var X=0,ue=0;B&&(X|=16),x==="UNIX"?(ue=798,X|=function(J,se){var ge=J;return J||(ge=se?16893:33204),(65535&ge)<<16}(T.unixPermissions,B)):(ue=20,X|=function(J){return 63&(J||0)}(T.dosPermissions)),w=W.getUTCHours(),w<<=6,w|=W.getUTCMinutes(),w<<=5,w|=W.getUTCSeconds()/2,E=W.getUTCFullYear()-1980,E<<=4,E|=W.getUTCMonth()+1,E<<=5,E|=W.getUTCDate(),$&&(z=o(1,1)+o(u(P),4)+R,F+="up"+o(z.length,2)+z),M&&(j=o(1,1)+o(u(N),4)+A,F+="uc"+o(j.length,2)+j);var te="";return te+=`
\0`,te+=o(G,2),te+=I.magic,te+=o(w,2),te+=o(E,2),te+=o(q.crc32,4),te+=o(q.compressedSize,4),te+=o(q.uncompressedSize,4),te+=o(P.length,2),te+=o(F.length,2),{fileRecord:d.LOCAL_FILE_HEADER+te+P+F,dirRecord:d.CENTRAL_FILE_HEADER+o(ue,2)+te+o(N.length,2)+"\0\0\0\0"+o(X,4)+o(b,4)+P+F+N}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),d=n("../signature");function f(p,v,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(p){var v=p.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(v+100*(y-b-1))/y:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var y=s(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,y=s(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),v)this.push({data:function(b){return d.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var y=this.bytesWritten-p,b=function(x,_,w,E,T){var I=a.transformTo("string",T(E));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(x,2)+o(x,2)+o(_,4)+o(w,4)+o(I.length,2)+I}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(y){v.processChunk(y)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(y){v.error(y)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var v=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var y=0;y<v.length;y++)try{v[y].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var o=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,p){d++;var v=function(_,w){var E=_||w,T=o[E];if(!T)throw new Error(E+" is not a valid compression method !");return T}(p.options.compression,l.compression),y=p.options.compressionOptions||l.compressionOptions||{},b=p.dir,x=p.date;p._compressWorker(v,y).withStreamInfo("file",{name:f,dir:b,date:x,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(f){return new s.Promise(function(p,v){var y=f.decompressed.getContentWorker().pipe(new c);y.on("error",function(b){v(b)}).on("end",function(){y.streamInfo.crc32!==f.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(f,p){var v=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(y){var b=new l(p);return b.load(y),b}).then(function(y){var b=[s.Promise.resolve(y)],x=y.files;if(p.checkCRC32)for(var _=0;_<x.length;_++)b.push(d(x[_]));return s.Promise.all(b)}).then(function(y){for(var b=y.shift(),x=b.files,_=0;_<x.length;_++){var w=x[_],E=w.fileNameStr,T=o.resolve(w.fileNameStr);v.file(T,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(v.file(T).unsafeOriginalName=E)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}o.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var o=n("readable-stream").Readable;function s(a,l,c){o.call(this,l),this._helper=a;var u=this;a.on("data",function(d,f){u.push(d)||u._helper.pause(),c&&c(f)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,i){function o(T,I,S){var P,R=a.getTypeOf(I),O=a.extend(S||{},u);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(T=x(T)),O.createFolders&&(P=b(T))&&_.call(this,P,!0);var N=R==="string"&&O.binary===!1&&O.base64===!1;S&&S.binary!==void 0||(O.binary=!N),(I instanceof d&&I.uncompressedSize===0||O.dir||!I||I.length===0)&&(O.base64=!1,O.binary=!0,I="",O.compression="STORE",R="string");var A=null;A=I instanceof d||I instanceof l?I:v.isNode&&v.isStream(I)?new y(T,I):a.prepareContent(T,I,O.binary,O.optimizedBinaryString,O.base64);var $=new f(T,A,O);this.files[T]=$}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var I=T.lastIndexOf("/");return 0<I?T.substring(0,I):""},x=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},_=function(T,I){return I=I!==void 0?I:u.createFolders,T=x(T),this.files[T]||o.call(this,T,null,{dir:!0,createFolders:I}),this.files[T]};function w(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var I,S,P;for(I in this.files)P=this.files[I],(S=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&T(S,P)},filter:function(T){var I=[];return this.forEach(function(S,P){T(S,P)&&I.push(P)}),I},file:function(T,I,S){if(arguments.length!==1)return T=this.root+T,o.call(this,T,I,S),this;if(w(T)){var P=T;return this.filter(function(O,N){return!N.dir&&P.test(O)})}var R=this.files[this.root+T];return R&&!R.dir?R:null},folder:function(T){if(!T)return this;if(w(T))return this.filter(function(R,O){return O.dir&&T.test(R)});var I=this.root+T,S=_.call(this,I),P=this.clone();return P.root=S.name,P},remove:function(T){T=this.root+T;var I=this.files[T];if(I||(T.slice(-1)!=="/"&&(T+="/"),I=this.files[T]),I&&!I.dir)delete this.files[T];else for(var S=this.filter(function(R,O){return O.name.slice(0,T.length)===T}),P=0;P<S.length;P++)delete this.files[S[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var I,S={};try{if((S=a.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");a.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var P=S.comment||this.comment||"";I=p.generateWorker(this,S,P)}catch(R){(I=new l("error")).error(R)}return new c(I,S.type||"string",S.mimeType)},generateAsync:function(T,I){return this.generateInternalStream(T).accumulate(I)},generateNodeStream:function(T,I){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(I)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===c&&this.data[f+2]===u&&this.data[f+3]===d)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&c===f[1]&&u===f[2]&&d===f[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var f=o.getTypeOf(d);return o.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new c(d):s.uint8array?new u(o.transformTo("uint8array",d)):new a(o.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=o.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(n,r,i){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),d=null;if(c.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(v,y){return new u.Promise(function(b,x){var _=[],w=v._internalType,E=v._outputType,T=v._mimeType;v.on("data",function(I,S){_.push(I),y&&y(S)}).on("error",function(I){_=[],x(I)}).on("end",function(){try{var I=function(S,P,R){switch(S){case"blob":return o.newBlob(o.transformTo("arraybuffer",P),R);case"base64":return l.encode(P);default:return o.transformTo(S,P)}}(E,function(S,P){var R,O=0,N=null,A=0;for(R=0;R<P.length;R++)A+=P[R].length;switch(S){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(N=new Uint8Array(A),R=0;R<P.length;R++)N.set(P[R],O),O+=P[R].length;return N;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+S+"'")}}(w,_),T);b(I)}catch(S){x(S)}_=[]}).resume()})}function p(v,y,b){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=b,o.checkSupport(x),this._worker=v.pipe(new s(x)),v.lock()}catch(_){this._worker=new a("error"),this._worker.error(_)}}p.prototype={accumulate:function(v){return f(this,v)},on:function(v,y){var b=this;return v==="data"?this._worker.on(v,function(x){y.call(b,x.data,x.meta)}):this._worker.on(v,function(){o.delay(y,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return s.nodebuffer?a.newBufferFrom(p,"utf-8"):function(v){var y,b,x,_,w,E=v.length,T=0;for(_=0;_<E;_++)(64512&(b=v.charCodeAt(_)))==55296&&_+1<E&&(64512&(x=v.charCodeAt(_+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),_++),T+=b<128?1:b<2048?2:b<65536?3:4;for(y=s.uint8array?new Uint8Array(T):new Array(T),_=w=0;w<T;_++)(64512&(b=v.charCodeAt(_)))==55296&&_+1<E&&(64512&(x=v.charCodeAt(_+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),_++),b<128?y[w++]=b:(b<2048?y[w++]=192|b>>>6:(b<65536?y[w++]=224|b>>>12:(y[w++]=240|b>>>18,y[w++]=128|b>>>12&63),y[w++]=128|b>>>6&63),y[w++]=128|63&b);return y}(p)},i.utf8decode=function(p){return s.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(v){var y,b,x,_,w=v.length,E=new Array(2*w);for(y=b=0;y<w;)if((x=v[y++])<128)E[b++]=x;else if(4<(_=c[x]))E[b++]=65533,y+=_-1;else{for(x&=_===2?31:_===3?15:7;1<_&&y<w;)x=x<<6|63&v[y++],_--;1<_?E[b++]=65533:x<65536?E[b++]=x:(x-=65536,E[b++]=55296|x>>10&1023,E[b++]=56320|1023&x)}return E.length!==b&&(E.subarray?E=E.subarray(0,b):E.length=b),o.applyFromCharCode(E)}(p=o.transformTo(s.uint8array?"uint8array":"array",p))},o.inherits(d,l),d.prototype.processChunk=function(p){var v=o.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=v;(v=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),v.set(y,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=function(_,w){var E;for((w=w||_.length)>_.length&&(w=_.length),E=w-1;0<=E&&(192&_[E])==128;)E--;return E<0||E===0?w:E+c[_[E]]>w?E:w}(v),x=v;b!==v.length&&(s.uint8array?(x=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(x=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:i.utf8decode(x),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,o.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(y){return y}function u(y,b){for(var x=0;x<y.length;++x)b[x]=255&y.charCodeAt(x);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(y,b,x){var _=[],w=0,E=y.length;if(E<=x)return String.fromCharCode.apply(null,y);for(;w<E;)b==="array"||b==="nodebuffer"?_.push(String.fromCharCode.apply(null,y.slice(w,Math.min(w+x,E)))):_.push(String.fromCharCode.apply(null,y.subarray(w,Math.min(w+x,E)))),w+=x;return _.join("")},stringifyByChar:function(y){for(var b="",x=0;x<y.length;x++)b+=String.fromCharCode(y[x]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(y){var b=65536,x=i.getTypeOf(y),_=!0;if(x==="uint8array"?_=d.applyCanBeUsed.uint8array:x==="nodebuffer"&&(_=d.applyCanBeUsed.nodebuffer),_)for(;1<b;)try{return d.stringifyByChunk(y,x,b)}catch{b=Math.floor(b/2)}return d.stringifyByChar(y)}function p(y,b){for(var x=0;x<y.length;x++)b[x]=y[x];return b}i.applyFromCharCode=f;var v={};v.string={string:c,array:function(y){return u(y,new Array(y.length))},arraybuffer:function(y){return v.string.uint8array(y).buffer},uint8array:function(y){return u(y,new Uint8Array(y.length))},nodebuffer:function(y){return u(y,a.allocBuffer(y.length))}},v.array={string:f,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},v.arraybuffer={string:function(y){return f(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},v.uint8array={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return a.newBufferFrom(y)}},v.nodebuffer={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return v.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:c},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var x=i.getTypeOf(b);return v[x][y](b)},i.resolve=function(y){for(var b=y.split("/"),x=[],_=0;_<b.length;_++){var w=b[_];w==="."||w===""&&_!==0&&_!==b.length-1||(w===".."?x.pop():x.push(w))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,x,_="";for(x=0;x<(y||"").length;x++)_+="\\x"+((b=y.charCodeAt(x))<16?"0":"")+b.toString(16).toUpperCase();return _},i.delay=function(y,b,x){setImmediate(function(){y.apply(x||null,b||[])})},i.inherits=function(y,b){function x(){}x.prototype=b.prototype,y.prototype=new x},i.extend=function(){var y,b,x={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&x[b]===void 0&&(x[b]=arguments[y][b]);return x},i.prepareContent=function(y,b,x,_,w){return l.Promise.resolve(b).then(function(E){return o.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,I){var S=new FileReader;S.onload=function(P){T(P.target.result)},S.onerror=function(P){I(P.target.error)},S.readAsArrayBuffer(E)}):E}).then(function(E){var T=i.getTypeOf(E);return T?(T==="arraybuffer"?E=i.transformTo("uint8array",E):T==="string"&&(w?E=s.decode(E):x&&_!==!0&&(E=function(I){return u(I,o.uint8array?new Uint8Array(I.length):new Array(I.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(d)+")")}},isSignature:function(d,f){var p=this.reader.index;this.reader.setIndex(d);var v=this.reader.readString(4)===f;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=c.uint8array?"uint8array":"array",p=s.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,p,v=this.zip64EndOfCentralSize-44;0<v;)d=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=f-p;if(0<v)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(d){this.reader=o(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),d=n("./support");function f(p,v){this.options=p,this.loadOptions=v}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(b){for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x)&&u[x].magic===b)return u[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,y,b,x=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<x;)v=p.readInt(2),y=p.readInt(2),b=p.readData(y),this.extraFields[v]={id:v,length:y,value:b};p.setIndex(x)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var y=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var x=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=o(p.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=o(p.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(p.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function o(v,y,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");o.prototype={internalStream:function(v){var y=null,b="string";try{if(!v)throw new Error("No output type specified.");var x=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var _=!this._dataBinary;_&&!x&&(y=y.pipe(new l.Utf8EncodeWorker)),!_&&x&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(w){(y=new u("error")).error(w)}return new s(y,b,"")},async:function(v,y){return this.internalStream(v).accumulate(y)},nodeStream:function(v,y){return this.internalStream(v||"nodebuffer").toNodejsStream(y)},_compressWorker:function(v,y){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,v,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)o.prototype[d[p]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var c=0,u=new l(v),d=o.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){v(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(v,0)};else{var f=new o.MessageChannel;f.port1.onmessage=v,s=function(){f.port2.postMessage(0)}}var p=[];function v(){var y,b;a=!0;for(var x=p.length;x;){for(b=p,p=[],y=-1;++y<x;)b[y]();x=p.length}a=!1}r.exports=function(y){p.push(y)!==1||a||s()}}).call(this,typeof Tm<"u"?Tm:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var o=n("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function f(x,_,w){this.promise=x,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(x,_,w){o(function(){var E;try{E=_(w)}catch(T){return a.reject(x,T)}E===x?a.reject(x,new TypeError("Cannot resolve promise with itself")):a.resolve(x,E)})}function v(x){var _=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof _=="function")return function(){_.apply(x,arguments)}}function y(x,_){var w=!1;function E(S){w||(w=!0,a.reject(x,S))}function T(S){w||(w=!0,a.resolve(x,S))}var I=b(function(){_(T,E)});I.status==="error"&&E(I.value)}function b(x,_){var w={};try{w.value=x(_),w.status="success"}catch(E){w.status="error",w.value=E}return w}(r.exports=d).prototype.finally=function(x){if(typeof x!="function")return this;var _=this.constructor;return this.then(function(w){return _.resolve(x()).then(function(){return w})},function(w){return _.resolve(x()).then(function(){throw w})})},d.prototype.catch=function(x){return this.then(null,x)},d.prototype.then=function(x,_){if(typeof x!="function"&&this.state===c||typeof _!="function"&&this.state===l)return this;var w=new this.constructor(s);return this.state!==u?p(w,this.state===c?x:_,this.outcome):this.queue.push(new f(w,x,_)),w},f.prototype.callFulfilled=function(x){a.resolve(this.promise,x)},f.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},f.prototype.callRejected=function(x){a.reject(this.promise,x)},f.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)},a.resolve=function(x,_){var w=b(v,_);if(w.status==="error")return a.reject(x,w.value);var E=w.value;if(E)y(x,E);else{x.state=c,x.outcome=_;for(var T=-1,I=x.queue.length;++T<I;)x.queue[T].callFulfilled(_)}return x},a.reject=function(x,_){x.state=l,x.outcome=_;for(var w=-1,E=x.queue.length;++w<E;)x.queue[w].callRejected(_);return x},d.resolve=function(x){return x instanceof this?x:a.resolve(new this(s),x)},d.reject=function(x){var _=new this(s);return a.reject(_,x)},d.all=function(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,E=!1;if(!w)return this.resolve([]);for(var T=new Array(w),I=0,S=-1,P=new this(s);++S<w;)R(x[S],S);return P;function R(O,N){_.resolve(O).then(function(A){T[N]=A,++I!==w||E||(E=!0,a.resolve(P,T))},function(A){E||(E=!0,a.reject(P,A))})}},d.race=function(x){var _=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,E=!1;if(!w)return this.resolve([]);for(var T=-1,I=new this(s);++T<w;)S=x[T],_.resolve(S).then(function(P){E||(E=!0,a.resolve(I,P))},function(P){E||(E=!0,a.reject(I,P))});var S;return I}},{immediate:36}],38:[function(n,r,i){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,d=0,f=-1,p=0,v=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:f,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},x||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=o.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(w!==d)throw new Error(l[w]);if(_.header&&o.deflateSetHeader(this.strm,_.header),_.dictionary){var E;if(E=typeof _.dictionary=="string"?a.string2buf(_.dictionary):u.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(w=o.deflateSetDictionary(this.strm,E))!==d)throw new Error(l[w]);this._dict_set=!0}}function b(x,_){var w=new y(_);if(w.push(x,!0),w.err)throw w.msg||l[w.err];return w.result}y.prototype.push=function(x,_){var w,E,T=this.strm,I=this.options.chunkSize;if(this.ended)return!1;E=_===~~_?_:_===!0?4:0,typeof x=="string"?T.input=a.string2buf(x):u.call(x)==="[object ArrayBuffer]"?T.input=new Uint8Array(x):T.input=x,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(I),T.next_out=0,T.avail_out=I),(w=o.deflate(T,E))!==1&&w!==d)return this.onEnd(w),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(T.output,T.next_out))):this.onData(s.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&w!==1);return E===4?(w=o.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d):E!==2||(this.onEnd(d),!(T.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(x,_){return(_=_||{}).raw=!0,b(x,_)},i.gzip=function(x,_){return(_=_||{}).gzip=!0,b(x,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=o.inflateInit2(this.strm,b.windowBits);if(x!==l.Z_OK)throw new Error(c[x]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function v(y,b){var x=new p(b);if(x.push(y,!0),x.err)throw x.msg||c[x.err];return x.result}p.prototype.push=function(y,b){var x,_,w,E,T,I,S=this.strm,P=this.options.chunkSize,R=this.options.dictionary,O=!1;if(this.ended)return!1;_=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?S.input=a.binstring2buf(y):f.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(P),S.next_out=0,S.avail_out=P),(x=o.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&R&&(I=typeof R=="string"?a.string2buf(R):f.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,x=o.inflateSetDictionary(this.strm,I)),x===l.Z_BUF_ERROR&&O===!0&&(x=l.Z_OK,O=!1),x!==l.Z_STREAM_END&&x!==l.Z_OK)return this.onEnd(x),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&x!==l.Z_STREAM_END&&(S.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=a.utf8border(S.output,S.next_out),E=S.next_out-w,T=a.buf2string(S.output,w),S.next_out=E,S.avail_out=P-E,E&&s.arraySet(S.output,S.output,w,E,0),this.onData(T)):this.onData(s.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(O=!0)}while((0<S.avail_in||S.avail_out===0)&&x!==l.Z_STREAM_END);return x===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(x=o.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=p,i.inflate=v,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,v(y,b)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,f){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),f);else for(var p=0;p<d;p++)l[f+p]=c[u+p]},flattenChunks:function(l){var c,u,d,f,p,v;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(v=new Uint8Array(d),c=f=0,u=l.length;c<u;c++)p=l[c],v.set(p,f),f+=p.length;return v}},a={arraySet:function(l,c,u,d,f){for(var p=0;p<d;p++)l[f+p]=c[u+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(o)},{}],42:[function(n,r,i){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(d,f));for(var p="",v=0;v<f;v++)p+=String.fromCharCode(d[v]);return p}l[254]=l[254]=1,i.string2buf=function(d){var f,p,v,y,b,x=d.length,_=0;for(y=0;y<x;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),y++),_+=p<128?1:p<2048?2:p<65536?3:4;for(f=new o.Buf8(_),y=b=0;b<_;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<x&&(64512&(v=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),y++),p<128?f[b++]=p:(p<2048?f[b++]=192|p>>>6:(p<65536?f[b++]=224|p>>>12:(f[b++]=240|p>>>18,f[b++]=128|p>>>12&63),f[b++]=128|p>>>6&63),f[b++]=128|63&p);return f},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var f=new o.Buf8(d.length),p=0,v=f.length;p<v;p++)f[p]=d.charCodeAt(p);return f},i.buf2string=function(d,f){var p,v,y,b,x=f||d.length,_=new Array(2*x);for(p=v=0;p<x;)if((y=d[p++])<128)_[v++]=y;else if(4<(b=l[y]))_[v++]=65533,p+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&p<x;)y=y<<6|63&d[p++],b--;1<b?_[v++]=65533:y<65536?_[v++]=y:(y-=65536,_[v++]=55296|y>>10&1023,_[v++]=56320|1023&y)}return u(_,v)},i.utf8border=function(d,f){var p;for((f=f||d.length)>d.length&&(f=d.length),p=f-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?f:p+l[d[p]]>f?p:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(o,s,a,l){for(var c=65535&o|0,u=o>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var o=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();r.exports=function(s,a,l,c){var u=o,d=c+l;s^=-1;for(var f=c;f<d;f++)s=s>>>8^u[255&(s^a[f])];return-1^s}},{}],46:[function(n,r,i){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),d=0,f=4,p=0,v=-2,y=-1,b=4,x=2,_=8,w=9,E=286,T=30,I=19,S=2*E+1,P=15,R=3,O=258,N=O+R+1,A=42,$=113,M=1,F=2,z=3,j=4;function B(V,ie){return V.msg=u[ie],ie}function W(V){return(V<<1)-(4<V?9:0)}function q(V){for(var ie=V.length;0<=--ie;)V[ie]=0}function G(V){var ie=V.state,re=ie.pending;re>V.avail_out&&(re=V.avail_out),re!==0&&(s.arraySet(V.output,ie.pending_buf,ie.pending_out,re,V.next_out),V.next_out+=re,ie.pending_out+=re,V.total_out+=re,V.avail_out-=re,ie.pending-=re,ie.pending===0&&(ie.pending_out=0))}function X(V,ie){a._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ie),V.block_start=V.strstart,G(V.strm)}function ue(V,ie){V.pending_buf[V.pending++]=ie}function te(V,ie){V.pending_buf[V.pending++]=ie>>>8&255,V.pending_buf[V.pending++]=255&ie}function J(V,ie){var re,ee,Y=V.max_chain_length,he=V.strstart,Ce=V.prev_length,me=V.nice_match,fe=V.strstart>V.w_size-N?V.strstart-(V.w_size-N):0,ye=V.window,Te=V.w_mask,ke=V.prev,je=V.strstart+O,de=ye[he+Ce-1],Se=ye[he+Ce];V.prev_length>=V.good_match&&(Y>>=2),me>V.lookahead&&(me=V.lookahead);do if(ye[(re=ie)+Ce]===Se&&ye[re+Ce-1]===de&&ye[re]===ye[he]&&ye[++re]===ye[he+1]){he+=2,re++;do;while(ye[++he]===ye[++re]&&ye[++he]===ye[++re]&&ye[++he]===ye[++re]&&ye[++he]===ye[++re]&&ye[++he]===ye[++re]&&ye[++he]===ye[++re]&&ye[++he]===ye[++re]&&ye[++he]===ye[++re]&&he<je);if(ee=O-(je-he),he=je-O,Ce<ee){if(V.match_start=ie,me<=(Ce=ee))break;de=ye[he+Ce-1],Se=ye[he+Ce]}}while((ie=ke[ie&Te])>fe&&--Y!=0);return Ce<=V.lookahead?Ce:V.lookahead}function se(V){var ie,re,ee,Y,he,Ce,me,fe,ye,Te,ke=V.w_size;do{if(Y=V.window_size-V.lookahead-V.strstart,V.strstart>=ke+(ke-N)){for(s.arraySet(V.window,V.window,ke,ke,0),V.match_start-=ke,V.strstart-=ke,V.block_start-=ke,ie=re=V.hash_size;ee=V.head[--ie],V.head[ie]=ke<=ee?ee-ke:0,--re;);for(ie=re=ke;ee=V.prev[--ie],V.prev[ie]=ke<=ee?ee-ke:0,--re;);Y+=ke}if(V.strm.avail_in===0)break;if(Ce=V.strm,me=V.window,fe=V.strstart+V.lookahead,ye=Y,Te=void 0,Te=Ce.avail_in,ye<Te&&(Te=ye),re=Te===0?0:(Ce.avail_in-=Te,s.arraySet(me,Ce.input,Ce.next_in,Te,fe),Ce.state.wrap===1?Ce.adler=l(Ce.adler,me,Te,fe):Ce.state.wrap===2&&(Ce.adler=c(Ce.adler,me,Te,fe)),Ce.next_in+=Te,Ce.total_in+=Te,Te),V.lookahead+=re,V.lookahead+V.insert>=R)for(he=V.strstart-V.insert,V.ins_h=V.window[he],V.ins_h=(V.ins_h<<V.hash_shift^V.window[he+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[he+R-1])&V.hash_mask,V.prev[he&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=he,he++,V.insert--,!(V.lookahead+V.insert<R)););}while(V.lookahead<N&&V.strm.avail_in!==0)}function ge(V,ie){for(var re,ee;;){if(V.lookahead<N){if(se(V),V.lookahead<N&&ie===d)return M;if(V.lookahead===0)break}if(re=0,V.lookahead>=R&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+R-1])&V.hash_mask,re=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),re!==0&&V.strstart-re<=V.w_size-N&&(V.match_length=J(V,re)),V.match_length>=R)if(ee=a._tr_tally(V,V.strstart-V.match_start,V.match_length-R),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=R){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+R-1])&V.hash_mask,re=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else ee=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(ee&&(X(V,!1),V.strm.avail_out===0))return M}return V.insert=V.strstart<R-1?V.strstart:R-1,ie===f?(X(V,!0),V.strm.avail_out===0?z:j):V.last_lit&&(X(V,!1),V.strm.avail_out===0)?M:F}function le(V,ie){for(var re,ee,Y;;){if(V.lookahead<N){if(se(V),V.lookahead<N&&ie===d)return M;if(V.lookahead===0)break}if(re=0,V.lookahead>=R&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+R-1])&V.hash_mask,re=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=R-1,re!==0&&V.prev_length<V.max_lazy_match&&V.strstart-re<=V.w_size-N&&(V.match_length=J(V,re),V.match_length<=5&&(V.strategy===1||V.match_length===R&&4096<V.strstart-V.match_start)&&(V.match_length=R-1)),V.prev_length>=R&&V.match_length<=V.prev_length){for(Y=V.strstart+V.lookahead-R,ee=a._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-R),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=Y&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+R-1])&V.hash_mask,re=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=R-1,V.strstart++,ee&&(X(V,!1),V.strm.avail_out===0))return M}else if(V.match_available){if((ee=a._tr_tally(V,0,V.window[V.strstart-1]))&&X(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return M}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(ee=a._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<R-1?V.strstart:R-1,ie===f?(X(V,!0),V.strm.avail_out===0?z:j):V.last_lit&&(X(V,!1),V.strm.avail_out===0)?M:F}function we(V,ie,re,ee,Y){this.good_length=V,this.max_lazy=ie,this.nice_length=re,this.max_chain=ee,this.func=Y}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*S),this.dyn_dtree=new s.Buf16(2*(2*T+1)),this.bl_tree=new s.Buf16(2*(2*I+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*E+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*E+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(V){var ie;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=x,(ie=V.state).pending=0,ie.pending_out=0,ie.wrap<0&&(ie.wrap=-ie.wrap),ie.status=ie.wrap?A:$,V.adler=ie.wrap===2?0:1,ie.last_flush=d,a._tr_init(ie),p):B(V,v)}function K(V){var ie=be(V);return ie===p&&function(re){re.window_size=2*re.w_size,q(re.head),re.max_lazy_match=o[re.level].max_lazy,re.good_match=o[re.level].good_length,re.nice_match=o[re.level].nice_length,re.max_chain_length=o[re.level].max_chain,re.strstart=0,re.block_start=0,re.lookahead=0,re.insert=0,re.match_length=re.prev_length=R-1,re.match_available=0,re.ins_h=0}(V.state),ie}function oe(V,ie,re,ee,Y,he){if(!V)return v;var Ce=1;if(ie===y&&(ie=6),ee<0?(Ce=0,ee=-ee):15<ee&&(Ce=2,ee-=16),Y<1||w<Y||re!==_||ee<8||15<ee||ie<0||9<ie||he<0||b<he)return B(V,v);ee===8&&(ee=9);var me=new ce;return(V.state=me).strm=V,me.wrap=Ce,me.gzhead=null,me.w_bits=ee,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=Y+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+R-1)/R),me.window=new s.Buf8(2*me.w_size),me.head=new s.Buf16(me.hash_size),me.prev=new s.Buf16(me.w_size),me.lit_bufsize=1<<Y+6,me.pending_buf_size=4*me.lit_bufsize,me.pending_buf=new s.Buf8(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=3*me.lit_bufsize,me.level=ie,me.strategy=he,me.method=re,K(V)}o=[new we(0,0,0,0,function(V,ie){var re=65535;for(re>V.pending_buf_size-5&&(re=V.pending_buf_size-5);;){if(V.lookahead<=1){if(se(V),V.lookahead===0&&ie===d)return M;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var ee=V.block_start+re;if((V.strstart===0||V.strstart>=ee)&&(V.lookahead=V.strstart-ee,V.strstart=ee,X(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-N&&(X(V,!1),V.strm.avail_out===0))return M}return V.insert=0,ie===f?(X(V,!0),V.strm.avail_out===0?z:j):(V.strstart>V.block_start&&(X(V,!1),V.strm.avail_out),M)}),new we(4,4,8,4,ge),new we(4,5,16,8,ge),new we(4,6,32,32,ge),new we(4,4,16,16,le),new we(8,16,32,32,le),new we(8,16,128,128,le),new we(8,32,128,256,le),new we(32,128,258,1024,le),new we(32,258,258,4096,le)],i.deflateInit=function(V,ie){return oe(V,ie,_,15,8,0)},i.deflateInit2=oe,i.deflateReset=K,i.deflateResetKeep=be,i.deflateSetHeader=function(V,ie){return V&&V.state?V.state.wrap!==2?v:(V.state.gzhead=ie,p):v},i.deflate=function(V,ie){var re,ee,Y,he;if(!V||!V.state||5<ie||ie<0)return V?B(V,v):v;if(ee=V.state,!V.output||!V.input&&V.avail_in!==0||ee.status===666&&ie!==f)return B(V,V.avail_out===0?-5:v);if(ee.strm=V,re=ee.last_flush,ee.last_flush=ie,ee.status===A)if(ee.wrap===2)V.adler=0,ue(ee,31),ue(ee,139),ue(ee,8),ee.gzhead?(ue(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),ue(ee,255&ee.gzhead.time),ue(ee,ee.gzhead.time>>8&255),ue(ee,ee.gzhead.time>>16&255),ue(ee,ee.gzhead.time>>24&255),ue(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),ue(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(ue(ee,255&ee.gzhead.extra.length),ue(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(V.adler=c(V.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(ue(ee,0),ue(ee,0),ue(ee,0),ue(ee,0),ue(ee,0),ue(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),ue(ee,3),ee.status=$);else{var Ce=_+(ee.w_bits-8<<4)<<8;Ce|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(Ce|=32),Ce+=31-Ce%31,ee.status=$,te(ee,Ce),ee.strstart!==0&&(te(ee,V.adler>>>16),te(ee,65535&V.adler)),V.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(Y=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>Y&&(V.adler=c(V.adler,ee.pending_buf,ee.pending-Y,Y)),G(V),Y=ee.pending,ee.pending!==ee.pending_buf_size));)ue(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>Y&&(V.adler=c(V.adler,ee.pending_buf,ee.pending-Y,Y)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){Y=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Y&&(V.adler=c(V.adler,ee.pending_buf,ee.pending-Y,Y)),G(V),Y=ee.pending,ee.pending===ee.pending_buf_size)){he=1;break}he=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,ue(ee,he)}while(he!==0);ee.gzhead.hcrc&&ee.pending>Y&&(V.adler=c(V.adler,ee.pending_buf,ee.pending-Y,Y)),he===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){Y=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Y&&(V.adler=c(V.adler,ee.pending_buf,ee.pending-Y,Y)),G(V),Y=ee.pending,ee.pending===ee.pending_buf_size)){he=1;break}he=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,ue(ee,he)}while(he!==0);ee.gzhead.hcrc&&ee.pending>Y&&(V.adler=c(V.adler,ee.pending_buf,ee.pending-Y,Y)),he===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&G(V),ee.pending+2<=ee.pending_buf_size&&(ue(ee,255&V.adler),ue(ee,V.adler>>8&255),V.adler=0,ee.status=$)):ee.status=$),ee.pending!==0){if(G(V),V.avail_out===0)return ee.last_flush=-1,p}else if(V.avail_in===0&&W(ie)<=W(re)&&ie!==f)return B(V,-5);if(ee.status===666&&V.avail_in!==0)return B(V,-5);if(V.avail_in!==0||ee.lookahead!==0||ie!==d&&ee.status!==666){var me=ee.strategy===2?function(fe,ye){for(var Te;;){if(fe.lookahead===0&&(se(fe),fe.lookahead===0)){if(ye===d)return M;break}if(fe.match_length=0,Te=a._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,Te&&(X(fe,!1),fe.strm.avail_out===0))return M}return fe.insert=0,ye===f?(X(fe,!0),fe.strm.avail_out===0?z:j):fe.last_lit&&(X(fe,!1),fe.strm.avail_out===0)?M:F}(ee,ie):ee.strategy===3?function(fe,ye){for(var Te,ke,je,de,Se=fe.window;;){if(fe.lookahead<=O){if(se(fe),fe.lookahead<=O&&ye===d)return M;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=R&&0<fe.strstart&&(ke=Se[je=fe.strstart-1])===Se[++je]&&ke===Se[++je]&&ke===Se[++je]){de=fe.strstart+O;do;while(ke===Se[++je]&&ke===Se[++je]&&ke===Se[++je]&&ke===Se[++je]&&ke===Se[++je]&&ke===Se[++je]&&ke===Se[++je]&&ke===Se[++je]&&je<de);fe.match_length=O-(de-je),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=R?(Te=a._tr_tally(fe,1,fe.match_length-R),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(Te=a._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),Te&&(X(fe,!1),fe.strm.avail_out===0))return M}return fe.insert=0,ye===f?(X(fe,!0),fe.strm.avail_out===0?z:j):fe.last_lit&&(X(fe,!1),fe.strm.avail_out===0)?M:F}(ee,ie):o[ee.level].func(ee,ie);if(me!==z&&me!==j||(ee.status=666),me===M||me===z)return V.avail_out===0&&(ee.last_flush=-1),p;if(me===F&&(ie===1?a._tr_align(ee):ie!==5&&(a._tr_stored_block(ee,0,0,!1),ie===3&&(q(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),G(V),V.avail_out===0))return ee.last_flush=-1,p}return ie!==f?p:ee.wrap<=0?1:(ee.wrap===2?(ue(ee,255&V.adler),ue(ee,V.adler>>8&255),ue(ee,V.adler>>16&255),ue(ee,V.adler>>24&255),ue(ee,255&V.total_in),ue(ee,V.total_in>>8&255),ue(ee,V.total_in>>16&255),ue(ee,V.total_in>>24&255)):(te(ee,V.adler>>>16),te(ee,65535&V.adler)),G(V),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?p:1)},i.deflateEnd=function(V){var ie;return V&&V.state?(ie=V.state.status)!==A&&ie!==69&&ie!==73&&ie!==91&&ie!==103&&ie!==$&&ie!==666?B(V,v):(V.state=null,ie===$?B(V,-3):p):v},i.deflateSetDictionary=function(V,ie){var re,ee,Y,he,Ce,me,fe,ye,Te=ie.length;if(!V||!V.state||(he=(re=V.state).wrap)===2||he===1&&re.status!==A||re.lookahead)return v;for(he===1&&(V.adler=l(V.adler,ie,Te,0)),re.wrap=0,Te>=re.w_size&&(he===0&&(q(re.head),re.strstart=0,re.block_start=0,re.insert=0),ye=new s.Buf8(re.w_size),s.arraySet(ye,ie,Te-re.w_size,re.w_size,0),ie=ye,Te=re.w_size),Ce=V.avail_in,me=V.next_in,fe=V.input,V.avail_in=Te,V.next_in=0,V.input=ie,se(re);re.lookahead>=R;){for(ee=re.strstart,Y=re.lookahead-(R-1);re.ins_h=(re.ins_h<<re.hash_shift^re.window[ee+R-1])&re.hash_mask,re.prev[ee&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=ee,ee++,--Y;);re.strstart=ee,re.lookahead=R-1,se(re)}return re.strstart+=re.lookahead,re.block_start=re.strstart,re.insert=re.lookahead,re.lookahead=0,re.match_length=re.prev_length=R-1,re.match_available=0,V.next_in=me,V.input=fe,V.avail_in=Ce,re.wrap=he,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(o,s){var a,l,c,u,d,f,p,v,y,b,x,_,w,E,T,I,S,P,R,O,N,A,$,M,F;a=o.state,l=o.next_in,M=o.input,c=l+(o.avail_in-5),u=o.next_out,F=o.output,d=u-(s-o.avail_out),f=u+(o.avail_out-257),p=a.dmax,v=a.wsize,y=a.whave,b=a.wnext,x=a.window,_=a.hold,w=a.bits,E=a.lencode,T=a.distcode,I=(1<<a.lenbits)-1,S=(1<<a.distbits)-1;e:do{w<15&&(_+=M[l++]<<w,w+=8,_+=M[l++]<<w,w+=8),P=E[_&I];t:for(;;){if(_>>>=R=P>>>24,w-=R,(R=P>>>16&255)===0)F[u++]=65535&P;else{if(!(16&R)){if(!(64&R)){P=E[(65535&P)+(_&(1<<R)-1)];continue t}if(32&R){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}O=65535&P,(R&=15)&&(w<R&&(_+=M[l++]<<w,w+=8),O+=_&(1<<R)-1,_>>>=R,w-=R),w<15&&(_+=M[l++]<<w,w+=8,_+=M[l++]<<w,w+=8),P=T[_&S];n:for(;;){if(_>>>=R=P>>>24,w-=R,!(16&(R=P>>>16&255))){if(!(64&R)){P=T[(65535&P)+(_&(1<<R)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(N=65535&P,w<(R&=15)&&(_+=M[l++]<<w,(w+=8)<R&&(_+=M[l++]<<w,w+=8)),p<(N+=_&(1<<R)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(_>>>=R,w-=R,(R=u-d)<N){if(y<(R=N-R)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if($=x,(A=0)===b){if(A+=v-R,R<O){for(O-=R;F[u++]=x[A++],--R;);A=u-N,$=F}}else if(b<R){if(A+=v+b-R,(R-=b)<O){for(O-=R;F[u++]=x[A++],--R;);if(A=0,b<O){for(O-=R=b;F[u++]=x[A++],--R;);A=u-N,$=F}}}else if(A+=b-R,R<O){for(O-=R;F[u++]=x[A++],--R;);A=u-N,$=F}for(;2<O;)F[u++]=$[A++],F[u++]=$[A++],F[u++]=$[A++],O-=3;O&&(F[u++]=$[A++],1<O&&(F[u++]=$[A++]))}else{for(A=u-N;F[u++]=F[A++],F[u++]=F[A++],F[u++]=F[A++],2<(O-=3););O&&(F[u++]=F[A++],1<O&&(F[u++]=F[A++]))}break}}break}}while(l<c&&u<f);l-=O=w>>3,_&=(1<<(w-=O<<3))-1,o.next_in=l,o.next_out=u,o.avail_in=l<c?c-l+5:5-(l-c),o.avail_out=u<f?f-u+257:257-(u-f),a.hold=_,a.bits=w}},{}],49:[function(n,r,i){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,d=2,f=0,p=-2,v=1,y=852,b=592;function x(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(A){var $;return A&&A.state?($=A.state,A.total_in=A.total_out=$.total=0,A.msg="",$.wrap&&(A.adler=1&$.wrap),$.mode=v,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new o.Buf32(y),$.distcode=$.distdyn=new o.Buf32(b),$.sane=1,$.back=-1,f):p}function E(A){var $;return A&&A.state?(($=A.state).wsize=0,$.whave=0,$.wnext=0,w(A)):p}function T(A,$){var M,F;return A&&A.state?(F=A.state,$<0?(M=0,$=-$):(M=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?p:(F.window!==null&&F.wbits!==$&&(F.window=null),F.wrap=M,F.wbits=$,E(A))):p}function I(A,$){var M,F;return A?(F=new _,(A.state=F).window=null,(M=T(A,$))!==f&&(A.state=null),M):p}var S,P,R=!0;function O(A){if(R){var $;for(S=new o.Buf32(512),P=new o.Buf32(32),$=0;$<144;)A.lens[$++]=8;for(;$<256;)A.lens[$++]=9;for(;$<280;)A.lens[$++]=7;for(;$<288;)A.lens[$++]=8;for(c(u,A.lens,0,288,S,0,A.work,{bits:9}),$=0;$<32;)A.lens[$++]=5;c(d,A.lens,0,32,P,0,A.work,{bits:5}),R=!1}A.lencode=S,A.lenbits=9,A.distcode=P,A.distbits=5}function N(A,$,M,F){var z,j=A.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new o.Buf8(j.wsize)),F>=j.wsize?(o.arraySet(j.window,$,M-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(F<(z=j.wsize-j.wnext)&&(z=F),o.arraySet(j.window,$,M-F,z,j.wnext),(F-=z)?(o.arraySet(j.window,$,M-F,F,0),j.wnext=F,j.whave=j.wsize):(j.wnext+=z,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=z))),0}i.inflateReset=E,i.inflateReset2=T,i.inflateResetKeep=w,i.inflateInit=function(A){return I(A,15)},i.inflateInit2=I,i.inflate=function(A,$){var M,F,z,j,B,W,q,G,X,ue,te,J,se,ge,le,we,ce,be,K,oe,V,ie,re,ee,Y=0,he=new o.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return p;(M=A.state).mode===12&&(M.mode=13),B=A.next_out,z=A.output,q=A.avail_out,j=A.next_in,F=A.input,W=A.avail_in,G=M.hold,X=M.bits,ue=W,te=q,ie=f;e:for(;;)switch(M.mode){case v:if(M.wrap===0){M.mode=13;break}for(;X<16;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(2&M.wrap&&G===35615){he[M.check=0]=255&G,he[1]=G>>>8&255,M.check=a(M.check,he,2,0),X=G=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&G)<<8)+(G>>8))%31){A.msg="incorrect header check",M.mode=30;break}if((15&G)!=8){A.msg="unknown compression method",M.mode=30;break}if(X-=4,V=8+(15&(G>>>=4)),M.wbits===0)M.wbits=V;else if(V>M.wbits){A.msg="invalid window size",M.mode=30;break}M.dmax=1<<V,A.adler=M.check=1,M.mode=512&G?10:12,X=G=0;break;case 2:for(;X<16;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(M.flags=G,(255&M.flags)!=8){A.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){A.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=G>>8&1),512&M.flags&&(he[0]=255&G,he[1]=G>>>8&255,M.check=a(M.check,he,2,0)),X=G=0,M.mode=3;case 3:for(;X<32;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}M.head&&(M.head.time=G),512&M.flags&&(he[0]=255&G,he[1]=G>>>8&255,he[2]=G>>>16&255,he[3]=G>>>24&255,M.check=a(M.check,he,4,0)),X=G=0,M.mode=4;case 4:for(;X<16;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}M.head&&(M.head.xflags=255&G,M.head.os=G>>8),512&M.flags&&(he[0]=255&G,he[1]=G>>>8&255,M.check=a(M.check,he,2,0)),X=G=0,M.mode=5;case 5:if(1024&M.flags){for(;X<16;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}M.length=G,M.head&&(M.head.extra_len=G),512&M.flags&&(he[0]=255&G,he[1]=G>>>8&255,M.check=a(M.check,he,2,0)),X=G=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(W<(J=M.length)&&(J=W),J&&(M.head&&(V=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),o.arraySet(M.head.extra,F,j,J,V)),512&M.flags&&(M.check=a(M.check,F,J,j)),W-=J,j+=J,M.length-=J),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(W===0)break e;for(J=0;V=F[j+J++],M.head&&V&&M.length<65536&&(M.head.name+=String.fromCharCode(V)),V&&J<W;);if(512&M.flags&&(M.check=a(M.check,F,J,j)),W-=J,j+=J,V)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(W===0)break e;for(J=0;V=F[j+J++],M.head&&V&&M.length<65536&&(M.head.comment+=String.fromCharCode(V)),V&&J<W;);if(512&M.flags&&(M.check=a(M.check,F,J,j)),W-=J,j+=J,V)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;X<16;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(G!==(65535&M.check)){A.msg="header crc mismatch",M.mode=30;break}X=G=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),A.adler=M.check=0,M.mode=12;break;case 10:for(;X<32;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}A.adler=M.check=x(G),X=G=0,M.mode=11;case 11:if(M.havedict===0)return A.next_out=B,A.avail_out=q,A.next_in=j,A.avail_in=W,M.hold=G,M.bits=X,2;A.adler=M.check=1,M.mode=12;case 12:if($===5||$===6)break e;case 13:if(M.last){G>>>=7&X,X-=7&X,M.mode=27;break}for(;X<3;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}switch(M.last=1&G,X-=1,3&(G>>>=1)){case 0:M.mode=14;break;case 1:if(O(M),M.mode=20,$!==6)break;G>>>=2,X-=2;break e;case 2:M.mode=17;break;case 3:A.msg="invalid block type",M.mode=30}G>>>=2,X-=2;break;case 14:for(G>>>=7&X,X-=7&X;X<32;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if((65535&G)!=(G>>>16^65535)){A.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&G,X=G=0,M.mode=15,$===6)break e;case 15:M.mode=16;case 16:if(J=M.length){if(W<J&&(J=W),q<J&&(J=q),J===0)break e;o.arraySet(z,F,j,J,B),W-=J,j+=J,q-=J,B+=J,M.length-=J;break}M.mode=12;break;case 17:for(;X<14;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(M.nlen=257+(31&G),G>>>=5,X-=5,M.ndist=1+(31&G),G>>>=5,X-=5,M.ncode=4+(15&G),G>>>=4,X-=4,286<M.nlen||30<M.ndist){A.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;X<3;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}M.lens[Ce[M.have++]]=7&G,G>>>=3,X-=3}for(;M.have<19;)M.lens[Ce[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,re={bits:M.lenbits},ie=c(0,M.lens,0,19,M.lencode,0,M.work,re),M.lenbits=re.bits,ie){A.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;we=(Y=M.lencode[G&(1<<M.lenbits)-1])>>>16&255,ce=65535&Y,!((le=Y>>>24)<=X);){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(ce<16)G>>>=le,X-=le,M.lens[M.have++]=ce;else{if(ce===16){for(ee=le+2;X<ee;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(G>>>=le,X-=le,M.have===0){A.msg="invalid bit length repeat",M.mode=30;break}V=M.lens[M.have-1],J=3+(3&G),G>>>=2,X-=2}else if(ce===17){for(ee=le+3;X<ee;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}X-=le,V=0,J=3+(7&(G>>>=le)),G>>>=3,X-=3}else{for(ee=le+7;X<ee;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}X-=le,V=0,J=11+(127&(G>>>=le)),G>>>=7,X-=7}if(M.have+J>M.nlen+M.ndist){A.msg="invalid bit length repeat",M.mode=30;break}for(;J--;)M.lens[M.have++]=V}}if(M.mode===30)break;if(M.lens[256]===0){A.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,re={bits:M.lenbits},ie=c(u,M.lens,0,M.nlen,M.lencode,0,M.work,re),M.lenbits=re.bits,ie){A.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,re={bits:M.distbits},ie=c(d,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,re),M.distbits=re.bits,ie){A.msg="invalid distances set",M.mode=30;break}if(M.mode=20,$===6)break e;case 20:M.mode=21;case 21:if(6<=W&&258<=q){A.next_out=B,A.avail_out=q,A.next_in=j,A.avail_in=W,M.hold=G,M.bits=X,l(A,te),B=A.next_out,z=A.output,q=A.avail_out,j=A.next_in,F=A.input,W=A.avail_in,G=M.hold,X=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;we=(Y=M.lencode[G&(1<<M.lenbits)-1])>>>16&255,ce=65535&Y,!((le=Y>>>24)<=X);){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(we&&!(240&we)){for(be=le,K=we,oe=ce;we=(Y=M.lencode[oe+((G&(1<<be+K)-1)>>be)])>>>16&255,ce=65535&Y,!(be+(le=Y>>>24)<=X);){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}G>>>=be,X-=be,M.back+=be}if(G>>>=le,X-=le,M.back+=le,M.length=ce,we===0){M.mode=26;break}if(32&we){M.back=-1,M.mode=12;break}if(64&we){A.msg="invalid literal/length code",M.mode=30;break}M.extra=15&we,M.mode=22;case 22:if(M.extra){for(ee=M.extra;X<ee;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}M.length+=G&(1<<M.extra)-1,G>>>=M.extra,X-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;we=(Y=M.distcode[G&(1<<M.distbits)-1])>>>16&255,ce=65535&Y,!((le=Y>>>24)<=X);){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(!(240&we)){for(be=le,K=we,oe=ce;we=(Y=M.distcode[oe+((G&(1<<be+K)-1)>>be)])>>>16&255,ce=65535&Y,!(be+(le=Y>>>24)<=X);){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}G>>>=be,X-=be,M.back+=be}if(G>>>=le,X-=le,M.back+=le,64&we){A.msg="invalid distance code",M.mode=30;break}M.offset=ce,M.extra=15&we,M.mode=24;case 24:if(M.extra){for(ee=M.extra;X<ee;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}M.offset+=G&(1<<M.extra)-1,G>>>=M.extra,X-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){A.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(q===0)break e;if(J=te-q,M.offset>J){if((J=M.offset-J)>M.whave&&M.sane){A.msg="invalid distance too far back",M.mode=30;break}se=J>M.wnext?(J-=M.wnext,M.wsize-J):M.wnext-J,J>M.length&&(J=M.length),ge=M.window}else ge=z,se=B-M.offset,J=M.length;for(q<J&&(J=q),q-=J,M.length-=J;z[B++]=ge[se++],--J;);M.length===0&&(M.mode=21);break;case 26:if(q===0)break e;z[B++]=M.length,q--,M.mode=21;break;case 27:if(M.wrap){for(;X<32;){if(W===0)break e;W--,G|=F[j++]<<X,X+=8}if(te-=q,A.total_out+=te,M.total+=te,te&&(A.adler=M.check=M.flags?a(M.check,z,te,B-te):s(M.check,z,te,B-te)),te=q,(M.flags?G:x(G))!==M.check){A.msg="incorrect data check",M.mode=30;break}X=G=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;X<32;){if(W===0)break e;W--,G+=F[j++]<<X,X+=8}if(G!==(4294967295&M.total)){A.msg="incorrect length check",M.mode=30;break}X=G=0}M.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return p}return A.next_out=B,A.avail_out=q,A.next_in=j,A.avail_in=W,M.hold=G,M.bits=X,(M.wsize||te!==A.avail_out&&M.mode<30&&(M.mode<27||$!==4))&&N(A,A.output,A.next_out,te-A.avail_out)?(M.mode=31,-4):(ue-=A.avail_in,te-=A.avail_out,A.total_in+=ue,A.total_out+=te,M.total+=te,M.wrap&&te&&(A.adler=M.check=M.flags?a(M.check,z,te,A.next_out-te):s(M.check,z,te,A.next_out-te)),A.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(ue==0&&te===0||$===4)&&ie===f&&(ie=-5),ie)},i.inflateEnd=function(A){if(!A||!A.state)return p;var $=A.state;return $.window&&($.window=null),A.state=null,f},i.inflateGetHeader=function(A,$){var M;return A&&A.state&&2&(M=A.state).wrap?((M.head=$).done=!1,f):p},i.inflateSetDictionary=function(A,$){var M,F=$.length;return A&&A.state?(M=A.state).wrap!==0&&M.mode!==11?p:M.mode===11&&s(1,$,F,0)!==M.check?-3:N(A,$,F,F)?(M.mode=31,-4):(M.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,f,p,v,y,b,x){var _,w,E,T,I,S,P,R,O,N=x.bits,A=0,$=0,M=0,F=0,z=0,j=0,B=0,W=0,q=0,G=0,X=null,ue=0,te=new o.Buf16(16),J=new o.Buf16(16),se=null,ge=0;for(A=0;A<=15;A++)te[A]=0;for($=0;$<p;$++)te[d[f+$]]++;for(z=N,F=15;1<=F&&te[F]===0;F--);if(F<z&&(z=F),F===0)return v[y++]=20971520,v[y++]=20971520,x.bits=1,0;for(M=1;M<F&&te[M]===0;M++);for(z<M&&(z=M),A=W=1;A<=15;A++)if(W<<=1,(W-=te[A])<0)return-1;if(0<W&&(u===0||F!==1))return-1;for(J[1]=0,A=1;A<15;A++)J[A+1]=J[A]+te[A];for($=0;$<p;$++)d[f+$]!==0&&(b[J[d[f+$]]++]=$);if(S=u===0?(X=se=b,19):u===1?(X=s,ue-=257,se=a,ge-=257,256):(X=l,se=c,-1),A=M,I=y,B=$=G=0,E=-1,T=(q=1<<(j=z))-1,u===1&&852<q||u===2&&592<q)return 1;for(;;){for(P=A-B,O=b[$]<S?(R=0,b[$]):b[$]>S?(R=se[ge+b[$]],X[ue+b[$]]):(R=96,0),_=1<<A-B,M=w=1<<j;v[I+(G>>B)+(w-=_)]=P<<24|R<<16|O|0,w!==0;);for(_=1<<A-1;G&_;)_>>=1;if(_!==0?(G&=_-1,G+=_):G=0,$++,--te[A]==0){if(A===F)break;A=d[f+b[$]]}if(z<A&&(G&T)!==E){for(B===0&&(B=z),I+=M,W=1<<(j=A-B);j+B<F&&!((W-=te[j+B])<=0);)j++,W<<=1;if(q+=1<<j,u===1&&852<q||u===2&&592<q)return 1;v[E=G&T]=z<<24|j<<16|I-y|0}}return G!==0&&(v[I+G]=A-B<<24|64<<16|0),x.bits=z,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var o=n("../utils/common"),s=0,a=1;function l(Y){for(var he=Y.length;0<=--he;)Y[he]=0}var c=0,u=29,d=256,f=d+1+u,p=30,v=19,y=2*f+1,b=15,x=16,_=7,w=256,E=16,T=17,I=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(f+2));l(N);var A=new Array(2*p);l(A);var $=new Array(512);l($);var M=new Array(256);l(M);var F=new Array(u);l(F);var z,j,B,W=new Array(p);function q(Y,he,Ce,me,fe){this.static_tree=Y,this.extra_bits=he,this.extra_base=Ce,this.elems=me,this.max_length=fe,this.has_stree=Y&&Y.length}function G(Y,he){this.dyn_tree=Y,this.max_code=0,this.stat_desc=he}function X(Y){return Y<256?$[Y]:$[256+(Y>>>7)]}function ue(Y,he){Y.pending_buf[Y.pending++]=255&he,Y.pending_buf[Y.pending++]=he>>>8&255}function te(Y,he,Ce){Y.bi_valid>x-Ce?(Y.bi_buf|=he<<Y.bi_valid&65535,ue(Y,Y.bi_buf),Y.bi_buf=he>>x-Y.bi_valid,Y.bi_valid+=Ce-x):(Y.bi_buf|=he<<Y.bi_valid&65535,Y.bi_valid+=Ce)}function J(Y,he,Ce){te(Y,Ce[2*he],Ce[2*he+1])}function se(Y,he){for(var Ce=0;Ce|=1&Y,Y>>>=1,Ce<<=1,0<--he;);return Ce>>>1}function ge(Y,he,Ce){var me,fe,ye=new Array(b+1),Te=0;for(me=1;me<=b;me++)ye[me]=Te=Te+Ce[me-1]<<1;for(fe=0;fe<=he;fe++){var ke=Y[2*fe+1];ke!==0&&(Y[2*fe]=se(ye[ke]++,ke))}}function le(Y){var he;for(he=0;he<f;he++)Y.dyn_ltree[2*he]=0;for(he=0;he<p;he++)Y.dyn_dtree[2*he]=0;for(he=0;he<v;he++)Y.bl_tree[2*he]=0;Y.dyn_ltree[2*w]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function we(Y){8<Y.bi_valid?ue(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function ce(Y,he,Ce,me){var fe=2*he,ye=2*Ce;return Y[fe]<Y[ye]||Y[fe]===Y[ye]&&me[he]<=me[Ce]}function be(Y,he,Ce){for(var me=Y.heap[Ce],fe=Ce<<1;fe<=Y.heap_len&&(fe<Y.heap_len&&ce(he,Y.heap[fe+1],Y.heap[fe],Y.depth)&&fe++,!ce(he,me,Y.heap[fe],Y.depth));)Y.heap[Ce]=Y.heap[fe],Ce=fe,fe<<=1;Y.heap[Ce]=me}function K(Y,he,Ce){var me,fe,ye,Te,ke=0;if(Y.last_lit!==0)for(;me=Y.pending_buf[Y.d_buf+2*ke]<<8|Y.pending_buf[Y.d_buf+2*ke+1],fe=Y.pending_buf[Y.l_buf+ke],ke++,me===0?J(Y,fe,he):(J(Y,(ye=M[fe])+d+1,he),(Te=S[ye])!==0&&te(Y,fe-=F[ye],Te),J(Y,ye=X(--me),Ce),(Te=P[ye])!==0&&te(Y,me-=W[ye],Te)),ke<Y.last_lit;);J(Y,w,he)}function oe(Y,he){var Ce,me,fe,ye=he.dyn_tree,Te=he.stat_desc.static_tree,ke=he.stat_desc.has_stree,je=he.stat_desc.elems,de=-1;for(Y.heap_len=0,Y.heap_max=y,Ce=0;Ce<je;Ce++)ye[2*Ce]!==0?(Y.heap[++Y.heap_len]=de=Ce,Y.depth[Ce]=0):ye[2*Ce+1]=0;for(;Y.heap_len<2;)ye[2*(fe=Y.heap[++Y.heap_len]=de<2?++de:0)]=1,Y.depth[fe]=0,Y.opt_len--,ke&&(Y.static_len-=Te[2*fe+1]);for(he.max_code=de,Ce=Y.heap_len>>1;1<=Ce;Ce--)be(Y,ye,Ce);for(fe=je;Ce=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],be(Y,ye,1),me=Y.heap[1],Y.heap[--Y.heap_max]=Ce,Y.heap[--Y.heap_max]=me,ye[2*fe]=ye[2*Ce]+ye[2*me],Y.depth[fe]=(Y.depth[Ce]>=Y.depth[me]?Y.depth[Ce]:Y.depth[me])+1,ye[2*Ce+1]=ye[2*me+1]=fe,Y.heap[1]=fe++,be(Y,ye,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(Se,Re){var Ve,De,ze,$e,Ke,Ae,Ue=Re.dyn_tree,rt=Re.max_code,mt=Re.stat_desc.static_tree,ot=Re.stat_desc.has_stree,Bt=Re.stat_desc.extra_bits,Xt=Re.stat_desc.extra_base,Lt=Re.stat_desc.max_length,en=0;for($e=0;$e<=b;$e++)Se.bl_count[$e]=0;for(Ue[2*Se.heap[Se.heap_max]+1]=0,Ve=Se.heap_max+1;Ve<y;Ve++)Lt<($e=Ue[2*Ue[2*(De=Se.heap[Ve])+1]+1]+1)&&($e=Lt,en++),Ue[2*De+1]=$e,rt<De||(Se.bl_count[$e]++,Ke=0,Xt<=De&&(Ke=Bt[De-Xt]),Ae=Ue[2*De],Se.opt_len+=Ae*($e+Ke),ot&&(Se.static_len+=Ae*(mt[2*De+1]+Ke)));if(en!==0){do{for($e=Lt-1;Se.bl_count[$e]===0;)$e--;Se.bl_count[$e]--,Se.bl_count[$e+1]+=2,Se.bl_count[Lt]--,en-=2}while(0<en);for($e=Lt;$e!==0;$e--)for(De=Se.bl_count[$e];De!==0;)rt<(ze=Se.heap[--Ve])||(Ue[2*ze+1]!==$e&&(Se.opt_len+=($e-Ue[2*ze+1])*Ue[2*ze],Ue[2*ze+1]=$e),De--)}}(Y,he),ge(ye,de,Y.bl_count)}function V(Y,he,Ce){var me,fe,ye=-1,Te=he[1],ke=0,je=7,de=4;for(Te===0&&(je=138,de=3),he[2*(Ce+1)+1]=65535,me=0;me<=Ce;me++)fe=Te,Te=he[2*(me+1)+1],++ke<je&&fe===Te||(ke<de?Y.bl_tree[2*fe]+=ke:fe!==0?(fe!==ye&&Y.bl_tree[2*fe]++,Y.bl_tree[2*E]++):ke<=10?Y.bl_tree[2*T]++:Y.bl_tree[2*I]++,ye=fe,de=(ke=0)===Te?(je=138,3):fe===Te?(je=6,3):(je=7,4))}function ie(Y,he,Ce){var me,fe,ye=-1,Te=he[1],ke=0,je=7,de=4;for(Te===0&&(je=138,de=3),me=0;me<=Ce;me++)if(fe=Te,Te=he[2*(me+1)+1],!(++ke<je&&fe===Te)){if(ke<de)for(;J(Y,fe,Y.bl_tree),--ke!=0;);else fe!==0?(fe!==ye&&(J(Y,fe,Y.bl_tree),ke--),J(Y,E,Y.bl_tree),te(Y,ke-3,2)):ke<=10?(J(Y,T,Y.bl_tree),te(Y,ke-3,3)):(J(Y,I,Y.bl_tree),te(Y,ke-11,7));ye=fe,de=(ke=0)===Te?(je=138,3):fe===Te?(je=6,3):(je=7,4)}}l(W);var re=!1;function ee(Y,he,Ce,me){te(Y,(c<<1)+(me?1:0),3),function(fe,ye,Te,ke){we(fe),ue(fe,Te),ue(fe,~Te),o.arraySet(fe.pending_buf,fe.window,ye,Te,fe.pending),fe.pending+=Te}(Y,he,Ce)}i._tr_init=function(Y){re||(function(){var he,Ce,me,fe,ye,Te=new Array(b+1);for(fe=me=0;fe<u-1;fe++)for(F[fe]=me,he=0;he<1<<S[fe];he++)M[me++]=fe;for(M[me-1]=fe,fe=ye=0;fe<16;fe++)for(W[fe]=ye,he=0;he<1<<P[fe];he++)$[ye++]=fe;for(ye>>=7;fe<p;fe++)for(W[fe]=ye<<7,he=0;he<1<<P[fe]-7;he++)$[256+ye++]=fe;for(Ce=0;Ce<=b;Ce++)Te[Ce]=0;for(he=0;he<=143;)N[2*he+1]=8,he++,Te[8]++;for(;he<=255;)N[2*he+1]=9,he++,Te[9]++;for(;he<=279;)N[2*he+1]=7,he++,Te[7]++;for(;he<=287;)N[2*he+1]=8,he++,Te[8]++;for(ge(N,f+1,Te),he=0;he<p;he++)A[2*he+1]=5,A[2*he]=se(he,5);z=new q(N,S,d+1,f,b),j=new q(A,P,0,p,b),B=new q(new Array(0),R,0,v,_)}(),re=!0),Y.l_desc=new G(Y.dyn_ltree,z),Y.d_desc=new G(Y.dyn_dtree,j),Y.bl_desc=new G(Y.bl_tree,B),Y.bi_buf=0,Y.bi_valid=0,le(Y)},i._tr_stored_block=ee,i._tr_flush_block=function(Y,he,Ce,me){var fe,ye,Te=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(ke){var je,de=4093624447;for(je=0;je<=31;je++,de>>>=1)if(1&de&&ke.dyn_ltree[2*je]!==0)return s;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return a;for(je=32;je<d;je++)if(ke.dyn_ltree[2*je]!==0)return a;return s}(Y)),oe(Y,Y.l_desc),oe(Y,Y.d_desc),Te=function(ke){var je;for(V(ke,ke.dyn_ltree,ke.l_desc.max_code),V(ke,ke.dyn_dtree,ke.d_desc.max_code),oe(ke,ke.bl_desc),je=v-1;3<=je&&ke.bl_tree[2*O[je]+1]===0;je--);return ke.opt_len+=3*(je+1)+5+5+4,je}(Y),fe=Y.opt_len+3+7>>>3,(ye=Y.static_len+3+7>>>3)<=fe&&(fe=ye)):fe=ye=Ce+5,Ce+4<=fe&&he!==-1?ee(Y,he,Ce,me):Y.strategy===4||ye===fe?(te(Y,2+(me?1:0),3),K(Y,N,A)):(te(Y,4+(me?1:0),3),function(ke,je,de,Se){var Re;for(te(ke,je-257,5),te(ke,de-1,5),te(ke,Se-4,4),Re=0;Re<Se;Re++)te(ke,ke.bl_tree[2*O[Re]+1],3);ie(ke,ke.dyn_ltree,je-1),ie(ke,ke.dyn_dtree,de-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,Te+1),K(Y,Y.dyn_ltree,Y.dyn_dtree)),le(Y),me&&we(Y)},i._tr_tally=function(Y,he,Ce){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=he>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&he,Y.pending_buf[Y.l_buf+Y.last_lit]=255&Ce,Y.last_lit++,he===0?Y.dyn_ltree[2*Ce]++:(Y.matches++,he--,Y.dyn_ltree[2*(M[Ce]+d+1)]++,Y.dyn_dtree[2*X(he)]++),Y.last_lit===Y.lit_bufsize-1},i._tr_align=function(Y){te(Y,2,3),J(Y,w,N),function(he){he.bi_valid===16?(ue(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(o){(function(s,a){if(!s.setImmediate){var l,c,u,d,f=1,p={},v=!1,y=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(E){process.nextTick(function(){_(E)})}:function(){if(s.postMessage&&!s.importScripts){var E=!0,T=s.onmessage;return s.onmessage=function(){E=!1},s.postMessage("","*"),s.onmessage=T,E}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(E){s.postMessage(d+E,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(E){_(E.data)},function(E){u.port2.postMessage(E)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(E){var T=y.createElement("script");T.onreadystatechange=function(){_(E),T.onreadystatechange=null,c.removeChild(T),T=null},c.appendChild(T)}):function(E){setTimeout(_,0,E)},b.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),I=0;I<T.length;I++)T[I]=arguments[I+1];var S={callback:E,args:T};return p[f]=S,l(f),f++},b.clearImmediate=x}function x(E){delete p[E]}function _(E){if(v)setTimeout(_,0,E);else{var T=p[E];if(T){v=!0;try{(function(I){var S=I.callback,P=I.args;switch(P.length){case 0:S();break;case 1:S(P[0]);break;case 2:S(P[0],P[1]);break;case 3:S(P[0],P[1],P[2]);break;default:S.apply(a,P)}})(T)}finally{x(E),v=!1}}}}function w(E){E.source===s&&typeof E.data=="string"&&E.data.indexOf(d)===0&&_(+E.data.slice(d.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Tm<"u"?Tm:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(yne);var DGe=yne.exports;const jD=kx(DGe);class AGe{constructor(){Ye(this,"collections",["passages","sites","tournees","vehicules"])}async exportCollectionToCSV(e){try{console.log(`🔄 Exportation de la collection ${e} au format CSV...`);const n=await yn(nn(dt,e));if(n.empty)return console.log(`⚠️ La collection ${e} est vide.`),"";const r=n.docs.map(a=>{const l=a.data(),c={};return Object.entries(l).forEach(([u,d])=>{d instanceof qn?c[u]=d.toDate().toISOString():c[u]=d}),c.id=a.id,c}),i=new Set;r.forEach(a=>{Object.keys(a).forEach(l=>i.add(l))});const o=Array.from(i);let s=o.join(",")+`
`;return r.forEach(a=>{const l=o.map(c=>{const u=a[c];return u==null?"":typeof u=="string"&&(u.includes(",")||u.includes(`
`)||u.includes('"'))?`"${u.replace(/"/g,'""')}"`:u});s+=l.join(",")+`
`}),console.log(`✅ Exportation de ${r.length} documents de la collection ${e} terminée.`),s}catch(n){throw console.error(`❌ Erreur lors de l'exportation de la collection ${e}:`,n),n}}async exportCollectionToJSON(e){try{console.log(`🔄 Exportation de la collection ${e} au format JSON...`);const n=await yn(nn(dt,e));if(n.empty)return console.log(`⚠️ La collection ${e} est vide.`),[];const r=n.docs.map(i=>{const o=i.data(),s={};return Object.entries(o).forEach(([a,l])=>{l instanceof qn?s[a]=l.toDate().toISOString():s[a]=l}),s.id=i.id,s});return console.log(`✅ Exportation de ${r.length} documents de la collection ${e} terminée.`),r}catch(n){throw console.error(`❌ Erreur lors de l'exportation de la collection ${e}:`,n),n}}async downloadCollectionAsCSV(e){try{const n=await this.exportCollectionToCSV(e);if(!n){console.log(`⚠️ Aucune donnée à exporter pour la collection ${e}.`);return}const r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(n){throw console.error(`❌ Erreur lors du téléchargement de la collection ${e}:`,n),n}}async downloadCollectionAsJSON(e){try{const n=await this.exportCollectionToJSON(e);if(!n||n.length===0){console.log(`⚠️ Aucune donnée à exporter pour la collection ${e}.`);return}const r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${e}_${new Date().toISOString().split("T")[0]}.json`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(n){throw console.error(`❌ Erreur lors du téléchargement de la collection ${e}:`,n),n}}async downloadAllCollectionsAsCSV(){try{console.log("🔄 Exportation de toutes les collections au format CSV...");for(const e of this.collections)await this.downloadCollectionAsCSV(e);console.log("✅ Exportation de toutes les collections terminée.")}catch(e){throw console.error("❌ Erreur lors de l'exportation de toutes les collections:",e),e}}async downloadAllCollectionsAsJSON(){try{console.log("🔄 Exportation de toutes les collections au format JSON...");for(const e of this.collections)await this.downloadCollectionAsJSON(e);console.log("✅ Exportation de toutes les collections terminée.")}catch(e){throw console.error("❌ Erreur lors de l'exportation de toutes les collections:",e),e}}async generateCompleteBackup(){try{console.log("🔄 Génération d'une sauvegarde complète...");const e=new jD;for(const o of this.collections){const s=await this.exportCollectionToJSON(o);s&&s.length>0&&e.file(`${o}.json`,JSON.stringify(s,null,2))}const n=await e.generateAsync({type:"blob"}),r=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",`firebase_backup_${new Date().toISOString().split("T")[0]}.zip`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log("✅ Génération de la sauvegarde complète terminée.")}catch(e){throw console.error("❌ Erreur lors de la génération de la sauvegarde complète:",e),e}}async importCSVToCollection(e,n,r={}){try{console.log(`🔄 Importation des données CSV vers la collection ${e}...`);const{clearCollection:i=!1,updateExisting:o=!0,idField:s="id"}=r;if(!this.collections.includes(e))throw new Error(`La collection ${e} n'est pas valide.`);const a=n.split(`
`);if(a.length<2)throw new Error("Le fichier CSV est vide ou ne contient que des en-têtes.");const l=this.parseCSVLine(a[0]),c=[];for(let p=1;p<a.length;p++){const v=a[p].trim();if(!v)continue;const y=this.parseCSVLine(v);if(y.length!==l.length){console.warn(`⚠️ Ligne ${p+1} ignorée: nombre de valeurs incorrect`);continue}const b={};for(let x=0;x<l.length;x++){const _=l[x];let w=y[x];if(w==="true")w=!0;else if(w==="false")w=!1;else if(!isNaN(Number(w))&&w!=="")w=Number(w);else if(typeof w=="string"&&(w.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)||w.match(/^\d{4}-\d{2}-\d{2}/)))try{w=qn.fromDate(new Date(w))}catch{console.warn(`⚠️ Impossible de convertir la date: ${w}`)}b[_]=w}c.push(b)}i&&await this.clearCollection(e);const u=c.length;let d=0,f=0;for(;d<u;){const p=cd(dt),v=Math.min(500,u-d);for(let y=0;y<v;y++){const b=c[d+y],x=b[s];if(x&&o){const _=Sn(dt,e,x);p.set(_,b)}else{const _=nn(dt,e),w=Sn(_);p.set(w,b)}f++}await p.commit(),d+=v,console.log(`✅ Lot de ${v} documents importés (${d}/${u})`)}return console.log(`✅ Importation terminée: ${f} documents importés dans la collection ${e}`),f}catch(i){throw console.error("❌ Erreur lors de l'importation des données CSV:",i),i}}async importJSONToCollection(e,n,r={}){try{console.log(`🔄 Importation des données JSON vers la collection ${e}...`);const{clearCollection:i=!1,updateExisting:o=!0,idField:s="id"}=r;if(!this.collections.includes(e))throw new Error(`La collection ${e} n'est pas valide.`);if(!Array.isArray(n))throw new Error("Les données JSON doivent être un tableau d'objets.");const a=n.map(d=>{const f={};return Object.entries(d).forEach(([p,v])=>{if(typeof v=="string"&&(v.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)||v.match(/^\d{4}-\d{2}-\d{2}/)))try{f[p]=qn.fromDate(new Date(v))}catch{console.warn(`⚠️ Impossible de convertir la date: ${v}`),f[p]=v}else f[p]=v}),f});i&&await this.clearCollection(e);const l=a.length;let c=0,u=0;for(;c<l;){const d=cd(dt),f=Math.min(500,l-c);for(let p=0;p<f;p++){const v=a[c+p],y=v[s];if(y&&o){const b=Sn(dt,e,y);d.set(b,v)}else{const b=nn(dt,e),x=Sn(b);d.set(x,v)}u++}await d.commit(),c+=f,console.log(`✅ Lot de ${f} documents importés (${c}/${l})`)}return console.log(`✅ Importation terminée: ${u} documents importés dans la collection ${e}`),u}catch(i){throw console.error("❌ Erreur lors de l'importation des données JSON:",i),i}}async importFromZip(e,n={}){var r;try{console.log("🔄 Importation des données depuis le fichier ZIP...");const i=new jD;await i.loadAsync(e);const o={};for(const s in i.files){if(i.files[s].dir)continue;const a=(r=s.split(".").pop())==null?void 0:r.toLowerCase(),l=s.split(".")[0];if(!this.collections.includes(l)){console.warn(`⚠️ Collection inconnue ignorée: ${l}`);continue}const c=await i.files[s].async("string");if(a==="json")try{const u=JSON.parse(c),d=await this.importJSONToCollection(l,u,n);o[l]=d}catch(u){console.error(`❌ Erreur lors de l'importation du fichier JSON ${s}:`,u)}else if(a==="csv")try{const u=await this.importCSVToCollection(l,c,n);o[l]=u}catch(u){console.error(`❌ Erreur lors de l'importation du fichier CSV ${s}:`,u)}else console.warn(`⚠️ Type de fichier non pris en charge: ${a}`)}return console.log("✅ Importation depuis ZIP terminée:",o),o}catch(i){throw console.error("❌ Erreur lors de l'importation depuis le fichier ZIP:",i),i}}async clearCollection(e){try{console.log(`🔄 Suppression des documents existants dans la collection ${e}...`);const n=nn(dt,e),r=await yn(n);if(r.empty){console.log(`ℹ️ La collection ${e} est déjà vide.`);return}const i=r.docs,o=i.length;let s=0;for(;s<o;){const a=cd(dt),l=Math.min(500,o-s);for(let c=0;c<l;c++){const u=i[s+c];a.delete(Sn(dt,e,u.id))}await a.commit(),s+=l,console.log(`✅ Lot de ${l} documents supprimés (${s}/${o})`)}console.log(`✅ Collection ${e} vidée avec succès.`)}catch(n){throw console.error("❌ Erreur lors de la suppression des documents:",n),n}}parseCSVLine(e){if(!e||e.trim()==="")return[];let n=e.replace(/ë/g,"");n=n.replace(/Ë/g,"");let r=";";const i=(n.match(/\t/g)||[]).length,o=(n.match(/;/g)||[]).length,s=(n.match(/,/g)||[]).length;i>0&&i>=o&&i>=s?r="	":s>o&&(r=",");const a=n.split(r).map(l=>{let c=l.trim();return c.startsWith('"')&&c.endsWith('"')&&(c=c.slice(1,-1)),c=c.replace(/""/g,'"'),c});return console.log(`Ligne nettoyée: "${n}"`),console.log(`Valeurs extraites: ${JSON.stringify(a)}`),a}normalizeEncoding(e){if(!e)return"";let n=e.replace(/[ëË]/g,"");return Object.entries({Ple:"Pôle",Pole:"Pôle",POLE:"Pôle",Tourne:"Tournée",TOURNEE:"Tournée",Tournee:"Tournée",Complment:"Complément",Complement:"Complément",Tlphone:"Téléphone",Telephone:"Téléphone",Coordonnes:"Coordonnées",Coordonnees:"Coordonnées"}).forEach(([i,o])=>{n=n.replace(new RegExp(i,"g"),o)}),n}normalizeFileEncoding(e){return e?(console.log("Normalisation de l'encodage du fichier..."),e=e.replace(/ë/g,""),e.split(/\r?\n/).map(i=>this.normalizeEncoding(i)).join(`
`)):""}detectAndFixEncoding(e){return e?(console.log("Détection et correction de l'encodage..."),e.charCodeAt(0)===65279&&(console.log("BOM UTF-8 détecté, suppression..."),e=e.slice(1)),e.includes("ë")&&(console.log('Caractères "ë" détectés, suppression...'),e=e.replace(/ë/g,"")),(e.includes("Ã©")||e.includes("Ã¨")||e.includes("Ãª")||e.includes("Ã ")||e.includes("Ã§")||e.includes("Ã´")||e.includes("Ã®")||e.includes("Ã¯")||e.includes("Ã¼")||e.includes("Ã¹")||e.includes("Ã»")||e.includes("Ã¢")||e.includes("Ã«")||e.includes("Ã‰")||e.includes('Ã"'))&&(console.log("Séquences UTF-8 mal interprétées détectées, correction..."),e=e.replace(/Ã©/g,"é").replace(/Ã¨/g,"è").replace(/Ãª/g,"ê").replace(/Ã /g,"à").replace(/Ã§/g,"ç").replace(/Ã´/g,"ô").replace(/Ã®/g,"î").replace(/Ã¯/g,"ï").replace(/Ã¼/g,"ü").replace(/Ã¹/g,"ù").replace(/Ã»/g,"û").replace(/Ã¢/g,"â").replace(/Ã«/g,"ë").replace(/Ã‰/g,"É").replace(/Ã"/g,"Ô").replace(/PÃ´le/g,"Pôle").replace(/TournÃ©e/g,"Tournée").replace(/ComplÃ©ment d\'adresse/g,"Complément d'adresse").replace(/TÃ©lÃ©phone/g,"Téléphone").replace(/CoordonnÃ©es/g,"Coordonnées")),(e.includes("Ple")||e.includes("Tourne")||e.includes("Complment"))&&(console.log("Caractères accentués manquants détectés, correction..."),e=e.replace(/Ple/g,"Pôle").replace(/Tourne/g,"Tournée").replace(/Complment d\'adresse/g,"Complément d'adresse").replace(/Complment/g,"Complément").replace(/Tlphone/g,"Téléphone").replace(/Coordonnes/g,"Coordonnées")),e):""}async importSitesFromTXT(e,n={}){try{console.log("Traitement spécifique pour fichier TXT...");let r=this.detectAndFixEncoding(e);r=this.normalizeFileEncoding(r);const i=r.split(`
`).map(p=>p.trim()).filter(p=>p!=="");if(i.length===0)throw new Error("Le fichier est vide.");const o=i[0];if(!o)throw new Error("La première ligne du fichier est vide.");console.log("Première ligne du fichier TXT:",o);const s=(o.match(/\t/g)||[]).length,a=(o.match(/;/g)||[]).length,l=(o.match(/,/g)||[]).length;console.log(`Séparateurs détectés - Tabulations: ${s}, Points-virgules: ${a}, Virgules: ${l}`),console.log("Échantillon des 3 premières lignes TXT:");for(let p=0;p<Math.min(3,i.length);p++)console.log(`Ligne ${p}: ${i[p]}`);let c="	";s>0?(c="	",console.log("Séparateur détecté pour TXT: tabulation")):a>0&&a>=l?(c=";",console.log("Séparateur détecté pour TXT: point-virgule")):l>0?(c=",",console.log("Séparateur détecté pour TXT: virgule")):console.log("Aucun séparateur standard détecté dans le fichier TXT, utilisation de la tabulation par défaut");const d=i.map(p=>p?c!==","?this.parseCSVLine(p).map(y=>y.includes(",")?`"${y.replace(/"/g,'""')}"`:y).join(","):p:"").join(`
`).split(`
`);if(d.length<2)throw new Error("La conversion du fichier TXT a échoué.");const f=this.parseCSVLine(d[0]);if(f.length<3)throw new Error(`Le fichier ne contient que ${f.length} colonnes. Vérifiez le format du fichier et assurez-vous qu'il utilise des tabulations, des points-virgules ou des virgules comme séparateurs.`);return console.log("En-têtes détectés dans le fichier TXT:",f),this.processImportLines(f,d,n)}catch(r){throw console.error("❌ Erreur lors de l'importation des sites depuis TXT:",r),r}}debugFileInfo(e,n="inconnu"){console.group(`📊 Informations de débogage pour le fichier: ${n}`);try{console.log(`Taille du contenu: ${e.length} caractères`),console.log(`Type de fichier: ${n.endsWith(".txt")?"TXT":"CSV"}`);const r=e.charCodeAt(0)===65279;console.log(`BOM UTF-8 détecté: ${r?"Oui":"Non"}`);const i=e.split(`
`);if(console.log(`Nombre de lignes: ${i.length}`),i.length>0){const o=i[0].trim();console.log(`Première ligne (${o.length} caractères): ${o.substring(0,100)}${o.length>100?"...":""}`);const s=(o.match(/\t/g)||[]).length,a=(o.match(/;/g)||[]).length,l=(o.match(/,/g)||[]).length;console.log(`Séparateurs détectés - Tabulations: ${s}, Points-virgules: ${a}, Virgules: ${l}`);let c=",";s>0&&s>=a&&s>=l?c="	":a>0&&a>=l&&(c=";"),console.log(`Séparateur le plus probable: ${c==="	"?"tabulation":c}`);const u=c==="	"?s+1:c===";"?a+1:l+1;if(console.log(`Nombre estimé de colonnes: ${u}`),i.length>1){const x=i[1].trim(),_=(x.match(/\t/g)||[]).length,w=(x.match(/;/g)||[]).length,E=(x.match(/,/g)||[]).length,T=c==="	"?_+1:c===";"?w+1:E+1;console.log(`Nombre de colonnes dans la deuxième ligne: ${T}`),console.log(`Cohérence des colonnes: ${u===T?"OK":"PROBLÈME"}`)}const f=["é","è","ê","à","ç","ô","î","ï","ü","ù","û","â","ë"].filter(x=>e.includes(x));console.log(`Caractères spéciaux correctement encodés: ${f.length>0?f.join(", "):"Aucun"}`);const v=["Ã©","Ã¨","Ãª","Ã ","Ã§","Ã´","Ã®","Ã¯","Ã¼","Ã¹","Ã»","Ã¢","Ã«"].filter(x=>e.includes(x));console.log(`Séquences UTF-8 mal interprétées: ${v.length>0?v.join(", "):"Aucune"}`);const b=["Ple","Tourne","Complment"].filter(x=>e.includes(x));console.log(`Caractères mal encodés spécifiques: ${b.length>0?b.join(", "):"Aucun"}`)}}catch(r){console.error("Erreur lors de l'analyse du fichier:",r)}finally{console.groupEnd()}}async importSitesFromCSV(e,n={}){try{const{clearCollection:r=!1,updateExisting:i=!0,idField:o="id",isTxtFile:s=!1,fileName:a=s?"fichier.txt":"fichier.csv"}=n;if(console.log(`Début de l'importation des sites depuis ${s?"TXT":"CSV"}...`),this.debugFileInfo(e,a),s)return this.importSitesFromTXT(e,n);let l=e.replace(/ë/g,"");console.log("Contenu après nettoyage des caractères ë (50 premiers caractères):",l.substring(0,50));let c=this.detectAndFixEncoding(l);e.charCodeAt(0)===65279&&(console.log("Détection du BOM UTF-8, suppression..."),c=e.slice(1)),c=this.normalizeFileEncoding(c);const u=c.split(/\r?\n/).map(E=>E.trim()).filter(E=>E!=="");if(u.length===0)throw new Error("Le fichier est vide.");const d=u[0];if(!d)throw new Error("La première ligne du fichier est vide.");console.log("Première ligne du fichier:",d);const f=(d.match(/\t/g)||[]).length,p=(d.match(/;/g)||[]).length,v=(d.match(/,/g)||[]).length;let y=",";const b=d.includes("Pôle;Bassin;MI;Tournée")||d.includes("Pôle;Bassin;MI;Tournée;PT de rattachement")||d.includes("Pole;Bassin;MI;Tournee")||d.includes("ID;Pole;Bassin;MI;Tournee");b&&(console.log("Format spécifique détecté: format utilisateur avec séparateur point-virgule"),y=";"),console.log(`Séparateurs détectés - Tabulations: ${f}, Points-virgules: ${p}, Virgules: ${v}`),console.log(`Format détecté: ${b?"Format utilisateur spécifique":"Format standard"}`),s?f>0?(y="	",console.log("Séparateur détecté pour TXT: tabulation")):p>0&&p>=v?(y=";",console.log("Séparateur détecté pour TXT: point-virgule")):v>0?(y=",",console.log("Séparateur détecté pour TXT: virgule")):console.log("Aucun séparateur standard détecté dans le fichier TXT, utilisation de la tabulation par défaut"):f>0&&f>=p&&f>=v?(y="	",console.log("Séparateur détecté pour CSV: tabulation")):p>0&&p>=v?(y=";",console.log("Séparateur détecté pour CSV: point-virgule")):console.log("Séparateur détecté pour CSV: virgule"),console.log("Échantillon des 3 premières lignes:");for(let E=0;E<Math.min(3,u.length);E++)console.log(`Ligne ${E}: ${u[E]}`);let x="";y!==","?x=u.map(E=>{if(!E)return"";const T=[];let I="",S=!1;for(let P=0;P<E.length;P++){const R=E[P];R==='"'?(S=!S,I+=R):R===y&&!S?(T.push(I),I=""):I+=R}return T.push(I),T.join(",")}).join(`
`):x=c;const _=x.split(/\r?\n/).filter(E=>E.trim()!=="");if(_.length<2){console.warn("⚠️ La normalisation standard a échoué, tentative avec une approche alternative...");const E=u.filter(I=>I.trim()!=="");if(E.length<2)throw new Error("Le fichier est vide ou ne contient que des en-têtes.");const T=this.parseCSVLine(E[0]);if(T.length<3)throw new Error(`Le fichier ne contient que ${T.length} colonnes. Vérifiez le format du fichier et assurez-vous qu'il utilise des virgules, des points-virgules ou des tabulations comme séparateurs.`);return console.log("En-têtes détectés (approche alternative):",T),this.processImportLines(T,E,n)}const w=this.parseCSVLine(_[0]);if(w.length<3)throw new Error(`Le fichier ne contient que ${w.length} colonnes. Vérifiez le format du fichier et assurez-vous qu'il utilise des virgules, des points-virgules ou des tabulations comme séparateurs.`);return console.log("En-têtes détectés:",w),this.processImportLines(w,_,n)}catch(r){throw console.error(`❌ Erreur lors de l'importation des sites depuis ${isTxtFile?"TXT":"CSV"}:`,r),r}}async processImportLines(e,n,r={}){try{const{clearCollection:i=!1,updateExisting:o=!0,idField:s="id"}=r,a=nn(dt,"sites"),l=await yn(a),c=new Map,u=new Map,d=new Map;l.forEach(w=>{const E=w.data();if(c.set(w.id,E),E.nom){const T=E.nom.toLowerCase().trim();u.set(T,{id:w.id,...E})}if(E.adresse&&E.ville&&E.codePostal){const T=`${E.adresse},${E.ville},${E.codePostal}`.toLowerCase().replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"");d.set(T,{id:w.id,...E})}});const f=e.map(w=>w.replace(/ë/g,"")),p=this.normalizeHeaders(f);let v=0,y=0,b=0;const x=500,_=n.length-1;for(let w=1;w<n.length;w+=x){const E=cd(dt);let T=0;const I=Math.min(w+x,n.length);for(let S=w;S<I;S++){const P=n[S];if(!P.trim())continue;const R=this.parseCSVLine(P),O={};p.forEach((A,$)=>{A&&R[$]&&(O[A]=this.normalizeValue(R[$].trim(),A))});let N=null;if(O.id&&(N=c.get(O.id)),!N&&O.nom){const A=O.nom.toLowerCase().trim();N=u.get(A)}if(!N&&O.adresse&&O.ville&&O.codePostal){const A=`${O.adresse},${O.ville},${O.codePostal}`.toLowerCase().replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"");N=d.get(A)}if(N){if(!o){y++;continue}if(!Object.keys(O).some(M=>O[M]!==N[M]&&O[M]!==void 0)){y++;continue}const $=Sn(dt,"sites",N.id);E.set($,O),b++,T++}else{const A=Sn(nn(dt,"sites"));E.set(A,O),v++,T++}}T>0&&(await E.commit(),console.log(`Lot de ${T} documents traité (${w}/${_})`))}return console.log(`
        Importation terminée:
        - ${v} nouveaux sites importés
        - ${b} sites mis à jour
        - ${y} sites ignorés (doublons ou sans changements)
      `),v+b}catch(i){throw console.error("Erreur lors du traitement des lignes:",i),i}}normalizeHeaders(e){console.log("Normalisation des en-têtes..."),console.log("En-têtes originaux:",e);const n={pole:"pole",pôle:"pole",pôles:"pole",poles:"pole",ple:"pole","p le":"pole","p.le":"pole","p?le":"pole",type:"type","type de site":"type","type site":"type",categorie:"type",catégorie:"type",nom:"nom","nom site":"nom",site:"nom","nom du site":"nom",denomination:"nom",dénomination:"nom",adresse:"adresse",adresses:"adresse",adr:"adresse","adresse site":"adresse","adresse complete":"adresse","adresse complète":"adresse",complement:"complementAdresse",complément:"complementAdresse","complement adresse":"complementAdresse","complément adresse":"complementAdresse","complement d'adresse":"complementAdresse","complément d'adresse":"complementAdresse",ville:"ville",commune:"ville",localite:"ville",localité:"ville",villes:"ville",cp:"codePostal","code postal":"codePostal",code_postal:"codePostal",codepostal:"codePostal","cp site":"codePostal",pays:"pays",country:"pays",nation:"pays",tel:"telephone",tél:"telephone",telephone:"telephone",téléphone:"telephone","num tel":"telephone",numéro:"telephone",email:"email","e-mail":"email",mail:"email",courriel:"email","adresse mail":"email",status:"statut",statut:"statut",etat:"statut",état:"statut",tournee:"tournees",tournée:"tournees",tournees:"tournees",tournées:"tournees",mi:"mi",responsable:"mi","responsable mi":"mi",bassin:"bassin",zone:"bassin",secteur:"bassin",id:"id",identifiant:"id",reference:"id",référence:"id","horaires lv":"horairesLV","horaire lv":"horairesLV","horaires semaine":"horairesLV","horaires sam":"horairesSamedi","horaire sam":"horairesSamedi","horaires samedi":"horairesSamedi"},r=e.map(i=>{const o=i.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s]/g," ").replace(/\s+/g," ").trim(),s=n[o];return s?(console.log(`En-tête normalisé: "${i}" -> "${s}"`),s):(console.log(`En-tête non mappé: "${i}" -> "${o}"`),o)});return console.log("En-têtes finaux après normalisation:",r),r}normalizeValue(e,n){if(!e)return"";let r=e.trim().replace(/[ëË]/g,"").replace(/\s+/g," ");switch(n.toLowerCase()){case"pole":r=r.replace(/^p[oôó]le\s*/i,"").replace(/^p\s*[oôó]le\s*/i,"").trim();break;case"type":const i=r.toLowerCase();i.includes("labo")||i.includes("lab")?r="Laboratoire":i.includes("site")?r="Site":i.includes("client")?r="Client":i.includes("point")?r="Point de collecte":r=r.charAt(0).toUpperCase()+r.slice(1).toLowerCase();break;case"ville":case"nom":r=r.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" ");break;case"codepostal":r=r.replace(/\D/g,"");break;case"telephone":r=r.replace(/\D/g,""),r.length===10&&(r=r.replace(/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/,"$1.$2.$3.$4.$5"));break;case"email":r=r.toLowerCase();break;case"adresse":r=r.replace(/\s+/g," ").replace(/,\s*/g,", ").replace(/\s*-\s*/g,"-").trim();break}return r}async importUserSpecificFormat(e,n={}){try{console.log("🔄 Importation avec le format spécifique de l'utilisateur...");const{clearCollection:r=!1,updateExisting:i=!0,idField:o="id"}=n,s=e.split(`
`).filter(y=>y.trim()!=="");if(s.length<2)throw new Error("Le fichier est vide ou ne contient que des en-têtes.");const a=s[0].split(";").map(y=>y.trim()),l=this.normalizeHeaders(a);console.log("En-têtes normalisés:",l);const c={pole:"pole",pôle:"pole",tournée:"tournees","type de site":"type",nom:"nom",adresse:"adresse","complément d'adresse":"complementAdresse",ville:"ville","code postal":"codePostal",pays:"pays","horaire d'ouverture - lundi - vendredi":"horairesLV","horaire d'ouverture - samedi -":"horairesSamedi",id:"id"},u={};l.forEach((y,b)=>{const x=c[y.toLowerCase()];x?(u[b]=x,console.log(`Mapped header "${y}" to field "${x}"`)):console.log(`No mapping found for header "${y}"`)});const d=[];for(let y=1;y<s.length;y++){const b=s[y].trim();if(!b)continue;const x=b.split(";"),_={pole:"",nom:"",type:"Laboratoire",adresse:"",ville:"",codePostal:"",telephone:"",email:"",codeBarres:"",tournees:[],codesPorte:"",coordonnees:"",statut:"actif",complementAdresse:"",pays:"France",horairesLV:"",horairesSamedi:""};let w=!1;for(let E=0;E<x.length;E++){const T=u[E];if(!T)continue;let I=x[E].trim();if(T==="tournees"&&I)I=[I];else if(T==="type"&&I){const S=I.toLowerCase();S.includes("labo")||S.includes("lab")?I="Laboratoire":S.includes("site")?I="Site":S.includes("client")?I="Client":S.includes("point")?I="Point de collecte":I=I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()}I!==""&&(_[T]=I,T==="nom"&&I&&(w=!0))}!w&&!_.nom&&_.adresse&&(_.nom=`Site - ${_.adresse}`,w=!0),w||_.id?d.push(_):console.warn(`⚠️ Ligne ${y+1} ignorée: aucun nom ou identifiant valide trouvé`)}if(d.length===0)throw new Error("Aucun document valide n'a pu être extrait du fichier.");console.log(`✅ ${d.length} sites valides extraits du fichier`),r&&await this.clearCollection("sites");const f=d.length;let p=0,v=0;for(;p<f;){const y=cd(dt),b=Math.min(500,f-p);for(let x=0;x<b;x++){const _=d[p+x],w=_[o];if(w&&i){const E=Sn(dt,"sites",w);y.set(E,_)}else{const E=nn(dt,"sites"),T=Sn(E);y.set(T,_)}v++}await y.commit(),p+=b,console.log(`✅ Lot de ${b} sites importés (${p}/${f})`)}return console.log(`✅ Importation terminée: ${v} sites importés`),v}catch(r){throw console.error("❌ Erreur lors de l'importation avec le format spécifique:",r),r}}}const el=new AGe,$Ge=()=>{const[t,e]=h.useState(""),[n,r]=h.useState("json"),[i,o]=h.useState(!1),[s,a]=h.useState(""),[l,c]=h.useState(null),[u,d]=h.useState({clearCollection:!1,updateExisting:!0}),[f,p]=h.useState(!1),[v,y]=h.useState(""),[b,x]=h.useState(""),_=["passages","sites","tournees","vehicules"],w=async()=>{try{if(o(!0),y(""),x(""),!t){x("Veuillez sélectionner une collection à exporter.");return}t==="all"?(n==="json"?await el.downloadAllCollectionsAsJSON():n==="csv"?await el.downloadAllCollectionsAsCSV():n==="zip"&&await el.generateCompleteBackup(),y("Toutes les collections ont été exportées avec succès.")):(n==="json"?await el.downloadCollectionAsJSON(t):n==="csv"&&await el.downloadCollectionAsCSV(t),y(`La collection ${t} a été exportée avec succès.`))}catch(I){console.error("Erreur lors de l'exportation:",I),x(`Erreur lors de l'exportation: ${I instanceof Error?I.message:"Erreur inconnue"}`)}finally{o(!1)}},E=I=>{I.target.files&&I.target.files.length>0&&c(I.target.files[0])},T=async()=>{var I;try{if(p(!0),y(""),x(""),!l){x("Veuillez sélectionner un fichier à importer.");return}if(!(!s&&l.name.endsWith(".zip"))){if(!s){x("Veuillez sélectionner une collection cible.");return}}const S=(I=l.name.split(".").pop())==null?void 0:I.toLowerCase();if(!["zip","json","csv","txt"].includes(S||"")){x(`Format de fichier non pris en charge: ${S}. Veuillez utiliser un fichier .json, .csv, .txt ou .zip.`);return}try{let P=0;if(l.name.endsWith(".zip")){const R=await l.arrayBuffer(),O=await el.importFromZip(R,u),N=Object.values(O).reduce((A,$)=>A+$,0);y(`Importation réussie: ${N} documents importés dans ${Object.keys(O).length} collections.`)}else if(l.name.endsWith(".json")){let R;try{const O=await l.text();R=JSON.parse(O)}catch(O){console.error("Erreur lors de l'analyse du fichier JSON:",O),x(`Le fichier JSON est invalide et ne peut pas être analysé. Erreur: ${O instanceof Error?O.message:"Format JSON incorrect"}`);return}if(!Array.isArray(R)){x("Le fichier JSON doit contenir un tableau d'objets.");return}P=await el.importJSONToCollection(s,R,u),y(`Importation réussie: ${P} documents importés dans la collection ${s}.`)}else if(l.name.endsWith(".csv")||l.name.endsWith(".txt")){let R;try{if(R=await l.text(),!R||R.trim()===""){x("Le fichier est vide.");return}const O=R.split(`
`);if(O.length<1||O[0].trim()===""){x("Le fichier ne contient pas d'en-têtes valides.");return}console.log(`Fichier ${l.name.endsWith(".txt")?"TXT":"CSV"} chargé: ${l.name}, taille: ${l.size} octets, première ligne: ${O[0].substring(0,100)}...`)}catch(O){console.error(`Erreur lors de la lecture du fichier ${l.name.endsWith(".txt")?"TXT":"CSV"}:`,O),x(`Impossible de lire le fichier. Erreur: ${O instanceof Error?O.message:"Erreur de lecture"}`);return}s==="sites"?P=await el.importSitesFromCSV(R,{...u,isTxtFile:l.name.endsWith(".txt"),fileName:l.name}):P=await el.importCSVToCollection(s,R,u),y(`Importation réussie: ${P} documents importés dans la collection ${s}.`)}else x("Format de fichier non pris en charge. Veuillez utiliser un fichier .json, .csv, .txt ou .zip.")}catch(P){console.error("Erreur détaillée lors de l'importation:",P),P instanceof Error&&P.message.includes("indexOf is not a function")?x(`Erreur de format: Le fichier CSV contient probablement un format non standard ou des caractères spéciaux. 
            Veuillez vérifier que votre fichier est correctement formaté avec des séparateurs standards (virgules, points-virgules ou tabulations).
            Conseil: Ouvrez le fichier dans un éditeur de texte pour vérifier sa structure.`):x(`Erreur lors de l'importation: ${P instanceof Error?P.message:"Erreur inconnue"}`)}}catch(S){console.error("Erreur générale lors de l'importation:",S),x(`Erreur lors de l'importation: ${S instanceof Error?S.message:"Erreur inconnue"}`)}finally{p(!1)}};return g.jsxs(TE,{maxWidth:"lg",sx:{mt:4,mb:4},children:[g.jsxs(Ge,{variant:"h4",component:"h1",gutterBottom:!0,children:["Synchronisation SharePoint",g.jsx(ob,{title:"Cette fonctionnalité permet d'exporter et d'importer des données entre Firebase et SharePoint via des fichiers intermédiaires.",children:g.jsx(Ao,{size:"small",sx:{ml:1},children:g.jsx(vne,{})})})]}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:g.jsx(Ge,{variant:"body1",children:"Cette interface permet de synchroniser manuellement les données entre Firebase et SharePoint. En raison des limitations d'authentification, la synchronisation se fait via des fichiers intermédiaires."})}),v&&g.jsx(Mr,{severity:"success",sx:{mb:2},children:v}),b&&g.jsx(Mr,{severity:"error",sx:{mb:2},children:b}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsxs(tr,{sx:{p:3,height:"100%"},children:[g.jsxs(Ge,{variant:"h5",component:"h2",gutterBottom:!0,children:["Exporter des données",g.jsx(ob,{title:"Exporter les données de Firebase vers un fichier que vous pourrez ensuite importer dans SharePoint.",children:g.jsx(Ao,{size:"small",sx:{ml:1},children:g.jsx(LD,{})})})]}),g.jsx(Tx,{sx:{my:2}}),g.jsxs(Ch,{fullWidth:!0,margin:"normal",children:[g.jsx(Sh,{children:"Collection à exporter"}),g.jsxs(Ud,{value:t,onChange:I=>e(I.target.value),label:"Collection à exporter",children:[g.jsx(ri,{value:"",children:"Sélectionner une collection"}),_.map(I=>g.jsx(ri,{value:I,children:I},I)),g.jsx(ri,{value:"all",children:"Toutes les collections"})]})]}),g.jsxs(Ch,{fullWidth:!0,margin:"normal",children:[g.jsx(Sh,{children:"Format d'exportation"}),g.jsxs(Ud,{value:n,onChange:I=>r(I.target.value),label:"Format d'exportation",children:[g.jsx(ri,{value:"json",children:"JSON"}),g.jsx(ri,{value:"csv",children:"CSV"}),t==="all"&&g.jsx(ri,{value:"zip",children:"ZIP (toutes les collections en JSON)"})]})]}),g.jsx(Mn,{variant:"contained",color:"primary",fullWidth:!0,startIcon:i?g.jsx(na,{size:24,color:"inherit"}):g.jsx(gne,{}),onClick:w,disabled:i||!t,sx:{mt:2},children:i?"Exportation en cours...":"Exporter"}),g.jsxs(Km,{sx:{mt:2},children:[g.jsx(Ym,{expandIcon:g.jsx(I0,{}),children:g.jsx(Ge,{children:"Instructions pour SharePoint"})}),g.jsx(qm,{children:g.jsxs(Ge,{variant:"body2",children:["1. Exportez les données en utilisant le bouton ci-dessus.",g.jsx("br",{}),"2. Connectez-vous à votre site SharePoint.",g.jsx("br",{}),"3. Accédez à la bibliothèque de documents où vous souhaitez stocker les données.",g.jsx("br",{}),'4. Cliquez sur "Charger" et sélectionnez le fichier exporté.',g.jsx("br",{}),"5. Vérifiez que le fichier a été correctement chargé."]})})]})]})}),g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsxs(tr,{sx:{p:3,height:"100%"},children:[g.jsxs(Ge,{variant:"h5",component:"h2",gutterBottom:!0,children:["Importer des données",g.jsx(ob,{title:"Importer des données depuis un fichier SharePoint vers Firebase.",children:g.jsx(Ao,{size:"small",sx:{ml:1},children:g.jsx(LD,{})})})]}),g.jsx(Tx,{sx:{my:2}}),g.jsxs(Ch,{fullWidth:!0,margin:"normal",children:[g.jsx(Sh,{children:"Collection cible"}),g.jsxs(Ud,{value:s,onChange:I=>a(I.target.value),label:"Collection cible",disabled:l==null?void 0:l.name.endsWith(".zip"),children:[g.jsx(ri,{value:"",children:"Sélectionner une collection"}),_.map(I=>g.jsx(ri,{value:I,children:I},I))]}),(l==null?void 0:l.name.endsWith(".zip"))&&g.jsx(Ge,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"Pour les fichiers ZIP, la collection est déterminée automatiquement."})]}),g.jsxs(gn,{sx:{mt:2},children:[g.jsxs(Mn,{variant:"outlined",component:"label",fullWidth:!0,startIcon:g.jsx(ND,{}),children:["Sélectionner un fichier",g.jsx("input",{type:"file",hidden:!0,accept:".json,.csv,.zip,.txt",onChange:E})]}),l&&g.jsxs(Ge,{variant:"body2",sx:{mt:1},children:["Fichier sélectionné: ",l.name]}),g.jsx(Ge,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1},children:"Formats supportés: JSON, CSV, ZIP, et TXT (pour les sites)"})]}),g.jsxs(gn,{sx:{mt:2},children:[g.jsx(P8,{control:g.jsx(x8,{checked:u.clearCollection,onChange:I=>d({...u,clearCollection:I.target.checked})}),label:"Vider la collection avant l'importation"}),g.jsx(P8,{control:g.jsx(x8,{checked:u.updateExisting,onChange:I=>d({...u,updateExisting:I.target.checked})}),label:"Mettre à jour les documents existants"})]}),g.jsx(Mn,{variant:"contained",color:"secondary",fullWidth:!0,startIcon:f?g.jsx(na,{size:24,color:"inherit"}):g.jsx(ND,{}),onClick:T,disabled:f||!l||!s&&!(l!=null&&l.name.endsWith(".zip")),sx:{mt:2},children:f?"Importation en cours...":"Importer"}),g.jsxs(Km,{sx:{mt:2},children:[g.jsx(Ym,{expandIcon:g.jsx(I0,{}),children:g.jsx(Ge,{children:"Instructions pour SharePoint"})}),g.jsx(qm,{children:g.jsxs(Ge,{variant:"body2",children:["1. Connectez-vous à votre site SharePoint.",g.jsx("br",{}),"2. Accédez à la bibliothèque de documents où sont stockées les données.",g.jsx("br",{}),"3. Téléchargez le fichier que vous souhaitez importer.",g.jsx("br",{}),"4. Revenez à cette page et sélectionnez le fichier téléchargé.",g.jsx("br",{}),"5. Choisissez la collection cible et les options d'importation.",g.jsx("br",{}),`6. Cliquez sur "Importer" pour lancer l'importation.`]})})]}),g.jsxs(Km,{sx:{mt:2},children:[g.jsx(Ym,{expandIcon:g.jsx(I0,{}),children:g.jsx(Ge,{children:"Format CSV/TXT attendu"})}),g.jsxs(qm,{children:[g.jsxs(Ge,{variant:"body2",gutterBottom:!0,children:[g.jsx("strong",{children:"Pour l'importation des sites"}),", votre fichier CSV ou TXT doit contenir les colonnes suivantes (séparées par des virgules, des points-virgules ou des tabulations) :"]}),g.jsx(Ge,{variant:"body2",component:"div",sx:{mt:1,mb:2},children:g.jsx("code",{style:{display:"block",whiteSpace:"pre-wrap",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"0.85rem"},children:"PÔLE,NOM,TYPE,ADRESSE,VILLE,CODE POSTAL,TELEPHONE,EMAIL,CODE-BARRE,TOURNÉES,CODE PORTE,COORDONNÉES,STATUT"})}),g.jsx(Ge,{variant:"body2",gutterBottom:!0,children:g.jsx("strong",{children:"Exemple de ligne valide :"})}),g.jsx(Ge,{variant:"body2",component:"div",sx:{mt:1,mb:2},children:g.jsx("code",{style:{display:"block",whiteSpace:"pre-wrap",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"0.85rem"},children:'Pôle Est,Laboratoire Central,Laboratoire,15 Rue des Sciences,Paris,75001,0123456789,lab@example.com,LAB001,"tournee1,tournee2",CODE123,,ACTIF'})}),g.jsx(Ge,{variant:"body2",gutterBottom:!0,children:g.jsx("strong",{children:"Notes importantes :"})}),g.jsxs("ul",{style:{fontSize:"0.875rem",paddingLeft:"20px"},children:[g.jsx("li",{children:"Assurez-vous que chaque site est sur une ligne distincte"}),g.jsx("li",{children:"Les tournées peuvent être séparées par des virgules à l'intérieur de guillemets"}),g.jsx("li",{children:`Si votre fichier provient d'Excel, utilisez "Enregistrer sous" et choisissez le format CSV ou TXT`}),g.jsx("li",{children:"Vérifiez que votre fichier utilise un séparateur standard (virgule, point-virgule ou tabulation)"}),g.jsx("li",{children:"Si vous avez des problèmes, essayez d'ouvrir votre fichier dans un éditeur de texte pour vérifier sa structure"})]}),g.jsxs(Ge,{variant:"body2",sx:{mt:2},color:"primary",children:[g.jsx("strong",{children:"Recommandation pour les fichiers TXT :"}),' Pour une meilleure compatibilité, exportez depuis Excel en choisissant "Texte (séparateur : tabulation) (*.txt)". Les fichiers TXT utilisent par défaut la tabulation comme séparateur, ce qui évite les problèmes avec les virgules ou points-virgules dans les données.']})]})]}),g.jsxs(Km,{sx:{mt:2},children:[g.jsx(Ym,{expandIcon:g.jsx(I0,{}),children:g.jsx(Ge,{children:"Résolution des problèmes d'importation"})}),g.jsxs(qm,{children:[g.jsx(Ge,{variant:"body2",gutterBottom:!0,children:g.jsx("strong",{children:'Erreur "n.indexOf is not a function"'})}),g.jsx(Ge,{variant:"body2",paragraph:!0,children:"Cette erreur se produit généralement lorsque le format du fichier CSV n'est pas standard. Voici comment la résoudre :"}),g.jsxs("ol",{style:{fontSize:"0.875rem",paddingLeft:"20px"},children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Vérifiez le format du fichier"})," : Ouvrez votre fichier CSV ou TXT dans un éditeur de texte (comme Notepad) et vérifiez que :",g.jsxs("ul",{style:{marginTop:"4px"},children:[g.jsx("li",{children:"La première ligne contient bien les en-têtes des colonnes"}),g.jsx("li",{children:"Les colonnes sont séparées par des virgules, des points-virgules ou des tabulations"}),g.jsx("li",{children:"Il n'y a pas de caractères spéciaux ou de formatage particulier"})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Depuis Excel"})," : Si vous exportez depuis Excel, suivez ces étapes :",g.jsxs("ul",{style:{marginTop:"4px"},children:[g.jsx("li",{children:'Sélectionnez "Fichier" > "Enregistrer sous"'}),g.jsx("li",{children:'Choisissez "CSV (séparateur : point-virgule) (*.csv)" ou "Texte (séparateur : tabulation) (*.txt)"'}),g.jsx("li",{children:'Cliquez sur "Enregistrer"'}),g.jsx("li",{children:"Ignorez les avertissements sur les fonctionnalités incompatibles"})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Créez un nouveau fichier"})," : Si les solutions ci-dessus ne fonctionnent pas, créez un nouveau fichier CSV ou TXT :",g.jsxs("ul",{style:{marginTop:"4px"},children:[g.jsx("li",{children:"Ouvrez un éditeur de texte vide (comme Notepad)"}),g.jsx("li",{children:"Copiez-collez les en-têtes sur la première ligne, séparés par des virgules ou des tabulations"}),g.jsx("li",{children:"Ajoutez vos données sur les lignes suivantes, en respectant le même format"}),g.jsx("li",{children:"Enregistrez le fichier avec l'extension .csv ou .txt"})]})]})]}),g.jsxs(Ge,{variant:"body2",sx:{mt:2},paragraph:!0,children:[g.jsx("strong",{children:"Exemple de fichier CSV/TXT valide"})," (ouvert dans un éditeur de texte) :"]}),g.jsx(Ge,{variant:"body2",component:"div",sx:{mt:1,mb:2},children:g.jsxs("code",{style:{display:"block",whiteSpace:"pre-wrap",backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"0.85rem"},children:["PÔLE,NOM,TYPE,ADRESSE,VILLE,CODE POSTAL,TELEPHONE,EMAIL,CODE-BARRE,TOURNÉES,CODE PORTE,COORDONNÉES,STATUT",g.jsx("br",{}),'Pôle Est,Laboratoire Central,Laboratoire,15 Rue des Sciences,Paris,75001,0123456789,lab@example.com,LAB001,"tournee1,tournee2",CODE123,,ACTIF',g.jsx("br",{}),"Pôle Ouest,Entrepôt Principal,Entrepôt,25 Avenue du Commerce,Lyon,69002,0987654321,entrepot@example.com,ENT002,tournee3,CODE456,,ACTIF"]})}),g.jsx(Ge,{variant:"body2",gutterBottom:!0,children:g.jsx("strong",{children:`Erreur "Aucun document valide n'a pu être extrait du fichier"`})}),g.jsx(Ge,{variant:"body2",paragraph:!0,children:"Cette erreur peut être causée par des problèmes d'encodage, particulièrement avec les caractères accentués. Voici comment la résoudre :"}),g.jsxs("ol",{style:{fontSize:"0.875rem",paddingLeft:"20px"},children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Vérifiez l'encodage du fichier"})," : Assurez-vous que votre fichier est enregistré en UTF-8 :",g.jsxs("ul",{style:{marginTop:"4px"},children:[g.jsx("li",{children:'Dans Excel, utilisez "Enregistrer sous" et sélectionnez "CSV UTF-8 (délimité par des virgules) (*.csv)"'}),g.jsx("li",{children:'Dans Notepad, utilisez "Enregistrer sous" et sélectionnez "UTF-8" dans le menu déroulant "Encodage"'})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Vérifiez les en-têtes"})," : Assurez-vous que vos en-têtes correspondent aux noms attendus :",g.jsxs("ul",{style:{marginTop:"4px"},children:[g.jsx("li",{children:'Les en-têtes doivent contenir au moins "NOM" ou "CODE-BARRE" pour identifier chaque site'}),g.jsx("li",{children:'Vérifiez que les accents sont correctement encodés (ex: "PÔLE" et non "PLE")'})]})]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Utilisez un format TXT avec tabulations"})," : Les fichiers TXT avec tabulations sont souvent plus fiables :",g.jsxs("ul",{style:{marginTop:"4px"},children:[g.jsx("li",{children:'Dans Excel, utilisez "Enregistrer sous" et sélectionnez "Texte (séparateur : tabulation) (*.txt)"'}),g.jsx("li",{children:"Cela évite les problèmes avec les virgules ou points-virgules dans les données"})]})]})]})]})]})]})})]})]})},NGe={dashboard:"Tableau de bord",passages:"Passages",sites:"Sites",tournees:"Tournées",vehicules:"Véhicules",carte:"Carte",userManagement:"Gestion des utilisateurs",administration:"Administration"},LGe=["dashboard","passages","sites","tournees","vehicules","carte","userManagement","administration"],jGe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(null),[i,o]=h.useState({}),[s,a]=h.useState(!0),[l,c]=h.useState(!1),[u,d]=h.useState(null);h.useEffect(()=>{(async()=>{try{a(!0);const x=await Cl.getInstance().getRoles();e(x),x.length>0&&!n&&(r(x[0]),o(x[0].pageAccess||{}))}catch(b){console.error("Erreur lors du chargement des rôles:",b),d({text:"Impossible de charger les rôles. Veuillez réessayer.",type:"error"})}finally{a(!1)}})()},[]);const f=y=>{r(y),o(y.pageAccess||{})},p=y=>{o(b=>({...b,[y]:!b[y]}))},v=async()=>{if(n)try{c(!0);const y=Cl.getInstance();await y.updatePageAccess(n.id,i),await y.refreshRoles(),d({text:"Accès aux pages mis à jour avec succès ! Veuillez vous déconnecter et vous reconnecter pour que les changements prennent effet.",type:"success"});const b={...n,pageAccess:i};r(b),e(x=>x.map(_=>_.id===b.id?b:_)),setTimeout(()=>{d(null)},5e3)}catch(y){console.error("Erreur lors de la mise à jour des accès aux pages:",y),d({text:"Erreur lors de la mise à jour des accès aux pages.",type:"error"})}finally{c(!1)}};return s?g.jsx("div",{className:"page-access-loading",children:"Chargement des rôles..."}):g.jsxs("div",{className:"page-access-container",children:[g.jsxs("div",{className:"page-access-header",children:[g.jsx("h1",{children:"Gestion des Accès aux Pages"}),g.jsx("p",{children:"Configurez les autorisations d'accès pour chaque rôle"})]}),g.jsxs("div",{className:"page-access-content",children:[g.jsxs("div",{className:"role-selector",children:[g.jsx("h3",{children:"Sélectionnez un rôle"}),g.jsx("div",{className:"role-buttons",children:t.map(y=>g.jsxs("button",{className:`role-button ${(n==null?void 0:n.id)===y.id?"active":""}`,onClick:()=>f(y),children:[y.name,y.isAdmin&&g.jsx("span",{className:"admin-badge",children:"Admin"})]},y.id))})]}),n&&g.jsxs("div",{className:"page-access-panel",children:[g.jsxs("h2",{children:["Accès aux pages pour ",n.name]}),g.jsx("div",{className:"page-access-cards",children:LGe.map(y=>g.jsx("div",{className:"page-card",children:g.jsxs("div",{className:"page-card-content",children:[g.jsx("div",{className:"page-name",children:NGe[y]}),g.jsxs("label",{className:"toggle",children:[g.jsx("input",{type:"checkbox",checked:i[y]||!1,onChange:()=>p(y)}),g.jsx("span",{className:"toggle-slider"})]})]})},y))}),g.jsx("div",{className:"action-buttons",children:g.jsx("button",{className:"save-button",onClick:v,disabled:l,children:l?"Enregistrement...":"Enregistrer les accès"})}),u&&g.jsx("div",{className:`message ${u.type}`,children:u.text})]})]})]})},zD=[{id:"users.view",name:"Lecture des utilisateurs",description:"Voir la liste des utilisateurs (page utilisateurs)",category:"Utilisateurs"},{id:"users.create",name:"Création d'utilisateurs",description:"Créer de nouveaux utilisateurs",category:"Utilisateurs"},{id:"users.edit",name:"Modification des utilisateurs",description:"Modifier les informations des utilisateurs",category:"Utilisateurs"},{id:"users.delete",name:"Suppression des utilisateurs",description:"Supprimer des utilisateurs",category:"Utilisateurs"},{id:"sites.view",name:"Lecture des sites",description:"Voir la liste des sites (page sites)",category:"Sites"},{id:"sites.create",name:"Création de sites",description:"Créer de nouveaux sites",category:"Sites"},{id:"sites.edit",name:"Modification des sites",description:"Modifier les informations des sites",category:"Sites"},{id:"sites.delete",name:"Suppression des sites",description:"Supprimer des sites",category:"Sites"},{id:"tournees.view",name:"Lecture des tournées",description:"Voir la liste des tournées (page tournées)",category:"Tournées"},{id:"tournees.create",name:"Création de tournées",description:"Créer de nouvelles tournées",category:"Tournées"},{id:"tournees.edit",name:"Modification des tournées",description:"Modifier les tournées",category:"Tournées"},{id:"tournees.delete",name:"Suppression des tournées",description:"Supprimer des tournées",category:"Tournées"},{id:"passages.view",name:"Lecture des passages",description:"Voir les passages (page passages)",category:"Passages"},{id:"passages.create",name:"Création de passages",description:"Créer des passages",category:"Passages"},{id:"passages.edit",name:"Modification des passages",description:"Modifier les passages",category:"Passages"},{id:"passages.delete",name:"Suppression des passages",description:"Supprimer des passages",category:"Passages"},{id:"vehicules.view",name:"Lecture des véhicules",description:"Voir la liste des véhicules (page véhicules)",category:"Véhicules"},{id:"vehicules.create",name:"Création de véhicules",description:"Créer de nouveaux véhicules",category:"Véhicules"},{id:"vehicules.edit",name:"Modification des véhicules",description:"Modifier les véhicules",category:"Véhicules"},{id:"vehicules.delete",name:"Suppression des véhicules",description:"Supprimer des véhicules",category:"Véhicules"},{id:"carte.view",name:"Accès à la carte",description:"Voir et utiliser la carte interactive (page carte)",category:"Carte"},{id:"carte.edit",name:"Modification de la carte",description:"Modifier les paramètres de la carte",category:"Carte"},{id:"dashboard.view",name:"Accès au tableau de bord",description:"Voir et utiliser le tableau de bord (page principale)",category:"Fonctionnalités"},{id:"init-passages.view",name:"Initialisation des passages",description:"Accéder à la page d'initialisation des passages",category:"Fonctionnalités"},{id:"configuration_systeme",name:"Configuration système",description:"Accéder aux paramètres système (page admin)",category:"Administration"}],zGe=[{id:"administrateur",name:"Administrateur",description:"Accès complet à toutes les fonctionnalités",permissions:zD.map(t=>t.id),isDefault:!0,isAdmin:!0},{id:"utilisateur",name:"Utilisateur",description:"Accès standard aux fonctionnalités de base",permissions:["passages.view","passages.create","passages.edit","sites.view","sites.create","sites.edit","tournees.view","tournees.create","tournees.edit","vehicules.view","vehicules.create","vehicules.edit","dashboard.view","init-passages.view","carte.view"],isDefault:!0},{id:"coursier",name:"Coursier",description:"Accès limité aux passages",permissions:["passages.view","passages.create","passages.edit"],isDefault:!0}],FGe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(null),[i,o]=h.useState(!0),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState({id:"",name:"",description:"",permissions:[]}),[f,p]=h.useState("permissions"),v=Cl.getInstance();h.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0),a(null),console.log("Chargement des rôles...");const I=await v.getRoles();if(console.log("Rôles existants:",I),I.length===0){console.log("Aucun rôle trouvé, initialisation des rôles par défaut..."),await b();const S=await v.getRoles();e(S)}else console.log("Rôles chargés avec succès:",I),e(I)}catch(I){console.error("Erreur lors du chargement des rôles:",I),a("Erreur lors du chargement des rôles")}finally{o(!1)}},b=async()=>{try{console.log("Démarrage de l'initialisation des rôles par défaut...");for(const I of zGe)try{const S=Sn(dt,"roles",I.id);(await Do(S)).exists()?console.log(`Le rôle ${I.name} existe déjà.`):(console.log(`Création du rôle ${I.name}...`),await Fb(S,I),console.log(`Rôle ${I.name} créé avec succès.`))}catch(S){console.error(`Erreur lors de la création du rôle ${I.name}:`,S)}}catch(I){throw console.error("Erreur lors de l'initialisation des rôles par défaut:",I),I}},x=I=>{r(I)},_=async(I,S)=>{console.log("handlePermissionToggle appelé avec:",{roleId:I,permissionId:S});const P=t.find(R=>R.id===I);if(!P){console.error("Rôle non trouvé:",I);return}try{a(null);const R=[...P.permissions],O=R.includes(S)?R.filter(M=>M!==S):[...R,S],N={...P,permissions:O};e(M=>M.map(F=>F.id===I?N:F)),r(N),await v.updateRolePermissions(I,O);const A=await v.getRoles();e(A);const $=A.find(M=>M.id===I);$&&r($)}catch(R){console.error("Erreur lors de la mise à jour des permissions:",R),a(`Erreur lors de la mise à jour de la permission : ${R.message}`),await y()}},w=()=>{c(!0),d({id:"",name:"",description:"",permissions:[]})},E=async()=>{if(!u.name||!u.description){a("Le nom et la description sont requis");return}try{const I=u.name.toLowerCase().replace(/\s+/g,"_"),S={...u,id:I},P=Sn(dt,"roles",I);await Fb(P,S),e([...t,S]),c(!1),d({id:"",name:"",description:"",permissions:[]})}catch{a("Erreur lors de la création du rôle")}},T=async I=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce rôle ?"))try{const S=Sn(dt,"roles",I);await eo(S),e(t.filter(P=>P.id!==I)),r(null)}catch{a("Erreur lors de la suppression du rôle")}};return i?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement des rôles..."})]}):g.jsxs("div",{className:"role-management",children:[g.jsxs("div",{className:"roles-header",children:[g.jsx("h1",{children:"Gestion des Rôles et Permissions"}),g.jsx("button",{className:"add-role-button",onClick:w,children:"Ajouter un nouveau rôle"})]}),g.jsxs("div",{className:"tab-navigation",children:[g.jsx("button",{className:`tab-button ${f==="permissions"?"active":""}`,onClick:()=>p("permissions"),children:"Permissions"}),g.jsx("button",{className:`tab-button ${f==="pageAccess"?"active":""}`,onClick:()=>p("pageAccess"),children:"Accès aux pages"})]}),f==="permissions"?g.jsxs("div",{className:"permissions-content",children:[g.jsxs("div",{className:"roles-list",children:[g.jsx("div",{className:"roles-header",children:g.jsx("h3",{children:"Rôles disponibles"})}),g.jsx("div",{className:"roles-grid",children:t.map(I=>g.jsxs("div",{className:`role-card ${(n==null?void 0:n.id)===I.id?"selected":""}`,onClick:()=>x(I),children:[g.jsx("h4",{children:I.name}),g.jsx("p",{children:I.description}),g.jsxs("div",{className:"permission-count",children:[I.permissions.length," permissions"]}),I.isDefault?g.jsx("div",{className:"default-badge",children:"Rôle par défaut"}):g.jsx("button",{className:"delete-role-button",onClick:S=>{S.stopPropagation(),T(I.id)},title:"Supprimer ce rôle","aria-label":"Supprimer ce rôle",children:g.jsx("i",{className:"fas fa-trash"})})]},I.id))})]}),l?g.jsxs("div",{className:"role-details",children:[g.jsxs("div",{className:"role-header",children:[g.jsx("h3",{children:"Nouveau rôle"}),g.jsxs("div",{className:"edit-actions",children:[g.jsxs("button",{className:"save-button",onClick:E,children:[g.jsx("i",{className:"fas fa-save"})," Enregistrer"]}),g.jsxs("button",{className:"cancel-button",onClick:()=>c(!1),children:[g.jsx("i",{className:"fas fa-times"})," Annuler"]})]})]}),g.jsxs("div",{className:"role-form",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Nom du rôle"}),g.jsx("input",{type:"text",value:u.name,onChange:I=>d({...u,name:I.target.value}),placeholder:"Nom du rôle"})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Description"}),g.jsx("textarea",{value:u.description,onChange:I=>d({...u,description:I.target.value}),placeholder:"Description du rôle"})]})]}),g.jsxs("div",{className:"permissions-section",children:[g.jsx("h4",{children:"Permissions"}),Object.entries(zD.reduce((I,S)=>(I[S.category]||(I[S.category]=[]),I[S.category].push(S),I),{})).map(([I,S])=>g.jsxs("div",{className:"permission-category",children:[g.jsx("h5",{children:I}),g.jsx("div",{className:"permissions-grid",children:S.map(P=>g.jsxs("div",{className:`permission-card ${u.permissions.includes(P.id)?"active":""} editable`,onClick:()=>{const R=u.permissions.includes(P.id)?u.permissions.filter(O=>O!==P.id):[...u.permissions,P.id];d({...u,permissions:R})},children:[g.jsxs("div",{className:"permission-header",children:[g.jsx("span",{className:"permission-name",children:P.name}),u.permissions.includes(P.id)&&g.jsx("i",{className:"fas fa-check"})]}),g.jsx("p",{className:"permission-description",children:P.description})]},P.id))})]},I))]})]}):n&&g.jsxs("div",{className:"role-details",children:[g.jsx("div",{className:"role-header",children:g.jsx("h3",{children:n.name})}),g.jsx("div",{className:"role-description",children:g.jsx("p",{children:n.description})}),g.jsxs("div",{className:"permissions-section",children:[g.jsx("h4",{children:"Permissions"}),Object.entries(zD.reduce((I,S)=>(I[S.category]||(I[S.category]=[]),I[S.category].push(S),I),{})).map(([I,S])=>g.jsxs("div",{className:"permission-category",children:[g.jsx("h5",{children:I}),g.jsx("div",{className:"permissions-grid",children:S.map(P=>g.jsxs("div",{className:`permission-card ${n.permissions.includes(P.id)?"active":""} editable`,onClick:R=>{R.preventDefault(),console.log("Clic sur la permission:",P.id),_(n.id,P.id)},title:"Cliquer pour activer/désactiver cette permission",children:[g.jsxs("div",{className:"permission-header",children:[g.jsx("span",{className:"permission-name",children:P.name}),n.permissions.includes(P.id)&&g.jsx("i",{className:"fas fa-check"})]}),g.jsx("p",{className:"permission-description",children:P.description})]},P.id))})]},I))]})]})]}):g.jsx(jGe,{}),s&&g.jsx("div",{className:"error-message",children:s})]})},BGe=[{name:"Rouge",value:"#ff3b30"},{name:"Jaune",value:"#ffcc00"},{name:"Vert",value:"#34c759"},{name:"Cyan",value:"#00c7be"},{name:"Bleu",value:"#007aff"},{name:"Magenta",value:"#af52de"},{name:"Rose",value:"#ff2d55"},{name:"Orange",value:"#ff9500"},{name:"Violet",value:"#5856d6"},{name:"Gris",value:"#8e8e93"},{name:"Noir",value:"#000000"}],s9=[{name:"Goutte d'eau",value:"droplet"},{name:"Cercle",value:"circle"},{name:"Carré",value:"square"},{name:"Triangle",value:"triangle"},{name:"Étoile",value:"star"},{name:"Épingle",value:"pin"}],VGe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(!0),[i,o]=h.useState(null),[s,a]=h.useState(!1),[l,c]=h.useState({}),[u,d]=h.useState({}),[f,p]=h.useState([]),[v,y]=h.useState(!1);h.useEffect(()=>{b()},[]),h.useEffect(()=>{v?p(t.map(M=>M.id)):f.length===t.length&&t.length>0&&p([])},[v,t]);const b=async()=>{try{r(!0);const M=nn(dt,"markerPreferences");let z=(await yn(M)).docs.map(B=>({id:B.id,...B.data()}));z.length===0?z=await _():z=await x(z),e(z);const j={};z.forEach(B=>{j[B.id]=B.color}),d(j)}catch(M){console.error("Erreur lors de la récupération des préférences de marqueurs:",M),o("Erreur lors de la récupération des préférences de marqueurs")}finally{r(!1)}},x=async M=>{const F={};M.forEach(B=>{const W=B.siteType.toLowerCase().trim();F[W]||(F[W]=[]),F[W].push(B)});const z=[],j=[...M];for(const B in F){const W=F[B];if(W.length>1){const[q,...G]=W;for(const X of G)try{const ue=Sn(dt,"markerPreferences",X.id);await eo(ue),z.push(X);const te=j.findIndex(J=>J.id===X.id);te!==-1&&j.splice(te,1)}catch(ue){console.error(`Erreur lors de la suppression du doublon ${X.id}:`,ue)}}}return z.length>0&&console.log(`${z.length} doublons de préférences ont été supprimés.`),j},_=async()=>{const M=[{siteType:"Laboratoire",color:"#ff3b30",icon:"droplet",name:"Laboratoire"},{siteType:"Clinique",color:"#ffcc00",icon:"droplet",name:"Clinique"},{siteType:"Plateau technique",color:"#34c759",icon:"droplet",name:"Plateau technique"},{siteType:"Point de collecte",color:"#00c7be",icon:"droplet",name:"Point de collecte"},{siteType:"Etablissement de santé",color:"#007aff",icon:"droplet",name:"Établissement de santé"},{siteType:"Ehpad",color:"#af52de",icon:"droplet",name:"Ehpad"},{siteType:"Vétérinaire",color:"#ff2d55",icon:"droplet",name:"Vétérinaire"}],F=[];for(const z of M)try{const j=nn(dt,"markerPreferences"),B=mr(j,Zr("siteType","==",z.siteType)),W=await yn(B);if(W.empty){const q=await ia(nn(dt,"markerPreferences"),z);F.push({id:q.id,...z})}else W.docs.forEach(q=>{F.push({id:q.id,...q.data()})})}catch(j){console.error("Erreur lors de la création des préférences par défaut:",j)}return F},w=()=>{if(s)c({}),p([]),y(!1);else{const M={};t.forEach(F=>{M[F.id]={...F}}),c(M)}a(!s)},E=async()=>{try{r(!0);for(const[M,F]of Object.entries(l)){const z=Sn(dt,"markerPreferences",M);await Co(z,{color:F.color,icon:F.icon,name:F.name})}await b(),a(!1),c({}),p([]),y(!1)}catch(M){console.error("Erreur lors de la sauvegarde des préférences:",M),o("Erreur lors de la sauvegarde des préférences")}finally{r(!1)}},T=(M,F)=>{c({...l,[M]:{...l[M],color:F}}),d({...u,[M]:F})},I=(M,F)=>{c({...l,[M]:{...l[M],icon:F}})},S=(M,F)=>{c({...l,[M]:{...l[M],name:F}})},P=M=>{f.includes(M)?(p(f.filter(F=>F!==M)),y(!1)):(p([...f,M]),f.length+1===t.length&&y(!0))},R=()=>{y(!v)},O=async()=>{if(f.length===0)return;const M=`Êtes-vous sûr de vouloir supprimer ${f.length} préférence(s) de marqueur ?`;if(window.confirm(M))try{r(!0);for(const F of f){const z=Sn(dt,"markerPreferences",F);await eo(z)}await b(),p([]),y(!1)}catch(F){console.error("Erreur lors de la suppression des préférences:",F),o("Erreur lors de la suppression des préférences")}finally{r(!1)}},N=async()=>{try{r(!0);const M={siteType:"",color:"#007aff",icon:"droplet",name:"Nouveau type"},F=await ia(nn(dt,"markerPreferences"),M);await b(),s||w()}catch(M){console.error("Erreur lors de l'ajout d'une nouvelle préférence:",M),o("Erreur lors de l'ajout d'une nouvelle préférence")}finally{r(!1)}},A=M=>{var B;const F=s&&u[M.id]||M.color,z=s&&((B=l[M.id])==null?void 0:B.icon)||M.icon;let j="";switch(z){case"droplet":j="fas fa-tint";break;case"circle":j="fas fa-circle";break;case"square":j="fas fa-square";break;case"triangle":j="fas fa-triangle";break;case"star":j="fas fa-star";break;case"pin":j="fas fa-map-marker-alt";break;default:j="fas fa-tint"}return g.jsx("div",{className:"marker-preview",style:{color:F},children:g.jsx("i",{className:j})})},$=async()=>{if(window.confirm("Êtes-vous sûr de vouloir réinitialiser toutes les préférences de marqueurs aux valeurs par défaut ? Cette action supprimera toutes les personnalisations existantes."))try{r(!0);const F=nn(dt,"markerPreferences"),z=await yn(F);for(const j of z.docs)await eo(j.ref);await _(),await b(),p([]),y(!1),s&&(a(!1),c({}))}catch(F){console.error("Erreur lors de la réinitialisation des préférences:",F),o("Erreur lors de la réinitialisation des préférences")}finally{r(!1)}};return n&&t.length===0?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement des préférences de marqueurs..."})]}):g.jsxs("div",{className:"marker-preferences-container",children:[g.jsxs("div",{className:"section-header",children:[g.jsxs("h2",{className:"section-title",children:["Préférences des marqueurs",f.length>0&&g.jsxs("span",{className:"selection-count",children:[" (",f.length," sélectionné",f.length>1?"s":"",")"]})]}),g.jsx("div",{className:"header-actions",children:s?g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"button",onClick:E,disabled:n,style:{backgroundColor:"#4CAF50",color:"white",fontWeight:"bold"},children:[g.jsx("i",{className:"fas fa-save"})," Enregistrer"]}),f.length>0&&g.jsxs("button",{className:"button",onClick:O,disabled:n,style:{backgroundColor:"#f44336",color:"white",marginLeft:"10px"},children:[g.jsx("i",{className:"fas fa-trash"})," Supprimer (",f.length,")"]}),g.jsxs("button",{className:"button",onClick:N,disabled:n,style:{backgroundColor:"#2196F3",color:"white",marginLeft:"10px"},children:[g.jsx("i",{className:"fas fa-plus"})," Ajouter"]}),g.jsxs("button",{className:"button button-secondary",onClick:w,style:{marginLeft:"10px"},disabled:n,children:[g.jsx("i",{className:"fas fa-times"})," Annuler"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"button",onClick:w,children:[g.jsx("i",{className:"fas fa-edit"})," Modifier"]}),g.jsxs("button",{className:"button button-secondary",onClick:$,disabled:n,style:{marginLeft:"10px"},children:[g.jsx("i",{className:"fas fa-undo"})," Réinitialiser"]})]})})]}),i&&g.jsx("div",{className:"error-message",children:i}),g.jsx("div",{className:"preferences-table-container",children:g.jsxs("table",{className:"preferences-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[s&&g.jsxs("th",{style:{width:"40px",textAlign:"center"},children:[g.jsx("input",{type:"checkbox",checked:v,onChange:R,title:"Sélectionner/Désélectionner tout",id:"select-all-checkbox"}),g.jsx("label",{htmlFor:"select-all-checkbox",className:"sr-only",children:"Sélectionner tout"})]}),g.jsx("th",{children:"Aperçu"}),g.jsx("th",{children:"Type de site"}),g.jsx("th",{children:"Nom affiché"}),g.jsx("th",{children:"Couleur"}),g.jsx("th",{children:"Icône"})]})}),g.jsx("tbody",{children:t.length>0?t.map(M=>{var F,z,j,B;return g.jsxs("tr",{className:f.includes(M.id)?"selected-row":"",onClick:s?()=>P(M.id):void 0,style:s?{cursor:"pointer"}:void 0,children:[s&&g.jsxs("td",{style:{textAlign:"center"},children:[g.jsx("input",{type:"checkbox",checked:f.includes(M.id),onChange:()=>P(M.id),title:"Sélectionner cette préférence",id:`select-preference-${M.id}`,onClick:W=>W.stopPropagation()}),g.jsxs("label",{htmlFor:`select-preference-${M.id}`,className:"sr-only",children:["Sélectionner ",M.name]})]}),g.jsx("td",{children:A(M)}),g.jsx("td",{children:M.siteType}),g.jsx("td",{children:s?g.jsx("input",{type:"text",value:((F=l[M.id])==null?void 0:F.name)||M.name,onChange:W=>S(M.id,W.target.value),className:"edit-input","aria-label":`Nom pour ${M.siteType}`,placeholder:`Nom pour ${M.siteType}`,onClick:W=>W.stopPropagation()}):M.name}),g.jsx("td",{children:s?g.jsx("select",{value:((z=l[M.id])==null?void 0:z.color)||M.color,onChange:W=>T(M.id,W.target.value),className:"edit-select",style:{backgroundColor:u[M.id]||M.color,color:"#fff"},"aria-label":`Couleur pour ${M.siteType}`,title:`Sélectionner une couleur pour ${M.siteType}`,onClick:W=>W.stopPropagation(),children:BGe.map(W=>g.jsx("option",{value:W.value,style:{backgroundColor:W.value,color:"#fff"},children:W.name},W.value))}):g.jsx("div",{className:"color-preview",style:{backgroundColor:M.color}})}),g.jsx("td",{children:s?g.jsx("select",{value:((j=l[M.id])==null?void 0:j.icon)||M.icon,onChange:W=>I(M.id,W.target.value),className:"edit-select","aria-label":`Icône pour ${M.siteType}`,title:`Sélectionner une icône pour ${M.siteType}`,onClick:W=>W.stopPropagation(),children:s9.map(W=>g.jsx("option",{value:W.value,children:W.name},W.value))}):((B=s9.find(W=>W.value===M.icon))==null?void 0:B.name)||M.icon})]},M.id)}):g.jsx("tr",{children:g.jsx("td",{colSpan:s?6:5,className:"no-results",children:g.jsxs("div",{className:"no-results-message",children:[g.jsx("i",{className:"fas fa-info-circle"}),g.jsx("p",{children:"Aucune préférence de marqueur n'est définie"})]})})})})]})}),f.length>0&&s&&g.jsx("div",{className:"selection-actions",children:g.jsxs("button",{className:"button",onClick:O,disabled:n,style:{backgroundColor:"#f44336",color:"white"},children:[g.jsx("i",{className:"fas fa-trash"})," Supprimer les ",f.length," élément",f.length>1?"s":""," sélectionné",f.length>1?"s":""]})}),g.jsxs("div",{className:"preferences-info",children:[g.jsxs("p",{children:[g.jsx("i",{className:"fas fa-info-circle"})," Les modifications des préférences de marqueurs seront appliquées à la carte après l'enregistrement."]}),s?g.jsxs("p",{children:[g.jsx("i",{className:"fas fa-lightbulb"})," Astuce : Cliquez sur une ligne pour la sélectionner rapidement."]}):g.jsxs("p",{children:[g.jsx("i",{className:"fas fa-undo"}),' Vous pouvez réinitialiser toutes les préférences aux valeurs par défaut en cliquant sur le bouton "Réinitialiser".']})]})]})};var bne={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a9=ae.createContext&&ae.createContext(bne),HGe=["attr","size","title"];function WGe(t,e){if(t==null)return{};var n=UGe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ME(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){KGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KGe(t,e,n){return e=qGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qGe(t){var e=GGe(t,"string");return typeof e=="symbol"?e:e+""}function GGe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xne(t){return t&&t.map((e,n)=>ae.createElement(e.tag,ME({key:n},e.attr),xne(e.child)))}function Ep(t){return e=>ae.createElement(YGe,kE({attr:ME({},t.attr)},e),xne(t.child))}function YGe(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=WGe(t,HGe),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ae.createElement("svg",kE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:ME(ME({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ae.createElement("title",null,o),t.children)};return a9!==void 0?ae.createElement(a9.Consumer,null,n=>e(n)):e(bne)}function XGe(t){return Ep({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function ZGe(t){return Ep({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function QGe(t){return Ep({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function JGe(t){return Ep({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function eYe(t){return Ep({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function c9(t){return Ep({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function tYe(t){return Ep({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const nYe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,o]=h.useState(!1),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState({}),[f,p]=h.useState(null),[v,y]=h.useState([]),[b,x]=h.useState(""),[_,w]=h.useState("default"),[E,T]=h.useState("activate"),[I,S]=h.useState([]),P=Hb.getInstance();h.useEffect(()=>{R()},[]),h.useEffect(()=>{r(t)},[t]),h.useEffect(()=>{if(!b.trim()){r(t);return}const J=b.toLowerCase().trim(),se=t.filter(ge=>(ge.nom||"").toLowerCase().includes(J)||(ge.description||"").toLowerCase().includes(J)||(ge.code||"").toLowerCase().includes(J));r(se)},[b,t]),h.useEffect(()=>{O()},[]);const R=async()=>{try{o(!0);const J=await P.getSELAS();e(J),o(!1)}catch{a("Erreur lors du chargement des SELAS"),o(!1)}},O=async()=>{try{const J=nn(dt,"users"),ge=(await yn(J)).docs.filter(le=>le.data().statut!=="Inactif").map(le=>({id:le.id,nom:le.data().nom||"Sans nom",email:le.data().email||"",role:le.data().role||""}));S(ge),console.log("Utilisateurs chargés:",ge.length)}catch(J){console.error("Erreur lors du chargement des utilisateurs:",J),a("Erreur lors du chargement des utilisateurs")}},N=(J,se,ge)=>{if(J==="new-selas-temp"){A(se,ge);return}e(le=>le.map(we=>we.id===J?{...we,[se]:ge}:we))},A=(J,se)=>{p(ge=>{const le={...ge||{}};if(J.startsWith("accesPages.")){const we=J.split(".")[1];le.accesPages={...le.accesPages||{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},[we]:se}}else{const we=["nom","description","code","active","sitesAutorises"],ce=J;we.includes(ce)&&(le[ce]=se)}return le})},$=async()=>{try{o(!0),a(null);const J=t.map(se=>P.updateSELAS(se.id,se));if(f&&f.nom){if(!f.nom){a("Le nom de la SELAS est obligatoire"),o(!1);return}const se={nom:f.nom,description:f.description||"",code:f.code||"",active:f.active!==void 0?f.active:!0,accesPages:f.accesPages||{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},sitesAutorises:f.sitesAutorises||[]};await P.addSELAS(se)}await Promise.all(J),c(!1),d({}),p(null),y([]),await R()}catch{a("Erreur lors de la sauvegarde des modifications")}finally{o(!1)}},M=()=>{c(!1),d({}),p(null),y([])},F=async()=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer ${v.length} SELAS ?`))try{o(!0),a(null);const J=v.map(se=>P.deleteSELAS(se));await Promise.all(J),c(!1),y([]),await R()}catch{a("Erreur lors de la suppression des SELAS")}finally{o(!1)}},z=J=>{J!=="new-selas-temp"&&y(se=>se.includes(J)?se.filter(ge=>ge!==J):[...se,J])},j=[...n];if(l&&f){const J={id:"new-selas-temp",nom:f.nom||"",description:f.description||"",code:f.code||"",active:f.active!==void 0?f.active:!0,accesPages:f.accesPages||{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},sitesAutorises:f.sitesAutorises||[],dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()};J.utilisateurs=[],j.unshift(J)}const B=async()=>{try{switch(o(!0),E){case"activate":await Promise.all(v.map(J=>P.updateSELAS(J,{active:!0})));break;case"deactivate":await Promise.all(v.map(J=>P.updateSELAS(J,{active:!1})));break;case"delete":await Promise.all(v.map(J=>P.deleteSELAS(J)));break}await R(),y([]),w("default")}catch{a("Erreur lors de l'action de masse")}finally{o(!1)}},W=async()=>{try{const J=await P.exportSELAS(v),se=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),ge=window.URL.createObjectURL(se),le=document.createElement("a");le.href=ge,le.download="selas_export.json",le.click(),window.URL.revokeObjectURL(ge)}catch{a("Erreur lors de l'exportation des SELAS")}},q=()=>l?g.jsxs("div",{className:"admin-section",children:[g.jsx("h3",{children:"Actions d'administration"}),_==="default"&&g.jsxs("div",{className:"action-buttons",children:[g.jsx("button",{className:"btn btn-secondary",onClick:()=>w("bulk"),disabled:v.length===0,children:"Actions de masse"}),g.jsx("button",{className:"btn btn-secondary",onClick:()=>w("export"),disabled:v.length===0,children:"Exporter"})]}),_==="bulk"&&g.jsxs("div",{children:[g.jsxs("select",{value:E,onChange:J=>T(J.target.value),title:"Sélectionner une action de masse",children:[g.jsx("option",{value:"activate",children:"Activer"}),g.jsx("option",{value:"deactivate",children:"Désactiver"}),g.jsx("option",{value:"delete",children:"Supprimer"})]}),g.jsx("button",{className:"btn btn-primary",onClick:B,children:"Appliquer"}),g.jsx("button",{className:"btn btn-secondary",onClick:()=>w("default"),children:"Annuler"})]}),_==="export"&&g.jsxs("div",{children:[g.jsx("button",{className:"btn btn-primary",onClick:W,children:"Confirmer l'exportation"}),g.jsx("button",{className:"btn btn-secondary",onClick:()=>w("default"),children:"Annuler"})]})]}):null,G=async J=>{try{const ge=yc().currentUser;if(!ge||!ge.uid){alert("Vous devez être connecté pour effectuer cette action");return}const le=nn(dt,"users"),we=mr(le,Zr("uid","==",ge.uid)),ce=await yn(we);if(ce.empty){alert("Votre profil utilisateur n'a pas été trouvé");return}const be=ce.docs[0];await Co(Sn(dt,"users",be.id),{defaultSelasId:J,lastUpdated:new Date().toISOString()}),alert("SELAS définie comme SELAS par défaut avec succès"),localStorage.setItem("currentSelasId",J)}catch(se){console.error("Erreur lors de la définition de la SELAS par défaut:",se),a("Impossible de définir la SELAS par défaut"),alert("Impossible de définir la SELAS par défaut")}},X={dashboard:"Tableau de bord",passages:"Passages",sites:"Sites",tournees:"Tournées",vehicules:"Véhicules",map:"Carte",userManagement:"Gestion utilisateurs",adminPanel:"Administration"},ue=[{title:"Sélection",dataIndex:"id",width:50,render:J=>g.jsx(sf,{checked:v.includes(J),onChange:()=>z(J),"aria-label":`Sélectionner SELAS ${J}`})},{title:"Nom",dataIndex:"nom",width:150,render:(J,se)=>g.jsx(Hd,{value:J,onChange:ge=>N(se.id,"nom",ge.target.value),"aria-label":"Nom de la SELAS"})},{title:"Description",dataIndex:"description",width:200,render:(J,se)=>g.jsx(Hd,{value:J,onChange:ge=>N(se.id,"description",ge.target.value),"aria-label":"Description de la SELAS"})},{title:"Code",dataIndex:"code",width:100,render:(J,se)=>g.jsx(Hd,{value:J,onChange:ge=>N(se.id,"code",ge.target.value),"aria-label":"Code de la SELAS"})},{title:"Statut",dataIndex:"active",width:100,render:(J,se)=>g.jsx(QJ,{checked:J,onChange:ge=>N(se.id,"active",ge),"aria-label":"Statut de la SELAS"})},{title:"Accès",dataIndex:"accesPages",width:300,render:(J={},se)=>g.jsx("div",{className:"acces-pages-container",children:l?g.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(J).map(([ge,le])=>g.jsx(sf,{checked:!!le,onChange:we=>N(se.id,`accesPages.${ge}`,we.target.checked),style:{marginRight:"8px",marginBottom:"8px"},children:g.jsx("span",{style:{fontSize:"0.8rem"},children:X[ge]||ge})},ge))}):g.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px"},children:[Object.entries(J).filter(([ge,le])=>le).map(([ge])=>g.jsx(Pee,{color:"blue",style:{margin:"2px"},children:X[ge]||ge},ge)),!Object.values(J||{}).some(Boolean)&&g.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Aucun accès"})]})})},{title:"Utilisateurs",dataIndex:"utilisateurs",width:200,render:(J=[],se)=>g.jsx("div",{className:"users-association",children:l?g.jsx(xl,{mode:"multiple",style:{width:"100%"},placeholder:"Associer des utilisateurs",value:J||[],onChange:ge=>te(se.id,ge),optionFilterProp:"children",filterOption:(ge,le)=>{var we;return(((we=le==null?void 0:le.label)==null?void 0:we.toString().toLowerCase())||"").includes(ge.toLowerCase())},options:I.map(ge=>({value:ge.id,label:ge.nom?`${ge.nom} (${ge.email})`:ge.email}))}):g.jsx("div",{children:J&&J.length>0?g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"3px"},children:[J.slice(0,3).map(ge=>{const le=I.find(we=>we.id===ge);return g.jsxs("div",{style:{backgroundColor:"#52c41a",color:"white",padding:"2px 8px",borderRadius:"4px",display:"flex",alignItems:"center",margin:"2px 0",fontSize:"12px"},children:[g.jsx(tYe,{style:{marginRight:"5px"}}),le?le.nom||le.email:"Utilisateur inconnu"]},ge)}),J.length>3&&g.jsx(px,{title:J.slice(3).map(ge=>{const le=I.find(we=>we.id===ge);return le?le.nom||le.email:"Utilisateur inconnu"}).join(", "),children:g.jsx("div",{style:{backgroundColor:"#1890ff",color:"white",padding:"2px 8px",borderRadius:"4px",margin:"2px 0",fontSize:"12px",cursor:"pointer"},children:`+${J.length-3} autres`})})]}):g.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"Aucun utilisateur"})})})}],te=async(J,se)=>{try{if(console.log(`Association des utilisateurs à la SELAS ${J}:`,se),J==="new-selas-temp"){p(ge=>({...ge,utilisateurs:se}));return}e(ge=>ge.map(le=>le.id===J?{...le,utilisateurs:se}:le))}catch(ge){console.error("Erreur lors de l'association des utilisateurs:",ge),a("Erreur lors de l'association des utilisateurs")}};return i?g.jsx("div",{className:"loading",children:"Chargement des SELAS..."}):g.jsxs("div",{className:"selas-management",children:[g.jsxs("div",{className:"selas-management-header",children:[g.jsx("h2",{children:"Gestion des SELAS"}),g.jsx("div",{className:"action-buttons",children:l?g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"btn btn-primary",onClick:$,style:{backgroundColor:"#4caf50",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[g.jsx(JGe,{})," Enregistrer"]}),g.jsxs("button",{className:"btn btn-secondary",onClick:M,style:{backgroundColor:"#ff9800",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginLeft:"10px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[g.jsx(eYe,{})," Annuler"]}),v.length>0&&g.jsxs("button",{className:"btn btn-danger",onClick:F,style:{backgroundColor:"#f44336",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginLeft:"10px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[g.jsx(c9,{})," Supprimer (",v.length,")"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),style:{backgroundColor:"#1976d2",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[g.jsx(ZGe,{})," Modifier"]}),g.jsxs("button",{className:"btn btn-secondary",onClick:()=>{c(!0),p({nom:"",description:"",code:"",active:!0,accesPages:{dashboard:!0,passages:!1,sites:!1,tournees:!1,vehicules:!1,map:!1,userManagement:!1,adminPanel:!1},sitesAutorises:[]})},style:{backgroundColor:"#2196f3",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginLeft:"10px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[g.jsx(QGe,{})," Ajouter"]})]})})]}),q(),g.jsxs("div",{className:"controls",children:[g.jsxs("div",{className:"search-box",children:[g.jsx("input",{type:"text",placeholder:"Rechercher une SELAS...",value:b,onChange:J=>x(J.target.value),className:"search-input"}),b&&g.jsx("button",{className:"clear-search",onClick:()=>x(""),children:"✕"})]}),g.jsx("div",{className:"action-buttons",children:l?g.jsx(g.Fragment,{children:v.length>0&&g.jsxs("button",{className:"modern-button delete-button",onClick:F,style:{backgroundColor:"#f44336",color:"white",padding:"8px 15px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[g.jsx(c9,{})," Supprimer (",v.length,")"]})}):g.jsx(g.Fragment,{})})]}),g.jsxs("div",{className:"selas-table-container",children:[g.jsx("div",{className:"results-info",children:g.jsxs("p",{children:[n.length," résultat(s) trouvé(s)",b?` pour la recherche "${b}"`:""]})}),g.jsx(Nu,{columns:ue,dataSource:j,loading:i,scroll:{x:1500},rowSelection:{selectedRowKeys:v,onChange:J=>{const se=J.map(ge=>ge.toString());y(se)}},pagination:{pageSize:10,showSizeChanger:!0},rowKey:"id",rowClassName:J=>J.id==="new-selas-temp"?"new-selas-row":""})]}),l&&g.jsx("div",{className:"default-selas-actions",children:v.length===1&&g.jsxs("button",{className:"set-default-button",onClick:()=>G(v[0]),style:{backgroundColor:"#2196f3",color:"white",padding:"10px 16px",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:500,marginTop:"15px",transition:"all 0.3s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.2)"},children:[g.jsx(XGe,{})," Définir comme SELAS par défaut"]})})]})};function _ne(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=_ne(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ip(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=_ne(t))&&(r&&(r+=" "),r+=e);return r}let rYe={data:""},iYe=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||rYe,oYe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sYe=/\/\*[^]*?\*\/|  +/g,u9=/\n+/g,Yf=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Yf(s,o):o+"{"+Yf(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=Yf(s,e?e.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Yf.p?Yf.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},zc={},wne=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+wne(t[n]);return e}return t},aYe=(t,e,n,r,i)=>{let o=wne(t),s=zc[o]||(zc[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!zc[s]){let l=o!==t?t:(c=>{let u,d,f=[{}];for(;u=oYe.exec(c.replace(sYe,""));)u[4]?f.shift():u[3]?(d=u[3].replace(u9," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(u9," ").trim();return f[0]})(t);zc[s]=Yf(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&zc.g?zc.g:null;return n&&(zc.g=zc[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(zc[s],e,r,a),s},lYe=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Yf(a,""):a===!1?"":a}return r+i+(s??"")},"");function Ej(t){let e=this||{},n=t.call?t(e.p):t;return aYe(n.unshift?n.raw?lYe(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,iYe(e.target),e.g,e.o,e.k)}Ej.bind({g:1});Ej.bind({k:1});function cYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cne(t,e,n){return e&&cYe(t.prototype,e),t}function Hr(){return Hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr.apply(this,arguments)}function Sne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function z_(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function d9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var f9=function(){return""},Ene=ae.createContext({enqueueSnackbar:f9,closeSnackbar:f9}),Bf={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},h9=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ij=function(e){return""+h9(e.vertical)+h9(e.horizontal)},wC=function(e){return!!e||e===0},CC="unmounted",pm="exited",mm="entering",Xy="entered",p9="exiting",Tj=function(t){Sne(e,t);function e(r){var i;i=t.call(this,r)||this;var o=r.appear,s;return i.appearStatus=null,r.in?o?(s=pm,i.appearStatus=mm):s=Xy:r.unmountOnExit||r.mountOnEnter?s=CC:s=pm,i.state={status:s},i.nextCallback=null,i}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===CC?{status:pm}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==mm&&s!==Xy&&(o=mm):(s===mm||s===Xy)&&(o=p9)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,o=i.enter),{exit:s,enter:o}},n.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===mm?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===pm&&this.setState({status:CC})},n.performEnter=function(i){var o=this,s=this.props.enter,a=i,l=this.getTimeouts();if(!i&&!s){this.safeSetState({status:Xy},function(){o.props.onEntered&&o.props.onEntered(o.node,a)});return}this.props.onEnter&&this.props.onEnter(this.node,a),this.safeSetState({status:mm},function(){o.props.onEntering&&o.props.onEntering(o.node,a),o.onTransitionEnd(l.enter,function(){o.safeSetState({status:Xy},function(){o.props.onEntered&&o.props.onEntered(o.node,a)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts();if(!o){this.safeSetState({status:pm},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:p9},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:pm},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(){s&&(s=!1,o.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===CC)return null;var o=this.props,s=o.children,a=z_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,a)},Cne(e,[{key:"node",get:function(){var i,o=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!o)throw new Error("notistack - Custom snackbar is not refForwarding");return o}}]),e}(ae.Component);function gm(){}Tj.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gm,onEntering:gm,onEntered:gm,onExit:gm,onExiting:gm,onExited:gm};function m9(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function FD(t,e){return h.useMemo(function(){return t==null&&e==null?null:function(n){m9(t,n),m9(e,n)}},[t,e])}function OE(t){var e=t.timeout,n=t.style,r=n===void 0?{}:n,i=t.mode;return{duration:typeof e=="object"?e[i]||0:e,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var BD={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Ine=function(e){e.scrollTop=e.scrollTop},g9=function(e){return Math.round(e)+"ms"};function Xm(t,e){t===void 0&&(t=["all"]);var n=e||{},r=n.duration,i=r===void 0?300:r,o=n.easing,s=o===void 0?BD.easeInOut:o,a=n.delay,l=a===void 0?0:a,c=Array.isArray(t)?t:[t];return c.map(function(u){var d=typeof i=="string"?i:g9(i),f=typeof l=="string"?l:g9(l);return u+" "+d+" "+s+" "+f}).join(",")}function uYe(t){return t&&t.ownerDocument||document}function Tne(t){var e=uYe(t);return e.defaultView||window}function dYe(t,e){e===void 0&&(e=166);var n;function r(){for(var i=this,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=function(){t.apply(i,s)};clearTimeout(n),n=setTimeout(l,e)}return r.clear=function(){clearTimeout(n)},r}function fYe(t,e){var n=e.getBoundingClientRect(),r=Tne(e),i;if(e.fakeTransform)i=e.fakeTransform;else{var o=r.getComputedStyle(e);i=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var s=0,a=0;if(i&&i!=="none"&&typeof i=="string"){var l=i.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),a=parseInt(l[5],10)}switch(t){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+a-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-a)+"px)"}}function SC(t,e){if(e){var n=fYe(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}}var Pne=h.forwardRef(function(t,e){var n=t.children,r=t.direction,i=r===void 0?"down":r,o=t.in,s=t.style,a=t.timeout,l=a===void 0?0:a,c=t.onEnter,u=t.onEntered,d=t.onExit,f=t.onExited,p=z_(t,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),v=h.useRef(null),y=FD(n.ref,v),b=FD(y,e),x=function(S,P){SC(i,S),Ine(S),c&&c(S,P)},_=function(S){var P=(s==null?void 0:s.transitionTimingFunction)||BD.easeOut,R=OE({timeout:l,mode:"enter",style:Hr({},s,{transitionTimingFunction:P})});S.style.webkitTransition=Xm("-webkit-transform",R),S.style.transition=Xm("transform",R),S.style.webkitTransform="none",S.style.transform="none"},w=function(S){var P=(s==null?void 0:s.transitionTimingFunction)||BD.sharp,R=OE({timeout:l,mode:"exit",style:Hr({},s,{transitionTimingFunction:P})});S.style.webkitTransition=Xm("-webkit-transform",R),S.style.transition=Xm("transform",R),SC(i,S),d&&d(S)},E=function(S){S.style.webkitTransition="",S.style.transition="",f&&f(S)},T=h.useCallback(function(){v.current&&SC(i,v.current)},[i]);return h.useEffect(function(){if(!(o||i==="down"||i==="right")){var I=dYe(function(){v.current&&SC(i,v.current)}),S=Tne(v.current);return S.addEventListener("resize",I),function(){I.clear(),S.removeEventListener("resize",I)}}},[i,o]),h.useEffect(function(){o||T()},[o,T]),h.createElement(Tj,Object.assign({appear:!0,nodeRef:v,onEnter:x,onEntered:u,onEntering:_,onExit:w,onExited:E,in:o,timeout:l},p),function(I,S){return h.cloneElement(n,Hr({ref:b,style:Hr({visibility:I==="exited"&&!o?"hidden":void 0},s,{},n.props.style)},S))})});Pne.displayName="Slide";var T2=function(e){return ae.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},e))},hYe=function(){return ae.createElement(T2,null,ae.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},pYe=function(){return ae.createElement(T2,null,ae.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},mYe=function(){return ae.createElement(T2,null,ae.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},gYe=function(){return ae.createElement(T2,null,ae.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},vYe={default:void 0,success:ae.createElement(hYe,null),warning:ae.createElement(pYe,null),error:ae.createElement(mYe,null),info:ae.createElement(gYe,null)},Ph={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:vYe,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Pne,transitionDuration:{enter:225,exit:195}},yYe=function(e,n){var r=function(o){return typeof o=="number"||o===null};return r(e)?e:r(n)?n:Ph.autoHideDuration},bYe=function(e,n){var r=function(o,s){return s.some(function(a){return typeof o===a})};return r(e,["string","number"])?e:r(e,["object"])?Hr({},Ph.transitionDuration,{},r(n,["object"])&&n,{},e):r(n,["string","number"])?n:r(n,["object"])?Hr({},Ph.transitionDuration,{},n):Ph.transitionDuration},xYe=function(e,n){return function(r,i){return i===void 0&&(i=!1),i?Hr({},Ph[r],{},n[r],{},e[r]):r==="autoHideDuration"?yYe(e.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?bYe(e.transitionDuration,n.transitionDuration):e[r]||n[r]||Ph[r]}};function F_(t){return Object.entries(t).reduce(function(e,n){var r,i=n[0],o=n[1];return Hr({},e,(r={},r[i]=Ej(o),r))},{})}var hv={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(e){return"notistack-MuiContent-"+e}},v9=F_({root:{height:0},entered:{height:"auto"}}),JR="0px",ek=175,Rne=h.forwardRef(function(t,e){var n=t.children,r=t.in,i=t.onExited,o=h.useRef(null),s=h.useRef(null),a=FD(e,s),l=function(){return o.current?o.current.clientHeight:0},c=function(y){y.style.height=JR},u=function(y){var b=l(),x=OE({timeout:ek,mode:"enter"}),_=x.duration,w=x.easing;y.style.transitionDuration=typeof _=="string"?_:_+"ms",y.style.height=b+"px",y.style.transitionTimingFunction=w||""},d=function(y){y.style.height="auto"},f=function(y){y.style.height=l()+"px"},p=function(y){Ine(y);var b=OE({timeout:ek,mode:"exit"}),x=b.duration,_=b.easing;y.style.transitionDuration=typeof x=="string"?x:x+"ms",y.style.height=JR,y.style.transitionTimingFunction=_||""};return h.createElement(Tj,{in:r,unmountOnExit:!0,onEnter:c,onEntered:d,onEntering:u,onExit:f,onExited:i,onExiting:p,nodeRef:s,timeout:ek},function(v,y){return h.createElement("div",Object.assign({ref:a,className:Ip(v9.root,v==="entered"&&v9.entered),style:Hr({pointerEvents:"all",overflow:"hidden",minHeight:JR,transition:Xm("height")},v==="entered"&&{overflow:"visible"},{},v==="exited"&&!r&&{visibility:"hidden"})},y),h.createElement("div",{ref:o,className:hv.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});Rne.displayName="Collapse";var y9={right:"left",left:"right",bottom:"up",top:"down"},_Ye=function(e){return e.horizontal!=="center"?y9[e.horizontal]:y9[e.vertical]},wYe=function(e){return"anchorOrigin"+Ij(e)},CYe=function(e){e===void 0&&(e={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(e).filter(function(r){return!n[r]}).reduce(function(r,i){var o;return Hr({},r,(o={},o[i]=e[i],o))},{})},SYe=function(){};function ab(t,e){return t.reduce(function(n,r){return r==null?n:function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var l=[].concat(s);e&&l.indexOf(e)===-1&&l.push(e),n.apply(this,l),r.apply(this,l)}},SYe)}var EYe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function b9(t){var e=h.useRef(t);return EYe(function(){e.current=t}),h.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var kne=h.forwardRef(function(t,e){var n=t.children,r=t.className,i=t.autoHideDuration,o=t.disableWindowBlurListener,s=o===void 0?!1:o,a=t.onClose,l=t.id,c=t.open,u=t.SnackbarProps,d=u===void 0?{}:u,f=h.useRef(),p=b9(function(){a&&a.apply(void 0,arguments)}),v=b9(function(w){!a||w==null||(f.current&&clearTimeout(f.current),f.current=setTimeout(function(){p(null,"timeout",l)},w))});h.useEffect(function(){return c&&v(i),function(){f.current&&clearTimeout(f.current)}},[c,i,v]);var y=function(){f.current&&clearTimeout(f.current)},b=h.useCallback(function(){i!=null&&v(i*.5)},[i,v]),x=function(E){d.onMouseEnter&&d.onMouseEnter(E),y()},_=function(E){d.onMouseLeave&&d.onMouseLeave(E),b()};return h.useEffect(function(){if(!s&&c)return window.addEventListener("focus",b),window.addEventListener("blur",y),function(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}},[s,b,c]),h.createElement("div",Object.assign({ref:e},d,{className:Ip(hv.Snackbar,r),onMouseEnter:x,onMouseLeave:_}),n)});kne.displayName="Snackbar";var tk,IYe=F_({root:(tk={display:"flex",flexWrap:"wrap",flexGrow:1},tk[Bf.upSm]={flexGrow:"initial",minWidth:"288px"},tk)}),Mne=h.forwardRef(function(t,e){var n=t.className,r=z_(t,["className"]);return ae.createElement("div",Object.assign({ref:e,className:Ip(IYe.root,n)},r))});Mne.displayName="SnackbarContent";var Zy=F_({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),x9="notistack-snackbar",One=h.forwardRef(function(t,e){var n=t.id,r=t.message,i=t.action,o=t.iconVariant,s=t.variant,a=t.hideIconVariant,l=t.style,c=t.className,u=o[s],d=i;return typeof d=="function"&&(d=d(n)),ae.createElement(Mne,{ref:e,role:"alert","aria-describedby":x9,style:l,className:Ip(hv.MuiContent,hv.MuiContentVariant(s),Zy.root,Zy[s],c,!a&&u&&Zy.lessPadding)},ae.createElement("div",{id:x9,className:Zy.message},a?null:u,r),d&&ae.createElement("div",{className:Zy.action},d))});One.displayName="MaterialDesignContent";var TYe=h.memo(One),PYe=F_({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),RYe=function(e){var n=h.useRef(),r=h.useState(!0),i=r[0],o=r[1],s=ab([e.snack.onClose,e.onClose]),a=function(){e.snack.requestClose&&s(null,"instructed",e.snack.id)},l=h.useCallback(function(){n.current=setTimeout(function(){o(function(R){return!R})},125)},[]);h.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var c=e.snack,u=e.classes,d=e.Component,f=d===void 0?TYe:d,p=h.useMemo(function(){return CYe(u)},[u]),v=c.open,y=c.SnackbarProps,b=c.TransitionComponent,x=c.TransitionProps,_=c.transitionDuration,w=c.disableWindowBlurListener,E=c.content,T=z_(c,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),I=Hr({direction:_Ye(T.anchorOrigin),timeout:_},x),S=E;typeof S=="function"&&(S=S(T.id,T.message));var P=["onEnter","onEntered","onExit","onExited"].reduce(function(R,O){var N;return Hr({},R,(N={},N[O]=ab([e.snack[O],e[O]],T.id),N))},{});return ae.createElement(Rne,{in:i,onExited:P.onExited},ae.createElement(kne,{open:v,id:T.id,disableWindowBlurListener:w,autoHideDuration:T.autoHideDuration,className:Ip(PYe.wrappedRoot,p.root,p[wYe(T.anchorOrigin)]),SnackbarProps:y,onClose:s},ae.createElement(b,Object.assign({},I,{appear:!0,in:v,onExit:P.onExit,onExited:l,onEnter:P.onEnter,onEntered:ab([P.onEntered,a],T.id)}),S||ae.createElement(f,Object.assign({},T)))))},Qy,nk,EC,IC,rk,Fc={view:{default:20},snackbar:{default:6,dense:2}},_9="."+hv.CollapseWrapper,ik=16,TC=F_({root:(Qy={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:Xm(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Qy[_9]={padding:Fc.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Qy.maxWidth="calc(100% - "+Fc.view.default*2+"px)",Qy[Bf.downXs]={width:"100%",maxWidth:"calc(100% - "+ik*2+"px)"},Qy),rootDense:(nk={},nk[_9]={padding:Fc.snackbar.dense+"px 0px"},nk),top:{top:Fc.view.default-Fc.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Fc.view.default-Fc.snackbar.default+"px",flexDirection:"column-reverse"},left:(EC={left:Fc.view.default+"px"},EC[Bf.upSm]={alignItems:"flex-start"},EC[Bf.downXs]={left:ik+"px"},EC),right:(IC={right:Fc.view.default+"px"},IC[Bf.upSm]={alignItems:"flex-end"},IC[Bf.downXs]={right:ik+"px"},IC),center:(rk={left:"50%",transform:"translateX(-50%)"},rk[Bf.upSm]={alignItems:"center"},rk)}),kYe=function(e){var n=e.classes,r=n===void 0?{}:n,i=e.anchorOrigin,o=e.dense,s=e.children,a=Ip(hv.SnackbarContainer,TC[i.vertical],TC[i.horizontal],TC.root,r.containerRoot,r["containerAnchorOrigin"+Ij(i)],o&&TC.rootDense);return ae.createElement("div",{className:a},s)},MYe=h.memo(kYe),w9=function(e){var n=typeof e=="string"||h.isValidElement(e);return!n},OYe=function(t){Sne(e,t);function e(r){var i;return i=t.call(this,r)||this,i.enqueueSnackbar=function(o,s){if(s===void 0&&(s={}),o==null)throw new Error("enqueueSnackbar called with invalid argument");var a=w9(o)?o:s,l=w9(o)?o.message:o,c=a.key,u=a.preventDuplicate,d=z_(a,["key","preventDuplicate"]),f=wC(c),p=f?c:new Date().getTime()+Math.random(),v=xYe(d,i.props),y=Hr({id:p},d,{message:l,open:!0,entered:!1,requestClose:!1,persist:v("persist"),action:v("action"),content:v("content"),variant:v("variant"),anchorOrigin:v("anchorOrigin"),disableWindowBlurListener:v("disableWindowBlurListener"),autoHideDuration:v("autoHideDuration"),hideIconVariant:v("hideIconVariant"),TransitionComponent:v("TransitionComponent"),transitionDuration:v("transitionDuration"),TransitionProps:v("TransitionProps",!0),iconVariant:v("iconVariant",!0),style:v("style",!0),SnackbarProps:v("SnackbarProps",!0),className:Ip(i.props.className,d.className)});return y.persist&&(y.autoHideDuration=void 0),i.setState(function(b){if(u===void 0&&i.props.preventDuplicate||u){var x=function(T){return f?T.id===p:T.message===l},_=b.queue.findIndex(x)>-1,w=b.snacks.findIndex(x)>-1;if(_||w)return b}return i.handleDisplaySnack(Hr({},b,{queue:[].concat(b.queue,[y])}))}),p},i.handleDisplaySnack=function(o){var s=o.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(o):i.processQueue(o)},i.processQueue=function(o){var s=o.queue,a=o.snacks;return s.length>0?Hr({},o,{snacks:[].concat(a,[s[0]]),queue:s.slice(1,s.length)}):o},i.handleDismissOldest=function(o){if(o.snacks.some(function(u){return!u.open||u.requestClose}))return o;var s=!1,a=!1,l=o.snacks.reduce(function(u,d){return u+(d.open&&d.persist?1:0)},0);l===i.maxSnack&&(a=!0);var c=o.snacks.map(function(u){return!s&&(!u.persist||a)?(s=!0,u.entered?(u.onClose&&u.onClose(null,"maxsnack",u.id),i.props.onClose&&i.props.onClose(null,"maxsnack",u.id),Hr({},u,{open:!1})):Hr({},u,{requestClose:!0})):Hr({},u)});return Hr({},o,{snacks:c})},i.handleEnteredSnack=function(o,s,a){if(!wC(a))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(l){var c=l.snacks;return{snacks:c.map(function(u){return u.id===a?Hr({},u,{entered:!0}):Hr({},u)})}})},i.handleCloseSnack=function(o,s,a){i.props.onClose&&i.props.onClose(o,s,a);var l=a===void 0;i.setState(function(c){var u=c.snacks,d=c.queue;return{snacks:u.map(function(f){return!l&&f.id!==a?Hr({},f):f.entered?Hr({},f,{open:!1}):Hr({},f,{requestClose:!0})}),queue:d.filter(function(f){return f.id!==a})}})},i.closeSnackbar=function(o){var s=i.state.snacks.find(function(a){return a.id===o});wC(o)&&s&&s.onClose&&s.onClose(null,"instructed",o),i.handleCloseSnack(null,"instructed",o)},i.handleExitedSnack=function(o,s){if(!wC(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(a){var l=i.processQueue(Hr({},a,{snacks:a.snacks.filter(function(c){return c.id!==s})}));return l.queue.length===0?l:i.handleDismissOldest(l)})},i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(d9(i)),closeSnackbar:i.closeSnackbar.bind(d9(i))}},i}var n=e.prototype;return n.render=function(){var i=this,o=this.state.contextValue,s=this.props,a=s.domRoot,l=s.children,c=s.dense,u=c===void 0?!1:c,d=s.Components,f=d===void 0?{}:d,p=s.classes,v=this.state.snacks.reduce(function(b,x){var _,w=Ij(x.anchorOrigin),E=b[w]||[];return Hr({},b,(_={},_[w]=[].concat(E,[x]),_))},{}),y=Object.keys(v).map(function(b){var x=v[b],_=x[0];return ae.createElement(MYe,{key:b,dense:u,anchorOrigin:_.anchorOrigin,classes:p},x.map(function(w){return ae.createElement(RYe,{key:w.id,snack:w,classes:p,Component:f[w.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:ab([i.handleExitedSnack,i.props.onExited],w.id),onEntered:ab([i.handleEnteredSnack,i.props.onEntered],w.id)})}))});return ae.createElement(Ene.Provider,{value:o},l,a?js.createPortal(y,a):y)},Cne(e,[{key:"maxSnack",get:function(){return this.props.maxSnack||Ph.maxSnack}}]),e}(h.Component),Dne=function(){return h.useContext(Ene)};const DYe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(!0),[i,o]=h.useState(!1),[s,a]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,p]=h.useState(""),[v,y]=h.useState(""),[b,x]=h.useState(""),[_,w]=h.useState({}),[E,T]=h.useState([]),{enqueueSnackbar:I}=Dne(),S=Hb.getInstance();h.useEffect(()=>{P(),R()},[]);const P=async()=>{try{r(!0);const F=nn(dt,"poles"),j=(await yn(F)).docs.map(B=>({id:B.id,...B.data()}));e(j),await N(j),r(!1)}catch(F){console.error("Erreur lors du chargement des pôles:",F),I("Erreur lors du chargement des pôles",{variant:"error"}),r(!1)}},R=async()=>{try{const z=(await S.getSELAS()).filter(j=>j.active);T(z)}catch(F){console.error("Erreur lors du chargement des SELAS:",F),I("Erreur lors du chargement des SELAS",{variant:"error"})}},O=F=>{if(!F)return"-";const z=E.find(j=>j.id===F);return z?z.nom:"-"},N=async F=>{const z={};F.forEach(B=>{z[B.id]=0});const j=["users","sites","passages","tournees","vehicules"];for(const B of j)try{const W=nn(dt,B);(await yn(W)).docs.forEach(G=>{const X=G.data();if(X.pole){const ue=F.find(te=>te.nom===X.pole);ue&&z[ue.id]++}})}catch(W){console.error(`Erreur lors du comptage des utilisations dans ${B}:`,W)}w(z)},A=async()=>{if(!f.trim()){I("Le nom du pôle est requis",{variant:"error"});return}try{if(r(!0),t.find(W=>W.nom.toLowerCase()===f.trim().toLowerCase())){I("Un pôle avec ce nom existe déjà",{variant:"error"}),r(!1);return}const z={nom:f.trim(),description:v.trim()||"",selasId:b||void 0,dateCreation:new Date().toISOString(),dateModification:new Date().toISOString()},j=nn(dt,"poles"),B=await ia(j,z);e([...t,{...z,id:B.id}]),I("Pôle ajouté avec succès",{variant:"success"}),p(""),y(""),x(""),o(!1),r(!1)}catch(F){console.error("Erreur lors de l'ajout du pôle:",F),I("Erreur lors de l'ajout du pôle",{variant:"error"}),r(!1)}},$=async()=>{var F;if(!u||!u.nom.trim()){I("Le nom du pôle est requis",{variant:"error"});return}try{if(r(!0),t.find(W=>W.nom.toLowerCase()===u.nom.trim().toLowerCase()&&W.id!==u.id)){I("Un pôle avec ce nom existe déjà",{variant:"error"}),r(!1);return}const j={...u,nom:u.nom.trim(),description:((F=u.description)==null?void 0:F.trim())||"",selasId:u.selasId===""?null:u.selasId,dateModification:new Date().toISOString()},B=Sn(dt,"poles",u.id);await Co(B,j),e(t.map(W=>W.id===u.id?j:W)),I("Pôle mis à jour avec succès",{variant:"success"}),a(!1),d(null),r(!1)}catch(z){console.error("Erreur lors de la mise à jour du pôle:",z),I("Erreur lors de la mise à jour du pôle",{variant:"error"}),r(!1)}},M=async()=>{if(u)try{if(r(!0),_[u.id]>0){I(`Ce pôle est utilisé par ${_[u.id]} éléments. Veuillez d'abord modifier ces éléments.`,{variant:"error"}),r(!1),c(!1);return}const F=Sn(dt,"poles",u.id);await eo(F),e(t.filter(z=>z.id!==u.id)),I("Pôle supprimé avec succès",{variant:"success"}),c(!1),d(null),r(!1)}catch(F){console.error("Erreur lors de la suppression du pôle:",F),I("Erreur lors de la suppression du pôle",{variant:"error"}),r(!1)}};return g.jsxs(gn,{children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[g.jsx(Ge,{variant:"h5",children:"Gestion des pôles"}),g.jsx(Mn,{variant:"contained",color:"primary",startIcon:g.jsx(dv,{}),onClick:()=>o(!0),children:"Ajouter un pôle"})]}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:"Les pôles permettent de regrouper et filtrer les données (sites, passages, tournées, véhicules) par zones géographiques ou organisationnelles."}),n?g.jsx(gn,{sx:{display:"flex",justifyContent:"center",my:3},children:g.jsx(na,{})}):g.jsx(C2,{component:tr,children:g.jsxs(x2,{children:[g.jsx(S2,{children:g.jsxs(gu,{children:[g.jsx(In,{children:"Nom du pôle"}),g.jsx(In,{children:"Description"}),g.jsx(In,{children:"SELAS"}),g.jsx(In,{children:"Date de création"}),g.jsx(In,{children:"Utilisation"}),g.jsx(In,{align:"right",children:"Actions"})]})}),g.jsx(w2,{children:t.length===0?g.jsx(gu,{children:g.jsx(In,{colSpan:6,align:"center",children:g.jsx(Ge,{variant:"body1",sx:{py:2},children:`Aucun pôle n'a été créé. Cliquez sur "Ajouter un pôle" pour commencer.`})})}):t.map(F=>g.jsxs(gu,{children:[g.jsx(In,{children:F.nom}),g.jsx(In,{children:F.description||"-"}),g.jsx(In,{children:F.selasId?g.jsx(ro,{icon:g.jsx(hne,{fontSize:"small"}),label:O(F.selasId),color:"primary",variant:"outlined",size:"small"}):"-"}),g.jsx(In,{children:new Date(F.dateCreation).toLocaleDateString("fr-FR")}),g.jsx(In,{children:g.jsx(ro,{label:`${_[F.id]||0} éléments`,color:_[F.id]>0?"primary":"default",variant:_[F.id]>0?"filled":"outlined",size:"small"})}),g.jsxs(In,{align:"right",children:[g.jsx(Ao,{color:"primary",onClick:()=>{d(F),a(!0)},children:g.jsx(L_,{})}),g.jsx(Ao,{color:"error",onClick:()=>{d(F),c(!0)},children:g.jsx(fv,{})})]})]},F.id))})]})}),g.jsxs(hc,{open:i,onClose:()=>o(!1),children:[g.jsx(gc,{children:"Ajouter un nouveau pôle"}),g.jsxs(mc,{children:[g.jsx($S,{children:"Entrez les informations du nouveau pôle. Le nom sera utilisé pour identifier le pôle dans l'application."}),g.jsx(Kn,{autoFocus:!0,margin:"dense",label:"Nom du pôle",type:"text",fullWidth:!0,variant:"outlined",value:f,onChange:F=>p(F.target.value),required:!0,sx:{mt:2}}),g.jsx(Kn,{margin:"dense",label:"Description (optionnelle)",type:"text",fullWidth:!0,variant:"outlined",value:v,onChange:F=>y(F.target.value),multiline:!0,rows:2,sx:{mb:2}}),g.jsxs(Ch,{fullWidth:!0,variant:"outlined",children:[g.jsx(Sh,{id:"new-pole-selas-label",children:"SELAS associée"}),g.jsxs(Ud,{labelId:"new-pole-selas-label",value:b,onChange:F=>x(F.target.value),label:"SELAS associée",children:[g.jsx(ri,{value:"",children:g.jsx("em",{children:"Aucune"})}),E.map(F=>g.jsx(ri,{value:F.id,children:F.nom},F.id))]})]})]}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:()=>o(!1),color:"inherit",children:"Annuler"}),g.jsx(Mn,{onClick:A,color:"primary",variant:"contained",startIcon:g.jsx(AD,{}),disabled:!f.trim()||n,children:n?g.jsx(na,{size:24}):"Enregistrer"})]})]}),g.jsxs(hc,{open:s,onClose:()=>a(!1),children:[g.jsx(gc,{children:"Modifier un pôle"}),g.jsxs(mc,{children:[g.jsx($S,{children:"Modifiez les informations du pôle sélectionné."}),g.jsx(Kn,{autoFocus:!0,margin:"dense",label:"Nom du pôle",type:"text",fullWidth:!0,variant:"outlined",value:(u==null?void 0:u.nom)||"",onChange:F=>d(u?{...u,nom:F.target.value}:null),required:!0,sx:{mt:2}}),g.jsx(Kn,{margin:"dense",label:"Description (optionnelle)",type:"text",fullWidth:!0,variant:"outlined",value:(u==null?void 0:u.description)||"",onChange:F=>d(u?{...u,description:F.target.value}:null),multiline:!0,rows:2,sx:{mb:2}}),g.jsxs(Ch,{fullWidth:!0,variant:"outlined",children:[g.jsx(Sh,{id:"edit-pole-selas-label",children:"SELAS associée"}),g.jsxs(Ud,{labelId:"edit-pole-selas-label",value:(u==null?void 0:u.selasId)||"",onChange:F=>d(u?{...u,selasId:F.target.value}:null),label:"SELAS associée",children:[g.jsx(ri,{value:"",children:g.jsx("em",{children:"Aucune"})}),E.map(F=>g.jsx(ri,{value:F.id,children:F.nom},F.id))]})]})]}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:()=>a(!1),color:"inherit",children:"Annuler"}),g.jsx(Mn,{onClick:$,color:"primary",variant:"contained",startIcon:g.jsx(AD,{}),disabled:!(u!=null&&u.nom.trim())||n,children:n?g.jsx(na,{size:24}):"Enregistrer"})]})]}),g.jsxs(hc,{open:l,onClose:()=>c(!1),children:[g.jsx(gc,{children:"Supprimer un pôle"}),g.jsx(mc,{children:g.jsxs($S,{children:['Êtes-vous sûr de vouloir supprimer le pôle "',u==null?void 0:u.nom,'" ?',_[(u==null?void 0:u.id)||""]>0&&g.jsxs(Mr,{severity:"warning",sx:{mt:2},children:["Ce pôle est utilisé par ",_[(u==null?void 0:u.id)||""]," éléments. Vous ne pouvez pas le supprimer tant qu'il est utilisé."]})]})}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:()=>c(!1),color:"inherit",children:"Annuler"}),g.jsx(Mn,{onClick:M,color:"error",variant:"contained",startIcon:g.jsx(fv,{}),disabled:_[(u==null?void 0:u.id)||""]>0||n,children:n?g.jsx(na,{size:24}):"Supprimer"})]})]})]})};class AYe{constructor(){Ye(this,"collections",["passages","sites","tournees","vehicules","users"])}async getCollectionsStats(){try{console.log("🔄 Récupération des statistiques des collections...");const e={};for(const n of this.collections){const r=await yn(nn(dt,n));e[n]=r.size}return console.log("✅ Statistiques récupérées:",e),e}catch(e){throw console.error("❌ Erreur lors de la récupération des statistiques:",e),e}}async createFullBackup(){try{console.log("🔄 Création d'une sauvegarde complète..."),await el.generateCompleteBackup(),console.log("✅ Sauvegarde complète créée avec succès")}catch(e){throw console.error("❌ Erreur lors de la création de la sauvegarde complète:",e),e}}async createSelectiveBackup(e){try{console.log(`🔄 Création d'une sauvegarde sélective pour les collections: ${e.join(", ")}...`);const n=e.filter(a=>this.collections.includes(a));if(n.length===0)throw new Error("Aucune collection valide sélectionnée pour la sauvegarde");const r=new jD;for(const a of n){const l=await el.exportCollectionToJSON(a);l&&l.length>0&&r.file(`${a}.json`,JSON.stringify(l,null,2))}const i=await r.generateAsync({type:"blob"}),o=URL.createObjectURL(i),s=document.createElement("a");s.setAttribute("href",o),s.setAttribute("download",`selective_backup_${new Date().toISOString().split("T")[0]}.zip`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),console.log("✅ Sauvegarde sélective créée avec succès")}catch(n){throw console.error("❌ Erreur lors de la création de la sauvegarde sélective:",n),n}}async cleanupObsoleteData(e,n){try{if(console.log(`🔄 Nettoyage des données obsolètes de la collection ${e}...`),!this.collections.includes(e))throw new Error(`La collection ${e} n'est pas valide`);const r=qn.fromDate(n),i=nn(dt,e);let o;e==="passages"?o=mr(i,Zr("date","<",r)):e==="users"?o=mr(i,Zr("lastLogin","<",r)):o=mr(i,Zr("updatedAt","<",r));const s=await yn(o);if(s.empty)return console.log(`ℹ️ Aucune donnée obsolète trouvée dans la collection ${e}`),0;const a=cd(dt);let l=0;return s.docs.forEach(c=>{a.delete(Sn(dt,e,c.id)),l++,l>=500&&(a.commit(),console.log(`✅ Lot de ${l} documents supprimés`),l=0)}),l>0&&(await a.commit(),console.log(`✅ Dernier lot de ${l} documents supprimés`)),console.log(`✅ Nettoyage terminé: ${s.size} documents supprimés de la collection ${e}`),s.size}catch(r){throw console.error("❌ Erreur lors du nettoyage des données obsolètes:",r),r}}async optimizeIndexes(){try{console.log("🔄 Optimisation des index..."),await new Promise(e=>setTimeout(e,2e3)),console.log("✅ Optimisation des index terminée")}catch(e){throw console.error("❌ Erreur lors de l'optimisation des index:",e),e}}async resetDatabase(e){try{if(e!=="RESET_DATABASE_CONFIRM")throw new Error("Code de confirmation invalide");console.log("⚠️ RÉINITIALISATION DE LA BASE DE DONNÉES EN COURS..."),await this.createFullBackup();for(const n of this.collections){if(n==="users"){console.log("ℹ️ La collection users ne sera pas supprimée pour préserver les accès");continue}const r=nn(dt,n),i=await yn(r);if(i.empty){console.log(`ℹ️ La collection ${n} est déjà vide`);continue}const o=cd(dt);let s=0;i.docs.forEach(a=>{o.delete(Sn(dt,n,a.id)),s++,s>=500&&(o.commit(),console.log(`✅ Lot de ${s} documents supprimés de ${n}`),s=0)}),s>0&&(await o.commit(),console.log(`✅ Dernier lot de ${s} documents supprimés de ${n}`)),console.log(`✅ Collection ${n} réinitialisée`)}console.log("✅ Réinitialisation de la base de données terminée")}catch(n){throw console.error("❌ Erreur lors de la réinitialisation de la base de données:",n),n}}async getErrorLogs(){try{console.log("🔄 Récupération des journaux d'erreurs...");const e=[{timestamp:new Date().toISOString(),level:"INFO",message:"Application démarrée",source:"App.tsx"},{timestamp:new Date(Date.now()-36e5).toISOString(),level:"WARNING",message:"Tentative de connexion échouée",source:"AuthContext.tsx"},{timestamp:new Date(Date.now()-72e5).toISOString(),level:"ERROR",message:"Erreur lors de la récupération des données",source:"FirebaseService.ts",stack:`Error: Failed to fetch data
    at FirebaseService.fetchData (/src/services/FirebaseService.ts:42:7)`}];return console.log("✅ Journaux d'erreurs récupérés"),e}catch(e){throw console.error("❌ Erreur lors de la récupération des journaux d'erreurs:",e),e}}async exportErrorLogs(){try{console.log("🔄 Exportation des journaux d'erreurs...");const e=await this.getErrorLogs(),n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",`error_logs_${new Date().toISOString().split("T")[0]}.json`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log("✅ Exportation des journaux d'erreurs terminée")}catch(e){throw console.error("❌ Erreur lors de l'exportation des journaux d'erreurs:",e),e}}async runFullDiagnostic(){try{console.log("🔄 Exécution d'un diagnostic complet..."),await new Promise(n=>setTimeout(n,3e3));const e={timestamp:new Date().toISOString(),system:{status:"online",uptime:"7 days, 3 hours, 42 minutes",memory:{used:"1.2 GB",total:"2 GB",percentage:60},cpu:{usage:"23%",temperature:"45°C"}},database:{status:"connected",latency:"42ms",collections:await this.getCollectionsStats(),lastBackup:"Jamais"},storage:{used:"2.1 GB",total:"5 GB",percentage:42},errors:{critical:0,warning:2,info:5}};return console.log("✅ Diagnostic complet terminé"),e}catch(e){throw console.error("❌ Erreur lors de l'exécution du diagnostic complet:",e),e}}async updateAppSettings(e){try{console.log("🔄 Mise à jour des paramètres de l'application...",e),await new Promise(n=>setTimeout(n,1e3)),console.log("✅ Paramètres de l'application mis à jour")}catch(n){throw console.error("❌ Erreur lors de la mise à jour des paramètres de l'application:",n),n}}}const Xu=t=>{const{children:e,value:n,index:r,...i}=t;return g.jsx("div",{role:"tabpanel",hidden:n!==r,id:`admin-tabpanel-${r}`,"aria-labelledby":`admin-tab-${r}`,...i,children:n===r&&g.jsx(gn,{sx:{p:3},children:e})})},Zu=t=>({id:`admin-tab-${t}`,"aria-controls":`admin-tabpanel-${t}`}),$Ye=()=>{const t=pf(),e=mf(),[n,r]=h.useState(0),{currentUser:i}=bf(),{enqueueSnackbar:o}=Dne(),s=new AYe,[a,l]=h.useState({}),[c,u]=h.useState(null),[d,f]=h.useState(!1),[p,v]=h.useState(""),[y,b]=h.useState(!1);h.useEffect(()=>{const M=new URLSearchParams(t.search).get("tab");if(M!==null){const F=parseInt(M,10);!isNaN(F)&&F>=0&&F<=7&&r(F)}},[t]),h.useEffect(()=>{(async()=>{try{const M=await s.getCollectionsStats();l(M)}catch{o("Erreur lors du chargement des statistiques",{variant:"error"})}})()},[]);const x=(i==null?void 0:i.role)==="Administrateur",_=($,M)=>{r(M),e(`/admin?tab=${M}`,{replace:!0})};if(!x)return g.jsx(TE,{maxWidth:"md",sx:{mt:4},children:g.jsxs(Mr,{severity:"error",sx:{mb:2},children:[g.jsx(Ge,{variant:"h6",children:"Accès refusé"}),g.jsx(Ge,{variant:"body1",children:`Vous n'avez pas les droits nécessaires pour accéder au panneau d'administration. Seuls les utilisateurs avec le rôle "Administrateur" peuvent y accéder.`})]})});const w=async()=>{try{await s.createFullBackup(),o("Sauvegarde complète créée avec succès",{variant:"success"})}catch{o("Erreur lors de la création de la sauvegarde",{variant:"error"})}},E=async()=>{try{await s.createSelectiveBackup(["users","passages","sites","tournees"]),o("Sauvegarde sélective créée avec succès",{variant:"success"})}catch{o("Erreur lors de la création de la sauvegarde sélective",{variant:"error"})}},T=async()=>{try{const $=new Date;$.setMonth($.getMonth()-6),await s.cleanupObsoleteData("passages",$),o("Nettoyage des données effectué avec succès",{variant:"success"})}catch{o("Erreur lors du nettoyage des données",{variant:"error"})}},I=async()=>{try{await s.optimizeIndexes(),o("Optimisation des index effectuée avec succès",{variant:"success"})}catch{o("Erreur lors de l'optimisation des index",{variant:"error"})}},S=async()=>{try{o("Restauration de sauvegarde en cours de développement",{variant:"warning"}),b(!1)}catch{o("Erreur lors de la restauration",{variant:"error"})}},P=async()=>{try{o("Import de sauvegarde externe en cours de développement",{variant:"warning"})}catch{o("Erreur lors de l'import",{variant:"error"})}},R=()=>{f(!0)},O=()=>{f(!1),v("")},N=async()=>{try{await s.resetDatabase(p),o("Base de données réinitialisée avec succès",{variant:"success"}),O()}catch{o("Erreur lors de la réinitialisation",{variant:"error"})}},A=()=>g.jsxs(hc,{open:d,onClose:O,"aria-labelledby":"reset-dialog-title","aria-describedby":"reset-dialog-description",children:[g.jsx(gc,{id:"reset-dialog-title",children:"Réinitialisation de la base de données"}),g.jsxs(mc,{children:[g.jsxs($S,{id:"reset-dialog-description",children:[g.jsx(Mr,{severity:"error",sx:{mb:2},children:"ATTENTION : Cette action est irréversible et supprimera toutes les données (sauf les utilisateurs). Une sauvegarde sera automatiquement créée."}),"Pour confirmer, entrez le code : RESET_DATABASE_CONFIRM"]}),g.jsx(Kn,{autoFocus:!0,margin:"dense",label:"Code de confirmation",type:"text",fullWidth:!0,variant:"standard",value:p,onChange:$=>v($.target.value)})]}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:O,color:"primary",children:"Annuler"}),g.jsx(Mn,{onClick:N,color:"error",disabled:p!=="RESET_DATABASE_CONFIRM",children:"Confirmer la réinitialisation"})]})]});return g.jsxs(TE,{maxWidth:"xl",sx:{mt:4,mb:4},children:[g.jsxs(tr,{sx:{mb:3,p:3,background:"linear-gradient(45deg, #1976d2 30%, #2196f3 90%)",color:"white"},children:[g.jsx(Ge,{variant:"h4",component:"h1",gutterBottom:!0,children:"Panneau d'administration"}),g.jsx(Ge,{variant:"body1",children:"Gérez les paramètres de l'application, les utilisateurs, les sauvegardes et la synchronisation avec SharePoint."})]}),g.jsx(gn,{sx:{width:"100%",mb:3},children:g.jsxs(E2,{value:n,onChange:_,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTab-root":{minHeight:64,fontSize:"0.9rem"}},children:[g.jsx(di,{icon:g.jsx(nGe,{}),iconPosition:"start",label:"Tableau de bord",...Zu(0)}),g.jsx(di,{icon:g.jsx(pGe,{}),iconPosition:"start",label:"Synchronisation",...Zu(1)}),g.jsx(di,{icon:g.jsx(Gqe,{}),iconPosition:"start",label:"Rôles et permissions",...Zu(2)}),g.jsx(di,{icon:g.jsx(Yy,{}),iconPosition:"start",label:"Sauvegardes",...Zu(3)}),g.jsx(di,{icon:g.jsx(Zqe,{}),iconPosition:"start",label:"Maintenance",...Zu(4)}),g.jsx(di,{icon:g.jsx(sGe,{}),iconPosition:"start",label:"Préférences de marqueurs",...Zu(5)}),g.jsx(di,{icon:g.jsx(aGe,{}),iconPosition:"start",label:"Gestion SELAS",...Zu(6)}),g.jsx(di,{icon:g.jsx(hne,{}),iconPosition:"start",label:"Gestion Pôles",...Zu(7)})]})}),g.jsxs(Xu,{value:n,index:0,children:[g.jsx(Ge,{variant:"h5",gutterBottom:!0,children:"Gestion des utilisateurs"}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:"Cette section vous permet de gérer les comptes utilisateurs et leurs rôles."}),g.jsx(Mn,{variant:"contained",color:"primary",startIcon:g.jsx(cGe,{}),onClick:()=>o("Fonctionnalité en cours de développement",{variant:"info"}),sx:{mb:3},children:"Accéder à la gestion des utilisateurs"})]}),g.jsx(Xu,{value:n,index:1,children:g.jsx($Ge,{})}),g.jsx(Xu,{value:n,index:2,children:g.jsx(FGe,{})}),g.jsxs(Xu,{value:n,index:3,children:[g.jsx(Ge,{variant:"h5",gutterBottom:!0,children:"Gestion des sauvegardes"}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:"Gérez les sauvegardes de la base de données et les restaurations."}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsx(C0,{children:g.jsxs(S0,{children:[g.jsxs(gn,{sx:{display:"flex",alignItems:"center",mb:3},children:[g.jsx(tGe,{sx:{fontSize:40,color:"primary.main",mr:2}}),g.jsx(Ge,{variant:"h6",children:"Créer une sauvegarde"})]}),g.jsx(Mn,{variant:"contained",color:"primary",startIcon:g.jsx(Yy,{}),fullWidth:!0,sx:{mb:2},onClick:w,children:"Sauvegarde complète"}),g.jsx(Mn,{variant:"outlined",color:"primary",startIcon:g.jsx(Yy,{}),fullWidth:!0,onClick:E,children:"Sauvegarde sélective"})]})})}),g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsx(C0,{children:g.jsxs(S0,{children:[g.jsxs(gn,{sx:{display:"flex",alignItems:"center",mb:3},children:[g.jsx(eGe,{sx:{fontSize:40,color:"secondary.main",mr:2}}),g.jsx(Ge,{variant:"h6",children:"Restaurer une sauvegarde"})]}),g.jsx(Mn,{variant:"contained",color:"secondary",startIcon:g.jsx(Yy,{}),fullWidth:!0,sx:{mb:2},onClick:S,children:"Restaurer depuis une sauvegarde"}),g.jsx(Mn,{variant:"outlined",color:"secondary",startIcon:g.jsx(Yy,{}),fullWidth:!0,onClick:P,children:"Importer une sauvegarde externe"})]})})})]})]}),g.jsxs(Xu,{value:n,index:4,children:[g.jsx(Ge,{variant:"h5",gutterBottom:!0,children:"Gestion des données"}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:"Gérez les collections de données et effectuez la maintenance de la base de données."}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsx(C0,{children:g.jsxs(S0,{children:[g.jsx(Ge,{variant:"h6",gutterBottom:!0,children:"Collections"}),g.jsx(Wd,{children:Object.entries(a).map(([$,M])=>g.jsxs(Eh,{children:[g.jsx(Ih,{children:g.jsx(fGe,{color:"primary"})}),g.jsx(Th,{primary:$,secondary:`${M} documents`}),g.jsx(ro,{label:`${M} docs`,color:"primary",variant:"outlined",size:"small"})]},$))})]})})}),g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsx(C0,{children:g.jsxs(S0,{children:[g.jsx(Ge,{variant:"h6",gutterBottom:!0,children:"Maintenance"}),g.jsx(Mn,{variant:"outlined",color:"primary",fullWidth:!0,sx:{mb:2},onClick:T,children:"Nettoyer les données obsolètes"}),g.jsx(Mn,{variant:"outlined",color:"primary",fullWidth:!0,sx:{mb:2},onClick:I,children:"Optimiser les index"}),g.jsx(Mn,{variant:"outlined",color:"error",fullWidth:!0,startIcon:g.jsx(lf,{}),onClick:R,children:"Réinitialiser la base de données"})]})})})]})]}),g.jsxs(Xu,{value:n,index:5,children:[g.jsx(Ge,{variant:"h5",gutterBottom:!0,children:"Préférences des marqueurs de la carte"}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:"Personnalisez l'apparence des marqueurs sur la carte en fonction des types de sites. Cette fonctionnalité est réservée aux utilisateurs ayant les permissions nécessaires."}),x?g.jsx(VGe,{}):g.jsx(Mr,{severity:"warning",sx:{mt:2},children:`Vous n'avez pas les droits nécessaires pour accéder à cette fonctionnalité. Seuls les utilisateurs avec la permission "Modification des marqueurs" peuvent modifier les préférences de marqueurs.`})]}),g.jsxs(Xu,{value:n,index:6,children:[g.jsx(Ge,{variant:"h5",gutterBottom:!0,children:"Gestion des SELAS"}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:"Gérez les sociétés d'exercice libéral (SELAS) et leurs paramètres."}),x?g.jsx(nYe,{}):g.jsx(Mr,{severity:"warning",sx:{mt:2},children:"Vous n'avez pas les droits nécessaires pour accéder à cette fonctionnalité. Seuls les administrateurs peuvent gérer les SELAS."})]}),g.jsxs(Xu,{value:n,index:7,children:[g.jsx(Ge,{variant:"h5",gutterBottom:!0,children:"Gestion des Pôles"}),g.jsx(Mr,{severity:"info",sx:{mb:3},children:"Gérez les pôles d'activité et leurs associations avec les SELAS."}),x?g.jsx(DYe,{}):g.jsx(Mr,{severity:"warning",sx:{mt:2},children:"Vous n'avez pas les droits nécessaires pour accéder à cette fonctionnalité. Seuls les administrateurs peuvent gérer les pôles."})]}),A()]})};class NYe{constructor(){Ye(this,"collection",nn(dt,"vehicules"));Ye(this,"documentsCollection",nn(dt,"documents"));Ye(this,"maintenanceCollection",nn(dt,"maintenance"));Ye(this,"storage",Vq());Ye(this,"storageBasePath","vehicles");Ye(this,"initialized",!1);Ye(this,"defaultVehicles",[{brand:"Renault",model:"Kangoo",registrationNumber:"GE-695-RT",type:"van",status:"active",purchaseDate:"2020-01-01",lastMaintenanceDate:"2023-01-15",nextMaintenanceDate:"2023-07-15",mileage:45e3,fuelType:"diesel",capacity:800,notes:"Véhicule utilitaire principal",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:{provider:"AXA",policyNumber:"AX123456789",validFrom:"2023-01-01",validUntil:"2024-01-01",coverageType:"comprehensive",monthlyPremium:120,currency:"EUR",documents:[]},technicalSpecifications:{vin:"VF1FW1AB123456789",year:2020,engine:{type:"Diesel 1.5 dCi",power:85,cylinderCapacity:1461},transmission:"manual",weight:1485,dimensions:{length:4490,width:1830,height:1835},maxPayload:650,fuelConsumption:{urban:5.5,extraUrban:4.6,combined:5},emissions:{co2:131,emissionStandard:"Euro 6d"},tires:{frontSize:"195/65 R15",rearSize:"195/65 R15",recommendedPressure:{front:2.5,rear:2.5}}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{brand:"Citroën",model:"Berlingo",registrationNumber:"GI-456-AD",type:"van",status:"active",purchaseDate:"2021-01-01",lastMaintenanceDate:"2023-02-10",nextMaintenanceDate:"2023-08-10",mileage:32500,fuelType:"diesel",capacity:800,notes:"Véhicule utilitaire secondaire",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:{provider:"MMA",policyNumber:"MM789654321",validFrom:"2023-01-01",validUntil:"2024-01-01",coverageType:"comprehensive",monthlyPremium:110,currency:"EUR",documents:[]},technicalSpecifications:{vin:"VF7GBHFXBEUR567890",year:2021,engine:{type:"Diesel 1.5 BlueHDi",power:100,cylinderCapacity:1499},transmission:"manual",weight:1532,dimensions:{length:4650,width:1850,height:1860},maxPayload:700,fuelConsumption:{urban:5,extraUrban:4.2,combined:4.6},emissions:{co2:120,emissionStandard:"Euro 6d"},tires:{frontSize:"205/60 R16",rearSize:"205/60 R16",recommendedPressure:{front:2.5,rear:2.5}}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{brand:"Renault",model:"Clio",registrationNumber:"GL-789-BA",type:"car",status:"active",purchaseDate:"2022-01-01",lastMaintenanceDate:"2023-02-20",nextMaintenanceDate:"2023-08-20",mileage:15800,fuelType:"petrol",notes:"Véhicule de service",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:{provider:"Generali",policyNumber:"GE567891234",validFrom:"2023-01-01",validUntil:"2024-01-01",coverageType:"comprehensive",monthlyPremium:90,currency:"EUR",documents:[]},technicalSpecifications:{vin:"VF1RJA00067123456",year:2022,engine:{type:"Petrol 1.0 TCe",power:90,cylinderCapacity:999},transmission:"manual",weight:1178,dimensions:{length:4050,width:1798,height:1440},fuelConsumption:{urban:6.2,extraUrban:4.5,combined:5.1},emissions:{co2:118,emissionStandard:"Euro 6d"},tires:{frontSize:"195/55 R16",rearSize:"195/55 R16",recommendedPressure:{front:2.2,rear:2}}},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}])}async initializeDefaultVehicles(){try{if((await yn(this.collection)).empty){console.log("Initialisation des véhicules par défaut...");for(const n of this.defaultVehicles)await this.createVehicle(n);console.log("Véhicules par défaut initialisés avec succès")}else console.log("La collection de véhicules n'est pas vide, pas d'initialisation nécessaire")}catch(e){throw console.error("Erreur lors de l'initialisation des véhicules par défaut:",e),e}}async getVehicles(e={}){try{let n=mr(this.collection);if(e.type&&(n=mr(n,Zr("type","==",e.type))),e.status&&(n=mr(n,Zr("status","==",e.status))),e.assignedDriver&&(n=mr(n,Zr("assignedDriver","==",e.assignedDriver))),e.search){const o=e.search.toLowerCase();return(await yn(this.collection)).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.brand.toLowerCase().includes(o)||a.model.toLowerCase().includes(o)||a.registrationNumber.toLowerCase().includes(o))}return(await yn(n)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>{if(e.minMileage&&o.mileage<e.minMileage||e.maxMileage&&o.mileage>e.maxMileage)return!1;if(e.needsMaintenance)return new Date(o.nextMaintenanceDate)<=new Date;if(e.documentExpiresWithin&&e.documentExpiresWithin>0){const s=new Date,a=new Date(s);return a.setDate(s.getDate()+e.documentExpiresWithin),o.documents.some(l=>{if(l.expiryDate){const c=new Date(l.expiryDate);return c<=a&&c>=s}return!1})}return e.lastInspectionStatus&&o.inspections.length>0?o.inspections.sort((a,l)=>new Date(l.date).getTime()-new Date(a.date).getTime())[0].status===e.lastInspectionStatus:!0})}catch(n){throw console.error("Erreur lors de la récupération des véhicules:",n),n}}async getVehicleById(e){try{const n=Sn(this.collection,e),r=await Do(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw console.error("Erreur lors de la récupération du véhicule:",n),n}}async createVehicle(e){try{return{id:(await ia(this.collection,{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...e}}catch(n){throw console.error("Erreur lors de la création du véhicule:",n),n}}async updateVehicle(e,n){try{const r=Sn(this.collection,e);await Co(r,{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour du véhicule:",r),r}}async deleteVehicle(e){try{const n=Sn(this.collection,e);await eo(n)}catch(n){throw console.error("Erreur lors de la suppression du véhicule:",n),n}}async getDocuments(e){try{const r=yc().currentUser;console.log("Debug - Utilisateur actuel:",r==null?void 0:r.uid,r==null?void 0:r.email);const i=mr(this.documentsCollection,Zr("vehicleId","==",e));return(await yn(i)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Erreur lors de la récupération des documents:",n),n}}async addDocumentToVehicle(e,n){try{const r={...n,vehicleId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return(await ia(this.documentsCollection,r)).id}catch(r){throw console.error("Erreur lors de l'ajout du document:",r),r}}async updateDocument(e,n,r){try{const i=Sn(this.documentsCollection,n),o=await Do(i);if(!o.exists()||o.data().vehicleId!==e)throw new Error("Document non trouvé ou n'appartenant pas à ce véhicule");await Co(i,{...r,updatedAt:new Date().toISOString()})}catch(i){throw console.error("Erreur lors de la mise à jour du document:",i),i}}async deleteDocument(e,n){try{const r=Sn(this.documentsCollection,n),i=await Do(r);if(!i.exists()||i.data().vehicleId!==e)throw new Error("Document non trouvé ou n'appartenant pas à ce véhicule");await eo(r)}catch(r){throw console.error("Erreur lors de la suppression du document:",r),r}}async uploadDocument(e,n){try{const r=yc();if(!r.currentUser)throw new Error("Utilisateur non authentifié");if(n.size>5*1024*1024)throw new Error("Le fichier est trop volumineux (max 5MB)");if(!n.type.match("image/.*|application/pdf"))throw new Error("Type de fichier non autorisé");const i=Date.now(),o=n.name.replace(/[^a-zA-Z0-9.]/g,"_"),s=`${i}_${o}`,a=`${this.storageBasePath}/${e}/${s}`;console.log("Debug - Preparing upload:",{originalName:n.name,cleanFileName:s,filePath:a,fileType:n.type,fileSize:n.size});const l=PM(this.storage,a),c={contentType:n.type,customMetadata:{vehicleId:e,uploadedBy:r.currentUser.uid,originalName:n.name}};try{console.log("Debug - Starting upload with metadata:",c);const u=await $he(l,n,c);console.log("Debug - Upload successful:",u),console.log("Debug - Getting download URL...");const d=await Bq(l);return console.log("Debug - Download URL obtained:",d),{fileUrl:d}}catch(u){throw console.error("Erreur détaillée lors de l'upload:",{code:u.code,message:u.message,serverResponse:u.serverResponse,name:u.name}),new Error(`Erreur lors de l'upload: ${u.message}`)}}catch(r){throw console.error("Erreur générale:",r),r.code==="storage/unauthorized"?new Error("Accès non autorisé au stockage"):r.code==="storage/canceled"?new Error("Téléchargement annulé"):r.code==="storage/unknown"?new Error("Erreur inconnue lors du téléchargement"):new Error(r.message||"Erreur lors du téléchargement du fichier")}}async getMaintenanceRecords(e){try{const n=mr(this.maintenanceCollection,Zr("vehicleId","==",e));return(await yn(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la récupération des enregistrements de maintenance:",n),n}}async addMaintenanceRecord(e,n){try{return{id:(await ia(this.maintenanceCollection,{...n,vehicleId:e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id,...n}}catch(r){throw console.error("Erreur lors de l'ajout de l'enregistrement de maintenance:",r),r}}async updateMaintenanceRecord(e,n,r){try{const i=Sn(this.maintenanceCollection,n),o=await Do(i);if(!o.exists()||o.data().vehicleId!==e)throw new Error("Enregistrement non trouvé ou n'appartenant pas à ce véhicule");await Co(i,{...r,updatedAt:new Date().toISOString()})}catch(i){throw console.error("Erreur lors de la mise à jour de l'enregistrement de maintenance:",i),i}}async deleteMaintenanceRecord(e,n){try{const r=Sn(this.maintenanceCollection,n),i=await Do(r);if(!i.exists()||i.data().vehicleId!==e)throw new Error("Enregistrement non trouvé ou n'appartenant pas à ce véhicule");await eo(r)}catch(r){throw console.error("Erreur lors de la suppression de l'enregistrement de maintenance:",r),r}}async updateInsuranceInfo(e,n){try{const r=Sn(this.collection,e);await Co(r,{insuranceInfo:n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour des informations d'assurance:",r),r}}async updateTechnicalSpecifications(e,n){try{const r=Sn(this.collection,e);await Co(r,{technicalSpecifications:n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour des spécifications techniques:",r),r}}async getVehicleDocumentsAlternative(e){try{const n=await this.getVehicleById(e);if(!n)throw new Error("Véhicule non trouvé");return console.log("Debug - Documents du véhicule:",n.documents),n.documents||[]}catch(n){throw console.error("Erreur lors de la récupération alternative des documents:",n),n}}}const So=new NYe,Ane=({vehicle:t})=>{const{hasPermission:e}=bf(),[n,r]=h.useState([]),[i,o]=h.useState(!1),[s,a]=h.useState(null),[l,c]=h.useState(!1),[u,d]=h.useState(null),[f,p]=h.useState({title:"",type:"insurance",issueDate:new Date().toISOString().split("T")[0],expiryDate:"",notes:""}),[v,y]=h.useState(!1),[b,x]=h.useState(null),_=ae.useRef(null);h.useEffect(()=>{w()},[t.id]);const w=async()=>{try{o(!0),a(null);const z=await So.getDocuments(t.id);r(z)}catch(z){a(z.message||"Erreur lors du chargement des documents"),r([])}finally{o(!1)}},E=z=>z?new Date(z).toISOString().split("T")[0]:"",T=z=>{z?(d(z),p({...z,issueDate:E(z.issueDate),expiryDate:E(z.expiryDate)})):(d(null),p({title:"",type:"insurance",issueDate:E(new Date().toISOString()),expiryDate:"",notes:""})),c(!0)},I=()=>{c(!1),d(null),p({title:"",type:"insurance",issueDate:new Date().toISOString().split("T")[0],expiryDate:"",notes:""})},S=z=>{const{name:j,value:B}=z.target;p(W=>({...W,[j]:B}))},P=async z=>{const j=z.target.files;if(!j||j.length===0){a("Aucun fichier sélectionné");return}try{if(o(!0),a(null),!yc().currentUser){a("Vous devez être connecté pour télécharger des fichiers");return}if(!e("documents.create")){a("Vous n'avez pas les permissions nécessaires pour télécharger des fichiers");return}for(let W=0;W<j.length;W++){const q=j[W],G=5*1024*1024;if(q.size>G){a(`Le fichier ${q.name} est trop volumineux. La taille maximale est de 5MB.`);continue}if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(q.type)){a(`Type de fichier non autorisé pour ${q.name}. Seuls les fichiers JPG, PNG et PDF sont acceptés.`);continue}try{await So.uploadDocument(t.id,q)}catch(ue){a(`Erreur lors de l'upload de ${q.name}: ${ue.message}`)}}await w()}catch(B){a(`Erreur: ${B.message||"Une erreur inconnue s'est produite"}`)}finally{o(!1),_.current&&(_.current.value="")}},R=async()=>{try{const z={...f,issueDate:new Date(f.issueDate||"").toISOString(),expiryDate:f.expiryDate?new Date(f.expiryDate).toISOString():""};u?await So.updateDocument(t.id,u.id,z):await So.addDocumentToVehicle(t.id,z),I(),w()}catch(z){a(z.message||"Erreur lors de la sauvegarde du document"),console.error("Erreur:",z)}},O=async z=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce document ?"))try{await So.deleteDocument(t.id,z),w()}catch(j){a(j.message||"Erreur lors de la suppression du document"),console.error("Erreur:",j)}},N=z=>{x(z.fileUrl),y(!0)},A=z=>{switch(z){case"insurance":return g.jsx(Sa,{});case"registration":return g.jsx(Sa,{});case"inspection":return g.jsx(Sa,{});case"maintenance":return g.jsx(Sa,{});case"other":return g.jsx(Sa,{});default:return g.jsx(Sa,{})}},$=z=>{switch(z){case"insurance":return"Assurance";case"registration":return"Carte grise";case"inspection":return"Contrôle technique";case"maintenance":return"Maintenance";case"other":return"Autre";default:return z}},M=z=>{if(!z)return null;const j=new Date(z),B=new Date,W=Math.ceil((j.getTime()-B.getTime())/(1e3*60*60*24));return W<0?{color:"error",label:"Expiré"}:W<=30?{color:"warning",label:"Expire bientôt"}:{color:"success",label:"Valide"}},F=z=>z?z.includes("pdf")?g.jsx(uGe,{}):z.includes("image")?g.jsx(iGe,{}):g.jsx(Sa,{}):g.jsx(Sa,{});return g.jsxs(gn,{children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[g.jsx(Ge,{variant:"h6",children:"Documents du véhicule"}),g.jsxs(gn,{children:[g.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf",style:{display:"none"},onChange:P,ref:_}),g.jsx(Mn,{variant:"contained",startIcon:g.jsx(dv,{}),onClick:()=>{var z;return(z=_.current)==null?void 0:z.click()},disabled:i||!e("documents.create"),children:"Ajouter des documents"})]})]}),s&&g.jsx(Mr,{severity:"error",sx:{mb:2},children:s}),i&&g.jsx(gn,{sx:{display:"flex",justifyContent:"center",my:2},children:g.jsx(na,{})}),n.length===0?g.jsx(Mr,{severity:"info",children:'Aucun document pour ce véhicule. Utilisez le bouton "Ajouter des documents" pour ajouter un document.'}):g.jsx(C2,{component:tr,variant:"outlined",children:g.jsxs(x2,{children:[g.jsx(S2,{children:g.jsxs(gu,{children:[g.jsx(In,{children:"Document"}),g.jsx(In,{children:"Type"}),g.jsx(In,{children:"Date d'émission"}),g.jsx(In,{children:"Date d'expiration"}),g.jsx(In,{children:"Statut"}),g.jsx(In,{align:"right",children:"Actions"})]})}),g.jsx(w2,{children:n.map(z=>{var j,B;return g.jsxs(gu,{children:[g.jsx(In,{children:g.jsxs(Id,{direction:"row",spacing:1,alignItems:"center",children:[F(z.fileType),g.jsx(Ge,{variant:"body2",children:z.title||z.fileName})]})}),g.jsx(In,{children:g.jsxs(Id,{direction:"row",spacing:1,alignItems:"center",children:[A(z.type),g.jsx(Ge,{variant:"body2",children:$(z.type)})]})}),g.jsx(In,{children:z.issueDate?new Date(z.issueDate).toLocaleDateString():"-"}),g.jsx(In,{children:z.expiryDate?new Date(z.expiryDate).toLocaleDateString():"-"}),g.jsx(In,{children:z.expiryDate&&g.jsx(ro,{label:(j=M(z.expiryDate))==null?void 0:j.label,color:(B=M(z.expiryDate))==null?void 0:B.color,size:"small"})}),g.jsxs(In,{align:"right",children:[g.jsx(Ao,{size:"small",onClick:()=>N(z),title:"Aperçu",children:g.jsx($D,{fontSize:"small"})}),g.jsx(Ao,{size:"small",href:z.fileUrl,target:"_blank",download:!0,title:"Télécharger",children:g.jsx(i9,{fontSize:"small"})}),e("documents.update")&&g.jsx(Ao,{size:"small",onClick:()=>T(z),title:"Éditer",children:g.jsx(L_,{fontSize:"small"})}),e("documents.delete")&&g.jsx(Ao,{size:"small",onClick:()=>O(z.id),title:"Supprimer",color:"error",children:g.jsx(fv,{fontSize:"small"})})]})]},z.id)})})]})}),g.jsxs(hc,{open:l,onClose:I,maxWidth:"md",fullWidth:!0,children:[g.jsx(gc,{children:u?"Modifier le document":"Nouveau document"}),g.jsx(mc,{dividers:!0,children:g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,children:g.jsx(Kn,{fullWidth:!0,label:"Titre",name:"title",value:f.title,onChange:S})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsxs(Kn,{fullWidth:!0,label:"Type",name:"type",value:f.type,onChange:S,select:!0,SelectProps:{native:!0},children:[g.jsx("option",{value:"insurance",children:"Assurance"}),g.jsx("option",{value:"registration",children:"Carte grise"}),g.jsx("option",{value:"inspection",children:"Contrôle technique"}),g.jsx("option",{value:"maintenance",children:"Maintenance"}),g.jsx("option",{value:"other",children:"Autre"})]})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Date d'émission",type:"date",name:"issueDate",value:f.issueDate,onChange:S,InputLabelProps:{shrink:!0}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Date d'expiration",type:"date",name:"expiryDate",value:f.expiryDate,onChange:S,InputLabelProps:{shrink:!0}})}),g.jsx(ct,{item:!0,xs:12,children:g.jsx(Kn,{fullWidth:!0,label:"Notes",name:"notes",value:f.notes,onChange:S,multiline:!0,rows:3})}),g.jsxs(ct,{item:!0,xs:12,children:[g.jsxs(Mn,{variant:"outlined",component:"label",fullWidth:!0,startIcon:g.jsx(dv,{}),children:["Télécharger un fichier",g.jsx("input",{type:"file",hidden:!0,onChange:P,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]}),f.fileName&&g.jsxs(Ge,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Fichier sélectionné: ",f.fileName]})]})]})}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:I,children:"Annuler"}),g.jsx(Mn,{onClick:R,variant:"contained",children:u?"Modifier":"Ajouter"})]})]}),g.jsxs(hc,{open:v,onClose:()=>y(!1),maxWidth:"xl",fullWidth:!0,children:[g.jsx(gc,{children:"Prévisualisation du document"}),g.jsx(mc,{children:b&&g.jsx(gn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"},children:b.includes(".pdf")?g.jsx("iframe",{src:b,style:{width:"100%",height:"100%",border:"none"},title:"Document preview"}):g.jsx("img",{src:b,alt:"Document preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:()=>y(!1),children:"Fermer"}),b&&g.jsx(Mn,{href:b,target:"_blank",download:!0,variant:"contained",startIcon:g.jsx(i9,{}),children:"Télécharger"})]})]}),g.jsxs(gn,{sx:{mt:4},children:[g.jsx(Ge,{variant:"h6",gutterBottom:!0,children:"Résumé des documents"}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:4,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Documents expirés"}),g.jsxs(Wd,{dense:!0,children:[n.filter(z=>{var j;return z.expiryDate&&((j=M(z.expiryDate))==null?void 0:j.color)==="error"}).map(z=>g.jsxs(Eh,{children:[g.jsx(Ih,{children:g.jsx(sb,{color:"error"})}),g.jsx(Th,{primary:z.title,secondary:`Expiré le ${new Date(z.expiryDate).toLocaleDateString()}`})]},z.id)),n.filter(z=>{var j;return z.expiryDate&&((j=M(z.expiryDate))==null?void 0:j.color)==="error"}).length===0&&g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Aucun document expiré"})]})]})}),g.jsx(ct,{item:!0,xs:12,md:4,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Documents à renouveler"}),g.jsxs(Wd,{dense:!0,children:[n.filter(z=>{var j;return z.expiryDate&&((j=M(z.expiryDate))==null?void 0:j.color)==="warning"}).map(z=>g.jsxs(Eh,{children:[g.jsx(Ih,{children:g.jsx(lf,{color:"warning"})}),g.jsx(Th,{primary:z.title,secondary:`Expire le ${new Date(z.expiryDate).toLocaleDateString()}`})]},z.id)),n.filter(z=>{var j;return z.expiryDate&&((j=M(z.expiryDate))==null?void 0:j.color)==="warning"}).length===0&&g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Aucun document à renouveler"})]})]})}),g.jsx(ct,{item:!0,xs:12,md:4,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Documents valides"}),g.jsxs(Wd,{dense:!0,children:[n.filter(z=>{var j;return z.expiryDate&&((j=M(z.expiryDate))==null?void 0:j.color)==="success"}).map(z=>g.jsxs(Eh,{children:[g.jsx(Ih,{children:g.jsx(op,{color:"success"})}),g.jsx(Th,{primary:z.title,secondary:`Expire le ${new Date(z.expiryDate).toLocaleDateString()}`})]},z.id)),n.filter(z=>{var j;return z.expiryDate&&((j=M(z.expiryDate))==null?void 0:j.color)==="success"}).length===0&&g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Aucun document valide"})]})]})})]})]})]})};class LYe{constructor(){Ye(this,"collectionRef",nn(dt,"inspections"));Ye(this,"storageBasePath","vehicle-inspections")}async getInspections(e={}){try{let n=mr(this.collectionRef,C1("date","desc"));return e.vehicleId&&(n=mr(n,Zr("vehicleId","==",e.vehicleId))),e.inspectedBy&&(n=mr(n,Zr("inspectedBy","==",e.inspectedBy))),e.status&&(n=mr(n,Zr("status","==",e.status))),e.startDate&&(n=mr(n,Zr("date",">=",e.startDate))),e.endDate&&(n=mr(n,Zr("date","<=",e.endDate))),e.actionRequired!==void 0&&(n=mr(n,Zr("actionRequired","==",e.actionRequired))),(await yn(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Erreur lors de la récupération des inspections:",n),n}}async getInspectionById(e){try{const n=Sn(this.collectionRef,e),r=await Do(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw console.error("Erreur lors de la récupération de l'inspection:",n),n}}async createInspection(e){try{const n=new Date().toISOString();return{id:(await ia(this.collectionRef,{...e,createdAt:n,updatedAt:n})).id,...e,createdAt:n,updatedAt:n}}catch(n){throw console.error("Erreur lors de la création de l'inspection:",n),n}}async updateInspection(e,n){try{const r=Sn(this.collectionRef,e);await Co(r,{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Erreur lors de la mise à jour de l'inspection:",r),r}}async deleteInspection(e){try{const n=await this.getInspectionById(e);if(n)for(const i of n.inspectionItems)for(const o of i.photos)await this.deletePhoto(o.url);const r=Sn(this.collectionRef,e);await eo(r)}catch(n){throw console.error("Erreur lors de la suppression de l'inspection:",n),n}}async uploadPhoto(e,n,r){try{const i=Date.now(),o=`${n}_${r}_${i}_${e.name.replace(/[^a-zA-Z0-9.]/g,"_")}`,s=`${this.storageBasePath}/photos/${o}`,a=PM(v5,s),l=Nhe(a,e);return new Promise((c,u)=>{l.on("state_changed",d=>{const f=d.bytesTransferred/d.totalBytes*100;console.log("Upload progress:",f)},d=>{console.error("Erreur lors de l'upload:",d),u(d)},async()=>{try{const d=await Bq(l.snapshot.ref),f=d,p={id:`photo_${i}`,url:d,thumbnailUrl:f,fileName:o,mimeType:e.type,size:e.size,createdAt:new Date().toISOString(),metadata:{width:null,height:null,location:null}};c(p)}catch(d){console.error("Erreur lors de la récupération de l'URL:",d),u(d)}})})}catch(i){throw console.error("Erreur lors de l'upload de la photo:",i),i}}async addPhotoToInspectionItem(e,n,r){try{const i=await this.getInspectionById(e);if(!i)throw new Error("Inspection non trouvée");const o=i.inspectionItems.findIndex(a=>a.id===n);if(o===-1)throw new Error("Élément d'inspection non trouvé");const s=[...i.inspectionItems];s[o]={...s[o],photos:[...s[o].photos,r]},await this.updateInspection(e,{inspectionItems:s})}catch(i){throw console.error("Erreur lors de l'ajout de la photo à l'élément d'inspection:",i),i}}async deletePhoto(e){try{const n=PM(v5,e);await Lhe(n)}catch(n){throw console.error("Erreur lors de la suppression de la photo:",n),n}}async removePhotoFromInspectionItem(e,n,r){try{const i=await this.getInspectionById(e);if(!i)throw new Error("Inspection non trouvée");const o=i.inspectionItems.findIndex(u=>u.id===n);if(o===-1)throw new Error("Élément d'inspection non trouvé");const s=i.inspectionItems[o].photos.findIndex(u=>u.id===r);if(s===-1)throw new Error("Photo non trouvée");const a=i.inspectionItems[o].photos[s].url;await this.deletePhoto(a);const l=i.inspectionItems[o].photos.filter(u=>u.id!==r),c=[...i.inspectionItems];c[o]={...c[o],photos:l},await this.updateInspection(e,{inspectionItems:c})}catch(i){throw console.error("Erreur lors de la suppression de la photo de l'élément d'inspection:",i),i}}async testCollectionAccess(){var e,n;try{console.log("===== DÉBUT DES TESTS D'ACCÈS AUX COLLECTIONS =====");const r=yc(),i=((e=r.currentUser)==null?void 0:e.uid)||"non authentifié",o=((n=r.currentUser)==null?void 0:n.email)||"email inconnu";console.log(`Utilisateur actuel: ID=${i}, Email=${o}`);const s={vehicules:{success:!1,count:0,error:""},inspections:{success:!1,count:0,error:""},vehicleInspections:{success:!1,count:0,error:""},roles:{success:!1,count:0,error:""},users:{success:!1,count:0,error:""}};try{const u=nn(dt,"vehicules"),d=await yn(u);s.vehicules.success=!0,s.vehicules.count=d.size,console.log(`✅ Accès à 'vehicules' réussi: ${d.size} documents`)}catch(u){s.vehicules.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'vehicules':",u)}try{const u=nn(dt,"inspections"),d=await yn(u);s.inspections.success=!0,s.inspections.count=d.size,console.log(`✅ Accès à 'inspections' réussi: ${d.size} documents`)}catch(u){s.inspections.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'inspections':",u)}try{const u=nn(dt,"vehicleInspections"),d=await yn(u);s.vehicleInspections.success=!0,s.vehicleInspections.count=d.size,console.log(`✅ Accès à 'vehicleInspections' réussi: ${d.size} documents`)}catch(u){s.vehicleInspections.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'vehicleInspections':",u)}try{const u=nn(dt,"roles"),d=await yn(u);s.roles.success=!0,s.roles.count=d.size,console.log(`✅ Accès à 'roles' réussi: ${d.size} documents`)}catch(u){s.roles.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'roles':",u)}try{const u=nn(dt,"users"),d=await yn(u);s.users.success=!0,s.users.count=d.size,console.log(`✅ Accès à 'users' réussi: ${d.size} documents`)}catch(u){s.users.error=u instanceof Error?u.message:String(u),console.error("❌ Erreur d'accès à la collection 'users':",u)}console.log("===== RÉSUMÉ DES TESTS D'ACCÈS ====="),console.log(JSON.stringify(s,null,2)),console.log("===== FIN DES TESTS D'ACCÈS =====");const a=Object.values(s).filter(u=>u.success).length,l=Object.keys(s).length,c=`Tests d'accès: ${a}/${l} collections accessibles
- vehicules: ${s.vehicules.success?"✅":"❌"}
- inspections: ${s.inspections.success?"✅":"❌"}
- vehicleInspections: ${s.vehicleInspections.success?"✅":"❌"}
- roles: ${s.roles.success?"✅":"❌"}
- users: ${s.users.success?"✅":"❌"}`;return{success:a>0,message:c,details:s}}catch(r){return console.error("Erreur lors des tests d'accès:",r),{success:!1,message:`Erreur lors des tests: ${r instanceof Error?r.message:String(r)}`,details:{}}}}async createTestInspection(e){try{const r=yc().currentUser;if(!r)throw new Error("Utilisateur non connecté");const i=qn.now(),o={vehicleId:e,date:i.toDate().toISOString(),inspectorName:r.displayName||r.email||"Inspecteur Test",odometer:5e4,status:"passed",generalComments:"Inspection de test",inspectionItems:[{id:"item1",category:"Sécurité",name:"Freins",status:"ok",comments:"RAS",photos:[]},{id:"item2",category:"Extérieur",name:"Carrosserie",status:"ok",comments:"RAS",photos:[]}],actionRequired:!1,actionDescription:"",createdAt:i.toDate().toISOString(),updatedAt:i.toDate().toISOString()};return{id:(await ia(this.collectionRef,o)).id,...o}}catch(n){throw console.error("Erreur lors de la création de l'inspection de test:",n),n}}}const C9=new LYe,PC=t=>{const{children:e,value:n,index:r,...i}=t;return g.jsx("div",{role:"tabpanel",hidden:n!==r,id:`inspection-tabpanel-${r}`,"aria-labelledby":`inspection-tab-${r}`,...i,children:n===r&&g.jsx(gn,{sx:{p:2},children:e})})},$ne=({vehicle:t})=>{const{currentUser:e,hasPermission:n}=bf();mf();const[r,i]=h.useState([]),[o,s]=h.useState(null),[a,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState(!1),[p,v]=h.useState(0),[y,b]=h.useState([]),[x,_]=h.useState(!1),[w,E]=h.useState(null);h.useEffect(()=>{console.log("Debug - Utilisateur:",e==null?void 0:e.email,e==null?void 0:e.role),console.log("Debug - Vehicle ID:",t.id),console.log("Debug - Permissions véhicules:",n("vehicules.view")),console.log("Debug - Inspections du véhicule:",t.inspections),T()},[t.id]);const T=async()=>{try{l(!0),u(null);try{console.log("Tentative de chargement depuis la collection d'inspections...");const j=await C9.getInspections({vehicleId:t.id});console.log("Inspections chargées depuis la collection:",j),i(j);return}catch(j){if(console.warn("Échec du chargement depuis la collection:",j),console.log("Utilisation des inspections intégrées au véhicule..."),t.inspections&&t.inspections.length>0){console.log("Inspections trouvées dans le véhicule:",t.inspections);const B=t.inspections.map(W=>({id:W.id,vehicleId:t.id,date:W.date,inspectorName:W.type||"Inspecteur non spécifié",odometer:parseInt(t.mileage)||0,status:W.status,inspectionItems:W.items||[],actionRequired:W.status==="failed",actionDescription:W.notes,createdAt:W.createdAt,updatedAt:W.updatedAt}));i(B);return}}i([])}catch(j){console.error("Erreur finale:",j),u(j.message||"Erreur lors du chargement des inspections"),i([])}finally{l(!1)}},I=(j,B)=>{v(B)},S=j=>(B,W)=>{b(W?[...y,j]:y.filter(q=>q!==j))},P=j=>{s(j),f(!0),v(0)},R=()=>{s(null),f(!1),b([])},O=j=>{E(j),_(!0)},N=j=>{switch(j){case"passed":return"success";case"passed_with_warnings":return"warning";case"failed":return"error";case"incomplete":return"default";default:return"default"}},A=j=>{switch(j){case"passed":return"Réussite";case"passed_with_warnings":return"Réussite avec réserves";case"failed":return"Échec";case"incomplete":return"Incomplet";default:return j}},$=j=>{switch(j){case"ok":return g.jsx(op,{fontSize:"small",color:"success"});case"attention":return g.jsx(lf,{fontSize:"small",color:"warning"});case"critical":return g.jsx(sb,{fontSize:"small",color:"error"});case"not_applicable":return g.jsx(r9,{fontSize:"small",color:"disabled"});default:return null}},M=j=>{switch(j){case"exterior":return"Extérieur";case"interior":return"Intérieur";case"mechanical":return"Mécanique";case"electrical":return"Électrique";case"safety":return"Sécurité";case"fluids":return"Fluides";case"tires":return"Pneus";case"other":return"Autre";default:return j}},F=async()=>{try{const j=await So.getVehicleById(t.id);if(!j)throw new Error("Véhicule non trouvé");const B={id:`embedded-${Date.now()}`,date:new Date().toISOString(),type:"Test inspection",status:"pending",items:[{id:`item-${Date.now()}`,name:"Élément de test",category:"Générale",status:"ok",notes:"Test intégré",photos:[]}],photos:[],notes:"Inspection de test intégrée pour contourner les problèmes de permissions",nextDueDate:new Date(Date.now()+90*24*60*60*1e3).toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},W=[...j.inspections||[],B];await So.updateVehicle(t.id,{inspections:W,updatedAt:new Date().toISOString()}),console.log("Inspection intégrée créée"),T()}catch(j){console.error("Erreur lors de la création de l'inspection intégrée:",j),u(`Erreur: ${j.message}`)}},z=async()=>{try{l(!0),u(null),await C9.createTestInspection(t.id),await T()}catch(j){console.error("Erreur lors de la création de l'inspection de test:",j),u("Erreur lors de la création de l'inspection de test")}finally{l(!1)}};return g.jsxs(gn,{children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[g.jsx(Ge,{variant:"h6",children:"Inspections du véhicule"}),g.jsxs(gn,{children:[g.jsx(Mn,{variant:"contained",startIcon:g.jsx(dv,{}),sx:{mr:1},children:"Ajouter une inspection"}),g.jsx(Mn,{variant:"outlined",color:"secondary",onClick:F,sx:{mr:1},children:"Créer une inspection intégrée"}),g.jsx(Mn,{variant:"contained",color:"primary",onClick:z,sx:{mr:1},children:"Créer une inspection de test"})]})]}),c&&g.jsx(Mr,{severity:"error",sx:{mb:2},children:c}),a&&g.jsx(gn,{sx:{display:"flex",justifyContent:"center",my:2},children:g.jsx(na,{})}),r.length===0?g.jsx(Mr,{severity:"info",children:'Aucune inspection pour ce véhicule. Utilisez le bouton "Nouvelle inspection" pour ajouter une inspection.'}):g.jsx(C2,{component:tr,variant:"outlined",children:g.jsxs(x2,{children:[g.jsx(S2,{children:g.jsxs(gu,{children:[g.jsx(In,{children:"Date"}),g.jsx(In,{children:"Inspecteur"}),g.jsx(In,{children:"Kilométrage"}),g.jsx(In,{children:"Statut"}),g.jsx(In,{children:"Action requise"}),g.jsx(In,{align:"right",children:"Actions"})]})}),g.jsx(w2,{children:r.map(j=>g.jsxs(gu,{children:[g.jsx(In,{children:new Date(j.date).toLocaleDateString()}),g.jsx(In,{children:j.inspectorName}),g.jsxs(In,{children:[j.odometer.toLocaleString()," km"]}),g.jsx(In,{children:g.jsx(ro,{label:A(j.status),color:N(j.status),size:"small"})}),g.jsx(In,{children:j.actionRequired?g.jsx(ro,{label:"Oui",color:"warning",size:"small"}):g.jsx(ro,{label:"Non",color:"success",size:"small"})}),g.jsxs(In,{align:"right",children:[g.jsx(Ao,{size:"small",onClick:()=>P(j),title:"Voir les détails",children:g.jsx($D,{fontSize:"small"})}),g.jsx(Ao,{size:"small",title:"Éditer",children:g.jsx(L_,{fontSize:"small"})}),g.jsx(Ao,{size:"small",title:"Supprimer",color:"error",children:g.jsx(fv,{fontSize:"small"})})]})]},j.id))})]})}),o&&g.jsxs(hc,{open:d,onClose:R,maxWidth:"lg",fullWidth:!0,children:[g.jsx(gc,{children:g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs(Ge,{variant:"h6",children:["Inspection du ",new Date(o.date).toLocaleDateString()]}),g.jsx(ro,{label:A(o.status),color:N(o.status)})]})}),g.jsx(mc,{dividers:!0,children:g.jsxs(gn,{sx:{width:"100%"},children:[g.jsx(gn,{sx:{borderBottom:1,borderColor:"divider"},children:g.jsxs(E2,{value:p,onChange:I,variant:"scrollable",scrollButtons:"auto",children:[g.jsx(di,{label:"Résumé"}),g.jsx(di,{label:"Points de contrôle"}),g.jsx(di,{label:"Photos"}),o.actionRequired&&g.jsx(di,{label:"Actions requises"})]})}),g.jsx(PC,{value:p,index:0,children:g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle1",gutterBottom:!0,children:"Informations générales"}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Date"}),g.jsx(Ge,{variant:"body1",children:new Date(o.date).toLocaleDateString()})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Inspecteur"}),g.jsx(Ge,{variant:"body1",children:o.inspectorName})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Kilométrage"}),g.jsxs(Ge,{variant:"body1",children:[o.odometer.toLocaleString()," km"]})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Statut"}),g.jsx(Ge,{variant:"body1",children:g.jsx(ro,{label:A(o.status),color:N(o.status),size:"small"})})]})]})]})}),g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle1",gutterBottom:!0,children:"Commentaires généraux"}),g.jsx(Ge,{variant:"body1",children:o.generalComments||"Aucun commentaire général."})]})}),o.actionRequired&&g.jsx(ct,{item:!0,xs:12,children:g.jsxs(tr,{variant:"outlined",sx:{p:2,bgcolor:"#fff4e5"},children:[g.jsx(Ge,{variant:"subtitle1",color:"warning.main",gutterBottom:!0,children:"Actions requises"}),g.jsx(Ge,{variant:"body1",paragraph:!0,children:o.actionDescription}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsxs(ct,{item:!0,xs:12,sm:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Date limite"}),g.jsx(Ge,{variant:"body1",children:o.actionDueDate?new Date(o.actionDueDate).toLocaleDateString():"Non spécifiée"})]}),g.jsxs(ct,{item:!0,xs:12,sm:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Statut"}),g.jsx(Ge,{variant:"body1",children:o.actionCompletedDate?`Complété le ${new Date(o.actionCompletedDate).toLocaleDateString()} par ${o.actionCompletedBy}`:"En attente"})]})]})]})}),g.jsx(ct,{item:!0,xs:12,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle1",gutterBottom:!0,children:"Résumé des points de contrôle"}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsx(ct,{item:!0,xs:12,sm:3,children:g.jsxs(Ge,{variant:"body2",color:"success.main",children:[g.jsx(op,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"OK: ",o.inspectionItems.filter(j=>j.status==="ok").length]})}),g.jsx(ct,{item:!0,xs:12,sm:3,children:g.jsxs(Ge,{variant:"body2",color:"warning.main",children:[g.jsx(lf,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Attention: ",o.inspectionItems.filter(j=>j.status==="attention").length]})}),g.jsx(ct,{item:!0,xs:12,sm:3,children:g.jsxs(Ge,{variant:"body2",color:"error.main",children:[g.jsx(sb,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"Critique: ",o.inspectionItems.filter(j=>j.status==="critical").length]})}),g.jsx(ct,{item:!0,xs:12,sm:3,children:g.jsxs(Ge,{variant:"body2",color:"text.secondary",children:[g.jsx(r9,{fontSize:"small",sx:{verticalAlign:"middle",mr:.5}}),"N/A: ",o.inspectionItems.filter(j=>j.status==="not_applicable").length]})})]})]})})]})}),g.jsx(PC,{value:p,index:1,children:Array.from(new Set(o.inspectionItems.map(j=>j.category))).map(j=>g.jsxs(Km,{expanded:y.includes(j),onChange:S(j),children:[g.jsx(Ym,{expandIcon:g.jsx(pne,{}),children:g.jsx(Ge,{variant:"subtitle1",children:M(j)})}),g.jsx(qm,{children:g.jsx(Wd,{dense:!0,children:o.inspectionItems.filter(B=>B.category===j).map(B=>g.jsxs(Eh,{children:[g.jsx(Ih,{children:$(B.status)}),g.jsx(Th,{primary:B.name,secondary:B.comments||"Aucun commentaire"}),B.photos.length>0&&g.jsx(ro,{label:`${B.photos.length} photo(s)`,size:"small",icon:g.jsx(Jqe,{}),variant:"outlined",onClick:()=>{v(2)}})]},B.id))})})]},j))}),g.jsx(PC,{value:p,index:2,children:g.jsxs(ct,{container:!0,spacing:2,children:[o.inspectionItems.filter(j=>j.photos.length>0).map(j=>g.jsxs(ae.Fragment,{children:[g.jsxs(ct,{item:!0,xs:12,children:[g.jsxs(Ge,{variant:"subtitle1",gutterBottom:!0,children:[j.name," (",M(j.category),")"]}),g.jsx(Tx,{sx:{mb:2}})]}),j.photos.map(B=>g.jsx(ct,{item:!0,xs:12,sm:6,md:4,lg:3,children:g.jsxs(C0,{children:[g.jsx(h9e,{component:"img",height:"140",image:B.thumbnailUrl,alt:`Photo de ${j.name}`,sx:{objectFit:"cover",cursor:"pointer"},onClick:()=>O(B)}),g.jsx(S0,{sx:{py:1},children:g.jsx(Ge,{variant:"caption",color:"text.secondary",children:new Date(B.createdAt).toLocaleString()})}),g.jsx(n9e,{children:g.jsx(Mn,{size:"small",startIcon:g.jsx($D,{}),onClick:()=>O(B),children:"Agrandir"})})]})},B.id))]},j.id)),o.inspectionItems.every(j=>j.photos.length===0)&&g.jsx(ct,{item:!0,xs:12,children:g.jsx(Mr,{severity:"info",children:"Aucune photo n'a été prise durant cette inspection."})})]})}),g.jsx(PC,{value:p,index:3,children:o.actionRequired?g.jsxs(tr,{variant:"outlined",sx:{p:3,bgcolor:"#fff4e5"},children:[g.jsx(Ge,{variant:"h6",color:"warning.main",gutterBottom:!0,children:"Actions requises"}),g.jsx(Ge,{variant:"body1",paragraph:!0,children:o.actionDescription}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsxs(ct,{item:!0,xs:12,sm:6,children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Détails de l'action"}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsxs(ct,{item:!0,xs:12,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Date limite"}),g.jsx(Ge,{variant:"body1",gutterBottom:!0,children:o.actionDueDate?new Date(o.actionDueDate).toLocaleDateString():"Non spécifiée"})]}),g.jsxs(ct,{item:!0,xs:12,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Statut"}),g.jsx(Ge,{variant:"body1",children:o.actionCompletedDate?`Complété le ${new Date(o.actionCompletedDate).toLocaleDateString()}`:"En attente"})]})]})]}),g.jsxs(ct,{item:!0,xs:12,sm:6,children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Points critiques"}),g.jsxs(Wd,{dense:!0,children:[o.inspectionItems.filter(j=>j.status==="critical").map(j=>g.jsxs(Eh,{children:[g.jsx(Ih,{children:g.jsx(sb,{color:"error"})}),g.jsx(Th,{primary:j.name,secondary:j.comments})]},j.id)),o.inspectionItems.filter(j=>j.status==="critical").length===0&&g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Aucun point critique détecté."})]})]}),!o.actionCompletedDate&&g.jsx(ct,{item:!0,xs:12,children:g.jsx(Mn,{variant:"contained",color:"warning",children:"Marquer comme effectué"})})]})]}):g.jsx(Mr,{severity:"info",children:"Aucune action n'est requise pour cette inspection."})})]})}),g.jsx(pc,{children:g.jsx(Mn,{onClick:R,children:"Fermer"})})]}),g.jsxs(hc,{open:x,onClose:()=>_(!1),maxWidth:"xl",fullWidth:!0,children:[g.jsx(gc,{children:"Photo en plein écran"}),g.jsx(mc,{children:w&&g.jsx(gn,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"},children:g.jsx("img",{src:w.url,alt:"Photo agrandie",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:()=>_(!1),children:"Fermer"}),w&&g.jsx(Mn,{href:w.url,target:"_blank",download:!0,variant:"contained",children:"Télécharger"})]})]})]})},Nne=({vehicle:t})=>{const[e,n]=h.useState([]),[r,i]=h.useState(!1),[o,s]=h.useState(null),[a,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState({date:new Date().toISOString().split("T")[0],type:"routine",description:"",mileage:t.odometer,cost:0,provider:"",nextDueDate:"",notes:""});h.useEffect(()=>{p()},[t.id]);const p=async()=>{try{i(!0),s(null);const I=await So.getMaintenanceRecords(t.id);n(I)}catch(I){s(I.message||"Erreur lors du chargement des records de maintenance"),console.error("Erreur:",I)}finally{i(!1)}},v=I=>{I?(u(I),f(I)):(u(null),f({date:new Date().toISOString().split("T")[0],type:"routine",description:"",mileage:t.odometer,cost:0,provider:"",nextDueDate:"",notes:""})),l(!0)},y=()=>{l(!1),u(null),f({date:new Date().toISOString().split("T")[0],type:"routine",description:"",mileage:t.odometer,cost:0,provider:"",nextDueDate:"",notes:""})},b=I=>{const{name:S,value:P}=I.target;f(R=>({...R,[S]:P}))},x=async()=>{try{c?await So.updateMaintenanceRecord(t.id,c.id,d):await So.addMaintenanceRecord(t.id,d),y(),p()}catch(I){s(I.message||"Erreur lors de la sauvegarde du record de maintenance"),console.error("Erreur:",I)}},_=async I=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce record de maintenance ?"))try{await So.deleteMaintenanceRecord(t.id,I),p()}catch(S){s(S.message||"Erreur lors de la suppression du record de maintenance"),console.error("Erreur:",S)}},w=I=>{switch(I){case"routine":return g.jsx(Rx,{});case"repair":return g.jsx(od,{});case"oil":return g.jsx(lGe,{});case"tire":return g.jsx(mne,{});case"battery":return g.jsx(fne,{});case"fuel":return g.jsx(oGe,{});default:return g.jsx(Rx,{})}},E=I=>{switch(I){case"routine":return"Maintenance routinière";case"repair":return"Réparation";case"oil":return"Vidange";case"tire":return"Pneus";case"battery":return"Batterie";case"fuel":return"Carburant";default:return I}},T=I=>{if(!I)return null;const S=new Date(I),P=new Date,R=Math.ceil((S.getTime()-P.getTime())/(1e3*60*60*24));return R<0?{color:"error",label:"En retard"}:R<=7?{color:"warning",label:"Bientôt dû"}:{color:"success",label:"À jour"}};return g.jsxs(gn,{children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[g.jsx(Ge,{variant:"h6",children:"Maintenance du véhicule"}),g.jsx(Mn,{variant:"contained",startIcon:g.jsx(dv,{}),onClick:()=>v(),children:"Nouveau record"})]}),o&&g.jsx(Mr,{severity:"error",sx:{mb:2},children:o}),r&&g.jsx(gn,{sx:{display:"flex",justifyContent:"center",my:2},children:g.jsx(na,{})}),e.length===0?g.jsx(Mr,{severity:"info",children:'Aucun record de maintenance pour ce véhicule. Utilisez le bouton "Nouveau record" pour ajouter un record.'}):g.jsx(C2,{component:tr,variant:"outlined",children:g.jsxs(x2,{children:[g.jsx(S2,{children:g.jsxs(gu,{children:[g.jsx(In,{children:"Date"}),g.jsx(In,{children:"Type"}),g.jsx(In,{children:"Description"}),g.jsx(In,{children:"Kilométrage"}),g.jsx(In,{children:"Coût"}),g.jsx(In,{children:"Prochain rendez-vous"}),g.jsx(In,{align:"right",children:"Actions"})]})}),g.jsx(w2,{children:e.map(I=>{var S;return g.jsxs(gu,{children:[g.jsx(In,{children:new Date(I.date).toLocaleDateString()}),g.jsx(In,{children:g.jsxs(Id,{direction:"row",spacing:1,alignItems:"center",children:[w(I.type),g.jsx(Ge,{variant:"body2",children:E(I.type)})]})}),g.jsx(In,{children:I.description}),g.jsxs(In,{children:[I.mileage.toLocaleString()," km"]}),g.jsxs(In,{children:[I.cost.toFixed(2)," €"]}),g.jsx(In,{children:I.nextDueDate&&g.jsx(ro,{label:new Date(I.nextDueDate).toLocaleDateString(),color:(S=T(I.nextDueDate))==null?void 0:S.color,size:"small"})}),g.jsxs(In,{align:"right",children:[g.jsx(Ao,{size:"small",onClick:()=>v(I),title:"Éditer",children:g.jsx(L_,{fontSize:"small"})}),g.jsx(Ao,{size:"small",onClick:()=>_(I.id),title:"Supprimer",color:"error",children:g.jsx(fv,{fontSize:"small"})})]})]},I.id)})})]})}),g.jsxs(hc,{open:a,onClose:y,maxWidth:"md",fullWidth:!0,children:[g.jsx(gc,{children:c?"Modifier le record de maintenance":"Nouveau record de maintenance"}),g.jsx(mc,{dividers:!0,children:g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Date",type:"date",name:"date",value:d.date,onChange:b,InputLabelProps:{shrink:!0}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsxs(Kn,{fullWidth:!0,label:"Type",name:"type",value:d.type,onChange:b,select:!0,SelectProps:{native:!0},children:[g.jsx("option",{value:"routine",children:"Maintenance routinière"}),g.jsx("option",{value:"repair",children:"Réparation"}),g.jsx("option",{value:"oil",children:"Vidange"}),g.jsx("option",{value:"tire",children:"Pneus"}),g.jsx("option",{value:"battery",children:"Batterie"}),g.jsx("option",{value:"fuel",children:"Carburant"})]})}),g.jsx(ct,{item:!0,xs:12,children:g.jsx(Kn,{fullWidth:!0,label:"Description",name:"description",value:d.description,onChange:b,multiline:!0,rows:3})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Kilométrage",name:"mileage",type:"number",value:d.mileage,onChange:b,InputProps:{endAdornment:"km"}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Coût",name:"cost",type:"number",value:d.cost,onChange:b,InputProps:{endAdornment:"€"}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Prestataire",name:"provider",value:d.provider,onChange:b})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Prochain rendez-vous",type:"date",name:"nextDueDate",value:d.nextDueDate,onChange:b,InputLabelProps:{shrink:!0}})}),g.jsx(ct,{item:!0,xs:12,children:g.jsx(Kn,{fullWidth:!0,label:"Notes",name:"notes",value:d.notes,onChange:b,multiline:!0,rows:3})})]})}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:y,children:"Annuler"}),g.jsx(Mn,{onClick:x,variant:"contained",children:c?"Modifier":"Ajouter"})]})]}),g.jsxs(gn,{sx:{mt:4},children:[g.jsx(Ge,{variant:"h6",gutterBottom:!0,children:"Résumé de la maintenance"}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:4,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Dernière maintenance"}),e.length>0?g.jsxs(g.Fragment,{children:[g.jsxs(Ge,{variant:"body2",color:"text.secondary",children:["Date: ",new Date(e[0].date).toLocaleDateString()]}),g.jsxs(Ge,{variant:"body2",color:"text.secondary",children:["Type: ",E(e[0].type)]}),g.jsxs(Ge,{variant:"body2",color:"text.secondary",children:["Kilométrage: ",e[0].mileage.toLocaleString()," km"]})]}):g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Aucune maintenance enregistrée"})]})}),g.jsx(ct,{item:!0,xs:12,md:4,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Prochain rendez-vous"}),e.some(I=>I.nextDueDate)?g.jsx(Wd,{dense:!0,children:e.filter(I=>I.nextDueDate).sort((I,S)=>new Date(I.nextDueDate).getTime()-new Date(S.nextDueDate).getTime()).slice(0,3).map(I=>{const S=T(I.nextDueDate);return g.jsxs(Eh,{children:[g.jsx(Ih,{children:(S==null?void 0:S.color)==="error"?g.jsx(sb,{color:"error"}):(S==null?void 0:S.color)==="warning"?g.jsx(lf,{color:"warning"}):g.jsx(op,{color:"success"})}),g.jsx(Th,{primary:E(I.type),secondary:`${new Date(I.nextDueDate).toLocaleDateString()} (${S==null?void 0:S.label})`})]},I.id)})}):g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Aucun rendez-vous prévu"})]})}),g.jsx(ct,{item:!0,xs:12,md:4,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",gutterBottom:!0,children:"Coûts de maintenance"}),g.jsxs(Ge,{variant:"body2",color:"text.secondary",children:["Total: ",e.reduce((I,S)=>I+S.cost,0).toFixed(2)," €"]}),g.jsxs(Ge,{variant:"body2",color:"text.secondary",children:["Moyenne par maintenance: ",(e.reduce((I,S)=>I+S.cost,0)/Math.max(1,e.length)).toFixed(2)," €"]})]})})]})]})]})},Lne=({vehicle:t})=>{const[e,n]=h.useState(null),[r,i]=h.useState(!1),[o,s]=h.useState(null),[a,l]=h.useState(null);h.useEffect(()=>{n(t.technicalSpecifications)},[t]);const c=(f,p,v,y)=>{e&&n(b=>b?y?{...b,[f]:{...b[f],[p]:{...b[f][p],[y]:v}}}:{...b,[f]:{...b[f],[p]:v}}:null)},u=async()=>{if(e){i(!0),s(null),l(null);try{await So.updateTechnicalSpecifications(t.id,e),l("Spécifications techniques mises à jour avec succès")}catch(f){s("Erreur lors de la mise à jour des spécifications techniques"),console.error(f)}finally{i(!1)}}},d=(f,p,v,y)=>e?g.jsxs(Km,{defaultExpanded:!0,children:[g.jsx(Ym,{expandIcon:g.jsx(pne,{}),children:g.jsxs(gn,{sx:{display:"flex",alignItems:"center"},children:[v,g.jsx(Ge,{variant:"h6",sx:{ml:1},children:p})]})}),g.jsx(qm,{children:g.jsx(ct,{container:!0,spacing:2,children:y.map(b=>g.jsx(ct,{item:!0,xs:12,sm:6,md:4,children:g.jsx(Kn,{fullWidth:!0,label:b.label,variant:"outlined",size:"small",type:b.type||"text",value:b.nested&&b.nestedKey?e[f][b.key][b.nestedKey]:e[f][b.key],onChange:x=>c(f,b.key,b.type==="number"?parseFloat(x.target.value):x.target.value,b.nested?b.nestedKey:void 0)})},b.key+(b.nestedKey||"")))})})]}):null;return e?g.jsxs(gn,{sx:{p:2},children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[g.jsx(Ge,{variant:"h5",children:"Spécifications techniques"}),g.jsx(Mn,{variant:"contained",color:"primary",onClick:u,disabled:r,children:r?g.jsx(na,{size:24}):"Enregistrer"})]}),o&&g.jsx(Mr,{severity:"error",sx:{mb:2},children:o}),a&&g.jsx(Mr,{severity:"success",sx:{mb:2},children:a}),g.jsxs(gn,{sx:{mb:3},children:[d("engine","Moteur",g.jsx(bj,{color:"primary"}),[{key:"type",label:"Type de moteur"},{key:"displacement",label:"Cylindrée"},{key:"power",label:"Puissance"},{key:"torque",label:"Couple"},{key:"cylinders",label:"Nombre de cylindres",type:"number"},{key:"fuelSystem",label:"Système d'alimentation"},{key:"transmission",label:"Transmission"}]),d("dimensions","Dimensions",g.jsx(hGe,{color:"primary"}),[{key:"length",label:"Longueur"},{key:"width",label:"Largeur"},{key:"height",label:"Hauteur"},{key:"wheelbase",label:"Empattement"},{key:"groundClearance",label:"Garde au sol"},{key:"cargoVolume",label:"Volume de chargement"}]),d("performance","Performance",g.jsx(dGe,{color:"primary"}),[{key:"acceleration",label:"0-100 km/h"},{key:"topSpeed",label:"Vitesse max"},{key:"brakingDistance",label:"Distance de freinage"},{key:"fuelConsumption",label:"Consommation"},{key:"range",label:"Autonomie"}]),d("tires","Pneumatiques",g.jsx(mne,{color:"primary"}),[{key:"front",label:"Avant"},{key:"rear",label:"Arrière"},{key:"spare",label:"Roue de secours"},{key:"pressure",label:"Pression avant",nested:!0,nestedKey:"front"},{key:"pressure",label:"Pression arrière",nested:!0,nestedKey:"rear"},{key:"pressure",label:"Pression roue de secours",nested:!0,nestedKey:"spare"}]),d("fluids","Fluides",g.jsx(mGe,{color:"primary"}),[{key:"engineOil",label:"Type d'huile moteur",nested:!0,nestedKey:"type"},{key:"engineOil",label:"Capacité d'huile",nested:!0,nestedKey:"capacity"},{key:"engineOil",label:"Intervalle de vidange",nested:!0,nestedKey:"changeInterval"},{key:"coolant",label:"Type de liquide de refroidissement",nested:!0,nestedKey:"type"},{key:"coolant",label:"Capacité du liquide de refroidissement",nested:!0,nestedKey:"capacity"},{key:"coolant",label:"Intervalle de changement",nested:!0,nestedKey:"changeInterval"},{key:"transmission",label:"Type d'huile de transmission",nested:!0,nestedKey:"type"},{key:"transmission",label:"Capacité de transmission",nested:!0,nestedKey:"capacity"},{key:"transmission",label:"Intervalle de changement",nested:!0,nestedKey:"changeInterval"},{key:"brake",label:"Type de liquide de frein",nested:!0,nestedKey:"type"},{key:"brake",label:"Capacité de liquide de frein",nested:!0,nestedKey:"capacity"},{key:"brake",label:"Intervalle de changement",nested:!0,nestedKey:"changeInterval"}]),d("electrical","Système électrique",g.jsx(fne,{color:"primary"}),[{key:"battery",label:"Type de batterie",nested:!0,nestedKey:"type"},{key:"battery",label:"Tension",nested:!0,nestedKey:"voltage"},{key:"battery",label:"Capacité",nested:!0,nestedKey:"capacity"},{key:"battery",label:"Emplacement",nested:!0,nestedKey:"location"},{key:"alternator",label:"Puissance de l'alternateur",nested:!0,nestedKey:"output"},{key:"alternator",label:"Type d'alternateur",nested:!0,nestedKey:"type"}])]})]}):g.jsxs(gn,{sx:{p:2,textAlign:"center"},children:[g.jsx(Ge,{variant:"body1",children:"Aucune spécification technique disponible pour ce véhicule."}),g.jsx(Mn,{variant:"contained",sx:{mt:2},onClick:()=>{n({engine:{type:"",displacement:"",power:"",torque:"",cylinders:0,fuelSystem:"",transmission:""},dimensions:{length:"",width:"",height:"",wheelbase:"",groundClearance:"",cargoVolume:""},performance:{acceleration:"",topSpeed:"",brakingDistance:"",fuelConsumption:"",range:""},tires:{front:"",rear:"",spare:"",pressure:{front:"",rear:"",spare:""}},fluids:{engineOil:{type:"",capacity:"",changeInterval:""},coolant:{type:"",capacity:"",changeInterval:""},transmission:{type:"",capacity:"",changeInterval:""},brake:{type:"",capacity:"",changeInterval:""}},electrical:{battery:{type:"",voltage:"",capacity:"",location:""},alternator:{output:"",type:""}}})},children:"Ajouter des spécifications"})]})},jne=({vehicle:t})=>{const[e,n]=h.useState(t.insuranceInfo||{policyNumber:"",provider:"",type:"",startDate:"",endDate:"",coverage:"",deductible:"",premium:"",status:"active",documents:[]}),[r,i]=h.useState(!1),[o,s]=h.useState(null),[a,l]=h.useState(!1);h.useEffect(()=>{t.insuranceInfo&&n(t.insuranceInfo)},[t.insuranceInfo]);const c=(p,v)=>{n(y=>({...y,[p]:v}))},u=async()=>{try{i(!0),s(null),await So.updateVehicle(t.id,{insuranceInfo:e}),l(!0),setTimeout(()=>l(!1),3e3)}catch(p){s(p.message||"Erreur lors de la sauvegarde des informations d'assurance"),console.error("Erreur:",p)}finally{i(!1)}},d=p=>{switch(p){case"active":return"success";case"expired":return"error";case"pending":return"warning";default:return"default"}},f=p=>{switch(p){case"active":return g.jsx(op,{});case"expired":return g.jsx(lf,{});case"pending":return g.jsx(lf,{});default:return null}};return g.jsxs(gn,{children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[g.jsx(Ge,{variant:"h6",children:"Informations d'assurance"}),g.jsx(Mn,{variant:"contained",startIcon:g.jsx(AD,{}),onClick:u,disabled:r,children:r?g.jsx(na,{size:24}):"Enregistrer"})]}),o&&g.jsx(Mr,{severity:"error",sx:{mb:2},children:o}),a&&g.jsx(Mr,{severity:"success",sx:{mb:2},children:"Informations d'assurance enregistrées avec succès"}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsxs(Id,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[g.jsx(yj,{}),g.jsx(Ge,{variant:"h6",children:"Détails de la police"})]}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Numéro de police",value:e.policyNumber,onChange:p=>c("policyNumber",p.target.value)})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Assureur",value:e.provider,onChange:p=>c("provider",p.target.value)})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Type d'assurance",value:e.type,onChange:p=>c("type",p.target.value)})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Statut",value:e.status,onChange:p=>c("status",p.target.value),InputProps:{startAdornment:f(e.status),endAdornment:g.jsx(ro,{label:e.status,color:d(e.status),size:"small"})}})})]})]})}),g.jsx(ct,{item:!0,xs:12,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsxs(Id,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[g.jsx(Qqe,{}),g.jsx(Ge,{variant:"h6",children:"Dates de couverture"})]}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Date de début",type:"date",value:e.startDate,onChange:p=>c("startDate",p.target.value),InputLabelProps:{shrink:!0}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Date de fin",type:"date",value:e.endDate,onChange:p=>c("endDate",p.target.value),InputLabelProps:{shrink:!0}})})]})]})}),g.jsx(ct,{item:!0,xs:12,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsxs(Id,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[g.jsx(Xqe,{}),g.jsx(Ge,{variant:"h6",children:"Détails financiers"})]}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Couverture",value:e.coverage,onChange:p=>c("coverage",p.target.value),InputProps:{endAdornment:g.jsx(ro,{label:"€",size:"small"})}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Franchise",value:e.deductible,onChange:p=>c("deductible",p.target.value),InputProps:{endAdornment:g.jsx(ro,{label:"€",size:"small"})}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Prime",value:e.premium,onChange:p=>c("premium",p.target.value),InputProps:{endAdornment:g.jsx(ro,{label:"€",size:"small"})}})})]})]})}),g.jsx(ct,{item:!0,xs:12,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsxs(Id,{direction:"row",spacing:1,alignItems:"center",sx:{mb:2},children:[g.jsx(Sa,{}),g.jsx(Ge,{variant:"h6",children:"Documents d'assurance"})]}),e.documents&&e.documents.length>0?g.jsx(ct,{container:!0,spacing:2,children:e.documents.map((p,v)=>g.jsx(ct,{item:!0,xs:12,children:g.jsxs(gn,{sx:{display:"flex",alignItems:"center",gap:1},children:[g.jsx(Sa,{}),g.jsx(Ge,{children:p.title}),g.jsx(ro,{label:p.status,color:p.status==="valid"?"success":"error",size:"small"})]})},v))}):g.jsx(Ge,{color:"text.secondary",children:"Aucun document d'assurance disponible"})]})})]})]})},vm=t=>{const{children:e,value:n,index:r,...i}=t;return g.jsx("div",{role:"tabpanel",hidden:n!==r,id:`vehicle-tabpanel-${r}`,"aria-labelledby":`vehicle-tab-${r}`,...i,style:{padding:"20px 0"},children:n===r&&g.jsx(gn,{children:e})})},jYe=({vehicle:t,onClose:e,onEdit:n})=>{var d;const[r,i]=h.useState(0),o=(f,p)=>{i(p)},s=f=>{switch(f){case"active":return"success";case"maintenance":return"warning";case"inactive":return"error";default:return"default"}},a=f=>{switch(f){case"active":return g.jsx(op,{});case"maintenance":return g.jsx(Rx,{});case"inactive":return g.jsx(lf,{});default:return g.jsx(op,{})}},l=f=>{switch(f){case"car":return g.jsx(od,{});case"van":return g.jsx(od,{});case"truck":return g.jsx(od,{});case"motorcycle":return g.jsx(od,{});default:return g.jsx(od,{})}},c=t.maintenanceHistory&&t.maintenanceHistory.length>0?t.maintenanceHistory.sort((f,p)=>new Date(p.date).getTime()-new Date(f.date).getTime())[0].date:null,u=t.maintenanceHistory&&t.maintenanceHistory.length>0?(d=t.maintenanceHistory.filter(f=>f.nextDueDate).sort((f,p)=>new Date(f.nextDueDate||"").getTime()-new Date(p.nextDueDate||"").getTime())[0])==null?void 0:d.nextDueDate:null;return g.jsxs(tr,{sx:{p:3,height:"100%",overflow:"auto"},children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[g.jsxs(gn,{sx:{display:"flex",alignItems:"center"},children:[g.jsx(M8e,{sx:{mr:2,bgcolor:"primary.main",width:60,height:60},children:l(t.type)}),g.jsxs(gn,{children:[g.jsxs(Ge,{variant:"h4",children:[t.brand," ",t.model]}),g.jsx(Ge,{variant:"subtitle1",color:"text.secondary",children:t.registrationNumber}),g.jsxs(gn,{sx:{mt:1},children:[g.jsx(ro,{icon:a(t.status),label:t.status,color:s(t.status),size:"small",sx:{mr:1}}),g.jsx(ro,{label:t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"-",variant:"outlined",size:"small",sx:{mr:1}}),g.jsx(ro,{label:t.fuelType?t.fuelType.charAt(0).toUpperCase()+t.fuelType.slice(1):"-",variant:"outlined",size:"small"})]})]})]}),g.jsxs(gn,{children:[g.jsx(Mn,{variant:"outlined",onClick:n,sx:{mr:1},children:"Modifier"}),g.jsx(Mn,{variant:"outlined",color:"inherit",onClick:e,children:"Fermer"})]})]}),g.jsx(Tx,{sx:{mb:3}}),g.jsxs(ct,{container:!0,spacing:2,sx:{mb:3},children:[g.jsxs(ct,{item:!0,xs:12,sm:6,md:3,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Kilométrage"}),g.jsxs(Ge,{variant:"body1",fontWeight:"bold",children:[t.mileage," km"]})]}),g.jsxs(ct,{item:!0,xs:12,sm:6,md:3,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Date d'achat"}),g.jsx(Ge,{variant:"body1",fontWeight:"bold",children:new Date(t.purchaseDate).toLocaleDateString()})]}),g.jsxs(ct,{item:!0,xs:12,sm:6,md:3,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Dernière maintenance"}),g.jsx(Ge,{variant:"body1",fontWeight:"bold",children:c?new Date(c).toLocaleDateString():"Non disponible"})]}),g.jsxs(ct,{item:!0,xs:12,sm:6,md:3,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Prochaine maintenance"}),g.jsx(Ge,{variant:"body1",fontWeight:"bold",children:u?new Date(u).toLocaleDateString():"Non planifiée"})]})]}),g.jsxs(gn,{sx:{width:"100%"},children:[g.jsx(gn,{sx:{borderBottom:1,borderColor:"divider"},children:g.jsxs(E2,{value:r,onChange:o,variant:"scrollable",scrollButtons:"auto",children:[g.jsx(di,{icon:g.jsx(od,{}),label:"Général",iconPosition:"start"}),g.jsx(di,{icon:g.jsx(Sa,{}),label:"Documents",iconPosition:"start"}),g.jsx(di,{icon:g.jsx(Yqe,{}),label:"Inspections",iconPosition:"start"}),g.jsx(di,{icon:g.jsx(Rx,{}),label:"Maintenance",iconPosition:"start"}),g.jsx(di,{icon:g.jsx(yj,{}),label:"Assurance",iconPosition:"start"}),g.jsx(di,{icon:g.jsx(bj,{}),label:"Spécifications",iconPosition:"start"})]})}),g.jsx(vm,{value:r,index:0,children:g.jsxs(gn,{sx:{p:2},children:[g.jsx(Ge,{variant:"h6",gutterBottom:!0,children:"Informations générales"}),g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"Détails du véhicule"}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Marque"}),g.jsx(Ge,{variant:"body1",children:t.brand})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Modèle"}),g.jsx(Ge,{variant:"body1",children:t.model})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Immatriculation"}),g.jsx(Ge,{variant:"body1",children:t.registrationNumber})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Type"}),g.jsx(Ge,{variant:"body1",children:t.type?t.type.charAt(0).toUpperCase()+t.type.slice(1):"-"})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Carburant"}),g.jsx(Ge,{variant:"body1",children:t.fuelType?t.fuelType.charAt(0).toUpperCase()+t.fuelType.slice(1):"-"})]})]})]})}),g.jsx(ct,{item:!0,xs:12,md:6,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"État et maintenance"}),g.jsxs(ct,{container:!0,spacing:2,children:[g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Statut"}),g.jsx(gn,{children:g.jsx(ro,{icon:a(t.status),label:t.status,color:s(t.status),size:"small"})})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Kilométrage"}),g.jsxs(Ge,{variant:"body1",children:[t.mileage," km"]})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Date d'achat"}),g.jsx(Ge,{variant:"body1",children:new Date(t.purchaseDate).toLocaleDateString()})]}),g.jsxs(ct,{item:!0,xs:6,children:[g.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Dernière maintenance"}),g.jsx(Ge,{variant:"body1",children:c?new Date(c).toLocaleDateString():"Non disponible"})]})]})]})})]})]})}),g.jsx(vm,{value:r,index:1,children:g.jsx(Ane,{vehicle:t})}),g.jsx(vm,{value:r,index:2,children:g.jsx($ne,{vehicle:t})}),g.jsx(vm,{value:r,index:3,children:g.jsx(Nne,{vehicle:t})}),g.jsx(vm,{value:r,index:4,children:g.jsx(jne,{vehicle:t})}),g.jsx(vm,{value:r,index:5,children:g.jsx(Lne,{vehicle:t})})]})]})};function ym(t){const{children:e,value:n,index:r,...i}=t;return g.jsx("div",{role:"tabpanel",hidden:n!==r,id:`vehicle-tabpanel-${r}`,"aria-labelledby":`vehicle-tab-${r}`,...i,children:n===r&&g.jsx(gn,{sx:{p:3},children:e})})}const zYe=()=>{const[t,e]=h.useState([]),[n,r]=h.useState(null),[i,o]=h.useState(0),[s,a]=h.useState(!1),[l,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState({brand:"",model:"",registrationNumber:"",type:"car",status:"active",purchaseDate:"",mileage:"",fuelType:"gasoline",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:null,technicalSpecifications:null});h.useEffect(()=>{v(),console.log("Composant monté - chargement des véhicules...")},[]);const v=async()=>{try{a(!0),c(null);const S=await So.getVehicles();e(S)}catch(S){c(S.message||"Erreur lors du chargement des véhicules"),console.error("Erreur:",S)}finally{a(!1)}},y=(S,P)=>{o(P)},b=S=>{r(S)},x=()=>{d(!0)},_=()=>{d(!1),p({brand:"",model:"",registrationNumber:"",type:"car",status:"active",purchaseDate:"",mileage:"",fuelType:"gasoline",documents:[],inspections:[],maintenanceHistory:[],insuranceInfo:null,technicalSpecifications:null})},w=(S,P)=>{p(R=>({...R,[S]:P}))},E=async()=>{try{if(a(!0),c(null),f.id){if(!await So.getVehicleById(f.id))throw new Error(`Le véhicule avec l'ID ${f.id} n'existe pas.`);await So.updateVehicle(f.id,f)}else await So.createVehicle(f);await v(),_()}catch(S){c(S.message||"Erreur lors de la sauvegarde du véhicule"),console.error("Erreur:",S)}finally{a(!1)}},T=async S=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer ce véhicule ?"))try{a(!0),c(null),await So.deleteVehicle(S),await v()}catch(P){c(P.message||"Erreur lors de la suppression du véhicule"),console.error("Erreur:",P)}finally{a(!1)}},I=S=>{if(!S.id){c("Impossible de modifier ce véhicule : ID manquant");return}const P=JSON.parse(JSON.stringify(S));p(P),d(!0)};return g.jsxs(gn,{children:[g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[g.jsx(Ge,{variant:"h6",children:"Gestion des véhicules"}),g.jsx(Mn,{variant:"contained",startIcon:g.jsx(dv,{}),onClick:()=>x(),children:"Ajouter un véhicule"})]}),l&&g.jsx(Mr,{severity:"error",sx:{mb:2},children:l}),s?g.jsx(gn,{sx:{display:"flex",justifyContent:"center",p:3},children:g.jsx(na,{})}):g.jsxs(ct,{container:!0,spacing:3,children:[g.jsx(ct,{item:!0,xs:12,md:3,children:g.jsxs(tr,{variant:"outlined",sx:{p:2},children:[g.jsx(Ge,{variant:"h6",sx:{mb:2},children:"Liste des véhicules"}),g.jsx(gn,{sx:{display:"flex",flexDirection:"column",gap:1},children:t.map(S=>g.jsx(tr,{variant:(n==null?void 0:n.id)===S.id?"elevation":"outlined",sx:{p:2,cursor:"pointer",bgcolor:(n==null?void 0:n.id)===S.id?"primary.light":"background.paper","&:hover":{bgcolor:"action.hover"}},onClick:()=>b(S),children:g.jsxs(gn,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs(gn,{children:[g.jsxs(Ge,{variant:"subtitle1",children:[S.brand," ",S.model]}),g.jsx(Ge,{variant:"body2",color:"text.secondary",children:S.registrationNumber})]}),g.jsxs(gn,{children:[g.jsx(ob,{title:"Modifier",children:g.jsx(Ao,{size:"small",onClick:P=>{P.stopPropagation(),I(S)},children:g.jsx(L_,{})})}),g.jsx(ob,{title:"Supprimer",children:g.jsx(Ao,{size:"small",onClick:P=>{P.stopPropagation(),T(S.id)},children:g.jsx(fv,{})})})]})]})},S.id))})]})}),g.jsx(ct,{item:!0,xs:12,md:9,children:n?g.jsxs(tr,{variant:"outlined",children:[g.jsx(gn,{sx:{borderBottom:1,borderColor:"divider"},children:g.jsxs(E2,{value:i,onChange:y,"aria-label":"vehicle tabs",children:[g.jsx(di,{icon:g.jsx(od,{}),label:"Détails"}),g.jsx(di,{icon:g.jsx(Sa,{}),label:"Documents"}),g.jsx(di,{icon:g.jsx(Rx,{}),label:"Inspections"}),g.jsx(di,{icon:g.jsx(rGe,{}),label:"Maintenance"}),g.jsx(di,{icon:g.jsx(yj,{}),label:"Assurance"}),g.jsx(di,{icon:g.jsx(bj,{}),label:"Spécifications"})]})}),g.jsx(ym,{value:i,index:0,children:g.jsx(jYe,{vehicle:n,onClose:()=>o(0),onEdit:()=>I(n)})}),g.jsx(ym,{value:i,index:1,children:g.jsx(Ane,{vehicle:n})}),g.jsx(ym,{value:i,index:2,children:g.jsx($ne,{vehicle:n})}),g.jsx(ym,{value:i,index:3,children:g.jsx(Nne,{vehicle:n})}),g.jsx(ym,{value:i,index:4,children:g.jsx(jne,{vehicle:n})}),g.jsx(ym,{value:i,index:5,children:g.jsx(Lne,{vehicle:n})})]}):g.jsx(tr,{variant:"outlined",sx:{p:3,textAlign:"center"},children:g.jsx(Ge,{color:"text.secondary",children:"Sélectionnez un véhicule pour voir ses détails"})})})]}),g.jsxs(hc,{open:u,onClose:_,maxWidth:"sm",fullWidth:!0,children:[g.jsx(gc,{children:f.id?"Modifier le véhicule":"Nouveau véhicule"}),g.jsx(mc,{children:g.jsxs(ct,{container:!0,spacing:2,sx:{mt:1},children:[g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Marque",value:f.brand,onChange:S=>w("brand",S.target.value)})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Modèle",value:f.model,onChange:S=>w("model",S.target.value)})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Numéro d'immatriculation",value:f.registrationNumber,onChange:S=>w("registrationNumber",S.target.value)})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsxs(Kn,{fullWidth:!0,select:!0,label:"Type",value:f.type||"car",onChange:S=>w("type",S.target.value),children:[g.jsx(ri,{value:"car",children:"Voiture"}),g.jsx(ri,{value:"van",children:"Fourgon"}),g.jsx(ri,{value:"truck",children:"Camion"}),g.jsx(ri,{value:"motorcycle",children:"Moto"})]})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsxs(Kn,{fullWidth:!0,select:!0,label:"Statut",value:f.status||"active",onChange:S=>w("status",S.target.value),children:[g.jsx(ri,{value:"active",children:"Actif"}),g.jsx(ri,{value:"maintenance",children:"En maintenance"}),g.jsx(ri,{value:"inactive",children:"Inactif"})]})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Date d'achat",type:"date",value:f.purchaseDate,onChange:S=>w("purchaseDate",S.target.value),InputLabelProps:{shrink:!0}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsx(Kn,{fullWidth:!0,label:"Kilométrage",type:"number",value:f.mileage,onChange:S=>w("mileage",S.target.value),InputProps:{endAdornment:"km"}})}),g.jsx(ct,{item:!0,xs:12,sm:6,children:g.jsxs(Kn,{fullWidth:!0,select:!0,label:"Type de carburant",value:f.fuelType||"gasoline",onChange:S=>w("fuelType",S.target.value),children:[g.jsx(ri,{value:"gasoline",children:"Essence"}),g.jsx(ri,{value:"diesel",children:"Diesel"}),g.jsx(ri,{value:"electric",children:"Électrique"}),g.jsx(ri,{value:"hybrid",children:"Hybride"})]})})]})}),g.jsxs(pc,{children:[g.jsx(Mn,{onClick:_,children:"Annuler"}),g.jsx(Mn,{variant:"contained",onClick:E,disabled:s,children:s?g.jsx(na,{size:24}):"Enregistrer"})]})]})]})},S9=()=>g.jsx(TE,{maxWidth:"xl",children:g.jsxs(gn,{sx:{py:4},children:[g.jsx(Ge,{variant:"h4",component:"h1",gutterBottom:!0,children:"Gestion de la flotte"}),g.jsx(zYe,{})]})}),FYe=()=>{const{id:t}=zse(),e=mf(),[n,r]=h.useState(null),[i,o]=h.useState(!0),[s,a]=h.useState(null);return h.useEffect(()=>{(async()=>{var c,u;if(t)try{const d=await Do(Sn(dt,"tournees",t));if(d.exists()){const f=d.data();r({id:d.id,nom:f.nom||"",description:f.description||"",vehicule:f.vehicule||"",chauffeur:f.chauffeur||"",statut:f.statut||"inconnu",dateCreation:((c=f.dateCreation)==null?void 0:c.toDate())||new Date,dateModification:((u=f.dateModification)==null?void 0:u.toDate())||new Date})}else a("Tournée non trouvée")}catch(d){console.error("Erreur lors de la récupération de la tournée:",d),a("Une erreur est survenue lors de la récupération de la tournée")}finally{o(!1)}})()},[t]),i?g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Chargement..."})]}):s?g.jsxs("div",{className:"error-container",children:[g.jsx("p",{className:"error-message",children:s}),g.jsx("button",{onClick:()=>e("/tournees"),className:"back-button",children:"Retour aux tournées"})]}):n?g.jsxs("div",{className:"tournee-details-container",children:[g.jsxs("div",{className:"tournee-details-header",children:[g.jsx("h1",{children:"Détails de la Tournée"}),g.jsx("button",{onClick:()=>e("/tournees"),className:"back-button",children:"Retour aux tournées"})]}),g.jsxs("div",{className:"tournee-details-content",children:[g.jsxs("div",{className:"detail-group",children:[g.jsx("label",{children:"Nom"}),g.jsx("p",{children:n.nom})]}),g.jsxs("div",{className:"detail-group",children:[g.jsx("label",{children:"Description"}),g.jsx("p",{children:n.description||"-"})]}),g.jsxs("div",{className:"detail-group",children:[g.jsx("label",{children:"Véhicule"}),g.jsx("p",{children:n.vehicule||"-"})]}),g.jsxs("div",{className:"detail-group",children:[g.jsx("label",{children:"Chauffeur"}),g.jsx("p",{children:n.chauffeur||"-"})]}),g.jsxs("div",{className:"detail-group",children:[g.jsx("label",{children:"Statut"}),g.jsx("span",{className:`status-badge ${n.statut.toLowerCase()}`,children:n.statut})]}),g.jsxs("div",{className:"detail-group",children:[g.jsx("label",{children:"Date de création"}),g.jsx("p",{children:n.dateCreation.toLocaleDateString()})]}),g.jsxs("div",{className:"detail-group",children:[g.jsx("label",{children:"Dernière modification"}),g.jsx("p",{children:n.dateModification.toLocaleDateString()})]})]})]}):null},BYe=()=>{const{currentUser:t,loading:e,error:n,logout:r}=bf(),[i,o]=h.useState([]),[s,a]=h.useState(!0),[l,c]=h.useState(!1),u=h.useCallback(async()=>{a(!0);try{const y=await Cl.getInstance().getRoles();console.log("App - Rôles chargés depuis Firestore:",y),t!=null&&t.role&&(console.log("App - Utilisateur connecté avec le rôle:",t.role),console.log("App - Accès aux pages:"),Object.values(ti).forEach(b=>{const x=jl(t.role,b);console.log(`- ${b}: ${x?"OUI":"NON"}`)})),o(y)}catch(v){console.error("Erreur lors du chargement des rôles:",v),c(!0)}finally{a(!1)}},[t]);if(h.useEffect(()=>{u();const v=Cl.getInstance(),y=()=>{console.log("App - Changement de rôles détecté, rechargement..."),u()};return v.addRoleChangeListener(y),()=>{v.removeRoleChangeListener(y)}},[u]),e||s)return g.jsx(zne,{});if(n)return g.jsxs("div",{className:"error-container",style:{padding:"20px",margin:"20px",backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"4px",color:"#d32f2f"},children:[g.jsx("h2",{children:"Erreur d'authentification"}),g.jsx("p",{children:n}),g.jsx("p",{children:"Veuillez rafraîchir la page ou contacter l'administrateur."}),g.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",backgroundColor:"#d32f2f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Rafraîchir la page"})]});const d=!!t,f=(t==null?void 0:t.role)||"Utilisateur",p=HYe(d,f,t,r,i);return g.jsx(SG,{children:g.jsx(age,{children:g.jsx(OYe,{maxSnack:3,children:g.jsx(gae,{router:p,future:{v7_startTransition:!0}})})})})},zne=()=>g.jsxs("div",{className:"loading-container",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"Chargement de l'application..."})]}),VYe=({user:t,logout:e})=>{const n=mf();return h.useEffect(()=>{t||(console.log("AppLayout: Utilisateur non défini, redirection..."),n("/"))},[t,n]),t?g.jsxs("div",{className:"app",children:[g.jsx(gGe,{user:t,onLogout:e}),g.jsx("main",{children:g.jsx(Jse,{})})]}):g.jsx(zne,{})},HYe=(t,e,n,r,i)=>{const o=[{path:"/",element:g.jsx(VYe,{user:n,logout:r}),children:[{path:"",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["dashboard.view"],pageName:ti.DASHBOARD,roles:i,children:g.jsx(Xbe,{})})},{path:"passages",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","default"],requiredPermissions:["passages.view"],pageName:ti.PASSAGES,roles:i,children:g.jsx(Y8,{})})},{path:"passages/:id",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","default"],requiredPermissions:["passages.view"],pageName:ti.PASSAGE_DETAILS,roles:i,children:g.jsx(Y8,{})})},{path:"sites",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["sites.view"],pageName:ti.SITES,roles:i,children:g.jsx(fqe,{})})},{path:"tournees",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["tournees.view"],pageName:ti.TOURNEES,roles:i,children:g.jsx(hqe,{})})},{path:"tournees/:id",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","default"],requiredPermissions:["tournees.view"],pageName:ti.TOURNEE_DETAILS,roles:i,children:g.jsx(FYe,{})})},{path:"vehicules",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["vehicules.view"],pageName:ti.VEHICULES,roles:i,children:g.jsx(S9,{})})},{path:"vehicles",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","default"],requiredPermissions:["vehicules.view"],pageName:ti.VEHICULES,roles:i,children:g.jsx(S9,{})})},{path:"admin/users",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur","Coursier","Manager","default"],requiredPermissions:["users.view"],pageName:ti.USER_MANAGEMENT,roles:i,children:g.jsx(gqe,{})})},{path:"admin",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur"],requiredPermissions:["dashboard.view"],pageName:ti.ADMINISTRATION,roles:i,children:g.jsx($Ye,{})})},{path:"init-passages",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur"],requiredPermissions:["init-passages.view"],pageName:ti.PASSAGES,roles:i,children:g.jsx(bqe,{})})},{path:"map",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur","Utilisateur"],requiredPermissions:["carte.view"],pageName:ti.CARTE,roles:i,children:g.jsx(Uqe,{})})},{path:"marker-preferences",element:g.jsx(Ss,{userRole:e,allowedRoles:["Administrateur"],requiredPermissions:["marqueurs.edit"],pageName:ti.ADMINISTRATION,roles:i,children:g.jsx(i0,{to:"/admin?tab=5",replace:!0})})},{path:"*",element:e==="Coursier"?g.jsx(i0,{to:"/passages",replace:!0}):g.jsx(i0,{to:"/",replace:!0})}]}];return aae(t?o:[{path:"/",element:g.jsx(EP,{})},{path:"/login",element:g.jsx(EP,{})},{path:"/reset-password",element:g.jsx(EP,{})},{path:"*",element:g.jsx(i0,{to:"/",replace:!0})}])},WYe=t=>{console.error("Erreur globale non gérée:",t.error)};window.addEventListener("error",WYe);window.addEventListener("unhandledrejection",t=>{console.error("Promesse rejetée non gérée:",t.reason)});const UYe=sk.createRoot(document.getElementById("root"));UYe.render(g.jsx(ae.StrictMode,{children:g.jsx(SG,{children:g.jsx(BYe,{})})}));
//# sourceMappingURL=index-BqajYDcu.js.map
